[
  {
    "id" : "3f0d31cd-b63c-494d-83cd-4e4cbc63d113",
    "prId" : 10681,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2c8495d5-dbaa-46bd-a9f9-7ad7ed4a0730",
        "parentId" : null,
        "authorId" : "994ce329-a5cb-4357-afff-0652d8c4f62b",
        "body" : "Can you export these functions in the namespace directly:\n\n```\nexport function getJsonFromDiff( ... )\n```\n\nThen export the namespace from:\n\n```\nexport = Diff2Html\n```\n\nthis way both the module based usage and the global usage work as expected.\n",
        "createdAt" : "2016-08-18T19:59:41Z",
        "updatedAt" : "2016-08-18T19:59:41Z",
        "lastEditedBy" : "994ce329-a5cb-4357-afff-0652d8c4f62b",
        "tags" : [
        ]
      },
      {
        "id" : "61175a89-4177-49a9-a114-0d04def57c6f",
        "parentId" : "2c8495d5-dbaa-46bd-a9f9-7ad7ed4a0730",
        "authorId" : "410c7db7-417e-49af-9ddd-41547b54c36d",
        "body" : "@paulvanbrenk The module is exported in a weird way. If you look at here https://github.com/rtfpessoa/diff2html/blob/master/src/diff2html.js#L104 \n\nAre you sure I should really remove that?\n\nFYI I am completely new to Typescript.\n",
        "createdAt" : "2016-08-18T22:36:45Z",
        "updatedAt" : "2016-08-18T22:37:14Z",
        "lastEditedBy" : "410c7db7-417e-49af-9ddd-41547b54c36d",
        "tags" : [
        ]
      },
      {
        "id" : "a5e2e8e8-87c6-427a-a56a-c5cb67a1f6a8",
        "parentId" : "2c8495d5-dbaa-46bd-a9f9-7ad7ed4a0730",
        "authorId" : "9ff3a857-4ac9-4a7e-b447-d0a2f6573899",
        "body" : "The reason @paulvanbrenk and I are suggesting this is that if you _don't_ do it that way, then your consumers won't be able to reference the types you're exporting (like `Diff2Html.Options`).\n",
        "createdAt" : "2016-08-27T17:08:47Z",
        "updatedAt" : "2016-08-27T17:08:47Z",
        "lastEditedBy" : "9ff3a857-4ac9-4a7e-b447-d0a2f6573899",
        "tags" : [
        ]
      },
      {
        "id" : "d3a21b3c-a144-4e35-ad77-2088711dbce3",
        "parentId" : "2c8495d5-dbaa-46bd-a9f9-7ad7ed4a0730",
        "authorId" : "9ff3a857-4ac9-4a7e-b447-d0a2f6573899",
        "body" : "Basically `export =` captures the namespace, value, and type meanings at any given location. You want to make some of those things you've defined accessible to others, so it'd be something like\n\n``` ts\nnamespace Diff2Html {\n    export interface Options { /*...*/ }\n    // ...\n    export functon getPrettyHtml(input: any, configuration?: Options): string;\n}\n\ndeclare module \"diff2html\" {\n    export = Diff2Html;\n}\n```\n\nNow your consumers can actually write\n\n``` ts\nimport d2h = require(\"diff2html\");\n\nlet opts: d2h.Options = {\n    // ...\n}\n```\n",
        "createdAt" : "2016-08-27T17:11:35Z",
        "updatedAt" : "2016-08-27T17:11:49Z",
        "lastEditedBy" : "9ff3a857-4ac9-4a7e-b447-d0a2f6573899",
        "tags" : [
        ]
      },
      {
        "id" : "b37d0bb0-efb0-461c-93c8-7b3d2462c1c2",
        "parentId" : "2c8495d5-dbaa-46bd-a9f9-7ad7ed4a0730",
        "authorId" : "410c7db7-417e-49af-9ddd-41547b54c36d",
        "body" : "@DanielRosenwasser I do not think I understand you.\n\nI know what you want. But it does not seem that what you are suggesting me to do will compile to valid JS code that will work with the module.\n\ncurrently the code compiles to:\n\n``` js\nvar Diff2Html = require(\"diff2html\")\nvar d2h = Diff2Html.Diff2Html\n```\n\nand in d2h will the the public api of my library.\n\nIf in the typescript definition I remove that when the code compiles it will not run since if I do just:\n\n``` js\nvar d2h = require(\"diff2html\")\n```\n\nd2h will not have the methods. Do you understand my question? Or am I being somehow confusing?\n",
        "createdAt" : "2016-08-27T17:38:43Z",
        "updatedAt" : "2016-08-27T17:38:43Z",
        "lastEditedBy" : "410c7db7-417e-49af-9ddd-41547b54c36d",
        "tags" : [
        ]
      },
      {
        "id" : "68702cd7-a7b5-4df2-b3fc-153d74361c88",
        "parentId" : "2c8495d5-dbaa-46bd-a9f9-7ad7ed4a0730",
        "authorId" : "410c7db7-417e-49af-9ddd-41547b54c36d",
        "body" : "@DanielRosenwasser please confirm here: https://github.com/rtfpessoa/diff2html/blob/master/src/diff2html.js#L104\nand here: https://github.com/rtfpessoa/diff2html#node-module\n\nfyi, I have no problem in changing I just think it will not work as expected. But I am new to TypeScript.\n",
        "createdAt" : "2016-08-27T17:43:42Z",
        "updatedAt" : "2016-08-27T17:43:55Z",
        "lastEditedBy" : "410c7db7-417e-49af-9ddd-41547b54c36d",
        "tags" : [
        ]
      }
    ],
    "commit" : "064d1cc06bacecb210b8d75e2b563aaf298ad908",
    "line" : 58,
    "diffHunk" : "@@ -1,1 +56,60 @@    \n    export interface Diff2Html {\n        getJsonFromDiff(input: string, configuration?: Options): Result;\n        getPrettyHtml(input: any, configuration?: Options): string;\n    }"
  }
]