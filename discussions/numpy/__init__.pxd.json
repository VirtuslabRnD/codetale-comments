[
  {
    "id" : "b76e4421-b667-465b-b2d7-14aaeebef65d",
    "prId" : 12284,
    "prUrl" : "https://github.com/numpy/numpy/pull/12284#pullrequestreview-406342621",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "861f7755-e131-44e6-9b66-86e7c348320d",
        "parentId" : null,
        "authorId" : "9cd2c3d0-7e2d-4a6e-ad88-a32a5f003e8e",
        "body" : "NumPy can just leave these out entirely. They were added in the time when Python 2.6/3.0 were still new and the average NumPy installation on user side didn't support the PEP 3118 buffer protocol yet. The times have changed a bit since then. Even Cython can probably drop these by now. :)",
        "createdAt" : "2020-05-05T20:13:59Z",
        "updatedAt" : "2020-05-05T20:14:00Z",
        "lastEditedBy" : "9cd2c3d0-7e2d-4a6e-ad88-a32a5f003e8e",
        "tags" : [
        ]
      },
      {
        "id" : "6cdec10d-9b3c-4afa-93f3-d9c3b246ad82",
        "parentId" : "861f7755-e131-44e6-9b66-86e7c348320d",
        "authorId" : "919d650d-5f9e-4069-90f7-968e2cf7bb16",
        "body" : "Cython first. I think there are tests to verify that the buffer protocol works for ndarray in cython.",
        "createdAt" : "2020-05-05T23:17:51Z",
        "updatedAt" : "2020-05-05T23:17:51Z",
        "lastEditedBy" : "919d650d-5f9e-4069-90f7-968e2cf7bb16",
        "tags" : [
        ]
      },
      {
        "id" : "e75bdc75-e6ce-4dc9-ab9e-0c013e0a0cbd",
        "parentId" : "861f7755-e131-44e6-9b66-86e7c348320d",
        "authorId" : "9cd2c3d0-7e2d-4a6e-ad88-a32a5f003e8e",
        "body" : "The buffer protocol _does_ work for ndarrays, because NumPy supports it natively. The implementation through `PyObject_GetBuffer()` shows this clearly (Cython still uses a real one). In fact, since `__releasebuffer__` is empty, releasing buffers will not even work here.",
        "createdAt" : "2020-05-06T03:42:52Z",
        "updatedAt" : "2020-05-06T03:42:52Z",
        "lastEditedBy" : "9cd2c3d0-7e2d-4a6e-ad88-a32a5f003e8e",
        "tags" : [
        ]
      },
      {
        "id" : "2dd2e757-c80f-4ded-970c-b5eea95a43ce",
        "parentId" : "861f7755-e131-44e6-9b66-86e7c348320d",
        "authorId" : "9cd2c3d0-7e2d-4a6e-ad88-a32a5f003e8e",
        "body" : "I removed both methods in https://github.com/cython/cython/commit/b7949976596d2a08e98990ac88b034410c62e39b",
        "createdAt" : "2020-05-06T06:08:16Z",
        "updatedAt" : "2020-05-06T06:08:16Z",
        "lastEditedBy" : "9cd2c3d0-7e2d-4a6e-ad88-a32a5f003e8e",
        "tags" : [
        ]
      },
      {
        "id" : "bd20f2b4-7e4e-4677-be11-a38359012845",
        "parentId" : "861f7755-e131-44e6-9b66-86e7c348320d",
        "authorId" : "919d650d-5f9e-4069-90f7-968e2cf7bb16",
        "body" : "removing here too",
        "createdAt" : "2020-05-06T06:53:36Z",
        "updatedAt" : "2020-05-06T06:53:36Z",
        "lastEditedBy" : "919d650d-5f9e-4069-90f7-968e2cf7bb16",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b250b0d619c5e99a6435acb73817ec5cc9ab344",
    "line" : 270,
    "diffHunk" : "@@ -1,1 +268,272 @@            # the function is NULL in numpy, we rely on refcounting to release\n            # info when self is collected\n            pass\n\n"
  },
  {
    "id" : "a624dee4-be33-4ff9-af9a-baacd388c96d",
    "prId" : 12284,
    "prUrl" : "https://github.com/numpy/numpy/pull/12284#pullrequestreview-410413708",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae41e879-7611-4ce7-a174-ea18902df01f",
        "parentId" : null,
        "authorId" : "89bea935-381e-47a8-9a9c-019191e04392",
        "body" : "@seberg I think this is inaccurate xref https://stackoverflow.com/questions/28184211/calling-pyarray-searchsorted-from-cython-3-or-4-arguments",
        "createdAt" : "2020-05-12T20:31:14Z",
        "updatedAt" : "2020-05-12T20:31:14Z",
        "lastEditedBy" : "89bea935-381e-47a8-9a9c-019191e04392",
        "tags" : [
        ]
      },
      {
        "id" : "aca27d13-6798-4d42-b5be-c69e43051eeb",
        "parentId" : "ae41e879-7611-4ce7-a174-ea18902df01f",
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "Hmm, looks like you are right. Since 2012 it has been\r\n```\r\nPyArray_SearchSorted(ndarray, object,  NPY_SEARCHSIDE, object)\r\n```",
        "createdAt" : "2020-05-12T20:46:40Z",
        "updatedAt" : "2020-05-12T20:46:40Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      },
      {
        "id" : "44374b0f-96db-46c5-b8f2-e4a943e4ad30",
        "parentId" : "ae41e879-7611-4ce7-a174-ea18902df01f",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "Was it safe to add an argument when its NULL?! Or was this just always wrong?",
        "createdAt" : "2020-05-12T20:53:35Z",
        "updatedAt" : "2020-05-12T20:53:35Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b250b0d619c5e99a6435acb73817ec5cc9ab344",
    "line" : 617,
    "diffHunk" : "@@ -1,1 +615,619 @@    int PyArray_Sort (ndarray, int, NPY_SORTKIND)\n    object PyArray_ArgSort (ndarray, int, NPY_SORTKIND)\n    object PyArray_SearchSorted (ndarray, object, NPY_SEARCHSIDE)\n    object PyArray_ArgMax (ndarray, int, ndarray)\n    object PyArray_ArgMin (ndarray, int, ndarray)"
  }
]