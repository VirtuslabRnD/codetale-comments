[
  {
    "id" : "01eaaf1b-8df4-4f0d-a1ba-91e2a06d434b",
    "prId" : 2694,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e9ffc4d2-fd20-4540-ba51-b7899480e859",
        "parentId" : null,
        "authorId" : "762e53b3-7c6a-4fbb-8098-a2c522dd50a6",
        "body" : "This change changes the ABI/API! We can't alter the signature of a function that's marked NUMPY_API in a released version of numpy.\n\nIt looks like `PyArray_CreateSortedStridePerm` is only added in 1.7, which hasn't been released yet, so perhaps something could be worked out. But this will take a bit of thought, since this PR is too big a change to merge into 1.7 at this point in the release cycle...\n",
        "createdAt" : "2012-10-22T15:23:38Z",
        "updatedAt" : "2012-10-23T12:39:59Z",
        "lastEditedBy" : "762e53b3-7c6a-4fbb-8098-a2c522dd50a6",
        "tags" : [
        ]
      },
      {
        "id" : "b7c563e7-b98c-4cc6-928e-470a07f628c1",
        "parentId" : "e9ffc4d2-fd20-4540-ba51-b7899480e859",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "I have had a closer look at this and where the function is used. I assume that for iteration speed the ordering of 1-dim axes does not matter (they seem to be removed later in any case).\n\nWhich means that it is only important in array creation with keeporder and reduce result allocation. I do not really think that there is any need for extra clean up with either of those cases. If the user gives in a badly strided array, he should expect nothing else. So maybe this could already be pulled into 1.7.? The 1.6 behavior seems to not clean up strides as well for either of the two cases. Unless there is some new functionality that really relies on this, but I somewhat doubt it.\n\nI could do a PR against 1.7. with this especially since not cleaning seems better then failing in probably as many cases as it would clean up and its a pretty small change.\n",
        "createdAt" : "2012-10-22T21:40:03Z",
        "updatedAt" : "2012-10-23T12:39:59Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      }
    ],
    "commit" : "02ebf8b3e7674a6b8a06636feaa6c761fcdf4e2d",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +848,852 @@NPY_NO_EXPORT void\nPyArray_CreateSortedStridePerm(int ndim, npy_intp *strides,\n                        npy_stride_sort_item *out_strideperm)\n{\n    int i;"
  },
  {
    "id" : "a4950ece-afaa-4d68-8da0-a6615eb07e08",
    "prId" : 5034,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e6fbf937-78b0-4e46-b64e-2fcd0b6b880e",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "Hmm, it seems that `NPY_KEEPORDER` and `NPY_ANYORDER` are the same when there is only one array. Should there be an `||` here?\n",
        "createdAt" : "2014-09-03T17:14:15Z",
        "updatedAt" : "2014-09-14T12:37:01Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      },
      {
        "id" : "d88b9212-7cb9-4ae6-bac4-8a33f9a18d4b",
        "parentId" : "e6fbf937-78b0-4e46-b64e-2fcd0b6b880e",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "the difference is, anyorder will be C order if neither is True, Keeporder will remain keeporder then.\n",
        "createdAt" : "2014-09-03T17:34:33Z",
        "updatedAt" : "2014-09-14T12:37:01Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      }
    ],
    "commit" : "44877b36870ec2a0505c536a30b9fbf06a414c17",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +949,953 @@    newdim.ptr = val;\n\n    if (order == NPY_KEEPORDER) {\n        /* This handles some corner cases, such as 0-d arrays as well */\n        if (PyArray_IS_C_CONTIGUOUS(arr)) {"
  },
  {
    "id" : "ca55600b-53e9-40e7-aea6-0ca2ed026ad5",
    "prId" : 8584,
    "prUrl" : "https://github.com/numpy/numpy/pull/8584#pullrequestreview-23372224",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0efe554c-103a-42e1-a052-2743ba0b6572",
        "parentId" : null,
        "authorId" : "48d7d71b-9655-46b2-9a18-7c1fba7837d0",
        "body" : "`axis` is `npy_intp`, not `int`.",
        "createdAt" : "2017-02-23T00:07:06Z",
        "updatedAt" : "2017-02-23T00:07:06Z",
        "lastEditedBy" : "48d7d71b-9655-46b2-9a18-7c1fba7837d0",
        "tags" : [
        ]
      },
      {
        "id" : "3a688b16-0670-48aa-8670-77c22ee7fc54",
        "parentId" : "0efe554c-103a-42e1-a052-2743ba0b6572",
        "authorId" : "48d7d71b-9655-46b2-9a18-7c1fba7837d0",
        "body" : "Maybe useful to double check this everywhere.",
        "createdAt" : "2017-02-23T00:07:27Z",
        "updatedAt" : "2017-02-23T00:07:27Z",
        "lastEditedBy" : "48d7d71b-9655-46b2-9a18-7c1fba7837d0",
        "tags" : [
        ]
      },
      {
        "id" : "5143d684-9fa0-4b81-a30f-f141740e57aa",
        "parentId" : "0efe554c-103a-42e1-a052-2743ba0b6572",
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "Which do you think I should accept in `check_and_adjust_axis`? Sometimes axis can be `int`, sometimes it is `intp`. Obviously I can introduce some locals for conversion, but I still need to choose which is right",
        "createdAt" : "2017-02-23T00:33:40Z",
        "updatedAt" : "2017-02-23T00:34:08Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      }
    ],
    "commit" : "8d6ec65c925ebef5e0567708de1d16df39077c9d",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +706,710 @@        for (i = 0; i < n; i++) {\n            axis = axes[i];\n            if (check_and_adjust_axis(&axis, PyArray_NDIM(ap)) < 0) {\n                return NULL;\n            }"
  },
  {
    "id" : "fe959afe-5ddb-43ee-9647-6f7cd0120bdd",
    "prId" : 8672,
    "prUrl" : "https://github.com/numpy/numpy/pull/8672#pullrequestreview-23427341",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d22008ac-c114-46dc-a852-abb2db753d1d",
        "parentId" : null,
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "We're kinda abusing `PyArray_Dims` here. This isn't a list of dims (`intp`), this is a list of axes (`int`).",
        "createdAt" : "2017-02-23T00:52:16Z",
        "updatedAt" : "2017-02-23T09:12:02Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      },
      {
        "id" : "78e92cb3-a981-4e27-82c1-d96621cf9e22",
        "parentId" : "d22008ac-c114-46dc-a852-abb2db753d1d",
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "Why is it correct that the list of axes be int? Int may sufficient, but I doubt it is necessary.",
        "createdAt" : "2017-02-23T01:47:29Z",
        "updatedAt" : "2017-02-23T09:12:02Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      },
      {
        "id" : "1438e257-43c8-45b1-9eaa-97e76be29f05",
        "parentId" : "d22008ac-c114-46dc-a852-abb2db753d1d",
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "Looking at `c-api.array.rst`, ever occurence of `axis` is an `int`, not an `intp`. So from a consistency point of view, passing `int` would be better. Also, this bug wouldn't have existed if this used int in the first place like everything else.\r\n\r\n`int` is not strictly necessary, but it is advisable. Of course, changing the public API here is a lot of work for little gain.",
        "createdAt" : "2017-02-23T09:09:39Z",
        "updatedAt" : "2017-02-23T09:12:02Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      }
    ],
    "commit" : "1dacacf9a31e320dc2239e5e4a4ca8f8c11887b2",
    "line" : 2,
    "diffHunk" : "@@ -1,1 +679,683 @@ */\nNPY_NO_EXPORT PyObject *\nPyArray_Transpose(PyArrayObject *ap, PyArray_Dims *permute)\n{\n    npy_intp *axes;"
  },
  {
    "id" : "68fdae54-cb0a-49dd-bccb-f24f459e2367",
    "prId" : 8977,
    "prUrl" : "https://github.com/numpy/numpy/pull/8977#pullrequestreview-66346221",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8be9831b-6c34-4ad3-aaa1-584f5046fa6c",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "`newnbytes - oldnbytes` >= 0?",
        "createdAt" : "2017-10-01T20:26:23Z",
        "updatedAt" : "2017-10-02T02:00:43Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      },
      {
        "id" : "151f0e72-6687-4317-828f-1d2955650d38",
        "parentId" : "8be9831b-6c34-4ad3-aaa1-584f5046fa6c",
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "Yep, guaranteed by the enclosing `if`",
        "createdAt" : "2017-10-01T20:28:40Z",
        "updatedAt" : "2017-10-02T02:00:43Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      }
    ],
    "commit" : "b6d2cd3870ba832973f85057d8d4735c99f18baa",
    "line" : 107,
    "diffHunk" : "@@ -1,1 +137,141 @@        }\n        else{\n            memset(PyArray_BYTES(self) + oldnbytes, 0, newnbytes - oldnbytes);\n        }\n    }"
  },
  {
    "id" : "1f8d75c6-966b-46a3-a037-2917fbf13458",
    "prId" : 9217,
    "prUrl" : "https://github.com/numpy/numpy/pull/9217#pullrequestreview-41921772",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91d65001-5266-469e-988e-c1965051a18b",
        "parentId" : null,
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "Does `_array_fill_strides` do this second line for us?",
        "createdAt" : "2017-06-03T15:06:43Z",
        "updatedAt" : "2017-06-03T15:06:54Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      },
      {
        "id" : "f4e19899-e6ec-4c64-b3af-7d422e317022",
        "parentId" : "91d65001-5266-469e-988e-c1965051a18b",
        "authorId" : "0e0ae9fd-53e5-41a6-8774-29bcec6001df",
        "body" : "probably this code predates some changes to how this works. It also allocates 3*nd while 2*nd should be enough",
        "createdAt" : "2017-06-03T15:08:54Z",
        "updatedAt" : "2017-06-03T15:12:39Z",
        "lastEditedBy" : "0e0ae9fd-53e5-41a6-8774-29bcec6001df",
        "tags" : [
        ]
      }
    ],
    "commit" : "c02f1ed4d649e65eb8e3caf2bcf0a1e2f46a16fa",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +165,169 @@                            &(((PyArrayObject_fields *)self)->flags));\n        memmove(PyArray_DIMS(self), new_dimensions, new_nd*sizeof(npy_intp));\n        memmove(PyArray_STRIDES(self), new_strides, new_nd*sizeof(npy_intp));\n    }\n    else {"
  },
  {
    "id" : "8669d66b-c10a-4106-bed1-8aed3ae4c401",
    "prId" : 9217,
    "prUrl" : "https://github.com/numpy/numpy/pull/9217#pullrequestreview-41921760",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a2467747-73b2-436d-83ab-6e144517c2b0",
        "parentId" : null,
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "Why is this 3 and not 2 (I realize that's not a concern of this PR)",
        "createdAt" : "2017-06-03T15:08:23Z",
        "updatedAt" : "2017-06-03T15:08:23Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      }
    ],
    "commit" : "c02f1ed4d649e65eb8e3caf2bcf0a1e2f46a16fa",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +151,155 @@            ((PyArrayObject_fields *)self)->nd = new_nd;\n            /* Need new dimensions and strides arrays */\n            dimptr = PyDimMem_RENEW(PyArray_DIMS(self), 3*new_nd);\n            if (dimptr == NULL) {\n                PyErr_SetString(PyExc_MemoryError,"
  },
  {
    "id" : "dbc0a26d-1ce8-4b37-8862-4963efceeb29",
    "prId" : 9217,
    "prUrl" : "https://github.com/numpy/numpy/pull/9217#pullrequestreview-41921947",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6a1f7a5a-6b4f-4fd1-8473-1b05541e0fa3",
        "parentId" : null,
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "Reviving an outdated comment for the benefit of a tie breaker\r\n\r\nThese lines only actually need to run when the number of dimensions have changed, which is an argument for the opposite if nesting",
        "createdAt" : "2017-06-03T15:19:21Z",
        "updatedAt" : "2017-06-03T15:19:21Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      }
    ],
    "commit" : "c02f1ed4d649e65eb8e3caf2bcf0a1e2f46a16fa",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +171,175 @@        ((PyArrayObject_fields *)self)->nd = 0;\n        ((PyArrayObject_fields *)self)->dimensions = NULL;\n        ((PyArrayObject_fields *)self)->strides = NULL;\n    }\n    Py_RETURN_NONE;"
  },
  {
    "id" : "7a4e5e11-6251-44a1-9aa4-2d9402a67418",
    "prId" : 11247,
    "prUrl" : "https://github.com/numpy/numpy/pull/11247#pullrequestreview-126054672",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "62ec4e18-9867-4ef0-a76f-2e53307d139e",
        "parentId" : null,
        "authorId" : "919d650d-5f9e-4069-90f7-968e2cf7bb16",
        "body" : "missing decref, better as `goto fail`",
        "createdAt" : "2018-06-05T16:19:08Z",
        "updatedAt" : "2018-06-05T16:38:27Z",
        "lastEditedBy" : "919d650d-5f9e-4069-90f7-968e2cf7bb16",
        "tags" : [
        ]
      },
      {
        "id" : "9c068580-b62c-4e95-9303-aa66865197e6",
        "parentId" : "62ec4e18-9867-4ef0-a76f-2e53307d139e",
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "`PyArray_SetBaseObject` steals a reference, so this is correct as is",
        "createdAt" : "2018-06-05T16:36:26Z",
        "updatedAt" : "2018-06-05T16:38:27Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      }
    ],
    "commit" : "644c78809ff5b53b0fcdbb35e5823fc6e01d24ac",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +281,285 @@    if (PyArray_SetBaseObject(ret, (PyObject *)self)) {\n        Py_DECREF(ret);\n        return NULL;\n    }\n"
  }
]