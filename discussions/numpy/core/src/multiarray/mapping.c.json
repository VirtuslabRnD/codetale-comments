[
  {
    "id" : "0091d828-a303-4686-81ff-255ca544f17b",
    "prId" : 2710,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e70b8c33-f933-4a2b-b360-376f02f32bb7",
        "parentId" : null,
        "authorId" : "762e53b3-7c6a-4fbb-8098-a2c522dd50a6",
        "body" : "This is just a simple bug fix right, not really related to the 1-d iteration issues?\n\nIf PyArray_MapIterBind can fail, then shouldn't it return an error code? This is a really obscure way to check for errors.\n",
        "createdAt" : "2012-11-12T08:51:45Z",
        "updatedAt" : "2012-12-02T18:24:49Z",
        "lastEditedBy" : "762e53b3-7c6a-4fbb-8098-a2c522dd50a6",
        "tags" : [
        ]
      },
      {
        "id" : "e32f7c43-c459-4f9d-9fd1-c255306db597",
        "parentId" : "e70b8c33-f933-4a2b-b360-376f02f32bb7",
        "authorId" : "75b78747-e55f-483a-bf57-630e261038df",
        "body" : "Yes, you're right, I should figure out what the error conditions are and error code. I've had PyArray_MapIterBind fail when I had oned=1, but I'm still not sure what the error condition was.\n",
        "createdAt" : "2012-11-14T05:46:54Z",
        "updatedAt" : "2012-12-02T18:24:49Z",
        "lastEditedBy" : "75b78747-e55f-483a-bf57-630e261038df",
        "tags" : [
        ]
      }
    ],
    "commit" : "7887c16fcceb995a6416cf32bb4a0702bf08a7bb",
    "line" : null,
    "diffHunk" : "@@ -1,1 +2055,2059 @@    if (PyArray_MapIterBind(mit, a) != 0) {\n        return NULL;\n    }\n    PyArray_MapIterReset(mit);\n    return mit;"
  },
  {
    "id" : "04f69207-a791-44c9-9aef-03b79aa36350",
    "prId" : 2907,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a40bb76-039d-4147-9279-02f0a4a7e42b",
        "parentId" : null,
        "authorId" : "041ba948-3afd-44ae-9741-f412d7673058",
        "body" : "Why is this INCREF needed here but was not needed before?\n",
        "createdAt" : "2013-01-12T22:03:06Z",
        "updatedAt" : "2013-01-13T00:21:39Z",
        "lastEditedBy" : "041ba948-3afd-44ae-9741-f412d7673058",
        "tags" : [
        ]
      },
      {
        "id" : "1d376b54-246a-42ce-b95b-4b2fb6d4ba77",
        "parentId" : "5a40bb76-039d-4147-9279-02f0a4a7e42b",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "To be honest, would make sense to check how this changed between 1.6. and 1.7. But dtype was always NULL, that is why there was no incref (there was no need to define dtype in the first place like that). In the next line I put FORCECAST, I am somewhat guessing it makes no difference at all, but if it does, I am not sure if it is closer to 1.6. or not. I don't think it matters honestly (it would only matter for non array, array likes -- ie `__array_interface__`, but that seems unaffected -- if at all), but I have no time to investigate anyway right now.\n",
        "createdAt" : "2013-01-12T23:14:42Z",
        "updatedAt" : "2013-01-13T00:21:39Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      },
      {
        "id" : "4c4880e6-5e09-414e-bb5d-548e861f707c",
        "parentId" : "5a40bb76-039d-4147-9279-02f0a4a7e42b",
        "authorId" : "762e53b3-7c6a-4fbb-8098-a2c522dd50a6",
        "body" : "The INCREF is needed because PyArray_FromAny steals a reference to the dtype -- right?\n",
        "createdAt" : "2013-01-12T23:27:22Z",
        "updatedAt" : "2013-01-13T00:21:39Z",
        "lastEditedBy" : "762e53b3-7c6a-4fbb-8098-a2c522dd50a6",
        "tags" : [
        ]
      }
    ],
    "commit" : "24615f4c7744ff4a924b9488ea3b9bb7df3665f0",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +1309,1313 @@        if (!PyArray_Check(op)) {\n            dtype = PyArray_DTYPE(self);\n            Py_INCREF(dtype);\n            op_arr = (PyArrayObject *)PyArray_FromAny(op, dtype, 0, 0, 0, NULL);\n            if (op_arr == NULL) {"
  },
  {
    "id" : "12a0f2a4-df99-400b-aae8-138734a200b2",
    "prId" : 3628,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0d1c4713-ea57-4142-9b18-dc3b3df8dbf0",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "Are all these replacements safe? This looks OK, but further on I worry about DECREFing `mit->ait` and `mit->subspace`. It's not clear to me that deallocating the `mit` will do that.\n",
        "createdAt" : "2013-08-17T14:13:13Z",
        "updatedAt" : "2013-08-17T14:13:13Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      },
      {
        "id" : "60e75f04-21f6-4364-b811-629c5204ce5a",
        "parentId" : "0d1c4713-ea57-4142-9b18-dc3b3df8dbf0",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "It should do all that:\n\n```\nstatic void\narraymapiter_dealloc(PyArrayMapIterObject *mit)\n{\n    int i;\n    Py_XDECREF(mit->indexobj);\n    Py_XDECREF(mit->ait);\n    Py_XDECREF(mit->subspace);\n    for (i = 0; i < mit->numiter; i++) {\n        Py_XDECREF(mit->iters[i]);\n    }\n    PyArray_free(mit);\n}\n```\n",
        "createdAt" : "2013-08-17T14:15:38Z",
        "updatedAt" : "2013-08-17T14:15:38Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      }
    ],
    "commit" : "281458be347a574b8d4d28ddf49c02e2f9cf0930",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +1779,1783 @@        PyErr_SetString(PyExc_IndexError,\n                        \"too many indices for array\");\n        return -1;\n    }\n"
  },
  {
    "id" : "a13b0cf6-b973-4af3-b3ae-a78c85170cac",
    "prId" : 3931,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5743e734-9e9a-483f-adc7-23cf36975edd",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "stransfer checks if past end of array?\n",
        "createdAt" : "2013-10-16T22:06:50Z",
        "updatedAt" : "2013-10-16T23:02:07Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      },
      {
        "id" : "348d3f8f-4c52-493d-a20b-8f19f4e307fa",
        "parentId" : "5743e734-9e9a-483f-adc7-23cf36975edd",
        "authorId" : "0e0ae9fd-53e5-41a6-8774-29bcec6001df",
        "body" : "the transfer functions only use the size, the return is only used in the next loop iteration which will then have size 0 so not check anything beyong boundary.\n",
        "createdAt" : "2013-10-16T22:32:13Z",
        "updatedAt" : "2013-10-16T23:02:07Z",
        "lastEditedBy" : "0e0ae9fd-53e5-41a6-8774-29bcec6001df",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d4ea165817fc613c79bb92ccb3844df94d1beed",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +733,737 @@                bmask_data = npy_memchr(bmask_data, 0, bmask_stride, innersize,\n                                        &subloopsize, 0);\n                stransfer(ret_data, itemsize, self_data, self_stride,\n                            subloopsize, itemsize, transferdata);\n                innersize -= subloopsize;"
  },
  {
    "id" : "ac62318e-8bea-4d60-a343-cac7d77a2e89",
    "prId" : 4570,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a39efc63-96dd-4238-951c-3dcf66f8e701",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "Almost seems that this check could be part of the `NPY_BEGIN_THREADS` macro.\n",
        "createdAt" : "2014-03-30T21:42:32Z",
        "updatedAt" : "2014-03-30T21:42:32Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      },
      {
        "id" : "b22d6ce6-ac37-4a27-bf3f-0bca49d5c9ec",
        "parentId" : "a39efc63-96dd-4238-951c-3dcf66f8e701",
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "Or maybe not ;) Would it make sense for `_save`. Too bad C doesn't have a passed by reference option, it would make passing `_save` to functions a bit more useful.\n",
        "createdAt" : "2014-03-30T21:48:26Z",
        "updatedAt" : "2014-03-30T21:48:26Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      }
    ],
    "commit" : "92f499ad70c67c9f41fcedc942861dc7f89f8736",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +2380,2384 @@            npy_intp stride;\n            /* release GIL if it was taken by nditer below */\n            if (_save == NULL) {\n                NPY_BEGIN_THREADS;\n            }"
  }
]