[
  {
    "id" : "f806e73a-9653-42b4-8edd-123b7b11a485",
    "prId" : 16200,
    "prUrl" : "https://github.com/numpy/numpy/pull/16200#pullrequestreview-436815557",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "62bbc45c-fdf5-4202-97d7-41bd75b3cad3",
        "parentId" : null,
        "authorId" : "fe664d20-2239-4242-9bd1-2c7a4f010863",
        "body" : "i am a little confused by this logic. For example, if it doesnt fit into long long , value should be -1 (and also error not raised?). In which case it should hit the if here, and this will be true even if value didnt fall in this range ? Having said that, the following seems to work just fine, though I am not sure why.\r\n\r\n```\r\nimport numpy as np\r\n\r\nx = np.array([18446744073709551614, 18446744073709551614])\r\nprint(x.dtype)\r\n```",
        "createdAt" : "2020-06-23T21:21:04Z",
        "updatedAt" : "2020-07-08T23:39:29Z",
        "lastEditedBy" : "fe664d20-2239-4242-9bd1-2c7a4f010863",
        "tags" : [
        ]
      },
      {
        "id" : "6de27d3a-d98f-460a-96cc-d4e1d066b6c3",
        "parentId" : "62bbc45c-fdf5-4202-97d7-41bd75b3cad3",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "Its handled by the `error_converting` path above. That should probably actually use some `AndOverflow` API to avoid creating and discoarting the error. But right now this code should be a pretty straight forward move only. ",
        "createdAt" : "2020-06-24T14:13:53Z",
        "updatedAt" : "2020-07-08T23:39:29Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      },
      {
        "id" : "7bf67880-f9aa-4dd0-a9f7-02cb15c9876b",
        "parentId" : "62bbc45c-fdf5-4202-97d7-41bd75b3cad3",
        "authorId" : "fe664d20-2239-4242-9bd1-2c7a4f010863",
        "body" : "thanks for the clarification. i guess this hits a bunch of times before its called for 18446744073709551614 (not completely sure why), and i guess i was looking at the call for the wrong obj and that probably confused me. Agree looks pretty straightforward otherwise, and probably should be okay without the ``AndOverflow`` API\r\n\r\nEDIT: I meant without the ``AndOverflow`` API",
        "createdAt" : "2020-06-24T16:31:44Z",
        "updatedAt" : "2020-07-08T23:39:29Z",
        "lastEditedBy" : "fe664d20-2239-4242-9bd1-2c7a4f010863",
        "tags" : [
        ]
      }
    ],
    "commit" : "22ee97190db0e2432e21d3d830e04776feb0f0a6",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +29,33 @@    else {\n        if (NPY_MIN_LONG <= value && value <= NPY_MAX_LONG) {\n            return PyArray_DescrFromType(NPY_LONG);\n        }\n        return PyArray_DescrFromType(NPY_LONGLONG);"
  }
]