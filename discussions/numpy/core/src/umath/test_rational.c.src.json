[
  {
    "id" : "6cf7d93a-cc78-4ede-8631-f5f37072ad92",
    "prId" : 3303,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "51218f0b-ed78-40d9-ab31-fbf3fc7e03a3",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "I think if we get here that `m` needs to be `Py_XDECREF`'d and set to NULL as NULL is the error return value. Hmm... Looks like `multiarraymodule.c` has got this wrong also. I can't find a reference for this particular situation online, but `m` is a new object so on error after it is successfully created I expect it needs to be deallocated. \n",
        "createdAt" : "2013-05-03T18:11:41Z",
        "updatedAt" : "2013-05-03T19:57:24Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      },
      {
        "id" : "58a80bcf-48f6-41b7-b5a0-6c784967e8cd",
        "parentId" : "51218f0b-ed78-40d9-ab31-fbf3fc7e03a3",
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "Life is more complicated. In Python 2 `m` is a borrowed reference, hence should not be decrefed, in Python 3 it looks to be a new reference. I think we will need to use some `ifdef`'s. Not that I think a reference leak here is likely to be a problem in practice...\n",
        "createdAt" : "2013-05-03T18:21:36Z",
        "updatedAt" : "2013-05-03T19:57:24Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      }
    ],
    "commit" : "caa66a7279fdeb7aa34ca58868e66baeb14a5c0b",
    "line" : 168,
    "diffHunk" : "@@ -1,1 +1308,1312 @@    return RETVAL;\n\nfail:\n    if (!PyErr_Occurred()) {\n        PyErr_SetString(PyExc_RuntimeError,"
  },
  {
    "id" : "9184d95e-955a-4e60-93b4-5db4d89af675",
    "prId" : 3303,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8c40b770-d125-4ac6-8c0d-42400a4f1f4a",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "OK, I was thinking a simple\n\n```\n#if defined(NPY_PY3K)\n    PY_XDECREF(m);\n    return NULL;\n#endif\n```\n\nAs an actual return isn't needed in Python 2. But I don't think the error is likely and it isn't worth the small cleanup.\n",
        "createdAt" : "2013-05-03T23:13:31Z",
        "updatedAt" : "2013-05-03T23:13:31Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      }
    ],
    "commit" : "caa66a7279fdeb7aa34ca58868e66baeb14a5c0b",
    "line" : 180,
    "diffHunk" : "@@ -1,1 +1320,1324 @@#endif\n    return RETVAL;\n}"
  }
]