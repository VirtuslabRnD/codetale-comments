[
  {
    "id" : "f72d1e98-c0cb-4bb0-a0cd-186c61150302",
    "prId" : 3747,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4446b80b-c9bc-4b5b-a9a9-1a5dccf863e4",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "Guess this is OK. IIRC, npy_intp is defined as Py_ssize_t for later Python.\n",
        "createdAt" : "2013-09-14T18:41:47Z",
        "updatedAt" : "2013-09-14T18:41:47Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      }
    ],
    "commit" : "997fe5b8dedaf0e58de72c9c789e56c328cd02c7",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +408,412 @@#else\ntypedef Py_hash_t npy_hash_t;\n#define NPY_SIZEOF_HASH_T NPY_SIZEOF_INTP\n#endif\n"
  },
  {
    "id" : "f1057f28-3246-4380-b0da-8314ea331e39",
    "prId" : 4152,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "57e72776-552f-4452-87fc-509292d3d1a0",
        "parentId" : null,
        "authorId" : "0e0ae9fd-53e5-41a6-8774-29bcec6001df",
        "body" : "it is not obvious to me why it must be closed at the end.\n",
        "createdAt" : "2013-12-30T13:42:14Z",
        "updatedAt" : "2014-01-09T08:45:40Z",
        "lastEditedBy" : "0e0ae9fd-53e5-41a6-8774-29bcec6001df",
        "tags" : [
        ]
      },
      {
        "id" : "7133067c-676d-4cbb-81df-4ce7300f010c",
        "parentId" : "57e72776-552f-4452-87fc-509292d3d1a0",
        "authorId" : "48d7d71b-9655-46b2-9a18-7c1fba7837d0",
        "body" : "AFAIK, FILE\\* does some internal buffering, so it's courteous to let the CRT know the resources are no longer needed.\n",
        "createdAt" : "2014-01-02T17:24:07Z",
        "updatedAt" : "2014-01-09T08:45:40Z",
        "lastEditedBy" : "48d7d71b-9655-46b2-9a18-7c1fba7837d0",
        "tags" : [
        ]
      }
    ],
    "commit" : "03a2535613934f3f08593d20935e5cc84ce9782c",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +166,170 @@\n    /* The handle needs to be dup'd because we have to call fclose\n       at the end */\n    os = PyImport_ImportModule(\"os\");\n    if (os == NULL) {"
  },
  {
    "id" : "5976b217-1267-4bb5-b444-69e955e06251",
    "prId" : 4365,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "975d463d-6925-4fc4-bdaa-ce2a25876988",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "Don't really need the `(f)`, etc. here, but doesn't hurt.\n",
        "createdAt" : "2014-03-25T16:57:35Z",
        "updatedAt" : "2014-03-25T16:57:35Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      }
    ],
    "commit" : "540c5c865354f0046ed9e7fc2828ab6eef8cbedb",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +299,303 @@\n/* DEPRECATED, DO NOT USE */\n#define npy_PyFile_DupClose(f, h, p) npy_PyFile_DupClose2((f), (h), (p))\n\n/* use these */"
  },
  {
    "id" : "b2ede865-498e-43d0-b3a0-16cae8a0f83d",
    "prId" : 6269,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16eddba2-d8ba-4c85-87fe-5ddea1f32955",
        "parentId" : null,
        "authorId" : "34105ae0-9fd2-4403-be9b-7c550a729828",
        "body" : "There are two more instances of this mistake, right after the next two calls to `PyObject_RichCompareBool` below.\n",
        "createdAt" : "2015-08-30T04:19:49Z",
        "updatedAt" : "2015-09-28T20:16:20Z",
        "lastEditedBy" : "34105ae0-9fd2-4403-be9b-7c550a729828",
        "tags" : [
        ]
      }
    ],
    "commit" : "00edb2b6a96b7189be91d16cb84981a60c5961e8",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +326,330 @@    int v;\n    v = PyObject_RichCompareBool(i1, i2, Py_LT);\n    if (v == 1) {\n        *cmp = -1;\n        return 1;"
  },
  {
    "id" : "12438a11-a37c-4f7c-b069-08cded5cc338",
    "prId" : 12155,
    "prUrl" : "https://github.com/numpy/numpy/pull/12155#pullrequestreview-164121304",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ab1af8d2-5204-405d-8b55-b4b333ccb9fa",
        "parentId" : null,
        "authorId" : "919d650d-5f9e-4069-90f7-968e2cf7bb16",
        "body" : "We should make the backport explicit. Since Py_SETREF was added in 3.5.2 [0], this should have a `#if PY_VERSION_HEX < 0x03050200 ... #else`\r\n\r\n[0] see CPython changeset `57a01d3a0ee` and  `git tag --contains 57a01d3a0ee`",
        "createdAt" : "2018-10-12T07:14:09Z",
        "updatedAt" : "2018-10-15T04:55:47Z",
        "lastEditedBy" : "919d650d-5f9e-4069-90f7-968e2cf7bb16",
        "tags" : [
        ]
      }
    ],
    "commit" : "1436f1ee59e772eece00bcf344f405d18a3090f5",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +79,83 @@        } while (0)\n#endif\n\n/*\n * PyString -> PyBytes"
  },
  {
    "id" : "2a113a3a-80c1-4aea-b9ad-9dc5295bca85",
    "prId" : 12354,
    "prUrl" : "https://github.com/numpy/numpy/pull/12354#pullrequestreview-173654390",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "53d611c1-bdbb-4507-916b-7a376daa6617",
        "parentId" : null,
        "authorId" : "589adf51-c83d-4d25-b0fa-10ed4e1f120a",
        "body" : "This implementation has been taken from the cpython source: https://github.com/python/cpython/blob/50b48572d9a90c5bb36e2bef6179548ea927a35a/Python/errors.c#L389-L414",
        "createdAt" : "2018-11-10T07:58:38Z",
        "updatedAt" : "2018-11-10T11:32:00Z",
        "lastEditedBy" : "589adf51-c83d-4d25-b0fa-10ed4e1f120a",
        "tags" : [
        ]
      }
    ],
    "commit" : "fbdcb5b7b38a7063357f881397ccdc546f46ec5b",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +396,400 @@        /* only py3 supports this anyway */\n        #ifdef NPY_PY3K\n            PyObject *exc2, *val2, *tb2;\n            PyErr_Fetch(&exc2, &val2, &tb2);\n            PyErr_NormalizeException(&exc, &val, &tb);"
  },
  {
    "id" : "2aa425cb-86df-40ee-b23d-3d092314bee8",
    "prId" : 15232,
    "prUrl" : "https://github.com/numpy/numpy/pull/15232#pullrequestreview-338302515",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4fd37b7c-eb21-4aca-8a5f-3f49be5d66b8",
        "parentId" : null,
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "I removing the internal use of this is one of the next steps.",
        "createdAt" : "2020-01-03T22:13:02Z",
        "updatedAt" : "2020-01-03T22:19:15Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      },
      {
        "id" : "8ff0f398-e998-4e69-8f6e-7426d1b2c024",
        "parentId" : "4fd37b7c-eb21-4aca-8a5f-3f49be5d66b8",
        "authorId" : "90f9383b-5a2e-49ad-a731-13e6f7332b32",
        "body" : "Yes, I'm also working on cleaning that up (in another CL)",
        "createdAt" : "2020-01-03T22:32:04Z",
        "updatedAt" : "2020-01-03T22:32:52Z",
        "lastEditedBy" : "90f9383b-5a2e-49ad-a731-13e6f7332b32",
        "tags" : [
        ]
      }
    ],
    "commit" : "24189be60ec4d823f4068be727b5d28f7eacc823",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +15,19 @@\n#ifndef NPY_PY3K\n#define NPY_PY3K 1\n#endif\n"
  },
  {
    "id" : "276c658b-2d21-43d2-bad3-9411fe39ecc5",
    "prId" : 15262,
    "prUrl" : "https://github.com/numpy/numpy/pull/15262#pullrequestreview-338895942",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aa0366fe-817c-46fa-9871-69d9e4b09692",
        "parentId" : null,
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "Are you sure this is necessary? 3.5 docs list this: https://docs.python.org/3.5/c-api/dict.html#c.PyDict_GetItemWithError",
        "createdAt" : "2020-01-06T19:18:32Z",
        "updatedAt" : "2020-01-14T15:07:24Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      },
      {
        "id" : "4fe64953-06c7-4ff7-b173-a608079ec3f3",
        "parentId" : "aa0366fe-817c-46fa-9871-69d9e4b09692",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "Ah, nvm. Sorry, this is the String version, not the item version...",
        "createdAt" : "2020-01-06T19:19:02Z",
        "updatedAt" : "2020-01-14T15:07:24Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      },
      {
        "id" : "ffa3f776-11c0-40ef-8aac-c7889a0658d2",
        "parentId" : "aa0366fe-817c-46fa-9871-69d9e4b09692",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "Maybe better to `Npy` prefix this though? Plus, the correct symbol on new python 3.8 should be without the underscore, so should we just add an alias for that one on the newer Python? I suppose one reason to not use `#ifdef PyDict_GetItem...` its hard to notice when is is not needed it anymore.",
        "createdAt" : "2020-01-06T20:27:03Z",
        "updatedAt" : "2020-01-14T15:07:24Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      },
      {
        "id" : "6211f5c5-5f1e-47bb-a540-956d4fb6f244",
        "parentId" : "aa0366fe-817c-46fa-9871-69d9e4b09692",
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "> Plus, the correct symbol on new python 3.8 should be without the underscore\r\n\r\nCan you give me a reference on that?",
        "createdAt" : "2020-01-06T21:02:01Z",
        "updatedAt" : "2020-01-14T15:07:24Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      },
      {
        "id" : "63884388-9a10-4613-9bfb-990900ad3b38",
        "parentId" : "aa0366fe-817c-46fa-9871-69d9e4b09692",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "Sorry, you are right :/. Although I guess that means it may change in the future to remove the underscore (but that is easy to adept). But in that case, may as well keep it as is, it will be a simple thing to fix up if python decides on changing this.\r\nI wonder about PyPy, but we can fix it up when it comes up.",
        "createdAt" : "2020-01-06T21:06:54Z",
        "updatedAt" : "2020-01-14T15:07:24Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      },
      {
        "id" : "9df6eb2e-3e74-43b7-a501-de267dfe0cc2",
        "parentId" : "aa0366fe-817c-46fa-9871-69d9e4b09692",
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "Good point about PyPI, but should be easy to fix.\r\n\r\nAlso, if we have a minimum pypi version we probably ought to have CI that runs against it...",
        "createdAt" : "2020-01-06T21:08:08Z",
        "updatedAt" : "2020-01-14T15:07:24Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      }
    ],
    "commit" : "e2921434a07c22714bbf242be5389c3056449863",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +74,78 @@\n/* introduced in https://github.com/python/cpython/commit/a24107b04c1277e3c1105f98aff5bfa3a98b33a0 */\n#if PY_VERSION_HEX < 0x030800A3\n    static NPY_INLINE PyObject *\n    _PyDict_GetItemStringWithError(PyObject *v, const char *key)"
  }
]