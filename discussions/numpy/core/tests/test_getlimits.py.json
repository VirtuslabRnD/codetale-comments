[
  {
    "id" : "302c129a-2bfe-471b-a1e7-c519174ff6b9",
    "prId" : 18536,
    "prUrl" : "https://github.com/numpy/numpy/pull/18536#pullrequestreview-678678216",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "78fecfa1-da9e-4411-a60a-b18b7795ef91",
        "parentId" : null,
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "We need to move this `np.errstate` into the code?  Users shouldn't see those warnings either.",
        "createdAt" : "2021-06-07T19:30:19Z",
        "updatedAt" : "2021-06-07T19:56:38Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      },
      {
        "id" : "8029e330-8113-4e4b-8022-8b9d1125dc04",
        "parentId" : "78fecfa1-da9e-4411-a60a-b18b7795ef91",
        "authorId" : "966f7863-1017-450c-9dac-376e60544f73",
        "body" : "I used it as the other test is doing, https://github.com/numpy/numpy/blob/1769352927f60b86bf183706c887df5a892c6f8f/numpy/core/tests/test_getlimits.py#L104.I'm not completely sure why that was necessary before and I can try removing both",
        "createdAt" : "2021-06-08T04:50:21Z",
        "updatedAt" : "2021-06-08T04:50:21Z",
        "lastEditedBy" : "966f7863-1017-450c-9dac-376e60544f73",
        "tags" : [
        ]
      },
      {
        "id" : "43257c75-5568-4293-9545-a92410e1ca10",
        "parentId" : "78fecfa1-da9e-4411-a60a-b18b7795ef91",
        "authorId" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "body" : "Oh, sorry.  I didn't realize this was a unit test for `MachAr` and not for the (normal) `MachArLike` branch.  The warning seems indeed OK here, this code shouldn't really be used anyway.  (The only place I know it may get used is when running in valgrind, due to broken longdouble support).",
        "createdAt" : "2021-06-08T15:31:45Z",
        "updatedAt" : "2021-06-08T15:31:46Z",
        "lastEditedBy" : "b0342685-bd89-441f-a04f-0e75db24c07f",
        "tags" : [
        ]
      }
    ],
    "commit" : "c2b6ebad0a792153490101fc3bf5cb66ee4751ef",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +117,121 @@def test_subnormal_warning():\n    \"\"\"Test that the subnormal is zero warning is not being raised.\"\"\"\n    with np.errstate(all='ignore'):\n        ld_ma = _discovered_machar(np.longdouble)\n    bytes = np.dtype(np.longdouble).itemsize"
  }
]