[
  {
    "id" : "65864789-811d-4cab-aba6-7eea09a8675a",
    "prId" : 2897,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5c9e92f8-dd2b-485c-b136-991a817d0022",
        "parentId" : null,
        "authorId" : "762e53b3-7c6a-4fbb-8098-a2c522dd50a6",
        "body" : "This line is probably clearer as `if shape == () or shape == ((),)`? Or even\n\n```\nif len(shape) == 1 and isinstance(shape[0], tuple):\n    shape = shape[0]\nif shape == ():\n```\n",
        "createdAt" : "2013-01-12T23:38:08Z",
        "updatedAt" : "2013-01-12T23:38:08Z",
        "lastEditedBy" : "762e53b3-7c6a-4fbb-8098-a2c522dd50a6",
        "tags" : [
        ]
      },
      {
        "id" : "52002bf6-900c-4fcd-a3bd-852cd645b3d8",
        "parentId" : "5c9e92f8-dd2b-485c-b136-991a817d0022",
        "authorId" : "1b526ef0-1c83-44be-b2b5-41cf1ee854e2",
        "body" : "Perhaps so.  But I'm pretty sure the previous behavior would accept lists as shapes as well and therefore we should probably mimic that behavior.   I thought about testing explicitly for the empty tuple, but decided against it because the empty list should be acceptable as well. \n\nI do like the first test to convert shape to the expected form followed by the test on shape.   That's nice.  \n'''\nif len(shape) == 1 and isinstance(shape[0], tuple):\n    shape = shape[0]\nif not shape:\n   ...\n'''\nBut, I would rather test explicitly for the length of shape and still allow any sequence for the shape.\n",
        "createdAt" : "2013-01-14T00:01:07Z",
        "updatedAt" : "2013-01-14T00:01:07Z",
        "lastEditedBy" : "1b526ef0-1c83-44be-b2b5-41cf1ee854e2",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1a055b0cd5ad82106901a274d58563df4cd5070",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +536,540 @@    #  and then this entire __new__ method can be removed.\n    def __new__(cls, *shape):\n        if len(shape) == 0 or (len(shape) == 1 and len(shape[0]) == 0):\n            class zero_dim_iter(object):\n                def __init__(self):"
  },
  {
    "id" : "8aa3be83-77ed-4a51-b960-2d485a424c08",
    "prId" : 8816,
    "prUrl" : "https://github.com/numpy/numpy/pull/8816#pullrequestreview-36595046",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2ef80e8e-5bc8-454d-aae4-6ffc38278e65",
        "parentId" : null,
        "authorId" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "body" : "This is different. What is the explanation?",
        "createdAt" : "2017-05-05T19:38:42Z",
        "updatedAt" : "2017-05-05T20:47:37Z",
        "lastEditedBy" : "e6b1ca39-8ea5-45f7-ae52-a080cee1181b",
        "tags" : [
        ]
      },
      {
        "id" : "250bf2ed-bb42-4286-a631-ef0ea265ded0",
        "parentId" : "2ef80e8e-5bc8-454d-aae4-6ffc38278e65",
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "This fixes the test case added in 42ea3b54d8f852c9545f826548e198fafea127b9 (`np.r_['r', [1, 2], 3]`) - `k` was not the number of objects, but the number of arguments, which could include the string configuration argument.",
        "createdAt" : "2017-05-05T19:46:19Z",
        "updatedAt" : "2017-05-05T20:47:37Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      },
      {
        "id" : "393a5317-654d-443c-91cc-f86fe7fc98fe",
        "parentId" : "2ef80e8e-5bc8-454d-aae4-6ffc38278e65",
        "authorId" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "body" : "On [this line](https://github.com/numpy/numpy/pull/8816/commits/42ea3b54d8f852c9545f826548e198fafea127b9#diff-1bd953557a98073031ce66d05dbde3c8R337), we index `objs` with a value from `scalars`. Previously, there was an off-by-one error that at best resulting in incorrect casting, and at worse an AttributeError or IndexError",
        "createdAt" : "2017-05-05T19:50:50Z",
        "updatedAt" : "2017-05-05T20:47:37Z",
        "lastEditedBy" : "ab55dc5f-f626-43b1-ba83-3d8843d79a45",
        "tags" : [
        ]
      }
    ],
    "commit" : "36e7513edd1114c3f928be66953d4349273122c0",
    "line" : 124,
    "diffHunk" : "@@ -1,1 +309,313 @@            elif type(item) in ScalarType:\n                newobj = array(item, ndmin=ndmin)\n                scalars.append(len(objs))\n                scalar = True\n                scalartypes.append(newobj.dtype)"
  }
]