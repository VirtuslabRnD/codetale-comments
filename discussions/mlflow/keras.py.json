[
  {
    "id" : "47dab9c7-c15b-4947-a3f1-5dc0aa24f521",
    "prId" : 4043,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/4043#pullrequestreview-580997509",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ac5f146d-f0f3-4315-b6ed-e614b48e13f1",
        "parentId" : null,
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "Just note that we call `log_model` without `save_format` in the keras autologging:\r\n\r\nhttps://github.com/mlflow/mlflow/blob/ef17afd5766dff33cf2c8d963223eb7be4a61b61/mlflow/keras.py#L679",
        "createdAt" : "2021-02-02T05:32:51Z",
        "updatedAt" : "2021-02-04T07:47:06Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "48001389abd51a90ecc59dc0c5e74c0ce317fa5a",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +236,240 @@\n    # Use the SavedModel format if `save_format` is unspecified\n    save_format = kwargs.get(\"save_format\", \"tf\")\n\n    # save keras save_format to path/data/save_format.txt"
  },
  {
    "id" : "eb7a735e-1963-4bbb-9600-668bc1588547",
    "prId" : 3735,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3735#pullrequestreview-538204214",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4944c97b-5a67-44f8-a829-b053a2d7e8b8",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "`kwargs[\"callbacks\"]` may still be `None`, as this is the default value for the argument. For example, `fit_generator()` calls `fit()` with `callbacks=None` in Keras >= 2.4.0. Many of our other autologging integrations address this case, but this one does not.",
        "createdAt" : "2020-11-25T07:04:42Z",
        "updatedAt" : "2020-11-26T00:31:10Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "8cc2957ff2b6882e6c2b73b437c7c6f434ee09bd",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +729,733 @@            tmp_list[callback_arg_index] += [__MLflowKerasCallback()]\n            args = tuple(tmp_list)\n        elif kwargs.get(\"callbacks\"):\n            early_stop_callback = _early_stop_check(kwargs[\"callbacks\"])\n            kwargs[\"callbacks\"] += [__MLflowKerasCallback()]"
  },
  {
    "id" : "3c0f5e20-5be1-4ea0-be5f-4d0f4852d522",
    "prId" : 3735,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3735#pullrequestreview-538207864",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "385595b9-706f-4788-9032-f47d710a1c1b",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Ideally, in the future, we will make use of a utility similar to scikit-learn's `_SklearnTrainingSession` to guard against nested runs in other ML autologging integrations. For now, this appears to be a quick & perfectly valid fix.",
        "createdAt" : "2020-11-25T07:11:58Z",
        "updatedAt" : "2020-11-26T00:31:10Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "8cc2957ff2b6882e6c2b73b437c7c6f434ee09bd",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +763,767 @@\n    wrap_patch(keras.Model, \"fit\", fit)\n    # `fit_generator()` is deprecated in Keras >= 2.4.0 and simply wraps `fit()`.\n    # To avoid unintentional creation of nested MLflow runs caused by a patched\n    # `fit_generator()` method calling a patched `fit()` method, we only patch"
  },
  {
    "id" : "a5f9fd64-d4b2-4d51-8ba9-1e2f6aeb6ae5",
    "prId" : 3735,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3735#pullrequestreview-538208385",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1996dbef-073a-4076-8ddc-3238fb651931",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Interestingly, Keras >= 2.4.0 pulls in its `Model` class definition from `tensorflow.keras` with a dependency on `tensorflow >= 2.2.0`. This explains why `fit_generator()` is deprecated in Keras 2.4.0, since `tensorflow` deprecated it in TensorFlow 2.1.0.",
        "createdAt" : "2020-11-25T07:12:58Z",
        "updatedAt" : "2020-11-26T00:31:10Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "8cc2957ff2b6882e6c2b73b437c7c6f434ee09bd",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +763,767 @@\n    wrap_patch(keras.Model, \"fit\", fit)\n    # `fit_generator()` is deprecated in Keras >= 2.4.0 and simply wraps `fit()`.\n    # To avoid unintentional creation of nested MLflow runs caused by a patched\n    # `fit_generator()` method calling a patched `fit()` method, we only patch"
  },
  {
    "id" : "3393cd9b-7b2b-4099-b3dd-a88cd04389c1",
    "prId" : 2775,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/2775#pullrequestreview-407182465",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a65eb403-3100-4740-b9c9-09687f198353",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "No action needed, just confirmed that `signature` and `input_example` are not already arguments to [`keras_model.save`](https://www.tensorflow.org/api_docs/python/tf/keras/Model#save) - there's actually an argument called `signatures`, but no `signature` :P",
        "createdAt" : "2020-05-07T06:32:06Z",
        "updatedAt" : "2020-05-07T19:35:39Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      }
    ],
    "commit" : "b481f11cdd219c690e22cc3601fb5eacfcce88b9",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +113,117 @@    :param kwargs: kwargs to pass to ``keras_model.save`` method.\n\n    :param signature: (Experimental) :py:class:`ModelSignature <mlflow.models.ModelSignature>`\n                      describes model input and output :py:class:`Schema <mlflow.types.Schema>`.\n                      The model signature can be :py:func:`inferred <mlflow.models.infer_signature>`"
  },
  {
    "id" : "c2b87efd-15f5-4e80-aa7f-399fbd2ad20f",
    "prId" : 2762,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/2762#pullrequestreview-404546828",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b920e876-90d1-483b-80e3-8152a3028a30",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "is this because tf versions greater than `1.13.2` are not available on conda?",
        "createdAt" : "2020-05-01T22:51:58Z",
        "updatedAt" : "2020-05-01T22:55:53Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "a4152728-2b1e-4452-b85f-4c1e414eba3f",
        "parentId" : "b920e876-90d1-483b-80e3-8152a3028a30",
        "authorId" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "body" : "Yup, we have the `keras`/`tf.keras` tests running for 1.X and 2.0 (2.0 was already running before). \r\n\r\nAccording to https://anaconda.org/conda-forge/tensorflow, the latest version available is 1.13.2 :/",
        "createdAt" : "2020-05-01T23:10:44Z",
        "updatedAt" : "2020-05-01T23:10:44Z",
        "lastEditedBy" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "tags" : [
        ]
      },
      {
        "id" : "8fd7f6bd-0854-44ff-ac2b-834a55a4833c",
        "parentId" : "b920e876-90d1-483b-80e3-8152a3028a30",
        "authorId" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "body" : "Alternatively, we could use `tensorflow-gpu`? Even though it's updated to 2.1 I'm not sure if there will be compatibility issues. https://anaconda.org/anaconda/tensorflow-gpu",
        "createdAt" : "2020-05-01T23:12:12Z",
        "updatedAt" : "2020-05-01T23:13:00Z",
        "lastEditedBy" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "tags" : [
        ]
      },
      {
        "id" : "862c9f55-f133-4665-988b-e551c18982a2",
        "parentId" : "b920e876-90d1-483b-80e3-8152a3028a30",
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "I don't think we need to change it - i was just curious",
        "createdAt" : "2020-05-02T17:42:56Z",
        "updatedAt" : "2020-05-02T17:44:49Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      }
    ],
    "commit" : "5e95c6d17cb825ec74f2e2173a9937b22ea25529",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +68,72 @@    # backend for Keras. Therefore, the conda environment must\n    # include TensorFlow\n    if LooseVersion(tf.__version__) <= LooseVersion('1.13.2'):\n        conda_deps.append(\"tensorflow=={}\".format(tf.__version__))\n    else:"
  },
  {
    "id" : "d51ff6f5-ec28-4cd0-8930-457fa5ba9d95",
    "prId" : 2216,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/2216#pullrequestreview-334200139",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f1609c91-e2b2-4936-bcfe-3e686f36e583",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "One small note on comments, we tend to prefer not adding them in favor of writing code that's easy to follow, reserving their use for cases where it's hard to tell exactly what's going on (e.g. here from the variable names & logic we can see that we're checking whether the path already exists). That's super fuzzy I know but hopefully it makes some sense - the idea is that comments can go out of date, so it's always better if the code is simple enough to follow on its own, but for more complex cases comments are definitely helpful",
        "createdAt" : "2019-12-18T19:03:58Z",
        "updatedAt" : "2019-12-18T19:03:58Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      },
      {
        "id" : "cbc598a7-6bfc-41c5-ae90-114383d14953",
        "parentId" : "f1609c91-e2b2-4936-bcfe-3e686f36e583",
        "authorId" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "body" : "Sounds good. I'll be sure to avoid superfluous comments in the future. ",
        "createdAt" : "2019-12-18T19:11:51Z",
        "updatedAt" : "2019-12-18T19:11:51Z",
        "lastEditedBy" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "tags" : [
        ]
      }
    ],
    "commit" : "2d16d7ac40ab15910d71ab4c42eba51305bdb79b",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +153,157 @@        keras_module = importlib.import_module(keras_module)\n\n    # check if path exists\n    path = os.path.abspath(path)\n    if os.path.exists(path):"
  },
  {
    "id" : "9d06a102-41f6-4911-af7a-f5d8ffb411ba",
    "prId" : 2216,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/2216#pullrequestreview-334196152",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b2e6242a-56a6-43c8-8f07-314e39c55a46",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "This is a great example of a good comment, it's not obvious why we're checking for \"/dbfs/\" paths without it",
        "createdAt" : "2019-12-18T19:04:52Z",
        "updatedAt" : "2019-12-18T19:04:52Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      }
    ],
    "commit" : "2d16d7ac40ab15910d71ab4c42eba51305bdb79b",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +175,179 @@    model_path = os.path.join(path, model_subpath)\n    if path.startswith('/dbfs/'):\n        # The Databricks Filesystem uses a FUSE implementation that does not support\n        # random writes. It causes an error.\n        with tempfile.NamedTemporaryFile(suffix='.h5') as f:"
  },
  {
    "id" : "3072122c-db86-4b43-9978-9e7c2082ec87",
    "prId" : 2055,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/2055#pullrequestreview-314524975",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "508efffa-f288-4456-ba3a-04bc9fca5caa",
        "parentId" : null,
        "authorId" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "body" : "You should be safe to move the summary related logging to on_train_begin with the other parameters",
        "createdAt" : "2019-11-09T00:27:16Z",
        "updatedAt" : "2019-11-09T00:38:45Z",
        "lastEditedBy" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "tags" : [
        ]
      },
      {
        "id" : "58937862-73cd-4883-8de2-a55f81590972",
        "parentId" : "508efffa-f288-4456-ba3a-04bc9fca5caa",
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Done! Thanks",
        "createdAt" : "2019-11-09T00:38:50Z",
        "updatedAt" : "2019-11-09T00:39:03Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "9a5658084b56740290c51d6af0700e2fcad0fa54",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +406,410 @@            try_mlflow_log(mlflow.log_metrics, logs, step=epoch)\n\n        def on_train_end(self, logs=None):\n            try_mlflow_log(log_model, self.model, artifact_path='model')\n"
  },
  {
    "id" : "5a7a7f63-636d-4436-b7c4-870c122fb4a4",
    "prId" : 1546,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1546#pullrequestreview-257782432",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c08b3d33-a0bc-4321-bf2f-4ac1109a9672",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "What about `log_model()`? Let's add an additional test for `log_model()` with `tf.keras` models, since it's pretty easy to forget about it.",
        "createdAt" : "2019-07-03T23:02:37Z",
        "updatedAt" : "2019-07-04T00:10:57Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      },
      {
        "id" : "757c88f7-6dd9-4e79-8faa-bb4767764ffe",
        "parentId" : "c08b3d33-a0bc-4321-bf2f-4ac1109a9672",
        "authorId" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "body" : "Updated log_model and added a test.",
        "createdAt" : "2019-07-04T00:10:14Z",
        "updatedAt" : "2019-07-04T00:10:57Z",
        "lastEditedBy" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "tags" : [
        ]
      }
    ],
    "commit" : "c4d0e565980d86ec09bef43ac6e39f840da2f8c5",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +61,65 @@\ndef save_model(keras_model, path, conda_env=None, mlflow_model=Model(), custom_objects=None,\n               keras_module=None, **kwargs):\n    \"\"\"\n    Save a Keras model to a path on the local file system."
  },
  {
    "id" : "30e11d78-58ae-44c6-8e21-f787b6d2db8c",
    "prId" : 1525,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1525#pullrequestreview-255902435",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e6d8f073-be98-4482-afa7-89b1ae0cb1e6",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "If `custom_objects` is specified, we should also add `cloudpickle` as a dependency of the MLflow model. As a reference, the `mlflow.sklearn` module conditionally adds this dependency (see https://github.com/mlflow/mlflow/blob/26547aa98cc124ecdf8c5bd8cf80a6358da589b1/mlflow/sklearn.py#L129-L130).\r\n\r\nWe can achieve backwards compatibility when adding a parameter to the `mlflow.keras.get_default_conda_env()` method by using a keyword argument with a default value of `False` (reference: https://github.com/mlflow/mlflow/blob/26547aa98cc124ecdf8c5bd8cf80a6358da589b1/mlflow/sklearn.py#L39)",
        "createdAt" : "2019-06-28T17:59:48Z",
        "updatedAt" : "2019-07-02T20:08:07Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "2131e70c74d522370447ea87bee3c240729c479d",
    "line" : 64,
    "diffHunk" : "@@ -1,1 +98,102 @@    data_path = os.path.join(path, data_subpath)\n    os.makedirs(data_path)\n    if custom_objects is not None:\n        _save_custom_objects(data_path, custom_objects)\n    model_subpath = os.path.join(data_subpath, _MODEL_SAVE_PATH)"
  },
  {
    "id" : "4e273666-c459-4cf2-a154-0902ebaded4f",
    "prId" : 1525,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1525#pullrequestreview-255902919",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f440513d-9ae0-4729-9e31-b0b767635363",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Hyper nit: Can we move the import to the top of the function?",
        "createdAt" : "2019-06-28T18:00:52Z",
        "updatedAt" : "2019-07-02T20:08:07Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "2131e70c74d522370447ea87bee3c240729c479d",
    "line" : 115,
    "diffHunk" : "@@ -1,1 +165,169 @@    :param custom_objects: A dictionary that maps layer names to layer definitions\n    \"\"\"\n    import cloudpickle\n    custom_objects_path = os.path.join(path, _CUSTOM_OBJECTS_SAVE_PATH)\n    with open(custom_objects_path, \"wb\") as out_f:"
  },
  {
    "id" : "d4cd410c-92cb-49ad-ad34-8dfb8b105779",
    "prId" : 1525,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1525#pullrequestreview-256602122",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0aca5e2c-fb0e-4144-9023-2de94b635a46",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Nit: Can we add inline comments documenting the purpose of these module-level strings variables?",
        "createdAt" : "2019-07-02T00:23:09Z",
        "updatedAt" : "2019-07-02T20:08:07Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "2131e70c74d522370447ea87bee3c240729c479d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +25,29 @@FLAVOR_NAME = \"keras\"\n# File name to which custom objects cloudpickle is saved - used during save and load\n_CUSTOM_OBJECTS_SAVE_PATH = \"custom_objects.cloudpickle\"\n# File name to which keras model is saved\n_MODEL_SAVE_PATH = \"model.h5\""
  },
  {
    "id" : "f70d9c75-d624-4b05-802f-db6fc2515b10",
    "prId" : 1525,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1525#pullrequestreview-256626186",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "875b4af7-33b1-424e-8dc6-569d855c37f3",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Can we document the semantics of `path`? Does `path` refer to the MLflow model path or the data directory path or the destination path for the pickled custom objects?\r\n\r\nPerhaps it would be clearer if this method accepted the destination path for the custom objects directly; the caller can then construct the path and call `_save_custom_objects(os.path.join(path, custom_objects_subpath), ...)`.",
        "createdAt" : "2019-07-02T00:29:01Z",
        "updatedAt" : "2019-07-02T20:08:07Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      },
      {
        "id" : "49e9099f-10a8-41da-bb82-5229d291c750",
        "parentId" : "875b4af7-33b1-424e-8dc6-569d855c37f3",
        "authorId" : "436a8363-a9c6-409f-a948-2be39402f59c",
        "body" : "Took a pass at it without that - let me know if you still think it's necessary with the documentation",
        "createdAt" : "2019-07-02T01:17:13Z",
        "updatedAt" : "2019-07-02T20:08:07Z",
        "lastEditedBy" : "436a8363-a9c6-409f-a948-2be39402f59c",
        "tags" : [
        ]
      }
    ],
    "commit" : "2131e70c74d522370447ea87bee3c240729c479d",
    "line" : 107,
    "diffHunk" : "@@ -1,1 +158,162 @@\n\ndef _save_custom_objects(path, custom_objects):\n    \"\"\"\n    Save custom objects dictionary to a cloudpickle file so a model can be easily loaded later."
  },
  {
    "id" : "aadc86cf-8fa7-409f-9dfa-8f5fe4a3dccd",
    "prId" : 1190,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1190#pullrequestreview-234686011",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bfdac2c0-466e-4cc2-a05d-f527a5017c41",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "param name doesn't match?",
        "createdAt" : "2019-05-07T02:15:38Z",
        "updatedAt" : "2019-05-07T22:39:12Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "8c6aa26a-3836-4f7f-9e02-8ba0c4e5818c",
        "parentId" : "bfdac2c0-466e-4cc2-a05d-f527a5017c41",
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Changed to `path`, matching the interface described here: https://mlflow.org/docs/latest/python_api/mlflow.pyfunc.html#mlmodel-configuration. Good catch!",
        "createdAt" : "2019-05-07T18:26:08Z",
        "updatedAt" : "2019-05-07T22:39:12Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "813d98c52ff201e189d2a20c6e716057c0c843be",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +174,178 @@    Load PyFunc implementation. Called by ``pyfunc.load_pyfunc``.\n\n    :param path: Local filesystem path to the MLflow Model with the ``keras`` flavor.\n    \"\"\"\n    if K._BACKEND == 'tensorflow':"
  },
  {
    "id" : "a74bbd4b-5aa2-4d0d-ac46-ddcb5535de50",
    "prId" : 1190,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1190#pullrequestreview-234686011",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "895552c6-6c2b-4caa-9eae-f63d0ab59e8b",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "do you mind adding the return type here as well etc",
        "createdAt" : "2019-05-07T02:16:38Z",
        "updatedAt" : "2019-05-07T22:39:12Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "abe2838d-c93d-43c1-bd2b-3c184b75eaf6",
        "parentId" : "895552c6-6c2b-4caa-9eae-f63d0ab59e8b",
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Done!",
        "createdAt" : "2019-05-07T21:43:02Z",
        "updatedAt" : "2019-05-07T22:39:12Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "813d98c52ff201e189d2a20c6e716057c0c843be",
    "line" : 50,
    "diffHunk" : "@@ -1,1 +205,209 @@                      `Artifacts Documentation <https://www.mlflow.org/docs/latest/tracking.html#\n                      supported-artifact-stores>`_.\n\n    :return: A Keras model instance.\n"
  },
  {
    "id" : "65f41d56-863d-4c3d-a0d4-923211a1ff06",
    "prId" : 719,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/719#pullrequestreview-184879703",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d7847ebb-73fb-4fc8-9cc6-5ec6bac1ba31",
        "parentId" : null,
        "authorId" : "b2c1789f-eaaf-4ce0-9ad7-695c9467c3cc",
        "body" : "Why was this changed? Is it meant to be in this PR? It's OK if this is a bug fix but kind of weird",
        "createdAt" : "2018-12-13T21:12:59Z",
        "updatedAt" : "2018-12-19T22:33:20Z",
        "lastEditedBy" : "b2c1789f-eaaf-4ce0-9ad7-695c9467c3cc",
        "tags" : [
        ]
      },
      {
        "id" : "c70c036b-f086-40c8-a57a-f26d9cb3f5b8",
        "parentId" : "d7847ebb-73fb-4fc8-9cc6-5ec6bac1ba31",
        "authorId" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "body" : "Yeah it's a bugfix. The current mlflow version does not work with older Keras versions. I thought it was too small a fix to make into a separate PR but I can extract it out.",
        "createdAt" : "2018-12-13T21:30:41Z",
        "updatedAt" : "2018-12-19T22:33:20Z",
        "lastEditedBy" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "tags" : [
        ]
      },
      {
        "id" : "5c78bf5d-e861-485a-ad81-00c31699787c",
        "parentId" : "d7847ebb-73fb-4fc8-9cc6-5ec6bac1ba31",
        "authorId" : "b2c1789f-eaaf-4ce0-9ad7-695c9467c3cc",
        "body" : "It's fine as long as it was intended, but it's also okay to have very small PRs.",
        "createdAt" : "2018-12-13T21:36:22Z",
        "updatedAt" : "2018-12-19T22:33:20Z",
        "lastEditedBy" : "b2c1789f-eaaf-4ce0-9ad7-695c9467c3cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "46d40cc23382cf8a24feb872cdaa8a9b500b579b",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +151,155 @@            return keras.models.load_model(model_file)\n    else:\n        # NOTE: Older versions of Keras only handle filepath.\n        return keras.models.load_model(model_file)\n"
  },
  {
    "id" : "f60e4114-c084-4197-87be-2e41e6ac22bc",
    "prId" : 708,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/708#pullrequestreview-174071891",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3927856d-3b43-4ef9-af87-2b83db0a9e44",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Using a context manager here ensures that the h5py File is closed after the model is loaded. Previously, the file was not closed; this caused issues when attempting to serve them model using a multi-worker nginx configuration",
        "createdAt" : "2018-11-12T20:04:25Z",
        "updatedAt" : "2018-11-12T22:24:50Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "3dba5d570eb2700ff50b234ab06895716104a113",
    "line" : 103,
    "diffHunk" : "@@ -1,1 +114,118 @@    # NOTE: Keras 2.2.3 does not work with unicode paths in python2. Pass in h5py.File instead of\n    # string to avoid issues.\n    with h5py.File(os.path.abspath(model_file), \"r\") as model_file:\n        return keras.models.load_model(model_file)\n"
  },
  {
    "id" : "418d841e-e47e-4070-88a3-3f7a9a96d52f",
    "prId" : 440,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/440#pullrequestreview-153099506",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "30457099-961d-48e9-90e0-22538d2bedf4",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "If `self._sess` is `None`, which is the default value, this will fail.",
        "createdAt" : "2018-09-06T19:10:46Z",
        "updatedAt" : "2018-09-06T20:29:07Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      },
      {
        "id" : "94442a27-445f-4a7b-8591-30735182b4c2",
        "parentId" : "30457099-961d-48e9-90e0-22538d2bedf4",
        "authorId" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "body" : "True. Right now this can not happen but I will remove the default value. ",
        "createdAt" : "2018-09-06T20:08:11Z",
        "updatedAt" : "2018-09-06T20:29:07Z",
        "lastEditedBy" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "tags" : [
        ]
      }
    ],
    "commit" : "6a4564119f0f2d20d8895ef4790f2d974a5f5583",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +55,59 @@    def predict(self, dataframe):\n        with self._graph.as_default():\n            with self._sess.as_default():\n                predicted = pd.DataFrame(self.keras_model.predict(dataframe))\n        predicted.index = dataframe.index"
  }
]