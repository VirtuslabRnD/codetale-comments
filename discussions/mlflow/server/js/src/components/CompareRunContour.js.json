[
  {
    "id" : "4c86f99a-2bd3-4609-a696-da01908666ad",
    "prId" : 2225,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/2225#pullrequestreview-335629553",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "62dc32a9-2354-47b4-b752-cca38076d8ab",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "What happens here if a user tries to plot a param that has non-numeric values? I guess `parseFloat` will return NaN, but how does Plotly handle the result?\r\n\r\nI tried to generate & compare a few runs with non-numeric params & view the contour plot but got a JS exception before I was able to try it out. Here's the snippet I used to generate the runs:\r\n\r\n```\r\nimport mlflow\r\ndef create_run():\r\n    with mlflow.start_run():\r\n        mlflow.log_metric(\"a\", 1)\r\n        mlflow.log_param(\"b\", \"abc\")\r\n        mlflow.log_metric(\"c\", 3)\r\n\r\nfor i in range(3):\r\n   create_run()\r\n```\r\n\r\nAnd the resulting exception when viewing the Contour plot after comparing all three runs:\r\n\r\n```\r\nindex.js:2178 TypeError: Cannot read property 'length' of undefined\r\n    at Function.truncateString (Utils.js:60)\r\n    at CompareRunContour.render (CompareRunContour.js:218)\r\n    at finishClassComponent (react-dom.development.js:8389)\r\n    at updateClassComponent (react-dom.development.js:8357)\r\n    at beginWork (react-dom.development.js:8982)\r\n    at performUnitOfWork (react-dom.development.js:11814)\r\n    at workLoop (react-dom.development.js:11843)\r\n    at renderRoot (react-dom.development.js:11874)\r\n    at performWorkOnRoot (react-dom.development.js:12449)\r\n    at performWork (react-dom.development.js:12370)\r\n    at performSyncWork (react-dom.development.js:12347)\r\n    at interactiveUpdates (react-dom.development.js:12597)\r\n    at interactiveUpdates (react-dom.development.js:1958)\r\n    at dispatchInteractiveEvent (react-dom.development.js:4259)\r\n```",
        "createdAt" : "2019-12-22T00:31:18Z",
        "updatedAt" : "2019-12-22T13:43:55Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      },
      {
        "id" : "477611fb-a8c6-4a6e-a859-12cbc52da611",
        "parentId" : "62dc32a9-2354-47b4-b752-cca38076d8ab",
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "The contour plot doesn't work for non-numeric parameters. We need to remove them. ",
        "createdAt" : "2019-12-22T02:26:51Z",
        "updatedAt" : "2019-12-22T13:43:55Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "c8535141a3d772e3cd4feddb40b7d71e91152587",
    "line" : 141,
    "diffHunk" : "@@ -1,1 +139,143 @@        return;\n      }\n      xs.push(parseFloat(x));\n      ys.push(parseFloat(y));\n      zs.push(parseFloat(z));"
  }
]