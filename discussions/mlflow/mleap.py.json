[
  {
    "id" : "c348aa48-0abd-46a6-a3b6-bcf7086b9489",
    "prId" : 4444,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/4444#pullrequestreview-680357531",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cad2baf7-3a8b-462f-8440-163370819123",
        "parentId" : null,
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "- The `Model` class constructor internally uses a function that imports pyspark (see my comment below).\r\n- `Model()` is executed when `save_model` is **defined**.\r\n\r\nThis means when we import `mlflow.mleap`, `pyspark` is imported if pypsark is importable (if it's not, `try-catch` suppress an error).\r\n\r\n",
        "createdAt" : "2021-06-10T04:54:02Z",
        "updatedAt" : "2021-06-10T05:39:38Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      },
      {
        "id" : "9ac90971-6e4a-47a5-9bd2-3fe313ac8e3a",
        "parentId" : "cad2baf7-3a8b-462f-8440-163370819123",
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "```python\r\n\r\nclass Model(object):\r\n    def __init__(\r\n        self,\r\n        artifact_path=None,\r\n        run_id=None,\r\n        utc_time_created=None,\r\n        flavors=None,\r\n        signature=None,  # ModelSignature\r\n        saved_input_example_info: Dict[str, Any] = None,\r\n        **kwargs\r\n    ):\r\n        ...\r\n        databricks_runtime = get_databricks_runtime()  # <- this imports pyspark to read a spark conf\r\n```",
        "createdAt" : "2021-06-10T05:32:26Z",
        "updatedAt" : "2021-06-10T05:32:27Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "7740114f4c1fc6f1a4172fe73247bfa5e3fe91fe",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +126,130 @@    sample_input,\n    path,\n    mlflow_model=None,\n    signature: ModelSignature = None,\n    input_example: ModelInputExample = None,"
  },
  {
    "id" : "f5c1e0a0-c543-4b3f-a8bd-80f703ab944d",
    "prId" : 1226,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1226#pullrequestreview-235917214",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "72829063-8979-4871-b43f-186915b94db2",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "@dbczumar I think you mentioned these might be used in sagemaker container? i didn't see them used anywhere actually - let me know if I'm missing something (hopefully the tests will tell me if I am but just in case)",
        "createdAt" : "2019-05-09T22:47:50Z",
        "updatedAt" : "2019-05-10T04:17:07Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "0f7ee226-e774-4964-930a-10940cb12b80",
        "parentId" : "72829063-8979-4871-b43f-186915b94db2",
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "`add_to_model` is used in `mlflow.spark.save_model`",
        "createdAt" : "2019-05-10T03:21:38Z",
        "updatedAt" : "2019-05-10T04:17:07Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      },
      {
        "id" : "ceee5aa2-5d02-4fee-8457-d79854389b3a",
        "parentId" : "72829063-8979-4871-b43f-186915b94db2",
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "right, I wasn't going to keyword_only `add_to_model` since the `sample_df` param is the last one. i guess we might as well... :-/",
        "createdAt" : "2019-05-10T04:03:52Z",
        "updatedAt" : "2019-05-10T04:17:07Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      }
    ],
    "commit" : "53af19d284a525fab6933020033fdba0b2681668",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +22,26 @@\n\n@keyword_only\ndef log_model(spark_model, sample_input, artifact_path):\n    \"\"\""
  },
  {
    "id" : "617ebd60-5d4e-4af7-aba0-d293240cd10f",
    "prId" : 540,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/540#pullrequestreview-158676036",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "adcff871-7dc3-49c0-b28f-00d8b36233c1",
        "parentId" : null,
        "authorId" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "body" : "Same here with a Scala example for clarity.",
        "createdAt" : "2018-09-25T17:04:11Z",
        "updatedAt" : "2018-09-25T23:16:40Z",
        "lastEditedBy" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "tags" : [
        ]
      },
      {
        "id" : "305eafd2-0877-4f87-ad00-ed5488820112",
        "parentId" : "adcff871-7dc3-49c0-b28f-00d8b36233c1",
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Done!",
        "createdAt" : "2018-09-25T18:12:10Z",
        "updatedAt" : "2018-09-25T23:16:40Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "0727a170a3a379e9bd27bca28138e5d57e92a012",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +195,199 @@    mleap_schema_struct = tc_inst.sparkSchemaToMleapSchema(dataframe._jdf)\n\n    # Obtain a JSON representation of the MLeap schema object\n    # This is equivalent to the Scala function call\n    # `ml.combust.mleap.json.JsonSupport.MleapStructTypeFormat().write(mleap_schema_struct)`"
  }
]