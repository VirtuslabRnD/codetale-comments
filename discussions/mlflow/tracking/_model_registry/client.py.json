[
  {
    "id" : "728bd362-dddd-4e4b-900e-105f03a4b5ed",
    "prId" : 3376,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3376#pullrequestreview-481410770",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cd404a9b-0af4-4e75-9068-433d0d2e3e56",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "maybe you only meant to change the indent for this line?",
        "createdAt" : "2020-09-02T23:42:01Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "42e7c33a-695d-4fe7-a8d7-8dd38efc2713",
        "parentId" : "cd404a9b-0af4-4e75-9068-433d0d2e3e56",
        "authorId" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "body" : "I blame our new linter. ",
        "createdAt" : "2020-09-03T00:50:30Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "tags" : [
        ]
      }
    ],
    "commit" : "7e958d17cf41380ef390e7e38f22d85634ff169a",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +42,46 @@         :param tags: A dictionary of key-value pairs that are converted into\n                      :py:class:`mlflow.entities.model_registry.RegisteredModelTag` objects.\n        :param description: Description of the model.\n         :return: A single object of :py:class:`mlflow.entities.model_registry.RegisteredModel`\n                  created by backend."
  },
  {
    "id" : "0a3029f6-28f0-4374-b31f-a228f740d921",
    "prId" : 3376,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3376#pullrequestreview-484468880",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "00082d15-bd56-499c-9950-b68b19a3ea04",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "on one hand it seems correct to throw in this case since we're not delivering on the promise of the model version being ready at return time. \r\n\r\non the other hand, this could break people's existing workflows if they already have a wait loop built around their `create_model_version` call... so we'll have to mark this as a breaking change. if we really wanted to break this, this would be the time to do it while the API is marked experimental, but it'd still suck for a user to run into this problem (especially in an automated process). ",
        "createdAt" : "2020-09-02T23:57:44Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "d95a537f-e70b-499a-b012-fd1e8ed1e35c",
        "parentId" : "00082d15-bd56-499c-9950-b68b19a3ea04",
        "authorId" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "body" : "Perhaps rather than a boolean, I implemented `await_ready` as a numeric parameter that represents that amount of time to wait. By default, we can do 5 minutes but users can specify None if they don't want to wait and they can specify even more if they need it?  ",
        "createdAt" : "2020-09-03T00:53:11Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "tags" : [
        ]
      },
      {
        "id" : "97a7dc83-0e52-41a4-bb93-666adeaebe9b",
        "parentId" : "00082d15-bd56-499c-9950-b68b19a3ea04",
        "authorId" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "body" : "Discussed offline, we're going to proceed with `await_creation_for` as a number representing seconds to wait. `0` and `None` will represent skipping waiting. ",
        "createdAt" : "2020-09-03T18:52:18Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "tags" : [
        ]
      },
      {
        "id" : "f7e5de0b-0c9b-4674-95e7-f729b569f0e4",
        "parentId" : "00082d15-bd56-499c-9950-b68b19a3ea04",
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "The exception will still break people's existing workflows if the registration takes more than 5 minutes. Are we okay with that? ",
        "createdAt" : "2020-09-03T22:47:32Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "3ae183a8-db29-472c-be27-fa7422a38c23",
        "parentId" : "00082d15-bd56-499c-9950-b68b19a3ea04",
        "authorId" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "body" : "I can think of a few options when the wait time runs out\r\n\r\n1. throw an error\r\n2. return model version but its still pending\r\n\r\nIn this case, I think we should throw an error because the user can specify how long they'd like to wait and it's consistent with other wait behaviors I've seen before so it's less surprising.\r\n\r\nIn contrast, if we return a model version that is still pending, the user still needs to write a check for pending because it can't trust this function to operate properly. In addition, if they don't check, they run the risk of it randomly failing in their workflow later on when they attempt to use it and it is still pending. Basically. this is a more surprising and less obvious behavior for the function. On the positive note, this is less likely to break existing users but this is experimental so I'm not inclined to worry about this potential issue because it will improves the user experience when it goes GA.  ",
        "createdAt" : "2020-09-04T15:49:29Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "tags" : [
        ]
      },
      {
        "id" : "7d04f639-5f58-465d-a339-31fd388e2ab2",
        "parentId" : "00082d15-bd56-499c-9950-b68b19a3ea04",
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "OK let's just make sure to mark this PR as rn/breaking-change and clearly explain (in release notes) what to expect and do if you already have some workflow around it.",
        "createdAt" : "2020-09-04T18:27:21Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "61443c6f-2aa9-475e-9b63-1502e9fce489",
        "parentId" : "00082d15-bd56-499c-9950-b68b19a3ea04",
        "authorId" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "body" : "I've added the rn/breaking-change and a clear explanation to the release notes. ",
        "createdAt" : "2020-09-08T20:26:57Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "tags" : [
        ]
      }
    ],
    "commit" : "7e958d17cf41380ef390e7e38f22d85634ff169a",
    "line" : 88,
    "diffHunk" : "@@ -1,1 +207,211 @@            while mv.status == pending_status:\n                if datetime.utcnow() > max_datetime:\n                    raise MlflowException(\n                        \"Exceeded max wait time for model name: {} version: {} to become READY. \\\n                            Status: {} Wait Time: {}\".format("
  },
  {
    "id" : "23b3169b-394f-463d-ac8b-e2f6231c5b22",
    "prId" : 3376,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3376#pullrequestreview-484527989",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae1c94fb-e6d9-44b9-98fb-1a4d28a98d53",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "did we want to add a message here?",
        "createdAt" : "2020-09-08T21:10:59Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "98b87e67-a329-4fe1-b8a0-fd829deb8dd9",
        "parentId" : "ae1c94fb-e6d9-44b9-98fb-1a4d28a98d53",
        "authorId" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "body" : "Yes! I forgot to add it. My apologies. ",
        "createdAt" : "2020-09-08T22:15:38Z",
        "updatedAt" : "2020-09-09T22:58:36Z",
        "lastEditedBy" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "tags" : [
        ]
      }
    ],
    "commit" : "7e958d17cf41380ef390e7e38f22d85634ff169a",
    "line" : 84,
    "diffHunk" : "@@ -1,1 +203,207 @@                mv.version,\n            )\n            max_datetime = datetime.utcnow() + timedelta(seconds=await_creation_for)\n            pending_status = ModelVersionStatus.to_string(ModelVersionStatus.PENDING_REGISTRATION)\n            while mv.status == pending_status:"
  }
]