[
  {
    "id" : "de5601c6-ea00-4869-a84c-229065c23f0f",
    "prId" : 3119,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3119#pullrequestreview-460217086",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c112abe0-6044-4d92-b0e2-ba76808b6328",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "we might want to make it `'dbfs:/databricks/mlflow-tmp-external-source'` so it's not inside `dbfs:/databricks/mlflow` which is the root directory for default run artifact locations (non-ACL'd): \r\n[+] Easier to distinguish as a separate kind of artifacts (to delete)\r\n[-] Harder to discover (to delete) ?",
        "createdAt" : "2020-07-27T07:22:41Z",
        "updatedAt" : "2020-08-03T06:34:09Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "1ddb1410-0925-458a-ba5c-f9a9390106fa",
        "parentId" : "c112abe0-6044-4d92-b0e2-ba76808b6328",
        "authorId" : "436a8363-a9c6-409f-a948-2be39402f59c",
        "body" : "Would these deletions be done by the user?",
        "createdAt" : "2020-08-03T16:54:52Z",
        "updatedAt" : "2020-08-03T17:30:02Z",
        "lastEditedBy" : "436a8363-a9c6-409f-a948-2be39402f59c",
        "tags" : [
        ]
      },
      {
        "id" : "8d216539-3175-43eb-bf9f-f34a062d9934",
        "parentId" : "c112abe0-6044-4d92-b0e2-ba76808b6328",
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "Yeah - because `create_model_version` is asynchronous (on Databricks due to the artifact copy), it's difficult/impossible for the client to do the deletion automatically. \r\n\r\nI'm thinking the current path is okay - we don't assume that all folders inside `dbfs:/databricks/mlflow/tmp-external-source` are run folders since it is completely user-writable.",
        "createdAt" : "2020-08-03T17:36:34Z",
        "updatedAt" : "2020-08-03T17:36:34Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      }
    ],
    "commit" : "d857badd9b4f4e208367ba1e6c5b96e7c80b8a2b",
    "line" : 69,
    "diffHunk" : "@@ -1,1 +100,104 @@        source_with_profile = add_databricks_profile_info_to_artifact_uri(source, source_host_uri)\n        _download_artifact_from_uri(source_with_profile, local_dir)\n        dest_root = 'dbfs:/databricks/mlflow/tmp-external-source/'\n        dest_root_with_profile = add_databricks_profile_info_to_artifact_uri(\n            dest_root, target_databricks_profile_uri)"
  },
  {
    "id" : "72114c8a-674b-4000-87b9-49637a59be94",
    "prId" : 1171,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1171#pullrequestreview-233703285",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "61ca36e2-c2f6-4686-bf37-f13d19fd3843",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "this would be a problem if artifact_uri is a file path on windows right? this function directly powers functions like `load_model` which i assumed would take in windows paths. ",
        "createdAt" : "2019-05-03T22:21:45Z",
        "updatedAt" : "2019-05-05T06:28:02Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "1177d6df-ee82-48dc-9309-e008bb7c9dfa",
        "parentId" : "61ca36e2-c2f6-4686-bf37-f13d19fd3843",
        "authorId" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "body" : "Yes but I don't think we can make this work with windows paths, at least not without some sacrifices - i.e. what if the artifact name contains '\\'? \r\n\r\nI think it's ok not to accept windows paths here because the argument is artifact path which we say is always posix. User can still supply posix path on windows or fully qualified uri.  \r\n",
        "createdAt" : "2019-05-03T23:13:35Z",
        "updatedAt" : "2019-05-05T06:28:02Z",
        "lastEditedBy" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "tags" : [
        ]
      }
    ],
    "commit" : "23c61ed20a1e1523438f00290d0afb8fe4b4c2ab",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +54,58 @@                        a local output path will be created.\n    \"\"\"\n    artifact_src_dir = posixpath.dirname(artifact_uri)\n    artifact_src_relative_path = posixpath.basename(artifact_uri)\n    artifact_repo = get_artifact_repository(artifact_uri=artifact_src_dir)"
  }
]