[
  {
    "id" : "b3850f7b-d151-4561-90b6-d4a273f16a86",
    "prId" : 1171,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1171#pullrequestreview-233699349",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3bd1704a-3ed9-47c2-a22f-ce7e56d49b58",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "should we say here that `artifact_path` should be in the posix path format",
        "createdAt" : "2019-05-03T21:06:09Z",
        "updatedAt" : "2019-05-05T06:28:02Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "50c27a76-fa96-4763-9a72-18934008eefe",
        "parentId" : "3bd1704a-3ed9-47c2-a22f-ce7e56d49b58",
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "or maybe since that applies to all methods we can say it in the class docstring",
        "createdAt" : "2019-05-03T21:07:23Z",
        "updatedAt" : "2019-05-05T06:28:02Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      },
      {
        "id" : "f4c090e2-de12-49b5-a124-078adb3b1141",
        "parentId" : "3bd1704a-3ed9-47c2-a22f-ce7e56d49b58",
        "authorId" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "body" : "That's what I was thinking. But I guess it would not hurt to mention it everywhere.",
        "createdAt" : "2019-05-03T22:49:45Z",
        "updatedAt" : "2019-05-05T06:28:02Z",
        "lastEditedBy" : "d79ebb0f-0833-4329-8a37-7ae540003587",
        "tags" : [
        ]
      }
    ],
    "commit" : "23c61ed20a1e1523438f00290d0afb8fe4b4c2ab",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +30,34 @@        :param local_file: Path to artifact to log\n        :param artifact_path: Directory within the run's artifact directory in which to log the\n                              artifact.\n        \"\"\"\n        pass"
  },
  {
    "id" : "a08de7e9-4b82-4e45-a01a-de1d5e3536a1",
    "prId" : 975,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/975#pullrequestreview-213006940",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "da75b5db-6af4-4c43-84aa-9a758bed139d",
        "parentId" : null,
        "authorId" : "defbdbf6-c2b5-4b1e-b40b-da9b7f2d2e74",
        "body" : "Log a local file. See comments about tense below.",
        "createdAt" : "2019-03-11T18:21:28Z",
        "updatedAt" : "2019-03-12T22:28:42Z",
        "lastEditedBy" : "defbdbf6-c2b5-4b1e-b40b-da9b7f2d2e74",
        "tags" : [
        ]
      }
    ],
    "commit" : "1ff9e927c858454f17b62cac2024009d6b32948d",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +31,35 @@        \"\"\"\n        Log a local file as an artifact, optionally taking an ``artifact_path`` to place it in\n        within the run's artifacts. Run artifacts can be organized into directories, so you can\n        place the artifact in a directory this way.\n"
  },
  {
    "id" : "47a7918e-c134-4f63-b8bb-d5f2f691dc96",
    "prId" : 779,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/779#pullrequestreview-188246966",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "627736c5-55e3-4d84-8a10-81ceb7112fc1",
        "parentId" : null,
        "authorId" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "body" : "L79 should technically use the `get_path_module`, no?",
        "createdAt" : "2018-12-28T00:20:57Z",
        "updatedAt" : "2019-01-05T05:04:04Z",
        "lastEditedBy" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "tags" : [
        ]
      },
      {
        "id" : "cf1a1c6e-9a94-489d-af8e-861a629a95d4",
        "parentId" : "627736c5-55e3-4d84-8a10-81ceb7112fc1",
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "Good catch! Changed to `get_path_module()`",
        "createdAt" : "2018-12-28T10:11:35Z",
        "updatedAt" : "2019-01-05T05:04:04Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      }
    ],
    "commit" : "4f2f339e6dc13da1c62eafb5f9da9da4dc4db1c7",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +73,77 @@                         directory on the local filesystem.\n        :return: Absolute path of the local filesystem location containing the downloaded artifacts.\n        \"\"\"\n        # TODO: Probably need to add a more efficient method to stream just a single artifact\n        # without downloading it, or to get a pre-signed URL for cloud storage."
  },
  {
    "id" : "401a1aec-6fb7-45c3-aa7f-2c57a09f8425",
    "prId" : 521,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/521#pullrequestreview-157024400",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6237488a-f805-46c0-a007-64c725c13ef5",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "From offline discussion with @aarondav - returning an empty list when listing a file isn't super intuitive. Ideally we'd either error (Java behavior) or return the file itself (Linux). However, we'll defer that change as a follow-up in favor of documenting the current behavior here to get this fix in.",
        "createdAt" : "2018-09-19T18:41:00Z",
        "updatedAt" : "2018-09-19T21:27:39Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      },
      {
        "id" : "567f912c-92db-443e-aec6-f277edfd2519",
        "parentId" : "6237488a-f805-46c0-a007-64c725c13ef5",
        "authorId" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "body" : "Let's include that this will return an error in the case where the path is neither a file nor directory. We don't have to specify what kind of error...",
        "createdAt" : "2018-09-19T21:12:28Z",
        "updatedAt" : "2018-09-19T21:27:39Z",
        "lastEditedBy" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "tags" : [
        ]
      }
    ],
    "commit" : "11924a71332dc9d64f61f7757207c50f2ef9e83c",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +44,48 @@    def list_artifacts(self, path):\n        \"\"\"\n        Return all the artifacts for this run_uuid directly under path. If path is a file, returns\n        an empty list. Will error if path is neither a file nor directory.\n"
  },
  {
    "id" : "4c212305-6a65-4f63-bfbd-5d1d14209f60",
    "prId" : 173,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/173#pullrequestreview-139251677",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d1de8841-fe67-462d-9c47-0ddfb2b4df06",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "In the future, it could be nice to make just a single `list_blobs` request & use the iterator from that request -  we can always add such optimizations later",
        "createdAt" : "2018-07-18T17:16:43Z",
        "updatedAt" : "2018-07-21T07:55:51Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      },
      {
        "id" : "15ab6cda-638f-4383-8099-207a34c9071e",
        "parentId" : "d1de8841-fe67-462d-9c47-0ddfb2b4df06",
        "authorId" : "0a4acfc6-1ae8-4780-9330-d105b352ef9e",
        "body" : "I tried but the returned iterator [can't be used twice](https://github.com/GoogleCloudPlatform/google-cloud-python/blob/master/api_core/google/api_core/page_iterator.py#L189)",
        "createdAt" : "2018-07-21T07:31:08Z",
        "updatedAt" : "2018-07-21T07:55:51Z",
        "lastEditedBy" : "0a4acfc6-1ae8-4780-9330-d105b352ef9e",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a9a82d8e188b409f7a3b6a18f3ad536651d8848",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +247,251 @@        bkt = self.gcs.Client().get_bucket(bucket)\n\n        infos = self._list_folders(bkt, prefix)\n\n        results = bkt.list_blobs(prefix=prefix, delimiter=\"/\")"
  },
  {
    "id" : "40de11f2-0b8c-4cd8-aeeb-2a85149a4b7f",
    "prId" : 173,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/173#pullrequestreview-139251817",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3c9d56b8-afc8-4cf6-b149-ec0d4b211371",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "Is `page.prefixes` an internal API? I can't seem to find it in the [Page API docs](https://googlecloudplatform.github.io/google-cloud-python/latest/core/page_iterator.html#google.api_core.page_iterator.Page), but also can't find another API we could use instead to get a set of GCS \"directories\", so fine with using `page.prefixes` if needed.",
        "createdAt" : "2018-07-18T17:21:27Z",
        "updatedAt" : "2018-07-21T07:55:51Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      },
      {
        "id" : "910e9ce4-580d-42e8-a696-9eb03685d960",
        "parentId" : "3c9d56b8-afc8-4cf6-b149-ec0d4b211371",
        "authorId" : "0a4acfc6-1ae8-4780-9330-d105b352ef9e",
        "body" : "I also couldn't find any documentation on this but it seems a common way to retrieve the \"folder  structure\" of a blob",
        "createdAt" : "2018-07-21T07:37:59Z",
        "updatedAt" : "2018-07-21T07:55:51Z",
        "lastEditedBy" : "0a4acfc6-1ae8-4780-9330-d105b352ef9e",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a9a82d8e188b409f7a3b6a18f3ad536651d8848",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +260,264 @@        dir_paths = set()\n        for page in results.pages:\n            dir_paths.update(page.prefixes)\n\n        return [FileInfo(path[len(prefix):-1], True, None)for path in dir_paths]"
  },
  {
    "id" : "73864b5a-526b-472a-950a-d54edb6e2c68",
    "prId" : 152,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/152#pullrequestreview-137864561",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4bb8fd93-6be2-4147-94f7-02d94f89c77f",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "Thanks for adding docs, would you be able to update the `Storage` subsection of the tracking docs to (a) mention GCS as a storage option and (b) include a link to the the [GCS auth docs](https://google-cloud.readthedocs.io/en/latest/core/auth.html )? Specifically, we should update [this file](https://github.com/databricks/mlflow/blob/master/docs/source/tracking.rst#storage) - thanks!",
        "createdAt" : "2018-07-16T23:51:13Z",
        "updatedAt" : "2018-07-17T18:35:34Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      },
      {
        "id" : "63010cbe-6387-40cb-88f9-56b08bd132d5",
        "parentId" : "4bb8fd93-6be2-4147-94f7-02d94f89c77f",
        "authorId" : "9cc04a68-f9f3-4fc4-aec7-5019e24e4d9b",
        "body" : "I added docs here: https://github.com/databricks/mlflow/pull/152/commits/e387bd0e6034683330305ad447104fd5258f3fad",
        "createdAt" : "2018-07-17T14:44:59Z",
        "updatedAt" : "2018-07-17T18:35:34Z",
        "lastEditedBy" : "9cc04a68-f9f3-4fc4-aec7-5019e24e4d9b",
        "tags" : [
        ]
      }
    ],
    "commit" : "00ec0bed22b44faf8fd94f46703601c9f7fcc181",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +193,197 @@\nclass GCSArtifactRepository(ArtifactRepository):\n    \"\"\"Stores artifacts on Google Cloud Storage.\n       Assumes the google credentials are available in the environment,\n       see https://google-cloud.readthedocs.io/en/latest/core/auth.html \"\"\""
  },
  {
    "id" : "38eb6c4b-4f4d-4a4b-8725-69c40f45872f",
    "prId" : 152,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/152#pullrequestreview-137863773",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "550588d3-767b-44a5-bd61-ffe17df948fd",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "Was a little confused whether `list_blobs` returns all the blobs in the bucket - the [GCS docs](https://googlecloudplatform.github.io/google-cloud-python/latest/storage/buckets.html#google.cloud.storage.bucket.Bucket.list_blobs) suggest that the `page_token` argument is required:\r\n\r\n```\r\npage_token (str) – (Optional) Opaque marker for the next “page” of blobs. If not passed, will return the first page of blobs.\r\n```\r\n\r\nHowever based on [this SO post](https://stackoverflow.com/a/43646557) it seems passing `page_token` isn't necessary. Would you happen to know for sure one way or the other?",
        "createdAt" : "2018-07-17T00:05:51Z",
        "updatedAt" : "2018-07-17T18:35:34Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      },
      {
        "id" : "b628989a-a4f3-4146-ae0e-29c956e1cf06",
        "parentId" : "550588d3-767b-44a5-bd61-ffe17df948fd",
        "authorId" : "9cc04a68-f9f3-4fc4-aec7-5019e24e4d9b",
        "body" : "I can confirm that passing no page_token does return all the objects. I haven't looked at the implementation, but I've gotten >50k objects back from the python sdk without using page_tokens.",
        "createdAt" : "2018-07-17T14:43:35Z",
        "updatedAt" : "2018-07-17T18:35:34Z",
        "lastEditedBy" : "9cc04a68-f9f3-4fc4-aec7-5019e24e4d9b",
        "tags" : [
        ]
      }
    ],
    "commit" : "00ec0bed22b44faf8fd94f46703601c9f7fcc181",
    "line" : 77,
    "diffHunk" : "@@ -1,1 +246,250 @@        prefix = dest_path + \"/\"\n\n        results = self.gcs.Client().get_bucket(bucket).list_blobs(prefix=prefix)\n        for result in results:\n            is_dir = result.name.endswith('/')"
  }
]