[
  {
    "id" : "d661cff5-cdeb-4409-b3c1-3d89e7d9ab7a",
    "prId" : 3728,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ce5aef9f-3a90-4336-b53f-a90401ac26c6",
        "parentId" : null,
        "authorId" : "44c45271-257d-46fc-ab95-502bf7ff665e",
        "body" : "The docs all previously referred to this being a local action, so calls to AWS that can only be made from an instance don't make sense in that context? How will this behave if the controlling node isn't on ec2? will this throw an exception?\n",
        "createdAt" : "2013-08-02T21:05:30Z",
        "updatedAt" : "2013-08-02T21:05:30Z",
        "lastEditedBy" : "44c45271-257d-46fc-ab95-502bf7ff665e",
        "tags" : [
        ]
      },
      {
        "id" : "4a74ff1d-2bac-4714-b8b2-1bf244303f4f",
        "parentId" : "ce5aef9f-3a90-4336-b53f-a90401ac26c6",
        "authorId" : "7fa1812e-60b0-4aee-a36e-6b8655244424",
        "body" : "Yup, agreed and mentioned the same to Bruce in the other ticket, he'll make\nthe changes.\n\nWe also need to keep endpoint connection open outside of regions for\nEucalyptus cloud support.\nOn 2 Aug 2013 22:06, \"ianoc\" notifications@github.com wrote:\n\n> In library/cloud/ec2_elb:\n> \n> > @@ -181,9 +220,28 @@ def main():\n> >      if not ec2_access_key and 'EC2_ACCESS_KEY' in os.environ:\n> >          ec2_access_key = os.environ['EC2_ACCESS_KEY']\n> > -    if not ec2_region and 'EC2_REGION' in os.environ:\n> > -        ec2_region = os.environ['EC2_REGION']\n> >   +\n> > -    if not ec2_region:\n> > -        response = urllib2.urlopen('http://169.254.169.254/latest/meta-data/placement/availability-zone')\n> \n> The docs all previously referred to this being a local action, so calls to\n> AWS that can only be made from an instance don't make sense in that\n> context? How will this behave if the controlling node isn't on ec2? will\n> this throw an exception?\n> \n> â€”\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/pull/3728/files#r5562980\n> .\n",
        "createdAt" : "2013-08-02T23:18:53Z",
        "updatedAt" : "2013-08-02T23:18:53Z",
        "lastEditedBy" : "7fa1812e-60b0-4aee-a36e-6b8655244424",
        "tags" : [
        ]
      }
    ],
    "commit" : "8171b7ba48d701846aabf1982592703beee0aabb",
    "line" : 121,
    "diffHunk" : "@@ -1,1 +225,229 @@\n    if not ec2_region:\n        response = urllib2.urlopen('http://169.254.169.254/latest/meta-data/placement/availability-zone')\n        az = response.read()\n        for r in AWS_REGIONS:"
  },
  {
    "id" : "33de06ab-af53-4aae-a5d1-a571519ccaf1",
    "prId" : 3728,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9347fb69-b77e-4493-838f-f3cccb27c208",
        "parentId" : null,
        "authorId" : "44c45271-257d-46fc-ab95-502bf7ff665e",
        "body" : "elb_regions is a function in boto that should be used instead of another variable that will need to be maintained externally to boto?\n",
        "createdAt" : "2013-08-02T21:06:51Z",
        "updatedAt" : "2013-08-02T21:06:51Z",
        "lastEditedBy" : "44c45271-257d-46fc-ab95-502bf7ff665e",
        "tags" : [
        ]
      }
    ],
    "commit" : "8171b7ba48d701846aabf1982592703beee0aabb",
    "line" : 123,
    "diffHunk" : "@@ -1,1 +227,231 @@        response = urllib2.urlopen('http://169.254.169.254/latest/meta-data/placement/availability-zone')\n        az = response.read()\n        for r in AWS_REGIONS:\n            if az.startswith(r):\n                ec2_region = r"
  },
  {
    "id" : "bfc43404-3f51-4989-80a4-01c1253792ef",
    "prId" : 3728,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b43e1511-8179-4f7f-b763-a1ac3f42bf87",
        "parentId" : null,
        "authorId" : "44c45271-257d-46fc-ab95-502bf7ff665e",
        "body" : "If you use the elb regions needing endpoint hostnames goes away too\n",
        "createdAt" : "2013-08-02T21:08:09Z",
        "updatedAt" : "2013-08-02T21:08:09Z",
        "lastEditedBy" : "44c45271-257d-46fc-ab95-502bf7ff665e",
        "tags" : [
        ]
      }
    ],
    "commit" : "8171b7ba48d701846aabf1982592703beee0aabb",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +175,179 @@\n        try:\n            endpoint=\"elasticloadbalancing.%s.amazonaws.com\" % self.ec2_region\n            connect_region = RegionInfo(name=self.ec2_region, endpoint=endpoint)\n            elb = boto.ec2.elb.ELBConnection(self.ec2_access_key, self.ec2_secret_key, region=connect_region)"
  }
]