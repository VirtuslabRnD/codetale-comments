[
  {
    "id" : "0cddce9f-2967-4c48-b015-e22167888b20",
    "prId" : 5794,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/5794#pullrequestreview-18876576",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d7066085-b4c8-47a6-9d34-aeddb185fe0b",
        "parentId" : null,
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "What if `serviceData.emails` is an empty array? ",
        "createdAt" : "2017-01-27T11:54:42Z",
        "updatedAt" : "2017-01-27T18:55:39Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      },
      {
        "id" : "98494c3b-d7f1-4649-a1fc-737c18cfe8d5",
        "parentId" : "d7066085-b4c8-47a6-9d34-aeddb185fe0b",
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "@marceloschmidt then the `serviceData.email` will be undefined",
        "createdAt" : "2017-01-27T13:33:45Z",
        "updatedAt" : "2017-01-27T18:55:39Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "3d054d7e-fbf7-4fbe-be7c-5133a212ff4a",
        "parentId" : "d7066085-b4c8-47a6-9d34-aeddb185fe0b",
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "Won't it throw an error because you're trying to access property [0]?\r\n\r\n`serviceData.email = serviceData.emails.sort(a => a.primary !== true).filter(item => item.verified === true)[0];`",
        "createdAt" : "2017-01-27T13:48:38Z",
        "updatedAt" : "2017-01-27T18:55:39Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      },
      {
        "id" : "d31d7ad8-5347-4d71-b891-1936d7f624be",
        "parentId" : "d7066085-b4c8-47a6-9d34-aeddb185fe0b",
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "@marceloschmidt \r\n![image](https://cloud.githubusercontent.com/assets/234261/22378508/fa53ca00-e49c-11e6-96df-fb16369035f5.png)\r\n",
        "createdAt" : "2017-01-27T16:29:17Z",
        "updatedAt" : "2017-01-27T18:55:39Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "73fbc65e-200d-405b-92ca-942b332b5e08",
        "parentId" : "d7066085-b4c8-47a6-9d34-aeddb185fe0b",
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "👍  thanks for explaining @rodrigok ",
        "createdAt" : "2017-01-27T16:30:22Z",
        "updatedAt" : "2017-01-27T18:55:39Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      }
    ],
    "commit" : "d76cdbedf8a41dabeaab7a03ae5135da06157b50",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +19,23 @@\tif (serviceName === 'meteor-developer') {\n\t\tif (Array.isArray(serviceData.emails)) {\n\t\t\tserviceData.email = serviceData.emails.sort(a => a.primary !== true).filter(item => item.verified === true)[0];\n\t\t}\n\t}"
  }
]