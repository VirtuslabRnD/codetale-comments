[
  {
    "id" : "240e0261-31fd-468f-acad-d19c5a0846ff",
    "prId" : 6597,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/6597#pullrequestreview-30924000",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f0f1fcb3-7646-468d-adc6-8b67b3f739e9",
        "parentId" : null,
        "authorId" : "61efeb10-b890-40d0-8451-b71c60789171",
        "body" : "Isn't this going to make quite a lot of request to the db to get the users name?\r\nWould it be better to collect an array of user ids then fetch the full names all at once outside the loop?",
        "createdAt" : "2017-04-04T22:21:50Z",
        "updatedAt" : "2017-04-06T12:41:32Z",
        "lastEditedBy" : "61efeb10-b890-40d0-8451-b71c60789171",
        "tags" : [
        ]
      },
      {
        "id" : "3212a57d-4a72-4b63-b149-d58c3ad396b0",
        "parentId" : "f0f1fcb3-7646-468d-adc6-8b67b3f739e9",
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "Not to the DB, to the memory cache, it's really fast cuz is indexed using a hash map",
        "createdAt" : "2017-04-04T23:01:04Z",
        "updatedAt" : "2017-04-06T12:41:32Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "b152621d5e615ef87ef923786fc442a2538e979f",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +66,70 @@\t\t\t});\n\t\t\tif (message.u && message.u._id && UI_Use_Real_Name) {\n\t\t\t\tconst user = RocketChat.models.Users.findOneById(message.u._id);\n\t\t\t\tmessage.u.name = user && user.name;\n\t\t\t}"
  }
]