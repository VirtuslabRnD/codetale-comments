[
  {
    "id" : "ce01088b-645f-432d-90af-d5193ba0d204",
    "prId" : 12566,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/12566#pullrequestreview-177630408",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5393d40e-ac64-4f96-ab02-0e181b286615",
        "parentId" : null,
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "mongodb applies the same [BSON Document Size](https://docs.mongodb.com/manual/reference/limits/#BSON-Document-Size) limit to lookup results.. it didn't reach this limit on my 200k users database, but I'm almost sure that limit will be hit on larger databases which will make this query to fail",
        "createdAt" : "2018-11-13T13:19:00Z",
        "updatedAt" : "2018-12-04T00:15:26Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      },
      {
        "id" : "2efffdee-c323-4605-ab59-4c33959f5daf",
        "parentId" : "5393d40e-ac64-4f96-ab02-0e181b286615",
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "ðŸ™„",
        "createdAt" : "2018-11-14T02:04:32Z",
        "updatedAt" : "2018-12-04T00:15:26Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      },
      {
        "id" : "0f318bfe-4e3f-4b4b-a117-a70ec0e798bd",
        "parentId" : "5393d40e-ac64-4f96-ab02-0e181b286615",
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "@sampaiodiego are you sure about that? I made a fast search here:\r\nhttps://docs.mongodb.com/manual/core/aggregation-pipeline-limits/#result-size-restrictions\r\nand if I'm not wrong the limit just applies for results(16mb per item), I dont think your subscription + user will get that size, and we can use `$project` to reduce the size...could you check it again? <3",
        "createdAt" : "2018-11-19T20:50:17Z",
        "updatedAt" : "2018-12-04T00:15:26Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      },
      {
        "id" : "185d5d59-e3a8-4fa6-804e-05547195d7a2",
        "parentId" : "5393d40e-ac64-4f96-ab02-0e181b286615",
        "authorId" : "d1d1486d-a9d6-4052-8ee5-6141a9338ca4",
        "body" : "**EACH** document in the result set is subject to the BSON Document Size limit, currently 16 megabytes;",
        "createdAt" : "2018-11-22T12:15:12Z",
        "updatedAt" : "2018-12-04T00:15:26Z",
        "lastEditedBy" : "d1d1486d-a9d6-4052-8ee5-6141a9338ca4",
        "tags" : [
        ]
      }
    ],
    "commit" : "79c99921a9ee3147ac105c2a706f612496fbf6cf",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +24,28 @@\t\t\t\t{ $match: { rid } },\n\t\t\t\t{\n\t\t\t\t\t$lookup:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfrom: 'users',"
  },
  {
    "id" : "9b29976d-af5a-4458-a0ed-3ea24be9d368",
    "prId" : 3851,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/3851#pullrequestreview-30392542",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "85dc8e82-1b08-4beb-b4d3-059c5c505072",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "This is an API change, can you describe on HISTORY.md that will change from an array of strings to an array of objects?",
        "createdAt" : "2017-04-01T20:35:50Z",
        "updatedAt" : "2017-04-03T17:27:29Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "dfb6c2af-9f95-4ab0-8e51-2c68a0cded08",
        "parentId" : "85dc8e82-1b08-4beb-b4d3-059c5c505072",
        "authorId" : "61efeb10-b890-40d0-8451-b71c60789171",
        "body" : "Done",
        "createdAt" : "2017-04-01T22:46:32Z",
        "updatedAt" : "2017-04-03T17:27:29Z",
        "lastEditedBy" : "61efeb10-b890-40d0-8451-b71c60789171",
        "tags" : [
        ]
      }
    ],
    "commit" : "cf6f43b2b97b1b9020227699ff7be1d3aae3f111",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +24,28 @@\n\t\tconst map = (record) => {\n\t\t\treturn {\n\t\t\t\t_id: record._user._id,\n\t\t\t\tusername: record._user.username,"
  }
]