[
  {
    "id" : "43a42dc9-3724-45b1-9d91-c52901aaddd0",
    "prId" : 21687,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/21687#pullrequestreview-663671252",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "50b2da3c-df21-4da2-9565-b4c1433dde12",
        "parentId" : null,
        "authorId" : "34fde88b-e8d3-4125-af3a-0d4cc8bd83a8",
        "body" : "In here, a Team's name is the same as the Room's name. So you don't need to fetch team's data to know its name.",
        "createdAt" : "2021-05-17T16:09:49Z",
        "updatedAt" : "2021-05-17T16:13:43Z",
        "lastEditedBy" : "34fde88b-e8d3-4125-af3a-0d4cc8bd83a8",
        "tags" : [
        ]
      },
      {
        "id" : "bdf88ed9-e533-47a4-8dd7-56bbf4fd2d56",
        "parentId" : "50b2da3c-df21-4da2-9565-b4c1433dde12",
        "authorId" : "300e6b86-7e45-416a-b277-55c605417b9b",
        "body" : "I think it's not possible to use only `room.name` here since all rooms in `result` are **not** team mains. Which means that the `belongsTo` field from each room needs to be filled with its parent room's name ðŸ¤”",
        "createdAt" : "2021-05-19T19:09:11Z",
        "updatedAt" : "2021-05-19T19:09:12Z",
        "lastEditedBy" : "300e6b86-7e45-416a-b277-55c605417b9b",
        "tags" : [
        ]
      },
      {
        "id" : "fc8e05c2-220d-40e2-a4bf-708359caa5af",
        "parentId" : "50b2da3c-df21-4da2-9565-b4c1433dde12",
        "authorId" : "34fde88b-e8d3-4125-af3a-0d4cc8bd83a8",
        "body" : "But there should be an indicator if the room is the \"main\" room (teamMain i guess). So you can extract the names of the main rooms and use them to match all the other rooms\r\n\r\nSomething like:\r\n1. Filter the main rooms and store them as an array\r\n2. Looping thorugh all rooms, and using arr.find on the prev array to get the team's name (which is the room's name)\r\n",
        "createdAt" : "2021-05-19T19:58:00Z",
        "updatedAt" : "2021-05-19T19:58:00Z",
        "lastEditedBy" : "34fde88b-e8d3-4125-af3a-0d4cc8bd83a8",
        "tags" : [
        ]
      },
      {
        "id" : "c40e79e5-4213-459a-94a7-f979c25b4b7e",
        "parentId" : "50b2da3c-df21-4da2-9565-b4c1433dde12",
        "authorId" : "300e6b86-7e45-416a-b277-55c605417b9b",
        "body" : "Great, certainly better than searching for the team's name in three lists ðŸ˜† \r\nI've just applied these changes",
        "createdAt" : "2021-05-19T21:19:58Z",
        "updatedAt" : "2021-05-19T21:20:25Z",
        "lastEditedBy" : "300e6b86-7e45-416a-b277-55c605417b9b",
        "tags" : [
        ]
      }
    ],
    "commit" : "d453e962510b823179acab66f814349cb5270564",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +88,92 @@\t\t\tconst team = teamsMains.find((mainRoom) => mainRoom._id === room.teamId);\n\t\t\tif (team) {\n\t\t\t\troom.belongsTo = team.name;\n\t\t\t}\n\t\t}"
  },
  {
    "id" : "969130be-2228-4ed8-b1fe-c150e2a614b0",
    "prId" : 15206,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/15206#pullrequestreview-277526977",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "efda5f28-fa7f-4cc7-ae2b-a94c72f0ad34",
        "parentId" : null,
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "using just `find` here seems more appropriate\r\n```suggestion\r\n\t\t\t\tconst exists = results.find((e) => e._id === user._id);\r\n```",
        "createdAt" : "2019-08-21T02:12:08Z",
        "updatedAt" : "2019-08-21T02:12:09Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      }
    ],
    "commit" : "70a0d664c21298f7a25642dac4102ffe04341ecf",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +132,136 @@\n\t\t\tfor (const user of users) {\n\t\t\t\tconst exists = results.findIndex((e) => e._id === user._id) !== -1;\n\n\t\t\t\tif (exists) { continue; }"
  }
]