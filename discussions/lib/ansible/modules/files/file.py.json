[
  {
    "id" : "b8919a39-0974-4652-b650-d01184c16c98",
    "prId" : 22771,
    "prUrl" : "https://github.com/ansible/ansible/pull/22771#pullrequestreview-29236630",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae81bfd1-8ed6-4481-8566-bc43b3624d64",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "remove this line, not needed",
        "createdAt" : "2017-03-27T14:42:28Z",
        "updatedAt" : "2017-03-27T18:55:59Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "b454cdf9-7d6e-41fe-a121-d95ba2657e52",
        "parentId" : "ae81bfd1-8ed6-4481-8566-bc43b3624d64",
        "authorId" : "036a0b5f-7b90-4dd6-8ae9-879788824902",
        "body" : "done.",
        "createdAt" : "2017-03-27T16:41:59Z",
        "updatedAt" : "2017-03-27T18:55:59Z",
        "lastEditedBy" : "036a0b5f-7b90-4dd6-8ae9-879788824902",
        "tags" : [
        ]
      }
    ],
    "commit" : "8cc238f564dede74ec426873ee3a3d6727ff811f",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +407,411 @@                module.fail_json(dest=path, src=src, msg='Cannot link, %s exists at destination' % prev_state)\n        elif prev_state == 'directory':\n            changed = True\n            if os.path.exists(b_path):\n                if state == 'hard' and os.stat(b_path).st_ino == os.stat(b_src).st_ino:"
  },
  {
    "id" : "8e951af6-7201-47e0-bc8f-24464d7a8059",
    "prId" : 39345,
    "prUrl" : "https://github.com/ansible/ansible/pull/39345#pullrequestreview-119308565",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "58faa85a-aece-40f2-9aca-329fcb270104",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "Should this be `_original_basename` to match `_diff_peek`?",
        "createdAt" : "2018-05-10T10:19:59Z",
        "updatedAt" : "2018-05-10T10:48:13Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      },
      {
        "id" : "3f3eec79-cf5f-4afc-81e4-51f488061c58",
        "parentId" : "58faa85a-aece-40f2-9aca-329fcb270104",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "original_basename is used for more than one module in several action_plugins.  I'll have to look at each place to see if they should all be made private or if certain ones call file while others are calling (for instance) copy.",
        "createdAt" : "2018-05-11T03:21:30Z",
        "updatedAt" : "2018-05-11T03:21:30Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "10f0bcce9c3e73f49fb49c667eb357b54235fa85",
    "line" : 686,
    "diffHunk" : "@@ -1,1 +591,595 @@            state=dict(choices=['file', 'directory', 'link', 'hard', 'touch', 'absent'], default=None),\n            path=dict(aliases=['dest', 'name'], required=True, type='path'),\n            original_basename=dict(required=False),  # Internal use only, for recursive ops\n            recurse=dict(default=False, type='bool'),\n            force=dict(required=False, default=False, type='bool'),  # Note: Should not be in file_common_args in future"
  },
  {
    "id" : "c847826f-bf58-4866-ad0e-98583395a72d",
    "prId" : 40326,
    "prUrl" : "https://github.com/ansible/ansible/pull/40326#pullrequestreview-121234716",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bde0edb8-6166-483d-9de7-ff5fa146ae4a",
        "parentId" : null,
        "authorId" : "311820dd-fcb9-46df-a201-9c0e7d6fac58",
        "body" : "why not an `else` or `elif prev_state == 'directory'` around all this to avoid the repetition of the return? That's a maintenance trip hazard...",
        "createdAt" : "2018-05-17T21:31:19Z",
        "updatedAt" : "2018-05-17T21:33:57Z",
        "lastEditedBy" : "311820dd-fcb9-46df-a201-9c0e7d6fac58",
        "tags" : [
        ]
      },
      {
        "id" : "6f01377f-bf76-4407-9049-a3d54f771cb0",
        "parentId" : "bde0edb8-6166-483d-9de7-ff5fa146ae4a",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "I can't remember if it was Jack Dietrich's talk here at pycon or Armin Ronacher's slide deck about API design but returning early should make this less of a trip hazard.  When you return early, you know at the end of the conditional block that you don't have to read any further in the function for more information and don't have to jump back and forth to look for what a variable's value might be.\r\n\r\nOnce I added the return value to the condtition for that reason, it seemed to make sense to remove the ```elif prev_state == 'directory':``` which I had before.  Removing it makes the code read as having one main expected path (the idempotent path in this case), and several branches from it.  It also means that you don't end the code with a single return value (where, if you're having to trace back through the code from the return, you then have to figure out where the condition jumped from.)  I could see putting the code (sans final return) back into an ```elif``` block but after thinking about it for a few days,  I think it makes the code less clear to do it that way.",
        "createdAt" : "2018-05-17T22:11:10Z",
        "updatedAt" : "2018-05-17T22:11:11Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "9edce63a93caaeebb62f60f1661cf5475ac87c73",
    "line" : 108,
    "diffHunk" : "@@ -1,1 +453,457 @@                                          'path': path})\n\n    #\n    # previous state == directory\n    #"
  },
  {
    "id" : "23e33cb0-c4d8-4672-b9f1-620f1dcd43d5",
    "prId" : 50111,
    "prUrl" : "https://github.com/ansible/ansible/pull/50111#pullrequestreview-187558594",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "07b40c2e-91be-4d9f-8afd-7e88f2a67adc",
        "parentId" : null,
        "authorId" : "0d301bd1-6b47-409f-ac92-439b799b2375",
        "body" : "Should this be `'644'` instead of `'0644'`?",
        "createdAt" : "2018-12-21T17:21:40Z",
        "updatedAt" : "2019-01-18T00:39:44Z",
        "lastEditedBy" : "0d301bd1-6b47-409f-ac92-439b799b2375",
        "tags" : [
        ]
      },
      {
        "id" : "aa384c15-2f74-4da7-83d6-d6c0ff64794e",
        "parentId" : "07b40c2e-91be-4d9f-8afd-7e88f2a67adc",
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Nope, both are fine, but '0644' is preferable as it indicates an octal number and not the number 644.",
        "createdAt" : "2018-12-21T22:46:40Z",
        "updatedAt" : "2019-01-18T00:39:44Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "4a01a72de3c70610a011680ad4472e2113e8ac51",
    "line" : 69,
    "diffHunk" : "@@ -1,1 +123,127 @@    owner: foo\n    group: foo\n    mode: '0644'\n\n- name: Create an insecure file"
  },
  {
    "id" : "e2440a99-2beb-4f72-984d-a2a853f01ac3",
    "prId" : 50111,
    "prUrl" : "https://github.com/ansible/ansible/pull/50111#pullrequestreview-189081343",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "53ca1301-ed0d-4c76-968a-d5c5963c427a",
        "parentId" : null,
        "authorId" : "0d301bd1-6b47-409f-ac92-439b799b2375",
        "body" : "Same as above - should we drop the leading zero when we add the quotes? The shared docs for the `mode` parameter say: \r\n```\r\nFor those used to /usr/bin/chmod remember that modes are actually octal numbers. \r\nYou must either add a leading zero so that Ansible's YAML parser knows it is an octal number (like 0644 or 01777) \r\nor quote it (like '644' or '1777') so Ansible receives a string and can do its own conversion from string into number.\r\n```\r\n",
        "createdAt" : "2018-12-21T17:22:53Z",
        "updatedAt" : "2019-01-18T00:39:44Z",
        "lastEditedBy" : "0d301bd1-6b47-409f-ac92-439b799b2375",
        "tags" : [
        ]
      },
      {
        "id" : "237b71b5-04c1-4d3f-a37f-e74b9e81eadc",
        "parentId" : "53ca1301-ed0d-4c76-968a-d5c5963c427a",
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Well, the 0 is not longer essential for it to work (while it was if there were no quotes) but the leading zero is essential to understand it is an octal number. So personally, I would avoid any confusion by leaving it in place for the examples, force strings and don't mention anything else.\r\n\r\nIf we force strings (#50035) we avoid any issues and if the zero is left out (by accident) it would still work.",
        "createdAt" : "2018-12-21T22:49:38Z",
        "updatedAt" : "2019-01-18T00:39:44Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      },
      {
        "id" : "d21e3fd8-f27b-4236-9670-7ded946e9458",
        "parentId" : "53ca1301-ed0d-4c76-968a-d5c5963c427a",
        "authorId" : "0d301bd1-6b47-409f-ac92-439b799b2375",
        "body" : "Okay, let's leave the leading zeros on the examples. And perhaps update the shared docs for `mode` again, depending on what happens with #50035.",
        "createdAt" : "2019-01-03T16:23:43Z",
        "updatedAt" : "2019-01-18T00:39:44Z",
        "lastEditedBy" : "0d301bd1-6b47-409f-ac92-439b799b2375",
        "tags" : [
        ]
      }
    ],
    "commit" : "4a01a72de3c70610a011680ad4472e2113e8ac51",
    "line" : 85,
    "diffHunk" : "@@ -1,1 +173,177 @@    path: /etc/some_directory\n    state: directory\n    mode: '0755'\n\n- name: Update modification and access time of given file"
  },
  {
    "id" : "e7576ea0-bd79-401b-bfa3-ae22dbd2346f",
    "prId" : 53357,
    "prUrl" : "https://github.com/ansible/ansible/pull/53357#pullrequestreview-211342145",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "558e6a52-1015-4c8c-87ea-05ad9c2c1da5",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "I don't think your strftime template is correct",
        "createdAt" : "2019-03-05T21:24:24Z",
        "updatedAt" : "2019-03-05T21:24:24Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "225074ca-5c91-467a-9546-9858ffa8b9f4",
        "parentId" : "558e6a52-1015-4c8c-87ea-05ad9c2c1da5",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Hmm it worked for me, what part do you think isn't correct?",
        "createdAt" : "2019-03-05T21:29:16Z",
        "updatedAt" : "2019-03-05T21:29:17Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "37112531-ab1b-4dd1-85f4-41d827197d9f",
        "parentId" : "558e6a52-1015-4c8c-87ea-05ad9c2c1da5",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "i always used '%s' .. won't the above print yearmonthdayhourminute. seconds?\r\n\r\nalso i think we did strftime wrong, i would expect `dateortime|strftime('format')`",
        "createdAt" : "2019-03-06T16:37:41Z",
        "updatedAt" : "2019-03-06T16:38:30Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "005b686e-97db-43e2-9a0c-63ee0142adaf",
        "parentId" : "558e6a52-1015-4c8c-87ea-05ad9c2c1da5",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "~@jborean93 i think you are doing the opposite transformation, you are turning 'seconds/epoch' into a date string~ \r\n\r\nnvmd, its opposite of what user wanted to implement, but how we can get 'epoch' to work with current module ... took me a bit to square the circle .. moving on ... nothing to see...",
        "createdAt" : "2019-03-06T16:40:09Z",
        "updatedAt" : "2019-03-06T16:41:28Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "5f3b5da8a9fe06056996e1ae453f628fb36a7366",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +187,191 @@    path: /etc/another_file\n    state: file\n    access_time: '{{ \"%Y%m%d%H%M.%S\" | strftime(stat_var.stat.atime) }}'\n'''\nRETURN = r'''"
  }
]