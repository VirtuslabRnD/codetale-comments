[
  {
    "id" : "44935a5c-67e1-4168-b85d-8d0525d7417e",
    "prId" : 39343,
    "prUrl" : "https://github.com/ansible/ansible/pull/39343#pullrequestreview-115427560",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f024a640-c4c9-472c-b1fe-f5b784a02619",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Need to mention preserve only worked from local to remove from 2.3, 2.6+ would work with remote_src True",
        "createdAt" : "2018-04-26T04:05:12Z",
        "updatedAt" : "2018-04-26T07:21:51Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "90f92ff7-ef1d-43c6-a167-08c74273185b",
        "parentId" : "f024a640-c4c9-472c-b1fe-f5b784a02619",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Fixed via a note in the remote_src description (which lists other remote_src limitations)",
        "createdAt" : "2018-04-26T04:31:29Z",
        "updatedAt" : "2018-04-26T07:21:51Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "4a59c6d6978054d3ba97d629ce4b41e00a5f8bde",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +67,71 @@        up with a decimal number which will have unexpected results.  As of version 1.8, the mode\n        may be specified as a symbolic mode (for example, C(u+rwx) or C(u=rw,g=r,o=r)).  As of\n        version 2.3, the mode may also be the special string C(preserve).  C(preserve) means that\n        the file will be given the same permissions as the source file.\"\n  directory_mode:"
  },
  {
    "id" : "3612216c-eb63-40cc-894d-17e4851109ed",
    "prId" : 45765,
    "prUrl" : "https://github.com/ansible/ansible/pull/45765#pullrequestreview-164048365",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "84f757d1-c61b-4eb6-a055-07e192b15436",
        "parentId" : null,
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "There is an extra /a/ in this sample path. ",
        "createdAt" : "2018-10-11T23:04:57Z",
        "updatedAt" : "2018-10-11T23:09:28Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "6a074ee3f95f103011e24a495667dc3471a026dc",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +176,180 @@    src: /etc/foo.conf\n    dest: /path/to/link # /path/to/link is link to /path/to/file\n    follow: False\n'''\n"
  },
  {
    "id" : "efa53719-c5c4-4600-bdda-6d43cdb28a7b",
    "prId" : 51868,
    "prUrl" : "https://github.com/ansible/ansible/pull/51868#pullrequestreview-222286494",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "08216d23-98dc-4897-866d-533156995422",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "this is too aggressive as it removes all ACLs, not just the ones we added\r\n\r\ntake into account that directories can have 'default acl' to be added to all new files in a directory, this would wipe those along with the one we added to copy the file into place",
        "createdAt" : "2019-03-28T18:18:10Z",
        "updatedAt" : "2019-04-03T15:16:55Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "5218bbe5-e2ad-4841-8df5-b9c8c0452d0e",
        "parentId" : "08216d23-98dc-4897-866d-533156995422",
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "There are no default ACLs at that point as they are overridden by `shutil.copystat`. Which leaves us with irrelevant ACLs so clearing all of them makes sense.\r\n\r\nSee explaining comments including the FIXME note about default ACLs I added in the last commit. I am very open to suggestions as I don't have better ideas.",
        "createdAt" : "2019-04-02T10:52:41Z",
        "updatedAt" : "2019-04-03T15:16:55Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "43a18940-5b69-42c8-ba21-8ba57276339f",
        "parentId" : "08216d23-98dc-4897-866d-533156995422",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "hmm, need to x2 check but it used to keep default ACLs ... or is this a PY2 vs PY3 issue?",
        "createdAt" : "2019-04-03T15:29:51Z",
        "updatedAt" : "2019-04-03T15:29:52Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "b70d70505fc2b677b1700b56c39802c9519d9462",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +289,293 @@# basic::AnsibleModule() until then but if so, make it a private function so that we don't have to\n# keep it for backwards compatibility later.\ndef clear_facls(path):\n    setfacl = get_bin_path('setfacl', True)\n    # FIXME \"setfacl -b\" is available on Linux and FreeBSD. There is \"setfacl -D e\" on z/OS. Others?"
  },
  {
    "id" : "60784f8d-8540-46bc-99b4-25603e0c03f9",
    "prId" : 58323,
    "prUrl" : "https://github.com/ansible/ansible/pull/58323#pullrequestreview-309251409",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f11aada8-fd5b-45d0-b2ba-7de2e0c30553",
        "parentId" : null,
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "I'm concerned about introducing a recursive call here. It may be better to enumerate the directory with `os.walk()` rather than making this recursive.",
        "createdAt" : "2019-09-11T18:36:35Z",
        "updatedAt" : "2019-09-11T18:36:50Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "16320ce6-da57-4755-81c1-e77d41d0470d",
        "parentId" : "f11aada8-fd5b-45d0-b2ba-7de2e0c30553",
        "authorId" : "3ccca7f8-4bce-40f6-8d5d-9fda75d25f81",
        "body" : "The code above this doesn't just enumerate the directory, it compares two directories. This comparison happens *shallowly*, as mentioned in the [documentation of filecmp.dircmp](https://docs.python.org/3/library/filecmp.html#filecmp.dircmp) - this is where the bug comes from that this PR is trying to fix.\r\n\r\nI'm not sure how `os.walk()` would help here without basically rewriting `filecmp.dircmp`, since `os.walk()` returns all files, not just the changed files. What's your suggestion?\r\n\r\nAlso note that the example in the [documentation of filecmp.dircmp](https://docs.python.org/3/library/filecmp.html#filecmp.dircmp) specifically uses recursion:\r\n\r\n```python3\r\nfrom filecmp import dircmp\r\ndef print_diff_files(dcmp):\r\n    for name in dcmp.diff_files:\r\n        print(\"diff_file %s found in %s and %s\" % (name, dcmp.left,\r\n              dcmp.right))\r\n    for sub_dcmp in dcmp.subdirs.values():\r\n        print_diff_files(sub_dcmp)\r\n\r\ndcmp = dircmp('dir1', 'dir2') \r\nprint_diff_files(dcmp) \r\n```",
        "createdAt" : "2019-09-16T13:01:01Z",
        "updatedAt" : "2019-09-16T13:04:26Z",
        "lastEditedBy" : "3ccca7f8-4bce-40f6-8d5d-9fda75d25f81",
        "tags" : [
        ]
      },
      {
        "id" : "a7079eec-c2db-49e1-8bf0-baf331d9aad5",
        "parentId" : "f11aada8-fd5b-45d0-b2ba-7de2e0c30553",
        "authorId" : "3ccca7f8-4bce-40f6-8d5d-9fda75d25f81",
        "body" : "Interpreting 1.5 month long silence as agreement, resolving conversation",
        "createdAt" : "2019-10-30T14:34:47Z",
        "updatedAt" : "2019-10-30T14:34:47Z",
        "lastEditedBy" : "3ccca7f8-4bce-40f6-8d5d-9fda75d25f81",
        "tags" : [
        ]
      }
    ],
    "commit" : "cb489542358b26c392be71f8de0f80637a610ed7",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +486,490 @@\n        # recurse into subdirectory\n        changed = changed or copy_common_dirs(os.path.join(src, item), os.path.join(dest, item), module)\n    return changed\n"
  }
]