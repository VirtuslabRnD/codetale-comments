[
  {
    "id" : "40a0e062-31c3-488b-a131-0c24c184d454",
    "prId" : 50584,
    "prUrl" : "https://github.com/ansible/ansible/pull/50584#pullrequestreview-194378417",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5c0039f5-6ce6-4f52-b11b-b058a0b14820",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "If the role changes, you're not setting `__changed` to `True`.",
        "createdAt" : "2019-01-20T04:52:30Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "0378f9b3358bbf22e964303a7710b7ab2cccd9ea",
    "line" : 213,
    "diffHunk" : "@@ -1,1 +211,215 @@\n        if self.parameters.role is None:\n            node_spec['Role'] = node_info['Spec']['Role']\n        else:\n            if not node_info['Spec']['Role'] == self.parameters.role:"
  },
  {
    "id" : "216d8b2d-fa5c-4a45-8262-a0fe46d9de6f",
    "prId" : 50584,
    "prUrl" : "https://github.com/ansible/ansible/pull/50584#pullrequestreview-194378417",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1e552214-7e16-4427-9d6a-8174d7b131d2",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Same here.",
        "createdAt" : "2019-01-20T04:52:36Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "0378f9b3358bbf22e964303a7710b7ab2cccd9ea",
    "line" : 220,
    "diffHunk" : "@@ -1,1 +218,222 @@\n        if self.parameters.availability is None:\n            node_spec['Availability'] = node_info['Spec']['Availability']\n        else:\n            if not node_info['Spec']['Availability'] == self.parameters.availability:"
  },
  {
    "id" : "ebd1b2ea-bfd2-4fc6-a049-80a0b7af5dad",
    "prId" : 50584,
    "prUrl" : "https://github.com/ansible/ansible/pull/50584#pullrequestreview-196826028",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ea01b8a2-1781-4e04-af70-b4353d7ff904",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Why not fail if a label appears in both `labels` and `labels_to_remove`?",
        "createdAt" : "2019-01-27T09:07:28Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "daac3b89-000f-463f-b309-06efa61e26d5",
        "parentId" : "ea01b8a2-1781-4e04-af70-b4353d7ff904",
        "authorId" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "body" : "List of labels may be an output of other task or external script. Changing labels assigned to the node usually happens when you do maintenance or emergency operations and in such cases, it is better if one operation (assigning/modifying label) supersede other (removing labels) - module will fail if there is a problem in reading/writing to swarm manager/node (or typo in option). If for someone label removal is more important than preserving it in such situation then the task can be easily split into two separate tasks - first `labels` then `labels_to_remove`\r\nThe module may fail here of course, but that means more difficult error handling in the playbook.",
        "createdAt" : "2019-01-27T11:16:59Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "tags" : [
        ]
      },
      {
        "id" : "33cf1e2a-bfbe-4b8a-ad0f-fb31294bb961",
        "parentId" : "ea01b8a2-1781-4e04-af70-b4353d7ff904",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Sounds ok. How about still emitting a warning in case a label shows up in both `labels` and `labels_to_remove`? That way users know that something isn't right (and they can investigate), but can also choose to ignore it.",
        "createdAt" : "2019-01-27T12:07:21Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "1d3a00bd-0dce-48ad-ac00-a8567e65af3a",
        "parentId" : "ea01b8a2-1781-4e04-af70-b4353d7ff904",
        "authorId" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "body" : "Sure, the warning is a nice solution :)",
        "createdAt" : "2019-01-27T13:40:31Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "tags" : [
        ]
      }
    ],
    "commit" : "0378f9b3358bbf22e964303a7710b7ab2cccd9ea",
    "line" : 58,
    "diffHunk" : "@@ -1,1 +56,60 @@            - If the label provided on the list is not assigned to the node, the entry is ignored.\n            - If the label is both on the I(labels_to_remove) and I(labels), then value provided in I(labels) remains\n              assigned to the node.\n            - If I(labels_state) is C(replace) and I(labels) is not provided or empty then all labels assigned to\n              node are removed and I(labels_to_remove) is ignored."
  },
  {
    "id" : "4fe9fea7-2610-4e12-be52-d7e8a800f518",
    "prId" : 50584,
    "prUrl" : "https://github.com/ansible/ansible/pull/50584#pullrequestreview-196826028",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "464e1c42-8412-46f0-b62a-ebb16a4a32b1",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Some of the features probably require a newer docker-py version and/or API version. Let's take a look at that later, though, when a first version is merged (see #51175 for example).",
        "createdAt" : "2019-01-27T09:15:07Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "4a26bd6d-81ba-43a7-ae5d-47f2a5b7a3bd",
        "parentId" : "464e1c42-8412-46f0-b62a-ebb16a4a32b1",
        "authorId" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "body" : "Sure",
        "createdAt" : "2019-01-28T19:48:35Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "tags" : [
        ]
      }
    ],
    "commit" : "0378f9b3358bbf22e964303a7710b7ab2cccd9ea",
    "line" : 82,
    "diffHunk" : "@@ -1,1 +80,84 @@requirements:\n    - \"python >= 2.6\"\n    - \"docker-py >= 1.10.0\"\n    - \"Please note that the L(docker-py,https://pypi.org/project/docker-py/) Python\n       module has been superseded by L(docker,https://pypi.org/project/docker/)"
  },
  {
    "id" : "d6822b10-01d8-42ab-92ee-4ac160179ba0",
    "prId" : 50584,
    "prUrl" : "https://github.com/ansible/ansible/pull/50584#pullrequestreview-197240834",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "67f979b6-ac1d-4aac-9b71-6f64f752496f",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "How about:\r\n```suggestion\r\n      # If key was defined before, its value will be updated.\r\n      # If it was not defined before, this label will be added.\r\n      key: value\r\n```",
        "createdAt" : "2019-01-27T09:17:43Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "09e15395-bc3a-4c1b-bb18-43744a758b21",
        "parentId" : "67f979b6-ac1d-4aac-9b71-6f64f752496f",
        "authorId" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "body" : "Should we duplicate the information that already is provided in `labels_state` description?",
        "createdAt" : "2019-01-27T13:27:07Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "tags" : [
        ]
      },
      {
        "id" : "38ea36e1-5b4c-43ee-b97a-eb9e84bd54aa",
        "parentId" : "67f979b6-ac1d-4aac-9b71-6f64f752496f",
        "authorId" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "body" : "I think the operation on labels is clearly described in the description of `labels_state` so let's not add comments here.",
        "createdAt" : "2019-01-28T20:13:12Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "tags" : [
        ]
      },
      {
        "id" : "888b7494-0aba-48f5-84fc-511b3b57bbf6",
        "parentId" : "67f979b6-ac1d-4aac-9b71-6f64f752496f",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Fine for me. Sometimes it's nicer to make examples more explicit, but that was just a suggestion, so I don't mind leaving it away :)",
        "createdAt" : "2019-01-28T20:22:42Z",
        "updatedAt" : "2019-02-02T18:22:55Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "0378f9b3358bbf22e964303a7710b7ab2cccd9ea",
    "line" : 120,
    "diffHunk" : "@@ -1,1 +118,122 @@    hostname: mynode\n    labels:\n      key: value\n\n- name: Remove all labels assigned to node"
  },
  {
    "id" : "6bc65b2d-0ce7-4fdc-9a5c-ff3a4f20787a",
    "prId" : 50584,
    "prUrl" : "https://github.com/ansible/ansible/pull/50584#pullrequestreview-199537914",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "88c44c4e-efbf-4cc4-9bc5-c1e440338d6b",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "Ansible 2.8 only supports Python 2.6+ on the remote, so this line isn't needed.",
        "createdAt" : "2019-02-04T11:21:36Z",
        "updatedAt" : "2019-02-04T12:12:23Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      }
    ],
    "commit" : "0378f9b3358bbf22e964303a7710b7ab2cccd9ea",
    "line" : 81,
    "diffHunk" : "@@ -1,1 +79,83 @@    - docker\nrequirements:\n    - \"python >= 2.6\"\n    - \"docker-py >= 1.10.0\"\n    - \"Please note that the L(docker-py,https://pypi.org/project/docker-py/) Python"
  },
  {
    "id" : "f5ec115a-8e3a-4fa0-a25c-c1f1b260f1b9",
    "prId" : 50584,
    "prUrl" : "https://github.com/ansible/ansible/pull/50584#pullrequestreview-199575974",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "495f34a6-ead7-4128-96ec-2499aaf1fffe",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "Ansible 2.8 only supports Python 2.6+ on the remote, so this could be reworded.",
        "createdAt" : "2019-02-04T11:21:47Z",
        "updatedAt" : "2019-02-04T12:12:23Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      },
      {
        "id" : "dafaa217-346a-4c4a-8a95-bafddadcc137",
        "parentId" : "495f34a6-ead7-4128-96ec-2499aaf1fffe",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Let's keep this for now, and let's change all of these in a subsequent PR for all `docker_*` modules, so that all modules get the same text.",
        "createdAt" : "2019-02-04T12:56:46Z",
        "updatedAt" : "2019-02-04T12:56:46Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "c18a4d80-7b9f-4b51-b0ac-e88759bda785",
        "parentId" : "495f34a6-ead7-4128-96ec-2499aaf1fffe",
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "Agreed, follow up PR is a good idea.",
        "createdAt" : "2019-02-04T13:08:18Z",
        "updatedAt" : "2019-02-04T13:08:18Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      }
    ],
    "commit" : "0378f9b3358bbf22e964303a7710b7ab2cccd9ea",
    "line" : 86,
    "diffHunk" : "@@ -1,1 +84,88 @@       module has been superseded by L(docker,https://pypi.org/project/docker/)\n       (see L(here,https://github.com/docker/docker-py/issues/1310) for details).\n       For Python 2.6, C(docker-py) must be used. Otherwise, it is recommended to\n       install the C(docker) Python module. Note that both modules should I(not)\n       be installed at the same time. Also note that when both modules are installed"
  },
  {
    "id" : "074cdd7a-a190-409a-835a-784d63ca74f8",
    "prId" : 50584,
    "prUrl" : "https://github.com/ansible/ansible/pull/50584#pullrequestreview-199646594",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "29232d8b-7f7c-432e-b6a9-9a6749c722de",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "If we know the structure of the `dict` then adding some of those details would be good, see the example at https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_documenting.html#return-block",
        "createdAt" : "2019-02-04T11:22:45Z",
        "updatedAt" : "2019-02-04T12:12:23Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      },
      {
        "id" : "aaa0693c-f194-4929-8f0f-49dc6659d59a",
        "parentId" : "29232d8b-7f7c-432e-b6a9-9a6749c722de",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "We only know a subset of the structure, as newer API versions will add more data here. For other docker_* modules, we \"solved\" this by adding `sample:` with an excerpt of a result containing the most interesting things. No idea what's the best approach here.\r\n\r\n(Another thing is that depending on the data returned, this can be *really* complex. For docker_container, the returned inspect result is a huge dict; documenting everything would be a big task.)",
        "createdAt" : "2019-02-04T12:59:30Z",
        "updatedAt" : "2019-02-04T12:59:31Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "e8aa76d8-57b5-4296-82d4-c5622b6b36d8",
        "parentId" : "29232d8b-7f7c-432e-b6a9-9a6749c722de",
        "authorId" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "body" : "Maybe a direct link to the latest Docker API documentation instead if `sample:` and information to check the API documentation for the specific API version on remote?",
        "createdAt" : "2019-02-04T13:23:20Z",
        "updatedAt" : "2019-02-04T13:23:20Z",
        "lastEditedBy" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "tags" : [
        ]
      },
      {
        "id" : "4f7f753f-338b-4643-b480-dc5159186273",
        "parentId" : "29232d8b-7f7c-432e-b6a9-9a6749c722de",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "That would be fine, too. Maybe also have `sample:` as well, so people get an idea what they will get.",
        "createdAt" : "2019-02-04T15:33:38Z",
        "updatedAt" : "2019-02-04T15:33:38Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "0378f9b3358bbf22e964303a7710b7ab2cccd9ea",
    "line" : 136,
    "diffHunk" : "@@ -1,1 +134,138 @@\nRETURN = '''\nnode_facts:\n  description: Information about node after 'update' operation\n  returned: success"
  }
]