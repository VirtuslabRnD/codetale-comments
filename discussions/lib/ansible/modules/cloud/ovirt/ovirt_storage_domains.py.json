[
  {
    "id" : "00471d77-0879-47a8-ae19-a5ab35c48ddd",
    "prId" : 30337,
    "prUrl" : "https://github.com/ansible/ansible/pull/30337#pullrequestreview-63022194",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "478657d2-ca6a-4265-b7a6-5c4ca527f355",
        "parentId" : null,
        "authorId" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "body" : "This must be a proper Python SDK object, so:\r\n\r\n```python\r\nhost=otypes.Host(\r\n    name=host_param\r\n) if host_param is not None else None,\r\n```",
        "createdAt" : "2017-09-15T08:10:37Z",
        "updatedAt" : "2017-10-04T09:09:47Z",
        "lastEditedBy" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "tags" : [
        ]
      },
      {
        "id" : "1042693b-5902-4bed-bbbf-a3f60b0c42c1",
        "parentId" : "478657d2-ca6a-4265-b7a6-5c4ca527f355",
        "authorId" : "58e71a97-81ad-4de5-96e4-497bd404f065",
        "body" : "Hmm, I got this.\r\n```code\r\nTypeError: The 'host' parameter should be of type 'str', but it is of type 'Host'.\r\n```\r\nSo, I 'll keep it `str`",
        "createdAt" : "2017-09-15T11:09:59Z",
        "updatedAt" : "2017-10-04T09:09:47Z",
        "lastEditedBy" : "58e71a97-81ad-4de5-96e4-497bd404f065",
        "tags" : [
        ]
      },
      {
        "id" : "5e63826e-a5ca-4bcf-82aa-216c40b0dd6f",
        "parentId" : "478657d2-ca6a-4265-b7a6-5c4ca527f355",
        "authorId" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "body" : "Ah, sorry, you are right. It's actually sending:\r\n\r\n```\r\nDELETE /ovirt-engine/api/storagedomains/123?host=myhost\r\n```\r\nNot the XML data.\r\n",
        "createdAt" : "2017-09-15T12:02:40Z",
        "updatedAt" : "2017-10-04T09:09:47Z",
        "lastEditedBy" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "tags" : [
        ]
      }
    ],
    "commit" : "f047e012810bdff0ad48534d61c2ba28958131ce",
    "line" : 126,
    "diffHunk" : "@@ -1,1 +525,529 @@                destroy=module.params['destroy'],\n                format=module.params['format'],\n                host=host_param,\n            )\n        elif state == 'present' or state == 'imported':"
  },
  {
    "id" : "bda10f70-738a-435e-bafd-28a4cae4ac4c",
    "prId" : 32835,
    "prUrl" : "https://github.com/ansible/ansible/pull/32835#pullrequestreview-80122062",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "df78e9f5-188a-41d3-a39b-878cf30eaf96",
        "parentId" : null,
        "authorId" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "body" : "Can we wait here somehow for the operation to end?",
        "createdAt" : "2017-11-20T09:33:17Z",
        "updatedAt" : "2017-12-14T05:09:41Z",
        "lastEditedBy" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "tags" : [
        ]
      },
      {
        "id" : "f7e2a89b-c8bf-4f48-9417-0c117db25faa",
        "parentId" : "df78e9f5-188a-41d3-a39b-878cf30eaf96",
        "authorId" : "6f067709-5025-47fe-885b-64c5cd613471",
        "body" : "Since the storage domain is not locked, there is no indication which we can use to notify when the operation was ended besides the audit log\r\nshouldn't adding 'wait' to the task support it ?\r\n\r\n",
        "createdAt" : "2017-11-22T00:32:32Z",
        "updatedAt" : "2017-12-14T05:09:41Z",
        "lastEditedBy" : "6f067709-5025-47fe-885b-64c5cd613471",
        "tags" : [
        ]
      },
      {
        "id" : "5e408d96-11ef-4517-bcbd-9bb6f20a85ce",
        "parentId" : "df78e9f5-188a-41d3-a39b-878cf30eaf96",
        "authorId" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "body" : "Well, by default if you pass `wait=true`, we use some condtion to happen, but you need to write that condition. We already rely in audit log messages, because unfurtunatelly sometimes we must. Take a look here, how to implement it using audit log:\r\n\r\n https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/cloud/ovirt/ovirt_hosts.py#L474",
        "createdAt" : "2017-11-28T10:02:33Z",
        "updatedAt" : "2017-12-14T05:09:41Z",
        "lastEditedBy" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "tags" : [
        ]
      },
      {
        "id" : "03dbec46-48f9-4ca7-832f-0d1273b5ddb2",
        "parentId" : "df78e9f5-188a-41d3-a39b-878cf30eaf96",
        "authorId" : "6f067709-5025-47fe-885b-64c5cd613471",
        "body" : "Unfortunately, the update of the OVF_STORE does not audit log in case there was no update. I think that we should probably add this gap in the engine first and then fix it in ansible, or alternatively can't we use REST to use some kind of sync=true?\r\n\r\nBTW That is great to know, I was looking how to do this kind of 'wait' because that is what I was missing to make attach/detach/activate to be done simultaneously for several storage domains. unless you have another way to do that\r\n",
        "createdAt" : "2017-11-29T08:47:24Z",
        "updatedAt" : "2017-12-14T05:09:41Z",
        "lastEditedBy" : "6f067709-5025-47fe-885b-64c5cd613471",
        "tags" : [
        ]
      },
      {
        "id" : "cea64ec9-a39a-4051-ac58-50539cc066f8",
        "parentId" : "df78e9f5-188a-41d3-a39b-878cf30eaf96",
        "authorId" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "body" : "Sync/Async=true/false, doesn't work how you expect unfortunatelly. So the only way to wait for result is to poll the status of the object.\r\n\r\nSo please add comment that `wait=true` don't work for `update_ovf_store` .\r\n\r\n - \"I(update_ovf_store) is supported since version 2.5, currently if C(wait) is (true), we don't wait for update.\"",
        "createdAt" : "2017-11-29T19:10:07Z",
        "updatedAt" : "2017-12-14T05:09:41Z",
        "lastEditedBy" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "tags" : [
        ]
      },
      {
        "id" : "28ad0048-29df-47eb-935f-4df06d8fb77f",
        "parentId" : "df78e9f5-188a-41d3-a39b-878cf30eaf96",
        "authorId" : "6f067709-5025-47fe-885b-64c5cd613471",
        "body" : "done",
        "createdAt" : "2017-11-30T09:36:53Z",
        "updatedAt" : "2017-12-14T05:09:41Z",
        "lastEditedBy" : "6f067709-5025-47fe-885b-64c5cd613471",
        "tags" : [
        ]
      },
      {
        "id" : "3b930f20-58c4-4aed-8d00-e96c60f18f8a",
        "parentId" : "df78e9f5-188a-41d3-a39b-878cf30eaf96",
        "authorId" : "6f067709-5025-47fe-885b-64c5cd613471",
        "body" : "done",
        "createdAt" : "2017-11-30T09:37:45Z",
        "updatedAt" : "2017-12-14T05:09:41Z",
        "lastEditedBy" : "6f067709-5025-47fe-885b-64c5cd613471",
        "tags" : [
        ]
      }
    ],
    "commit" : "e54b30cad8b823dcfec0ea1605554dbb48173fe4",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +561,565 @@            ret = storage_domains_module.action(\n                action='update_ovf_store'\n            )\n        module.exit_json(**ret)\n    except Exception as e:"
  },
  {
    "id" : "0e22a38d-1865-4524-8d4f-426803d8261c",
    "prId" : 33450,
    "prUrl" : "https://github.com/ansible/ansible/pull/33450#pullrequestreview-80773891",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8e04dc92-7743-4c0a-b1cf-b4b308b713b4",
        "parentId" : null,
        "authorId" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "body" : "Just note, that the code is shared also for file based stoarges, so what will happen if it will be sent for NFS for example? Won't it fail?",
        "createdAt" : "2017-12-01T15:06:41Z",
        "updatedAt" : "2017-12-04T09:35:40Z",
        "lastEditedBy" : "dc5d177e-39f6-4639-af9d-4b2cdbbe1450",
        "tags" : [
        ]
      },
      {
        "id" : "694d8f17-7023-427f-bcda-cc680c7ebdc7",
        "parentId" : "8e04dc92-7743-4c0a-b1cf-b4b308b713b4",
        "authorId" : "6a8daa82-825f-4a75-8bea-54048d459a1e",
        "body" : "Good catch :)",
        "createdAt" : "2017-12-04T09:13:54Z",
        "updatedAt" : "2017-12-04T09:35:40Z",
        "lastEditedBy" : "6a8daa82-825f-4a75-8bea-54048d459a1e",
        "tags" : [
        ]
      }
    ],
    "commit" : "13612827271634d904530f68b7b88557b83503bd",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +125,129 @@    discard_after_delete:\n        description:\n            - \"If I(True) storage domain blocks will be discarded upon deletion. Enabled by default.\"\n            - \"This parameter is relevant only for block based storage domains.\"\n        version_added: 2.5"
  }
]