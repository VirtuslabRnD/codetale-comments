[
  {
    "id" : "37eca533-e794-4b77-8590-918a560a6fcc",
    "prId" : 52075,
    "prUrl" : "https://github.com/ansible/ansible/pull/52075#pullrequestreview-208313275",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d8baa9bd-853d-4652-b961-a4563c41a83f",
        "parentId" : null,
        "authorId" : "d74d3499-a27a-4f0f-864d-9e1e64b673eb",
        "body" : "We could add a check to send at least an warning if a `mac` is specified with `state=new` in place of `manual_mac`:\r\n```\r\nif network['state'].lower() == 'new' and 'mac' in network\r\n     […]msg=\"MAC address '%s' define in `mac` attribute will not be used. If you want to define a manual MAC address, please use `manual_mac`.\" % (network['mac'])[…]\r\n```",
        "createdAt" : "2019-02-26T10:41:34Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "d74d3499-a27a-4f0f-864d-9e1e64b673eb",
        "tags" : [
        ]
      },
      {
        "id" : "85960d67-30ca-4461-85cb-afe280f24290",
        "parentId" : "d8baa9bd-853d-4652-b961-a4563c41a83f",
        "authorId" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "body" : "We can not determine user wants to add new vNIC or reconfigure the existing one with \"state: new, mac: xxx\", so yeah, this check can be added. Thanks.",
        "createdAt" : "2019-02-27T02:50:52Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3564aec1200957a0bd632af45fd8870a8ea606d",
    "line" : 302,
    "diffHunk" : "@@ -1,1 +300,304 @@                # add new network adapter but no name specified\n                if network['state'].lower() == 'new' and 'name' not in network and 'vlan' not in network:\n                    self.module.fail_json(msg=\"Please specify at least network name or VLAN name for adding new network adapter.\")\n                if network['state'].lower() == 'new' and 'mac' in network:\n                    self.module.fail_json(msg=\"networks.mac is used for vNIC reconfigure, but networks.state is set to 'new'.\")"
  },
  {
    "id" : "d38c0d1a-61bb-4f1b-a9be-d1c07f8cc746",
    "prId" : 52075,
    "prUrl" : "https://github.com/ansible/ansible/pull/52075#pullrequestreview-208316296",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "84645212-5edd-405f-b2c3-a958c81175bb",
        "parentId" : null,
        "authorId" : "d74d3499-a27a-4f0f-864d-9e1e64b673eb",
        "body" : "I'm asking myself if this is the right way to proceed. I think that the module itself should guess if it need to create a 'new' network interface or reconfigure the existing one.\r\n\r\nIs there any reason / technical issue that force the user to make explicit the state?\r\nI'm thinking at the case where a `label` and the `mac` are set but identify to two different NICs… but that could be checked in the `sanitize_network_params` method and rise an error.\r\nAnything else that I miss?",
        "createdAt" : "2019-02-26T10:51:03Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "d74d3499-a27a-4f0f-864d-9e1e64b673eb",
        "tags" : [
        ]
      },
      {
        "id" : "4ece67bd-b1cc-483e-9745-fda7742fdd31",
        "parentId" : "84645212-5edd-405f-b2c3-a958c81175bb",
        "authorId" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "body" : "I think without this \"state\", new and reconfigure can be determined by checking if the specified \"label\" exists or not,  but for remove, without extra parameter we can not know that. And host will assign the label according to the existing labels used by existing vNIC, not use the one specified. If we want to add a new vNIC, need to get the all used label, and specify an unused one, at last this maybe not the same as the actual assigned one.",
        "createdAt" : "2019-02-27T03:06:31Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3564aec1200957a0bd632af45fd8870a8ea606d",
    "line" : 103,
    "diffHunk" : "@@ -1,1 +101,105 @@     - ' - C(state) (string): State of the network adapter.'\n     - '   If set to C(present), then will do reconfiguration for the specified network adapter.'\n     - '   If set to C(new), then will add the specified network adapter.'\n     - '   If set to C(absent), then will remove this network adapter.'\n     - ' - C(manual_mac) (string): Manual specified MAC address of the network adapter when creating, or reconfiguring."
  },
  {
    "id" : "59decb63-ab23-48d3-ba31-2274592e162b",
    "prId" : 52075,
    "prUrl" : "https://github.com/ansible/ansible/pull/52075#pullrequestreview-216510700",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41d2b91e-711d-44c1-8154-07766c288ba7",
        "parentId" : null,
        "authorId" : "dfcba7e0-141c-4101-9159-74bd07c08960",
        "body" : "mandatory msg is missing",
        "createdAt" : "2019-03-05T21:59:27Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "dfcba7e0-141c-4101-9159-74bd07c08960",
        "tags" : [
        ]
      },
      {
        "id" : "351f06d8-17e7-4687-b2de-9f1e06c60a50",
        "parentId" : "41d2b91e-711d-44c1-8154-07766c288ba7",
        "authorId" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "body" : "'msg' is mandatory?",
        "createdAt" : "2019-03-12T03:59:52Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "tags" : [
        ]
      },
      {
        "id" : "810eff51-12e5-49d0-9fdb-c0f1a7c063ee",
        "parentId" : "41d2b91e-711d-44c1-8154-07766c288ba7",
        "authorId" : "dfcba7e0-141c-4101-9159-74bd07c08960",
        "body" : "Yes, 'msg' key and value should always present on *_exit() calls",
        "createdAt" : "2019-03-16T21:37:35Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "dfcba7e0-141c-4101-9159-74bd07c08960",
        "tags" : [
        ]
      },
      {
        "id" : "56c73d56-fee8-43df-a1f1-f6b5f69311b7",
        "parentId" : "41d2b91e-711d-44c1-8154-07766c288ba7",
        "authorId" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "body" : "I'm not sure about this, I checked \"AnsibleModule\" in this file https://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/basic.py, \"exit_json()\" does not require \"msg\" key in result, but \"fail_json()\" requires \"msg\" key. Thanks.",
        "createdAt" : "2019-03-19T02:55:11Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "tags" : [
        ]
      },
      {
        "id" : "edc3e800-34c1-4058-a7a0-64e8ad5fab78",
        "parentId" : "41d2b91e-711d-44c1-8154-07766c288ba7",
        "authorId" : "dfcba7e0-141c-4101-9159-74bd07c08960",
        "body" : "My fault, I agree with that.",
        "createdAt" : "2019-03-19T21:02:36Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "dfcba7e0-141c-4101-9159-74bd07c08960",
        "tags" : [
        ]
      },
      {
        "id" : "9bc35892-6b80-4155-9c03-aba7a181ce75",
        "parentId" : "41d2b91e-711d-44c1-8154-07766c288ba7",
        "authorId" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "body" : "Thanks for the comment, I'm also not quite sure about this before check that, Thanks.",
        "createdAt" : "2019-03-20T03:07:13Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3564aec1200957a0bd632af45fd8870a8ea606d",
    "line" : 428,
    "diffHunk" : "@@ -1,1 +426,430 @@            else:\n                network_facts = self.get_network_facts(vm_obj)\n                results = {'changed': self.change_detected, 'failed': False, 'network_data': network_facts}\n\n        return results"
  },
  {
    "id" : "30521d26-7da1-4488-9151-4233c5f4c7dc",
    "prId" : 52075,
    "prUrl" : "https://github.com/ansible/ansible/pull/52075#pullrequestreview-255756466",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "13d89191-0d26-4a58-8451-ab20e8937c40",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Just an idea, Could we move this functionality to new module rather than putting in same module ? Same like `vmware_guest_disk_info` and `vmware_guest_disks`\r\n\r\nNothing blocker as such.",
        "createdAt" : "2019-06-28T09:38:33Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      },
      {
        "id" : "217c0039-300c-4a9a-9481-f0dd8172dab1",
        "parentId" : "13d89191-0d26-4a58-8451-ab20e8937c40",
        "authorId" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "body" : "Yeah, I saw that there are two modules for same subject, e.g., disk operations and disk facts, snapshot operations and snapshot facts, etc. I'm not sure which one is better, I assumed put together can save some duplicate work? Thanks.",
        "createdAt" : "2019-06-28T13:05:33Z",
        "updatedAt" : "2019-07-04T10:21:48Z",
        "lastEditedBy" : "a8ab520a-9143-4406-bf7b-98113a352d1a",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3564aec1200957a0bd632af45fd8870a8ea606d",
    "line" : 75,
    "diffHunk" : "@@ -1,1 +73,77 @@     - The datacenter name to which virtual machine belongs to.\n     type: str\n   gather_network_facts:\n     description:\n     - If set to C(True), return settings of all network adapters, other parameters are ignored."
  }
]