[
  {
    "id" : "fffd497e-da71-4dc0-ba4e-ba5263f142d9",
    "prId" : 36165,
    "prUrl" : "https://github.com/ansible/ansible/pull/36165#pullrequestreview-97088735",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e1fba753-2e6c-4c47-955e-5794212a8d41",
        "parentId" : null,
        "authorId" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "body" : "You should document this (currently you only talk about size_tb, size_gb…).",
        "createdAt" : "2018-02-15T21:37:42Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "tags" : [
        ]
      },
      {
        "id" : "7a274e77-7494-4566-8098-8cda4ab95f50",
        "parentId" : "e1fba753-2e6c-4c47-955e-5794212a8d41",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "OK.",
        "createdAt" : "2018-02-16T05:59:16Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f413cb456d139e82ce94bacaa13327738ba323e",
    "line" : 440,
    "diffHunk" : "@@ -1,1 +438,442 @@                    # size, size_tb, size_gb, size_mb, size_kb\n                    disk_size_parse_failed = False\n                    if 'size' in disk:\n                        size_regex = re.compile(r'(\\d+(?:\\.\\d+)?)([tgmkTGMK][bB])')\n                        disk_size_m = size_regex.match(disk['size'])"
  },
  {
    "id" : "54c7ab7a-9fb9-4b98-a11a-11abcbdd3c99",
    "prId" : 36165,
    "prUrl" : "https://github.com/ansible/ansible/pull/36165#pullrequestreview-97089453",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "303e4430-c1e8-439b-afb2-bdc5cdb2fbd3",
        "parentId" : null,
        "authorId" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "body" : "you should document the fact you only take the first 'size_…' argument.",
        "createdAt" : "2018-02-15T21:45:50Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "tags" : [
        ]
      },
      {
        "id" : "c4a187df-7a4f-4a8c-b022-00586b6b9de5",
        "parentId" : "303e4430-c1e8-439b-afb2-bdc5cdb2fbd3",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "OK.",
        "createdAt" : "2018-02-16T06:06:51Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f413cb456d139e82ce94bacaa13327738ba323e",
    "line" : 460,
    "diffHunk" : "@@ -1,1 +458,462 @@                        # Even multiple size_ parameter provided by user,\n                        # consider first value only\n                        param = [x for x in disk.keys() if x.startswith('size_')][0]\n                        unit = param.split('_')[-1]\n                        disk_size = disk[param]"
  },
  {
    "id" : "7321fe88-56be-4810-a806-e23b1f34d808",
    "prId" : 36165,
    "prUrl" : "https://github.com/ansible/ansible/pull/36165#pullrequestreview-98780139",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6a72da47-95e5-4c12-9242-3f9cc8fa5f14",
        "parentId" : null,
        "authorId" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "body" : "I like the regex approach.\r\n\r\nAnother modification:\r\n```\r\nif disk_size_m:\r\n   …\r\n```\r\n→\r\n```\r\nif disk_size_m:\r\n   …\r\nelse:\r\n   self.module.fail_json(…)\r\n```\r\n\r\n(PS: I didn't finish this PR review)",
        "createdAt" : "2018-02-21T14:38:16Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "tags" : [
        ]
      },
      {
        "id" : "5a82236a-f00a-4f01-b2ee-b32be50e7ce7",
        "parentId" : "6a72da47-95e5-4c12-9242-3f9cc8fa5f14",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Line 446 handles this. But I'm OK adding else block.",
        "createdAt" : "2018-02-21T16:03:59Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      },
      {
        "id" : "bb6bb76a-1362-4ed5-a56e-5cd43d4bd1f6",
        "parentId" : "6a72da47-95e5-4c12-9242-3f9cc8fa5f14",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Thanks for your valuable comments and time. Much appreciated.",
        "createdAt" : "2018-02-21T16:04:55Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      },
      {
        "id" : "30d4d9db-e98a-499d-9c88-a5b3cd0cfe1f",
        "parentId" : "6a72da47-95e5-4c12-9242-3f9cc8fa5f14",
        "authorId" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "body" : "> Line 446 handles this.\r\n\r\nNo line 446 handles `TypeError` and `ValueError`. But if disk['size'] don't match the regex, `expected` isn't defined and `if \".\" in expected:` raise a `NameError` (which you don't catch).",
        "createdAt" : "2018-02-22T21:14:01Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "tags" : [
        ]
      },
      {
        "id" : "fbc75fc2-77d1-4785-a438-b5d7387567a2",
        "parentId" : "6a72da47-95e5-4c12-9242-3f9cc8fa5f14",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Cool.",
        "createdAt" : "2018-02-23T00:38:43Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f413cb456d139e82ce94bacaa13327738ba323e",
    "line" : 445,
    "diffHunk" : "@@ -1,1 +443,447 @@                        if disk_size_m:\n                            expected = disk_size_m.group(1)\n                            unit = disk_size_m.group(2)\n                        else:\n                            disk_size_parse_failed = True"
  },
  {
    "id" : "306e4927-eca7-43af-b131-8e73e00ab986",
    "prId" : 36165,
    "prUrl" : "https://github.com/ansible/ansible/pull/36165#pullrequestreview-98780385",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "23e41d8b-04d9-499a-aad9-6c3a58776a2a",
        "parentId" : null,
        "authorId" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "body" : "```\r\nif not vm:\r\n    module.fail_json…\r\n\r\ntry:\r\n   …\r\n```\r\nBut that's for cosmetic.",
        "createdAt" : "2018-02-22T21:18:25Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "tags" : [
        ]
      },
      {
        "id" : "d01b983a-5575-452d-93f2-b77bf7390d11",
        "parentId" : "23e41d8b-04d9-499a-aad9-6c3a58776a2a",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "OK.",
        "createdAt" : "2018-02-23T00:40:10Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f413cb456d139e82ce94bacaa13327738ba323e",
    "line" : 650,
    "diffHunk" : "@@ -1,1 +648,652 @@        # Bail out\n        module.fail_json(msg=\"Unable to manage disks for non-existing\"\n                             \" virtual machine '%s'.\" % (module.params.get('uuid') or module.params.get('name')))\n\n    # VM exists"
  },
  {
    "id" : "65c997e4-da24-4083-a9e1-aa95b89b0911",
    "prId" : 36165,
    "prUrl" : "https://github.com/ansible/ansible/pull/36165#pullrequestreview-163267910",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d237670e-66de-4b8c-b6d3-b0630c27e6e7",
        "parentId" : null,
        "authorId" : "7c444fb5-3f6f-4a08-83d5-454cb61d61f5",
        "body" : "In this routine, it will get all datastores of vCenter, and select a datastore with most free space. However, it does not verify if that datastore can be used with the VM (If the host the VM is running on, actually is connected to the datastore). \r\n\r\nThis is not necessarily something that needs a fix (now), but at least needs documenting: If `autoselect_datastore` is enabled, it might cause the selection of a datastore that can not be used when a VM is running on a host that is not attached to the selected datastore.",
        "createdAt" : "2018-08-20T18:47:37Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "7c444fb5-3f6f-4a08-83d5-454cb61d61f5",
        "tags" : [
        ]
      },
      {
        "id" : "7c2e47b0-7025-44d4-8d9a-8ba6eea10d61",
        "parentId" : "d237670e-66de-4b8c-b6d3-b0630c27e6e7",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Yes. definitely we can work on that later.",
        "createdAt" : "2018-10-10T09:40:18Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f413cb456d139e82ce94bacaa13327738ba323e",
    "line" : 417,
    "diffHunk" : "@@ -1,1 +415,419 @@                    current_disk['datastore'] = datastore\n                    current_disk['autoselect_datastore'] = False\n                elif 'autoselect_datastore' in disk:\n                    # Find datastore which fits requirement\n                    datastores = get_all_objs(self.content, [vim.Datastore])"
  },
  {
    "id" : "c6ff37ce-609b-4004-8721-2cbe3a295d39",
    "prId" : 36165,
    "prUrl" : "https://github.com/ansible/ansible/pull/36165#pullrequestreview-163506829",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "03f87a75-962c-4873-b2c6-1c51f01ca0dc",
        "parentId" : null,
        "authorId" : "7c444fb5-3f6f-4a08-83d5-454cb61d61f5",
        "body" : "The documentation states: \r\n```\r\n     - ' - C(size[_tb,_gb,_mb,_kb]) (integer): Disk storage size in specified unit.'\r\n     - '   If C(size) specified then unit must be specified.'\r\n     - '   Only first occurrence in disk element will be considered, even if there are multiple size* parameters available.'\r\n```\r\n\r\nI interpret this as: you add a value `size_gb: 100` to get 100Gb disks. \r\n\r\nHowever, here you check for `size: 100Gb`, which is now different from the documentation...\r\n\r\nThe else statement is what i'm actually expecting to happen. \r\n\r\nI understand both options are valid, but then we need to give examples of both, because people will not realize they can do `size: 100Gb` (btw, we also need to document that a space is not allowed in there)",
        "createdAt" : "2018-08-20T19:01:09Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "7c444fb5-3f6f-4a08-83d5-454cb61d61f5",
        "tags" : [
        ]
      },
      {
        "id" : "8d25b7b1-dab7-4263-9341-c0ed0adab198",
        "parentId" : "03f87a75-962c-4873-b2c6-1c51f01ca0dc",
        "authorId" : "7c444fb5-3f6f-4a08-83d5-454cb61d61f5",
        "body" : "I suggest to add an example of this",
        "createdAt" : "2018-10-10T18:45:49Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "7c444fb5-3f6f-4a08-83d5-454cb61d61f5",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f413cb456d139e82ce94bacaa13327738ba323e",
    "line" : 440,
    "diffHunk" : "@@ -1,1 +438,442 @@                    # size, size_tb, size_gb, size_mb, size_kb\n                    disk_size_parse_failed = False\n                    if 'size' in disk:\n                        size_regex = re.compile(r'(\\d+(?:\\.\\d+)?)([tgmkTGMK][bB])')\n                        disk_size_m = size_regex.match(disk['size'])"
  },
  {
    "id" : "f4610cfb-34e4-4844-b601-94f3ac93a065",
    "prId" : 36165,
    "prUrl" : "https://github.com/ansible/ansible/pull/36165#pullrequestreview-163275271",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "52b2f33c-e707-45da-b974-ac01ffd2ad75",
        "parentId" : null,
        "authorId" : "7c444fb5-3f6f-4a08-83d5-454cb61d61f5",
        "body" : "Maybe this should be part of the module utils? As it should keep in sync with the disk facts module?",
        "createdAt" : "2018-08-20T19:27:41Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "7c444fb5-3f6f-4a08-83d5-454cb61d61f5",
        "tags" : [
        ]
      },
      {
        "id" : "d58bfbc8-0c91-4e1e-a4f0-d572638f071e",
        "parentId" : "52b2f33c-e707-45da-b974-ac01ffd2ad75",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "I would prefer this to be here for now. I don't think this is used anywhere else. I will keep your point in mind for future (to move this to module_utils).",
        "createdAt" : "2018-10-10T09:58:00Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f413cb456d139e82ce94bacaa13327738ba323e",
    "line" : 590,
    "diffHunk" : "@@ -1,1 +588,592 @@\n    @staticmethod\n    def gather_disk_facts(vm_obj):\n        \"\"\"\n        Gather facts about VM's disks"
  },
  {
    "id" : "1a58281a-a6a4-4971-81d9-237d73b868b8",
    "prId" : 36165,
    "prUrl" : "https://github.com/ansible/ansible/pull/36165#pullrequestreview-163423644",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4d265e65-0663-484f-9c89-0922986c6fa2",
        "parentId" : null,
        "authorId" : "c82ce0e9-e8e0-456d-aef4-9b98476c77ed",
        "body" : "This fails when disk_size is defined as int",
        "createdAt" : "2018-10-10T15:34:38Z",
        "updatedAt" : "2018-10-15T08:55:47Z",
        "lastEditedBy" : "c82ce0e9-e8e0-456d-aef4-9b98476c77ed",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f413cb456d139e82ce94bacaa13327738ba323e",
    "line" : 467,
    "diffHunk" : "@@ -1,1 +465,469 @@\n                        try:\n                            if re.match(r'\\d+\\.\\d+', disk_size):\n                                # We found float value in string, let's typecast it\n                                expected = float(disk_size)"
  },
  {
    "id" : "a3e0c56d-29b1-409a-83b4-0012a0ae9a04",
    "prId" : 64087,
    "prUrl" : "https://github.com/ansible/ansible/pull/64087#pullrequestreview-320761391",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "58a4bb3a-01da-476c-bc24-eb086d7f38fd",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "`SharesInfo` is deprecated since 4.1, as per document - https://vdc-repo.vmware.com/vmwb-repository/dcr-public/9e4aab9b-dd94-4213-8677-69e883bc8b6f/3aa4a23c-0253-452a-b750-3fe401fe74f9/doc/vim.vm.device.VirtualDisk.html#field_detail",
        "createdAt" : "2019-11-08T10:13:04Z",
        "updatedAt" : "2019-12-24T12:56:43Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      },
      {
        "id" : "a638b7b1-e36c-40ac-9779-2ac3ad885573",
        "parentId" : "58a4bb3a-01da-476c-bc24-eb086d7f38fd",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "@ngp-star This is a deprecated feature, right? ",
        "createdAt" : "2019-11-21T09:50:12Z",
        "updatedAt" : "2019-12-24T12:56:43Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      },
      {
        "id" : "0ec15510-12f0-48c6-809a-4c9b12c3c7da",
        "parentId" : "58a4bb3a-01da-476c-bc24-eb086d7f38fd",
        "authorId" : "2374b64d-5a93-4f6c-91df-0a41428a1be3",
        "body" : "@Akasurde  \r\nyes, and the link what you mentioned, in that it says shares is deprecated, instead of that use shares disk IO allocation spec type ,so i used shares of disk IO allocation spec.",
        "createdAt" : "2019-11-21T09:59:19Z",
        "updatedAt" : "2019-12-24T12:56:43Z",
        "lastEditedBy" : "2374b64d-5a93-4f6c-91df-0a41428a1be3",
        "tags" : [
        ]
      }
    ],
    "commit" : "9c53c01e4a19e69a0928bcc480e3550eae9bd0e5",
    "line" : 112,
    "diffHunk" : "@@ -1,1 +417,421 @@            disk_spec.device.storageIOAllocation = io_disk_spec\n        if 'shares' in disk:\n            shares_spec = vim.SharesInfo()\n            shares_spec.level = disk['shares']['level']\n            if shares_spec.level == 'custom':"
  },
  {
    "id" : "454671a7-e2d4-47e4-b1d0-bd6f4400bbb8",
    "prId" : 64087,
    "prUrl" : "https://github.com/ansible/ansible/pull/64087#pullrequestreview-320762294",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2f2af826-1fee-4a6c-9be4-c49a218608b0",
        "parentId" : null,
        "authorId" : "2374b64d-5a93-4f6c-91df-0a41428a1be3",
        "body" : "@Akasurde \r\nabove is the changed code",
        "createdAt" : "2019-11-21T10:00:46Z",
        "updatedAt" : "2019-12-24T12:56:43Z",
        "lastEditedBy" : "2374b64d-5a93-4f6c-91df-0a41428a1be3",
        "tags" : [
        ]
      }
    ],
    "commit" : "9c53c01e4a19e69a0928bcc480e3550eae9bd0e5",
    "line" : 117,
    "diffHunk" : "@@ -1,1 +422,426 @@                shares_spec.shares = disk['shares']['level_value']\n            io_disk_spec.shares = shares_spec\n            disk_spec.device.storageIOAllocation = io_disk_spec\n        return disk_spec\n"
  }
]