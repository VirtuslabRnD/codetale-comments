[
  {
    "id" : "3fd97eae-e59a-4e57-81c8-9e79a8a62604",
    "prId" : 20561,
    "prUrl" : "https://github.com/ansible/ansible/pull/20561#pullrequestreview-18026673",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7a6c6e62-70c0-4e79-88c7-cfab61bd357d",
        "parentId" : null,
        "authorId" : "827fe88a-e16d-4f84-ab3a-66404851ba6c",
        "body" : "wouldn't this still fail if `existing_definitions_in_family = []` ?\r\nI think it'd be safer to keep it as `(not existing_definitions_in_family or len(existing_definitions_in_family) == 0) and revision != 1`  for the `if` and \r\n\r\n`existing_definitions_in_family and len(existing_definitions_in_family)>0 and ...` for the `elif` condition",
        "createdAt" : "2017-01-23T19:07:44Z",
        "updatedAt" : "2017-01-23T19:09:01Z",
        "lastEditedBy" : "827fe88a-e16d-4f84-ab3a-66404851ba6c",
        "tags" : [
        ]
      },
      {
        "id" : "37733601-13aa-4769-a9bf-be00f17329c8",
        "parentId" : "7a6c6e62-70c0-4e79-88c7-cfab61bd357d",
        "authorId" : "2ab05ff6-d3ea-4ed2-9e90-40861dc60270",
        "body" : "Problem is access to last element of empty array ```existing_definitions_in_family[-1]```. Array truthiness check ensures array is not empty:\r\n```\r\nIn [1]: bool([])\r\nOut[1]: False\r\n\r\nIn [2]: bool([1])\r\nOut[2]: True\r\n```",
        "createdAt" : "2017-01-23T19:18:13Z",
        "updatedAt" : "2017-01-23T19:18:13Z",
        "lastEditedBy" : "2ab05ff6-d3ea-4ed2-9e90-40861dc60270",
        "tags" : [
        ]
      },
      {
        "id" : "4955d083-a269-4d25-889f-8aeb3cfa3e7d",
        "parentId" : "7a6c6e62-70c0-4e79-88c7-cfab61bd357d",
        "authorId" : "827fe88a-e16d-4f84-ab3a-66404851ba6c",
        "body" : "I just learned something :) looks good !",
        "createdAt" : "2017-01-23T21:13:51Z",
        "updatedAt" : "2017-01-23T21:13:51Z",
        "lastEditedBy" : "827fe88a-e16d-4f84-ab3a-66404851ba6c",
        "tags" : [
        ]
      },
      {
        "id" : "7a7674d8-35e4-4ccb-a0e6-93b1e08e7293",
        "parentId" : "7a6c6e62-70c0-4e79-88c7-cfab61bd357d",
        "authorId" : "2ab05ff6-d3ea-4ed2-9e90-40861dc60270",
        "body" : "heh, glad to be helpful :)",
        "createdAt" : "2017-01-23T21:16:01Z",
        "updatedAt" : "2017-01-23T21:16:01Z",
        "lastEditedBy" : "2ab05ff6-d3ea-4ed2-9e90-40861dc60270",
        "tags" : [
        ]
      }
    ],
    "commit" : "4e2bce23d59c958e4fa72e2c2006cb0a3b399aec",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +258,262 @@                if not existing_definitions_in_family and revision != 1:\n                    module.fail_json(msg=\"You have specified a revision of %d but a created revision would be 1\" % revision)\n                elif existing_definitions_in_family and existing_definitions_in_family[-1]['revision'] + 1 != revision:\n                    module.fail_json(msg=\"You have specified a revision of %d but a created revision would be %d\" % (revision, existing_definitions_in_family[-1]['revision'] + 1))\n        else:"
  },
  {
    "id" : "ca327819-e251-4c5d-820d-63ec0048dc35",
    "prId" : 34381,
    "prUrl" : "https://github.com/ansible/ansible/pull/34381#pullrequestreview-107998347",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "202defb8-452a-4666-a31d-dfabee71886d",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Might want to cast port_mapping['hostPort'] to an int just in case they passed a string. At some point we could probably update this module to use argspec suboptions so we could ensure the ports are integers before the module uses them.",
        "createdAt" : "2018-03-28T21:23:12Z",
        "updatedAt" : "2018-04-02T23:27:49Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      },
      {
        "id" : "6381210b-e7fb-4e16-b5a6-1c5667762dd2",
        "parentId" : "202defb8-452a-4666-a31d-dfabee71886d",
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "That's actually done in the three preceding lines :)",
        "createdAt" : "2018-03-29T01:57:43Z",
        "updatedAt" : "2018-04-02T23:27:49Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      },
      {
        "id" : "62d8668e-5d77-4536-ad3a-24d71fd3d492",
        "parentId" : "202defb8-452a-4666-a31d-dfabee71886d",
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Oops. :)",
        "createdAt" : "2018-03-29T10:31:02Z",
        "updatedAt" : "2018-04-02T23:27:49Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "415b4b80eb563c53c32eb887d3001fc1628e324a",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +169,173 @@                            port_mapping[port] = int(port_mapping[port])\n                    if network_mode == 'awsvpc' and 'hostPort' in port_mapping:\n                        if port_mapping['hostPort'] != port_mapping.get('containerPort'):\n                            self.module.fail_json(msg=\"In awsvpc network mode, host port must be set to the same as \"\n                                                  \"container port or not be set\")"
  },
  {
    "id" : "60693862-862e-41e4-907e-4ab47f6729a0",
    "prId" : 40736,
    "prUrl" : "https://github.com/ansible/ansible/pull/40736#pullrequestreview-125614874",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "51f08c86-539f-445c-86d4-7890cf566319",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "~Does this need to be an int? The docs https://boto3.readthedocs.io/en/latest/reference/services/ecs.html#ECS.Client.register_task_definition indicate that~\r\nOops, wrong parameter. Too many 'memory' options, ignore that.",
        "createdAt" : "2018-06-04T15:13:53Z",
        "updatedAt" : "2018-06-06T09:51:49Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "c7ff20754f4a6a9a1f3644a72642029faf389d73",
    "line" : 123,
    "diffHunk" : "@@ -1,1 +301,305 @@        launch_type=dict(required=False, choices=['EC2', 'FARGATE']),\n        cpu=dict(),\n        memory=dict(required=False, type='str')\n    ))\n"
  },
  {
    "id" : "fe4853ba-57f3-40b2-ac47-c7aa9b644d25",
    "prId" : 40736,
    "prUrl" : "https://github.com/ansible/ansible/pull/40736#pullrequestreview-125614874",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "462b1973-1b69-4270-b0c0-06f462dc80ec",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "It looks like this also accepts things like `'1GB'`\r\n\r\nDo you mind adding an example or two to the docs?",
        "createdAt" : "2018-06-04T15:15:54Z",
        "updatedAt" : "2018-06-06T09:51:49Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "c7ff20754f4a6a9a1f3644a72642029faf389d73",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +88,92 @@    memory:\n        description:\n            - The amount (in MiB) of memory used by the task. If using the EC2 launch type, this field is optional and any value can be used.\n              If using the Fargate launch type, this field is required and is limited by the cpu\n        required: false"
  },
  {
    "id" : "04e7b095-c7e1-46d5-98cb-b479244e2f41",
    "prId" : 40736,
    "prUrl" : "https://github.com/ansible/ansible/pull/40736#pullrequestreview-125774391",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f3d321cf-9c42-4538-aa04-d0bbb6ed8566",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "This could also use `module.botocore_at_least()`",
        "createdAt" : "2018-06-04T15:20:21Z",
        "updatedAt" : "2018-06-06T09:51:49Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      },
      {
        "id" : "41532c7c-74e4-49ee-bdf0-75dfdc09564b",
        "parentId" : "f3d321cf-9c42-4538-aa04-d0bbb6ed8566",
        "authorId" : "61971563-6dec-40d9-a315-486c4d8a2385",
        "body" : "It looks like the changes in 7f8654d where only for AnsibleAWSModule and ecs_taskdefinition is using AnsibleModule https://github.com/ansible/ansible/blob/6ef2ffe310b725b4f445fc0d95fff9954df94739/lib/ansible/modules/cloud/amazon/ecs_taskdefinition.py#L239\r\n\r\nI saw this when running a test\r\n```\r\nAn exception occurred during task execution. To see the full traceback, use -vvv. The error was: AttributeError: 'AnsibleModule' object has no attribute 'botocore_at_least'\r\n```",
        "createdAt" : "2018-06-04T22:10:47Z",
        "updatedAt" : "2018-06-06T09:51:49Z",
        "lastEditedBy" : "61971563-6dec-40d9-a315-486c4d8a2385",
        "tags" : [
        ]
      },
      {
        "id" : "b365eb5d-f6a3-48fc-9619-68e4f8810bc4",
        "parentId" : "f3d321cf-9c42-4538-aa04-d0bbb6ed8566",
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "We should move ecs_taskdefinition to AnsibleAWSModule but we can do that in a separate PR :)",
        "createdAt" : "2018-06-04T23:19:13Z",
        "updatedAt" : "2018-06-06T09:51:49Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      }
    ],
    "commit" : "c7ff20754f4a6a9a1f3644a72642029faf389d73",
    "line" : 139,
    "diffHunk" : "@@ -1,1 +317,321 @@\n    if module.params['launch_type']:\n        if not task_mgr.ecs_api_supports_requirescompatibilities():\n            module.fail_json(msg='botocore needs to be version 1.8.4 or higher to use launch_type')\n"
  },
  {
    "id" : "3234eee7-2b09-41cd-b34d-d47d480eea50",
    "prId" : 59597,
    "prUrl" : "https://github.com/ansible/ansible/pull/59597#pullrequestreview-354346480",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d7b68f87-b731-4e48-a6ff-802d0665e279",
        "parentId" : null,
        "authorId" : "7243ee41-f7f6-470f-8b39-aec91451b808",
        "body" : "I'd like to see the effect of 'default' documented in the description above.",
        "createdAt" : "2020-02-06T10:31:58Z",
        "updatedAt" : "2020-02-06T16:21:01Z",
        "lastEditedBy" : "7243ee41-f7f6-470f-8b39-aec91451b808",
        "tags" : [
        ]
      }
    ],
    "commit" : "87034a385b105f302cfac956a08140d4ab6afde1",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +65,69 @@        required: false\n        default: bridge\n        choices: [ 'default', 'bridge', 'host', 'none', 'awsvpc' ]\n        version_added: 2.3\n    task_role_arn:"
  }
]