[
  {
    "id" : "0e4c551b-1da4-47c2-96f1-cf4a26a82b75",
    "prId" : 63214,
    "prUrl" : "https://github.com/ansible/ansible/pull/63214#pullrequestreview-305819889",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7d581803-ea83-4b4c-827c-eb13c3adf715",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "This is fine as it is, but we also have a conventional pattern for this for AnsibleModule/AnsibleAWSModule.\r\n```\r\nrequired_if = [('state', 'present', ['description', 'subnets'])]\r\nmodule = AnsibleModule(argument_spec=argument_spec, required_if=required_if)\r\n```\r\nI agree that the else below this is a bad pattern. Normally we ignore extra options so someone can just easily edit `state: present` to `state: absent` rather than have to cull superfluous options from the task.",
        "createdAt" : "2019-10-23T11:33:34Z",
        "updatedAt" : "2019-10-23T11:34:19Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "50c7d969e31f034afa8c8d10c91f8c07edf1b95c",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +144,148 @@\n    if state == 'present':\n        for required in ['description', 'subnets']:\n            if not module.params.get(required):\n                module.fail_json(msg=str(\"Parameter %s required for state='present'\" % required))"
  }
]