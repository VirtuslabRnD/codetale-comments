[
  {
    "id" : "14d5140a-319d-4ea9-b452-64bab7bdcb33",
    "prId" : 59116,
    "prUrl" : "https://github.com/ansible/ansible/pull/59116#pullrequestreview-281364474",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7cae2c52-5007-447e-9104-0b0cf4a36503",
        "parentId" : null,
        "authorId" : "8e448afa-36a6-4325-b7c1-0522cb01977c",
        "body" : "you should probably add a `purge_tags` option that defaults to True.  This option is common in other aws modules for example elb_application_lb\r\n\r\nIt defines what happens if tags exist in aws that are not passed to the ansible module",
        "createdAt" : "2019-08-29T03:19:17Z",
        "updatedAt" : "2019-09-07T07:18:01Z",
        "lastEditedBy" : "8e448afa-36a6-4325-b7c1-0522cb01977c",
        "tags" : [
        ]
      },
      {
        "id" : "2c8ce1de-c266-4461-adb8-a816f48dc420",
        "parentId" : "7cae2c52-5007-447e-9104-0b0cf4a36503",
        "authorId" : "01bf7914-c90d-4815-ab3e-53c6e74ee441",
        "body" : "Hi @wimnat , thanks for the feedback! I've added an option `purge_tags`. Thanks to the implementation of `compare_aws_tags` in the `ec2` module I could just pass the `purge_tags` value to correctly get the tags to remove and the tags to add.\r\n\r\nI haven't added any new integration tests here, because everything is done in the `compare_aws_tags` function. This function should have tests of its own, I think.",
        "createdAt" : "2019-08-29T10:32:01Z",
        "updatedAt" : "2019-09-07T07:18:01Z",
        "lastEditedBy" : "01bf7914-c90d-4815-ab3e-53c6e74ee441",
        "tags" : [
        ]
      }
    ],
    "commit" : "98e48e31861ce6230090e4c06d9b6bcdc4cf7682",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +53,57 @@        description:\n            - A hash/dictionary of tags to add to the new state machine or to add/remove from an existing one.\n        type: dict\n    purge_tags:\n        description:"
  }
]