[
  {
    "id" : "df9a72c2-3199-4288-b722-f247c6f948d8",
    "prId" : 53166,
    "prUrl" : "https://github.com/ansible/ansible/pull/53166#pullrequestreview-210052223",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f40c475d-fb38-4f7b-a01f-74c661ff6bde",
        "parentId" : null,
        "authorId" : "ddc994e4-e185-4864-a5b8-1923d3bf66bf",
        "body" : "Does it require to provide the list of hosts explicitly? The example does not provide the hosts input for the deleting the aggregate.  I would expect to ansible to remove all the nodes from the aggregate by itself, instead of user input. ",
        "createdAt" : "2019-03-04T08:52:21Z",
        "updatedAt" : "2019-03-04T08:52:21Z",
        "lastEditedBy" : "ddc994e4-e185-4864-a5b8-1923d3bf66bf",
        "tags" : [
        ]
      },
      {
        "id" : "ba4c1369-3688-4d4a-aa77-09a3998f6b72",
        "parentId" : "f40c475d-fb38-4f7b-a01f-74c661ff6bde",
        "authorId" : "0fc7b754-8ebf-4a03-becd-71c924b2854a",
        "body" : "Yes, the list of the hosts should be provided.\r\nWhen you are using variables for the hosts, the hosts could be added or deleted depending by the state provided.\r\n\r\nThis is the default behavior of openstack.\r\nIt can't remove the hosts from the aggregate without getting the hosts provided.\r\n\r\nI don't think ansible module should override this behavior.\r\nIt supports the openstack api capabilities and should not change the logic of openstack.",
        "createdAt" : "2019-03-04T09:07:27Z",
        "updatedAt" : "2019-03-04T09:07:27Z",
        "lastEditedBy" : "0fc7b754-8ebf-4a03-becd-71c924b2854a",
        "tags" : [
        ]
      },
      {
        "id" : "d3b8bbae-8b62-4a53-9119-daf5489880ac",
        "parentId" : "f40c475d-fb38-4f7b-a01f-74c661ff6bde",
        "authorId" : "ddc994e4-e185-4864-a5b8-1923d3bf66bf",
        "body" : "> It supports the openstack api capabilities and should not change the logic of openstack.\r\n\r\nIMO, ansible enables to use the openstack APIs in a simplified manner, rather than providing a one-to-one mapping of all openstack cli commands. I may be wrong, i would love to hear from experts. If it is approved with the current approach, it would be good to update example with 'hosts' mentioned for 'absent' scenario too.\r\n",
        "createdAt" : "2019-03-04T09:53:14Z",
        "updatedAt" : "2019-03-04T09:53:14Z",
        "lastEditedBy" : "ddc994e4-e185-4864-a5b8-1923d3bf66bf",
        "tags" : [
        ]
      }
    ],
    "commit" : "23e0582940086b656c0e8e764b41c3573ce91ed0",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +168,172 @@                changed = False\n            else:\n                if hosts:\n                    for h in hosts:\n                        cloud.remove_host_from_aggregate(aggregate.id, h)"
  }
]