[
  {
    "id" : "d6daeb6b-7edc-4167-bcd8-4594028babb1",
    "prId" : 49404,
    "prUrl" : "https://github.com/ansible/ansible/pull/49404#pullrequestreview-180737275",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "50237e4a-e4fe-427c-8239-5c2ca706b11c",
        "parentId" : null,
        "authorId" : "fe1f9457-aab9-4612-bd2e-a48e5de4ab03",
        "body" : "The only nit-pick I can find here is that `self._permissions` and `self.permissions` looks very similar. To increase readability you could var them separately\r\n```suggestion\r\n        current_perms = set(self._permissions)\r\n        new_perms = set(self.permissions)\r\n        permissions_to_clear = current_perms - new_perms  # using set.difference(), or the list comprehension you used\r\n        permissions_to_add = new_perms - current_perms  # using set.difference(), or the list comprehension you used\r\n```\r\n\r\nThis makes it more clear that you are trying to check what to add/remove based on what permissions are currently there vs what is requested.\r\n",
        "createdAt" : "2018-12-03T12:16:31Z",
        "updatedAt" : "2018-12-07T09:20:42Z",
        "lastEditedBy" : "fe1f9457-aab9-4612-bd2e-a48e5de4ab03",
        "tags" : [
        ]
      }
    ],
    "commit" : "fc8f3febce6f6f15ae33afd42d8b6557af69473d",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +214,218 @@    def set_permissions(self):\n        permissions_to_clear = [permission for permission in self._permissions if permission not in self.permissions]\n        permissions_to_add = [permission for permission in self.permissions if permission not in self._permissions]\n        for permission in permissions_to_clear:\n            cmd = 'clear_permissions -p {vhost} {username}'.format(username=self.username,"
  }
]