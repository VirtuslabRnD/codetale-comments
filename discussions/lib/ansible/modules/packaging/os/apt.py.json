[
  {
    "id" : "c178f494-d40d-4424-9250-e4aed43b0301",
    "prId" : 24846,
    "prUrl" : "https://github.com/ansible/ansible/pull/24846#pullrequestreview-39463773",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "79355900-2040-4a41-b049-895528090b97",
        "parentId" : null,
        "authorId" : "33ed0887-90ec-4dd4-a7fd-9cacc2f20e93",
        "body" : "Elsewhere in this module the cache which is returned from `get_cache(module)` is always carefully used.  In this case there is a direct call to apt.Cache().  Do you know why there is this discrepancy and is it safe?  If possible it would be preferable to use the cache object which is already passed into this function as an argument. ",
        "createdAt" : "2017-05-22T12:38:10Z",
        "updatedAt" : "2017-05-26T08:28:45Z",
        "lastEditedBy" : "33ed0887-90ec-4dd4-a7fd-9cacc2f20e93",
        "tags" : [
        ]
      }
    ],
    "commit" : "2f3cd313bf8c2f0d6fbc7ccc11d4bf43e488ed54",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +558,562 @@                pkg_key = pkg_name\n            try:\n                installed_pkg = apt.Cache()[pkg_key]\n                installed_version = installed_pkg.installed.version\n                if package_version_compare(pkg_version, installed_version) == 0:"
  },
  {
    "id" : "32cbe86f-6d79-4472-9b1d-9986778a3246",
    "prId" : 24846,
    "prUrl" : "https://github.com/ansible/ansible/pull/24846#pullrequestreview-39463773",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f4c75f13-f10c-4967-b955-c553e00d2083",
        "parentId" : null,
        "authorId" : "33ed0887-90ec-4dd4-a7fd-9cacc2f20e93",
        "body" : "This is a huge try/except block which makes debugging what's going on quite difficult and can mask nasty errors.  This and other prolbems with this code are from before the current PR, however it would be really good if this situation could be improved.  ",
        "createdAt" : "2017-05-22T12:56:32Z",
        "updatedAt" : "2017-05-26T08:28:45Z",
        "lastEditedBy" : "33ed0887-90ec-4dd4-a7fd-9cacc2f20e93",
        "tags" : [
        ]
      }
    ],
    "commit" : "2f3cd313bf8c2f0d6fbc7ccc11d4bf43e488ed54",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +549,553 @@    for deb_file in debs.split(','):\n        try:\n            pkg = apt.debfile.DebPackage(deb_file)\n            pkg_name = get_field_of_deb(m, deb_file, \"Package\")\n            pkg_version = get_field_of_deb(m, deb_file, \"Version\")"
  },
  {
    "id" : "0851494d-8122-4ff7-96fb-7d44bd75182c",
    "prId" : 27162,
    "prUrl" : "https://github.com/ansible/ansible/pull/27162#pullrequestreview-160919918",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "74c68284-0a98-4b94-ae01-a99bc37a653b",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "The tests are failing because `state_fixed` is undefined when `p['state'] != 'fixed'`.",
        "createdAt" : "2018-10-02T18:08:02Z",
        "updatedAt" : "2018-10-03T12:42:40Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "0466c1ea-5b37-42f8-b118-70bfd709d336",
        "parentId" : "74c68284-0a98-4b94-ae01-a99bc37a653b",
        "authorId" : "2d837dac-e883-431d-9a1e-2adcfbdbc17e",
        "body" : "thanks for the check, that's actually pretty obvious looking at the code I've made!",
        "createdAt" : "2018-10-02T20:56:51Z",
        "updatedAt" : "2018-10-03T12:42:40Z",
        "lastEditedBy" : "2d837dac-e883-431d-9a1e-2adcfbdbc17e",
        "tags" : [
        ]
      }
    ],
    "commit" : "7ebda1d6c65b85ad4000a6216c9abad634b61e35",
    "line" : 70,
    "diffHunk" : "@@ -1,1 +1109,1113 @@                dpkg_options=dpkg_options,\n                build_dep=state_builddep,\n                fixed=state_fixed,\n                autoremove=autoremove,\n                only_upgrade=p['only_upgrade'],"
  },
  {
    "id" : "97366c40-ae3b-4edf-acb5-5f1b75989b7e",
    "prId" : 30738,
    "prUrl" : "https://github.com/ansible/ansible/pull/30738#pullrequestreview-182837874",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a93430f1-156a-458a-b6e3-8569c76d0c05",
        "parentId" : null,
        "authorId" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "body" : "This is a tiny nit pick, but can you replace the period at the end of the warning?",
        "createdAt" : "2018-12-07T19:24:24Z",
        "updatedAt" : "2018-12-07T19:24:24Z",
        "lastEditedBy" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "tags" : [
        ]
      }
    ],
    "commit" : "436f1d20f1a3a962e5ca1b29a65043c54f9eb874",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +914,918 @@\n    if not use_apt_get and not APTITUDE_CMD:\n        module.warn(\"Could not find aptitude. Using apt-get instead\")\n        use_apt_get = True\n"
  },
  {
    "id" : "d88c4a45-8bc9-400e-993f-464305eb661e",
    "prId" : 30747,
    "prUrl" : "https://github.com/ansible/ansible/pull/30747#pullrequestreview-66311951",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a3de2720-99e5-4d29-be20-4cd99a694adf",
        "parentId" : null,
        "authorId" : "c9b2af00-2c8d-4a67-9cb5-7cbedac7e233",
        "body" : "Shouldn't the default for autoremove be \"False\" rather than \"None\" ? (just nitpicking)",
        "createdAt" : "2017-09-30T12:09:14Z",
        "updatedAt" : "2017-09-30T12:09:14Z",
        "lastEditedBy" : "c9b2af00-2c8d-4a67-9cb5-7cbedac7e233",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c7f6fec3c31340d3ebd2754bb3cf6fd44d3ef63",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +723,727 @@def upgrade(m, mode=\"yes\", force=False, default_release=None,\n            use_apt_get=False,\n            dpkg_options=expand_dpkg_options(DPKG_OPTIONS), autoremove=None):\n\n    if autoremove:"
  },
  {
    "id" : "40832801-a7b5-48fa-a5df-f879dd12851f",
    "prId" : 33994,
    "prUrl" : "https://github.com/ansible/ansible/pull/33994#pullrequestreview-84661628",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "73050c3c-8d4d-45b2-af03-fd34ceb67f86",
        "parentId" : null,
        "authorId" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "body" : "I don't see how this will ever evaluate to `True`. The `if` statement on line 730 should always populate `apt_cmd`.",
        "createdAt" : "2017-12-19T23:12:02Z",
        "updatedAt" : "2017-12-19T23:12:02Z",
        "lastEditedBy" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "tags" : [
        ]
      },
      {
        "id" : "10a640c5-1858-449c-a391-0acb21b36fd5",
        "parentId" : "73050c3c-8d4d-45b2-af03-fd34ceb67f86",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "when name is given '*' and state as latest it triggers 'upgrade' with mode as 'yes' (line 1003). This is seen only when APTITUDE is not installed on given machine. ",
        "createdAt" : "2017-12-20T01:10:40Z",
        "updatedAt" : "2017-12-20T01:10:41Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      },
      {
        "id" : "7f3c6cc9-3a66-453f-88ac-8aeb6c35a87e",
        "parentId" : "73050c3c-8d4d-45b2-af03-fd34ceb67f86",
        "authorId" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "body" : "Ah, that'll do it. :+1: ",
        "createdAt" : "2017-12-20T04:38:28Z",
        "updatedAt" : "2017-12-20T04:38:28Z",
        "lastEditedBy" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "tags" : [
        ]
      }
    ],
    "commit" : "b4e933c9c3b72515b74ff474800465a78c7a1c4a",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +754,758 @@        force_yes = ''\n\n    if apt_cmd is None:\n        if use_apt_get:\n            apt_cmd = APT_GET_CMD"
  }
]