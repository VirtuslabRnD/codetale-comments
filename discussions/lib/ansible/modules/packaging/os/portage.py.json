[
  {
    "id" : "4f88621c-88ed-442d-b321-0dcdbdba7fd0",
    "prId" : 36452,
    "prUrl" : "https://github.com/ansible/ansible/pull/36452#pullrequestreview-98586013",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7abce520-1aac-4364-95fd-05f6d47d323c",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "I'm afraid, this won't make it in 2.6, because it's a bugfix release and  the next one accepting features should be 2.7.",
        "createdAt" : "2018-02-20T19:14:35Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "9580e283-bcad-45d9-9141-25e66c21ac61",
        "parentId" : "7abce520-1aac-4364-95fd-05f6d47d323c",
        "authorId" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "body" : "Ok I can increase to 2.7, thanks",
        "createdAt" : "2018-02-20T19:26:09Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "tags" : [
        ]
      },
      {
        "id" : "85431382-b030-47f5-a496-9d2aa813be3f",
        "parentId" : "7abce520-1aac-4364-95fd-05f6d47d323c",
        "authorId" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "body" : "Seems I may need to stick with 2.6 or something since CI is failing on 2.7.",
        "createdAt" : "2018-02-20T19:35:58Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "tags" : [
        ]
      },
      {
        "id" : "ed20c142-cd28-4d10-aad4-5c618e7c5803",
        "parentId" : "7abce520-1aac-4364-95fd-05f6d47d323c",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "It will be allowed to merge this branch when devel will start accepting features for 2.7. It's feature-freeze now. I'm going to guess that might happen once we get 2.6 branch separated.",
        "createdAt" : "2018-02-22T13:28:09Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "00f7df7b-7ebc-4982-ba9b-5ffa992a36e6",
        "parentId" : "7abce520-1aac-4364-95fd-05f6d47d323c",
        "authorId" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "body" : "Ok so 2.7 is correct, and I should just ignore the CI failure till next iteration.",
        "createdAt" : "2018-02-22T14:36:34Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "tags" : [
        ]
      }
    ],
    "commit" : "491d44a9629c38fff5eb67c1fc8bf51a38039701",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +180,184 @@    default: False\n    choices: [ \"yes\", \"no\" ]\n    version_added: 2.6\n\n  quietfail:"
  },
  {
    "id" : "c8f97117-ea5e-4ca3-a8b0-3686d5684eea",
    "prId" : 36452,
    "prUrl" : "https://github.com/ansible/ansible/pull/36452#pullrequestreview-98651172",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e8d923e3-2d06-4b29-bc24-11015c19b600",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "How about `default=None`? Otherwise it might override `EMERGE_DEFAULT_OPTS` values, which would be weird.",
        "createdAt" : "2018-02-22T13:35:09Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "08fbe6dd-a6c4-4983-90b4-3a77fa08bd03",
        "parentId" : "e8d923e3-2d06-4b29-bc24-11015c19b600",
        "authorId" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "body" : "I was just being consistent. There are only 3 options that are set to None, all others False. Once merged I plan to switch some of these defaults to True. I feel like ansible should always default to quiet across the board, unless overridden. \r\n\r\nBut you make a good point. It maybe worth dropping all False to None. I think its that way based on [the code](https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/packaging/os/portage.py#L324). Not familiar with conditionals, but I guess None is the same as False? If that is the case then its moot. Either way I believe it only adds these if set to True. If set to False they do not show up. Or should not per how I read the code.\r\n",
        "createdAt" : "2018-02-22T14:41:39Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "tags" : [
        ]
      },
      {
        "id" : "3662c505-0384-4645-95cd-13a0163fd71c",
        "parentId" : "e8d923e3-2d06-4b29-bc24-11015c19b600",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "No, `None is not False` (yes, it's valid Python statement bwt :smiley:)\r\n\r\nBasically, `None` *value* **is casted to False**. *But* `if var` check is using a built-in pythonic protocol for casting bool value out of expression given.\r\nSo it does `bool(val)`, which internally does `var.__bool__()` call. And then it uses whatever this method returns for the `if` clause.\r\n\r\n`NoneType` (`type(None)`) is always falsy, `[]` is falsy, `0` is falsy, `{}` is falsy. `1` is truthy, `[0]` is truthy, `{'k': 'v'}` is truly.\r\nThe end-user can implement whatever logic they want in their classes for casting their instances into boolean.\r\n\r\nThat is why it's important to check for `val is None` or `val is not None`, sometimes you'll even want `val is False`. `None` is often used for default arg value for functions/methods, which then do `is None` check to ensure the user didn't override them (cause you cannot put mutable defaults in function definitions).",
        "createdAt" : "2018-02-22T15:56:27Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "b2d76885-5c9b-49b4-a4e1-522e8c1a51a9",
        "parentId" : "e8d923e3-2d06-4b29-bc24-11015c19b600",
        "authorId" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "body" : "Ok based on that it seems the conditional to add any flag requires it to be set to True, per the [code](https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/packaging/os/portage.py#L324).\r\n```python\r\n    for flag, arg in emerge_flags.items():\r\n        if p[flag]:\r\n             args.append(arg)\r\n```\r\n\r\nIf I set it to None it would not be handled correctly. Or maybe ignored since its not True. Pretty sure that will only evaluate to true, if set to True.",
        "createdAt" : "2018-02-22T16:03:52Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "tags" : [
        ]
      },
      {
        "id" : "e98c3adb-2917-44b9-a607-3081ad4bb225",
        "parentId" : "e8d923e3-2d06-4b29-bc24-11015c19b600",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Yes, it will append flags with `True`, `1`, `1.0`, `y`, `n` (any string) values. And will skip `0`, `0.0`, `None`, `False`, `[]`, `{}`.",
        "createdAt" : "2018-02-22T16:24:57Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "29ce0371-45bb-42c0-bdcd-0be875f87c81",
        "parentId" : "e8d923e3-2d06-4b29-bc24-11015c19b600",
        "authorId" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "body" : "So having None vs False is moot for that stuff. Seems only remaining change is the version. I will correct and break CI",
        "createdAt" : "2018-02-22T16:41:58Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "tags" : [
        ]
      },
      {
        "id" : "0584a6bc-9a61-4728-a2f9-cc982bc6c5bb",
        "parentId" : "e8d923e3-2d06-4b29-bc24-11015c19b600",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Yes. We'll probably need to consider redesigning defaults separately. Out of scope now.",
        "createdAt" : "2018-02-22T17:01:27Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "c8f07275-3657-4560-bf76-31a751e3ef34",
        "parentId" : "e8d923e3-2d06-4b29-bc24-11015c19b600",
        "authorId" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "body" : "The module could likely use a few improvements. I am open to such. Not sure how many are using the module. It does not seem very popular, or its meeting alls needs/expectations no clue. Then again not sure many are interested in Gentoo these days...",
        "createdAt" : "2018-02-22T17:08:53Z",
        "updatedAt" : "2018-03-09T17:02:17Z",
        "lastEditedBy" : "bcb152be-bd39-4dc4-8361-2395e6e8daaf",
        "tags" : [
        ]
      }
    ],
    "commit" : "491d44a9629c38fff5eb67c1fc8bf51a38039701",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +512,516 @@            jobs=dict(default=None, type='int'),\n            loadavg=dict(default=None, type='float'),\n            quietbuild=dict(default=False, type='bool'),\n            quietfail=dict(default=False, type='bool'),\n        ),"
  }
]