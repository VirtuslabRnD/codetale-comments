[
  {
    "id" : "eed66d62-5f0c-4986-955f-706e10cc548f",
    "prId" : 39819,
    "prUrl" : "https://github.com/ansible/ansible/pull/39819#pullrequestreview-119152359",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cfc7a2b4-f772-4eb1-86a7-83b85baf0f8d",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "This change is causing the CI failure:\r\n\r\n> failed: [testhost] (item=python2-rpmfluff) => {\"changed\": false, \"item\": \"python2-rpmfluff\", \"msg\": \"Autoremove requires dnf>=2.0.1. Current dnf version is 1.1.10\"}",
        "createdAt" : "2018-05-10T16:23:40Z",
        "updatedAt" : "2018-05-25T14:22:51Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d8c54ebdb34cbcddb164783c441f645ebc6e95e8",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +493,497 @@            disable_gpg_check=dict(default=False, type='bool'),\n            installroot=dict(default='/', type='path'),\n            autoremove=dict(type='bool', default=False),\n            releasever=dict(default=None),\n        ),"
  },
  {
    "id" : "8f5e3cec-0367-4b58-a1d3-3133c6a842dd",
    "prId" : 49760,
    "prUrl" : "https://github.com/ansible/ansible/pull/49760#pullrequestreview-184294725",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "35ae4c99-132c-4fcb-876d-46fd36d96497",
        "parentId" : null,
        "authorId" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "body" : "I think this should be below the following `if self.module.check_mode` conditional so that `check_mode` takes precedent.",
        "createdAt" : "2018-12-12T15:43:05Z",
        "updatedAt" : "2018-12-12T15:43:05Z",
        "lastEditedBy" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "tags" : [
        ]
      },
      {
        "id" : "0b5e1679-1be4-4a9a-be27-ee9c3c332ae2",
        "parentId" : "35ae4c99-132c-4fcb-876d-46fd36d96497",
        "authorId" : "65bcc312-6bea-4270-ac2c-a18428cf837f",
        "body" : "If the failure block is after the check block, then it needs to be duplicated inside the check block as well. Otherwise the module will not report errors during check mode.\r\n\r\nAs the PR currently stands, the module will not make any changes if even one of the items it tries to install will fail, so the guarantee of check mode not changing anything is still maintained by having the failure block before the check mode block.\r\n\r\nShould I duplicate the code, or add a comment pointing out the failure conditional still guarantees check mode? There are benefits to both. ",
        "createdAt" : "2018-12-12T16:51:23Z",
        "updatedAt" : "2018-12-12T16:51:23Z",
        "lastEditedBy" : "65bcc312-6bea-4270-ac2c-a18428cf837f",
        "tags" : [
        ]
      },
      {
        "id" : "310ab083-4134-44ec-b90a-0aa49dbe1d45",
        "parentId" : "35ae4c99-132c-4fcb-876d-46fd36d96497",
        "authorId" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "body" : "Yeah, that's fair. I was thinking the `check_mode` reporting should take precedence but the error probably should. üëç ",
        "createdAt" : "2018-12-12T17:14:21Z",
        "updatedAt" : "2018-12-12T17:14:21Z",
        "lastEditedBy" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "tags" : [
        ]
      }
    ],
    "commit" : "129ea4f23be49c28b61e6facd364fd54ff79f292",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +1088,1092 @@            else:\n                response['changed'] = True\n                if failure_response['failures']:\n                    failure_response['msg'] = 'Failed to install some of the specified packages',\n                    self.module.fail_json(**failure_response)"
  },
  {
    "id" : "35fdf74c-d16b-4f8f-b593-f074cccd529e",
    "prId" : 57622,
    "prUrl" : "https://github.com/ansible/ansible/pull/57622#pullrequestreview-247648311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ad319044-3ea8-4a65-8aba-f74f2fe67cd1",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "I'd probably reuse this from the common var..",
        "createdAt" : "2019-06-10T14:32:59Z",
        "updatedAt" : "2019-06-10T14:32:59Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "15f1c69bce9078ba9195415dc85c5255ff214941",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +506,510 @@                                                                     package),\n                    results=[],\n                    cmd='dnf install -y {0}'.format(package),\n                    rc=rc,\n                    stdout=stdout,"
  },
  {
    "id" : "34f8b1e9-79e7-430b-832f-3b76511bd004",
    "prId" : 63059,
    "prUrl" : "https://github.com/ansible/ansible/pull/63059#pullrequestreview-296445021",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "db3aceff-7d59-40d9-b475-46c1bad47354",
        "parentId" : null,
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Note: we end up calling `to_native(error)` in both the caller and inside the function.  We should change it so that the call is only done outside and we document that an error message is passed in via error or the call is only done inside of the function (and is done earlier top so that both the True and False return values are guaranteed to return a string).",
        "createdAt" : "2019-10-02T18:39:40Z",
        "updatedAt" : "2019-10-02T18:39:41Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "a246730e82e15d5cf029bbe3d4818f010f91e893",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +351,355 @@        failures. Do that here.\n        \"\"\"\n        if 'no package matched' in to_native(error):\n            return (False, \"{0} is not installed\".format(spec))\n"
  }
]