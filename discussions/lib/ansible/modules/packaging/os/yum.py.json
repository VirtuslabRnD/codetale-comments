[
  {
    "id" : "b6e32b66-bf34-46a3-912f-7258bf2bd774",
    "prId" : 21475,
    "prUrl" : "https://github.com/ansible/ansible/pull/21475#pullrequestreview-22312643",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "80af6a4c-8cf0-404f-935a-24fe97a1bac8",
        "parentId" : null,
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Is skip-broken allowed for all of the commands that we run?  (I've used it with yum update but never with yum remove or yum install).",
        "createdAt" : "2017-02-16T17:12:58Z",
        "updatedAt" : "2017-02-20T22:29:23Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "2c9bbe0e-ea42-4c80-b235-7cc66be673c3",
        "parentId" : "80af6a4c-8cf0-404f-935a-24fe97a1bac8",
        "authorId" : "86105ad0-2a9f-436b-87c6-a9a76847f7e3",
        "body" : "Yep https://linux.die.net/man/8/yum --skip-broken is in the general section meaning it can be added to any other action. ",
        "createdAt" : "2017-02-16T17:29:06Z",
        "updatedAt" : "2017-02-20T22:29:23Z",
        "lastEditedBy" : "86105ad0-2a9f-436b-87c6-a9a76847f7e3",
        "tags" : [
        ]
      },
      {
        "id" : "cacc8e65-b634-4534-9147-ea1437df1f3e",
        "parentId" : "80af6a4c-8cf0-404f-935a-24fe97a1bac8",
        "authorId" : "86105ad0-2a9f-436b-87c6-a9a76847f7e3",
        "body" : "we use it quite often during Maintenance windows and mass server updates, we don't want to waste time to solve problems on failed machines, we just --skip-update and later follow-up what are the deps issues. ",
        "createdAt" : "2017-02-16T17:29:53Z",
        "updatedAt" : "2017-02-20T22:29:23Z",
        "lastEditedBy" : "86105ad0-2a9f-436b-87c6-a9a76847f7e3",
        "tags" : [
        ]
      }
    ],
    "commit" : "8249dd31e9a3559f7de0c0446a9a084e3567e8ab",
    "line" : 77,
    "diffHunk" : "@@ -1,1 +1076,1080 @@\n    if skip_broken:\n        yum_basecmd.extend(['--skip-broken'])\n\n    if disablerepo:"
  },
  {
    "id" : "d62e8a40-5c72-43ed-a1fd-37d0721cce5f",
    "prId" : 21516,
    "prUrl" : "https://github.com/ansible/ansible/pull/21516#pullrequestreview-55942789",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "be45be82-ad97-44d6-8e04-9f2ae41b5cf2",
        "parentId" : null,
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "So if `downgrade_pkgs` is not empty and `pkgs` is not empty, you rewrite some of the `res` content here via `exec_install` (like `changed`), no?",
        "createdAt" : "2017-08-12T12:00:00Z",
        "updatedAt" : "2017-08-12T17:43:57Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "1b083d87-ff0f-4abb-b646-34127d268077",
        "parentId" : "be45be82-ad97-44d6-8e04-9f2ae41b5cf2",
        "authorId" : "08a5634f-a7bc-4c78-ac46-675a18aa16f8",
        "body" : "yes, several res fields might indeed be rewritten",
        "createdAt" : "2017-08-12T12:22:35Z",
        "updatedAt" : "2017-08-12T17:43:57Z",
        "lastEditedBy" : "08a5634f-a7bc-4c78-ac46-675a18aa16f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "1e42357023535ce38e72d16fb1e272e9010c6440",
    "line" : 194,
    "diffHunk" : "@@ -1,1 +838,842 @@\n    if pkgs:\n        res = exec_install(module, items, 'install', pkgs, res, yum_basecmd)\n\n    return res"
  },
  {
    "id" : "31cf7ef0-72fa-4185-affc-ce8a7407a306",
    "prId" : 21516,
    "prUrl" : "https://github.com/ansible/ansible/pull/21516#pullrequestreview-55948436",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "85430324-f9d7-4b48-b53f-6c8fe3e42363",
        "parentId" : null,
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "How about doing all of this below only `if allow_downgrade:`?",
        "createdAt" : "2017-08-12T13:48:49Z",
        "updatedAt" : "2017-08-12T17:43:57Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "66b0607d-7856-4186-a106-d9ee86e0ef23",
        "parentId" : "85430324-f9d7-4b48-b53f-6c8fe3e42363",
        "authorId" : "08a5634f-a7bc-4c78-ac46-675a18aa16f8",
        "body" : "You are right, clearly a simple and good optimization.",
        "createdAt" : "2017-08-12T17:42:53Z",
        "updatedAt" : "2017-08-12T17:43:57Z",
        "lastEditedBy" : "08a5634f-a7bc-4c78-ac46-675a18aa16f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "1e42357023535ce38e72d16fb1e272e9010c6440",
    "line" : 126,
    "diffHunk" : "@@ -1,1 +803,807 @@                continue\n\n            # Downgrade - The yum install command will only install or upgrade to a spec version, it will\n            # not install an older version of an RPM even if specified by the install spec. So we need to\n            # determine if this is a downgrade, and then use the yum downgrade command to install the RPM."
  },
  {
    "id" : "a532b300-cfe4-4585-abb1-72769b5aba3d",
    "prId" : 24822,
    "prUrl" : "https://github.com/ansible/ansible/pull/24822#pullrequestreview-40514924",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "02298b37-a7ef-433b-b53d-1eb19bd411de",
        "parentId" : null,
        "authorId" : "a3de55de-df30-4af5-90da-e134af5cd82a",
        "body" : "Might want to note that it's only applicable with `state: latest`.",
        "createdAt" : "2017-05-26T03:29:48Z",
        "updatedAt" : "2017-05-26T03:29:48Z",
        "lastEditedBy" : "a3de55de-df30-4af5-90da-e134af5cd82a",
        "tags" : [
        ]
      },
      {
        "id" : "a3a16028-4ac5-45ed-8294-7b4058d5bf0b",
        "parentId" : "02298b37-a7ef-433b-b53d-1eb19bd411de",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "OK. I will update doc.",
        "createdAt" : "2017-05-26T13:01:07Z",
        "updatedAt" : "2017-05-26T13:01:08Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b5e525b92a30534cbc9174fa45f329120393924",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +139,143 @@  security:\n    description:\n      - If set to C(yes), then installs all security updates.\n    default: \"no\"\n    choices: [\"yes\", \"no\"]"
  },
  {
    "id" : "c55c5d0e-2af6-49e1-a4de-a09653ea8da9",
    "prId" : 27696,
    "prUrl" : "https://github.com/ansible/ansible/pull/27696#pullrequestreview-55041287",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b041a906-1a4a-4150-8b8b-21971c3630f2",
        "parentId" : null,
        "authorId" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "body" : "Can we get away with setting stderr in the return here?\r\n\r\n``` python\r\n            res['stderr'] = err\r\n```\r\n\r\nThe way stderr is the result is handled was changed recently, but not sure of the implication. But having the stderr in the result might be useful in these cases if it doesn't cause the task to fail.",
        "createdAt" : "2017-08-07T14:11:13Z",
        "updatedAt" : "2017-08-10T11:07:18Z",
        "lastEditedBy" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "tags" : [
        ]
      },
      {
        "id" : "72a53a24-f6d9-4204-ba41-24bb88d33ec0",
        "parentId" : "b041a906-1a4a-4150-8b8b-21971c3630f2",
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "It might be good to use `res['stderr']` everywhere in the module. Are you ok with me addressing that in a separate PR?",
        "createdAt" : "2017-08-08T19:14:13Z",
        "updatedAt" : "2017-08-10T11:07:18Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      }
    ],
    "commit" : "1cd7e9b2784a0576b102e4f150bc2672f5683e83",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +769,773 @@        res['results'].append(out)\n        res['msg'] += err\n        res['changed'] = True\n\n        # special case for groups"
  },
  {
    "id" : "ad2fca71-034f-4702-9308-6ed13004d861",
    "prId" : 35882,
    "prUrl" : "https://github.com/ansible/ansible/pull/35882#pullrequestreview-97109189",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "76c952d2-fdec-4caa-8914-e2d8db093f21",
        "parentId" : null,
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "How about just this fix?\r\n```\r\n- Whether to install (C(present) or C(installed)), update (C(latest)) or remove (C(absent) or C(removed)) a package.\r\n```\r\nIt seems clear enough for me. However, just a suggestion, I am fine with merging this PR.",
        "createdAt" : "2018-02-16T08:44:44Z",
        "updatedAt" : "2018-02-16T08:44:44Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      }
    ],
    "commit" : "2fced789c6f76dc0efa19039c79ed8b6606b455f",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +43,47 @@  state:\n    description:\n      - Whether to install (C(present) or C(installed), C(latest)), or remove (C(absent) or C(removed)) a package.\n      - C(present) and C(installed) will simply ensure that a desired package is installed.\n      - C(latest) will update the specified package if it's not of the latest available version."
  }
]