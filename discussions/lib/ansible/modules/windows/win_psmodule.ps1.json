[
  {
    "id" : "486efe1c-559f-4f2d-a129-6f3c4876bcff",
    "prId" : 23604,
    "prUrl" : "https://github.com/ansible/ansible/pull/23604#pullrequestreview-39658835",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "012f7c08-7ba5-48c4-9db1-5ad12e0ec766",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "you should set `$result.changed = $true` when running this.",
        "createdAt" : "2017-05-13T01:44:38Z",
        "updatedAt" : "2017-05-23T07:04:08Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "1fd1ca3e-2cc4-4e30-9122-1d3b3f4c9cbd",
        "parentId" : "012f7c08-7ba5-48c4-9db1-5ad12e0ec766",
        "authorId" : "c9c78c2d-9bd5-48bc-b1df-4305f3cddc6a",
        "body" : "this step installs the nuget package provider if not present (needed to installs module from Powershell Gallery), but doesn't  add any modules, so I'm not sure that  $result.changed has to be set $true ",
        "createdAt" : "2017-05-15T07:37:01Z",
        "updatedAt" : "2017-05-23T07:04:08Z",
        "lastEditedBy" : "c9c78c2d-9bd5-48bc-b1df-4305f3cddc6a",
        "tags" : [
        ]
      },
      {
        "id" : "5ff5c057-5444-43d5-9fef-9ac1fd3735d1",
        "parentId" : "012f7c08-7ba5-48c4-9db1-5ad12e0ec766",
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Yes, if it changes something on the system, it should result in a change. win_chocolatey does something similar. One could argue if a module should do anything more than managing the object(s) it has control over, but for convenience sometimes more is managed.",
        "createdAt" : "2017-05-15T09:34:01Z",
        "updatedAt" : "2017-05-23T07:04:08Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      },
      {
        "id" : "4ce767af-713f-404f-90cd-3dbe5f5bf357",
        "parentId" : "012f7c08-7ba5-48c4-9db1-5ad12e0ec766",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "I agree I think if a module makes a change to the system regardless of what that change was it should report it.",
        "createdAt" : "2017-05-15T09:35:17Z",
        "updatedAt" : "2017-05-23T07:04:08Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "10662640-c6ac-4de7-878a-ac241e1a50c0",
        "parentId" : "012f7c08-7ba5-48c4-9db1-5ad12e0ec766",
        "authorId" : "c9c78c2d-9bd5-48bc-b1df-4305f3cddc6a",
        "body" : "ok, but if the package provider is installed and then the module installation fail, the Fail-Json will return changed: true without specifying what is changed. It's correct?",
        "createdAt" : "2017-05-15T15:47:50Z",
        "updatedAt" : "2017-05-23T07:04:08Z",
        "lastEditedBy" : "c9c78c2d-9bd5-48bc-b1df-4305f3cddc6a",
        "tags" : [
        ]
      },
      {
        "id" : "2accfee0-09ba-471f-85ad-5f9cbe64269c",
        "parentId" : "012f7c08-7ba5-48c4-9db1-5ad12e0ec766",
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "That's correct. A failed task can have changes. And true, often modules do not clearly state what was changed, just that something changed. That's the problem when a module does more than manage one type of object (and one object).",
        "createdAt" : "2017-05-15T23:01:19Z",
        "updatedAt" : "2017-05-23T07:04:08Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      },
      {
        "id" : "035fe0bb-d101-4ee9-8483-e6405af696c0",
        "parentId" : "012f7c08-7ba5-48c4-9db1-5ad12e0ec766",
        "authorId" : "e84e8bad-0cc3-4284-9eb8-2a921978042a",
        "body" : "You could probably add a `\"nuget_changed\": true/false` to the result object in any case, so that it's possible to pickup exactly what was changed.",
        "createdAt" : "2017-05-21T12:23:53Z",
        "updatedAt" : "2017-05-23T07:04:08Z",
        "lastEditedBy" : "e84e8bad-0cc3-4284-9eb8-2a921978042a",
        "tags" : [
        ]
      },
      {
        "id" : "52e8b370-53e4-42a3-ad4f-4921dd30e085",
        "parentId" : "012f7c08-7ba5-48c4-9db1-5ad12e0ec766",
        "authorId" : "c9c78c2d-9bd5-48bc-b1df-4305f3cddc6a",
        "body" : "I added ```nuget_changed``` and ```repository_changed``` to notify if something was changed also if module installation fails.",
        "createdAt" : "2017-05-23T07:17:07Z",
        "updatedAt" : "2017-05-23T07:17:07Z",
        "lastEditedBy" : "c9c78c2d-9bd5-48bc-b1df-4305f3cddc6a",
        "tags" : [
        ]
      }
    ],
    "commit" : "e7a8f5d75d94378149c3add41c9d316d2ad329e2",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +43,47 @@  if (!($PackageProvider)){\n      try{\n        Install-PackageProvider -Name NuGet -MinimumVersion 2.8.5.201 -Force -ErrorAction Stop -WhatIf:$CheckMode | out-null\n        $result.changed = $true\n        $result.nuget_changed = $true"
  },
  {
    "id" : "aa70923c-5270-4f5f-b4a0-11b50e883080",
    "prId" : 39909,
    "prUrl" : "https://github.com/ansible/ansible/pull/39909#pullrequestreview-121017259",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "172f1115-113b-4976-9672-9b8bd2a574da",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Can just do `$ht[\"Repository\"] = $Repository`, no need to enclose it in a string. Another part which is just a minor nitpick and you don't have to do anything is that lines don't need to end with `;` in PowerShell. Personally I think it detracts from the code but that's just me.",
        "createdAt" : "2018-05-17T03:10:53Z",
        "updatedAt" : "2018-05-22T21:02:36Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "6cbce36b-7090-4207-9a74-ae3ef01d0042",
        "parentId" : "172f1115-113b-4976-9672-9b8bd2a574da",
        "authorId" : null,
        "body" : "You're right, it's just a preference on my part.\r\nAlso, double-quoting forces string conversion, which has become a habit of mine after being burned with some weird scripts, but here it's not necessary. I guess it just helps the eye pick up the type of the data from the context.",
        "createdAt" : "2018-05-17T04:09:30Z",
        "updatedAt" : "2018-05-22T21:02:36Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      },
      {
        "id" : "664df047-0bd7-431d-820d-d428fe634337",
        "parentId" : "172f1115-113b-4976-9672-9b8bd2a574da",
        "authorId" : null,
        "body" : "Thank you for your continued help and advices, without your aid I would have had a hard time figuring out how things clicked!\r\n\r\nIt was my pleasure, and feel good to put my work to the use of so many others.",
        "createdAt" : "2018-05-17T12:30:26Z",
        "updatedAt" : "2018-05-22T21:02:36Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "84c6e32964445b73617766205778443b24f84769",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +130,134 @@        # If specified, use repository name to select module source\n        if ($Repository) {\n            $ht[\"Repository\"] = \"$Repository\";\n        }\n"
  },
  {
    "id" : "9c3081a7-2540-4d8d-b2f9-e56956a1ac1a",
    "prId" : 50621,
    "prUrl" : "https://github.com/ansible/ansible/pull/50621#pullrequestreview-194834563",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27affdc1-55e0-4fa3-87d6-235f01154daf",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "It is best to avoid making changes like this. It makes the diff needlessly more verbose and harder to review while not actually adding any value. This usually applies to things like changing styles unless the line was already out of place. If it really needs to be done I would prefer it to be done in a separate PR so this one can stay related to the actual functionality being added and not mixed in with other changes.",
        "createdAt" : "2019-01-22T04:37:41Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "e701a7ecab3e0a2ca5b7007a978eb66da01b048c",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +17,21 @@$maximum_version = Get-AnsibleParam -obj $params -name \"maximum_version\" -type \"str\"\n$repo = Get-AnsibleParam -obj $params -name \"repository\" -type \"str\"\n$url = Get-AnsibleParam -obj $params -name \"url\" -type str\n$state = Get-AnsibleParam -obj $params -name \"state\" -type \"str\" -default \"present\" -validateset \"present\", \"absent\", \"latest\"\n$allow_clobber = Get-AnsibleParam -obj $params -name \"allow_clobber\" -type \"bool\" -default $false"
  },
  {
    "id" : "0604dca2-a7e3-48ef-9d18-737ce8844c73",
    "prId" : 50621,
    "prUrl" : "https://github.com/ansible/ansible/pull/50621#pullrequestreview-201369634",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2d073a40-564e-4693-bd0f-72ce14e25d33",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "You don't have to move across to it yet but you might want to consider looking at `Ansible.Basic`, it is able to handle scenarios like mutually exclusive options and required_if scenarios just like Python's basic.py.",
        "createdAt" : "2019-01-22T05:28:51Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "380687a2-0454-4cfd-8731-ff221d0426ff",
        "parentId" : "2d073a40-564e-4693-bd0f-72ce14e25d33",
        "authorId" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "body" : "I would not like to rewrite that module now again. ",
        "createdAt" : "2019-01-22T21:39:16Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "tags" : [
        ]
      },
      {
        "id" : "74234791-98d4-4a25-9d61-1fff36cbe974",
        "parentId" : "2d073a40-564e-4693-bd0f-72ce14e25d33",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "No worries, just letting you know.",
        "createdAt" : "2019-02-07T23:12:48Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "e701a7ecab3e0a2ca5b7007a978eb66da01b048c",
    "line" : 445,
    "diffHunk" : "@@ -1,1 +348,352 @@}\n\nif ( $required_version -and ( $minimum_version -or $maximum_version ) ) {\n       $ErrorMessage = \"Parameters required_version and minimum/maximum_version are mutually exclusive.\"\n       Fail-Json $result $ErrorMessage"
  },
  {
    "id" : "5073ddd2-a36c-4d92-86ed-64f71aa52dd6",
    "prId" : 50621,
    "prUrl" : "https://github.com/ansible/ansible/pull/50621#pullrequestreview-202363050",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5698330e-2e52-4d52-91aa-e7352434734e",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "I have mixed feelings about this module updating the PSGet and PackageManagement modules instead of the user. May be good to bring this up in the next Windows Working Group.",
        "createdAt" : "2019-01-22T05:30:41Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "a12d8d1d-8022-4af0-b475-62b1f9e984fa",
        "parentId" : "5698330e-2e52-4d52-91aa-e7352434734e",
        "authorId" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "body" : "Updating of PSGet and PackageManagement is required to correctly perform check queries required by the module logic/purpose.\r\n\r\nWe can add an additional parameter e.g. install_prerequisites set to false.\r\n\r\nThe same issue affects the win_psrepository module - [I proposed the #PR to address that](https://github.com/ansible/ansible/pull/50759). Without updating the NuGet package provider the primary function of the module fails.",
        "createdAt" : "2019-02-11T22:04:55Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "tags" : [
        ]
      }
    ],
    "commit" : "e701a7ecab3e0a2ca5b7007a978eb66da01b048c",
    "line" : 488,
    "diffHunk" : "@@ -1,1 +382,386 @@    # Update the PowerShellGet and PackageManagement modules.\n    # It's required to support AllowClobber, AllowPrerelease parameters.\n    Install-PrereqModule -CheckMode $check_mode\n}\n"
  }
]