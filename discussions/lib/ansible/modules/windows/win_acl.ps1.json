[
  {
    "id" : "cbef6b33-897c-485c-a3da-92647f1ce97f",
    "prId" : 43179,
    "prUrl" : "https://github.com/ansible/ansible/pull/43179#pullrequestreview-140530469",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5ab2cbfc-2ec6-4261-beb0-ccc8c6a352c9",
        "parentId" : null,
        "authorId" : "311820dd-fcb9-46df-a201-9c0e7d6fac58",
        "body" : "If I'm reading it right, this will silently ignore cases where the user doesn't hold the privilege or where it was removed- I don't think that's what we want? Maybe just call Set-AnsiblePrivilege for each of these instead?",
        "createdAt" : "2018-07-25T21:41:49Z",
        "updatedAt" : "2018-07-27T05:29:10Z",
        "lastEditedBy" : "311820dd-fcb9-46df-a201-9c0e7d6fac58",
        "tags" : [
        ]
      },
      {
        "id" : "0d594065-eae7-4cf6-a8b5-10c2c90d5367",
        "parentId" : "5ab2cbfc-2ec6-4261-beb0-ccc8c6a352c9",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "It's more for cases where we run these modules as a non admin (who probably won't have these privileges). This probably won't happen in win_acl but I wanted to have this as a try and do, fail later if Windows determines the privilege was actually needed.\r\n\r\nWe really should be enabling the privileges if the task calls for it rather than doing it in all cases but I didn't want to spend further time changing win_acl for now.",
        "createdAt" : "2018-07-25T23:08:19Z",
        "updatedAt" : "2018-07-27T05:29:10Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "6baf4cca0b497f1b999851d5109b2259b2a61bcf",
    "line" : 127,
    "diffHunk" : "@@ -1,1 +70,74 @@        foreach ($privilege in $privileges) {\n            $state = Get-AnsiblePrivilege -Name $privilege\n            if ($state -eq $false) {\n                Set-AnsiblePrivilege -Name $privilege -Value $true\n            }"
  }
]