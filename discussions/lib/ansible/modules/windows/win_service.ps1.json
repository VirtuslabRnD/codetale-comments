[
  {
    "id" : "b319842d-e3f1-4718-b9c7-8c9892ff0fe6",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22750167",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "05b824eb-bfdc-4fea-af06-25df506f9961",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Most of these do not have a strict -type used. I would make the following modifications:\r\n- Add `-type \"str\"` to all of them, add `-type \"path\"` to the path parameter.\r\n- Remove `-default $null` because that is the default for unset parameters.\r\n- Remove `-failifempty $false` because that is the default for parameters.\r\n- I prefer to use `-validateset` (all lowercase) since we don't do it for anything else (not -Name, not -failIfEmpty, etc.)\r\n- I prefer to have lists comma-seperated (no space) so it parses easier for humans (just a preference, do as you like)",
        "createdAt" : "2017-02-20T11:41:57Z",
        "updatedAt" : "2017-02-20T12:30:51Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      },
      {
        "id" : "f37fa2a9-8133-42f0-9308-a033ac541165",
        "parentId" : "05b824eb-bfdc-4fea-af06-25df506f9961",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "will make the changes, at the time it didn't have your work on this.",
        "createdAt" : "2017-02-20T12:32:40Z",
        "updatedAt" : "2017-02-20T12:32:40Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "2865291f-2253-4862-a797-3e629ba4e6d0",
        "parentId" : "05b824eb-bfdc-4fea-af06-25df506f9961",
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "No, indeed, I ditched my work over yours ;-)",
        "createdAt" : "2017-02-20T12:34:55Z",
        "updatedAt" : "2017-02-20T12:34:55Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +35,39 @@$start_mode = Get-AnsibleParam -obj $params -name 'start_mode' -failifempty $false -ValidateSet 'auto', 'manual', 'disabled', 'delayed'\n$state = Get-AnsibleParam -obj $params -name 'state' -failifempty $false -ValidateSet 'started', 'stopped', 'restarted', 'absent'\n$username = Get-AnsibleParam -obj $params -name 'username' -failifempty $false -default $null\n\n$result = @{"
  },
  {
    "id" : "4550f5c5-d940-45cd-a0a0-74065ebcf5a6",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22749833",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "279397cc-31d2-433b-91d6-37105fb9ac79",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "No longer need to add an empty `warnings` entry.\r\nUse `Add-Warning()` instead !",
        "createdAt" : "2017-02-20T11:42:27Z",
        "updatedAt" : "2017-02-20T12:30:52Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      },
      {
        "id" : "73cb1a2f-910e-480b-9ad4-4193b1447b9e",
        "parentId" : "279397cc-31d2-433b-91d6-37105fb9ac79",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "same as above :)",
        "createdAt" : "2017-02-20T12:32:50Z",
        "updatedAt" : "2017-02-20T12:32:50Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +39,43 @@$result = @{\n    changed = $false\n    warnings = @()\n}\n"
  },
  {
    "id" : "69fa9184-1217-4672-b579-a4c237a079b6",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8ed0101a-1aa8-4e9d-a1b0-989b2d14833c",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Would be nice to do this for `-type list` automatically !\r\nCould you add this and make this module use it too ?",
        "createdAt" : "2017-02-20T11:43:17Z",
        "updatedAt" : "2017-02-20T12:30:52Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +45,49 @@if ($dependencies -is [System.String]) {\n    $dependencies = @($dependencies)\n}\n\nif ($username -ne $null -and $password -eq $null) {"
  },
  {
    "id" : "336aff7e-bbd1-46b7-a32f-42244fd8d7d1",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b412e7a1-450d-432f-b514-297e63c911a7",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "I started doing `-WhatIf:$check_mode` which avoids most of the duplicated code.",
        "createdAt" : "2017-02-20T11:44:38Z",
        "updatedAt" : "2017-02-20T12:33:53Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 150,
    "diffHunk" : "@@ -1,1 +145,149 @@                # Original start up type was auto (delayed) and we want auto, need to removed delayed key\n                if ($start_mode -eq 'auto' -and $result.start_mode -eq 'delayed') {\n                    Set-ItemProperty -Path $delayed_key -Name \"DelayedAutostart\" -Value 0 -Type DWORD -WhatIf\n                # Original start up type was auto and we want auto (delayed), need to add delayed key\n                } elseif ($start_mode -eq 'delayed' -and $result.start_mode -eq 'auto') {"
  },
  {
    "id" : "0cc74f88-78b8-4bc0-a5b6-d2f24471e5fb",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d7c80d20-1b7a-4b56-b321-07e90a465df0",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Same here, try using `-WhatIf:$check_mode` instead.",
        "createdAt" : "2017-02-20T11:45:22Z",
        "updatedAt" : "2017-02-20T12:30:52Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 225,
    "diffHunk" : "@@ -1,1 +208,212 @@        try {\n            if ($check_mode) {\n                $svc | Set-Service -DisplayName $display_name -WhatIf\n            } else {\n                $svc | Set-Service -DisplayName $display_name"
  },
  {
    "id" : "b32da8f2-6ec7-47b0-bb74-23f4c5fd3681",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "24579600-a19e-40d6-9d1a-ec96966a77d6",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Same here, try using `-WhatIf:$check_mode` instead.",
        "createdAt" : "2017-02-20T11:45:41Z",
        "updatedAt" : "2017-02-20T12:33:43Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 244,
    "diffHunk" : "@@ -1,1 +224,228 @@        try {\n            if ($check_mode) {\n                $svc | Set-Service -Description $description -WhatIf\n            } else {\n                $svc | Set-Service -Description $description"
  },
  {
    "id" : "ecf79170-7d0e-4828-8d18-49f5c8bbec75",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27ffe2ad-b855-45ef-a5a2-01196af8c98c",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Same here, try using `-WhatIf:$check_mode` instead.",
        "createdAt" : "2017-02-20T11:45:49Z",
        "updatedAt" : "2017-02-20T12:33:32Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 261,
    "diffHunk" : "@@ -1,1 +240,244 @@        try {\n            if ($check_mode) {\n                Set-ItemProperty -Path \"HKLM:\\System\\CurrentControlSet\\Services\\$name\" -Name ImagePath -Value $path -WhatIf\n            } else {\n                Set-ItemProperty -Path \"HKLM:\\System\\CurrentControlSet\\Services\\$name\" -Name ImagePath -Value $path"
  },
  {
    "id" : "8097ad4f-2069-4af3-90f1-4d3a39ed7a2d",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "66d0a724-031b-4e77-b09c-f2f1d875412c",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Same here, try using `-WhatIf:$check_mode` instead.",
        "createdAt" : "2017-02-20T11:46:04Z",
        "updatedAt" : "2017-02-20T12:33:23Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 325,
    "diffHunk" : "@@ -1,1 +301,305 @@        try {\n            if ($check_mode) {\n                Start-Service -Name $svc.Name -WhatIf\n            } else {\n                Start-Service -Name $svc.Name"
  },
  {
    "id" : "c6061efc-ff40-4e64-90a3-074a9b1900a9",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c0df16fd-6ede-4110-8946-83abc0fd0318",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Same here, try using -WhatIf:$check_mode instead.",
        "createdAt" : "2017-02-20T11:46:10Z",
        "updatedAt" : "2017-02-20T12:30:52Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 340,
    "diffHunk" : "@@ -1,1 +315,319 @@        try {\n            if ($check_mode) {\n                Stop-Service -Name $svc.Name -Force -WhatIf\n            } else {\n                Stop-Service -Name $svc.Name -Force"
  },
  {
    "id" : "5636cff2-8948-4de9-ac0e-4540fb8c813b",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c383498b-f8a3-466c-b248-b50286860a26",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Same here, try using `-WhatIf:$check_mode` instead.",
        "createdAt" : "2017-02-20T11:46:18Z",
        "updatedAt" : "2017-02-20T12:32:53Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 357,
    "diffHunk" : "@@ -1,1 +329,333 @@        try {\n            if ($check_mode) {\n                Restart-Service -Name $svc.Name -Force -WhatIf\n            } else {\n                Restart-Service -Name $svc.Name -Force"
  },
  {
    "id" : "3e5d55fd-aaf5-409c-8b64-0337a8d84245",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d1a3eb26-3410-4fcd-95cc-8ccc089ee0d5",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Same here, try using `-WhatIf:$check_mode` instead.",
        "createdAt" : "2017-02-20T11:46:25Z",
        "updatedAt" : "2017-02-20T12:33:08Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 372,
    "diffHunk" : "@@ -1,1 +343,347 @@        try {\n            if ($check_mode) {\n                Stop-Service -Name $svc.Name -Force -WhatIf\n            } else {\n                Stop-Service -Name $svc.Name -Force"
  },
  {
    "id" : "23fbd4e9-7368-4b9c-b164-6221472fe653",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22741508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8fcb4d27-a73c-419c-ba5c-cd74d53543a2",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Same here, try using `-WhatIf:$check_mode` instead.",
        "createdAt" : "2017-02-20T11:48:46Z",
        "updatedAt" : "2017-02-20T12:30:52Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 441,
    "diffHunk" : "@@ -1,1 +411,415 @@            try {\n                if ($check_mode) {\n                    New-Service -Name $name -BinaryPathname $path -WhatIf\n                } else {\n                    New-Service -Name $name -BinaryPathname $path"
  },
  {
    "id" : "468c929c-4c9f-4f71-b025-f924a32fad4c",
    "prId" : 19143,
    "prUrl" : "https://github.com/ansible/ansible/pull/19143#pullrequestreview-22761258",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c979001d-2a1c-4f7f-b0bb-6f1272172d43",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "This is a bit weird to me. Must be easier to do :-)",
        "createdAt" : "2017-02-20T11:49:48Z",
        "updatedAt" : "2017-02-20T12:30:52Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      },
      {
        "id" : "28d4ad9b-1702-46c4-a8ae-24cc12d3fb01",
        "parentId" : "c979001d-2a1c-4f7f-b0bb-6f1272172d43",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "I'm not sure if there is an easier way, all it is doing is recreating an empty result again, do you have another suggestion?",
        "createdAt" : "2017-02-20T12:54:39Z",
        "updatedAt" : "2017-02-20T12:54:40Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "b9bb649f-df6d-4129-ab26-66130fee72af",
        "parentId" : "c979001d-2a1c-4f7f-b0bb-6f1272172d43",
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Well, I wouldn't be expecting that at this point, when removing a service (which appears to be only stopping the service ??) the $result dictionary would have anything except the initialized data.\r\n\r\nBut I am not in favor of the current structure of the code where we seem to run a lot of stuff even when state -eq \"absent\". I'd rather see a large if-then-elseif-elseif-elseif structure for each of the possible states.\r\n\r\nAlso, I am a bit confused as this module seems to be able to create services, as well as change their state. Which is different from the Unix **service** module, where you can only do started, stopped or restarted, and reloaded. And you can enable/disable them on boot. But not create or remove them. I think that is confusing somehow (present/absent vs started/stopped/restarted/reloaded and enabled/disabled).",
        "createdAt" : "2017-02-20T13:37:07Z",
        "updatedAt" : "2017-02-20T13:37:07Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a6655423a64336fa4c97a2ba90cedb9a86e87f3",
    "line" : 478,
    "diffHunk" : "@@ -1,1 +448,452 @@        changed = $changed\n        warnings = $warnings\n        exists = $false\n    }\n} elseif ($svc -ne $null) {"
  }
]