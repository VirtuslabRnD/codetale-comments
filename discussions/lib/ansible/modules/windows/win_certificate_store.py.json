[
  {
    "id" : "0267585a-fbb3-4a68-93d2-b5420962946b",
    "prId" : 49903,
    "prUrl" : "https://github.com/ansible/ansible/pull/49903#pullrequestreview-186301477",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cca668b1-243d-4307-962c-6756a84437b4",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "It's less the private key but the whole certificate and key not being accessible to that account.",
        "createdAt" : "2018-12-17T19:51:24Z",
        "updatedAt" : "2018-12-18T22:20:07Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "eda75058-d277-4e05-8e07-76b40b9e9269",
        "parentId" : "cca668b1-243d-4307-962c-6756a84437b4",
        "authorId" : "66217e46-042b-45fd-ab20-5bbd472373f0",
        "body" : "Not sure this is correct unless you use the `CurrentUser` certificate store. `LocalMachine` is the default. In the situation that lead me to suggest this documentation change, I was able to view and select the certificate from a different user account without issue, but IIS would fail in attempting to bind the certificate to the HTTPS webbinding because it was unable to access the private key.",
        "createdAt" : "2018-12-18T12:56:20Z",
        "updatedAt" : "2018-12-18T22:20:07Z",
        "lastEditedBy" : "66217e46-042b-45fd-ab20-5bbd472373f0",
        "tags" : [
        ]
      },
      {
        "id" : "320e54d4-e74d-4ede-af32-d4195c86470e",
        "parentId" : "cca668b1-243d-4307-962c-6756a84437b4",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "> LocalMachine is the default\r\n\r\nI disagree, we have seen how the default option on Windows is not actually LocalMachine, this is the whole point of this PR to point out how the default may not be what you need :)\r\n\r\n> I was able to view and select the certificate from a different user account without issue\r\n\r\nI'm not able to do so, when I go to select a certificate I am only able to see the certs in the Personal store of LocalMachine, any certs in the Personal store are not viewable and therefore not selectable.",
        "createdAt" : "2018-12-18T19:56:05Z",
        "updatedAt" : "2018-12-18T22:20:07Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "2ed0a8e4-5883-484a-99c2-059e9077704b",
        "parentId" : "cca668b1-243d-4307-962c-6756a84437b4",
        "authorId" : "66217e46-042b-45fd-ab20-5bbd472373f0",
        "body" : "I think we're talking about two different things, namely Certificate Store Locations versus Private Key Storage. This doc PR is about the PK storage, not the certificate store.\r\n\r\n`LocalMachine` is the default Certificate Store Location in the script this module uses, while `Default` is the default private key storage, which may resolve to the `User` private key storage OR the `Machine` private key storage, depending on what the default key storage is configured to be in windows (about which microsoft's documentation only says \"Generally this will be `User`\"). \r\n\r\nIt's entirely expected that if you install a certificate into the `CurrentUser` certificate store it would only be available to whatever account Ansible is using while running the install. \r\n\r\n",
        "createdAt" : "2018-12-18T20:28:17Z",
        "updatedAt" : "2018-12-18T22:20:07Z",
        "lastEditedBy" : "66217e46-042b-45fd-ab20-5bbd472373f0",
        "tags" : [
        ]
      },
      {
        "id" : "468b3bcc-3ab3-4d1a-8e60-1e5e47be14cb",
        "parentId" : "cca668b1-243d-4307-962c-6756a84437b4",
        "authorId" : "66217e46-042b-45fd-ab20-5bbd472373f0",
        "body" : "I went ahead and added `store_location: LocalMachine` to the example, I agree that it is probably a good idea not to have the documentation rely on the default setting to be correct for the use case as the default could change. ",
        "createdAt" : "2018-12-18T20:36:28Z",
        "updatedAt" : "2018-12-18T22:20:07Z",
        "lastEditedBy" : "66217e46-042b-45fd-ab20-5bbd472373f0",
        "tags" : [
        ]
      },
      {
        "id" : "643163ec-bb59-41ca-9d41-407fa5d81496",
        "parentId" : "cca668b1-243d-4307-962c-6756a84437b4",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Ahh sorry, complete mind blank there and totally forgot we are talking about `key_storage` and not `store_location`. Please ignore this comment.",
        "createdAt" : "2018-12-18T21:57:22Z",
        "updatedAt" : "2018-12-18T22:20:07Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a4c246612829af759651841b908c229a7428800",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +121,125 @@- When importing a certificate for usage in IIS, it is generally required\n  to use the C(machine) key_storage option, as both C(default) and C(user)\n  will make the private key unreadable to IIS APPPOOL identities and prevent\n  binding the certificate to the https endpoint.\nauthor:"
  }
]