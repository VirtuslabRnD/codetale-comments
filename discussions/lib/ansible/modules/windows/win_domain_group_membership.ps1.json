[
  {
    "id" : "9a33bbef-6e34-4a8f-bcbf-5d1f58f44441",
    "prId" : 52556,
    "prUrl" : "https://github.com/ansible/ansible/pull/52556#pullrequestreview-208872621",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4d0212db-744f-4d32-8685-e62fd7e300ee",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Using the `prepared` part of a diff should be avoided. If you use the before/after keys under diff Ansible will generate a nicer diff output with colour, unlike prepared.\r\n\r\nBecause of this I would do something like\r\n\r\n```\r\n$result.diff.before = @(list of members originally in the group)\r\n$result.diff.after = @(list of member now in the group after module execution)\r\n```\r\n\r\nThe controller side code will handle the + and - elements for you based on the list diffs.",
        "createdAt" : "2019-02-25T04:27:43Z",
        "updatedAt" : "2019-03-11T09:26:51Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "520fe5da-3968-41a4-b920-d42950339826",
        "parentId" : "4d0212db-744f-4d32-8685-e62fd7e300ee",
        "authorId" : "b8dcfec4-f169-4910-bb69-ac3fc8b016ee",
        "body" : "A List did not work for me. It complained about not finding split on the list. But changed from `prepared ` to `before`/`after` for the diff.",
        "createdAt" : "2019-02-27T07:20:21Z",
        "updatedAt" : "2019-03-11T09:26:51Z",
        "lastEditedBy" : "b8dcfec4-f169-4910-bb69-ac3fc8b016ee",
        "tags" : [
        ]
      },
      {
        "id" : "02787d77-181d-4f7a-aa48-27095be891c1",
        "parentId" : "4d0212db-744f-4d32-8685-e62fd7e300ee",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Hmm ok, I would need to test out that, I've only really done a dict that contained a list with the values and not a list directly. Thanks for letting me know.",
        "createdAt" : "2019-02-28T03:06:23Z",
        "updatedAt" : "2019-03-11T09:26:51Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "edae5f79c8f5270f1021274b2490fad8d0fd885a",
    "line" : 112,
    "diffHunk" : "@@ -1,1 +110,114 @@}\n\nif ($diff_mode -and $result.changed) {\n    $result.diff.before = $members_before.SamAccountName | Out-String\n    if (!$check_mode) {"
  }
]