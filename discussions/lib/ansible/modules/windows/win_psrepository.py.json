[
  {
    "id" : "01b04738-0bfe-4b05-8cbe-5d4a2aeba928",
    "prId" : 48828,
    "prUrl" : "https://github.com/ansible/ansible/pull/48828#pullrequestreview-177439441",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "212fc389-ccf6-45ef-b3b7-fd24cee6b3d8",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Please add an example below that shows you how get the newer NuGet provider version.",
        "createdAt" : "2018-11-21T21:54:15Z",
        "updatedAt" : "2018-12-04T20:34:13Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "6e43915b20e6ad59426c6711c9e5175a89dc7700",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +41,45 @@    choices: [ trusted, untrusted ]\nnotes:\n  - The PowerShellGet module (version 1.6.0 or newer) and the NuGet package provider (version 2.8.5.201 or newer) are required.\n  - See the examples on how to update the NuGet package provider.\n  - You can't use M(win_psrepository) to re-register (add) removed PSGallery, use the command C(Register-PSRepository -Default) instead."
  },
  {
    "id" : "5cb351ce-aa02-45f3-8ff7-0a7c738380c1",
    "prId" : 48828,
    "prUrl" : "https://github.com/ansible/ansible/pull/48828#pullrequestreview-177788698",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3c43504d-459a-4923-8179-bf1c5ac7218e",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "This is more than just a URI, it can be a local path (and potentially other types I'm not aware of)",
        "createdAt" : "2018-11-21T21:54:50Z",
        "updatedAt" : "2018-12-04T20:34:13Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "d5dd0c87-70b0-44ec-9485-df608f0b399b",
        "parentId" : "3c43504d-459a-4923-8179-bf1c5ac7218e",
        "authorId" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "body" : "I tried to find a better explanation but I failed. Based at [PowerShell\\PowerShellGet](https://github.com/PowerShell/PowerShellGet), specially the code of the function [Get-LocationString](https://github.com/PowerShell/PowerShellGet/blob/development/src/PowerShellGet/private/functions/Get-LocationString.ps1) it just `[uri]`. The Uri .Net class [description](https://docs.microsoft.com/en-us/dotnet/api/system.uri?view=netframework-4.7.2) can help but I'll analyze that deeper at weekend and maybe I'll open an issue for the PowerShellGet module documentation.\r\n\r\nSo, for now, please accept the explanation exact like for the command `Register-PSRepository`",
        "createdAt" : "2018-11-22T23:12:56Z",
        "updatedAt" : "2018-12-04T20:34:13Z",
        "lastEditedBy" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "tags" : [
        ]
      },
      {
        "id" : "3a775ac0-7b86-4d0f-905a-cfc98e8b3c15",
        "parentId" : "3c43504d-459a-4923-8179-bf1c5ac7218e",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "What I'm trying to say is that it does work and I've used it before, use this script as an example\r\n\r\n```\r\n$repo_name = \"local repo\"\r\n$path = \"C:\\repos\"\r\n$url = \"https://devopsgallerystorage.blob.core.windows.net/packages/powershell-yaml.0.3.7.nupkg\"\r\nif (Test-Path -Path $path) {\r\n    Remove-Item -Path $path -Force -Recurse\r\n}\r\nNew-Item -Path $path -ItemType Directory > $null\r\nInvoke-WebRequest -Uri $url -OutFile \"$path\\powershell-yaml.0.3.7.nupkg\"\r\n\r\nif (Get-PSRepository -Name $repo_name -ErrorAction SilentlyContinue) {\r\n    Unregister-PSRepository -Name $repo_name\r\n}\r\nRegister-PSRepository -Name $repo_name -SourceLocation $path\r\nFind-Module -Name powershell-yaml\r\n```\r\n\r\nThe output I get is\r\n\r\n```\r\nPS C:\\Windows\\system32> Find-Module -Name powershell-yaml\r\n\r\nVersion              Name                                Repository           Description\r\n-------              ----                                ----------           -----------\r\n0.3.7                powershell-yaml                     PSGallery            Powershell module for serializing and ...\r\n0.3.7                powershell-yaml                     local repo           Powershell module for serializing and ...\r\n```\r\nWhich tells me it is also using the local filesystem as a repository location. There are a few blog posts that also detail this like https://kevinmarquette.github.io/2017-05-30-Powershell-your-first-PSScript-repository/ and https://4sysops.com/archives/how-to-create-a-file-share-powershell-repository/.\r\n\r\nLastly while the `-SourceLocation` type is a URI, a URI is not just a URL. It can represent different resource paths, like a URL, FTP, file and so on. The full URI for a local path is `file:///C:/path/to/folder` and .NET will automatically convert a path to the full URL path, e.g.\r\n\r\n```\r\nPS C:\\Windows\\system32> New-Object -TypeName System.Uri -ArgumentList \"C:\\temp\"\r\n\r\n\r\nAbsolutePath   : C:/temp\r\nAbsoluteUri    : file:///C:/temp\r\nLocalPath      : C:\\temp\r\nAuthority      :\r\nHostNameType   : Basic\r\nIsDefaultPort  : True\r\nIsFile         : True\r\nIsLoopback     : True\r\nPathAndQuery   : C:/temp\r\nSegments       : {/, C:/, temp}\r\nIsUnc          : False\r\nHost           :\r\nPort           : -1\r\nQuery          :\r\nFragment       :\r\nScheme         : file\r\nOriginalString : C:\\temp\r\nDnsSafeHost    :\r\nIdnHost        :\r\nIsAbsoluteUri  : True\r\nUserEscaped    : False\r\nUserInfo       :\r\n```",
        "createdAt" : "2018-11-22T23:31:16Z",
        "updatedAt" : "2018-12-04T20:34:13Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "6b162837-3e29-48a8-96d5-446feb34cdb9",
        "parentId" : "3c43504d-459a-4923-8179-bf1c5ac7218e",
        "authorId" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "body" : "I've added an additional explanation.",
        "createdAt" : "2018-11-22T23:55:41Z",
        "updatedAt" : "2018-12-04T20:34:13Z",
        "lastEditedBy" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "tags" : [
        ]
      }
    ],
    "commit" : "6e43915b20e6ad59426c6711c9e5175a89dc7700",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +27,31 @@  source:\n    description:\n      - Specifies the URI for discovering and installing modules from this repository.\n      - A URI can be a NuGet server feed (most common situation), HTTP, HTTPS, FTP or file location.\n  state:"
  }
]