[
  {
    "id" : "7c42e2c5-6ede-44ad-aa16-4ceb236ed10e",
    "prId" : 59723,
    "prUrl" : "https://github.com/ansible/ansible/pull/59723#pullrequestreview-285321459",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f4184839-26e4-4e2e-8861-515bbfd96737",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "When would this return `$null`, it seems like we have 3 states possible right now;\r\n\r\n* `present`: - De duplication is enabled on the volume\r\n* `absent`: Dedup is disabled on the volume\r\n* `$null`: ? Possibly dedup is not set",
        "createdAt" : "2019-08-26T00:02:29Z",
        "updatedAt" : "2019-09-20T14:04:17Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "c4107292-60f9-4086-aae2-503d35fffdfc",
        "parentId" : "f4184839-26e4-4e2e-8861-515bbfd96737",
        "authorId" : "21304fb7-3e9a-43c5-9ae5-d6d203f1ce13",
        "body" : "I got rid of this altogether.\r\nIt shouldn't be necessary to check for $null if the feature is installed.",
        "createdAt" : "2019-09-09T07:29:21Z",
        "updatedAt" : "2019-09-20T14:04:17Z",
        "lastEditedBy" : "21304fb7-3e9a-43c5-9ae5-d6d203f1ce13",
        "tags" : [
        ]
      },
      {
        "id" : "c5952248-afb5-4643-908e-28d28acccec5",
        "parentId" : "f4184839-26e4-4e2e-8861-515bbfd96737",
        "authorId" : "21304fb7-3e9a-43c5-9ae5-d6d203f1ce13",
        "body" : "I got rid of this altogether.\r\nIt shouldn't be necessary to check for $null if the feature is installed.",
        "createdAt" : "2019-09-09T07:29:56Z",
        "updatedAt" : "2019-09-20T14:04:17Z",
        "lastEditedBy" : "21304fb7-3e9a-43c5-9ae5-d6d203f1ce13",
        "tags" : [
        ]
      }
    ],
    "commit" : "a485676ab5c1141f367c80f3e8033c0e36745c86",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +43,47 @@    $dedup_info = Get-DedupVolume -Volume \"$($volume.DriveLetter):\"\n  } catch {\n    $dedup_info = $null\n  }\n"
  },
  {
    "id" : "c8230bf1-4081-474c-8d64-68601e363c1b",
    "prId" : 59723,
    "prUrl" : "https://github.com/ansible/ansible/pull/59723#pullrequestreview-285344287",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "04562100-a6b5-413e-a32e-28e63f3a1716",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "So you are setting this to `$null` but then have no checks for if it is `$null` later on? One thing you do need to consider is if you are;\r\n\r\n* Running in check mode\r\n* Dedup is not enabled (or missing) but `state: present` is set\r\n* You have settings you want to set\r\n\r\nIn this scenario `Get-DedupVolume` may return `$null` causing the below to fail. You would need to handle this scenario, probably by just checking if we are in check mode and we can get the settings already.",
        "createdAt" : "2019-08-26T00:05:05Z",
        "updatedAt" : "2019-09-20T14:04:17Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "b6256f5c-c490-4a21-9339-4e8882fb44dd",
        "parentId" : "04562100-a6b5-413e-a32e-28e63f3a1716",
        "authorId" : "21304fb7-3e9a-43c5-9ae5-d6d203f1ce13",
        "body" : "Yes, this part is a bit confusing, I'll take a look at what I can do to fix this.",
        "createdAt" : "2019-09-06T12:03:21Z",
        "updatedAt" : "2019-09-20T14:04:17Z",
        "lastEditedBy" : "21304fb7-3e9a-43c5-9ae5-d6d203f1ce13",
        "tags" : [
        ]
      },
      {
        "id" : "6fa58069-4a4b-47b9-b4be-73e00bf9c611",
        "parentId" : "04562100-a6b5-413e-a32e-28e63f3a1716",
        "authorId" : "21304fb7-3e9a-43c5-9ae5-d6d203f1ce13",
        "body" : "The check is actually needed in case data dedup was never setup on the drive",
        "createdAt" : "2019-09-09T08:18:51Z",
        "updatedAt" : "2019-09-20T14:04:17Z",
        "lastEditedBy" : "21304fb7-3e9a-43c5-9ae5-d6d203f1ce13",
        "tags" : [
        ]
      }
    ],
    "commit" : "a485676ab5c1141f367c80f3e8033c0e36745c86",
    "line" : 76,
    "diffHunk" : "@@ -1,1 +74,78 @@    $dedup_info = Get-DedupVolume -Volume \"$($volume.DriveLetter):\"\n  } catch {\n    $dedup_info = $null\n  }\n"
  }
]