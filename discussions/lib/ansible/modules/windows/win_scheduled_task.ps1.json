[
  {
    "id" : "055c27fc-2911-4d20-89ba-de48e17a7491",
    "prId" : 24174,
    "prUrl" : "https://github.com/ansible/ansible/pull/24174#pullrequestreview-48789974",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c1798ba0-b092-4128-8196-99672e4168d2",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Should this fail is `$password` is not set, if so you can also simplify the if state on line 221 a tiny bit as well?",
        "createdAt" : "2017-07-09T22:15:59Z",
        "updatedAt" : "2017-07-09T23:59:42Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "05bbbdf4-f731-4ae1-9522-17c10209ed26",
        "parentId" : "c1798ba0-b092-4128-8196-99672e4168d2",
        "authorId" : "5e3d6c9c-691c-44ba-a67e-30f3ab8fded1",
        "body" : "It shouldn't, in this case - this would allow someone to set only `user` and `runlevel` and not explicitly set `store_password` to no, though it will effectively do just that.\r\n\r\n221 definitely has some complicated logic to it - if you can think of a better way to refactor that portion and this one (172), let me know.",
        "createdAt" : "2017-07-09T22:59:35Z",
        "updatedAt" : "2017-07-09T23:59:42Z",
        "lastEditedBy" : "5e3d6c9c-691c-44ba-a67e-30f3ab8fded1",
        "tags" : [
        ]
      },
      {
        "id" : "dfe1e690-9dc2-4180-9e11-94a69b9e5025",
        "parentId" : "c1798ba0-b092-4128-8196-99672e4168d2",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "So looking at the code this will occur when `store_password` is true. I would have thought to store the password you would need the password to be defined, is that not the case?",
        "createdAt" : "2017-07-09T23:05:01Z",
        "updatedAt" : "2017-07-09T23:59:42Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "b799cf68-0f35-41df-8d04-d8c514e2c2d0",
        "parentId" : "c1798ba0-b092-4128-8196-99672e4168d2",
        "authorId" : "5e3d6c9c-691c-44ba-a67e-30f3ab8fded1",
        "body" : "That's true; in this case, it's basically additional logic to handle the same thing.  So `!$store_password` is the same as `$store_password -and !$password`.  I could refactor that if statement to make that more clear, if that helps.",
        "createdAt" : "2017-07-09T23:15:01Z",
        "updatedAt" : "2017-07-09T23:59:42Z",
        "lastEditedBy" : "5e3d6c9c-691c-44ba-a67e-30f3ab8fded1",
        "tags" : [
        ]
      },
      {
        "id" : "cd83d1ff-b543-402e-9330-c068cb40bf4a",
        "parentId" : "c1798ba0-b092-4128-8196-99672e4168d2",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "I see an issue with my logic, you wouldn't have a password for a service account so what you have is correct",
        "createdAt" : "2017-07-09T23:28:41Z",
        "updatedAt" : "2017-07-09T23:59:42Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "90f1107dff42951b6a323514552c4c6c0d6b4022",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +176,180 @@            RunLevel = $runlevel\n        }\n        if ($password) {\n            $registerRunOptionParams.Password = $password\n        }"
  }
]