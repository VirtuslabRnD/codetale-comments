[
  {
    "id" : "f811a4c3-1e01-4ee5-98dd-7648d3d018de",
    "prId" : 57124,
    "prUrl" : "https://github.com/ansible/ansible/pull/57124#pullrequestreview-246402837",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0ebe9aa3-529b-427f-8d62-3705a474d9da",
        "parentId" : null,
        "authorId" : "d5d70276-b4e3-4894-bd10-ee1ac8e08915",
        "body" : "Maybe I am confused about this patch, but this is going to change functionality of the vyos_interface module now right? Is that what we want here or is this testing that nothing is broken?\r\n\r\nWhat I am envisioning is we update the test in test/integration/targets/vyos_interface to test both cases where we pass flags and don't pass flags. It ensure we keep old behaviour and test new.",
        "createdAt" : "2019-06-04T12:49:16Z",
        "updatedAt" : "2019-06-04T12:49:21Z",
        "lastEditedBy" : "d5d70276-b4e3-4894-bd10-ee1ac8e08915",
        "tags" : [
        ]
      },
      {
        "id" : "f3ed9a1a-5ec4-4d0b-929f-3a64b8677f9f",
        "parentId" : "0ebe9aa3-529b-427f-8d62-3705a474d9da",
        "authorId" : "5e8d0fa3-6f3c-407d-a0c4-860d8c6c8c20",
        "body" : "> Maybe I am confused about this patch, but this is going to change functionality of the vyos_interface module now right? Is tha t what we want here or is this testing that nothing is broken?\r\n> \r\n> What I am envisioning is we update the test in test/integration/targets/vyos_interface to test both cases where we pass flags and don't pass flags. It ensure we keep old behaviour and test new.\r\n\r\n@pabelanger  So  earlier for vyos_interface module without flags we were fetching all the running configuration from the device instead of only having interface related config , but with this flag only interfaces related config will be fetched from device. So with current test cases we have tested this and nothing seems to be broken . So basically I have observed testing for following  scenarios :\r\n1. When flag is not passed : For other vyos modules no flag have been passed, and all the test cases are passing .\r\n2. When flag is passed: At present for vyos_interface we are passing flag, and all test cases passing successfully for this change . \r\n        I hope I am able to clarify things now :)  .  \r\n  \r\n@NilashishC  whats your take on this  ?  ",
        "createdAt" : "2019-06-06T07:12:33Z",
        "updatedAt" : "2019-06-06T07:12:33Z",
        "lastEditedBy" : "5e8d0fa3-6f3c-407d-a0c4-860d8c6c8c20",
        "tags" : [
        ]
      },
      {
        "id" : "0e2295e6-8586-4add-94ef-919c7fd351cf",
        "parentId" : "0ebe9aa3-529b-427f-8d62-3705a474d9da",
        "authorId" : "974cc5d8-4ebb-4712-adfc-de7fed18dd4a",
        "body" : "@rohitthakur2590 LGTM. With the ability to pass in resource specific filters while fetching running-config from a device, we will be able to reduce amount of config lines transferred over the wire. However, there's no way we can test this in the integration tests directly since this concerns the module performance and not functionality. The module behaviour will remain the same regardless of whether you're passing the flag or not but may improve performance if passed. Your way of asserting that this works fine seems good to me.",
        "createdAt" : "2019-06-06T07:34:18Z",
        "updatedAt" : "2019-06-06T07:36:14Z",
        "lastEditedBy" : "974cc5d8-4ebb-4712-adfc-de7fed18dd4a",
        "tags" : [
        ]
      }
    ],
    "commit" : "b7bcbb279fd59908559b877378920003e6ea3af8",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +228,232 @@\ndef map_config_to_obj(module):\n    data = get_config(module, flags=['| grep interface'])\n    obj = []\n    for line in data.split('\\n'):"
  },
  {
    "id" : "be4fb34a-aaf7-4cdb-b756-2b1908f5dda3",
    "prId" : 57228,
    "prUrl" : "https://github.com/ansible/ansible/pull/57228#pullrequestreview-244985605",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8c43874f-23a7-40e9-bfca-cf533d458300",
        "parentId" : null,
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Just a note, str is not safe to use like this if value can contain non-ascii characters.  let me know if that's the case and I can help you test that case and fix it.",
        "createdAt" : "2019-06-03T16:21:00Z",
        "updatedAt" : "2019-06-03T16:21:00Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec0c65c4242ac1a7fb66b2556ea0d1e39cf6a427",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +206,210 @@                    if value and value != obj_in_have.get(item):\n                        if item == 'description':\n                            value = \"\\'\" + str(value) + \"\\'\"\n                        commands.append(set_interface + ' ' + item + ' ' + str(value))\n"
  }
]