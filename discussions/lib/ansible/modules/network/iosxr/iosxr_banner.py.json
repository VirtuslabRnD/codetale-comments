[
  {
    "id" : "cfa4a51b-1400-4bdf-be14-a391cf86566b",
    "prId" : 33332,
    "prUrl" : "https://github.com/ansible/ansible/pull/33332#pullrequestreview-81462094",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e67070d1-0f49-4f91-be58-fa7c3a9e1f34",
        "parentId" : null,
        "authorId" : "7a1e5757-684b-4684-bcab-c114385bca28",
        "body" : "I think it is better to pass module as argument to build_xml() and handle lxml install check-in module_utils instead of having it in each module",
        "createdAt" : "2017-12-06T06:22:42Z",
        "updatedAt" : "2017-12-06T13:39:21Z",
        "lastEditedBy" : "7a1e5757-684b-4684-bcab-c114385bca28",
        "tags" : [
        ]
      },
      {
        "id" : "59cb44b5-c4c3-46ec-904e-54a6cd3f9454",
        "parentId" : "e67070d1-0f49-4f91-be58-fa7c3a9e1f34",
        "authorId" : "1ceb194f-0857-46b7-866c-2125bdec60c5",
        "body" : "Module object is of no use in build_xml. instead moved out lib install check in module.",
        "createdAt" : "2017-12-06T06:55:42Z",
        "updatedAt" : "2017-12-06T13:39:21Z",
        "lastEditedBy" : "1ceb194f-0857-46b7-866c-2125bdec60c5",
        "tags" : [
        ]
      },
      {
        "id" : "f6ca2d94-b90c-4265-8e33-cd1f89fdaf3c",
        "parentId" : "e67070d1-0f49-4f91-be58-fa7c3a9e1f34",
        "authorId" : "7a1e5757-684b-4684-bcab-c114385bca28",
        "body" : "Having this check in each module will result in code duplication and an overhead for module writer. `module` param will be used if the check is moved to utils function ",
        "createdAt" : "2017-12-06T07:50:43Z",
        "updatedAt" : "2017-12-06T13:39:21Z",
        "lastEditedBy" : "7a1e5757-684b-4684-bcab-c114385bca28",
        "tags" : [
        ]
      },
      {
        "id" : "82f28b33-b841-4323-8522-e33b9489745c",
        "parentId" : "e67070d1-0f49-4f91-be58-fa7c3a9e1f34",
        "authorId" : "1ceb194f-0857-46b7-866c-2125bdec60c5",
        "body" : "build_xml may not have access to the `module` always (like from plugins); so moving the install check to utils for modules and plugins will do a separate install check.",
        "createdAt" : "2017-12-06T09:40:42Z",
        "updatedAt" : "2017-12-06T13:39:21Z",
        "lastEditedBy" : "1ceb194f-0857-46b7-866c-2125bdec60c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "b0f2ac79a297f48c5a941252feead8239e25b1b4",
    "line" : 184,
    "diffHunk" : "@@ -1,1 +164,168 @@    def map_obj_to_commands(self):\n        state = self._module.params['state']\n        _get_filter = build_xml('banners', xmap=self._banners_meta, params=self._module.params, opcode=\"filter\")\n\n        running = get_config(self._module, source='running', config_filter=_get_filter)"
  }
]