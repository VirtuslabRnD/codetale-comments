[
  {
    "id" : "70caf445-fcce-4703-91be-69dd8ffbc867",
    "prId" : 41476,
    "prUrl" : "https://github.com/ansible/ansible/pull/41476#pullrequestreview-129854164",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3d929542-843d-4ad0-8dcb-7318513dd69c",
        "parentId" : null,
        "authorId" : "7a1e5757-684b-4684-bcab-c114385bca28",
        "body" : "Is it possible to guess the file type instead of taking it as input from the user?",
        "createdAt" : "2018-06-14T04:37:58Z",
        "updatedAt" : "2018-06-14T04:37:59Z",
        "lastEditedBy" : "7a1e5757-684b-4684-bcab-c114385bca28",
        "tags" : [
        ]
      },
      {
        "id" : "05df4975-e66b-4b6f-8db6-e25bde7a65c6",
        "parentId" : "3d929542-843d-4ad0-8dcb-7318513dd69c",
        "authorId" : "57c7b7b8-4598-4ae1-bf5b-37072cd4824c",
        "body" : "Not sure . We can do something like this - try to open it and if found some unicode error Exception then use binary mode. This approach might be heavily dependant on OS and environment so I am little hesitant to do it this way.  With current approach we will not try to open it unless told otherwise (mode = template) . It will work as ansible way of scp in most cases. ",
        "createdAt" : "2018-06-15T07:21:12Z",
        "updatedAt" : "2018-06-15T07:21:12Z",
        "lastEditedBy" : "57c7b7b8-4598-4ae1-bf5b-37072cd4824c",
        "tags" : [
        ]
      },
      {
        "id" : "a103f143-721d-4e7a-9ff4-2031e186b151",
        "parentId" : "3d929542-843d-4ad0-8dcb-7318513dd69c",
        "authorId" : "57c7b7b8-4598-4ae1-bf5b-37072cd4824c",
        "body" : "@ganeshrn I noticed  template routine is not failing on my environment even if file has non ascii chars but failed on submitter.  (might be difference in python module lexer (jinja2) version) For me it failed when trying file.write so auto-detect of file type might seem a bit unstable and env dependant . I think we might be better off in not trying to open it and transfer it unless customer is sure to put some vars and tell us through new option.\r\n",
        "createdAt" : "2018-06-19T07:56:18Z",
        "updatedAt" : "2018-06-19T07:56:54Z",
        "lastEditedBy" : "57c7b7b8-4598-4ae1-bf5b-37072cd4824c",
        "tags" : [
        ]
      }
    ],
    "commit" : "aea16ca9866310509f32002f38b1bda57275f229",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +43,47 @@        network_os.\n    required: no\n  mode:\n    description:\n      - Set the file transfer mode. If mode is set to 'template' then src"
  }
]