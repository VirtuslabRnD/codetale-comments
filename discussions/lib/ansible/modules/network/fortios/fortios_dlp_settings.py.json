[
  {
    "id" : "98e57993-7a7f-404c-88c8-73263dcf45c9",
    "prId" : 51834,
    "prUrl" : "https://github.com/ansible/ansible/pull/51834#pullrequestreview-200873917",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a90190ed-2e94-4934-8373-ea9836ba5479",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "you can replace line 2 to 19 with \r\n\r\n```python\r\n# Copyright: (c) 2018 Fortinet, Inc.\r\n# GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\r\n\r\nfrom __future__ import absolute_import, division, print_function\r\n__metaclass__ = type\r\n``` ",
        "createdAt" : "2019-02-07T00:24:23Z",
        "updatedAt" : "2019-02-07T00:24:24Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "d330b7e5cbf5439be10b5ebd42fdf7398507da65",
    "line" : 2,
    "diffHunk" : "@@ -1,1 +0,4 @@#!/usr/bin/python\nfrom __future__ import (absolute_import, division, print_function)\n# Copyright 2018 Fortinet, Inc.\n#"
  },
  {
    "id" : "1d26d954-2110-4188-b0b0-7775cb0b1aea",
    "prId" : 51834,
    "prUrl" : "https://github.com/ansible/ansible/pull/51834#pullrequestreview-200875011",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6cb96534-5d5c-434f-b3da-f58c09b25b22",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Might want to move this function to `module_utils` so that other FortiOS modules can use it.",
        "createdAt" : "2019-02-07T00:28:49Z",
        "updatedAt" : "2019-02-07T00:28:49Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "d330b7e5cbf5439be10b5ebd42fdf7398507da65",
    "line" : 182,
    "diffHunk" : "@@ -1,1 +180,184 @@\n\ndef login(data):\n    host = data['host']\n    username = data['username']"
  },
  {
    "id" : "4155d3fb-7fe9-46ff-97ad-45ed97d73e56",
    "prId" : 51834,
    "prUrl" : "https://github.com/ansible/ansible/pull/51834#pullrequestreview-200876441",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b370514-179a-4419-8ded-c689c3922d3a",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Create a common argument spec like [this](https://github.com/ansible/ansible/blob/d252cc7a2bd05fad2c694727c715df222b3ed58f/lib/ansible/module_utils/vmware.py#L450), other modules can reuse it.",
        "createdAt" : "2019-02-07T00:35:17Z",
        "updatedAt" : "2019-02-07T00:35:17Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "d330b7e5cbf5439be10b5ebd42fdf7398507da65",
    "line" : 233,
    "diffHunk" : "@@ -1,1 +231,235 @@def main():\n    fields = {\n        \"host\": {\"required\": True, \"type\": \"str\"},\n        \"username\": {\"required\": True, \"type\": \"str\"},\n        \"password\": {\"required\": False, \"type\": \"str\", \"no_log\": True},"
  },
  {
    "id" : "6f86feaa-fdcf-424c-b390-4d26af81f708",
    "prId" : 51834,
    "prUrl" : "https://github.com/ansible/ansible/pull/51834#pullrequestreview-200878708",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a663658d-efe4-4810-b6d8-03d2f73ca245",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "If parameters like host, password and username are going to repeat in other modules as well then we can create documentation [fragment](https://github.com/ansible/ansible/blob/devel/lib/ansible/plugins/doc_fragments/vmware_rest_client.py) and use it here like [this](https://github.com/ansible/ansible/blob/d252cc7a2bd05fad2c694727c715df222b3ed58f/lib/ansible/modules/cloud/vmware/vmware_tag.py#L62).",
        "createdAt" : "2019-02-07T00:45:17Z",
        "updatedAt" : "2019-02-07T00:45:17Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "d330b7e5cbf5439be10b5ebd42fdf7398507da65",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +44,48 @@    - fortiosapi>=0.9.8\noptions:\n    host:\n       description:\n            - FortiOS or FortiGate ip adress."
  },
  {
    "id" : "6ebe807a-ee7c-4cab-bcdb-4a27869baa6b",
    "prId" : 51834,
    "prUrl" : "https://github.com/ansible/ansible/pull/51834#pullrequestreview-237216351",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a601c7b2-da19-4c8c-b895-7f33e7604e24",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Move this to a common function which check this import like [this](https://github.com/ansible/ansible/blob/d252cc7a2bd05fad2c694727c715df222b3ed58f/lib/ansible/module_utils/vmware.py#L782)",
        "createdAt" : "2019-02-07T00:47:18Z",
        "updatedAt" : "2019-02-07T00:47:18Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      },
      {
        "id" : "f3feeade-d359-498c-9885-1a019ef1a20d",
        "parentId" : "a601c7b2-da19-4c8c-b895-7f33e7604e24",
        "authorId" : "e3573973-cd9b-4a36-ae0b-e2700b7bced9",
        "body" : "Hello @Akasurde ,\r\n\r\nThanks for the suggestion, will definitely look into it.\r\nI do not see a need to rush this change and why it should block this code to move in.\r\n\r\nCan we track this change here: https://github.com/fortinet-solutions-cse/ansible_generator/issues instead of blocking this proposal ? ",
        "createdAt" : "2019-02-08T09:24:08Z",
        "updatedAt" : "2019-02-08T09:24:09Z",
        "lastEditedBy" : "e3573973-cd9b-4a36-ae0b-e2700b7bced9",
        "tags" : [
        ]
      },
      {
        "id" : "ca6b8932-5894-4d25-a9d1-e9ee1342bc08",
        "parentId" : "a601c7b2-da19-4c8c-b895-7f33e7604e24",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "OK.",
        "createdAt" : "2019-02-08T11:07:18Z",
        "updatedAt" : "2019-02-08T11:07:18Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      },
      {
        "id" : "ebf356c9-1a1d-4021-977b-d4462c7e76f8",
        "parentId" : "a601c7b2-da19-4c8c-b895-7f33e7604e24",
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "Yup, I'm happy to accept a follow up bulk PR to update existing modules ",
        "createdAt" : "2019-02-12T08:56:48Z",
        "updatedAt" : "2019-02-12T08:56:49Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      },
      {
        "id" : "86bc2a0c-7018-4f99-953b-92964207660b",
        "parentId" : "a601c7b2-da19-4c8c-b895-7f33e7604e24",
        "authorId" : "ce4adc36-b506-485a-a153-148ee8fdf29c",
        "body" : "Hi @gundalow and @Akasurde ,\r\n I'm finally implementing this and other changes suggested. However I have two concerns that I'd like to raise here before doing all the changes:\r\n\r\n1. fortiosapi is used in this module. If fortiosapi import is moved to a common util module then it will have to be referenced from here by using something like:\r\n`fos = fortioshandler.fortiosapi.FortiOSAPI()`\r\n (assuming fortioshandler is the common util module). \r\nHowever I read in some places (e.g. stackoverflow) that this is not a good practice and instead the import should appear in the module where it is used. Can we still keep the import here?\r\n\r\n2. Some users like to run the latest changes of our modules and for that they download our modules and run them from a different directory (the modules are not placed in Ansible official directory, instead they can be placed in user's home or somewhere else).E.g.: They download the code in a separated directory, do export ANSIBLE_LIBRARY=.../....../..... and run their playbooks.\r\nMy concern is that If this Ansible module fully relies on a common util module (e.g. fortioshandler) then the users will find it more difficult to run the latest modules in the same way that was done before. Probably doing export ANSIBLE_LIBRARY will not be enough. Is there a proper workaround for this problem?\r\n\r\nYour opinion on this is very appreciated.\r\nThanks.",
        "createdAt" : "2019-05-14T12:42:32Z",
        "updatedAt" : "2019-05-14T12:42:32Z",
        "lastEditedBy" : "ce4adc36-b506-485a-a153-148ee8fdf29c",
        "tags" : [
        ]
      }
    ],
    "commit" : "d330b7e5cbf5439be10b5ebd42fdf7398507da65",
    "line" : 254,
    "diffHunk" : "@@ -1,1 +252,256 @@    module = AnsibleModule(argument_spec=fields,\n                           supports_check_mode=False)\n    try:\n        from fortiosapi import FortiOSAPI\n    except ImportError:"
  }
]