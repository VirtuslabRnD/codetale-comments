[
  {
    "id" : "2078d74b-bec5-4e03-9587-d7100e5813f5",
    "prId" : 26831,
    "prUrl" : "https://github.com/ansible/ansible/pull/26831#pullrequestreview-55118966",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6f62c9f7-150f-43d5-a3f8-26c32b28acbb",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "requests is a 'fun' library, the API has changed over time, so you should always check for a specific version (I know this is an issue with the original module, but that should have been caught before merging it.)",
        "createdAt" : "2017-07-17T13:41:32Z",
        "updatedAt" : "2017-08-15T02:50:31Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "e4c513c8-da64-42ca-a917-f331bcff0c57",
        "parentId" : "6f62c9f7-150f-43d5-a3f8-26c32b28acbb",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "I made some tests:\r\n\r\n* using Python 3: requests `2.0.0` is required, there is an error with both `1.0.0` and `1.2.3`:\r\n* using Python 2, the module works fine using `1.0.0`, `2.0.0`, `2.18.13`, there is an error with `0.14.2` (at this time, `response.json` [wasn't](https://media.readthedocs.org/pdf/requests/v0.14.2/requests.pdf) a method).\r\n\r\nError using Python 3 and requests < 2.0.0:\r\n\r\n```\r\nlib/ansible/modules/monitoring/circonus_annotation.py:155: in main\r\n    resp = post_annotation(annotation, module.params['api_key'])\r\nlib/ansible/modules/monitoring/circonus_annotation.py:106: in post_annotation\r\n    headers=build_headers(api_key), data=json.dumps(annotation))\r\n../../../.venv/ansible3_tests/lib/python3.5/site-packages/requests/api.py:88: in post\r\n    return request('post', url, data=data, **kwargs)\r\n../../../.venv/ansible3_tests/lib/python3.5/site-packages/requests/api.py:44: in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n../../../.venv/ansible3_tests/lib/python3.5/site-packages/requests/sessions.py:335: in request\r\n    resp = self.send(prep, **send_kwargs)\r\n../../../.venv/ansible3_tests/lib/python3.5/site-packages/requests/sessions.py:438: in send\r\n    r = adapter.send(request, **kwargs)\r\n../../../.venv/ansible3_tests/lib/python3.5/site-packages/requests/adapters.py:292: in send\r\n    timeout=timeout\r\n../../../.venv/ansible3_tests/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py:423: in urlopen\r\n    conn = self._get_conn(timeout=pool_timeout)\r\n../../../.venv/ansible3_tests/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py:238: in _get_conn\r\n    return conn or self._new_conn()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n    def _new_conn(self):\r\n[...]\r\n        connection = VerifiedHTTPSConnection(host=self.host,\r\n                                             port=self.port,\r\n>                                            strict=self.strict)\r\nE       TypeError: __init__() got an unexpected keyword argument 'strict'\r\n```",
        "createdAt" : "2017-08-09T02:05:09Z",
        "updatedAt" : "2017-08-15T02:50:31Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      }
    ],
    "commit" : "a3b8d7b79ac6f67eb1276b084e9af4c6c4e3217b",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +145,149 @@try:\n    import requests\n    HAS_REQUESTS = True\nexcept ImportError:\n    HAS_REQUESTS = False"
  }
]