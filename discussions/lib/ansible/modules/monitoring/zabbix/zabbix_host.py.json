[
  {
    "id" : "ccd2bbf0-a30d-4eb3-b4e4-f2697bdd37ab",
    "prId" : 66777,
    "prUrl" : "https://github.com/ansible/ansible/pull/66777#pullrequestreview-348640655",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9561c614-116c-48e3-82a5-7e73334b9775",
        "parentId" : null,
        "authorId" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "body" : "You have to remove the None values from the list somehow:\r\n\r\n```python3\r\nif tags:\r\n        # remove None values for api\r\n        for tag in tags:\r\n            if 'value' in tag and tag['value'] == None:\r\n                tag.pop('value', True)\r\n```",
        "createdAt" : "2020-01-27T09:51:51Z",
        "updatedAt" : "2020-01-27T14:54:33Z",
        "lastEditedBy" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "tags" : [
        ]
      },
      {
        "id" : "bfb412f8-2f05-4b20-9b5e-383553093043",
        "parentId" : "9561c614-116c-48e3-82a5-7e73334b9775",
        "authorId" : "9ef24942-7dd8-4c83-a114-f7f81ff1071b",
        "body" : "That's why it is only Work In Progress! Thanks so much for looking into it. Gonna fix it asap so we can have it merged. ",
        "createdAt" : "2020-01-27T11:31:43Z",
        "updatedAt" : "2020-01-27T14:54:33Z",
        "lastEditedBy" : "9ef24942-7dd8-4c83-a114-f7f81ff1071b",
        "tags" : [
        ]
      },
      {
        "id" : "550fcc9a-03f5-4a3a-8c1f-211a1856e924",
        "parentId" : "9561c614-116c-48e3-82a5-7e73334b9775",
        "authorId" : "9ef24942-7dd8-4c83-a114-f7f81ff1071b",
        "body" : "Seems that zabbix defaults to empty strings so we need that as well in order to have idempotent results. Fix comming in a minute\r\n\r\nEdit: defaulting tag values to ''",
        "createdAt" : "2020-01-27T12:55:39Z",
        "updatedAt" : "2020-01-27T14:54:33Z",
        "lastEditedBy" : "9ef24942-7dd8-4c83-a114-f7f81ff1071b",
        "tags" : [
        ]
      }
    ],
    "commit" : "287887d1b936acb1def7721937e09a52a7f6c98c",
    "line" : 219,
    "diffHunk" : "@@ -1,1 +943,947 @@                    macro.pop('description', False)\n\n    # Use proxy specified, or set to 0\n    if proxy:\n        proxy_id = host.get_proxyid_by_proxy_name(proxy)"
  },
  {
    "id" : "e5539732-bdcf-42e7-917c-49b26957f7a0",
    "prId" : 66777,
    "prUrl" : "https://github.com/ansible/ansible/pull/66777#pullrequestreview-348711737",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "32720298-75d0-4155-bb5c-0e9dfc6100c8",
        "parentId" : null,
        "authorId" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "body" : "Macroname have to be uppercase. Frontend is doing this on-the-flight.\r\n\r\n```python\r\nmacro['macro'] = macro['macro'].upper()\r\n```",
        "createdAt" : "2020-01-27T13:18:42Z",
        "updatedAt" : "2020-01-27T14:54:33Z",
        "lastEditedBy" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "tags" : [
        ]
      },
      {
        "id" : "5befaddd-88d5-4a41-8bb6-e97389b168a1",
        "parentId" : "32720298-75d0-4155-bb5c-0e9dfc6100c8",
        "authorId" : "9ef24942-7dd8-4c83-a114-f7f81ff1071b",
        "body" : "Thanks for correcting me. This somehow slipped by me when looking into user macro logic implemented in zabbix_hostmacro module. Should be fixed now.",
        "createdAt" : "2020-01-27T14:41:14Z",
        "updatedAt" : "2020-01-27T14:54:33Z",
        "lastEditedBy" : "9ef24942-7dd8-4c83-a114-f7f81ff1071b",
        "tags" : [
        ]
      }
    ],
    "commit" : "287887d1b936acb1def7721937e09a52a7f6c98c",
    "line" : 218,
    "diffHunk" : "@@ -1,1 +942,946 @@                if 'description' in macro:\n                    macro.pop('description', False)\n\n    # Use proxy specified, or set to 0\n    if proxy:"
  },
  {
    "id" : "5d62b006-fa8b-4583-8fdd-b118b56d2482",
    "prId" : 66777,
    "prUrl" : "https://github.com/ansible/ansible/pull/66777#pullrequestreview-348712014",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b946e680-84ed-466e-ac0e-c2339119a993",
        "parentId" : null,
        "authorId" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "body" : "```python\r\n            description:\r\n                description:\r\n                    - Description of the user macro.\r\n                type: str\r\n                required: false\r\n```",
        "createdAt" : "2020-01-27T13:22:55Z",
        "updatedAt" : "2020-01-27T14:54:33Z",
        "lastEditedBy" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "tags" : [
        ]
      },
      {
        "id" : "90adff44-ed1f-443a-a63f-db0d40c55ac0",
        "parentId" : "b946e680-84ed-466e-ac0e-c2339119a993",
        "authorId" : "9ef24942-7dd8-4c83-a114-f7f81ff1071b",
        "body" : "Seems to be supported only with 4.4 and above. Done, thanks for noticing",
        "createdAt" : "2020-01-27T14:41:34Z",
        "updatedAt" : "2020-01-27T14:54:33Z",
        "lastEditedBy" : "9ef24942-7dd8-4c83-a114-f7f81ff1071b",
        "tags" : [
        ]
      }
    ],
    "commit" : "287887d1b936acb1def7721937e09a52a7f6c98c",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +242,246 @@        elements: dict\n        version_added: '2.10'\n        suboptions:\n            macro:\n                description:"
  },
  {
    "id" : "90939378-fd53-4afc-810d-091fa3be1baf",
    "prId" : 66777,
    "prUrl" : "https://github.com/ansible/ansible/pull/66777#pullrequestreview-348656324",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "805c788f-a313-4629-9b5a-e974aed63695",
        "parentId" : null,
        "authorId" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "body" : "```python\r\n    - macro: EXAMPLEMACRO2\r\n      value: ExampleMacroValue2\r\n      description: Just an example\r\n```",
        "createdAt" : "2020-01-27T13:23:33Z",
        "updatedAt" : "2020-01-27T14:54:33Z",
        "lastEditedBy" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "287887d1b936acb1def7721937e09a52a7f6c98c",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +332,336 @@        port: \"12345\"\n    proxy: a.zabbix.proxy\n    macros:\n      - macro: '{$EXAMPLEMACRO}'\n        value: ExampleMacroValue"
  },
  {
    "id" : "7a82b640-6250-43cc-b15f-eb6bbd7f575b",
    "prId" : 66777,
    "prUrl" : "https://github.com/ansible/ansible/pull/66777#pullrequestreview-348656324",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8884ddd6-686f-4ee9-824d-c938ce329b39",
        "parentId" : null,
        "authorId" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "body" : "```python\r\n            macros=dict(\r\n                type='list',\r\n                elements='dict',\r\n                aliases=['user_macros'],\r\n                options=dict(\r\n                    macro=dict(type='str', required=True),\r\n                    value=dict(type='str', required=True),\r\n                    description=dict(type='str', required=False)\r\n                )\r\n            ),\r\n```",
        "createdAt" : "2020-01-27T13:25:22Z",
        "updatedAt" : "2020-01-27T14:54:33Z",
        "lastEditedBy" : "1bd763da-2b21-446c-81ce-2515615d43ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "287887d1b936acb1def7721937e09a52a7f6c98c",
    "line" : 172,
    "diffHunk" : "@@ -1,1 +808,812 @@            visible_name=dict(type='str', required=False),\n            description=dict(type='str', required=False),\n            macros=dict(\n                type='list',\n                elements='dict',"
  }
]