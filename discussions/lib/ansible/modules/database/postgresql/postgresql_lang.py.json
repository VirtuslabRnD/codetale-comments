[
  {
    "id" : "16e3fb9d-b753-4a7a-9c30-6ccda025bfc7",
    "prId" : 49221,
    "prUrl" : "https://github.com/ansible/ansible/pull/49221#pullrequestreview-197234477",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dec2fead-2b5d-4490-bd07-007e934762ea",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "The param mapping isn't correct, please, change it to:\r\n```\r\n244     sslrootcert = module.params[\"ssl_rootcert\"]\r\n...\r\n252     params_map = {\r\n253         \"login_host\": \"host\",\r\n254         \"login_user\": \"user\",\r\n255         \"login_password\": \"password\",\r\n256         \"port\": \"port\",\r\n257         \"db\": \"database\",\r\n258         \"ssl_mode\": \"sslmode\",\r\n259         \"sslrootcert\": \"ssl_rootcert\"\r\n260     }\r\n```\r\nIt works if it's changed so.\r\nProbably we should check all of other postgresql* modules with supporting sslrootcert.\r\n@andytom, please, change it and check your example again. It needs that somebody else except me check it.\r\nThank you!",
        "createdAt" : "2019-01-28T13:48:22Z",
        "updatedAt" : "2019-01-28T19:03:23Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "0966f249-1e8d-4c64-b1e3-d6973acdc498",
        "parentId" : "dec2fead-2b5d-4490-bd07-007e934762ea",
        "authorId" : "ff63c3eb-7034-4bd1-a5dc-9d0674949d07",
        "body" : "I think you are right, I will update this PR now.",
        "createdAt" : "2019-01-28T18:47:57Z",
        "updatedAt" : "2019-01-28T19:03:23Z",
        "lastEditedBy" : "ff63c3eb-7034-4bd1-a5dc-9d0674949d07",
        "tags" : [
        ]
      },
      {
        "id" : "94e35192-bede-4238-9dea-2bc1da902465",
        "parentId" : "dec2fead-2b5d-4490-bd07-007e934762ea",
        "authorId" : "ff63c3eb-7034-4bd1-a5dc-9d0674949d07",
        "body" : "I think we need to change line 258 too.",
        "createdAt" : "2019-01-28T18:51:36Z",
        "updatedAt" : "2019-01-28T19:03:23Z",
        "lastEditedBy" : "ff63c3eb-7034-4bd1-a5dc-9d0674949d07",
        "tags" : [
        ]
      },
      {
        "id" : "a9ad889e-deb0-40ba-aee8-e2908c0ce568",
        "parentId" : "dec2fead-2b5d-4490-bd07-007e934762ea",
        "authorId" : "ff63c3eb-7034-4bd1-a5dc-9d0674949d07",
        "body" : "Actually no scratch that I think the problem is actually only line 244. The `params_map` is fine since it's keys are the module params and the values are the psql key words which don't contain a `_` (see http://initd.org/psycopg/docs/module.html and  https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-PARAMKEYWORDS)",
        "createdAt" : "2019-01-28T19:02:52Z",
        "updatedAt" : "2019-01-28T19:03:23Z",
        "lastEditedBy" : "ff63c3eb-7034-4bd1-a5dc-9d0674949d07",
        "tags" : [
        ]
      },
      {
        "id" : "66b82536-6a43-4dc7-9e6e-5f7ff9cee0ee",
        "parentId" : "dec2fead-2b5d-4490-bd07-007e934762ea",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "You are perfectly right about line 258. Moreover, I've changed this line during the previous test too, otherwise it maybe couldn't work ) I don't want to check it again )\r\nI cloned your repo and test it. Seems in this version it works correctly. Thank you.\r\n```\r\n(0, '\\r\\n{\"lang\": \"plpythonu\", \"invocation\": {\"module_args\": {\"lang\": \"plpythonu\", \"ssl_rootcert\": \"/root/root.crt\", \"ssl_mode\": \"verify-full\", \"login_unix_socket\": \"\", \"login_user\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \"login_host\": \"myhost\", \"db\": \"ep2_alfa_bank\", \"force_trust\": false, \"state\": \"present\", \"cascade\": false, \"login_password\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \"trust\": false, \"fail_on_drop\": true, \"port\": \"5432\"}}, \"trust\": false, \"db\": \"ep2_alfa_bank\", \"changed\": true}\\r\\n', 'Shared connection to myhost closed.\\r\\n')\r\n...\r\nmyhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0\r\n```\r\nNice job.",
        "createdAt" : "2019-01-28T20:07:04Z",
        "updatedAt" : "2019-01-28T20:21:11Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "b5ad73feeb474f00a7a55703e156ec3909c8176a",
    "line" : 84,
    "diffHunk" : "@@ -1,1 +257,261 @@        \"db\": \"database\",\n        \"ssl_mode\": \"sslmode\",\n        \"ssl_rootcert\": \"sslrootcert\"\n    }\n    kw = dict((params_map[k], v) for (k, v) in iteritems(module.params)"
  }
]