[
  {
    "id" : "3953dcf0-c0c8-4e75-87cc-d1964b54ab8f",
    "prId" : 52555,
    "prUrl" : "https://github.com/ansible/ansible/pull/52555#pullrequestreview-205202733",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "35750d2c-0e48-448e-81c9-ec42ae42a759",
        "parentId" : null,
        "authorId" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "body" : "Minor, please append `type: str` here as well",
        "createdAt" : "2019-02-19T10:59:27Z",
        "updatedAt" : "2019-02-22T07:15:50Z",
        "lastEditedBy" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "tags" : [
        ]
      },
      {
        "id" : "6139afd5-4d7e-42ef-bbcd-720df4a4608b",
        "parentId" : "35750d2c-0e48-448e-81c9-ec42ae42a759",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "fixed",
        "createdAt" : "2019-02-19T13:13:44Z",
        "updatedAt" : "2019-02-22T07:15:50Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "b2a584b1176732355fa9a77cd356d0bd5ec3b9bb",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +49,53 @@      be a role that the current login_user is a member of.\n    - Permissions checking for SQL commands is carried out as though\n      the session_role were the one that had logged in originally.\n    type: str\n  db:"
  },
  {
    "id" : "fc7a196a-2304-4520-82b5-618fa66bfe8f",
    "prId" : 52555,
    "prUrl" : "https://github.com/ansible/ansible/pull/52555#pullrequestreview-205202937",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d80e7ed1-61b3-4fe1-93fd-be8a94dc66c7",
        "parentId" : null,
        "authorId" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "body" : "there is a helper in `AnsibleModule` for mutually exclusive params:\r\n\r\n~~~diff\r\n\r\n    module = AnsibleModule(\r\n        argument_spec=argument_spec,\r\n+       mutually_exclusive=(('positional_args', 'named_args'),),\r\n        supports_check_mode=True,\r\n    )\r\n~~~",
        "createdAt" : "2019-02-19T12:17:40Z",
        "updatedAt" : "2019-02-22T07:15:50Z",
        "lastEditedBy" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "tags" : [
        ]
      },
      {
        "id" : "75901458-5995-43e0-932d-24984256d8bb",
        "parentId" : "d80e7ed1-61b3-4fe1-93fd-be8a94dc66c7",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "@resmo, I don't know about this hint, thank you! fixed",
        "createdAt" : "2019-02-19T13:14:14Z",
        "updatedAt" : "2019-02-22T07:15:50Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "b2a584b1176732355fa9a77cd356d0bd5ec3b9bb",
    "line" : 246,
    "diffHunk" : "@@ -1,1 +244,248 @@    path_to_script = module.params[\"path_to_script\"]\n\n    if positional_args and named_args:\n        module.fail_json(msg=\"positional_args and named_args params are mutually exclusive\")\n"
  },
  {
    "id" : "c75da202-bb59-4590-84f2-5b179156011d",
    "prId" : 52555,
    "prUrl" : "https://github.com/ansible/ansible/pull/52555#pullrequestreview-205228972",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "56d4d34b-7117-4e9f-98c0-6dc02eec3310",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "This are really good `notes`, thank you.",
        "createdAt" : "2019-02-19T13:41:03Z",
        "updatedAt" : "2019-02-22T07:15:50Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      },
      {
        "id" : "b4d64e10-d47f-4afb-b4d5-8c3c6ebad3da",
        "parentId" : "56d4d34b-7117-4e9f-98c0-6dc02eec3310",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Somebody added it before, I fixed formatting (split it into several lines)",
        "createdAt" : "2019-02-19T14:07:43Z",
        "updatedAt" : "2019-02-22T07:15:50Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "b2a584b1176732355fa9a77cd356d0bd5ec3b9bb",
    "line" : 96,
    "diffHunk" : "@@ -1,1 +94,98 @@      verified to be signed by one of these authorities.\n    type: str\nnotes:\n- The default authentication assumes that you are either logging in as or\n  sudo'ing to the postgres account on the host."
  },
  {
    "id" : "be576873-4bc0-4137-937c-3b6d6ef8dc9c",
    "prId" : 52555,
    "prUrl" : "https://github.com/ansible/ansible/pull/52555#pullrequestreview-207409363",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aa18c420-bef7-4e94-a41e-4c150930d369",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "Where are you checking this?\r\n\r\nIn Ansible 2.8 we added https://github.com/ansible/community/issues/346#issuecomment-461037623 which hopefully will give give clearer error messages to users.",
        "createdAt" : "2019-02-19T13:47:34Z",
        "updatedAt" : "2019-02-22T07:15:50Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      },
      {
        "id" : "2466fe08-c5dd-4c81-b4be-064e1953a2dd",
        "parentId" : "aa18c420-bef7-4e94-a41e-4c150930d369",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Good notice! Thank you, fixed",
        "createdAt" : "2019-02-19T13:56:09Z",
        "updatedAt" : "2019-02-22T07:15:50Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "e4be78a5-0782-4842-ac93-25beef996d0a",
        "parentId" : "aa18c420-bef7-4e94-a41e-4c150930d369",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "@gundalow , is it necessary to use traceback here ?\r\n```\r\nimport traceback\r\n\r\nPSYCOPG2_IMP_ERR = None\r\n...\r\n    PSYCOPG2_IMP_ERR = traceback.format_exc()\r\n```\r\nI'm asking because I've recently heard that it's not necessary.\r\nIf we use module.fail_json(msg=missing_required_lib('psycopg2'), exception=PSYCOPG2_IMP_ERR)\r\nthe output is a little different:\r\n```\r\nThe full traceback is:\r\nTraceback (most recent call last):\r\n  File \"/tmp/ansible_postgresql_ping_payload_HnnFhj/__main__.py\", line 113, in <module>\r\n    import psycopg2\r\nImportError: No module named psycopg2\r\n\r\nspblnx176 | FAILED! => {\r\n    \"changed\": false, \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"db\": null, \r\n            \"login_host\": \"\", \r\n            \"login_password\": \"\", \r\n            \"login_unix_socket\": \"\", \r\n            \"login_user\": \"postgres\", \r\n            \"port\": 5432, \r\n            \"ssl_mode\": \"prefer\", \r\n            \"ssl_rootcert\": null\r\n        }\r\n    }, \r\n    \"msg\": \"Failed to import the required Python library (psycopg2) on spblnx176.lan's Python /usr/bin/python. Please read module documentation and install in the appropriate location\"\r\n}\r\n```\r\nmodule.fail_json(msg=missing_required_lib('psycopg2') without traceback\r\n```\r\nThe full traceback is:\r\nWARNING: The below traceback may *not* be related to the actual failure.\r\n  File \"/tmp/ansible_postgresql_ping_payload_y3izFs/__main__.py\", line 111, in <module>\r\n    import psycopg2\r\n\r\nspblnx176 | FAILED! => {\r\n    \"changed\": false, \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"db\": null, \r\n            \"login_host\": \"\", \r\n            \"login_password\": \"\", \r\n            \"login_unix_socket\": \"\", \r\n            \"login_user\": \"postgres\", \r\n            \"port\": 5432, \r\n            \"ssl_mode\": \"prefer\", \r\n            \"ssl_rootcert\": null\r\n        }\r\n    }, \r\n    \"msg\": \"Failed to import the required Python library (psycopg2) on spblnx176.lan's Python /usr/bin/python. Please read module documentation and install in the appropriate location\"\r\n}\r\n```\r\nShould I add traceback to all my new modules including this or not ? (now I use just module.fail_json(msg=missing_required_lib('psycopg2') here)",
        "createdAt" : "2019-02-20T05:45:11Z",
        "updatedAt" : "2019-02-22T07:15:50Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "4fb6af2b-5e0a-4074-87fc-75ed04842afe",
        "parentId" : "aa18c420-bef7-4e94-a41e-4c150930d369",
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "I think what you've got it good, thanks",
        "createdAt" : "2019-02-25T14:07:51Z",
        "updatedAt" : "2019-02-25T14:07:51Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      }
    ],
    "commit" : "b2a584b1176732355fa9a77cd356d0bd5ec3b9bb",
    "line" : 181,
    "diffHunk" : "@@ -1,1 +179,183 @@    HAS_PSYCOPG2 = True\nexcept ImportError:\n    HAS_PSYCOPG2 = False\n\nimport ansible.module_utils.postgres as pgutils"
  },
  {
    "id" : "8f5cf94b-9e6e-43b6-ae24-d7cd4631493f",
    "prId" : 60559,
    "prUrl" : "https://github.com/ansible/ansible/pull/60559#pullrequestreview-278207774",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ba108968-1fda-4b45-b4d8-c0aa914b2d13",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Why not:\r\n```suggestion\r\n    elem = str(elem)[1:-1]\r\n```",
        "createdAt" : "2019-08-21T20:44:17Z",
        "updatedAt" : "2019-08-22T06:15:54Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "40433b42-894a-4955-8d84-4c910d63b3e3",
        "parentId" : "ba108968-1fda-4b45-b4d8-c0aa914b2d13",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "I think it is more obvious and reliable.",
        "createdAt" : "2019-08-22T06:02:52Z",
        "updatedAt" : "2019-08-22T06:15:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "77f1d605-8e5a-4ec8-9e4f-2baad29a9170",
        "parentId" : "ba108968-1fda-4b45-b4d8-c0aa914b2d13",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "For me personally, the other one is more obvious ;) But tastes definitely differ!",
        "createdAt" : "2019-08-22T06:13:02Z",
        "updatedAt" : "2019-08-22T06:15:54Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "647804c93232c80f234926381b7a6e8882918522",
    "line" : 58,
    "diffHunk" : "@@ -1,1 +197,201 @@        elem (str): String representation of PostgreSQL array.\n    \"\"\"\n    elem = str(elem).strip('[]')\n    elem = '{' + elem + '}'\n    return elem"
  }
]