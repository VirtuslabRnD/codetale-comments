[
  {
    "id" : "52ce1e40-8438-43a3-b0ab-132012f0fbc5",
    "prId" : 19042,
    "prUrl" : "https://github.com/ansible/ansible/pull/19042#pullrequestreview-12349071",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "34938a3d-bd24-4862-8795-dd1c080a809d",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "Missing example or detail of what the valid options are. ",
        "createdAt" : "2016-12-10T14:52:35Z",
        "updatedAt" : "2017-01-13T10:01:06Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      }
    ],
    "commit" : "42a6a4febddfa997019963571d4286b37ef2c354",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +121,125 @@    default: null\n    required: no\n  ssl_mode:\n    description:\n      - Determines whether or with what priority a secure SSL TCP/IP connection will be negotiated with the server."
  },
  {
    "id" : "041022d9-59ad-4930-bf71-bbf19246845d",
    "prId" : 35331,
    "prUrl" : "https://github.com/ansible/ansible/pull/35331#pullrequestreview-211714371",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8dfef5e5-08c7-4d5b-aad6-57519b791462",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Please, add something like that C(function) is available from 2.8",
        "createdAt" : "2019-03-07T10:49:50Z",
        "updatedAt" : "2019-03-14T14:34:48Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1bfe6a0be223834d9e1f5d1f6f112b86bdcea9a",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +50,54 @@    description:\n      - Comma separated list of database objects to set privileges on.\n      - If I(type) is C(table), C(sequence) or C(function), the special value\n        C(ALL_IN_SCHEMA) can be provided instead to specify all database\n        objects of type I(type) in the schema specified via I(schema). (This"
  },
  {
    "id" : "85ea3fb8-fad7-4d33-8a27-38ec97fb83fc",
    "prId" : 38803,
    "prUrl" : "https://github.com/ansible/ansible/pull/38803#pullrequestreview-112726591",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "671e6f05-d2eb-4601-a763-760458b0f1ff",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Add a note here that 'foreign_data_wrapper' and 'foreign_server' are available from '2.6' version and onwards.",
        "createdAt" : "2018-04-17T09:12:09Z",
        "updatedAt" : "2019-03-08T07:37:23Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "6842299c4fc49a48916e905f09b9a8a71df6f194",
    "line" : 2,
    "diffHunk" : "@@ -1,1 +40,44 @@  type:\n    description:\n      - Type of database object to set privileges on.\n      - The `default_prives` choice is available starting at version 2.7.\n      - The 'foreign_data_wrapper' and 'foreign_server' object types are available from Ansible version '2.8'."
  },
  {
    "id" : "e799927b-29cc-4ba1-ac11-2062b71c4621",
    "prId" : 51073,
    "prUrl" : "https://github.com/ansible/ansible/pull/51073#pullrequestreview-204186443",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "73d4d2c9-b510-4d3d-b2f3-24a3a38de763",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Examples should have a `name:` entry.\r\nThat is what we recommend to users, so we should set a good example in the docs.",
        "createdAt" : "2019-02-15T11:02:45Z",
        "updatedAt" : "2019-03-21T08:50:35Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "bf3a0f3ba3c36b5d728633e586e8582dbb2cb2e2",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +315,319 @@# default to the role reader.\n# For specific\n- postgresql_privs:\n    db: library\n    schema: library"
  },
  {
    "id" : "9f617f32-5b8d-4180-8ed4-24b8e105c61b",
    "prId" : 51073,
    "prUrl" : "https://github.com/ansible/ansible/pull/51073#pullrequestreview-212205968",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8778d09d-13fb-4e5a-ab24-f14f16fb0352",
        "parentId" : null,
        "authorId" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "body" : "Traceback should not be needed, Ansible adds traceback information on errors in except-blocks automatically.",
        "createdAt" : "2019-02-15T11:03:26Z",
        "updatedAt" : "2019-03-21T08:50:35Z",
        "lastEditedBy" : "7268595c-1eb4-4b5f-9277-90f183130a4b",
        "tags" : [
        ]
      },
      {
        "id" : "3737d369-7a93-4a6d-a5f4-547403853392",
        "parentId" : "8778d09d-13fb-4e5a-ab24-f14f16fb0352",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "@tcraxs these formatting fixes are all that remain. then merge, I hope. There are some issues accumulated for postgresql_privs that I want to start to solve after the merge of this PR. So, please, don't postpone it ;)",
        "createdAt" : "2019-02-20T11:29:22Z",
        "updatedAt" : "2019-03-21T08:50:35Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "d4085742-6151-4b4e-9d35-a9713fbe4522",
        "parentId" : "8778d09d-13fb-4e5a-ab24-f14f16fb0352",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "I can start now but, I'm afraid, there will be many merge conflicts with your PR that you / or I need to solve.",
        "createdAt" : "2019-02-20T11:31:25Z",
        "updatedAt" : "2019-03-21T08:50:35Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "3c98fd9a-6e6e-4069-9e92-693cb76989d2",
        "parentId" : "8778d09d-13fb-4e5a-ab24-f14f16fb0352",
        "authorId" : "97b95349-6b3e-48ae-911d-d8af2377af05",
        "body" : "Sorry I was not able to get some free time for this. I will resolve the merge conflicts right now.\r\nRegarding the \"import traceback\", I think that is out of my scope. I'm not sure how to resolve that, because it was already in the code before my change. I think we have to rewrite a lot of the code to remove the traceback-thing and port it to match it with the Ansible default error-handling.",
        "createdAt" : "2019-03-08T09:40:01Z",
        "updatedAt" : "2019-03-21T08:50:35Z",
        "lastEditedBy" : "97b95349-6b3e-48ae-911d-d8af2377af05",
        "tags" : [
        ]
      }
    ],
    "commit" : "bf3a0f3ba3c36b5d728633e586e8582dbb2cb2e2",
    "line" : 49,
    "diffHunk" : "@@ -1,1 +341,345 @@\"\"\"\n\nimport traceback\n\nPSYCOPG2_IMP_ERR = None"
  },
  {
    "id" : "0592ee58-be7b-4709-b076-43602b80fc9a",
    "prId" : 51073,
    "prUrl" : "https://github.com/ansible/ansible/pull/51073#pullrequestreview-212896796",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8c876551-7b0e-4d90-a6fc-af2cbf1630fd",
        "parentId" : null,
        "authorId" : "ae484a60-f37c-45fe-83ab-71791fa68307",
        "body" : "I am not sure this check is necessary, maybe add a warning of `target_roles` being ignored instead of a failure?",
        "createdAt" : "2019-03-11T15:24:07Z",
        "updatedAt" : "2019-03-21T08:50:35Z",
        "lastEditedBy" : "ae484a60-f37c-45fe-83ab-71791fa68307",
        "tags" : [
        ]
      }
    ],
    "commit" : "bf3a0f3ba3c36b5d728633e586e8582dbb2cb2e2",
    "line" : 192,
    "diffHunk" : "@@ -1,1 +963,967 @@\n        # check if target_roles is set with type: default_privs\n        if p.target_roles and not p.type == 'default_privs':\n            module.warn('\"target_roles\" will be ignored '\n                        'Argument \"type: default_privs\" is required for usage of \"target_roles\".')"
  },
  {
    "id" : "96589ceb-42a8-4f6f-887a-03ce711f2858",
    "prId" : 52574,
    "prUrl" : "https://github.com/ansible/ansible/pull/52574#pullrequestreview-208351761",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "526fd799-23cb-4efa-b9c3-91ceb535148b",
        "parentId" : null,
        "authorId" : "ff63c3eb-7034-4bd1-a5dc-9d0674949d07",
        "body" : "I think you should use the [pg_quote_identifier](https://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/database.py#L114) here to ensure the query is safe.\r\n\r\n```suggestion\r\n    query = \"SELECT 1 FROM pg_roles WHERE rolname = '%s'\" %  pg_quote_identifier(rolname, \"role\")\r\n```",
        "createdAt" : "2019-02-26T19:50:44Z",
        "updatedAt" : "2019-02-27T07:50:12Z",
        "lastEditedBy" : "ff63c3eb-7034-4bd1-a5dc-9d0674949d07",
        "tags" : [
        ]
      },
      {
        "id" : "1e1ddde1-2d6b-4bb0-bf5c-e4edfb07ae19",
        "parentId" : "526fd799-23cb-4efa-b9c3-91ceb535148b",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "I can do it.\r\nHowever, IMO, we don't need to check all possible user input mistakes (like that a name of a database object can't contain more than 63 symbols, etc.). So, I suggest to abandon to use this function (and, respectively, any other functions that check user input for typos, mistakes, etc.).\r\nIn any case, seems nothing scary will happen and the PostgreSQL server just will return an exception to psycopg2 and user see it.\r\nI've never broken the Postgres instance by doing mistakes in object names ;)",
        "createdAt" : "2019-02-27T06:24:22Z",
        "updatedAt" : "2019-02-27T07:50:12Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "64e202d6d4904f09516a291c5836a2b041f06971",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +305,309 @@def role_exists(module, cursor, rolname):\n    \"\"\"Check user exists or not\"\"\"\n    query = \"SELECT 1 FROM pg_roles WHERE rolname = '%s'\" % rolname\n    try:\n        cursor.execute(query)"
  },
  {
    "id" : "4b6c3afc-cae1-4884-bffd-5301f6e3992c",
    "prId" : 54717,
    "prUrl" : "https://github.com/ansible/ansible/pull/54717#pullrequestreview-221605663",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4cf2e5de-09a1-4e18-b7bb-1dbfc27adbce",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "Nice addition, thanks",
        "createdAt" : "2019-04-02T11:46:06Z",
        "updatedAt" : "2019-04-02T13:44:59Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      }
    ],
    "commit" : "24095932a3a39f41677357e39a03624a2e7cf0a4",
    "line" : 588,
    "diffHunk" : "@@ -1,1 +1043,1047 @@    else:\n        conn.commit()\n    module.exit_json(changed=changed, queries=executed_queries)\n\n"
  },
  {
    "id" : "7c0fc44a-881d-4aa8-b661-e3eda68362a2",
    "prId" : 54717,
    "prUrl" : "https://github.com/ansible/ansible/pull/54717#pullrequestreview-221616530",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "30c3a244-d375-4fd7-bf3f-5ee938927486",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "I think options that exist in https://github.com/ansible/ansible/blob/fbaa6c33caab85a0f71c39142d0ea7ed71e30515/lib/ansible/module_utils/postgres.py#L53-L60 should be removed from this modules argspec.",
        "createdAt" : "2019-04-02T11:48:06Z",
        "updatedAt" : "2019-04-02T13:44:59Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      },
      {
        "id" : "ca7d9111-977c-4697-b8c4-de5d83b5658b",
        "parentId" : "30c3a244-d375-4fd7-bf3f-5ee938927486",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Thank you for this hint, I removed\r\n```\r\n     port=dict(type='int', default=5432), \r\n     ssl_mode=dict(default='prefer', choices=['disable', 'allow', 'prefer', 'require', 'verify-ca', 'verify-full']), \r\n     ca_cert=dict(aliases=['ssl_rootcert'])\r\n```",
        "createdAt" : "2019-04-02T12:09:46Z",
        "updatedAt" : "2019-04-02T13:44:59Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "ebc8a89e-ae1f-4f96-94a5-a364f2aeeefd",
        "parentId" : "30c3a244-d375-4fd7-bf3f-5ee938927486",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "this module seems very old, it contains several params with non-standard names.\r\nI wouldn't like to touch them in this PR",
        "createdAt" : "2019-04-02T12:11:06Z",
        "updatedAt" : "2019-04-02T13:44:59Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "24095932a3a39f41677357e39a03624a2e7cf0a4",
    "line" : 512,
    "diffHunk" : "@@ -1,1 +873,877 @@\ndef main():\n    argument_spec = postgres_common_argument_spec()\n    argument_spec.update(\n        database=dict(required=True, aliases=['db', 'login_db']),"
  }
]