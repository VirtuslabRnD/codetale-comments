[
  {
    "id" : "b1ff9fb6-9b03-4afa-8a19-e9a919783c82",
    "prId" : 32666,
    "prUrl" : "https://github.com/ansible/ansible/pull/32666#pullrequestreview-218174430",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41efaebf-27d2-4757-81cf-a708211a3946",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "```suggestion\r\nEXAMPLES = r'''\r\n```",
        "createdAt" : "2019-03-25T07:37:48Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec7f6ec0723b970d5db5c64f1017a0b935faf1b5",
    "line" : 119,
    "diffHunk" : "@@ -1,1 +117,121 @@'''\n\nEXAMPLES = '''\n- name: Grant users joe and simon access to databases sales and logistics from ipv6 localhost ::1/128 using peer authentication.\n  postgresql_pg_hba:"
  },
  {
    "id" : "2124d07b-bb1a-4969-ac7a-f5ec7d9eadaf",
    "prId" : 32666,
    "prUrl" : "https://github.com/ansible/ansible/pull/32666#pullrequestreview-218174430",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3316b5f0-c17a-45fc-bca9-02b1bf92b1fc",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Better to add more examples, at least with removing rules too",
        "createdAt" : "2019-03-25T07:39:05Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec7f6ec0723b970d5db5c64f1017a0b935faf1b5",
    "line" : 138,
    "diffHunk" : "@@ -1,1 +136,140 @@    databases=replication\n    method=cert\n\n- name: Revoke access from local user mary on database mydb.\n  postgresql_pg_hba:"
  },
  {
    "id" : "9e45baea-ccf3-42fb-9765-3aa2103c6e7b",
    "prId" : 32666,
    "prUrl" : "https://github.com/ansible/ansible/pull/32666#pullrequestreview-218174430",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "484046da-075a-49c6-afa6-77c05e286beb",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "```suggestion\r\n      - Databases this line applies to.\r\n      type: str\r\n```",
        "createdAt" : "2019-03-25T07:58:37Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec7f6ec0723b970d5db5c64f1017a0b935faf1b5",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +58,62 @@  databases:\n    description:\n      - Databases this line applies to.\n    default: all\n    type: str"
  },
  {
    "id" : "52b3f2ad-58fc-4bf4-872b-bdfc62779582",
    "prId" : 32666,
    "prUrl" : "https://github.com/ansible/ansible/pull/32666#pullrequestreview-218174430",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e2a503d9-d214-4a0d-8475-e31ceb5a4622",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "```suggestion\r\n      - Path to C(pg_hba) file to modify.\r\n      type: path\r\n```\r\nor maybe str, it should be checked",
        "createdAt" : "2019-03-25T07:59:31Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec7f6ec0723b970d5db5c64f1017a0b935faf1b5",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +63,67 @@  dest:\n    description:\n      - Path to C(pg_hba) file to modify.\n    type: path\n    required: true"
  },
  {
    "id" : "9d15ea14-24a2-49bc-bf58-a35bdae5332a",
    "prId" : 32666,
    "prUrl" : "https://github.com/ansible/ansible/pull/32666#pullrequestreview-218174430",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1a8a4f62-95d0-4919-82b9-2a1fc27e3db6",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "```suggestion\r\n      - The netmask of the source address.\r\n    type: str\r\n```",
        "createdAt" : "2019-03-25T08:07:44Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec7f6ec0723b970d5db5c64f1017a0b935faf1b5",
    "line" : 76,
    "diffHunk" : "@@ -1,1 +74,78 @@  netmask:\n    description:\n      - The netmask of the source address.\n    type: str\n  options:"
  },
  {
    "id" : "52e887e9-9a46-4dff-89c7-66d876863392",
    "prId" : 32666,
    "prUrl" : "https://github.com/ansible/ansible/pull/32666#pullrequestreview-218174430",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "688f0099-269f-49dc-95fc-4308da76b958",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "```suggestion\r\n      - Users this line applies to.\r\n    type: str\r\n```",
        "createdAt" : "2019-03-25T08:09:36Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec7f6ec0723b970d5db5c64f1017a0b935faf1b5",
    "line" : 96,
    "diffHunk" : "@@ -1,1 +94,98 @@  users:\n    description:\n      - Users this line applies to.\n    default: all\n"
  },
  {
    "id" : "58732b91-37e1-4e0f-b3ac-b16a6eb6865b",
    "prId" : 32666,
    "prUrl" : "https://github.com/ansible/ansible/pull/32666#pullrequestreview-219374174",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c00f241a-aa81-4ad0-9ca3-9044ea154e06",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "We're changing this construction to using pg_utils from postgres lib like this [#52077](https://github.com/ansible/ansible/pull/52077/files):\r\n```\r\n    argument_spec = postgres_common_argument_spec()\r\n    argument_spec.update(\r\n        table=dict(type='str', required=True, aliases=['name']),\r\n        state=dict(type='str', default=\"present\", choices=[\"absent\", \"present\"]),\r\n        db=dict(type='str', default='', aliases=['login_db']),\r\n        port=dict(type='int', default=5432, aliases=['login_port']),\r\n        ssl_mode=dict(type='str', default='prefer', choices=['allow', 'disable', 'prefer', 'require', 'verify-ca', 'verify-full']),\r\n        ssl_rootcert=dict(type='str'),\r\n        tablespace=dict(type='str'),\r\n        owner=dict(type='str'),\r\n        unlogged=dict(type='bool'),\r\n        like=dict(type='str'),\r\n        including=dict(type='str'),\r\n        rename=dict(type='str'),\r\n        truncate=dict(type='bool'),\r\n        columns=dict(type='list'),\r\n        storage_params=dict(type='list'),\r\n        session_role=dict(type='str'),\r\n    )\r\n    module = AnsibleModule(\r\n        argument_spec=argument_spec,\r\n        supports_check_mode=True,\r\n    )\r\n```",
        "createdAt" : "2019-03-25T08:13:51Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "e301a6f6-0eb5-4e84-a79f-b11fce1f3f7c",
        "parentId" : "c00f241a-aa81-4ad0-9ca3-9044ea154e06",
        "authorId" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "body" : "On this comment: I tried this, but it breaks, since postgresql_pg_hba does not have all of the postgres stuff to login, which all others do. We want to change that, but that is not in yet.\r\nSo I reverted this for now (commented the lines), and will add that when I implement the 'login and check' feature. Not sure if that will be in in this commit, bit that is fine. It can be added later.",
        "createdAt" : "2019-03-26T20:54:24Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "tags" : [
        ]
      },
      {
        "id" : "a4eccd7f-854a-43d7-9d42-0fee6d3af06b",
        "parentId" : "c00f241a-aa81-4ad0-9ca3-9044ea154e06",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Ok",
        "createdAt" : "2019-03-27T10:24:52Z",
        "updatedAt" : "2019-03-27T10:24:52Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec7f6ec0723b970d5db5c64f1017a0b935faf1b5",
    "line" : 642,
    "diffHunk" : "@@ -1,1 +640,644 @@        users=dict(type='str', default='all')\n    )\n    module = AnsibleModule(\n        argument_spec=argument_spec,\n        add_file_common_args=True,"
  },
  {
    "id" : "8ee384b1-20d3-446a-8a76-c992c865a5ea",
    "prId" : 32666,
    "prUrl" : "https://github.com/ansible/ansible/pull/32666#pullrequestreview-219136573",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f844cdf8-bb10-411e-8f49-36ac9e08e3b3",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Maybe change the option backup: yes|no, to backup_file: '/path/to/file', type: 'path' ?",
        "createdAt" : "2019-03-25T08:23:07Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "b3b3217a-fc3a-4d67-a8e0-4cc47f13eac8",
        "parentId" : "f844cdf8-bb10-411e-8f49-36ac9e08e3b3",
        "authorId" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "body" : "I understand what you mean, but this is far more error prone. Do we have access to the path, permissions to write the file, etc. In addition to that, chances are high that they specify the same file for multiple runs, and keep overwriting their backup file.\r\nTherefore I went for letting the module make files where it always can (/tmp) and generating new filenames for every backup.",
        "createdAt" : "2019-03-25T10:55:22Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "tags" : [
        ]
      },
      {
        "id" : "995c5176-04e0-442d-a8dc-b032ca64c05b",
        "parentId" : "f844cdf8-bb10-411e-8f49-36ac9e08e3b3",
        "authorId" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "body" : "Maybe add the option to set backup_file to a path if they want to hard specify it?",
        "createdAt" : "2019-03-25T10:56:48Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "tags" : [
        ]
      },
      {
        "id" : "2589e502-e14f-4dc3-8591-7a420d5768af",
        "parentId" : "f844cdf8-bb10-411e-8f49-36ac9e08e3b3",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "yup, the more flexible the better ;) and it's safer (e.g., unexpected reboot).\r\nI think anyawy there will be an issue from people soon with a request to implement a possibility of choosing the bacup file path.",
        "createdAt" : "2019-03-25T11:05:28Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "62402883-607e-4e93-b4f4-0073be200c49",
        "parentId" : "f844cdf8-bb10-411e-8f49-36ac9e08e3b3",
        "authorId" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "body" : "Yeah, I agree. Will try to add it. When should we commit this one?",
        "createdAt" : "2019-03-26T09:39:32Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "tags" : [
        ]
      },
      {
        "id" : "58fc9f5a-41a0-457c-9590-f61015d7f153",
        "parentId" : "f844cdf8-bb10-411e-8f49-36ac9e08e3b3",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Better before 3 March (4 feature freeze).\r\nHowever if it's possible to add it later without changing the ui, that's OK.",
        "createdAt" : "2019-03-26T10:32:42Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "29ebbb6e-c6f1-45c6-a1c2-04d4276d857b",
        "parentId" : "f844cdf8-bb10-411e-8f49-36ac9e08e3b3",
        "authorId" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "body" : "It is in there.",
        "createdAt" : "2019-03-26T20:17:36Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec7f6ec0723b970d5db5c64f1017a0b935faf1b5",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +35,39 @@    type: str\n    aliases: [ source, src ]\n  backup:\n    description:\n      - If set, create a backup of the C(pg_hba) file before it is modified."
  },
  {
    "id" : "b7d354d4-1242-4eaa-88ed-18ab38fa1837",
    "prId" : 32666,
    "prUrl" : "https://github.com/ansible/ansible/pull/32666#pullrequestreview-218377106",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4cdc1649-c35c-4f8a-890d-68f34d9f467d",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "IMO, better to add a warn if the file doesn't exist, just to inform the admin",
        "createdAt" : "2019-03-25T08:24:26Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "18e8eef5-2a83-4f31-a7e0-e8f4360394e7",
        "parentId" : "4cdc1649-c35c-4f8a-890d-68f34d9f467d",
        "authorId" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "body" : "That is the behaviour when create is set to false (default)...",
        "createdAt" : "2019-03-25T14:25:18Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "89720f91-2c26-40d7-9b0a-0c1ce011978d",
        "tags" : [
        ]
      },
      {
        "id" : "a301fcac-bce8-42ba-b7c9-dad0e48d6cc8",
        "parentId" : "4cdc1649-c35c-4f8a-890d-68f34d9f467d",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Ok",
        "createdAt" : "2019-03-25T14:49:38Z",
        "updatedAt" : "2019-03-26T21:16:54Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec7f6ec0723b970d5db5c64f1017a0b935faf1b5",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +45,49 @@      - Write backup to a specific backupfile rather than a temp file.\n    type: str\n  create:\n    description:\n      - Create an C(pg_hba) file if none exists."
  }
]