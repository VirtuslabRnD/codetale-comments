[
  {
    "id" : "ca4096fb-2102-419a-b580-072a6aea2a11",
    "prId" : 70319,
    "prUrl" : "https://github.com/ansible/ansible/pull/70319#pullrequestreview-486460630",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6e713022-0cbd-4fef-add8-d6ffb9cbeebc",
        "parentId" : null,
        "authorId" : "3d38c52f-3d84-43c1-b227-ab0c4ff1d8d3",
        "body" : "better to remove approximate comment ' (probably 0644)'.\r\nAlso putting a value that likely to change over time can be wrong, except if we could extract that from a constant.",
        "createdAt" : "2020-09-02T16:27:33Z",
        "updatedAt" : "2020-09-18T11:03:08Z",
        "lastEditedBy" : "3d38c52f-3d84-43c1-b227-ab0c4ff1d8d3",
        "tags" : [
        ]
      },
      {
        "id" : "396d6c2c-cbad-4db7-a050-b87ab1c12b3b",
        "parentId" : "6e713022-0cbd-4fef-add8-d6ffb9cbeebc",
        "authorId" : "8154ea17-f539-4603-80a4-ed570a00f1f7",
        "body" : "This has been discussed on https://github.com/ansible/ansible/pull/70319#discussion_r448980070 too.\r\n\r\nBut now that you mentioned this, I haven't seen this line before:\r\nhttps://github.com/ansible/ansible/blob/db519bc17c1ff0c6e095d022bfe988eb87630090/lib/ansible/modules/apt_repository.py#L143\r\nhttps://github.com/ansible/ansible/blob/db519bc17c1ff0c6e095d022bfe988eb87630090/lib/ansible/modules/apt_repository.py#L322\r\n\r\nIt seems that default `mode` is `0644` and maybe that was why it has been mentioned on `mode` doc, am I right?\r\n\r\nIf so I think adding `default: '0644'` on doc would be appropriate because it explains the module behaviour as it is.",
        "createdAt" : "2020-09-02T16:42:10Z",
        "updatedAt" : "2020-09-18T11:03:08Z",
        "lastEditedBy" : "8154ea17-f539-4603-80a4-ed570a00f1f7",
        "tags" : [
        ]
      },
      {
        "id" : "6dde8bb0-b8a1-4467-a6be-bd8d64f9f018",
        "parentId" : "6e713022-0cbd-4fef-add8-d6ffb9cbeebc",
        "authorId" : "8154ea17-f539-4603-80a4-ed570a00f1f7",
        "body" : "Also these:\r\nhttps://github.com/ansible/ansible/commit/127b854d2c0eda8de6954cc5eac46e6681577c65\r\nhttps://github.com/ansible/ansible/commit/a5b80464df92c2ebdc7ca73159763d10d4ed7068#diff-355558b0484f1dfbf4d532cbc563c9bdR136",
        "createdAt" : "2020-09-02T16:44:50Z",
        "updatedAt" : "2020-09-18T11:03:08Z",
        "lastEditedBy" : "8154ea17-f539-4603-80a4-ed570a00f1f7",
        "tags" : [
        ]
      },
      {
        "id" : "70f363a0-0d0b-42dd-9b27-7c02fe740fb9",
        "parentId" : "6e713022-0cbd-4fef-add8-d6ffb9cbeebc",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "`this_mode = self.module.params.get('mode', DEFAULT_SOURCES_PERM)` returns `None` if `mode` is not provided as a module parameter. Changing the `default` of this option is thus a breaking change.",
        "createdAt" : "2020-09-03T12:55:29Z",
        "updatedAt" : "2020-09-18T11:03:08Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "03de6460-2542-46ba-9144-b70cd46c6d27",
        "parentId" : "6e713022-0cbd-4fef-add8-d6ffb9cbeebc",
        "authorId" : "8154ea17-f539-4603-80a4-ed570a00f1f7",
        "body" : "@felixfontein Thanks, I didn't know this. What's your opinion on removing `(probably 0644)`?\r\nIt can be helpful for those who care about their `apt_repository` file permission, also it gives a hint that they can use setuid, setgid and sticky bits and they should put a leading zero if they don't want them, so maybe changing it to `(for example 0644)` would be better than removing it.",
        "createdAt" : "2020-09-03T13:58:26Z",
        "updatedAt" : "2020-09-18T11:03:08Z",
        "lastEditedBy" : "8154ea17-f539-4603-80a4-ed570a00f1f7",
        "tags" : [
        ]
      },
      {
        "id" : "dcd1d6f1-35fc-461f-98a1-fd5afb73e5cf",
        "parentId" : "6e713022-0cbd-4fef-add8-d6ffb9cbeebc",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "I think it is ok to leave it for now. I guess the core team needs to decide whether they want to fix the default to be `0644` (that would require a behavior change), or remove it completely.",
        "createdAt" : "2020-09-11T04:11:06Z",
        "updatedAt" : "2020-09-18T11:03:08Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "a1824e818c6fcf64cd844db3a434981ce82ca38b",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +36,40 @@        description:\n            - The octal mode for newly created files in sources.list.d.\n            - Default is what system uses (probably 0644).\n        type: raw\n        version_added: \"1.6\""
  }
]