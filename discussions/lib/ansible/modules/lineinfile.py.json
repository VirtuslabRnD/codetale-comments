[
  {
    "id" : "aa7b2e10-a380-4160-b4ae-0af5ec8a1009",
    "prId" : 70647,
    "prUrl" : "https://github.com/ansible/ansible/pull/70647#pullrequestreview-563790312",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "45900b2f-8156-44b3-aa70-f62b057112ce",
        "parentId" : null,
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "These examples don't fully demonstrate why `literal` is useful. One example of `literal` that contains regexp control characters is what we need.\r\n\r\nAlso, the names of these example tasks demonstrate why the name `literal` is problematic. \"Replace a localhost entry with our own with literal\" is ambiguous. It could mean replacing an entry using the _value_ of `literal`, or a task using the `literal` parameter.",
        "createdAt" : "2021-01-07T16:46:01Z",
        "updatedAt" : "2021-02-02T20:12:27Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "e6523dcb-bee1-4874-9d27-55261d32c962",
        "parentId" : "45900b2f-8156-44b3-aa70-f62b057112ce",
        "authorId" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "body" : "Replaced with `search_string: '<FilesMatch \".php[45]?$\">'` I think is a great example in a `httpd.conf` file",
        "createdAt" : "2021-01-07T18:42:26Z",
        "updatedAt" : "2021-02-02T20:12:28Z",
        "lastEditedBy" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "tags" : [
        ]
      },
      {
        "id" : "d69e75e7-8ae0-4056-8a08-d951cae15342",
        "parentId" : "45900b2f-8156-44b3-aa70-f62b057112ce",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "Ooo, yeah that's good and gnarly.",
        "createdAt" : "2021-01-07T20:06:39Z",
        "updatedAt" : "2021-02-02T20:12:28Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      }
    ],
    "commit" : "cbe09823d8f9a32b4af358458f6f8fb426a2cc67",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +197,201 @@    insertafter: '^\\t<Location \\/>\\n'\n    line: '        <FilesMatch \".php[34]?$\">'\n\n- name: Ensure we have our own comment added to /etc/services\n  ansible.builtin.lineinfile:"
  },
  {
    "id" : "0af77aff-a51c-4864-8796-3df2ca35dfea",
    "prId" : 70647,
    "prUrl" : "https://github.com/ansible/ansible/pull/70647#pullrequestreview-574038459",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b99f0795-4025-48c7-a8d8-3055ce5299f0",
        "parentId" : null,
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "fwiw, most of the changes could have been simplified by simply doing:\r\n\r\n```\r\nif params['search_string']:\r\n    regexp = re.escape(params['search_string'])\r\n```\r\n\r\nThen the majority of other changes would have been unnecessary, as you could have kept just using the regex paths, but with an escaped string that gets treated literally.",
        "createdAt" : "2021-01-21T16:51:14Z",
        "updatedAt" : "2021-02-02T20:12:28Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      },
      {
        "id" : "a5280207-0a55-4d63-a0e4-c9fec0adc208",
        "parentId" : "b99f0795-4025-48c7-a8d8-3055ce5299f0",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "That's excellent. I didn't know about `re.escape()`. I think that really gets to the heart of the original feature request.",
        "createdAt" : "2021-01-21T17:02:10Z",
        "updatedAt" : "2021-02-02T20:12:28Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "dbe8caec-b143-458c-a36e-1ce36f3491ca",
        "parentId" : "b99f0795-4025-48c7-a8d8-3055ce5299f0",
        "authorId" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "body" : "WOW Thanks! I go for it!",
        "createdAt" : "2021-01-21T18:36:08Z",
        "updatedAt" : "2021-02-02T20:12:28Z",
        "lastEditedBy" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "tags" : [
        ]
      },
      {
        "id" : "96610956-40cd-4b63-a0cf-f9ac32251c79",
        "parentId" : "b99f0795-4025-48c7-a8d8-3055ce5299f0",
        "authorId" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "body" : "@sivel @samdoran  I'm concerned about this:\r\n\r\nhttps://docs.python.org/3/library/re.html#re.escape\r\n\r\nI've been testing the solution and I prefer the current approach as it is more reliable and controllable.\r\n\r\nFind the difference between 3.6 and 3.7 respectively:\r\n\r\n```py\r\n\\<FilesMatch\\ \\\"\\.py\\[45\\]\\?\\$\\\"\\>\r\n```\r\n\r\n```py\r\n<FilesMatch\\\\ \"\\\\.py\\\\[45\\\\]\\\\?\\\\$\">\r\n```\r\n\r\nA replacement like this: `<FilesMatch \".py[45]?$\">` is not working with this approach.\r\n\r\nThank you!!",
        "createdAt" : "2021-01-21T19:35:34Z",
        "updatedAt" : "2021-02-02T20:12:28Z",
        "lastEditedBy" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "tags" : [
        ]
      },
      {
        "id" : "9a58b903-1e43-4ead-9fdb-c03897d26edc",
        "parentId" : "b99f0795-4025-48c7-a8d8-3055ce5299f0",
        "authorId" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "body" : "From this tests, I'm going to keep the current approach if you agree.",
        "createdAt" : "2021-01-22T08:23:59Z",
        "updatedAt" : "2021-02-02T20:12:28Z",
        "lastEditedBy" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "tags" : [
        ]
      }
    ],
    "commit" : "cbe09823d8f9a32b4af358458f6f8fb426a2cc67",
    "line" : 164,
    "diffHunk" : "@@ -1,1 +586,590 @@    firstmatch = params['firstmatch']\n    regexp = params['regexp']\n    search_string = params['search_string']\n    line = params['line']\n"
  }
]