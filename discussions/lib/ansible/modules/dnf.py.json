[
  {
    "id" : "0a546822-c375-4e7f-b706-386bdd27a7e1",
    "prId" : 73423,
    "prUrl" : "https://github.com/ansible/ansible/pull/73423#pullrequestreview-588206848",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5229a4b3-d750-47f5-9ecf-8ca11688cfa3",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "The old code tried to install `python{2|3}-dnf` like apt but we don't seem to do that anymore which would be a breaking change.",
        "createdAt" : "2021-02-10T21:30:34Z",
        "updatedAt" : "2021-02-11T04:00:57Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "06ed5c67-d9d4-4ef6-9857-55c232d49491",
        "parentId" : "5229a4b3-d750-47f5-9ecf-8ca11688cfa3",
        "authorId" : "311820dd-fcb9-46df-a201-9c0e7d6fac58",
        "body" : "Yeah, without respawn, that was necessary (since you might be running the module under py2, but the builtin install was on py3). With respawn, we'll find whatever's available with the system python/dnf and use it- currently anyway, `dnf` itself uses `python(x)-dnf`, so if one of the system interpreters doesn't have that package installed (and the `dnf` Python module importable), `dnf` itself won't be any use to install it. We also want to be careful not to accidentally drag in a whole new Python trying to install that (a problem the `apt` modules solve in a slightly different way, since they still do the install)",
        "createdAt" : "2021-02-11T02:00:41Z",
        "updatedAt" : "2021-02-11T04:00:57Z",
        "lastEditedBy" : "311820dd-fcb9-46df-a201-9c0e7d6fac58",
        "tags" : [
        ]
      }
    ],
    "commit" : "0b6a663fb7a3c005f928558667e194eef44fe179",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +529,533 @@\n        # done all we can do, something is just broken (auto-install isn't useful anymore with respawn, so it was removed)\n        self.module.fail_json(\n            msg=\"Could not import the dnf python module using {0} ({1}). \"\n                \"Please install `python3-dnf` or `python2-dnf` package or ensure you have specified the \""
  }
]