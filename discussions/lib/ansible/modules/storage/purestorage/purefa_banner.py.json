[
  {
    "id" : "49320b0f-db75-47c5-b9d2-734e36ff046b",
    "prId" : 57500,
    "prUrl" : "https://github.com/ansible/ansible/pull/57500#pullrequestreview-250198070",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c3d47864-7502-4f2b-8aa5-0d3a30fb9942",
        "parentId" : null,
        "authorId" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "body" : "this seems not to be idempotent, my suggestion\r\n~~~python\r\n\r\n    if current_banner != module.params['banner']\r\n        if state == 'present':\r\n            set_banner(module, array)\r\n        else:\r\n            delete_banner(module, array)\r\n~~~",
        "createdAt" : "2019-06-09T09:51:20Z",
        "updatedAt" : "2019-06-15T16:06:02Z",
        "lastEditedBy" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "tags" : [
        ]
      },
      {
        "id" : "3ab879d3-a3ae-49f7-95a5-60dd7bd02472",
        "parentId" : "c3d47864-7502-4f2b-8aa5-0d3a30fb9942",
        "authorId" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "body" : "this doesn't look good to me yet, but I see my previous suggestion looks wrong too. How about the following?\r\n~~~python \r\n    # set banner if empty value or value differs \r\n    if state == 'present' and (not current_banner or current_banner != module.params['banner']):\r\n        set_banner(module, array)\r\n   # clear banner if it has a value\r\n    elif state == 'absent' and current_banner:\r\n        delete_banner(module, array)\r\n~~~\r\n\r\n",
        "createdAt" : "2019-06-15T07:59:54Z",
        "updatedAt" : "2019-06-15T16:06:02Z",
        "lastEditedBy" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "tags" : [
        ]
      },
      {
        "id" : "e05a6e62-4aa2-4907-8e03-17b393e56b73",
        "parentId" : "c3d47864-7502-4f2b-8aa5-0d3a30fb9942",
        "authorId" : "408aa4dc-ab76-4ffd-a9b9-3a21171068d3",
        "body" : "OK - I think we are good with this version",
        "createdAt" : "2019-06-15T16:03:43Z",
        "updatedAt" : "2019-06-15T16:06:02Z",
        "lastEditedBy" : "408aa4dc-ab76-4ffd-a9b9-3a21171068d3",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3fa745e67579b0bb8187631c7c11a573b46456f",
    "line" : 110,
    "diffHunk" : "@@ -1,1 +108,112 @@    # clear banner if it has a value\n    elif state == 'absent' and current_banner:\n        delete_banner(module, array)\n\n    module.exit_json(changed=False)"
  },
  {
    "id" : "604d714a-fd22-48b3-b095-60c8a97139c9",
    "prId" : 57500,
    "prUrl" : "https://github.com/ansible/ansible/pull/57500#pullrequestreview-247395937",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b8dc5f9-4c90-40fc-b409-d23992ec82a6",
        "parentId" : null,
        "authorId" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "body" : "catching a low hanging fruit\r\n\r\n~~~python\r\n        if not module.check_mode:\r\n            array.set(banner=\"\")\r\n        changed = True\r\n~~~",
        "createdAt" : "2019-06-09T09:52:29Z",
        "updatedAt" : "2019-06-15T16:06:02Z",
        "lastEditedBy" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3fa745e67579b0bb8187631c7c11a573b46456f",
    "line" : 82,
    "diffHunk" : "@@ -1,1 +80,84 @@    changed = False\n    try:\n        array.set(banner=\"\")\n        changed = True\n    except Exception:"
  },
  {
    "id" : "bda4a49f-51ab-4209-b34d-99b0934e5950",
    "prId" : 57500,
    "prUrl" : "https://github.com/ansible/ansible/pull/57500#pullrequestreview-250128107",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ca98fdb7-d21b-49d3-bad9-aea47c44f879",
        "parentId" : null,
        "authorId" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "body" : "set supports_check_mode=True after the check mode implementation",
        "createdAt" : "2019-06-09T09:56:58Z",
        "updatedAt" : "2019-06-15T16:06:02Z",
        "lastEditedBy" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "tags" : [
        ]
      },
      {
        "id" : "ad296686-9fe0-46bf-9b34-fd6777321d76",
        "parentId" : "ca98fdb7-d21b-49d3-bad9-aea47c44f879",
        "authorId" : "408aa4dc-ab76-4ffd-a9b9-3a21171068d3",
        "body" : "@resmo All revisions done as requested. Could you re-review please?",
        "createdAt" : "2019-06-14T21:04:41Z",
        "updatedAt" : "2019-06-15T16:06:02Z",
        "lastEditedBy" : "408aa4dc-ab76-4ffd-a9b9-3a21171068d3",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3fa745e67579b0bb8187631c7c11a573b46456f",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +98,102 @@    module = AnsibleModule(argument_spec,\n                           required_if=required_if,\n                           supports_check_mode=False)\n\n    state = module.params['state']"
  }
]