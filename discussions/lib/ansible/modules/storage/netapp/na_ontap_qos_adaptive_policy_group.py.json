[
  {
    "id" : "562187e5-3293-4dfd-a3f8-93d09df11ca0",
    "prId" : 58707,
    "prUrl" : "https://github.com/ansible/ansible/pull/58707#pullrequestreview-258228915",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1e86b22f-b4cd-407d-a2d4-fd9dbc0539f0",
        "parentId" : null,
        "authorId" : "6915b346-f639-4f54-a51b-73b1655c7ac8",
        "body" : "Please add vserver to the query. ",
        "createdAt" : "2019-07-04T12:14:41Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "6915b346-f639-4f54-a51b-73b1655c7ac8",
        "tags" : [
        ]
      },
      {
        "id" : "0379a5ab-b432-4ac6-aac4-765c7e1b0434",
        "parentId" : "1e86b22f-b4cd-407d-a2d4-fd9dbc0539f0",
        "authorId" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "body" : "Done. It looks like adaptive QoS policy groups need to be unique across vservers however.",
        "createdAt" : "2019-07-05T05:43:28Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6336e4f65ab5666cc5fc72bd9efdc6fd77911cae",
    "line" : 191,
    "diffHunk" : "@@ -1,1 +189,193 @@        policy_group_info.add_new_child('policy-group', policy_group_name)\n        policy_group_info.add_new_child('vserver', self.parameters['vserver'])\n        query = netapp_utils.zapi.NaElement('query')\n        query.add_child_elem(policy_group_info)\n        policy_group_get_iter.add_child_elem(query)"
  },
  {
    "id" : "652a1f9d-7c14-4a6a-af5a-d2da0d829911",
    "prId" : 58707,
    "prUrl" : "https://github.com/ansible/ansible/pull/58707#pullrequestreview-258228978",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e8db2669-d80d-44d7-8feb-9cf639c5505d",
        "parentId" : null,
        "authorId" : "6915b346-f639-4f54-a51b-73b1655c7ac8",
        "body" : "Indicate that this is a required parameter.  Same thing for server",
        "createdAt" : "2019-07-04T12:17:25Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "6915b346-f639-4f54-a51b-73b1655c7ac8",
        "tags" : [
        ]
      },
      {
        "id" : "f39f86e4-c337-402e-8e43-33b9a254390c",
        "parentId" : "e8db2669-d80d-44d7-8feb-9cf639c5505d",
        "authorId" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "body" : "Done.",
        "createdAt" : "2019-07-05T05:43:47Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6336e4f65ab5666cc5fc72bd9efdc6fd77911cae",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +34,38 @@    description:\n    - The name of the policy group to manage.\n    type: str\n    required: true\n"
  },
  {
    "id" : "ea60f120-35c8-42cf-942b-62b636df018a",
    "prId" : 58707,
    "prUrl" : "https://github.com/ansible/ansible/pull/58707#pullrequestreview-258228944",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "22ee03e9-2bd8-473a-a081-abf284b0c87a",
        "parentId" : null,
        "authorId" : "6915b346-f639-4f54-a51b-73b1655c7ac8",
        "body" : "Since we have a vserver this is not needed. Or rather the logging must be done against the current vserver. ",
        "createdAt" : "2019-07-04T12:19:02Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "6915b346-f639-4f54-a51b-73b1655c7ac8",
        "tags" : [
        ]
      },
      {
        "id" : "26d1986f-1552-4d38-a22b-e50cf1cdb328",
        "parentId" : "22ee03e9-2bd8-473a-a081-abf284b0c87a",
        "authorId" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "body" : "Done",
        "createdAt" : "2019-07-05T05:43:36Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6336e4f65ab5666cc5fc72bd9efdc6fd77911cae",
    "line" : 297,
    "diffHunk" : "@@ -1,1 +295,299 @@        \"\"\"\n        Run module based on playbook\n        \"\"\"\n        self.autosupport_log(\"na_ontap_qos_policy_group\")\n        current = self.get_policy_group()"
  },
  {
    "id" : "1cb5cf73-05a7-4c5d-80af-3a1bc6aaa0af",
    "prId" : 58707,
    "prUrl" : "https://github.com/ansible/ansible/pull/58707#pullrequestreview-262717247",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a2b4fa3e-96c4-45cd-b388-210fc21ab30b",
        "parentId" : null,
        "authorId" : "b450c8e7-2428-44f4-bcfd-b15a657813e0",
        "body" : "If we are running this as a vserver admin (instead of cluster admin) the vserver needs to be passed into the setup function \r\nHere an example. \r\nhttps://github.com/ansible/ansible/blob/devel/lib/ansible/modules/storage/netapp/na_ontap_quotas.py#L173",
        "createdAt" : "2019-07-11T15:35:58Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "b450c8e7-2428-44f4-bcfd-b15a657813e0",
        "tags" : [
        ]
      },
      {
        "id" : "331009eb-0c4a-425f-97a1-ea1f96c2a528",
        "parentId" : "a2b4fa3e-96c4-45cd-b388-210fc21ab30b",
        "authorId" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "body" : "Looking at ZAPI, the qos-* API's are not available at the vserver level; it's only a cluster admin permitted operation at this point. ",
        "createdAt" : "2019-07-12T23:16:51Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "tags" : [
        ]
      },
      {
        "id" : "9b7fb8a4-7b77-4e08-8a58-975962f2dc9f",
        "parentId" : "a2b4fa3e-96c4-45cd-b388-210fc21ab30b",
        "authorId" : "6915b346-f639-4f54-a51b-73b1655c7ac8",
        "body" : "The semantics in create are consistent with using a vserver in a cluster context, so I'm good with that.   But I don't see vserver being used in modify or delete.  Does it mean that a policy name is unique across a cluster ?   Or said otherwise, that 2 vservers cannot use the same policy name (or it points to the same policy).",
        "createdAt" : "2019-07-16T18:37:26Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "6915b346-f639-4f54-a51b-73b1655c7ac8",
        "tags" : [
        ]
      },
      {
        "id" : "21633d90-9d1d-4fc7-90aa-d0c2b0dc503b",
        "parentId" : "a2b4fa3e-96c4-45cd-b388-210fc21ab30b",
        "authorId" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "body" : "That's correct - policy names cannot conflict with the cluster-level default policies (extreme, performance, value). They must also be unique across the cluster; defining the same policy name within two vservers results in a ZAPI error. ",
        "createdAt" : "2019-07-16T22:14:03Z",
        "updatedAt" : "2019-08-21T05:17:33Z",
        "lastEditedBy" : "0bd77f22-7880-4235-8065-48983d237bd6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6336e4f65ab5666cc5fc72bd9efdc6fd77911cae",
    "line" : 175,
    "diffHunk" : "@@ -1,1 +173,177 @@                msg=\"the python NetApp-Lib module is required\")\n        else:\n            self.server = netapp_utils.setup_na_ontap_zapi(\n                module=self.module)\n"
  }
]