[
  {
    "id" : "5a423f8f-8a54-4806-883a-c307cbc52f8d",
    "prId" : 72337,
    "prUrl" : "https://github.com/ansible/ansible/pull/72337#pullrequestreview-527246058",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e45cf356-3c18-4888-87c3-dab83aac68e7",
        "parentId" : null,
        "authorId" : "e8e25bf5-6eb7-4ea8-90d1-89d948ee829a",
        "body" : "@samdoran I believe you should use `systemctl list-units --all` . Without `--all` flag the `inactive (dead)` services will be not listed. Plz see my comment for more info https://github.com/ansible/ansible/issues/71528#issuecomment-722701620\r\n\r\n```\r\nroot@Ubuntu18:/# systemctl list-units actions.runner.monolithprojects-ansible-github_actions_runne.Ubuntu18.service\r\n0 loaded units listed. Pass --all to see loaded but inactive units, too.\r\nTo show all installed unit files use 'systemctl list-unit-files'.\r\n\r\nroot@Ubuntu18:/# systemctl list-units --all actions.runner.monolithprojects-ansible-github_actions_runne.Ubuntu18.service\r\nUNIT                                                                          LOAD   ACTIVE   SUB  DESCRIPTION                                                                             \r\nactions.runner.monolithprojects-ansible-github_actions_runne.Ubuntu18.service loaded inactive dead GitHub Actions Runner (monolithprojects-ansible-github_actions_runner-testrepo.Ubuntu18)\r\n\r\n1 loaded units listed.\r\nTo show all installed unit files use 'systemctl list-unit-files'.\r\n```",
        "createdAt" : "2020-11-05T23:32:20Z",
        "updatedAt" : "2020-11-05T23:32:20Z",
        "lastEditedBy" : "e8e25bf5-6eb7-4ea8-90d1-89d948ee829a",
        "tags" : [
        ]
      },
      {
        "id" : "9a46fa8e-a5e7-44ce-aedd-c434d1f2b8d1",
        "parentId" : "e45cf356-3c18-4888-87c3-dab83aac68e7",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "Have you tried with #72363? I believe `list-unit-files` should take care of this issue.",
        "createdAt" : "2020-11-09T17:33:59Z",
        "updatedAt" : "2020-11-09T17:34:00Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "03d53b7f-8930-48b0-b262-4de3ef2bba4f",
        "parentId" : "e45cf356-3c18-4888-87c3-dab83aac68e7",
        "authorId" : "e8e25bf5-6eb7-4ea8-90d1-89d948ee829a",
        "body" : "Ah sorry, did not notice that open PR. Yes `list-unit-files` works too. Thanks. ",
        "createdAt" : "2020-11-09T20:18:40Z",
        "updatedAt" : "2020-11-09T20:18:40Z",
        "lastEditedBy" : "e8e25bf5-6eb7-4ea8-90d1-89d948ee829a",
        "tags" : [
        ]
      },
      {
        "id" : "7aa0afa7-206f-4070-a192-1247258512e4",
        "parentId" : "e45cf356-3c18-4888-87c3-dab83aac68e7",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "Ok, that's great news. Thank you for confirming. I was hoping I didn't have to fix this _yet again_. :) I have opened backport PRs for 2.9 and 2.10, so this fix will be in the next `.z` release of Ansible 2.9 and 2.10.",
        "createdAt" : "2020-11-10T14:17:48Z",
        "updatedAt" : "2020-11-10T14:18:05Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      }
    ],
    "commit" : "54ac5fddb247b3b5d32d2f5b01de8e21b6372169",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +406,410 @@            result['status'] = parse_systemctl_show(to_native(out).split('\\n'))\n\n            (rc, out, err) = module.run_command(\"{systemctl} list-units '{unit}*'\".format(systemctl=systemctl, unit=unit))\n            is_systemd = unit in out\n"
  }
]