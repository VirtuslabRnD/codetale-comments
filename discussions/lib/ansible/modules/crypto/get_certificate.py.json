[
  {
    "id" : "1e3c0a6f-321d-4204-94dd-d2ec2a1ed24e",
    "prId" : 41735,
    "prUrl" : "https://github.com/ansible/ansible/pull/41735#pullrequestreview-137462620",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3a47997a-72a9-4672-af4a-0fc58466276f",
        "parentId" : null,
        "authorId" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "body" : "Why the `run_once`?",
        "createdAt" : "2018-07-16T14:03:49Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "tags" : [
        ]
      },
      {
        "id" : "90ed4c24-88f9-4272-aa7f-6b668c142462",
        "parentId" : "3a47997a-72a9-4672-af4a-0fc58466276f",
        "authorId" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "body" : "Because I have delegate_to set to localhost. If you were running on three target nodes with out run_once you will run this step 3 times.",
        "createdAt" : "2018-07-16T14:52:09Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "tags" : [
        ]
      }
    ],
    "commit" : "a90e4a060662811eb4516f905bc59a4112b3fad1",
    "line" : 98,
    "diffHunk" : "@@ -1,1 +96,100 @@    port: 3389\n  delegate_to: localhost\n  run_once: true\n  register: cert\n"
  },
  {
    "id" : "41d0b294-42db-4060-9696-79ceb23f0bce",
    "prId" : 41735,
    "prUrl" : "https://github.com/ansible/ansible/pull/41735#pullrequestreview-148801752",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "34cfb1cc-fd69-4e6b-9a5a-b2750f77acb5",
        "parentId" : null,
        "authorId" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "body" : "If you're using an IP, how do you validate the certificate?\r\n\r\nRelatedly, do you validate the hostname *at all*?",
        "createdAt" : "2018-07-23T13:46:03Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "tags" : [
        ]
      },
      {
        "id" : "c443431b-9ee5-40b2-8d2d-15956a937bf2",
        "parentId" : "34cfb1cc-fd69-4e6b-9a5a-b2750f77acb5",
        "authorId" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "body" : "Some testing later: no, the `ssl.get_server_certificate` does not validate the hostname, only the certificate signature. You should probably note this in the docs.",
        "createdAt" : "2018-07-23T13:53:54Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "tags" : [
        ]
      },
      {
        "id" : "df62c8cc-986f-4f55-81d4-5c3d2546e8ea",
        "parentId" : "34cfb1cc-fd69-4e6b-9a5a-b2750f77acb5",
        "authorId" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "body" : "We are not doing any kind of validation in this module (other than the signature by passing in ca_file). This is strictly for getting a certificate from a port for inspection. What if we made the module description something like:\r\n\r\nMakes a secure connection and returns information about the presented certificate optionally validating the certs signature",
        "createdAt" : "2018-07-23T15:03:30Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "tags" : [
        ]
      },
      {
        "id" : "817d5906-30fe-4fef-a2d7-cc5fbdf0a812",
        "parentId" : "34cfb1cc-fd69-4e6b-9a5a-b2750f77acb5",
        "authorId" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "body" : "I think you can add something along the lines of \"only validates the certificate itself, does not validate if the certificate is valid for the supplied host\" to the `ca_certs` setting.",
        "createdAt" : "2018-07-23T15:06:01Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "tags" : [
        ]
      },
      {
        "id" : "0ea2daef-91f4-4f0e-aab5-05a8d43ec906",
        "parentId" : "34cfb1cc-fd69-4e6b-9a5a-b2750f77acb5",
        "authorId" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "body" : "Sorry for the delay, all set:\r\n```\r\n- ca_certs\r\n        A PEM file containing a list of root certificates; if present, the cert will be validated against these root certs.\r\n        Note that this only validates the certificate is signed by the chain; not that the cert is valid for the host presenting it.\r\n        [Default: (null)]\r\n```",
        "createdAt" : "2018-08-03T15:36:41Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "tags" : [
        ]
      },
      {
        "id" : "41cc61ac-d95b-41c5-b9c7-f32b875abf3b",
        "parentId" : "34cfb1cc-fd69-4e6b-9a5a-b2750f77acb5",
        "authorId" : "f65394e6-7239-422a-9af5-c3575a283846",
        "body" : "@thomwiggers \r\n\r\n> If you're using an IP, how do you validate the certificate?\r\n\r\nYou can specify subjectAltName to an IP adress and hence have a valid certificate bound to an IP[1] and not the hostname. However I don't think this is widely used. This is if I understood the inital comment, if not please dicard my answer.\r\n\r\n[1] https://tools.ietf.org/html/rfc5280#section-4.2.1.6\r\n\r\n",
        "createdAt" : "2018-08-23T08:16:14Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "f65394e6-7239-422a-9af5-c3575a283846",
        "tags" : [
        ]
      }
    ],
    "commit" : "a90e4a060662811eb4516f905bc59a4112b3fad1",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@    host:\n      description:\n        - The host to get the cert for (IP is fine)\n      required: True\n    ca_certs:"
  },
  {
    "id" : "1a9c5c91-c606-4ab4-a08d-9c82e0b1313f",
    "prId" : 41735,
    "prUrl" : "https://github.com/ansible/ansible/pull/41735#pullrequestreview-182129416",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "19a30934-e022-44f2-9ce6-098c2c194d76",
        "parentId" : null,
        "authorId" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "body" : "Is there some place you can link to? A bug report somewhere? Seems like it would be worthwhile.",
        "createdAt" : "2018-07-23T13:46:35Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "tags" : [
        ]
      },
      {
        "id" : "3a19581e-b0d1-4a0e-b4fd-6b40abe7a62c",
        "parentId" : "19a30934-e022-44f2-9ce6-098c2c194d76",
        "authorId" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "body" : "Unfortunately not yet; I reported a bug to Apple but have not heard anything back from them.",
        "createdAt" : "2018-07-23T14:59:37Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "tags" : [
        ]
      },
      {
        "id" : "034323b3-98f0-4121-846c-e144b5c8fd4d",
        "parentId" : "19a30934-e022-44f2-9ce6-098c2c194d76",
        "authorId" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "body" : "It's been a few months, any news?",
        "createdAt" : "2018-12-06T08:41:14Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "0e28b588-4137-48f1-8040-bb2cde473e74",
        "tags" : [
        ]
      }
    ],
    "commit" : "a90e4a060662811eb4516f905bc59a4112b3fad1",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +40,44 @@\nnotes:\n  - When using ca_certs on OS X it has been reported that in some conditions the validate will always succeed.\n\nrequirements:"
  },
  {
    "id" : "e1776d3f-c486-4ab8-9a41-a3c2c3abe9e0",
    "prId" : 41735,
    "prUrl" : "https://github.com/ansible/ansible/pull/41735#pullrequestreview-174612216",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e25bfc7f-c316-4cb2-ad86-864de610ae18",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Out of curiosity: why not also return `cert` itself? That's the first thing I expected when I saw the module name `get_certificate`.",
        "createdAt" : "2018-09-19T19:10:19Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "4f921955-c93c-40bf-ac7e-fa4ce29ceca5",
        "parentId" : "e25bfc7f-c316-4cb2-ad86-864de610ae18",
        "authorId" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "body" : "I've added cert to the return statement.",
        "createdAt" : "2018-11-13T14:18:34Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "tags" : [
        ]
      },
      {
        "id" : "42dee752-d975-477f-a6b9-270e2238275b",
        "parentId" : "e25bfc7f-c316-4cb2-ad86-864de610ae18",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Thanks!",
        "createdAt" : "2018-11-13T20:07:38Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "83098f55-e541-4c9b-9ad5-5da9a0ac28a5",
        "parentId" : "e25bfc7f-c316-4cb2-ad86-864de610ae18",
        "authorId" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "body" : "/facepalm.... too much early morning coding.... thanks for the fix suggestion, it should be pulled in.",
        "createdAt" : "2018-11-13T21:03:06Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "tags" : [
        ]
      },
      {
        "id" : "fffee8cf-fe7b-472c-8edf-0897ebf44a62",
        "parentId" : "e25bfc7f-c316-4cb2-ad86-864de610ae18",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "You still need to document it in `RETURN`.",
        "createdAt" : "2018-11-13T22:11:11Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "a90e4a060662811eb4516f905bc59a4112b3fad1",
    "line" : 154,
    "diffHunk" : "@@ -1,1 +152,156 @@\n    try:\n        cert = get_server_certificate((host, port), ca_certs=ca_certs)\n        x509 = crypto.load_certificate(crypto.FILETYPE_PEM, cert)\n    except Exception as e:"
  },
  {
    "id" : "b9af66bf-ad4d-43d4-9bf2-6caf0f4728fd",
    "prId" : 41735,
    "prUrl" : "https://github.com/ansible/ansible/pull/41735#pullrequestreview-174563411",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "67b6ec29-7124-41d2-ab53-bb2e27280222",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Maybe it also makes sense to (also) extract SANs into a separate list.",
        "createdAt" : "2018-09-19T19:11:11Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "9c68823d-70d2-4995-999f-ae3aef557cd4",
        "parentId" : "67b6ec29-7124-41d2-ab53-bb2e27280222",
        "authorId" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "body" : "Do you have a use case fo this? If we are going to pull out SANs from the extensions should we pull out the rest of them as well?\r\n",
        "createdAt" : "2018-11-13T14:19:25Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "8a36b6eb-13f8-4a13-a0ef-37d55165ed2e",
        "tags" : [
        ]
      },
      {
        "id" : "8033145b-cf80-42b2-9512-97ff86f662e4",
        "parentId" : "67b6ec29-7124-41d2-ab53-bb2e27280222",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "No, not really, it was just a suggestion (since you were already processing extensions). I don't mind not doing that.",
        "createdAt" : "2018-11-13T20:08:30Z",
        "updatedAt" : "2018-12-06T13:22:03Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "a90e4a060662811eb4516f905bc59a4112b3fad1",
    "line" : 174,
    "diffHunk" : "@@ -1,1 +172,176 @@            'asn1_data': extension.get_data(),\n            'name': extension.get_short_name(),\n        })\n\n    result['issuer'] = {}"
  },
  {
    "id" : "29b82e36-78e1-44b6-988b-f847e3930548",
    "prId" : 54315,
    "prUrl" : "https://github.com/ansible/ansible/pull/54315#pullrequestreview-219282752",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e006241f-ba98-462e-b08a-66a8675c5a8b",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Since this module just has been added for 2.8, how about removing the alias and just keeping `ca_cert`? @MarkusTeufelberger @john-westcott-iv",
        "createdAt" : "2019-03-25T21:14:50Z",
        "updatedAt" : "2019-03-27T05:31:08Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "7fa5fdcb-d759-415f-8ea0-230d3abd4066",
        "parentId" : "e006241f-ba98-462e-b08a-66a8675c5a8b",
        "authorId" : "5c95ce24-8a36-4f10-b46c-b30203fba415",
        "body" : "That's even better as long as there are no objections.",
        "createdAt" : "2019-03-25T21:21:18Z",
        "updatedAt" : "2019-03-27T05:31:08Z",
        "lastEditedBy" : "5c95ce24-8a36-4f10-b46c-b30203fba415",
        "tags" : [
        ]
      },
      {
        "id" : "ac92ae8e-1d9b-4735-9324-4ed7ce7e2a13",
        "parentId" : "e006241f-ba98-462e-b08a-66a8675c5a8b",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "I'll create a follow-up PR for this once this is merged.",
        "createdAt" : "2019-03-27T06:16:22Z",
        "updatedAt" : "2019-03-27T06:16:22Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "a18829f720fa4faa79e5fa2e09e575e61f7d7d18",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +30,34 @@        - Note that this only validates the certificate is signed by the chain; not that the cert is valid for the host presenting it.\n      type: path\n      aliases: [ ca_certs ]\n    port:\n      description:"
  }
]