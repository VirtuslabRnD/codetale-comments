[
  {
    "id" : "31837cf1-f0a7-4a07-8865-b3afe769877b",
    "prId" : 47627,
    "prUrl" : "https://github.com/ansible/ansible/pull/47627#pullrequestreview-168929780",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "51708a29-6457-45be-aa6e-f852f9df3c71",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "wont this now make metadata optional for modules?",
        "createdAt" : "2018-10-26T17:07:38Z",
        "updatedAt" : "2018-10-26T17:41:43Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "0016298a-56e5-44ce-a900-c7903d65a89e",
        "parentId" : "51708a29-6457-45be-aa6e-f852f9df3c71",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "yes.  metadata *is* optional for modules.  That's how we designed it.",
        "createdAt" : "2018-10-26T17:42:28Z",
        "updatedAt" : "2018-10-26T17:42:28Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "16d00ac6abd6397ea1211e073bec31dcf2a3048d",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +77,81 @@            # Add default metadata\n            data['metadata'] = {'supported_by': 'community',\n                                'status': ['preview']}\n    except:\n        if verbose:"
  },
  {
    "id" : "74f0dc5c-8eda-4816-a47e-052fd8c156fc",
    "prId" : 69796,
    "prUrl" : "https://github.com/ansible/ansible/pull/69796#pullrequestreview-429111031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "In ansible-base we've required examples to be valid yaml for quite some time:\r\n\r\nhttps://github.com/ansible/ansible/blob/840d3a9dd7d1233ab55aa9516fc9b44e4c865a81/test/lib/ansible_test/_data/sanity/yamllint/yamllinter.py#L171-L175",
        "createdAt" : "2020-06-08T16:25:12Z",
        "updatedAt" : "2020-06-11T16:01:06Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "b1bdfe26-7209-46b8-a0e8-ec72ea555bd0",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "I guess the main concern are third-party plugins that weren't tested with `ansible-test`. OTOH this only affects `ansible-doc` and `ansible-console`'s help, so I think it is an acceptable risk.",
        "createdAt" : "2020-06-08T18:02:21Z",
        "updatedAt" : "2020-06-11T16:01:06Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "151d7dad-fc24-4890-a6be-bef070b82bbd",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "@mattclay  also, this is not just modules, but other plugins, you sometimes have an 'ini file' or other 'non yaml content' that goes in this section, so we should not restrict at docs code.",
        "createdAt" : "2020-06-10T15:38:25Z",
        "updatedAt" : "2020-06-11T16:01:06Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "f68e6834-f871-4af4-a10c-700056ba29e3",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "@bcoca I *think* it checks all plugins, not just modules (despite the naming). Would have to check though...",
        "createdAt" : "2020-06-10T15:57:44Z",
        "updatedAt" : "2020-06-11T16:01:06Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "5b551be4-1517-4b91-a85e-d4ba399ba54f",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "@felixfontein Yes, the `yamllint` sanity test does check the docs on all plugin types except `module_utils`, despite the name of the function being `check_modules`.",
        "createdAt" : "2020-06-10T16:06:40Z",
        "updatedAt" : "2020-06-11T16:01:06Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "722443a9-ac3a-4697-b76f-fc083fc524ee",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "@mattclay have we made exceptions for certain plugins? some are using ini files in examples ?",
        "createdAt" : "2020-06-11T15:33:14Z",
        "updatedAt" : "2020-06-11T16:01:06Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "a306da04-06c9-4208-b0dc-7e658bf3b517",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "Not that I'm aware of.",
        "createdAt" : "2020-06-11T16:39:34Z",
        "updatedAt" : "2020-06-11T16:39:35Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "9a3ef31f-4ccb-4b3e-bf77-854b781c6547",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "```\r\nEXAMPLES = r'''\r\n    # define 2 hosts in command line\r\n    # ansible -i '10.10.2.6, 10.10.2.4' -m ping all\r\n\r\n    # DNS resolvable names\r\n    # ansible -i 'host1.example.com, host2' -m user -a 'name=me state=absent' all\r\n\r\n    # just use localhost\r\n    # ansible-playbook -i 'localhost,' play.yml -c local\r\n```\r\nseems people have been 'creative' to avoid the restriction, we really should not make this a strict requirement",
        "createdAt" : "2020-06-11T16:49:06Z",
        "updatedAt" : "2020-06-11T16:49:06Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "ff777ce2-fc46-48a4-8534-6786e3f4fda8",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "specially since nothing will display if we treat it as yaml (currently its processed as string)",
        "createdAt" : "2020-06-11T16:49:50Z",
        "updatedAt" : "2020-06-11T16:49:50Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "4200e185-2238-4f46-8d4b-491be4eb317c",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "```\r\nEXAMPLES = '''\r\n  example1: |\r\n      # example cfg file\r\n      [web]\r\n      host1\r\n      host2 ansible_port=222 # defined inline, interpreted as an integer\r\n\r\n      [web:vars]\r\n```",
        "createdAt" : "2020-06-11T16:50:25Z",
        "updatedAt" : "2020-06-11T16:50:26Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "1e4a4349-f4f8-4ae8-8e1a-09d3af8b558e",
        "parentId" : "fe1a591c-e5c0-421d-a43d-53db27ac04a2",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "I know that examples is not valid structured yaml for a large number of plugins.  Perhaps yamllint decides it's a valid yaml string?",
        "createdAt" : "2020-06-11T17:02:37Z",
        "updatedAt" : "2020-06-11T17:02:38Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "e888023d69bc114ff793c2d748bae617afb2f7fc",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +58,62 @@                        else:\n                            if theid == 'EXAMPLES':\n                                # examples 'can' be yaml, but even if so, we dont want to parse as such here\n                                # as it can create undesired 'objects' that don't display well as docs.\n                                data[varkey] = to_text(child.value.s)"
  }
]