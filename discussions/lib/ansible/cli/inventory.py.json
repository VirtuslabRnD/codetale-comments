[
  {
    "id" : "12627b64-ea11-4c50-b624-397b4a386ee7",
    "prId" : 36188,
    "prUrl" : "https://github.com/ansible/ansible/pull/36188#pullrequestreview-96600583",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a4ce265c-f848-47a0-a272-ed0833ece070",
        "parentId" : null,
        "authorId" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "body" : "The help blurb is kind of vague. optimized how and for what?",
        "createdAt" : "2018-02-14T17:22:14Z",
        "updatedAt" : "2018-02-14T17:49:56Z",
        "lastEditedBy" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "tags" : [
        ]
      },
      {
        "id" : "7a88d220-80ea-4c0c-9d2e-3a44714a3732",
        "parentId" : "a4ce265c-f848-47a0-a272-ed0833ece070",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "for export .. as for 'how' .. it seems too long to detail here.",
        "createdAt" : "2018-02-14T17:55:21Z",
        "updatedAt" : "2018-02-14T17:55:21Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "fc904192-0870-4491-b562-76e5281ec8fe",
        "parentId" : "a4ce265c-f848-47a0-a272-ed0833ece070",
        "authorId" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "body" : "Just to make an attempt at word-smithing\r\n\r\n> When doing an --list, represent shared variables inside groups or the inventory,\r\n> which has a smaller memory footprint but is not Ansible's internal representation",
        "createdAt" : "2018-02-14T18:02:46Z",
        "updatedAt" : "2018-02-14T18:02:46Z",
        "lastEditedBy" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "tags" : [
        ]
      },
      {
        "id" : "087044de-95a8-4534-a799-697402faf91d",
        "parentId" : "a4ce265c-f848-47a0-a272-ed0833ece070",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "i'll just merge as is for now, let the 'wordsmithing' update it in latter patches so as to not keep this waiting",
        "createdAt" : "2018-02-14T18:07:48Z",
        "updatedAt" : "2018-02-14T18:07:48Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "e404ea3e8a71ed2255b15e86c8da7779327d9b77",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +98,102 @@        self.parser.add_option(\"--export\", action=\"store_true\", default=C.INVENTORY_EXPORT, dest='export',\n                               help=\"When doing an --list, represent in a way that is optimized for export,\"\n                                    \"not as an accurate representation of how Ansible has processed it\")\n        # self.parser.add_option(\"--ignore-vars-plugins\", action=\"store_true\", default=False, dest='ignore_vars_plugins',\n        #                       help=\"When doing an --list, skip vars data from vars plugins, by default, this would include group_vars/ and host_vars/\")"
  },
  {
    "id" : "846e4b82-ed3e-4710-a631-44f77d2605e0",
    "prId" : 41593,
    "prUrl" : "https://github.com/ansible/ansible/pull/41593#pullrequestreview-130492334",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cd4e3b1a-cd46-4f7f-87cb-f46fb2479f1b",
        "parentId" : null,
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "These changes to add `--toml` to `ansible-inventory` aren't really necessary. Although I figured it would more easily enable someone to convert from ini to toml if we for some reason decided to make that push.",
        "createdAt" : "2018-06-20T16:47:43Z",
        "updatedAt" : "2018-11-05T22:56:09Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      },
      {
        "id" : "562ef764-1fe9-48f7-ab3f-518224c24692",
        "parentId" : "cd4e3b1a-cd46-4f7f-87cb-f46fb2479f1b",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "im fine with this one, agreed that it is nice for those changing formats",
        "createdAt" : "2018-06-20T16:50:00Z",
        "updatedAt" : "2018-11-05T22:56:09Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "a92391547ee0b20bb1b08768f0abcd2ab229a7a2",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +96,100 @@                               help='Use YAML format instead of default JSON, ignored for --graph')\n        self.parser.add_option('--toml', action='store_true', default=False, dest='toml',\n                               help='Use TOML format instead of default JSON, ignored for --graph')\n        self.parser.add_option(\"--vars\", action=\"store_true\", default=False, dest='show_vars',\n                               help='Add vars to graph display, ignored unless used with --graph')"
  },
  {
    "id" : "d0738692-170d-47cc-8e2a-461d67a178c1",
    "prId" : 41593,
    "prUrl" : "https://github.com/ansible/ansible/pull/41593#pullrequestreview-164414345",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6eb2af64-2abf-446a-9fb5-1144ccc44eb6",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "How about:\r\n```python\r\nget_inv = self.yaml_inventory if self.options.yaml else self.toml_inventory if self.options.toml else self.json_inventory\r\nresults = get_inv(top)\r\n```",
        "createdAt" : "2018-10-12T21:00:54Z",
        "updatedAt" : "2018-11-05T22:56:09Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "da517a88-0aba-42b5-812d-ca870efaf779",
        "parentId" : "6eb2af64-2abf-446a-9fb5-1144ccc44eb6",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Or even better: https://github.com/ansible/ansible/pull/41593/files#r224919116",
        "createdAt" : "2018-10-12T21:25:14Z",
        "updatedAt" : "2018-11-05T22:56:09Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "f27400c2-063d-4edc-bd9d-25804114e51f",
        "parentId" : "6eb2af64-2abf-446a-9fb5-1144ccc44eb6",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "@sivel ^",
        "createdAt" : "2018-10-12T21:25:23Z",
        "updatedAt" : "2018-11-05T22:56:09Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "a92391547ee0b20bb1b08768f0abcd2ab229a7a2",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +177,181 @@        elif self.options.list:\n            top = self._get_group('all')\n            if self.options.yaml:\n                results = self.yaml_inventory(top)\n            elif self.options.toml:"
  },
  {
    "id" : "a82513d0-888f-4253-ad7a-c46719b697c8",
    "prId" : 41593,
    "prUrl" : "https://github.com/ansible/ansible/pull/41593#pullrequestreview-164414241",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d12ff38a-cc1d-4cb8-a3dd-2c2d1ef3bf27",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "@sivel how about:\r\n```python\r\nself.parser.add_option('--json', action='store_const', dest='get_inventory', const=self.json_inventory, default=self.json_inventory)\r\nself.parser.add_option('-y', '--yaml', action='store_const', dest='get_inventory', const=self.yaml_inventory)\r\nself.parser.add_option('--toml', action='store_const', dest='get_inventory', const=self.toml_inventory)\r\n```\r\n\r\nAnd then below just:\r\n```python\r\nresults = self.options.get_inventory(top)\r\n```",
        "createdAt" : "2018-10-12T21:24:57Z",
        "updatedAt" : "2018-11-05T22:56:09Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "a92391547ee0b20bb1b08768f0abcd2ab229a7a2",
    "line" : 2,
    "diffHunk" : "@@ -1,1 +93,97 @@\n        # graph\n        self.parser.add_option(\"-y\", \"--yaml\", action=\"store_true\", default=False, dest='yaml',\n                               help='Use YAML format instead of default JSON, ignored for --graph')\n        self.parser.add_option('--toml', action='store_true', default=False, dest='toml',"
  },
  {
    "id" : "4ef94224-ffa8-4d17-ad8c-780ca83d1e94",
    "prId" : 74912,
    "prUrl" : "https://github.com/ansible/ansible/pull/74912#pullrequestreview-680093796",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7a1370db-8f63-4742-b545-c6dfbcd4ceb2",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "use to_text on the return, then all cases will be covered",
        "createdAt" : "2021-06-09T15:56:34Z",
        "updatedAt" : "2021-06-09T15:56:34Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "b7e31c54-4186-499c-a132-6e19fa67f7ca",
        "parentId" : "7a1370db-8f63-4742-b545-c6dfbcd4ceb2",
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "Others already return `text`, though doing `to_text` on return might cover new formats, if we add them.\r\n\r\nThe remaining test case that fails is `--list --toml`. `toml` does some magic on Python 2 and escapes `\\u1234` to `\\\\u1234` and then we display `\\u1234` instead of the actual character. I am not sure I want to fight with this just to fix it for Python 2...",
        "createdAt" : "2021-06-09T16:08:23Z",
        "updatedAt" : "2021-06-09T16:08:23Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "9d046e5c-1b2a-4502-91cd-ee1e4bd49128",
        "parentId" : "7a1370db-8f63-4742-b545-c6dfbcd4ceb2",
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "Since it's Py2, and controller, we should just ignore py2.",
        "createdAt" : "2021-06-09T16:21:30Z",
        "updatedAt" : "2021-06-09T16:21:30Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      },
      {
        "id" : "2f4e332b-6419-4d0f-b8f7-4f09ba841483",
        "parentId" : "7a1370db-8f63-4742-b545-c6dfbcd4ceb2",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "it is a consideration for the backport",
        "createdAt" : "2021-06-09T16:22:05Z",
        "updatedAt" : "2021-06-09T16:22:06Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "b3cbc796-f5ed-4d71-a0c5-4bc0e4d935aa",
        "parentId" : "7a1370db-8f63-4742-b545-c6dfbcd4ceb2",
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "Since toml doesn't support any configuration for unicode, I wouldn't worry with it either way.",
        "createdAt" : "2021-06-09T19:59:11Z",
        "updatedAt" : "2021-06-09T19:59:11Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      }
    ],
    "commit" : "8cf1136215667efe2f262c614d306bd60612c32f",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +173,177 @@            import yaml\n            from ansible.parsing.yaml.dumper import AnsibleDumper\n            results = to_text(yaml.dump(stuff, Dumper=AnsibleDumper, default_flow_style=False, allow_unicode=True))\n        elif context.CLIARGS['toml']:\n            from ansible.plugins.inventory.toml import toml_dumps, HAS_TOML"
  }
]