[
  {
    "id" : "420cd3e8-571a-4461-b48e-038f14b59233",
    "prId" : 34854,
    "prUrl" : "https://github.com/ansible/ansible/pull/34854#pullrequestreview-88876285",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6ad892c0-4db8-4c43-84d7-198ad4ccd287",
        "parentId" : null,
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "In order to allow zero value for `timeout` key, should not that be like this ?\r\n```\r\n'timeout': self.module.params.get('api_timeout', config.get('timeout', 10)),\r\n```",
        "createdAt" : "2018-01-14T22:52:29Z",
        "updatedAt" : "2018-01-14T22:58:27Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      },
      {
        "id" : "7a8566d2-0f32-4eeb-8c0d-7ffa73a1fff7",
        "parentId" : "6ad892c0-4db8-4c43-84d7-198ad4ccd287",
        "authorId" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "body" : "I see your point, but timeout 0 looks not something useful to me for a real live use case. \r\nCould be probably helpful for integration tests in terms of \"what happens if the request times out\" though.\r\n\r\nBut then I would suggest:\r\n~~~python \r\ntimeout': self.module.params.get('api_timeout') if self.module.params.get('api_timeout') is not None else config.get('timeout', 10),\r\n~~~\r\nbecause the `params` dict always has the key `api_timeout`",
        "createdAt" : "2018-01-15T07:09:42Z",
        "updatedAt" : "2018-01-15T08:14:29Z",
        "lastEditedBy" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "tags" : [
        ]
      },
      {
        "id" : "3062a77d-e072-44ee-9533-780c6a411203",
        "parentId" : "6ad892c0-4db8-4c43-84d7-198ad4ccd287",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "Indeed. Besides current code should not be updated: zero isn't a valid ([1](https://github.com/exoscale/cs/blob/master/cs/client.py#L136)) value ([2](https://github.com/requests/requests/blob/master/requests/adapters.py#L431)):\r\n\r\n```\r\nIn [3]: from urllib3.util import Timeout\r\nIn [4]: timeout = Timeout(connect=0, read=0)\r\n[...]\r\nValueError: Attempted to set connect timeout to 0, but the timeout cannot be set to a value less than or equal to 0.\r\n```",
        "createdAt" : "2018-01-15T16:24:56Z",
        "updatedAt" : "2018-01-15T16:24:56Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      },
      {
        "id" : "0a9e5ca0-514a-481a-b37e-a5b967a39f78",
        "parentId" : "6ad892c0-4db8-4c43-84d7-198ad4ccd287",
        "authorId" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "body" : "ðŸ‘Œ ",
        "createdAt" : "2018-01-15T16:32:53Z",
        "updatedAt" : "2018-01-15T16:32:53Z",
        "lastEditedBy" : "99dfb093-81dd-44d0-97be-6dcf3059e796",
        "tags" : [
        ]
      }
    ],
    "commit" : "164ff325ca8bdd1bbbf559c668fdb83a99528ea2",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +144,148 @@            'key': self.module.params.get('api_key') or config.get('key'),\n            'secret': self.module.params.get('api_secret') or config.get('secret'),\n            'timeout': self.module.params.get('api_timeout') or config.get('timeout') or 10,\n            'method': self.module.params.get('api_http_method') or config.get('method') or 'get',\n        }"
  }
]