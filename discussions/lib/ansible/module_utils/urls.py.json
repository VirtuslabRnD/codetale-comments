[
  {
    "id" : "adbc20ea-f8d4-4e81-a5f7-89562da7da75",
    "prId" : 16987,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ec39cf50-6c1d-432b-a102-72335f8ab8cd",
        "parentId" : null,
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "This module is really a replacement for `urllib.openurl()` which should never be used because it suffers from security limitation.  requests has similar security features as this module_util but is an external dependency and therefore would be an additional requirement on the remote machine.\n",
        "createdAt" : "2016-08-08T22:07:52Z",
        "updatedAt" : "2016-08-09T16:00:13Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "954e6329-d84b-4d32-b0ed-bc93a5d2ad77",
        "parentId" : "ec39cf50-6c1d-432b-a102-72335f8ab8cd",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Hmm.... I see in the original bug that ansible-modules-validate is throwing an error for using requests and that was part of what prompted this doc update.  That does make it a good idea to mention requests here.... What about something like:\n\n```\nThe **urls** utils module offers a replacement for the urllib2 python library.\n\nurllib2 is the python stdlib way to retrieve files from the Internet but it lacks some security features (around verifying SSL certificates) that users should care about in most situations.  using the functions in this module corrects deficiencies in the urllib2 module wherever possible.\n\nThere are also third-party libraries (for instance, requests) which can be used to replace urllib2 with a more secure library.  However, all third party libraries require that the library be installed on the managed machine.  That is an extra step for users making use of a module.  If possible, avoid third party libraries by using this code instead.\n```\n",
        "createdAt" : "2016-08-08T22:28:38Z",
        "updatedAt" : "2016-08-09T16:00:13Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "cbfa57177d92d59040b1e9512b378cc375f0c93e",
    "line" : null,
    "diffHunk" : "@@ -1,1 +95,99 @@for users making use of a module. If possible, avoid third party libraries by using\nthis code instead.\n'''\n\nimport netrc"
  },
  {
    "id" : "22b6a332-8450-40f9-94cd-e04d607ad2e4",
    "prId" : 16987,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a1c59c6d-3eab-46e7-81de-122468faa02c",
        "parentId" : null,
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "As long as you're clarifying the documentation, we could drop urllib2/urllib mention here.  It's not important to users of the function.\n",
        "createdAt" : "2016-08-08T22:08:56Z",
        "updatedAt" : "2016-08-09T16:00:13Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "cbfa57177d92d59040b1e9512b378cc375f0c93e",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +748,752 @@             force_basic_auth=False, follow_redirects='urllib2'):\n    '''\n    Sends a request via HTTP(S) or FTP using urllib2 (Python2) or urllib (Python3)\n\n    Does not require the module environment"
  },
  {
    "id" : "2f38deea-09ea-4527-8a52-2a8b478f4e29",
    "prId" : 18296,
    "prUrl" : "https://github.com/ansible/ansible/pull/18296#pullrequestreview-6823856",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f37692fb-6ba8-4b47-b4e9-4dc219fb474b",
        "parentId" : null,
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Is there a reason that we have to keep this separate from tmp_fd, tmp_path?\n",
        "createdAt" : "2016-11-02T04:02:53Z",
        "updatedAt" : "2016-11-02T16:21:40Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "362c8416-7dc5-4d51-9a5a-e23a1c50b2de",
        "parentId" : "f37692fb-6ba8-4b47-b4e9-4dc219fb474b",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "If we do have to keep it separate are we able to remove it when we remove tmp_path around line 728\n",
        "createdAt" : "2016-11-02T04:51:55Z",
        "updatedAt" : "2016-11-02T16:21:40Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "50c6d7a1-579e-423f-bb30-14b294895f95",
        "parentId" : "f37692fb-6ba8-4b47-b4e9-4dc219fb474b",
        "authorId" : "ef06f4b2-40f3-4d2d-bdb1-1ef34e811dff",
        "body" : "Yes. The reason for that is that the tmp_ca_cert_path is used in more places, and is expected to contain everything for further underlying libraries. This way, I can limit the specific list that we add to OpenSSL to non-previously-loaded without limiting the others.\n",
        "createdAt" : "2016-11-02T08:15:03Z",
        "updatedAt" : "2016-11-02T16:21:40Z",
        "lastEditedBy" : "ef06f4b2-40f3-4d2d-bdb1-1ef34e811dff",
        "tags" : [
        ]
      },
      {
        "id" : "39529027-2f7b-4b7e-a520-f167584a96e2",
        "parentId" : "f37692fb-6ba8-4b47-b4e9-4dc219fb474b",
        "authorId" : "ef06f4b2-40f3-4d2d-bdb1-1ef34e811dff",
        "body" : "And yes, we are able to remove it, and I'll add the code to do so.\n",
        "createdAt" : "2016-11-02T08:26:59Z",
        "updatedAt" : "2016-11-02T16:21:40Z",
        "lastEditedBy" : "ef06f4b2-40f3-4d2d-bdb1-1ef34e811dff",
        "tags" : [
        ]
      },
      {
        "id" : "642e7929-83ce-486e-aeae-c020fcda7e29",
        "parentId" : "f37692fb-6ba8-4b47-b4e9-4dc219fb474b",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Excellent.  :-)  I'll merge once that code is applied.\n",
        "createdAt" : "2016-11-02T14:25:32Z",
        "updatedAt" : "2016-11-02T16:21:40Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "96541c0e3f55b233ac9eaf8710235fa40057f977",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +593,597 @@\n        tmp_fd, tmp_path = tempfile.mkstemp()\n        to_add_fd, to_add_path = tempfile.mkstemp()\n        to_add = False\n"
  },
  {
    "id" : "b4c1e532-693d-48b0-ae8e-5359e7469c38",
    "prId" : 19962,
    "prUrl" : "https://github.com/ansible/ansible/pull/19962#pullrequestreview-31583969",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d793f9b1-562a-45bf-9387-dc8e9d67d454",
        "parentId" : null,
        "authorId" : "12c80785-ed7e-41b1-877c-4bdb8a7b78af",
        "body" : "I believe this message should be updated to reflect the latest workaround guidance from `urllib` found [here](https://urllib3.readthedocs.io/en/latest/user-guide.html#ssl-py2), to something like 'or you can install the `urllib3` package with the `secure` extra (`urllib3[secure]`), or the `cryptography`, `pyopenssl`, `idna`, and `certifi` packages that the `secure` extra bundles.'",
        "createdAt" : "2017-04-07T15:00:17Z",
        "updatedAt" : "2017-04-07T15:00:17Z",
        "lastEditedBy" : "12c80785-ed7e-41b1-877c-4bdb8a7b78af",
        "tags" : [
        ]
      }
    ],
    "commit" : "8dc0d37061734c5f0be18ae7b81872c197a8eee5",
    "line" : 66,
    "diffHunk" : "@@ -1,1 +558,562 @@                   ' python >= 2.7.9 on your managed machine')\n        if not HAS_URLLIB3_PYOPENSSLCONTEXT or not HAS_URLLIB3_SSL_WRAP_SOCKET:\n            msg.append('or you can install the `urllib3`, `pyOpenSSL`,'\n                       ' `ndg-httpsclient`, and `pyasn1` python modules')\n"
  },
  {
    "id" : "d0e2ca5e-b3b6-450c-a72f-e24b6f658125",
    "prId" : 32053,
    "prUrl" : "https://github.com/ansible/ansible/pull/32053#pullrequestreview-71330535",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bc6f0ffc-e4b7-4c67-9b26-4a6e9284bf89",
        "parentId" : null,
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "I like this. It should have been done this way to start with.",
        "createdAt" : "2017-10-23T21:08:28Z",
        "updatedAt" : "2017-10-23T21:08:28Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      }
    ],
    "commit" : "34ac0590882764ada5dacfc05b965da1ad4d321f",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +703,707 @@        if HAS_SSLCONTEXT:\n            context = create_default_context()\n        elif HAS_URLLIB3_PYOPENSSLCONTEXT:\n            context = PyOpenSSLContext(PROTOCOL)\n        else:"
  }
]