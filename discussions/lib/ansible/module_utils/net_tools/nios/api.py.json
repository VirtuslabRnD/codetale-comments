[
  {
    "id" : "9a3dcfe1-5b6e-4008-bec9-52c4645cab4d",
    "prId" : 35473,
    "prUrl" : "https://github.com/ansible/ansible/pull/35473#pullrequestreview-92665045",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b9218553-0dbe-4f3e-a13a-3267b7efdea5",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "Please could you document this here: https://github.com/ansible/ansible/blob/devel/lib/ansible/utils/module_docs_fragments/nios.py",
        "createdAt" : "2018-01-30T12:13:56Z",
        "updatedAt" : "2018-01-30T19:47:07Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      },
      {
        "id" : "70b7d5a6-f3e3-4afe-a5e7-37654e55a62c",
        "parentId" : "b9218553-0dbe-4f3e-a13a-3267b7efdea5",
        "authorId" : "53505ec0-59c9-4f17-92a8-0538ebcf346b",
        "body" : "Hello @gundalow \r\n\r\nOf course, I'll do it when I'm at home.\r\nI do not have what it takes in my workplace to be able to do it.\r\n",
        "createdAt" : "2018-01-30T15:52:32Z",
        "updatedAt" : "2018-01-30T19:47:07Z",
        "lastEditedBy" : "53505ec0-59c9-4f17-92a8-0538ebcf346b",
        "tags" : [
        ]
      },
      {
        "id" : "95fbd114-8b9b-4112-a893-2b95aeec4565",
        "parentId" : "b9218553-0dbe-4f3e-a13a-3267b7efdea5",
        "authorId" : "53505ec0-59c9-4f17-92a8-0538ebcf346b",
        "body" : "Hello @gundalow\r\n\r\nDone.\r\n\r\nBest regards,",
        "createdAt" : "2018-01-30T18:13:20Z",
        "updatedAt" : "2018-01-30T19:47:07Z",
        "lastEditedBy" : "53505ec0-59c9-4f17-92a8-0538ebcf346b",
        "tags" : [
        ]
      }
    ],
    "commit" : "5756bb02c023d5777fbb96452e41a723c7730765",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +52,56 @@    'max_retries': dict(type='int', default=3),\n    'wapi_version': dict(default='1.4'),\n    'max_results': dict(type='int', default=1000)\n}\n"
  },
  {
    "id" : "bbdc7971-d08c-46e3-8f1a-f40dc645a63b",
    "prId" : 53174,
    "prUrl" : "https://github.com/ansible/ansible/pull/53174#pullrequestreview-212662024",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4fcc81ee-8fc3-4ee7-9566-8940cda24a1b",
        "parentId" : null,
        "authorId" : "3374b5c2-684a-46fc-8052-1e21707ac879",
        "body" : "Can you give me an example which this recursive function is trying to resolve, coz this is heavy operation and need to check if your use case can be resolved in other ways.",
        "createdAt" : "2019-03-11T04:06:24Z",
        "updatedAt" : "2019-03-12T10:59:52Z",
        "lastEditedBy" : "3374b5c2-684a-46fc-8052-1e21707ac879",
        "tags" : [
        ]
      },
      {
        "id" : "381c8429-d356-4438-8209-4eadb175b65e",
        "parentId" : "4fcc81ee-8fc3-4ee7-9566-8940cda24a1b",
        "authorId" : "409359b9-e9d3-4db1-84e7-7e2ad1385996",
        "body" : "@justjais \r\nWhen no values are passed to some of the options in the module, it takes the value \"None\" like below.\r\n`{\r\n\t'comment': 'CreatedbyAnsible',\r\n\t'enable_ha': True,\r\n\t'node_info': [\r\n\t\t{\r\n\t\t\t'v6_mgmt_network_setting': None,\r\n\t\t\t'lan_ha_port_setting': {\r\n\t\t\t\t'mgmt_ipv6addr': None,\r\n\t\t\t\t'ha_port_setting': None,\r\n\t\t\t\t'lan_port_setting': None,\r\n\t\t\t\t'ha_ip_address': '192.168.1.70',\r\n\t\t\t\t'mgmt_lan': '192.168.1.80'\r\n\t\t\t},\r\n\t\t\t'mgmt_network_setting': None,\r\n\t\t\t'lan2_physical_setting': None\r\n\t\t},\r\n\t\t{\r\n\t\t\t'v6_mgmt_network_setting': None,\r\n\t\t\t'lan_ha_port_setting': {\r\n\t\t\t\t'mgmt_ipv6addr': None,\r\n\t\t\t\t'ha_port_setting': None,\r\n\t\t\t\t'lan_port_setting': None,\r\n\t\t\t\t'ha_ip_address': '192.168.1.71',\r\n\t\t\t\t'mgmt_lan': '192.168.1.81'\r\n\t\t\t},\r\n\t\t\t'mgmt_network_setting': None,\r\n\t\t\t'lan2_physical_setting': None\r\n\t\t}\r\n\t],\r\n\t'config_addr_type': 'IPV4',\r\n\t'router_id': 150,\r\n\t'host_name': 'member-ha.ansible-dev.com',\r\n\t'platform': 'VNIOS',\r\n\t'vip_setting': {\r\n\t\t'subnet_mask': '255.255.255.0',\r\n\t\t'gateway': '192.168.1.1',\r\n\t\t'address': '192.168.1.100'\r\n\t},\r\n\t'upgrade_group': 'Default'\r\n}`\r\nThe WAPI errors out in this situation with an error that requests for the right kind of input.\r\nIn order to avoid this, this function strips all the options set to to None from input , like below:\r\n`{\r\n\t'comment': 'CreatedbyAnsible',\r\n\t'enable_ha': True,\r\n\t'node_info': [\r\n\t\t{\r\n\t\t\t'lan_ha_port_setting': {\r\n\t\t\t\t'ha_ip_address': '192.168.1.70',\r\n\t\t\t\t'mgmt_lan': '192.168.1.80'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\t'lan_ha_port_setting': {\r\n\t\t\t\t'ha_ip_address': '192.168.1.71',\r\n\t\t\t\t'mgmt_lan': '192.168.1.81'\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\t'config_addr_type': 'IPV4',\r\n\t'router_id': 150,\r\n\t'host_name': 'member-ha.ansible-dev.com',\r\n\t'platform': 'VNIOS',\r\n\t'vip_setting': {\r\n\t\t'subnet_mask': '255.255.255.0',\r\n\t\t'gateway': '192.168.1.1',\r\n\t\t'address': '192.168.1.100'\r\n\t},\r\n\t'upgrade_group': 'Default'\r\n}`",
        "createdAt" : "2019-03-11T05:05:58Z",
        "updatedAt" : "2019-03-12T10:59:52Z",
        "lastEditedBy" : "409359b9-e9d3-4db1-84e7-7e2ad1385996",
        "tags" : [
        ]
      }
    ],
    "commit" : "1fd367eaefb6574f6deb32aca87f94ad1e7a1735",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +139,143 @@\ndef member_normalize(member_spec):\n    ''' Transforms the member module arguments into a valid WAPI struct\n    This function will transform the arguments into a structure that\n    is a valid WAPI structure in the format of:"
  }
]