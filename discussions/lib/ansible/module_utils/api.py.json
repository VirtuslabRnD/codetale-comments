[
  {
    "id" : "f6b55312-a32d-4897-be47-f9062be33580",
    "prId" : 74240,
    "prUrl" : "https://github.com/ansible/ansible/pull/74240#pullrequestreview-653807010",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f526da69-975f-4af1-b572-1a647daf62e1",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "I overlooked this small detail â€” the current implementation doesn't copy over the underlying function's metadata:\r\n```suggestion\r\n    @functools.wraps(function)  # FIXME: use wrapt once it's in\r\n    def function_wrapper(function):\r\n```\r\nThis is necessary for the discovery in REPL and docs generation tools to pick up the proper `__doc__` and the argspec.\r\n\r\nAlso, there's talk, https://wrapt.rtfd.io is going to become a runtime dependency for the sake of object proxies feature in 2.12. So in the future, it's probably best to use it instead (AFAIK it does a better job taking care of the decorator corner cases).",
        "createdAt" : "2021-05-04T21:40:23Z",
        "updatedAt" : "2021-05-06T19:52:31Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "7a4317b5-8de6-4eb2-966c-2bba1b5d6207",
        "parentId" : "f526da69-975f-4af1-b572-1a647daf62e1",
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Great catch, thanks.",
        "createdAt" : "2021-05-06T19:12:31Z",
        "updatedAt" : "2021-05-06T19:52:31Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "e6d43211a9332b6cfc9c01aa1c6ab64d2b9cd7eb",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +145,149 @@        should_retry_error = retry_never\n\n    def function_wrapper(function):\n        @functools.wraps(function)\n        def run_function(*args, **kwargs):"
  },
  {
    "id" : "4d0c0186-bb83-4905-8b62-0b8ca4fe20f8",
    "prId" : 74240,
    "prUrl" : "https://github.com/ansible/ansible/pull/74240#pullrequestreview-655876019",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fdffa83e-d2f1-4845-a45f-0f15e41121c4",
        "parentId" : null,
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "This is great. Much better than the exponential backoff I implemented for `reboot`.",
        "createdAt" : "2021-05-10T16:45:05Z",
        "updatedAt" : "2021-05-10T16:45:06Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "f985311c-14e0-439b-8222-de0405afb196",
        "parentId" : "fdffa83e-d2f1-4845-a45f-0f15e41121c4",
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Thanks. After this is merged I'm going to refactor the other places that have implemented retries to use common code (apt, apt_repository, reboot, and the GalaxyAPI import process).",
        "createdAt" : "2021-05-10T17:08:32Z",
        "updatedAt" : "2021-05-10T17:08:33Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "e6d43211a9332b6cfc9c01aa1c6ab64d2b9cd7eb",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +119,123 @@\n\ndef generate_jittered_backoff(retries=10, delay_base=3, delay_threshold=60):\n    \"\"\"The \"Full Jitter\" backoff strategy.\n"
  }
]