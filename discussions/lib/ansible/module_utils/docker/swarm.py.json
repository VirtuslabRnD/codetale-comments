[
  {
    "id" : "67a0b2f3-a26d-44ef-9ebe-d8dbedc3dcd9",
    "prId" : 53930,
    "prUrl" : "https://github.com/ansible/ansible/pull/53930#pullrequestreview-216081587",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cc0f8a1b-84b3-4e14-a4e8-f47f6f8876a2",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "A simple way to make it also work with IPv6 is the following:\r\n```.py\r\naddr = node_info['ManagerStatus']['Addr']\r\ni = addr.rfind(':')\r\nif i >= 0:\r\n    addr = addr[:i]\r\nif addr.startswith('[') and addr.endswith(']'):\r\n    addr = addr[1:-1]\r\nif addr:\r\n    node_info['Status']['Addr'] = addr\r\n```",
        "createdAt" : "2019-03-19T05:32:44Z",
        "updatedAt" : "2019-03-19T10:57:52Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "313200c6-2824-48d9-a811-a28d0f4557f5",
        "parentId" : "cc0f8a1b-84b3-4e14-a4e8-f47f6f8876a2",
        "authorId" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "body" : "But there is no information the bug even exists when IPv6 is in use.",
        "createdAt" : "2019-03-19T10:53:01Z",
        "updatedAt" : "2019-03-19T10:57:52Z",
        "lastEditedBy" : "1428242b-3bf6-4d26-9606-a4186f69e21b",
        "tags" : [
        ]
      }
    ],
    "commit" : "b8045a77f59d2c656ca7a4b49fcdfd39b4f9d7df",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +173,177 @@                # This is workaround of bug in Docker when in some cases the Leader IP is 0.0.0.0\n                # Check moby/moby#35437 for details\n                count_colons = node_info['ManagerStatus']['Addr'].count(\":\")\n                if count_colons == 1:\n                    swarm_leader_ip = node_info['ManagerStatus']['Addr'].split(\":\", 1)[0] or node_info['Status']['Addr']"
  }
]