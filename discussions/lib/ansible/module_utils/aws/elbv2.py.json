[
  {
    "id" : "8177b38f-ea8d-4aef-af56-1a4f937978c1",
    "prId" : 33769,
    "prUrl" : "https://github.com/ansible/ansible/pull/33769#pullrequestreview-102764257",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a7cc82be-f7c0-46f8-8519-a5f3485503f8",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Since current_listener and new_listener are dictionaries, you could make them hashable for easy comparison. The compare_policies function in module_utils.ec2 is being used for that in the aws_waf_condition module.\r\n```\r\nfrom ansible.module_utils.ec2 import compare_policies as compare_dicts\r\n...\r\ndef _compare_listener(self, current_listener, new_listener):\r\n    if compare_dicts(current_listener, new_listener):\r\n        # the dictionaries are different\r\n        return new_listener\r\n    else:\r\n        return None\r\n```",
        "createdAt" : "2018-03-12T16:40:24Z",
        "updatedAt" : "2018-05-04T18:37:17Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6629ea73a52645d5461c87e91a0538146aabb85e",
    "line" : 485,
    "diffHunk" : "@@ -1,1 +483,487 @@        return listeners_to_add, listeners_to_modify, listeners_to_delete\n\n    def _compare_listener(self, current_listener, new_listener):\n        \"\"\"\n        Compare two listeners."
  },
  {
    "id" : "3ac530e9-a4b8-4902-9b9f-4d9186ab47d4",
    "prId" : 33769,
    "prUrl" : "https://github.com/ansible/ansible/pull/33769#pullrequestreview-102764257",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "45e1b71d-215b-4f50-aae7-d95232e99139",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "This function may also be able to use compare_policies to cut down on the logic.",
        "createdAt" : "2018-03-12T17:54:40Z",
        "updatedAt" : "2018-05-04T18:37:17Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6629ea73a52645d5461c87e91a0538146aabb85e",
    "line" : 649,
    "diffHunk" : "@@ -1,1 +647,651 @@\n        # Priority\n        if current_rule['Priority'] != new_rule['Priority']:\n            modified_rule['Priority'] = new_rule['Priority']\n"
  },
  {
    "id" : "061e8191-c161-4eed-bb39-fe86ba833dcd",
    "prId" : 33769,
    "prUrl" : "https://github.com/ansible/ansible/pull/33769#pullrequestreview-115797777",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e8cac3cb-5dc3-4ce5-b86c-e4bad884279a",
        "parentId" : null,
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "Can we have helpful messages when failing? I tend to like `module.fail_json_aws(e, \"Couldn't get tags\")` but perhaps I'm being fussy and perhaps it's obvious from the stacktrace.",
        "createdAt" : "2018-04-24T10:53:25Z",
        "updatedAt" : "2018-05-04T18:37:17Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      },
      {
        "id" : "c91946b0-0ef3-4d98-abe4-753c1e68ff13",
        "parentId" : "e8cac3cb-5dc3-4ce5-b86c-e4bad884279a",
        "authorId" : "8e448afa-36a6-4325-b7c1-0522cb01977c",
        "body" : "I always find AWS messages good enough and a lot of the other modules i've written rely on that.  I haven't seen any noise in the issues to make me think that other users don't think the same.  Happy to accomodate though.",
        "createdAt" : "2018-04-27T01:29:50Z",
        "updatedAt" : "2018-05-04T18:37:17Z",
        "lastEditedBy" : "8e448afa-36a6-4325-b7c1-0522cb01977c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6629ea73a52645d5461c87e91a0538146aabb85e",
    "line" : 101,
    "diffHunk" : "@@ -1,1 +99,103 @@            )(ResourceArns=[self.elb['LoadBalancerArn']])['TagDescriptions'][0]['Tags']\n        except (BotoCoreError, ClientError) as e:\n            self.module.fail_json_aws(e)\n\n    def delete_tags(self, tags_to_delete):"
  },
  {
    "id" : "93e2a2d3-973a-47be-9dfa-80e7131bb52d",
    "prId" : 33769,
    "prUrl" : "https://github.com/ansible/ansible/pull/33769#pullrequestreview-115797133",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1bd76798-597f-4e28-a055-03d71ab5b757",
        "parentId" : null,
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "Not sure that this couldn't just use module.fail_json_aws(e)",
        "createdAt" : "2018-04-24T10:54:29Z",
        "updatedAt" : "2018-05-04T18:37:17Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      },
      {
        "id" : "f16c42fa-c712-44dc-abe7-f411090b3314",
        "parentId" : "1bd76798-597f-4e28-a055-03d71ab5b757",
        "authorId" : "8e448afa-36a6-4325-b7c1-0522cb01977c",
        "body" : "I'm not familiar enough with fail_json_aws but this exception wont be from AWS so i'm assuming not.  Could be wrong.",
        "createdAt" : "2018-04-27T01:24:42Z",
        "updatedAt" : "2018-05-04T18:37:17Z",
        "lastEditedBy" : "8e448afa-36a6-4325-b7c1-0522cb01977c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6629ea73a52645d5461c87e91a0538146aabb85e",
    "line" : 224,
    "diffHunk" : "@@ -1,1 +222,226 @@                )(module.params.get('security_groups'), self.connection_ec2, boto3=True)\n            except ValueError as e:\n                self.module.fail_json(msg=str(e), exception=traceback.format_exc())\n            except (BotoCoreError, ClientError) as e:\n                self.module.fail_json_aws(e)"
  },
  {
    "id" : "c5e1a32c-4d08-4505-83c6-5367f07dc0e7",
    "prId" : 33769,
    "prUrl" : "https://github.com/ansible/ansible/pull/33769#pullrequestreview-115797416",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4cb54c2b-5859-40f2-a836-275539885d33",
        "parentId" : null,
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "This looks fairly similar for both kinds of load balancer, other than the security_groups - could this be lifted into the parent class?",
        "createdAt" : "2018-04-24T10:56:56Z",
        "updatedAt" : "2018-05-04T18:37:17Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      },
      {
        "id" : "3ed77f98-7455-4671-bc05-6f12b0d6046f",
        "parentId" : "4cb54c2b-5859-40f2-a836-275539885d33",
        "authorId" : "8e448afa-36a6-4325-b7c1-0522cb01977c",
        "body" : "Yes, it probably could, but for future-proofing i think it's best to leave here.  Who knows how the two types may diverge in the future or even if there will be a third or fourth type that has very different options.",
        "createdAt" : "2018-04-27T01:27:07Z",
        "updatedAt" : "2018-05-04T18:37:17Z",
        "lastEditedBy" : "8e448afa-36a6-4325-b7c1-0522cb01977c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6629ea73a52645d5461c87e91a0538146aabb85e",
    "line" : 234,
    "diffHunk" : "@@ -1,1 +232,236 @@        self.idle_timeout = module.params.get(\"idle_timeout\")\n\n    def create_elb(self):\n        \"\"\"\n        Create a load balancer"
  }
]