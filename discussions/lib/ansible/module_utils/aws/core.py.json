[
  {
    "id" : "edd20a60-16a7-4e11-9330-84aea1d958c9",
    "prId" : 25780,
    "prUrl" : "https://github.com/ansible/ansible/pull/25780#pullrequestreview-49326422",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4abf277f-0c6d-4152-b4c0-b6665210e17c",
        "parentId" : null,
        "authorId" : "06ab4cf8-4a18-478e-93ee-69929f4bffc6",
        "body" : "Er, wait, shouldn't HAS_BOTO3 be available without this? ",
        "createdAt" : "2017-07-10T18:09:47Z",
        "updatedAt" : "2017-07-10T18:09:47Z",
        "lastEditedBy" : "06ab4cf8-4a18-478e-93ee-69929f4bffc6",
        "tags" : [
        ]
      },
      {
        "id" : "2c5bdfb4-ea38-4606-ba4d-aff0f5588b39",
        "parentId" : "4abf277f-0c6d-4152-b4c0-b6665210e17c",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "It should.  I'm going to merge this and then fix that.  Although, @mikedlr down the road we probably want to move the things that are definitely going into the new ```aws.core``` api into this file and have the older file import them for use there.",
        "createdAt" : "2017-07-11T20:54:30Z",
        "updatedAt" : "2017-07-11T20:54:30Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "3aa7238a20a6728dd8936738499e55b96971ddae",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +53,57 @@\n# We will also export HAS_BOTO3 so end user modules can use it.\nHAS_BOTO3 = HAS_BOTO3\n\n"
  },
  {
    "id" : "206e9baf-b443-4aef-b368-4f1ce4ff8413",
    "prId" : 49312,
    "prUrl" : "https://github.com/ansible/ansible/pull/49312#pullrequestreview-191926561",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "30debf80-928b-4260-a7f3-5688affd590f",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "It would be nice if this was a list of (action, resource_arn) pairs, but I'm still trying to find any ARN logging",
        "createdAt" : "2018-11-29T16:12:48Z",
        "updatedAt" : "2019-03-13T21:34:44Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      },
      {
        "id" : "cea01909-494b-4d7a-8e20-106a382cd258",
        "parentId" : "30debf80-928b-4260-a7f3-5688affd590f",
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "@mattclay Searching to no avail, the closest I can get to generating resource restrictions is by scraping the AWS documentation. The targeted resources are not logged and I can't find a way to construct them from anything in botocore.\r\n\r\nHere's a script that takes the output from this callback and creates a policy with the documented resource restrictions: https://gist.github.com/s-hertel/00ffb9285c417c5955eab63a042a8c32.",
        "createdAt" : "2019-01-12T04:39:01Z",
        "updatedAt" : "2019-03-13T21:34:44Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "956d0e21348881054f35847ebbbc265865e6a17f",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +150,154 @@                operation_request = found_operational_request.group(0)[20:-1]\n                resource = re.search(r\"https://.*?\\.\", ln).group(0)[8:-1]\n                actions.append(\"{0}:{1}\".format(resource, operation_request))\n        return list(set(actions))\n"
  },
  {
    "id" : "50d9b773-ff9d-4195-b799-1824c83f5b91",
    "prId" : 49312,
    "prUrl" : "https://github.com/ansible/ansible/pull/49312#pullrequestreview-194767657",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4953f550-2c6c-4baf-b54c-a7cf13ab1298",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "Refactor these two lines into a function and call it from the exit_json, fail_json and fail_json_aws.\r\n\r\nMaybe just move the logic into _get_resource_action_list and rename it.",
        "createdAt" : "2019-01-15T18:22:25Z",
        "updatedAt" : "2019-03-13T21:34:44Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "f7526d84-0b44-4150-8971-a0cfc317f7c4",
        "parentId" : "4953f550-2c6c-4baf-b54c-a7cf13ab1298",
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "I refactored but didn't move the logic into `_get_resource_action_list`because it was intended to collect unique actions an individual task uses. Not strictly necessary for collecting actions a given playbook uses, but I thought having the finer grain of control had merit.",
        "createdAt" : "2019-01-21T21:32:45Z",
        "updatedAt" : "2019-03-13T21:34:44Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "956d0e21348881054f35847ebbbc265865e6a17f",
    "line" : 49,
    "diffHunk" : "@@ -1,1 +155,159 @@    def exit_json(self, *args, **kwargs):\n        if self.params.get('debug_botocore_endpoint_logs'):\n            kwargs['resource_actions'] = self._get_resource_action_list()\n        return self._module.exit_json(*args, **kwargs)\n"
  }
]