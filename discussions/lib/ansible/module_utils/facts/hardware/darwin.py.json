[
  {
    "id" : "c266e2cf-565f-440c-9c1b-cbe4b823358d",
    "prId" : 56813,
    "prUrl" : "https://github.com/ansible/ansible/pull/56813#pullrequestreview-348088664",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dcc4457e-a478-4fb7-9d26-d5bca6babfec",
        "parentId" : null,
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "I added this so that we always return a value for `ansible_memfree_mb`. In the current code in `devel`, if `vm_stat` isn't found, that will set `vm_stat_command` to `None`, which gets passed to `run_command()`. That results in the following error:\r\n\r\n```\r\nlocalhost | FAILED! => {\r\n    \"changed\": false,\r\n    \"cmd\": null,\r\n    \"msg\": \"Argument 'args' to run_command must be list or string\",\r\n    \"rc\": 257\r\n}\r\n```\r\n\r\nSo I kept the same behavior, which is setting `vm_stat_command` to `None`, but I added a conditional that avoids calling `run_command()` with a value of `None`.\r\n\r\nI could probably do this differently, but that's the reasoning behind this change.",
        "createdAt" : "2020-01-24T16:54:10Z",
        "updatedAt" : "2020-01-27T20:08:39Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      }
    ],
    "commit" : "e0e18b2af29ff08e868387082df828fdf0684f31",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +87,91 @@        memory_facts = {\n            'memtotal_mb': int(self.sysctl['hw.memsize']) // 1024 // 1024,\n            'memfree_mb': 0,\n        }\n"
  }
]