[
  {
    "id" : "7c0fb819-c383-4a54-8ccf-b7b230787ba3",
    "prId" : 59126,
    "prUrl" : "https://github.com/ansible/ansible/pull/59126#pullrequestreview-266708630",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "898d91bd-1521-4d29-b43f-d01f0c15d468",
        "parentId" : null,
        "authorId" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "body" : "I think these `_exclude` keys should be in `_template` instead of each command key.",
        "createdAt" : "2019-07-22T12:10:26Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "tags" : [
        ]
      },
      {
        "id" : "53a5a8f4-2807-4561-8ebb-9e213d81be7a",
        "parentId" : "898d91bd-1521-4d29-b43f-d01f0c15d468",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "Do we support that in CmdRef today?",
        "createdAt" : "2019-07-22T13:26:42Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      },
      {
        "id" : "a257a682-39ec-41c7-8858-2c9d149130df",
        "parentId" : "898d91bd-1521-4d29-b43f-d01f0c15d468",
        "authorId" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "body" : "Didn't need it before. We should have it though. \r\n\r\nThis might do it:\r\n\r\n```\r\n        # Remove excluded commands (no platform support for command)\r\n+       if plat in ref[_template].get('_exclude', ''):\r\n+           ref['commands'] = []\r\n+           # raise/warn  ?\r\n+           return\r\n\r\n        for k in ref['commands']:\r\n            if plat in ref[k].get('_exclude', ''):\r\n                ref['commands'].remove(k)\r\n```\r\n\r\nRef:\r\nhttps://github.com/ansible/ansible/blob/c963dae27427cc695c5c9419d7a8c26914ad8939/lib/ansible/module_utils/network/nxos/nxos.py#L836-L839",
        "createdAt" : "2019-07-22T14:28:57Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "tags" : [
        ]
      },
      {
        "id" : "073b7052-d50a-4a9d-aaff-3eab3190d037",
        "parentId" : "898d91bd-1521-4d29-b43f-d01f0c15d468",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "I would prefer to make this change in a follow on PR to minimize the changes here.  The code is working as is and I would like to get this base set changes committed and then make incremental improvements from there.",
        "createdAt" : "2019-07-25T15:29:22Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ffd6a793c2a6717c5a353bbfddfd9f03e630912",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +24,28 @@    - telemetry\ncertificate:\n  _exclude: ['N3K', 'N5K', 'N6k', 'N7k']\n  kind: dict\n  getval: certificate (?P<key>\\\\S+) (?P<hostname>\\\\S+)$"
  }
]