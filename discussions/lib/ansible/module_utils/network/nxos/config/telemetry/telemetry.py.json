[
  {
    "id" : "8b061edb-acd6-4929-bc6c-a4fd4671d279",
    "prId" : 59126,
    "prUrl" : "https://github.com/ansible/ansible/pull/59126#pullrequestreview-264855056",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f30632bd-2353-4c8a-bd12-da537b8c4e6c",
        "parentId" : null,
        "authorId" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "body" : "How do we know when to use `edit_config` versus `load_config`? It looks like `load_config` actually calls `edit_config`.",
        "createdAt" : "2019-07-22T12:17:59Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "tags" : [
        ]
      },
      {
        "id" : "a82bb76f-8d2f-4d9f-9861-5c4946497e5d",
        "parentId" : "f30632bd-2353-4c8a-bd12-da537b8c4e6c",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "In this case this is boiler plate code.  I have load_config commented out because once we add nxapi and httpapi we will need to call `load_config` since `edit_config` is currently only available for network_cli if I remember correctly.",
        "createdAt" : "2019-07-22T13:27:58Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      },
      {
        "id" : "af207dda-5dbe-4fb7-ad2e-e0b6a11f9a40",
        "parentId" : "f30632bd-2353-4c8a-bd12-da537b8c4e6c",
        "authorId" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "body" : "ah, okay. Can you add that comment to the code? Got a feeling we'll forget the why if it's not commented.",
        "createdAt" : "2019-07-22T14:30:09Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ffd6a793c2a6717c5a353bbfddfd9f03e630912",
    "line" : 98,
    "diffHunk" : "@@ -1,1 +96,100 @@                # or add support to httpapi for edit_config\n                #\n                # self._connection.load_config(commands)\n            result['changed'] = True\n        result['commands'] = commands"
  },
  {
    "id" : "b29aaf17-103f-4f0a-a414-777b7caf3e70",
    "prId" : 59126,
    "prUrl" : "https://github.com/ansible/ansible/pull/59126#pullrequestreview-266708630",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9be3e27c-a88c-428a-8620-27416f592444",
        "parentId" : null,
        "authorId" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "body" : "nit... slightly(?) cleaner init:\r\n\r\n```\r\ncmd_ref = dict.fromkeys([\r\n    'TMS_GLOBAL',\r\n    'TMS_DESTGROUP',\r\n    'TMS_SENSORGROUP',\r\n    'TMS_SUBSCRIPTION'], {})\r\n```",
        "createdAt" : "2019-07-22T12:26:57Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "tags" : [
        ]
      },
      {
        "id" : "f7576ddf-4236-4cd1-9a60-961ed0affd18",
        "parentId" : "9be3e27c-a88c-428a-8620-27416f592444",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "Actually ðŸ‘Ž .  Turns out I can't use this.  There is some odd behavior documented in various places for `dict.fromkeys()` . Sample article (https://www.reddit.com/r/learnpython/comments/akddk9/odd_dictionary_behavior_with_dictfromkeys/)\r\n\r\nLooks like it works well for immutable values.\r\n\r\nHere is an example for one of my tests. \r\n\r\ncmd_ref should contain this:\r\n\r\n```\r\n(Pdb) pprint(cmd_ref)\r\n{'TMS_DESTGROUP': {'ref': [<ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x10753f170>,\r\n                           <ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x10753f200>]},\r\n 'TMS_GLOBAL': {'ref': [<ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x10753fdd0>]},\r\n 'TMS_SENSORGROUP': {'ref': [<ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x10753f290>,\r\n                             <ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x1075532d8>]},\r\n 'TMS_SUBSCRIPTION': {}}\r\n(Pdb) \r\n```\r\n\r\nBut using `dict.from_keys()` contains this:\r\n\r\n```\r\n(Pdb) pprint(cmd_ref)\r\n{'TMS_DESTGROUP': {'ref': [<ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x107376170>,\r\n                           <ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x107376dd0>]},\r\n 'TMS_GLOBAL': {'ref': [<ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x107376170>,\r\n                        <ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x107376dd0>]},\r\n 'TMS_SENSORGROUP': {'ref': [<ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x107376170>,\r\n                             <ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x107376dd0>]},\r\n 'TMS_SUBSCRIPTION': {'ref': [<ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x107376170>,\r\n                              <ansible.module_utils.network.nxos.nxos.NxosCmdRef instance at 0x107376dd0>]}}\r\n(Pdb) \r\n\r\n```",
        "createdAt" : "2019-07-25T15:54:34Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ffd6a793c2a6717c5a353bbfddfd9f03e630912",
    "line" : 146,
    "diffHunk" : "@@ -1,1 +144,148 @@        cmd_ref['TMS_DESTGROUP'] = {}\n        cmd_ref['TMS_SENSORGROUP'] = {}\n        cmd_ref['TMS_SUBSCRIPTION'] = {}\n\n        # Get Telemetry Global Data"
  },
  {
    "id" : "9eb2039a-f9fd-41e8-bd62-911ccbe6dcc4",
    "prId" : 59126,
    "prUrl" : "https://github.com/ansible/ansible/pull/59126#pullrequestreview-264783726",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e0abac17-530e-46cb-96c1-b86d2fcd0b36",
        "parentId" : null,
        "authorId" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "body" : "What's happening with the two lines above? Can you add some comments to the code regarding intent?",
        "createdAt" : "2019-07-22T12:35:26Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ffd6a793c2a6717c5a353bbfddfd9f03e630912",
    "line" : 177,
    "diffHunk" : "@@ -1,1 +175,179 @@                # Only build the NxosCmdRef object for the destination group module parameters.\n                self._module.params['config'] = get_module_params_subsection(ALL_MP, td['type'], playvals['id'])\n                cmd_ref[td['type']]['ref'].append(NxosCmdRef(self._module, td['obj']))\n                ref = cmd_ref[td['type']]['ref'][-1]\n                ref.set_context([resource_key])"
  },
  {
    "id" : "cdeedee3-e152-441a-ade6-6896e8706c28",
    "prId" : 59126,
    "prUrl" : "https://github.com/ansible/ansible/pull/59126#pullrequestreview-264783726",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f7c80a93-7455-4a1e-a1c5-883fe1a87d43",
        "parentId" : null,
        "authorId" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "body" : "Comment here too - `get_setval_path` isn't entirely obvious.",
        "createdAt" : "2019-07-22T12:36:42Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ffd6a793c2a6717c5a353bbfddfd9f03e630912",
    "line" : 205,
    "diffHunk" : "@@ -1,1 +203,207 @@                    # Call get_setval_path helper function to process any\n                    # optional setval keys.\n                    ref._ref['path']['setval'] = get_setval_path(self._module)\n                ref.get_existing(device_cache)\n                ref.get_playvals()"
  }
]