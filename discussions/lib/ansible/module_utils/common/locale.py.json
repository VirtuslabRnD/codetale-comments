[
  {
    "id" : "33e63a1d-4655-4a53-b5d7-b217fc011cec",
    "prId" : 75033,
    "prUrl" : "https://github.com/ansible/ansible/pull/75033#pullrequestreview-685850531",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d0a1ecb5-3815-4d33-bf8d-a22f65fc14f5",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "```suggestion\r\n# Copyright: (c) 2021, Ansible Project\r\n```",
        "createdAt" : "2021-06-17T04:18:20Z",
        "updatedAt" : "2021-06-17T05:28:50Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "9f896839db7b12b6ef245bb6bae9aabe615693c6",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@# Copyright (c), Ansible Project\n# Simplified BSD License (see licenses/simplified_bsd.txt or https://opensource.org/licenses/BSD-2-Clause)\n"
  },
  {
    "id" : "214e9fbb-b414-4e6a-8bb2-4f9b5985f07c",
    "prId" : 75033,
    "prUrl" : "https://github.com/ansible/ansible/pull/75033#pullrequestreview-685850531",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "14c0dc8a-06de-4732-886a-f39512740e88",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "if `rc` is not 0 then available will be unbound variable.",
        "createdAt" : "2021-06-17T05:27:00Z",
        "updatedAt" : "2021-06-17T05:28:50Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "9f896839db7b12b6ef245bb6bae9aabe615693c6",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +42,46 @@        raise RuntimeWarning(\"Unable to get locale information, rc=%s: %s\" % (rc, to_native(err)))\n\n    if available:\n        for pref in preferences:\n            if pref in available:"
  },
  {
    "id" : "12e7c4e4-d480-492b-8c95-72c77d3f6d49",
    "prId" : 75033,
    "prUrl" : "https://github.com/ansible/ansible/pull/75033#pullrequestreview-689589554",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d8ddde7d-dbd8-492d-ae1e-10d5c9fead5a",
        "parentId" : null,
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "Do you think we should use `get_bin_path` over here?",
        "createdAt" : "2021-06-22T03:59:30Z",
        "updatedAt" : "2021-06-22T03:59:31Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      },
      {
        "id" : "e150af67-c777-46e3-b632-2645884b5fc0",
        "parentId" : "d8ddde7d-dbd8-492d-ae1e-10d5c9fead5a",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "that is how `locale` variable gets set, see line 21",
        "createdAt" : "2021-06-22T12:35:50Z",
        "updatedAt" : "2021-06-22T12:35:50Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "48c0224d-f812-4fa1-aaa9-6c000a023cc3",
        "parentId" : "d8ddde7d-dbd8-492d-ae1e-10d5c9fead5a",
        "authorId" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "body" : "sorry my bad. I didn't see that.",
        "createdAt" : "2021-06-22T14:32:36Z",
        "updatedAt" : "2021-06-22T14:32:37Z",
        "lastEditedBy" : "96aeecbb-c275-402c-b904-a795c82efb48",
        "tags" : [
        ]
      }
    ],
    "commit" : "9f896839db7b12b6ef245bb6bae9aabe615693c6",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +32,36 @@        preferences = ['C.utf8', 'en_US.utf8', 'C', 'POSIX']\n\n    rc, out, err = module.run_command([locale, '-a'])\n\n    if rc == 0:"
  },
  {
    "id" : "b69e1689-3e05-4517-83a6-beb0bbd78d05",
    "prId" : 75250,
    "prUrl" : "https://github.com/ansible/ansible/pull/75250#pullrequestreview-707469482",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "675e2da4-2904-457f-8511-b8e4a34a51b2",
        "parentId" : null,
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "To avoid having to pass `module` and allow for using this function in places where `module` is not available (yet) would it be possible to use Python's `locale` module for this?",
        "createdAt" : "2021-07-15T08:12:00Z",
        "updatedAt" : "2021-07-15T08:12:01Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "dc57b7b0-4027-449f-ad3e-07b38cdf3b7a",
        "parentId" : "675e2da4-2904-457f-8511-b8e4a34a51b2",
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "If we must use `get_bin_path` we could instead import it from it's source instead: `lib/ansible/module_utils/common/process.py`",
        "createdAt" : "2021-07-15T14:45:28Z",
        "updatedAt" : "2021-07-15T14:45:28Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      },
      {
        "id" : "bb6e86d5-8b03-4822-8e5f-618a8711ed6e",
        "parentId" : "675e2da4-2904-457f-8511-b8e4a34a51b2",
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "We would still need `AnsibleModule`'s `run_command` to run the bin.",
        "createdAt" : "2021-07-15T14:52:27Z",
        "updatedAt" : "2021-07-15T14:52:27Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "8d5674d3-dab2-46c0-aaae-285c43698228",
        "parentId" : "675e2da4-2904-457f-8511-b8e4a34a51b2",
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "Sorry that wasn't clear from the line I commented on.",
        "createdAt" : "2021-07-15T14:53:13Z",
        "updatedAt" : "2021-07-15T14:53:14Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "a0bfd620-72db-4592-9f33-63efa9176b0c",
        "parentId" : "675e2da4-2904-457f-8511-b8e4a34a51b2",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "we cannot use python's `locale` since it reports 'possible locales' and not usable locales\r\n\r\nand yes, we can switch `get_bin_path` but `run_command` would still require the `module` as a parameter",
        "createdAt" : "2021-07-15T14:56:19Z",
        "updatedAt" : "2021-07-15T14:56:19Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "95ee36f80910945fa6a8f9180deb5fca7bb2c303",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +23,27 @@    found = 'C'  # default posix, its ascii but always there\n    try:\n        locale = module.get_bin_path(\"locale\")\n        if not locale:\n            # not using required=true as that forces fail_json"
  }
]