[
  {
    "id" : "c8a6f69f-29db-4413-b900-cc807664857e",
    "prId" : 15689,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a1b77dfb-1c3e-4ed9-967e-2c41bca66926",
        "parentId" : null,
        "authorId" : "3aa844d8-7198-43e9-9769-58058e45516c",
        "body" : "What about the case where the include filename is based on a var? If there is a var in the name, we either need to check to see if the var is available now (which might still cause problems for plays where the var is changed later before the include happens), raise an error if is_static == True when there's a var in the name, or fall back to is_static = False when there's a var.\n",
        "createdAt" : "2016-05-02T17:16:10Z",
        "updatedAt" : "2016-05-03T10:15:20Z",
        "lastEditedBy" : "3aa844d8-7198-43e9-9769-58058e45516c",
        "tags" : [
        ]
      },
      {
        "id" : "bfb3fefc-54f5-4936-8ad6-e6bba614cdd6",
        "parentId" : "a1b77dfb-1c3e-4ed9-967e-2c41bca66926",
        "authorId" : "16ee12b8-b96a-4930-a51c-ffb6ef796a53",
        "body" : "You are actually doing that already a couple of lines below:\n\n``` python\n                        try:\n                            include_target = templar.template(t.args['_raw_params'])\n                        except AnsibleUndefinedVariable as e:\n                            raise AnsibleParserError(\n                                      \"Error when evaluating variable in include name: %s.\\n\\n\" \\\n                                      \"When using static includes, ensure that any variables used in their names are defined in vars/vars_files\\n\" \\\n                                      \"or extra-vars passed in from the command line. Static includes cannot use variables from inventory\\n\" \\\n                                      \"sources like group or host vars.\" % t.args['_raw_params'],\n                                      obj=task_ds,\n                                      suppress_extended_error=True,\n                                  )\n```\n",
        "createdAt" : "2016-05-03T10:13:11Z",
        "updatedAt" : "2016-05-03T10:15:20Z",
        "lastEditedBy" : "16ee12b8-b96a-4930-a51c-ffb6ef796a53",
        "tags" : [
        ]
      },
      {
        "id" : "1cd19457-9bb3-4749-b73c-73f8fa2fde46",
        "parentId" : "a1b77dfb-1c3e-4ed9-967e-2c41bca66926",
        "authorId" : "3aa844d8-7198-43e9-9769-58058e45516c",
        "body" : "Ahh ok, fair enough :) I knew we still had the loop check below as well, forgot we errored on templating there too.\n",
        "createdAt" : "2016-05-03T13:16:31Z",
        "updatedAt" : "2016-05-03T13:16:31Z",
        "lastEditedBy" : "3aa844d8-7198-43e9-9769-58058e45516c",
        "tags" : [
        ]
      }
    ],
    "commit" : "5ee38617b995a38f7b7cc79fa47decaadd037f80",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +113,117 @@                # 2. one of the appropriate config options was set\n                if t.static is not None:\n                    is_static = t.static\n                else:\n                    is_static = C.DEFAULT_TASK_INCLUDES_STATIC or \\"
  }
]