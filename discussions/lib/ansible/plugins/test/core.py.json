[
  {
    "id" : "d550cce4-efb2-48a7-8d84-8b00395bacfb",
    "prId" : 58214,
    "prUrl" : "https://github.com/ansible/ansible/pull/58214#pullrequestreview-253308201",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "14db3f1b-baa8-4127-80df-286dd0fbbdc3",
        "parentId" : null,
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "I'd probably add a comment about why this is done (the side-effect) since it's not obvious just from the code.",
        "createdAt" : "2019-06-24T09:49:22Z",
        "updatedAt" : "2019-06-24T14:32:08Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      }
    ],
    "commit" : "2e5edf27ad61e4eb5cffa04cd9afa487f510407d",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +118,122 @@    # In addition to ensuring the correct type, to_text here will ensure\n    # _fail_with_undefined_error happens if the value is Undefined\n    value = to_text(value, errors='surrogate_or_strict')\n    flags = 0\n    if ignorecase:"
  },
  {
    "id" : "aa956606-f280-47ba-bbdb-2e815375760c",
    "prId" : 74754,
    "prUrl" : "https://github.com/ansible/ansible/pull/74754#pullrequestreview-663402351",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2f496afa-5d97-49ac-82e1-b9d92ab58ff3",
        "parentId" : null,
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "I think we need to check both `version` and `value`.  Otherwise just catch the `AttributeError` in the below try/except and give this error there.",
        "createdAt" : "2021-05-18T20:14:53Z",
        "updatedAt" : "2021-05-18T20:14:53Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      },
      {
        "id" : "7a5a48bd-9fee-4d18-bac3-b15080323757",
        "parentId" : "2f496afa-5d97-49ac-82e1-b9d92ab58ff3",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "Both should be checked.\r\n\r\nDo we want one error message, or a separate error message for each combination (value, version, both)?",
        "createdAt" : "2021-05-18T20:55:09Z",
        "updatedAt" : "2021-05-18T20:55:55Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "f9500ce0-3bd7-4cbd-a659-0e7b0ebdaeac",
        "parentId" : "2f496afa-5d97-49ac-82e1-b9d92ab58ff3",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "Catching the `AttributeError` was the first approach I took. Then I switched to failing early by checking up front. I didn't think about checking both `value` and `version`, though.\r\n\r\nI'll just test both here and adjust the error message.",
        "createdAt" : "2021-05-19T14:52:45Z",
        "updatedAt" : "2021-05-19T14:52:45Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "1a94fbb5-e231-475c-9de2-ff86410dc58c",
        "parentId" : "2f496afa-5d97-49ac-82e1-b9d92ab58ff3",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "I went with separate error messages for both. The language was too ambiguous trying to cram it into one message.",
        "createdAt" : "2021-05-19T16:04:39Z",
        "updatedAt" : "2021-05-19T16:04:39Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "56c01e7f-6457-476b-b3af-51ebd365b685",
        "parentId" : "2f496afa-5d97-49ac-82e1-b9d92ab58ff3",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "I'm open to feedback on the language. It's tough trying to communicate the _input_ version value versus the version comparison value. They're both version comparison values. ðŸ¤¯ ",
        "createdAt" : "2021-05-19T16:05:57Z",
        "updatedAt" : "2021-05-19T16:05:57Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      }
    ],
    "commit" : "a555dd79a7b32c9d8fa491bef7a02f09698befa1",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +169,173 @@        raise errors.AnsibleFilterError(\"Cannot specify both 'strict' and 'version_type'\")\n\n    if not value:\n        raise errors.AnsibleFilterError(\"Input version value cannot be empty\")\n"
  }
]