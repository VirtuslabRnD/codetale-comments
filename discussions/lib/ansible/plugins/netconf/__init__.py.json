[
  {
    "id" : "57ff3d37-71b1-4b2e-8a19-6940b54a6a22",
    "prId" : 73992,
    "prUrl" : "https://github.com/ansible/ansible/pull/73992#pullrequestreview-638937522",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0a1758e0-7896-4044-80dd-4a17ea7266ab",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Can't you catch `cryptography.exceptions.InternalError`?",
        "createdAt" : "2021-04-19T13:58:21Z",
        "updatedAt" : "2021-04-19T14:03:24Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "fc5a6b59-d261-4611-a7d8-e58d030b1452",
        "parentId" : "0a1758e0-7896-4044-80dd-4a17ea7266ab",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "@webknjaz I wanted to do that too, but `cryptography` may not always be available. https://github.com/ansible/ansible/pull/65477#discussion_r353775154",
        "createdAt" : "2021-04-19T13:59:40Z",
        "updatedAt" : "2021-04-19T14:03:24Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "ddef51ad-7bb3-4424-86d7-960b84102675",
        "parentId" : "0a1758e0-7896-4044-80dd-4a17ea7266ab",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Well, that could be made conditional, right?\r\n```python\r\ntry:\r\n    from cryptography.exceptions import InternalError\r\nexcept ImportError:\r\n    fips_excs = ()\r\nelse:\r\n    fips_excs = (InternalError, )\r\n```\r\nand then\r\n```python\r\ntry:\r\n    import ncclient...\r\nexcept (ImportError, AttributeError, *fips_excs) as err:\r\n    ...\r\n```",
        "createdAt" : "2021-04-19T14:06:02Z",
        "updatedAt" : "2021-04-19T14:06:03Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "47c7c13d-1fb2-4c84-81d3-3c0ae6f79a67",
        "parentId" : "0a1758e0-7896-4044-80dd-4a17ea7266ab",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "By the way, FTR cryptography runs a FIPS job in their CI since v3.0: https://github.com/pyca/cryptography/commit/4a245a657a071dff959d30eff1d214c7ff88eada / https://github.com/pyca/cryptography/pull/5323.",
        "createdAt" : "2021-04-19T14:23:28Z",
        "updatedAt" : "2021-04-19T14:23:29Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "4b2b8c4e-1d15-41b3-8cad-e8d0c3bcdf0b",
        "parentId" : "0a1758e0-7896-4044-80dd-4a17ea7266ab",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "@webknjaz this is 3rd time they change the error emitted, at this point to deal with FIPS it seems `Exception` is only way forward, unless we want to be back here in 2-3 yrs getting the 'new exception' added to the list.",
        "createdAt" : "2021-04-19T14:28:45Z",
        "updatedAt" : "2021-04-19T14:28:46Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "f12ad3ce5bc95bab029385c524e864f5e7e36a47",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +36,40 @@# When running in FIPS mode, cryptography raises InternalError\n# https://bugzilla.redhat.com/show_bug.cgi?id=1778939\nexcept Exception as err:\n    HAS_NCCLIENT = False\n    NCCLIENT_IMP_ERR = err"
  }
]