[
  {
    "id" : "4ed25701-85c8-496a-9e16-7f3b33f7b163",
    "prId" : 39023,
    "prUrl" : "https://github.com/ansible/ansible/pull/39023#pullrequestreview-117026359",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5ba4b1db-1ed5-411e-949c-68d1ef64e70e",
        "parentId" : null,
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "Do we also need to copy the file from controller to target? I've only ever tried this with controller == target.",
        "createdAt" : "2018-04-19T22:51:40Z",
        "updatedAt" : "2018-05-02T19:08:58Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      },
      {
        "id" : "f495f0e0-c714-405b-a756-c7704879e322",
        "parentId" : "5ba4b1db-1ed5-411e-949c-68d1ef64e70e",
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Hey, @willthames sorry for taking a while to get back to this one. I wasn't sure exactly how it works and what the expected behavior is so I took some time to test it out and compare with older versions. It appears the controller file has never been copied so that would be a feature. Since I'd like this to be backported that could be a separate discussion maybe (though looks like it would add potential for more problems). I have tested with a target that is not the controller, and this fixes uploading a file that exists on the target.\r\n\r\nI think I'm going to clarify the error if the file doesn't exist on the remote or the controller because it is a little confusing:\r\n```\r\n\"msg\": \"Could not find or access '/tmp/onlyonremote.txt' on the Ansible Controller.\\nIf you are using a module and expect the file to exist on the remote, see the remote_src option\"\r\n```\r\nIf the file exists on the controller but not the remote I get this message, which seems better:\r\n```\r\n\"msg\": \"Local object for PUT does not exist\"\r\n```",
        "createdAt" : "2018-05-02T18:58:58Z",
        "updatedAt" : "2018-05-02T19:14:10Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcfd6db53ce8716270357c181b215fc3f45c0650",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +49,53 @@                    try:\n                        source = self._loader.get_real_file(self._find_needle('files', source))\n                        new_module_args['src'] = source\n                    except AnsibleFileNotFound as e:\n                        # module handles error message for nonexistent files"
  }
]