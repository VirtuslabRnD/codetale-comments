[
  {
    "id" : "a76ecaa9-976c-4471-b7c8-c4922e672845",
    "prId" : 45826,
    "prUrl" : "https://github.com/ansible/ansible/pull/45826#pullrequestreview-159073703",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "17b7a0db-a373-43eb-bea9-465287799b3a",
        "parentId" : null,
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "What is this for? kubectl is not used at all by ansible, afaik",
        "createdAt" : "2018-09-26T02:06:08Z",
        "updatedAt" : "2018-09-26T02:06:09Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      },
      {
        "id" : "12f95fa4-41c2-4c06-8740-7c3d2e8395a2",
        "parentId" : "17b7a0db-a373-43eb-bea9-465287799b3a",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "I didnt' add it, it comes from: https://github.com/ansible/ansible/blob/f73996e6ebc25a453caef3631558fca6e1af4a4e/lib/ansible/module_utils/k8s/inventory.py#L40\r\n\r\nIt is used there in order to define connection plugin (`kubectl` or `oc`) which will be used with the generated inventory:\r\nhttps://github.com/ansible/ansible/blob/f73996e6ebc25a453caef3631558fca6e1af4a4e/lib/ansible/module_utils/k8s/inventory.py#L161-L167",
        "createdAt" : "2018-09-26T08:28:52Z",
        "updatedAt" : "2018-09-26T08:28:53Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      },
      {
        "id" : "b8b80f65-a7ec-4f2c-a3b1-93510fb2ee32",
        "parentId" : "17b7a0db-a373-43eb-bea9-465287799b3a",
        "authorId" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "body" : "`kubectl` is a valid connection plugin, without looking into the code further I assume that's being used as the transport backend in that inventory plugin.\r\n\r\nhttps://github.com/ansible/ansible/blob/devel/lib/ansible/plugins/connection/kubectl.py",
        "createdAt" : "2018-09-26T15:41:45Z",
        "updatedAt" : "2018-09-26T15:42:02Z",
        "lastEditedBy" : "38f1a2ff-4f1a-4c3d-b78a-3bae3b91d930",
        "tags" : [
        ]
      },
      {
        "id" : "7e9270c2-87fa-4702-b547-a8bb8bea2646",
        "parentId" : "17b7a0db-a373-43eb-bea9-465287799b3a",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "Yeah, `ansible_connection` [selects](https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html#non-ssh-connection-types) the connection plugin :)",
        "createdAt" : "2018-09-26T15:56:43Z",
        "updatedAt" : "2018-09-26T15:56:43Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      }
    ],
    "commit" : "ea8342e8faada8515c0d80d1c5f24d50004a20d7",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +139,143 @@    NAME = 'k8s'\n\n    transport = 'kubectl'\n\n    def parse(self, inventory, loader, path, cache=True):"
  },
  {
    "id" : "082979a9-7b8f-477a-9222-31ca3e2610a5",
    "prId" : 46145,
    "prUrl" : "https://github.com/ansible/ansible/pull/46145#pullrequestreview-159254331",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "00dfe502-0fdd-40ec-be4e-3777a785545a",
        "parentId" : null,
        "authorId" : "4abe4d0b-0492-400c-bd28-ab69d445fa0a",
        "body" : "`service.metadata.labels` and `service.metadata.annotations` should have a `.to_dict()` method defined, I think that will have a better guarantee of correct behavior",
        "createdAt" : "2018-09-26T18:29:52Z",
        "updatedAt" : "2018-09-27T00:16:01Z",
        "lastEditedBy" : "4abe4d0b-0492-400c-bd28-ab69d445fa0a",
        "tags" : [
        ]
      },
      {
        "id" : "1939823b-bae8-43ab-b3d7-e65d9e002fbf",
        "parentId" : "00dfe502-0fdd-40ec-be4e-3777a785545a",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "`service.metadata.labels` and `service.metadata.annotations` are `ResourceField` instances, `ResourceField` class [doesn't have a `to_dict` method](https://github.com/openshift/openshift-restclient-python/blob/e6e8fd2acc71ff6820db99160f461af83628cd12/openshift/dynamic/client.py#L448) - but [`ResourceInstance` has](https://github.com/openshift/openshift-restclient-python/blob/e6e8fd2acc71ff6820db99160f461af83628cd12/openshift/dynamic/client.py#L512), should  `service.metadata.labels` and `service.metadata.annotations` be `ResourceInstance` instances ?",
        "createdAt" : "2018-09-27T00:25:17Z",
        "updatedAt" : "2018-09-27T00:25:17Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      },
      {
        "id" : "d4e41a9d-0516-4140-816b-b32a1080aff2",
        "parentId" : "00dfe502-0fdd-40ec-be4e-3777a785545a",
        "authorId" : "4abe4d0b-0492-400c-bd28-ab69d445fa0a",
        "body" : "Nope, I'm just wrong, my bad",
        "createdAt" : "2018-09-27T01:16:12Z",
        "updatedAt" : "2018-09-27T01:16:12Z",
        "lastEditedBy" : "4abe4d0b-0492-400c-bd28-ab69d445fa0a",
        "tags" : [
        ]
      }
    ],
    "commit" : "7f8a1e6fcf13c663bfa8e441cde170e9888de8d9",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +296,300 @@        for service in obj.items:\n            service_name = service.metadata.name\n            service_labels = {} if not service.metadata.labels else dict(service.metadata.labels)\n            service_annotations = {} if not service.metadata.annotations else dict(service.metadata.annotations)\n"
  }
]