[
  {
    "id" : "1872619f-06d4-49ec-9c83-10c8232333bf",
    "prId" : 41816,
    "prUrl" : "https://github.com/ansible/ansible/pull/41816#pullrequestreview-134695833",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d5bf3c34-db4a-4a1d-a2b9-b6435af883d0",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "you are missing 'requirements' section, requests lib is not part of stdlib in python",
        "createdAt" : "2018-07-02T21:56:45Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "2bd0c3a8-50ff-4d8e-9211-67d99625566b",
        "parentId" : "d5bf3c34-db4a-4a1d-a2b9-b6435af883d0",
        "authorId" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "body" : "Good point. I will change the `requests` library to the url lib provided with ansible. \r\n\r\nI initially wrote it in this way as I looked at another plugins, and they have the similar import behavior. But I agree we should use as few external library as possible. ",
        "createdAt" : "2018-07-03T13:42:59Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "tags" : [
        ]
      },
      {
        "id" : "bb0d0f2d-26cb-44a5-af79-929c230cadaa",
        "parentId" : "d5bf3c34-db4a-4a1d-a2b9-b6435af883d0",
        "authorId" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "body" : "Hey @bcoca, I updated this PR to use the url library shipped with ansible. Could you please review this PR once again? Thanks!",
        "createdAt" : "2018-07-05T15:11:39Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "tags" : [
        ]
      }
    ],
    "commit" : "76d09f12936dd4fb6d468b90bb5dce888846eba0",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +59,63 @@            env:\n                - name: TOWER_VERIFY_SSL\n            required: False\n'''\n"
  },
  {
    "id" : "fab69788-f153-4a8e-be24-9deb12197c89",
    "prId" : 41816,
    "prUrl" : "https://github.com/ansible/ansible/pull/41816#pullrequestreview-134019382",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5678c28b-3f4d-4c07-8d5d-627f1db576f0",
        "parentId" : null,
        "authorId" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "body" : "I would like to see tower-cli and the tower modules optionally take this environment variable as a replacement for the `--inventory` option. I do find it somewhat confusing that this is expecting an id, whereas other inputs all allow for lookup by name.",
        "createdAt" : "2018-07-03T13:35:26Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "tags" : [
        ]
      },
      {
        "id" : "a5df1418-e597-4441-b683-9b226c421624",
        "parentId" : "5678c28b-3f4d-4c07-8d5d-627f1db576f0",
        "authorId" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "body" : "Good point. I also thought about it when writing this plugin. I will check how big the changes will be. ",
        "createdAt" : "2018-07-03T13:39:19Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "tags" : [
        ]
      },
      {
        "id" : "879b2c80-9337-4cc7-acb1-7aa6c20d3e43",
        "parentId" : "5678c28b-3f4d-4c07-8d5d-627f1db576f0",
        "authorId" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "body" : "I wouldn't dive into that just yet. That would be very hard to do elegantly. I'm not even sure if it really philosophically makes sense.",
        "createdAt" : "2018-07-03T14:20:18Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "tags" : [
        ]
      }
    ],
    "commit" : "76d09f12936dd4fb6d468b90bb5dce888846eba0",
    "line" : 85,
    "diffHunk" : "@@ -1,1 +83,87 @@# export TOWER_USERNAME=YOUR_TOWER_USERNAME\n# export TOWER_PASSWORD=YOUR_TOWER_PASSWORD\n# export TOWER_INVENTORY=THE_ID_OF_TARGETED_INVENTORY\n# Read the inventory specified in TOWER_INVENTORY from Ansible Tower, and list them.\n# The inventory path must always be @tower_inventory if you are reading all settings from environment variables."
  },
  {
    "id" : "bb2f8204-657c-4323-be4a-db88445ba074",
    "prId" : 41816,
    "prUrl" : "https://github.com/ansible/ansible/pull/41816#pullrequestreview-147799142",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "676075c9-cc5e-4867-b37f-14f12dd64d0e",
        "parentId" : null,
        "authorId" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "body" : "How is this required if it can also be specified by the environment variable? Compare to openshift plugin via `ansible-doc -t inventory tower`\r\n\r\n```\r\napi_key:\r\n  description:\r\n  - Token used to authenticate with the API. Can also be specified via K8S_AUTH_API_KEY\r\n    environment variable.\r\n```",
        "createdAt" : "2018-08-20T17:49:53Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "tags" : [
        ]
      },
      {
        "id" : "a4e5fcae-5d9e-4865-b3e5-002337e98521",
        "parentId" : "676075c9-cc5e-4867-b37f-14f12dd64d0e",
        "authorId" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "body" : "My understanding is this: openshift uses its own method in their own pip packages to read from environment variables and check if the option is either supplied with env vars or yml. \r\n\r\nOur plugin uses Ansible's parser to read from env vars and/or yml, so we have to set `required`. I tested with not setting `required` at all and Ansible's parser will not enforce the `required` behavior.",
        "createdAt" : "2018-08-20T19:03:06Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "tags" : [
        ]
      },
      {
        "id" : "6bcdc7ad-8fde-4b8e-932c-11e3561180e1",
        "parentId" : "676075c9-cc5e-4867-b37f-14f12dd64d0e",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "required doesn't mean 'requried in config', it  means a value MUST be provided, any way you allow to set it is fine",
        "createdAt" : "2018-08-20T19:59:52Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "76d09f12936dd4fb6d468b90bb5dce888846eba0",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +34,38 @@            env:\n                - name: TOWER_HOST\n            required: True\n        username:\n            description: The user that you plan to use to access inventories on Ansible Tower."
  },
  {
    "id" : "9b79788d-963b-46f2-841a-219dcfa3786f",
    "prId" : 41816,
    "prUrl" : "https://github.com/ansible/ansible/pull/41816#pullrequestreview-148109286",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f7b6e2ea-461a-446c-82be-81b1fe87bb9b",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "ready to merge once you add missing `version_added: \"2.7\"`",
        "createdAt" : "2018-08-21T15:08:45Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "84bdbb04-a56f-4cc7-8990-d6a4a83bc220",
        "parentId" : "f7b6e2ea-461a-446c-82be-81b1fe87bb9b",
        "authorId" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "body" : "No problem, will add version in. ",
        "createdAt" : "2018-08-21T15:11:05Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "tags" : [
        ]
      }
    ],
    "commit" : "76d09f12936dd4fb6d468b90bb5dce888846eba0",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +11,15 @@    authors:\n      - Matthew Jones (@matburt)\n      - Yunfan Zhang (@YunfanZhang42)\n    short_description: Ansible dynamic inventory plugin for Ansible Tower.\n    version_added: \"2.7\""
  },
  {
    "id" : "85784550-7256-4ec0-ba7c-1df885cc5ce2",
    "prId" : 41816,
    "prUrl" : "https://github.com/ansible/ansible/pull/41816#pullrequestreview-148178852",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2427b403-4049-40e9-81f8-6246927d4764",
        "parentId" : null,
        "authorId" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "body" : "I'm a little iffy about the ungrouped or all group here. I would skip ungrouped.",
        "createdAt" : "2018-08-21T17:38:57Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "tags" : [
        ]
      },
      {
        "id" : "3bb4627f-9ced-4f6f-b795-bf1ee8b2b47b",
        "parentId" : "2427b403-4049-40e9-81f8-6246927d4764",
        "authorId" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "body" : "This one is fine it seems. Our API never gives `ungrouped`, but `inventory.add_host(host_name)` in Ansible Inventory API will automatically add an `ungroup` to the hosts. ",
        "createdAt" : "2018-08-21T17:56:24Z",
        "updatedAt" : "2018-08-21T17:59:10Z",
        "lastEditedBy" : "ab82a03d-c5a6-4f43-bc11-efc3e2b778af",
        "tags" : [
        ]
      }
    ],
    "commit" : "76d09f12936dd4fb6d468b90bb5dce888846eba0",
    "line" : 163,
    "diffHunk" : "@@ -1,1 +161,165 @@        # To start with, create all the groups.\n        for group_name in inventory:\n            if group_name != '_meta':\n                self.inventory.add_group(group_name)\n"
  }
]