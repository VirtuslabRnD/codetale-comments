[
  {
    "id" : "29a1d9ff-8cef-4e68-afb6-5983f7490e57",
    "prId" : 25565,
    "prUrl" : "https://github.com/ansible/ansible/pull/25565#pullrequestreview-73815290",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e90898b6-4a3c-4b48-a128-299668c0b33c",
        "parentId" : null,
        "authorId" : "7ee8bdbb-ea26-4fe9-8adc-0173e0b50738",
        "body" : "Is there a way to raise errors in Ansible when this attribute is None?",
        "createdAt" : "2017-11-02T10:13:54Z",
        "updatedAt" : "2018-04-17T19:34:26Z",
        "lastEditedBy" : "7ee8bdbb-ea26-4fe9-8adc-0173e0b50738",
        "tags" : [
        ]
      },
      {
        "id" : "f1091fd5-4f02-4fd4-8daf-846b66da1c0d",
        "parentId" : "e90898b6-4a3c-4b48-a128-299668c0b33c",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "I can `raise AnsibleOptionsError`",
        "createdAt" : "2017-11-02T14:50:32Z",
        "updatedAt" : "2018-04-17T19:34:26Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "51a05770b9bbbcf48b2b62515676de8ff02d7eff",
    "line" : 75,
    "diffHunk" : "@@ -1,1 +73,77 @@\n        # from config\n        self.foreman_url = None\n\n        self.session = None"
  },
  {
    "id" : "cbd63e67-2fd2-4e11-bda6-89a9a32caa2f",
    "prId" : 25565,
    "prUrl" : "https://github.com/ansible/ansible/pull/25565#pullrequestreview-106547388",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "db9d5d62-4cc1-4df9-8ad7-5ef8c218c21f",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Why not turn this into `@property` which it effectively is?",
        "createdAt" : "2018-03-23T14:49:23Z",
        "updatedAt" : "2018-04-17T19:34:26Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "a487a39e-d1fe-431b-8dba-a3842d83dcfb",
        "parentId" : "db9d5d62-4cc1-4df9-8ad7-5ef8c218c21f",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "mostly this is a copy of the original, script, i tried to modify as little as possible to adapt it into a plugin",
        "createdAt" : "2018-03-23T15:48:51Z",
        "updatedAt" : "2018-04-17T19:34:26Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "51a05770b9bbbcf48b2b62515676de8ff02d7eff",
    "line" : 89,
    "diffHunk" : "@@ -1,1 +87,91 @@        return valid\n\n    def _get_session(self):\n        if not self.session:\n            self.session = requests.session()"
  },
  {
    "id" : "8ca691c8-dc9d-4813-9e62-2c8ab5ebb5ab",
    "prId" : 25565,
    "prUrl" : "https://github.com/ansible/ansible/pull/25565#pullrequestreview-106534400",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "532189c7-2398-402e-a434-945366c911d9",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "It's a `@staticmethod`/pure function",
        "createdAt" : "2018-03-23T15:17:24Z",
        "updatedAt" : "2018-04-17T19:34:26Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "51a05770b9bbbcf48b2b62515676de8ff02d7eff",
    "line" : 168,
    "diffHunk" : "@@ -1,1 +166,170 @@        return facts\n\n    def to_safe(self, word):\n        '''Converts 'bad' characters in a string to underscores so they can be used as Ansible groups\n        #> ForemanInventory.to_safe(\"foo-bar baz\")"
  },
  {
    "id" : "a358acb4-5117-45db-87b0-ccaa6ca65d80",
    "prId" : 25565,
    "prUrl" : "https://github.com/ansible/ansible/pull/25565#pullrequestreview-106535204",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91131d68-bda3-47c1-a8ce-dc19f22383d0",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Do we have PEP257 linter in CI? It should've failed here.",
        "createdAt" : "2018-03-23T15:19:25Z",
        "updatedAt" : "2018-04-17T19:34:26Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "51a05770b9bbbcf48b2b62515676de8ff02d7eff",
    "line" : 169,
    "diffHunk" : "@@ -1,1 +167,171 @@\n    def to_safe(self, word):\n        '''Converts 'bad' characters in a string to underscores so they can be used as Ansible groups\n        #> ForemanInventory.to_safe(\"foo-bar baz\")\n        'foo_barbaz'"
  },
  {
    "id" : "ee2fc77d-a5f6-406b-8aae-4cb4a53429e0",
    "prId" : 52693,
    "prUrl" : "https://github.com/ansible/ansible/pull/52693#pullrequestreview-206449521",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "65ec6ae5-07ae-4c7c-973b-c06e4d2ccea4",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "missing `version_added`",
        "createdAt" : "2019-02-21T14:10:52Z",
        "updatedAt" : "2019-02-21T17:12:24Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "d5101ad4-1994-4066-b4bc-e136fa230776",
        "parentId" : "65ec6ae5-07ae-4c7c-973b-c06e4d2ccea4",
        "authorId" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "body" : "What about backporting to 2.7? I would like to keep that option open. Can I put 2.7 and commit to putting in the backport?",
        "createdAt" : "2019-02-21T14:51:29Z",
        "updatedAt" : "2019-02-21T17:12:24Z",
        "lastEditedBy" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "tags" : [
        ]
      },
      {
        "id" : "7718ead5-583e-45cb-ab76-9064c0598c6d",
        "parentId" : "65ec6ae5-07ae-4c7c-973b-c06e4d2ccea4",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "features dont get backported",
        "createdAt" : "2019-02-21T14:54:59Z",
        "updatedAt" : "2019-02-21T17:12:24Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "55c07e4e-97b1-477e-b973-6efd4b218086",
        "parentId" : "65ec6ae5-07ae-4c7c-973b-c06e4d2ccea4",
        "authorId" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "body" : "I can added this via:\r\n\r\n```diff\r\ndiff --git a/lib/ansible/plugins/inventory/foreman.py b/lib/ansible/plugins/inventory/foreman.py\r\nindex 6827e558d6..8c6e522fc5 100644\r\n--- a/lib/ansible/plugins/inventory/foreman.py\r\n+++ b/lib/ansible/plugins/inventory/foreman.py\r\n@@ -32,6 +32,7 @@ DOCUMENTATION = '''\r\n         required: True\r\n         env:\r\n             - name: FOREMAN_USER\r\n+        version_added: 2.8\r\n       password:\r\n         description: foreman authentication password\r\n         required: True\r\n```\r\n\r\nAnd that will give\r\n\r\n```\r\n= user\r\n        foreman authentication user\r\n\r\n        set_via:\r\n          env:\r\n          - name: FOREMAN_USER\r\n        \r\n        version_added: 2.8\r\n```\r\n\r\nBut this isn't actually correct - the field was not added in 2.8. Only the option to get the field from the environment variable is added in 2.8. The field has been there for a while.\r\n\r\nAlternatively\r\n\r\n```diff\r\ndiff --git a/lib/ansible/plugins/inventory/foreman.py b/lib/ansible/plugins/inventory/foreman.py\r\nindex 6827e558d6..cbf64581d8 100644\r\n--- a/lib/ansible/plugins/inventory/foreman.py\r\n+++ b/lib/ansible/plugins/inventory/foreman.py\r\n@@ -32,6 +32,7 @@ DOCUMENTATION = '''\r\n         required: True\r\n         env:\r\n             - name: FOREMAN_USER\r\n+            version_added: 2.8\r\n       password:\r\n         description: foreman authentication password\r\n         required: True\r\n```\r\n\r\ndoes not work, with a formatting error.",
        "createdAt" : "2019-02-21T16:21:28Z",
        "updatedAt" : "2019-02-21T17:12:24Z",
        "lastEditedBy" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "tags" : [
        ]
      },
      {
        "id" : "c4a65d35-5a02-435e-b963-56ae9041f6e5",
        "parentId" : "65ec6ae5-07ae-4c7c-973b-c06e4d2ccea4",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "need to indent to match 'name:' also quote it , needs to be string, not float\r\n",
        "createdAt" : "2019-02-21T16:41:38Z",
        "updatedAt" : "2019-02-21T17:12:24Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "587bd324-7223-4137-b8f4-cfefcb4dfff2",
        "parentId" : "65ec6ae5-07ae-4c7c-973b-c06e4d2ccea4",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "its the specific entry 'that env var' that was added, not the 'env' section, this way we can add/deprecate/remove specific entries and have multiple ones",
        "createdAt" : "2019-02-21T16:42:07Z",
        "updatedAt" : "2019-02-21T17:12:24Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "a776209f-ce98-4314-a9c1-610ec447d0fa",
        "parentId" : "65ec6ae5-07ae-4c7c-973b-c06e4d2ccea4",
        "authorId" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "body" : "> need to indent to match 'name:'\r\n\r\nI can do that, and then `ansible-doc -t inventory foreman`, but it also doesn't show any information in that command about the version.\r\n\r\n```\r\n- url\r\n        url to foreman\r\n        [Default: http://localhost:3000]\r\n        set_via:\r\n          env:\r\n          - name: FOREMAN_SERVER\r\n        \r\n\r\n= user\r\n        foreman authentication user\r\n\r\n        set_via:\r\n          env:\r\n          - name: FOREMAN_USER\r\n```\r\n\r\nIf that's intended, then it's fine by me.",
        "createdAt" : "2019-02-21T17:11:49Z",
        "updatedAt" : "2019-02-21T17:12:24Z",
        "lastEditedBy" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "tags" : [
        ]
      },
      {
        "id" : "b24546bd-af2b-4467-ae8b-092440ddf3cb",
        "parentId" : "65ec6ae5-07ae-4c7c-973b-c06e4d2ccea4",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "ansible-doc doesnt need it cause its 'current version' that is mostly for the html docsite",
        "createdAt" : "2019-02-21T17:21:11Z",
        "updatedAt" : "2019-02-21T17:21:11Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "53358f5d-618d-42e7-ab95-7370e06471b6",
        "parentId" : "65ec6ae5-07ae-4c7c-973b-c06e4d2ccea4",
        "authorId" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "body" : "ok, current state of PR reflects this.\r\n\r\nSome other users who have touched this plugin: @milliams @vmpr, other people who touched it when it was still a script @keithresar @giovannisciortino\r\n\r\nJust thought I would ping them in case they have any other review comments for this behavior change.",
        "createdAt" : "2019-02-21T17:48:42Z",
        "updatedAt" : "2019-02-21T17:48:42Z",
        "lastEditedBy" : "38b7d9c4-df1f-44d2-a0a2-539900170fbe",
        "tags" : [
        ]
      }
    ],
    "commit" : "041727bbda2fb5acd8ad059ab0c3d08e5c2396b3",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +27,31 @@        default: 'http://localhost:3000'\n        env:\n            - name: FOREMAN_SERVER\n              version_added: \"2.8\"\n      user:"
  },
  {
    "id" : "c5475353-d1eb-407e-97ac-944cb70f90d3",
    "prId" : 54333,
    "prUrl" : "https://github.com/ansible/ansible/pull/54333#pullrequestreview-218404342",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f1b09c1f-ae2c-4fd0-baf3-5bcd513d5d62",
        "parentId" : null,
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "Just noticed. Not a blocker, but I wonder whether we can avoid accessing the `ret` dict twice and do:\r\n```suggestion\r\n         if not ret or not isinstance(ret, MutableMapping):\r\n```\r\nand then on line 179: `return ret.get('all_parameters', {})`?",
        "createdAt" : "2019-03-25T13:30:30Z",
        "updatedAt" : "2019-03-25T13:30:30Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "f5c3aa2a-1bd6-4033-b9f5-344b480933b2",
        "parentId" : "f1b09c1f-ae2c-4fd0-baf3-5bcd513d5d62",
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "But that can be addressed in a separate PR :)",
        "createdAt" : "2019-03-25T13:32:59Z",
        "updatedAt" : "2019-03-25T13:33:00Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "7eaed155-0563-4194-814e-88d0e8b16b41",
        "parentId" : "f1b09c1f-ae2c-4fd0-baf3-5bcd513d5d62",
        "authorId" : "0733725c-be4c-44c9-bdde-56f9baa5566e",
        "body" : "I'll put that in another PR so that we can get this bugfix in and backported.",
        "createdAt" : "2019-03-25T14:38:27Z",
        "updatedAt" : "2019-03-25T14:38:27Z",
        "lastEditedBy" : "0733725c-be4c-44c9-bdde-56f9baa5566e",
        "tags" : [
        ]
      },
      {
        "id" : "46ebec21-abf1-4451-b8dc-7b77709faa2b",
        "parentId" : "f1b09c1f-ae2c-4fd0-baf3-5bcd513d5d62",
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : ":+1: ",
        "createdAt" : "2019-03-25T15:29:10Z",
        "updatedAt" : "2019-03-25T15:29:11Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      }
    ],
    "commit" : "545b98645d04b2d26eb95354d8edf4d8e9d4e2a2",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +175,179 @@        url = \"%s/api/v2/hosts/%s\" % (self.foreman_url, hid)\n        ret = self._get_json(url, [404])\n        if not ret or not isinstance(ret, MutableMapping) or not ret.get('all_parameters', False):\n            return {}\n        return ret.get('all_parameters')"
  }
]