[
  {
    "id" : "b7ad3a51-fad1-48f4-9a6d-0eb778a52e92",
    "prId" : 17813,
    "prUrl" : "https://github.com/ansible/ansible/pull/17813#pullrequestreview-2202630",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fd3587df-aab2-435f-a9c3-ac86025311e4",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "i would move this into the 'else' below when it does not match 'smart', also probably should be .lower()\n",
        "createdAt" : "2016-09-29T18:34:08Z",
        "updatedAt" : "2016-09-29T19:19:06Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "1621b7b7-8c1b-4f6a-8d89-af1fc1e6579b",
        "parentId" : "fd3587df-aab2-435f-a9c3-ac86025311e4",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "also need to return AnsibleOptionsError if the value of the config is incorrect\n",
        "createdAt" : "2016-09-29T18:35:21Z",
        "updatedAt" : "2016-09-29T19:19:06Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "5fcbd38bd959241f1828dc5b70db9712ec44d753",
    "line" : 50,
    "diffHunk" : "@@ -1,1 +647,651 @@\n        # since this can be a non-bool now, we need to handle it correctly\n        scp_if_ssh = C.DEFAULT_SCP_IF_SSH\n        if not isinstance(scp_if_ssh, bool):\n            scp_if_ssh = scp_if_ssh.lower()"
  },
  {
    "id" : "279b9ebd-ef50-4d96-b37d-e72dfe69251c",
    "prId" : 17813,
    "prUrl" : "https://github.com/ansible/ansible/pull/17813#pullrequestreview-2233731",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0acd718e-df3e-4c52-a3d7-da66db078381",
        "parentId" : null,
        "authorId" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "body" : "I'd move this block into it's own method since fetch_file will likely need it as well.\n",
        "createdAt" : "2016-09-29T21:23:56Z",
        "updatedAt" : "2016-09-29T21:44:30Z",
        "lastEditedBy" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "tags" : [
        ]
      }
    ],
    "commit" : "5fcbd38bd959241f1828dc5b70db9712ec44d753",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +648,652 @@        # since this can be a non-bool now, we need to handle it correctly\n        scp_if_ssh = C.DEFAULT_SCP_IF_SSH\n        if not isinstance(scp_if_ssh, bool):\n            scp_if_ssh = scp_if_ssh.lower()\n            if scp_if_ssh in BOOLEANS:"
  },
  {
    "id" : "9e794fe5-e225-465e-bcfa-8f89299ae1df",
    "prId" : 17813,
    "prUrl" : "https://github.com/ansible/ansible/pull/17813#pullrequestreview-2233731",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d1f8e73f-2894-45e3-9635-1eb941e81a6b",
        "parentId" : null,
        "authorId" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "body" : "may be cleaner to build the list of methods, iterate on that list to build a list of (cmd,in_data,checkrc) for each method, then iterate over that list when invoking it. something like:\n\n``` python\nmethod_names =['sftp']\nif scp_if_ssh == 'smart':\n     method_names.append('scp')\nelif scp_if_ssh:\n     method_names = ['scp']\n\nmethods = []\nfor method_name in method_names:\n    if method_name == 'sftp':\n          methods.append(self._build_sftp_put_command(host, in_path, out_path))\n   if method_name == 'scp':\n         methods.append(self._build_scp_put_command(host, in_path, out_path))\n\nfor cmd, in_data, checkrc, method in methods:\n    (returncode, stdout, stderr) = self._run(cmd, in_data, checkrc)\n    if returncode == 0:\n         return\n   if scp_if_ssh == 'smart':\n         <the display warning/debug code here>\n\n# nothing succeeded and returned\nraise AnsibleError...\n```\n",
        "createdAt" : "2016-09-29T21:43:21Z",
        "updatedAt" : "2016-09-29T21:44:30Z",
        "lastEditedBy" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "tags" : [
        ]
      }
    ],
    "commit" : "5fcbd38bd959241f1828dc5b70db9712ec44d753",
    "line" : 74,
    "diffHunk" : "@@ -1,1 +671,675 @@                cmd = self._build_command('scp', in_path, u'{0}:{1}'.format(host, pipes.quote(out_path)))\n                in_data = None\n\n            in_data = to_bytes(in_data, nonstring='passthru')\n            (returncode, stdout, stderr) = self._run(cmd, in_data, checkrc=False)"
  }
]