[
  {
    "id" : "40d21ab1-e26a-49e3-a4f8-c63a291bac73",
    "prId" : 48486,
    "prUrl" : "https://github.com/ansible/ansible/pull/48486#pullrequestreview-177023436",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "531159ba-1e6d-4679-9a7c-f7cb7baa37c7",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "If this fails, it would be good to be able to fall back to instance role credentials if they exist. Here's a commit fixing that for another plugin for reference if it helps https://github.com/ansible/ansible/commit/d5a5e37fcf39de757ebe66bb239d9b9a5837b9ab#diff-fde53b7bca9c303ec46c0a71219bab47",
        "createdAt" : "2018-11-13T16:07:36Z",
        "updatedAt" : "2019-02-25T19:09:57Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      },
      {
        "id" : "a05e9154-b248-4f78-a3ca-4274056d0354",
        "parentId" : "531159ba-1e6d-4679-9a7c-f7cb7baa37c7",
        "authorId" : "2ff77e92-4a73-4433-b311-af40c7d9dcdb",
        "body" : "ok, I pushed a fix for your comments except this one.\r\n\r\nThis part of the code looks to be a copy of aws_ssm plugin. shouldn't the credentials retrieval be factorized somewhere in aws common code ?",
        "createdAt" : "2018-11-20T23:38:24Z",
        "updatedAt" : "2019-02-25T19:09:57Z",
        "lastEditedBy" : "2ff77e92-4a73-4433-b311-af40c7d9dcdb",
        "tags" : [
        ]
      }
    ],
    "commit" : "e4241257e383b6c06a32171572ad68bb31a5eed3",
    "line" : 82,
    "diffHunk" : "@@ -1,1 +80,84 @@        if boto_profile:\n            try:\n                connection = boto3.session.Session(profile_name=boto_profile).client('secretsmanager', region)\n            except (botocore.exceptions.ProfileNotFound, botocore.exceptions.PartialCredentialsError) as e:\n                raise AnsibleError(\"Insufficient credentials found.\")"
  }
]