[
  {
    "id" : "7452d12a-b2bf-4b5d-a0c3-b70a38f258b8",
    "prId" : 44070,
    "prUrl" : "https://github.com/ansible/ansible/pull/44070#pullrequestreview-150079625",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e4fce81c-2bd5-441e-afeb-38c91b83730f",
        "parentId" : null,
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "Should not be this lookup named `amqp` (Then notes should state that 0.9.1 only is supported) ?",
        "createdAt" : "2018-08-27T13:18:45Z",
        "updatedAt" : "2018-09-29T03:40:53Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      },
      {
        "id" : "11f04620-8146-48f4-bf1f-2b23896c1cbf",
        "parentId" : "e4fce81c-2bd5-441e-afeb-38c91b83730f",
        "authorId" : "eb79018f-85d5-4d29-b605-e6192a1271f7",
        "body" : "As you probably noticed in the code I was tossing up between calling it amqp or rabbitmq.  Settled on rabbitmq as all the examples I could find were pika to rabbitmq... also, I wanted to develop tests around rabbitmq.  I'll put something in the notes.",
        "createdAt" : "2018-08-28T11:37:16Z",
        "updatedAt" : "2018-09-29T03:40:53Z",
        "lastEditedBy" : "eb79018f-85d5-4d29-b605-e6192a1271f7",
        "tags" : [
        ]
      }
    ],
    "commit" : "590e2b453e96b3af13ca273ebf81af1dcc4b795b",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +6,10 @@\nDOCUMENTATION = \"\"\"\n    lookup: rabbitmq\n    author: John Imison <@Im0>\n    version_added: \"2.8\""
  },
  {
    "id" : "4ddf514f-8b3a-4f6e-a28d-9ed72c7727e9",
    "prId" : 44070,
    "prUrl" : "https://github.com/ansible/ansible/pull/44070#pullrequestreview-150358875",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bf71fea6-629b-43ff-b527-452238326a2b",
        "parentId" : null,
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "`msg: \"{{ lookup('rabbitmq', url='amqp://guest:guest@192.168.0.10:5672/%2F', channel='hello', count=2 ) }}\"` could be used here instead of `var: messages`, no need to use `set_fact`.",
        "createdAt" : "2018-08-27T13:21:55Z",
        "updatedAt" : "2018-09-29T03:40:53Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      },
      {
        "id" : "b1e38484-4d96-4e2e-875a-027c95695e23",
        "parentId" : "bf71fea6-629b-43ff-b527-452238326a2b",
        "authorId" : "eb79018f-85d5-4d29-b605-e6192a1271f7",
        "body" : "I got burnt by Ansible lazy loading of variables, so, wanted to make sure the suggestion used set fact to ensure no lazy loading.   ",
        "createdAt" : "2018-08-28T11:19:12Z",
        "updatedAt" : "2018-09-29T03:40:53Z",
        "lastEditedBy" : "eb79018f-85d5-4d29-b605-e6192a1271f7",
        "tags" : [
        ]
      },
      {
        "id" : "7aeddb66-8652-4ebd-be6c-808a36fd10a0",
        "parentId" : "bf71fea6-629b-43ff-b527-452238326a2b",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Not sure how the lazy loading of variables, the example would be simpler to just have the one task instead of 2 in the examples.\r\n\r\n```\r\n- name: Get 2 messages off a queue\r\n  debug:\r\n    msg: \"{{ lookup('rabbitmq', url='amqp://guest:guest@192.168.0.10:5672/%2F', channel='hello', count=2 ) }}\"\r\n```",
        "createdAt" : "2018-08-28T23:57:19Z",
        "updatedAt" : "2018-09-29T03:40:53Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "590e2b453e96b3af13ca273ebf81af1dcc4b795b",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +53,57 @@    messages: \"{{ lookup('rabbitmq', url='amqp://guest:guest@192.168.0.10:5672/%2F', queue='hello', count=2) }}\"\n\n- name: Dump out contents of the messages\n  debug:\n    var: messages"
  },
  {
    "id" : "8e75dda1-8541-473a-9f0f-bb57d57f2981",
    "prId" : 44070,
    "prUrl" : "https://github.com/ansible/ansible/pull/44070#pullrequestreview-161004121",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7a90f40f-8e18-4c2c-8ff0-fc38c43544e6",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "when using dict you can just do `dict(msg=to_text(body), message_count=....`.",
        "createdAt" : "2018-10-03T04:40:49Z",
        "updatedAt" : "2018-10-03T04:43:19Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "590e2b453e96b3af13ca273ebf81af1dcc4b795b",
    "line" : 156,
    "diffHunk" : "@@ -1,1 +154,158 @@\n                # TODO: In the future consider checking content_type and handle text/binary data differently.\n                msg_details = dict({\n                                   'msg': to_text(body),\n                                   'message_count': method_frame.message_count,"
  }
]