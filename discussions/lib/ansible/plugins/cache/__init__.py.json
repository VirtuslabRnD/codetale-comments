[
  {
    "id" : "c6cd2a35-0214-4797-a679-b34a21d57d25",
    "prId" : 12226,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5c96c8b9-8282-4219-b0ee-df5b923af419",
        "parentId" : null,
        "authorId" : "f01f60d2-e084-44c7-baad-7798a8518fb2",
        "body" : "Welp, I somehow missed the `from six import iteritems` here.\n",
        "createdAt" : "2015-09-03T06:40:30Z",
        "updatedAt" : "2015-09-03T06:40:30Z",
        "lastEditedBy" : "f01f60d2-e084-44c7-baad-7798a8518fb2",
        "tags" : [
        ]
      }
    ],
    "commit" : "823677b490d3ddc3bcfe8fa2f215d9d9c2167b14",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +61,65 @@    def copy(self):\n        \"\"\" Return a primitive copy of the keys and values from the cache. \"\"\"\n        return dict([(k, v) for (k, v) in iteritems(self)])\n\n    def keys(self):"
  },
  {
    "id" : "f68d9ce8-6742-41ac-821f-9214fe722f8e",
    "prId" : 49516,
    "prUrl" : "https://github.com/ansible/ansible/pull/49516#pullrequestreview-181885776",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3feab9cd-3f76-42f2-9f35-a85f86883759",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "I had plans to remove this altogether from vars manager, not sure if it is worth moving. We should deprecate it either way.",
        "createdAt" : "2018-12-05T16:10:21Z",
        "updatedAt" : "2018-12-05T18:48:20Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "f15c5b21-a6f7-4960-885c-662810132d82",
        "parentId" : "3feab9cd-3f76-42f2-9f35-a85f86883759",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Yeah... it seems like just a shim.  On the other hand, it gives us dict-semantics which is very nice for using the fact cache.  It feels like the cache plugins themselves should have implemented the dict-API but since they didn't this was built as a middle layer to make it easier to consume those.",
        "createdAt" : "2018-12-05T16:33:19Z",
        "updatedAt" : "2018-12-05T18:48:20Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "a5ce0cce-4473-4ad7-88e3-51ce99a33be5",
        "parentId" : "3feab9cd-3f76-42f2-9f35-a85f86883759",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "originally it compensated for cache plugins not having dict semantics, but since then we updated the base classes to follow those. So this shim should not be needed anymore, though we don't inherit from MutableMapping in BaseCacheModule so we might still have work to do on that front.",
        "createdAt" : "2018-12-05T16:48:16Z",
        "updatedAt" : "2018-12-05T18:48:20Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "921bf0c1-c458-45f3-bb61-b996e74042e2",
        "parentId" : "3feab9cd-3f76-42f2-9f35-a85f86883759",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "cache plugins don't yet have dict semantics.  They provide all of the building blocks but they are using the wrong method names and lack small bits of code which would make them usable as dicts.\r\n\r\nSince this is not used by cache plugins it makes sense to move this now.  It also lets us get a headstart on deprecating it from the public plugin API location which is nice.  I could change the wording, though, to tell people to port to using the cache plugin directly via ```loader.cache_loader()``` if you want, though.",
        "createdAt" : "2018-12-05T17:42:20Z",
        "updatedAt" : "2018-12-05T18:48:20Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "b31ce8553203045a2515d3d3243078bb563e08de",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +36,40 @@\n\nclass FactCache(RealFactCache):\n    \"\"\"\n    This is for backwards compatibility.  Will be removed after deprecation.  It was removed as it"
  },
  {
    "id" : "9f0f58e1-d14f-4d9f-9f7a-6d0b6b9d0b83",
    "prId" : 50446,
    "prUrl" : "https://github.com/ansible/ansible/pull/50446#pullrequestreview-205811122",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cc3b49c4-896f-448b-8b79-f6a9aa8c94da",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "changed in become plugins",
        "createdAt" : "2019-02-20T15:08:08Z",
        "updatedAt" : "2019-03-06T15:57:18Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "835425c283c3787111cdead3e4d1775b12901a66",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +103,107 @@            self._cache_dir = self._get_cache_connection(self.get_option('_uri'))\n            self._timeout = float(self.get_option('_timeout'))\n        except KeyError:\n            self._cache_dir = self._get_cache_connection(C.CACHE_PLUGIN_CONNECTION)\n            self._timeout = float(C.CACHE_PLUGIN_TIMEOUT)"
  },
  {
    "id" : "58215e3a-5da9-4cb0-8bd8-4bac280a0676",
    "prId" : 56469,
    "prUrl" : "https://github.com/ansible/ansible/pull/56469#pullrequestreview-238927408",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0629c904-d752-44a3-956c-857aaf89a965",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "i would say the bug is that the plugin inside the collection is not using a correct  name, it needs to match the collection name, we should not have to make every other plugin or base class collection aware",
        "createdAt" : "2019-05-15T15:57:35Z",
        "updatedAt" : "2020-03-24T15:47:56Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "caeed75f-a46e-45c9-bb4d-24cc76ef9abf",
        "parentId" : "0629c904-d752-44a3-956c-857aaf89a965",
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "This was true for the inventory plugin in the collection. Thanks for noticing that. Cache is a different case since they do not set their own name. Also kind of feeling like I wish inventory plugins did not set NAME: https://github.com/ansible/ansible/pull/56469#discussion_r285124586\r\n\r\nI modified the loader instead to set self._load_name early enough for the plugin `__init__`",
        "createdAt" : "2019-05-17T13:34:23Z",
        "updatedAt" : "2020-03-24T15:47:56Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "bb1e4ce9d75175ac2b488dae0c13235f2f9a859d",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +64,68 @@            display.deprecated('Rather than importing custom CacheModules directly, use ansible.plugins.loader.cache_loader', version='2.14')\n            self._load_name = self.__module__.split('.')[-1]\n        super(BaseCacheModule, self).__init__()\n        self.set_options(var_options=args, direct=kwargs)\n"
  },
  {
    "id" : "89ce6d7f-5909-48eb-b1f2-9de7bf04ae5b",
    "prId" : 69872,
    "prUrl" : "https://github.com/ansible/ansible/pull/69872#pullrequestreview-424190726",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1c212486-a12b-4346-883e-e6c4e28027b6",
        "parentId" : null,
        "authorId" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "body" : "@bcoca , Personally I prefer the \"New Style\" String formating. \r\n\r\n```python\r\ncachefile = \"{0}/{1}\".format(self._cache_dir, key)\r\n````",
        "createdAt" : "2020-06-04T07:55:27Z",
        "updatedAt" : "2020-06-10T20:43:49Z",
        "lastEditedBy" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "tags" : [
        ]
      }
    ],
    "commit" : "6417b246a14f330f090faf936829383f87318078",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +143,147 @@            cachefile = \"%s/%s%s\" % (self._cache_dir, prefix, key)\n        else:\n            cachefile = \"%s/%s\" % (self._cache_dir, key)\n        return cachefile\n"
  }
]