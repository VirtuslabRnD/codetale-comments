[
  {
    "id" : "7c2f8cc3-187d-4087-aa1a-3c0a0e9904b7",
    "prId" : 5283,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6806a329-d231-4b11-b05c-15c5178ca89b",
        "parentId" : null,
        "authorId" : "d10ccdef-08de-4320-917e-16a9175dedcf",
        "body" : "very minor nit: wouldn't it be _slightly_ more efficient to: \n\n``` js\nif (options.keepOpen) return;\nif (handle) handle.close();\n```\n\n/cc @bnoordhuis \n",
        "createdAt" : "2016-02-17T16:53:10Z",
        "updatedAt" : "2016-02-22T17:02:47Z",
        "lastEditedBy" : "d10ccdef-08de-4320-917e-16a9175dedcf",
        "tags" : [
        ]
      },
      {
        "id" : "0f938803-2f3c-4cdb-a9ff-514e720e57ee",
        "parentId" : "6806a329-d231-4b11-b05c-15c5178ca89b",
        "authorId" : "ff334962-2ee8-45f1-ad4a-cfb65ffd6744",
        "body" : "I don't really like the idea of returning from the function early if `options.keepOpen` is `true`. That could require more refactoring if we ever decided to add more functionality here. It also makes the code less readable IMO. Also, 100% of legacy code and probably the majority of new code would have `keepOpen = false`, meaning that it would have to run two separate `if` statements instead of only checking `keepOpen` if `handle` is truthy.\n",
        "createdAt" : "2016-02-18T16:48:54Z",
        "updatedAt" : "2016-02-22T17:02:47Z",
        "lastEditedBy" : "ff334962-2ee8-45f1-ad4a-cfb65ffd6744",
        "tags" : [
        ]
      },
      {
        "id" : "e01b0f41-8257-4eec-be7f-d21c1c813c58",
        "parentId" : "6806a329-d231-4b11-b05c-15c5178ca89b",
        "authorId" : "d10ccdef-08de-4320-917e-16a9175dedcf",
        "body" : "ok, good enough for me.\n",
        "createdAt" : "2016-02-19T22:34:21Z",
        "updatedAt" : "2016-02-22T17:02:47Z",
        "lastEditedBy" : "d10ccdef-08de-4320-917e-16a9175dedcf",
        "tags" : [
        ]
      }
    ],
    "commit" : "e854f60585061c81702cf680ad8079a447d19ef1",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +96,100 @@\n    postSend: function(handle, options) {\n      // Close the Socket handle after sending it\n      if (handle && !options.keepOpen)\n        handle.close();"
  },
  {
    "id" : "9defc56e-0ba6-4796-bba8-571c6092d8b7",
    "prId" : 5283,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6c95f411-209b-4ecd-a64f-ad099af3fd95",
        "parentId" : null,
        "authorId" : "4224fcfe-ee22-4bd8-9ed5-4e8efd7a90bc",
        "body" : "Just noting that this allows a `send(message, callback, options)` signature.\n",
        "createdAt" : "2016-02-21T20:11:14Z",
        "updatedAt" : "2016-02-22T17:02:47Z",
        "lastEditedBy" : "4224fcfe-ee22-4bd8-9ed5-4e8efd7a90bc",
        "tags" : [
        ]
      }
    ],
    "commit" : "e854f60585061c81702cf680ad8079a447d19ef1",
    "line" : 94,
    "diffHunk" : "@@ -1,1 +506,510 @@    if (typeof handle === 'function') {\n      callback = handle;\n      handle = undefined;\n      options = undefined;\n    } else if (typeof options === 'function') {"
  }
]