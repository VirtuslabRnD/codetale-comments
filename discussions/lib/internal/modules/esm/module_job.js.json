[
  {
    "id" : "f234d385-c87a-4841-82e8-8bc00ad0ba23",
    "prId" : 30370,
    "prUrl" : "https://github.com/nodejs/node/pull/30370#pullrequestreview-408759293",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b0d6c78a-bad2-4f5e-b7af-f5a491afc9a5",
        "parentId" : null,
        "authorId" : "23c9565c-5fe0-4faf-82b2-dc40116c9bfa",
        "body" : "nit: I prefer to keep this sort of code async functions and `return await` in order to get a more convenient stack trace though in this case since this is in the loader it's probably better this way.",
        "createdAt" : "2020-05-10T12:33:41Z",
        "updatedAt" : "2020-05-14T17:39:45Z",
        "lastEditedBy" : "23c9565c-5fe0-4faf-82b2-dc40116c9bfa",
        "tags" : [
        ]
      },
      {
        "id" : "5012da23-ffac-492e-81e5-c099f5cae36f",
        "parentId" : "b0d6c78a-bad2-4f5e-b7af-f5a491afc9a5",
        "authorId" : "af965d24-c34b-4c03-8ff1-5a5da6036269",
        "body" : "`return` is already an await point, the stack traces still work afaik.",
        "createdAt" : "2020-05-10T15:07:57Z",
        "updatedAt" : "2020-05-14T17:39:45Z",
        "lastEditedBy" : "af965d24-c34b-4c03-8ff1-5a5da6036269",
        "tags" : [
        ]
      },
      {
        "id" : "6a23a98a-7a67-41dd-8956-72b7b6524fcb",
        "parentId" : "b0d6c78a-bad2-4f5e-b7af-f5a491afc9a5",
        "authorId" : "23c9565c-5fe0-4faf-82b2-dc40116c9bfa",
        "body" : "I thought they didn't but I just checked and they do. I didn't know they fixed that.",
        "createdAt" : "2020-05-10T16:13:11Z",
        "updatedAt" : "2020-05-14T17:39:45Z",
        "lastEditedBy" : "23c9565c-5fe0-4faf-82b2-dc40116c9bfa",
        "tags" : [
        ]
      }
    ],
    "commit" : "5ae5262f448295e314393dad4c491259793cea3f",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +70,74 @@  }\n\n  instantiate() {\n    if (this.instantiated === undefined) {\n      this.instantiated = this._instantiate();"
  },
  {
    "id" : "c4439cbf-8467-412f-84eb-258729a7d30c",
    "prId" : 37852,
    "prUrl" : "https://github.com/nodejs/node/pull/37852#pullrequestreview-621202306",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4e936520-1e60-40b5-a8e5-e8d7ffba67f9",
        "parentId" : null,
        "authorId" : "af965d24-c34b-4c03-8ff1-5a5da6036269",
        "body" : "more than one of these if statements can be true at the same time. we should ensure every combination is a valid sentence or sentences.",
        "createdAt" : "2021-03-21T18:19:14Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "af965d24-c34b-4c03-8ff1-5a5da6036269",
        "tags" : [
        ]
      },
      {
        "id" : "2befe391-31d3-4f7b-82ab-7329546539bf",
        "parentId" : "4e936520-1e60-40b5-a8e5-e8d7ffba67f9",
        "authorId" : "df7fe02e-189e-45c5-a682-9b780fdce53e",
        "body" : "Well I think it is already, isn't it? Do you want me to add a test with all conditions being true at the same time?",
        "createdAt" : "2021-03-21T18:54:03Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "df7fe02e-189e-45c5-a682-9b780fdce53e",
        "tags" : [
        ]
      },
      {
        "id" : "cd02b9ea-e82c-486f-9d6c-dac7c90353d5",
        "parentId" : "4e936520-1e60-40b5-a8e5-e8d7ffba67f9",
        "authorId" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "body" : "Instead of ` in ES module scope` perhaps we can just say `in the ES module ${url}`.\r\n\r\n> Do you want me to add a test with all conditions being true at the same time?\r\n\r\nIt sounds to me like that is the request here.",
        "createdAt" : "2021-03-25T14:16:29Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "tags" : [
        ]
      },
      {
        "id" : "1f40aa6d-56d7-49d3-aebf-85c963f54a37",
        "parentId" : "4e936520-1e60-40b5-a8e5-e8d7ffba67f9",
        "authorId" : "df7fe02e-189e-45c5-a682-9b780fdce53e",
        "body" : "> we can just say `in the ES module ${url}`.\r\n\r\nThe `url` is already provided in the first line of the stack trace, is it useful to repeat it here?",
        "createdAt" : "2021-03-25T14:41:52Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "df7fe02e-189e-45c5-a682-9b780fdce53e",
        "tags" : [
        ]
      },
      {
        "id" : "2ad987c2-ad15-4943-abdd-38bcf9c2ab91",
        "parentId" : "4e936520-1e60-40b5-a8e5-e8d7ffba67f9",
        "authorId" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "body" : "Good poin - if we definitely have an error frame for all of these then we should work to that.",
        "createdAt" : "2021-03-25T14:43:57Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7b2bad40056b43486dcba5e31b5569685108b09d",
    "line" : 52,
    "diffHunk" : "@@ -1,1 +177,181 @@      if (e?.name === 'ReferenceError' &&\n          isCommonJSGlobalLikeNotDefinedError(e.message)) {\n        e.message += ' in ES module scope';\n\n        if (StringPrototypeStartsWith(e.message, 'require ')) {"
  },
  {
    "id" : "7cb00960-e3ed-454b-8c6b-f470bd52f043",
    "prId" : 37852,
    "prUrl" : "https://github.com/nodejs/node/pull/37852#pullrequestreview-621212738",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f2bc341a-3530-4c45-824a-50ae2995cb82",
        "parentId" : null,
        "authorId" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "body" : "Perhaps - `Use \"import\" instead or `",
        "createdAt" : "2021-03-25T14:19:24Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "tags" : [
        ]
      },
      {
        "id" : "d64444b7-f2e6-4bd1-b592-7ba18708772a",
        "parentId" : "f2bc341a-3530-4c45-824a-50ae2995cb82",
        "authorId" : "df7fe02e-189e-45c5-a682-9b780fdce53e",
        "body" : "Is your comment incomplete or? ðŸ˜…\r\nFor reference, the `e.message` at this point is `ReferenceError: require is not defined in ES module scope`.",
        "createdAt" : "2021-03-25T14:30:39Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "df7fe02e-189e-45c5-a682-9b780fdce53e",
        "tags" : [
        ]
      },
      {
        "id" : "59fddab0-3c26-4dd0-bc88-a1f2e5cdb3dd",
        "parentId" : "f2bc341a-3530-4c45-824a-50ae2995cb82",
        "authorId" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "body" : "Was working to `ReferenceError: require is not defined in the ES module ${url}` per the previous comment.",
        "createdAt" : "2021-03-25T14:35:23Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "tags" : [
        ]
      },
      {
        "id" : "1f0ac230-b501-4633-b169-a91978ccb475",
        "parentId" : "f2bc341a-3530-4c45-824a-50ae2995cb82",
        "authorId" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "body" : "The `or` was supposed to compose with the `.cjs` extension suggestion, but we could keep that at the end too.",
        "createdAt" : "2021-03-25T14:36:01Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "3b2df505-72aa-4ca9-add0-bc742e87c02b",
        "tags" : [
        ]
      },
      {
        "id" : "dec102da-9817-4250-9bad-fe893378a061",
        "parentId" : "f2bc341a-3530-4c45-824a-50ae2995cb82",
        "authorId" : "df7fe02e-189e-45c5-a682-9b780fdce53e",
        "body" : "Oh I see! Note that the second part is printed out only if the module is `.js`, we need to take into account the case where the module is using a different extension or is a `data:` URL.",
        "createdAt" : "2021-03-25T14:52:20Z",
        "updatedAt" : "2021-04-13T17:07:18Z",
        "lastEditedBy" : "df7fe02e-189e-45c5-a682-9b780fdce53e",
        "tags" : [
        ]
      }
    ],
    "commit" : "7b2bad40056b43486dcba5e31b5569685108b09d",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +180,184 @@\n        if (StringPrototypeStartsWith(e.message, 'require ')) {\n          e.message += ', you can use import instead';\n        }\n"
  }
]