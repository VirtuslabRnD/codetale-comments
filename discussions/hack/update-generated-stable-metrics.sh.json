[
  {
    "id" : "696c08bb-d306-46f1-9adc-ec3799450782",
    "prId" : 98739,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/98739#pullrequestreview-585963803",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "90df3176-e926-444b-9e09-b3570acb9cd3",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "I tried changing an existing metric from ALPHA to STABLE and running this script:\r\n\r\n```diff\r\ndiff --git a/pkg/kubelet/certificate/kubelet.go b/pkg/kubelet/certificate/kubelet.go\r\nindex af2d21717dc..0c8ef588347 100644\r\n--- a/pkg/kubelet/certificate/kubelet.go\r\n+++ b/pkg/kubelet/certificate/kubelet.go\r\n@@ -82,7 +82,7 @@ func NewKubeletServerCertificateManager(kubeClient clientset.Interface, kubeCfg\r\n \t\t\t\t31104000,  // 1  year\r\n \t\t\t\t124416000, // 4  years\r\n \t\t\t},\r\n-\t\t\tStabilityLevel: compbasemetrics.ALPHA,\r\n+\t\t\tStabilityLevel: compbasemetrics.STABLE,\r\n \t\t},\r\n \t)\r\n \tlegacyregistry.MustRegister(certificateRotationAge)\r\n```\r\n\r\n```\r\n$ hack/update-generated-stable-metrics.sh \r\ngo: gopkg.in/yaml.v2 upgrade => v2.4.0\r\n./pkg/kubelet/certificate/kubelet.go:70:4: Non string attribute it not supported\r\nexit status 1\r\n!!! [0208 16:47:02] Call tree:\r\n!!! [0208 16:47:02]  1: hack/update-generated-stable-metrics.sh:28 kube::update::stablemetrics(...)\r\n\r\n$ echo $?\r\n1\r\n\r\n$ git status\r\nOn branch so-stable\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git restore <file>...\" to discard changes in working directory)\r\n\tmodified:   pkg/kubelet/certificate/kubelet.go\r\n\r\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\r\n```\r\n\r\nshould that have updated `test/instrumentation/testdata/stable-metrics-list.yaml`?",
        "createdAt" : "2021-02-08T21:48:29Z",
        "updatedAt" : "2021-02-08T21:48:29Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "baf5582f-7057-455a-8a25-b4dba4b4c9ca",
        "parentId" : "90df3176-e926-444b-9e09-b3570acb9cd3",
        "authorId" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "body" : "Ah, yeah, Marek is tracking that one. There are some corner cases we don't support yet due (i.e. having a constant populating the subsystem field.\r\n\r\nref: https://github.com/kubernetes/kubernetes/issues/81863 ",
        "createdAt" : "2021-02-08T22:02:07Z",
        "updatedAt" : "2021-02-08T22:02:10Z",
        "lastEditedBy" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "c3f550f3cb32cc580916ca3e87712ec07f27d91b",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +26,30 @@source \"${KUBE_ROOT}/test/instrumentation/stability-utils.sh\"\n\nkube::update::stablemetrics\n"
  }
]