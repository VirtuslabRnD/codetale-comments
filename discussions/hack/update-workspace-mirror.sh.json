[
  {
    "id" : "287d4fad-8f23-4c7e-ba70-e7d54d3bf0e7",
    "prId" : 76280,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76280#pullrequestreview-224021559",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c98c3f97-99b9-4a13-a320-95cee6bf5c1f",
        "parentId" : null,
        "authorId" : "921f1850-2d1a-48fe-8e85-5137dedb49ee",
        "body" : "Why did it change? What did it fix?\r\n```\r\nIn ./hack/update-workspace-mirror.sh line 32:\r\ntrap \"rm ${tmpfile}\" EXIT\r\n         ^--------^ SC2064: Use single quotes, otherwise this expands now rather than when signalled.\r\nRef: https://github.com/koalaman/shellcheck/wiki/SC2064\r\n```",
        "createdAt" : "2019-04-08T18:43:58Z",
        "updatedAt" : "2019-04-08T18:44:44Z",
        "lastEditedBy" : "921f1850-2d1a-48fe-8e85-5137dedb49ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "961f1621aa79c597bfd39214582472ce77cb5a1c",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +30,34 @@\ntmpfile=$(mktemp bazel_workspace_mirror.XXXXXX)\ntrap 'rm ${tmpfile}' EXIT\nwhile read -r url; do\n  echo \"${url}\""
  },
  {
    "id" : "aaa86060-c352-4d2f-abe9-0db3818dd324",
    "prId" : 76280,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76280#pullrequestreview-224021559",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "59d38cdf-2414-4817-b86e-ac75f2865fef",
        "parentId" : null,
        "authorId" : "921f1850-2d1a-48fe-8e85-5137dedb49ee",
        "body" : "Why did it change? What did it fix?\r\n```\r\nIn ./hack/update-workspace-mirror.sh line 33:\r\ncat \"$1\" | while read url; do\r\n    ^--^ SC2002: Useless cat. Consider 'cmd < file | ..' or 'cmd file | ..' instead.\r\n                 ^--^ SC2162: read without -r will mangle backslashes.\r\nRef: https://github.com/koalaman/shellcheck/wiki/SC2002\r\nRef: https://github.com/koalaman/shellcheck/wiki/SC2162\r\n```",
        "createdAt" : "2019-04-08T18:44:41Z",
        "updatedAt" : "2019-04-08T18:44:44Z",
        "lastEditedBy" : "921f1850-2d1a-48fe-8e85-5137dedb49ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "961f1621aa79c597bfd39214582472ce77cb5a1c",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +31,35 @@tmpfile=$(mktemp bazel_workspace_mirror.XXXXXX)\ntrap 'rm ${tmpfile}' EXIT\nwhile read -r url; do\n  echo \"${url}\"\n  if gsutil ls \"${BUCKET}/${url}\" &> /dev/null; then"
  },
  {
    "id" : "ec967636-e02c-4983-8cb0-247b917afa68",
    "prId" : 62495,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/62495#pullrequestreview-114072531",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9c2fd3ec-4f55-4de6-8ada-01ff7df18f2f",
        "parentId" : null,
        "authorId" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "body" : "Does this still exit non zero on failures?",
        "createdAt" : "2018-04-19T05:04:37Z",
        "updatedAt" : "2018-04-20T21:18:11Z",
        "lastEditedBy" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "tags" : [
        ]
      },
      {
        "id" : "a75ffb6c-5ded-4581-8308-d978d6bf6394",
        "parentId" : "9c2fd3ec-4f55-4de6-8ada-01ff7df18f2f",
        "authorId" : "a0299f5e-d293-4eaf-b600-44d80bb14e1f",
        "body" : "yes-- it just makes sure the tmpfile doesn't linger if someone ctrl-Cs",
        "createdAt" : "2018-04-20T17:58:57Z",
        "updatedAt" : "2018-04-20T21:18:11Z",
        "lastEditedBy" : "a0299f5e-d293-4eaf-b600-44d80bb14e1f",
        "tags" : [
        ]
      }
    ],
    "commit" : "d53b5f1f2e781c24b8be947aebb8d90cb8f994db",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +30,34 @@\ntmpfile=$(mktemp bazel_workspace_mirror.XXXXXX)\ntrap \"rm ${tmpfile}\" EXIT\ncat \"$1\" | while read url; do\n  echo \"${url}\""
  },
  {
    "id" : "640e7123-6141-4fba-812d-c2ef6aaad3ec",
    "prId" : 62495,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/62495#pullrequestreview-114494046",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3098fef6-f5bf-45fa-8d46-5084aa7eb613",
        "parentId" : null,
        "authorId" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "body" : "Thoughts on piping directly to gsutil? `curl $url | gsutil cp - $BUCKET/$url` should work? Maybe flaky though...",
        "createdAt" : "2018-04-21T00:18:16Z",
        "updatedAt" : "2018-04-21T00:18:27Z",
        "lastEditedBy" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "tags" : [
        ]
      },
      {
        "id" : "e83b99c0-425c-4b06-b6f3-ff2dc01e6df3",
        "parentId" : "3098fef6-f5bf-45fa-8d46-5084aa7eb613",
        "authorId" : "a0299f5e-d293-4eaf-b600-44d80bb14e1f",
        "body" : "Piping directly can create empty or partial files if curl fails.",
        "createdAt" : "2018-04-23T18:02:54Z",
        "updatedAt" : "2018-04-23T18:02:54Z",
        "lastEditedBy" : "a0299f5e-d293-4eaf-b600-44d80bb14e1f",
        "tags" : [
        ]
      }
    ],
    "commit" : "d53b5f1f2e781c24b8be947aebb8d90cb8f994db",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +37,41 @@  else\n    echo missing\n    if curl -fLag \"${url}\" > \"${tmpfile}\"; then\n        gsutil cp -a public-read \"${tmpfile}\" \"${BUCKET}/${url}\"\n    fi"
  },
  {
    "id" : "1359f1dd-1291-4eb8-984b-4d12447e3905",
    "prId" : 62495,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/62495#pullrequestreview-114579635",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27465028-96e1-43f5-9769-d4b58f216e6d",
        "parentId" : null,
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "we should automate running this regularly once this is in",
        "createdAt" : "2018-04-23T22:37:47Z",
        "updatedAt" : "2018-04-23T22:37:47Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      }
    ],
    "commit" : "d53b5f1f2e781c24b8be947aebb8d90cb8f994db",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@#!/bin/bash\n\n# Copyright 2018 The Kubernetes Authors."
  }
]