[
  {
    "id" : "0bea92af-6e60-439d-8e43-9caf279af448",
    "prId" : 59532,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/59532#pullrequestreview-96347730",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a6a33b39-fa22-4148-a40f-dbd4e21163fa",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "could also wrap some of these long ones in a subshell, e.g.\r\n```shell\r\n(\r\n  echo \"blah\"\r\n  echo \"blah\"\r\n) >&2\r\n```\r\nbut this is fine too.",
        "createdAt" : "2018-02-14T00:06:32Z",
        "updatedAt" : "2018-02-14T00:06:32Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "757feee04fbd38dc6368c21d7fbbb7db80fc6989",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +103,107 @@\n  if ! _out=\"$(diff -Naupr -x \"BUILD\" -x \"OWNERS\" -x \"AUTHORS*\" -x \"CONTRIBUTORS*\" vendor ${_kubetmp}/vendor)\"; then\n    echo \"Your vendored results are different:\" >&2\n    echo \"${_out}\" >&2\n    echo \"Godeps Verify failed.\" >&2"
  },
  {
    "id" : "26ed2bc0-e6ef-4ef3-bb20-153fa2204517",
    "prId" : 59048,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/59048#pullrequestreview-93759808",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "28a78b3f-d2a9-430c-b3bb-9447861b1cb2",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "Why do we need this?  Both godep-restore.sh and godep-save.sh call this...",
        "createdAt" : "2018-02-01T06:23:19Z",
        "updatedAt" : "2018-02-01T06:23:19Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "9e8ceebf-6d95-4624-881c-ebef8cf56c01",
        "parentId" : "28a78b3f-d2a9-430c-b3bb-9447861b1cb2",
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "The issue with that is that we create a new temporary gopath to restore/save the deps, and that GOPATH/bin won't ever be in the path, as it's in a randomly generated temp folder.",
        "createdAt" : "2018-02-01T06:33:13Z",
        "updatedAt" : "2018-02-01T06:33:13Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      },
      {
        "id" : "74ccf00f-3142-4e1e-b12c-51f8bf7bfbd5",
        "parentId" : "28a78b3f-d2a9-430c-b3bb-9447861b1cb2",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "> Why do we need this?\r\n\r\nWhat is the issue with this call? Is it the \"ensure\" that you don't like? I.e. we could just check and complain, or install into a temporary dir.",
        "createdAt" : "2018-02-01T07:52:26Z",
        "updatedAt" : "2018-02-01T07:52:27Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "01388911-50b6-44a6-b2e1-607efef10998",
        "parentId" : "28a78b3f-d2a9-430c-b3bb-9447861b1cb2",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "It's disconnected from where it is being used, and it is already called in teh places where it is being used (or should be).",
        "createdAt" : "2018-02-02T21:07:48Z",
        "updatedAt" : "2018-02-02T21:07:48Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "fb1efe91-5d94-42a0-ac54-6b9c2513f9dd",
        "parentId" : "28a78b3f-d2a9-430c-b3bb-9447861b1cb2",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "@cblecker - not sure I understand your point.  Wherever we change GOPATH we should also change PATH",
        "createdAt" : "2018-02-02T21:19:37Z",
        "updatedAt" : "2018-02-02T21:19:37Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "d58afe63845124afafce06739ff2638e51b29e15",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +31,35 @@\n# Ensure we have the right godep version available\nkube::util::ensure_godep_version\n\nif [[ -z ${TMP_GOPATH:-} ]]; then"
  },
  {
    "id" : "e0b0c2aa-7cc7-4a91-87d3-b826244c2719",
    "prId" : 57600,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/57600#pullrequestreview-93759902",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "83479f99-edb8-4309-b713-d58643e6ecc8",
        "parentId" : null,
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "You had raised concerns about doing stuff like this here: https://github.com/kubernetes/kubernetes/pull/59048#discussion_r165268522\r\n\r\nI'm wondering if a method like https://github.com/kubernetes/kubernetes/pull/59210 would be better. This approach uses the run-in-gopath method so that the utility is built hermetically, and doesn't A) overwrite a version of the tool already existing in the user's environment or B) pollute their $GOPATH/pkg\r\n\r\nLet me know what you think!",
        "createdAt" : "2018-02-02T19:04:50Z",
        "updatedAt" : "2018-03-30T00:04:47Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      },
      {
        "id" : "f9cf5e2d-1e6f-4218-ba95-b738a80f44ee",
        "parentId" : "83479f99-edb8-4309-b713-d58643e6ecc8",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "The issue I took was changing global variables deep inside a function.\r\n\r\nChanging them in a first-level script is OK.\r\n\r\nBasically, any place that changes GOPATH should also change PATH to frontload the new GOPATH/bin",
        "createdAt" : "2018-02-02T21:09:10Z",
        "updatedAt" : "2018-03-30T00:04:47Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "3cef15a6-01b3-4895-a02d-0f09e561660f",
        "parentId" : "83479f99-edb8-4309-b713-d58643e6ecc8",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "I added a commit here that seems simple - PTAL?",
        "createdAt" : "2018-02-02T21:19:51Z",
        "updatedAt" : "2018-03-30T00:04:47Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "4a5e5547047c3d862b75e3064c494b7714ab6350",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +65,69 @@# Do all our work in the new GOPATH\nexport GOPATH=\"${_tmpdir}\"\nexport PATH=\"${GOPATH}/bin:${PATH}\"\n\npushd \"${_kubetmp}\" > /dev/null 2>&1"
  },
  {
    "id" : "fdef202f-9c6f-4c8d-8c69-05db91d9ab26",
    "prId" : 48653,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/48653#pullrequestreview-55449719",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d7a5c7fa-7a51-412c-9aee-7d55ca6dabcc",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "this adds ~15 minutes to the verify job for any PR that touches *anything* in `hack`... can we target this to things that touched a godep-related script under hack? ",
        "createdAt" : "2017-08-10T02:29:20Z",
        "updatedAt" : "2017-08-10T02:29:20Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "13548ba6-17bc-4280-b31d-03e2bb66feb0",
        "parentId" : "d7a5c7fa-7a51-412c-9aee-7d55ca6dabcc",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "opened https://github.com/kubernetes/kubernetes/pull/50418",
        "createdAt" : "2017-08-10T02:34:24Z",
        "updatedAt" : "2017-08-10T02:34:27Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "b9ec6ad4-9d4f-48af-a1a4-77cbc20e7208",
        "parentId" : "d7a5c7fa-7a51-412c-9aee-7d55ca6dabcc",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "What about caching? @cblecker didn't we introduce a way for caching?",
        "createdAt" : "2017-08-10T07:07:21Z",
        "updatedAt" : "2017-08-10T07:07:21Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      }
    ],
    "commit" : "8b3bf13806f4a527b29a628d4239ce46a5be21f1",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +50,54 @@  ! kube::util::has_changes_against_upstream_branch \"${branch}\" 'Godeps/' && \\\n  ! kube::util::has_changes_against_upstream_branch \"${branch}\" 'vendor/' && \\\n  ! kube::util::has_changes_against_upstream_branch \"${branch}\" 'hack/'; then\n  exit 0\nfi"
  },
  {
    "id" : "89771aa4-7bf6-4e86-ba90-f68c314fb23e",
    "prId" : 39884,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/39884#pullrequestreview-18251927",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f77423d2-12dc-4ed4-bc19-70c5d012ca83",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "`-z \"${KEEP_TMP}\"`",
        "createdAt" : "2017-01-24T19:45:23Z",
        "updatedAt" : "2017-01-24T19:45:23Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "c9eb4f30-9282-44d4-b1af-d954c6e7ce90",
        "parentId" : "f77423d2-12dc-4ed4-bc19-70c5d012ca83",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "Or even `if [[ -z \"${KEEP_TMP:-}\" ]]; then`",
        "createdAt" : "2017-01-24T19:45:55Z",
        "updatedAt" : "2017-01-24T19:45:55Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "c6552319-f9e9-408b-a1f6-bce1719e4681",
        "parentId" : "f77423d2-12dc-4ed4-bc19-70c5d012ca83",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "Fixed in https://github.com/kubernetes/kubernetes/pull/40380",
        "createdAt" : "2017-01-24T19:51:48Z",
        "updatedAt" : "2017-01-24T19:51:48Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      }
    ],
    "commit" : "57b12c9d0937d63e08673fbd7bf2a68bb2e9cba5",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +62,66 @@fi\n\nif [[ -z KEEP_TMP ]]; then\n    KEEP_TMP=false\nfi"
  },
  {
    "id" : "4f5454c2-fe51-4bf3-9e60-9640400d1f91",
    "prId" : 22807,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dde9d27f-5ad3-467b-bad7-201b37d2675a",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "also change docs/devel/development.md to document calling this script rather that \n",
        "createdAt" : "2016-05-12T03:46:37Z",
        "updatedAt" : "2016-05-13T02:04:28Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "07211088-3716-463e-8407-754ddc8b4e4a",
        "parentId" : "dde9d27f-5ad3-467b-bad7-201b37d2675a",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "also change docs/devel/development.md to document calling this script rather than `godep save` \n",
        "createdAt" : "2016-05-12T03:46:54Z",
        "updatedAt" : "2016-05-13T02:04:28Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "0114eef83df943ea65d28d1aff50fdf0638a5f4b",
    "line" : null,
    "diffHunk" : "@@ -1,1 +93,97 @@\n# Recreate the Godeps using the nice clean set we just downloaded\nhack/godep-save.sh\n\n# Test for diffs"
  },
  {
    "id" : "58a3759a-1f83-417e-94ad-e6bbc8c3b6f2",
    "prId" : 21771,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7a30af05-ee34-40e7-9e0b-9efd7954d340",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "So this uses the previous version to install the new version? Is that a good idea?\n",
        "createdAt" : "2016-02-23T19:24:46Z",
        "updatedAt" : "2016-02-23T19:24:46Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "c636588f-0051-48c4-8ed6-49f30daaa8ca",
        "parentId" : "7a30af05-ee34-40e7-9e0b-9efd7954d340",
        "authorId" : "766f642e-1622-4803-803b-05ce306fc30e",
        "body" : "It uses the latest and greatest to build the old version. If they can't even make godep build itself, they have serious problems...   works today, and hopefully we can revert this entirely shortly-ish\n",
        "createdAt" : "2016-02-23T19:27:28Z",
        "updatedAt" : "2016-02-23T19:27:28Z",
        "lastEditedBy" : "766f642e-1622-4803-803b-05ce306fc30e",
        "tags" : [
        ]
      }
    ],
    "commit" : "784d264c4a45886f7345681672ea85274e61cdd7",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +60,64 @@pushd \"${GOPATH}/src/github.com/tools/godep\" > /dev/null\n  git checkout v53\n  \"${GODEP}\" go install\npopd > /dev/null\n"
  },
  {
    "id" : "00755378-9d59-4529-bdf9-2549c625b11d",
    "prId" : 12188,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b416344f-4b09-456a-8224-0dd7f00f2b1c",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "Do we really want to do this?  My experience with 'godep restore' is that it can take 10 minutes - I don't want to do that on every travis and 'git commit' ...\n",
        "createdAt" : "2015-08-16T04:23:52Z",
        "updatedAt" : "2015-08-16T04:23:52Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "2a8645de-e00c-451c-bc86-c7813ec9f859",
        "parentId" : "b416344f-4b09-456a-8224-0dd7f00f2b1c",
        "authorId" : "766f642e-1622-4803-803b-05ce306fc30e",
        "body" : "Lines 24-28 will make this a noop on all PRs which don't touch godeps. Same in the pre-commit hook will make it a noop unless the PR commits changes to Godep/.\n",
        "createdAt" : "2015-08-16T13:39:27Z",
        "updatedAt" : "2015-08-16T13:39:27Z",
        "lastEditedBy" : "766f642e-1622-4803-803b-05ce306fc30e",
        "tags" : [
        ]
      }
    ],
    "commit" : "823392e4e30f5219be8f793c0dda6d41499016ec",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +43,47 @@\n# fill out that nice clean place with the kube godeps\necho \"Starting to download all kubernetes godeps. This takes a while\"\n\"${GODEP}\" restore\necho \"Download finished\""
  }
]