[
  {
    "id" : "7ee33c2b-476c-46ad-b256-21a96fd970a5",
    "prId" : 79318,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/79318#pullrequestreview-253587070",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0e98179a-04ac-45c8-9524-84332b5448fc",
        "parentId" : null,
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "ls output is not reliably portable / not specified. this version should be more portable and doesn't require knowing awk ðŸ˜‰ \r\n\r\nsame as https://github.com/kubernetes/kubernetes/pull/79316 we're `cd`ing to do find relative to `.` and using `cut -c 3-` to strip the leading `./`",
        "createdAt" : "2019-06-24T00:20:57Z",
        "updatedAt" : "2019-06-25T16:49:54Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      },
      {
        "id" : "06d36097-e229-4ba1-bb6b-9a22ec6e5664",
        "parentId" : "0e98179a-04ac-45c8-9524-84332b5448fc",
        "authorId" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "body" : "`find $KUBEROOT/cmd -type d`",
        "createdAt" : "2019-06-24T18:19:47Z",
        "updatedAt" : "2019-06-25T16:49:54Z",
        "lastEditedBy" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "tags" : [
        ]
      },
      {
        "id" : "2dbe68eb-0470-4d8f-903f-91c5c1133634",
        "parentId" : "0e98179a-04ac-45c8-9524-84332b5448fc",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "if we do that we have to strip the leading `$KUBEROOT` which may be some arbitrary absolute path, which is more complex than stripping the leading `./`.\r\n\r\nedit: and we do need to strip the prefix, we only want the directory name here because what we're actually getting is make targets for the binaries which is 1:1 with the directory names in `cmd/`",
        "createdAt" : "2019-06-24T18:35:40Z",
        "updatedAt" : "2019-06-25T16:49:54Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      }
    ],
    "commit" : "0fad8eb36c87067a37a556ef9bfd542bc7154cc9",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +24,28 @@KUBE_ROOT=$(dirname \"${BASH_SOURCE[0]}\")/../..\nALL_TARGETS=$(make -C \"${KUBE_ROOT}\" PRINT_HELP=y -rpn | sed -n -e '/^$/ { n ; /^[^ .#][^ ]*:/ { s/:.*$// ; p ; } ; }' | sort)\nCMD_TARGETS=$(cd \"${KUBE_ROOT}/cmd\"; find . -type d -mindepth 1 -maxdepth 1 | cut -c 3-)\nCMD_FLAG=false\n"
  }
]