[
  {
    "id" : "af90d03c-6d32-480f-87db-3afae79f45af",
    "prId" : 43308,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/43308#pullrequestreview-37683461",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0d065eff-bc25-48b5-9ef9-4706b9be6154",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "why is kube-aggregator special here?",
        "createdAt" : "2017-05-11T16:39:26Z",
        "updatedAt" : "2017-05-11T16:39:26Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "7de3d1b7-5e1b-4684-bb79-e5d0e055078b",
        "parentId" : "0d065eff-bc25-48b5-9ef9-4706b9be6154",
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "> why is kube-aggregator special here?\r\n\r\nIt probably needs some bash love to exclude client-go and run the rest.",
        "createdAt" : "2017-05-11T19:58:21Z",
        "updatedAt" : "2017-05-11T19:58:22Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      }
    ],
    "commit" : "546b45c9c0d7f0c43e5b9bf028442e90542318b4",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +41,45 @@    \\) -name '*.generated.go' | LC_ALL=C sort -r\n\n  find ./vendor/k8s.io/kube-aggregator/ -not \\( \\\n      \\( \\\n        -wholename './output' \\"
  },
  {
    "id" : "696adec7-ac1a-4ef3-956d-3cd14959c447",
    "prId" : 25500,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cef4e9a9-a36a-4123-88f2-9d2c1b40a3b9",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "how about `\"s/YEAR/$(date +%Y)/\"` so we don't have to do this again next year?\n",
        "createdAt" : "2016-05-12T18:29:51Z",
        "updatedAt" : "2016-05-13T19:42:13Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "9b44157a-fff0-4595-9225-e094f09f57fb",
        "parentId" : "cef4e9a9-a36a-4123-88f2-9d2c1b40a3b9",
        "authorId" : "d324e241-a7f0-4ace-bda2-4174b07bdb18",
        "body" : "I can do that, but on Jan 1 it will make verify-codecgen and verify-generated-protobuf instantly fail at head until someone checks in the fix.\n\nI can't decide which is the greater evil: the known timebomb I'd create or the sysiphean toil of searching and replacing.\n\nWDYT?\n",
        "createdAt" : "2016-05-12T18:35:17Z",
        "updatedAt" : "2016-05-13T19:42:13Z",
        "lastEditedBy" : "d324e241-a7f0-4ace-bda2-4174b07bdb18",
        "tags" : [
        ]
      },
      {
        "id" : "45472be0-6163-4ace-b352-b6bd338659e6",
        "parentId" : "cef4e9a9-a36a-4123-88f2-9d2c1b40a3b9",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "maybe we make a script that automatically generates a PR to change everything to 2017 next year? :)\n\nbut in all seriousness, you bring up a good point. this LG as-is. maybe #8830 will be fixed before next January?\n",
        "createdAt" : "2016-05-13T17:47:36Z",
        "updatedAt" : "2016-05-13T19:42:13Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "2bc46d5085d70a01ecd9b1c5e5365e0110f0dedc",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +144,148 @@  ${CODECGEN} -d 1234 -o \"${base_generated_file}\" \"${base_file}\"\n  # Add boilerplate at the beginning of the generated file.\n  sed 's/YEAR/2016/' \"${initial_dir}/hack/boilerplate/boilerplate.go.txt\" > \"${base_generated_file}.tmp\"\n  cat \"${base_generated_file}\" >> \"${base_generated_file}.tmp\"\n  mv \"${base_generated_file}.tmp\" \"${base_generated_file}\""
  },
  {
    "id" : "72638167-f1b8-4938-9734-7fde2e28cacd",
    "prId" : 24242,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "551482ed-20d5-4cf4-b524-5cf959b513f5",
        "parentId" : null,
        "authorId" : "766f642e-1622-4803-803b-05ce306fc30e",
        "body" : "something about the leading `./` seems to bother me, but I can't put my finger on it. Probably sohuld just be quiet.\n",
        "createdAt" : "2016-05-06T20:48:36Z",
        "updatedAt" : "2016-05-09T03:32:17Z",
        "lastEditedBy" : "766f642e-1622-4803-803b-05ce306fc30e",
        "tags" : [
        ]
      },
      {
        "id" : "9034d2b5-303b-4c29-9009-c0537f0c64ac",
        "parentId" : "551482ed-20d5-4cf4-b524-5cf959b513f5",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "leading ./ tells go tools to look for a file relative to CWD.  Without that it looks for $GOPATH/vendor/github.com/ugorji/go/codec/codecgen, which obviously is wrong.\n",
        "createdAt" : "2016-05-06T22:45:59Z",
        "updatedAt" : "2016-05-09T03:32:17Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "2100016e0fe3219fc93274d6d66f5d4d8c863979",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +118,122 @@echo \"Building codecgen\"\nCODECGEN=\"${PWD}/codecgen_binary\"\ngo build -o \"${CODECGEN}\" ./vendor/github.com/ugorji/go/codec/codecgen\n\n# Running codecgen fails if some of the files doesn't compile."
  },
  {
    "id" : "87cce8c2-b425-4735-abfe-053404d79018",
    "prId" : 18839,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "50e7b95d-c6fc-4673-b88f-1a7410539320",
        "parentId" : null,
        "authorId" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "body" : "How about doing this rather than prompting the user to do it?\n",
        "createdAt" : "2015-12-17T21:11:23Z",
        "updatedAt" : "2015-12-17T21:11:23Z",
        "lastEditedBy" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "tags" : [
        ]
      }
    ],
    "commit" : "fb3cfece9c6973499e0045f77d84612a959626f1",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +89,93 @@  echo No files found for $0\n  echo A previous run of $0 may have deleted all the files and then crashed.\n  echo Use 'touch' to create files named 'types.generated.go' listed as deleted in 'git status'\n  exit 1\nfi"
  },
  {
    "id" : "08e1585c-082c-4539-aea8-90878cfa8b38",
    "prId" : 16788,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5f224626-a508-4421-97e1-156f0906546f",
        "parentId" : null,
        "authorId" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "body" : "Do you need the `$(...)` here? I think maybe you can just call a function in an if (I'm no bash expert though).\n",
        "createdAt" : "2015-11-04T19:36:56Z",
        "updatedAt" : "2015-11-04T19:40:53Z",
        "lastEditedBy" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "tags" : [
        ]
      },
      {
        "id" : "25a60ae1-39d4-4927-8693-92827b43e26d",
        "parentId" : "5f224626-a508-4421-97e1-156f0906546f",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "I tried without it - it doesn't work.\n",
        "createdAt" : "2015-11-04T19:41:08Z",
        "updatedAt" : "2015-11-04T19:41:08Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "2e9da5e65b2409a75675261b7c258037d4bc0dd9",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +68,72 @@  for (( j=0; j<number; j++ )); do\n    if ! ${visited[${j}]}; then\n      if $(depends \"$1\" ${j}); then\n        tsort $j\n      fi"
  },
  {
    "id" : "e522bbb3-b975-4ad2-a75a-862ba159f3b4",
    "prId" : 15836,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dc094104-e80a-4a77-8485-f4faed3f8078",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "maybe `rm -f \"${CODECGEN:-}\"` so you don't have to name this multiple times?\n",
        "createdAt" : "2015-10-20T01:55:07Z",
        "updatedAt" : "2015-10-20T01:55:37Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "aef0470f-43fc-4952-9fdd-03699571cdaf",
        "parentId" : "dc094104-e80a-4a77-8485-f4faed3f8078",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "the -r seems a bit excessive, too\n",
        "createdAt" : "2015-10-20T01:55:43Z",
        "updatedAt" : "2015-10-20T01:55:43Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "e86a1a6407ccba396d14fc8c5c588daa2218287c",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +36,40 @@# Build codecgen binary from Godeps.\nfunction cleanup {\n  rm -rf \"${KUBE_ROOT}/codecgen_binary\"\n}\ntrap cleanup EXIT"
  },
  {
    "id" : "a26aa128-4963-4c31-99de-21dfbf6bfdf2",
    "prId" : 15836,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3578f7b1-ebd6-4a49-9a76-3fe2360fabb4",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "even this line could use `${CODECGEN}` if you reordered things...\n",
        "createdAt" : "2015-10-20T01:55:29Z",
        "updatedAt" : "2015-10-20T01:55:29Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "e86a1a6407ccba396d14fc8c5c588daa2218287c",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +39,43 @@}\ntrap cleanup EXIT\ngodep go build -o codecgen_binary github.com/ugorji/go/codec/codecgen\nCODECGEN=\"${PWD}/codecgen_binary\"\n"
  },
  {
    "id" : "3f2e615e-4822-49f2-8ff3-d1236d897475",
    "prId" : 15352,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "23d87591-4ed7-48e6-990a-fc8b74f04905",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "Separate PR?\n",
        "createdAt" : "2015-10-21T04:18:01Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "508539bb-bde4-49ca-ad7c-80af77115b02",
        "parentId" : "23d87591-4ed7-48e6-990a-fc8b74f04905",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "Yeah, product of debugging, I will remove it.\n",
        "createdAt" : "2015-10-21T21:37:45Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      }
    ],
    "commit" : "3cd12f5e0580e330a77412a6d722fd51d9dfe57f",
    "line" : null,
    "diffHunk" : "@@ -1,1 +35,39 @@\n# Build codecgen binary from Godeps.\nfunction cleanup {\n  rm -rf \"${KUBE_ROOT}/codecgen_binary\"\n}"
  },
  {
    "id" : "9813601f-3f86-475a-8e46-76641f06e18a",
    "prId" : 15072,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6a669fd8-e266-498b-a540-1df477c07a09",
        "parentId" : null,
        "authorId" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "body" : "I don't think `BASH_SOURCE` is appropriate here. It's an array of file names whose indices line up with `FUNCNAMES` for determining where functions are defined. Did you mean `$0`?\n",
        "createdAt" : "2015-10-15T16:53:20Z",
        "updatedAt" : "2015-10-16T08:20:08Z",
        "lastEditedBy" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "tags" : [
        ]
      },
      {
        "id" : "6ad463f3-db12-414c-a4a1-91dc883a4bd5",
        "parentId" : "6a669fd8-e266-498b-a540-1df477c07a09",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "This one I actually copied from other files like:\nhttps://github.com/kubernetes/kubernetes/blob/master/hack/after-build/verify-generated-swagger-docs.sh\n(or any other verify-\\* in that dir).\n",
        "createdAt" : "2015-10-15T17:41:16Z",
        "updatedAt" : "2015-10-16T08:20:08Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "7bedd97d-2632-4f9c-bc06-2a0d9c47990d",
        "parentId" : "6a669fd8-e266-498b-a540-1df477c07a09",
        "authorId" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "body" : "Is it possibly wrong there too?\n\nsummoning @zmerlynn \n\nAm I wrong?\n",
        "createdAt" : "2015-10-15T17:46:19Z",
        "updatedAt" : "2015-10-16T08:20:08Z",
        "lastEditedBy" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "tags" : [
        ]
      },
      {
        "id" : "4e95854f-690c-42e6-ab50-7e43e7d1273b",
        "parentId" : "6a669fd8-e266-498b-a540-1df477c07a09",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "You're both right. The key to this is that `$BASH_SOURCE` here is the elided (unreadable) form of `$BASH_SOURCE[0]`, e.g.:\n\n```\nzml@zml:~/kubernetes$ FOO=(1 2 3)\nzml@zml:~/kubernetes$ echo $FOO\n1\nzml@zml:~/kubernetes$ echo ${FOO[0]}\n1\n```\n",
        "createdAt" : "2015-10-15T17:50:46Z",
        "updatedAt" : "2015-10-16T08:20:08Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "e2a210ce-c7d2-4425-9429-9b1ffc290178",
        "parentId" : "6a669fd8-e266-498b-a540-1df477c07a09",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "That said, it's a meme across our codebase, so yes, it's basically our preamble and consistent.\n",
        "createdAt" : "2015-10-15T17:52:01Z",
        "updatedAt" : "2015-10-16T08:20:08Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "27b04ece-7578-43d7-8fb7-ac9417a46eda",
        "parentId" : "6a669fd8-e266-498b-a540-1df477c07a09",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Thanks - then I'm going to leave as is.\n",
        "createdAt" : "2015-10-15T18:02:50Z",
        "updatedAt" : "2015-10-16T08:20:08Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "d51965bf00242ba049703eba62a44e17db0137d7",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +19,23 @@set -o pipefail\n\nKUBE_ROOT=$(dirname \"${BASH_SOURCE}\")/..\ncd \"${KUBE_ROOT}\"\n"
  },
  {
    "id" : "f4fc4784-f260-4730-89f5-ae53822912c0",
    "prId" : 15072,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "900c0ad7-5998-4f6e-aa7e-8be5c3016895",
        "parentId" : null,
        "authorId" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "body" : "Can you use a variable or at least comment on `-d 1234` so people won't have to go look it up like me.\n",
        "createdAt" : "2015-10-15T17:05:27Z",
        "updatedAt" : "2015-10-16T08:20:08Z",
        "lastEditedBy" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "tags" : [
        ]
      },
      {
        "id" : "d19cedfe-7497-4b3b-a4e9-9674f9b18fd1",
        "parentId" : "900c0ad7-5998-4f6e-aa7e-8be5c3016895",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Added a comment.\n",
        "createdAt" : "2015-10-15T18:25:42Z",
        "updatedAt" : "2015-10-16T08:20:08Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "d51965bf00242ba049703eba62a44e17db0137d7",
    "line" : null,
    "diffHunk" : "@@ -1,1 +44,48 @@  # We use '-d 1234' flag to have a deterministic output everytime.\n  # The constant was just randomly chosen.\n  codecgen -d 1234 -o \"${base_generated_file}\" \"${base_file}\"\n  # Add boilerplate at the begining of the generated file.\n  sed 's/YEAR/2015/' \"${initial_dir}/hack/boilerplate/boilerplate.go.txt\" > \"${base_generated_file}.tmp\""
  }
]