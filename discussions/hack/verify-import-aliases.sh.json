[
  {
    "id" : "29d49f57-a748-4f03-9541-e32489cc01f7",
    "prId" : 78836,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/78836#pullrequestreview-248819147",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5d28aaec-a0f3-4e9b-b783-ebcd3c177373",
        "parentId" : null,
        "authorId" : "9829b6c0-e54c-401b-8d97-73e5aa4e83c1",
        "body" : "```\r\ngit diff --name-only master | go run cmd/preferredimports/preferredimports.go \"$@\" || ret=$?\r\n```\r\n\r\n[1]",
        "createdAt" : "2019-06-12T13:35:35Z",
        "updatedAt" : "2019-06-16T02:32:04Z",
        "lastEditedBy" : "9829b6c0-e54c-401b-8d97-73e5aa4e83c1",
        "tags" : [
        ]
      },
      {
        "id" : "dfe28388-4509-4dd1-8168-decf78f30cf7",
        "parentId" : "5d28aaec-a0f3-4e9b-b783-ebcd3c177373",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "If the idea is to run the script only for the current changes, there's another way to do it already\r\n\r\n```\r\ngit diff --name-only \"$(git merge-base HEAD master)\"...HEAD | sed 's|\\(.*\\)/.*|\\1|' | sort | uniq | xargs go run cmd/preferredimports/preferredimports.go\r\n```",
        "createdAt" : "2019-06-12T13:47:36Z",
        "updatedAt" : "2019-06-16T02:32:04Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "496bd204-2fed-4720-8565-992c5de078c6",
        "parentId" : "5d28aaec-a0f3-4e9b-b783-ebcd3c177373",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "That will force people to update aliases as they touch existing files. Similar things happen with lint occasionally (the lint tool will start complaining about a file that is passing lint checks on master, and require fixup in an unrelated PR). Failing CI on changes unrelated to a PR is probably friction we don't need.",
        "createdAt" : "2019-06-12T13:52:07Z",
        "updatedAt" : "2019-06-16T02:32:04Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "e36c7480-90cc-445c-ab79-65e6b190bdc5",
        "parentId" : "5d28aaec-a0f3-4e9b-b783-ebcd3c177373",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "Agree, that's why i was running on the whole code base and not limiting to the current change",
        "createdAt" : "2019-06-12T13:55:27Z",
        "updatedAt" : "2019-06-16T02:32:04Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "18e08978-4300-4c6d-81f6-5846c3a22dc4",
        "parentId" : "5d28aaec-a0f3-4e9b-b783-ebcd3c177373",
        "authorId" : "9829b6c0-e54c-401b-8d97-73e5aa4e83c1",
        "body" : "Does it mean that if we want to add a new rule, we have to fix all of the import aliases in the whole codebase? If yes, then we have to provide a `update-import-aliases` script, which could always help us to fix up the code.",
        "createdAt" : "2019-06-12T14:11:52Z",
        "updatedAt" : "2019-06-16T02:32:04Z",
        "lastEditedBy" : "9829b6c0-e54c-401b-8d97-73e5aa4e83c1",
        "tags" : [
        ]
      },
      {
        "id" : "03431093-ce9e-4c3e-bfa9-51a59668fc0d",
        "parentId" : "5d28aaec-a0f3-4e9b-b783-ebcd3c177373",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "Yes",
        "createdAt" : "2019-06-12T14:55:55Z",
        "updatedAt" : "2019-06-16T02:32:04Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "a6f8d575baf5285b5bd24f05c316c554e4c5b61e",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +27,31 @@\nret=0\ngo run cmd/preferredimports/preferredimports.go \"$@\" || ret=$?\nif [[ $ret -ne 0 ]]; then\n  echo \"!!! Please see hack/.import-aliases for the preferred aliases for imports.\" >&2"
  }
]