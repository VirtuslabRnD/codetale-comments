[
  {
    "id" : "0aeee809-bdca-4c69-8f36-356479b07689",
    "prId" : 74318,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74318#pullrequestreview-207097033",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d9158c4a-b31f-4a41-888b-72ca1f537ed8",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "is this as expensive as it looks?",
        "createdAt" : "2019-02-20T21:48:04Z",
        "updatedAt" : "2019-02-20T22:38:06Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "243cec15-d262-4ba4-9d2b-5e218bbb0f8c",
        "parentId" : "d9158c4a-b31f-4a41-888b-72ca1f537ed8",
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "Not really.. we use it in other places too where we want to copy and write the whole git tree for use in tests.",
        "createdAt" : "2019-02-20T22:38:36Z",
        "updatedAt" : "2019-02-20T22:38:36Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      },
      {
        "id" : "821b3175-3134-4218-8096-60ce60315f92",
        "parentId" : "d9158c4a-b31f-4a41-888b-72ca1f537ed8",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "ok. I'll defer to @BenTheElder for lgtm",
        "createdAt" : "2019-02-21T21:34:21Z",
        "updatedAt" : "2019-02-21T21:34:22Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "48e008d0-097c-46d7-a525-b7a679bffa96",
        "parentId" : "d9158c4a-b31f-4a41-888b-72ca1f537ed8",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "tar | untar is kinda expensive but one of the more reasonable options for copying to an isolated tempdir.",
        "createdAt" : "2019-02-23T05:41:21Z",
        "updatedAt" : "2019-02-23T05:41:22Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      },
      {
        "id" : "74bcfb81-26cb-4482-bf1d-c9dd8d00642a",
        "parentId" : "d9158c4a-b31f-4a41-888b-72ca1f537ed8",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "(we also do this already as Christoph mentioned, it might be worth revisiting but I'd rather unblock for now)",
        "createdAt" : "2019-02-23T05:45:22Z",
        "updatedAt" : "2019-02-23T05:45:22Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      }
    ],
    "commit" : "1f5dff7e53ae7bafd9888a023f6d15466cb6a4b2",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +49,53 @@mkdir -p \"${_kubetmp}\"\n# should create ${_kubetmp}/kubernetes\ngit archive --format=tar --prefix=kubernetes/ \"$(git write-tree)\" | (cd \"${_kubetmp}\" && tar xf -)\n_kubetmp=\"${_kubetmp}/kubernetes\"\n# Do all our work in the new GOPATH"
  },
  {
    "id" : "df42966c-4f86-410a-bf73-0dc61a99b916",
    "prId" : 53458,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/53458#pullrequestreview-67846776",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e20f6f82-f4e8-47cb-bd4f-401366f4b2ab",
        "parentId" : null,
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "If you regenerate the docs completely, does the file get wiped out?",
        "createdAt" : "2017-10-06T17:35:22Z",
        "updatedAt" : "2017-10-13T13:15:02Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      },
      {
        "id" : "fc9ba031-4403-4749-b57e-f25bb4b7eb9a",
        "parentId" : "e20f6f82-f4e8-47cb-bd4f-401366f4b2ab",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "y, running `hack/update-generated-swagger-docs.sh` seems to get rid of the file ",
        "createdAt" : "2017-10-06T18:53:55Z",
        "updatedAt" : "2017-10-13T13:15:02Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "a1e9d09f-2dbf-4074-8df7-177a6ed81046",
        "parentId" : "e20f6f82-f4e8-47cb-bd4f-401366f4b2ab",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "so `--exclude` may not be a great idea :) ",
        "createdAt" : "2017-10-06T18:54:32Z",
        "updatedAt" : "2017-10-13T13:15:02Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "3df1b617-c601-4c58-95e4-facd0f3ca1ad",
        "parentId" : "e20f6f82-f4e8-47cb-bd4f-401366f4b2ab",
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "yeah, that's my thoughts. not sure how to handle the import-restrictions file then =\\",
        "createdAt" : "2017-10-06T18:57:01Z",
        "updatedAt" : "2017-10-13T13:15:02Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      },
      {
        "id" : "cca5c56a-3977-4aa2-babf-18703ca90c6d",
        "parentId" : "e20f6f82-f4e8-47cb-bd4f-401366f4b2ab",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "@cblecker Hmm, sorry i checked again, the generated files in _tmp/pkg does not have the file, We don't wipe the existing file from disk. So this change is still legit\r\n\r\n```\r\nGenerating swagger type docs for settings.k8s.io/v1alpha1 at vendor/k8s.io/api/settings/v1alpha1\r\nGenerating swagger type docs for storage.k8s.io/v1beta1 at vendor/k8s.io/api/storage/v1beta1\r\nGenerating swagger type docs for storage.k8s.io/v1 at vendor/k8s.io/api/storage/v1\r\ndiffing /Users/dims/go/src/k8s.io/kubernetes/pkg against freshly generated swagger type documentation\r\ndiff -Naupr -I 'Auto generated by' /Users/dims/go/src/k8s.io/kubernetes/pkg/.import-restrictions /Users/dims/go/src/k8s.io/kubernetes/_tmp/pkg/.import-restrictions\r\n--- /Users/dims/go/src/k8s.io/kubernetes/pkg/.import-restrictions\t2017-10-07 21:36:12.000000000 -0400\r\n+++ /Users/dims/go/src/k8s.io/kubernetes/_tmp/pkg/.import-restrictions\t1969-12-31 19:00:00.000000000 -0500\r\n@@ -1,13 +0,0 @@\r\n-{\r\n-\t\"Rules\": [\r\n-\t  {\r\n-\t\t\"SelectorRegexp\": \"k8s[.]io/kubernetes\",\r\n-\t\t\"AllowedPrefixes\": [\r\n-\t\t    \"\"\r\n-\t\t],\r\n-\t\t\"ForbiddenPrefixes\": [\r\n-\t\t\t\"k8s.io/kubernetes/cmd\"\r\n-\t\t]\r\n-\t  }\r\n-\t]\r\n-}\r\n/Users/dims/go/src/k8s.io/kubernetes/pkg is out of date. Please run hack/update-generated-swagger-docs.sh\r\n```",
        "createdAt" : "2017-10-08T01:41:57Z",
        "updatedAt" : "2017-10-13T13:15:02Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "eda7fbd16a882998839d5d7c6fbf12330e5ce4fb",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +56,60 @@echo \"diffing ${DIFFROOT} against freshly generated swagger type documentation\"\nret=0\ndiff --exclude=\".import-restrictions\" -Naupr -I 'Auto generated by' \"${DIFFROOT}\" \"${TMP_DIFFROOT}\" || ret=$?\ncp -a \"${TMP_DIFFROOT}\"/* \"${DIFFROOT}/\"\nif [[ $ret -eq 0 ]]"
  }
]