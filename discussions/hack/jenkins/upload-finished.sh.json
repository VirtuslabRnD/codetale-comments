[
  {
    "id" : "3ed4b20a-6407-40a4-a26e-6edad94712fb",
    "prId" : 20969,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1f38d27a-d432-4aea-bb4d-8071c307149f",
        "parentId" : null,
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "`if [[ ! \"${JENKINS_UPLOAD_TO_GCS:=y}\" =~ ^[yY]$ ]]; then`\n\nThat way you don't need to set it a few lines above. Not a big deal, though.\n",
        "createdAt" : "2016-02-10T18:17:39Z",
        "updatedAt" : "2016-02-10T18:17:39Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      },
      {
        "id" : "2b3a7d9c-84ae-41f5-a402-fda3b7ed61d2",
        "parentId" : "1f38d27a-d432-4aea-bb4d-8071c307149f",
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "It's a copy pasta from hack/jenkins/upload-to-gcs.sh  Personally I'd rather keep it so that we can eventually refactor all the upload scripts with minimal mental effort.  But I don't really care, so I can change it if you'd like...\n",
        "createdAt" : "2016-02-10T18:48:37Z",
        "updatedAt" : "2016-02-10T18:48:37Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "69d2f01b-31ed-4c1b-9787-7d9ea2ca625a",
        "parentId" : "1f38d27a-d432-4aea-bb4d-8071c307149f",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "Consistency is good, no need to change it.\n",
        "createdAt" : "2016-02-10T19:12:04Z",
        "updatedAt" : "2016-02-10T19:12:04Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      }
    ],
    "commit" : "ba19c4e2f0fbfe5bb5bf83d5e65444a4b257cd5d",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +34,38 @@: ${JENKINS_UPLOAD_TO_GCS:=\"y\"}\n\nif [[ ! ${JENKINS_UPLOAD_TO_GCS:-} =~ ^[yY]$ ]]; then\n  exit 0\nfi"
  },
  {
    "id" : "36f0fcbd-97e2-4ea5-95dd-e35103fcf12a",
    "prId" : 19903,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f6d90e93-a13c-44d1-b3ac-3fda8a81d29f",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "nit: might be slightly more readable to use something like\n\n``` bash\ncat <<EOF \n{\n  \"result\": \"${result}\",\n  \"timestamp\": \"${timestamp}\"\n}\nEOF\n```\n\nthough this is short enough that it's also probably fine as-is.\n",
        "createdAt" : "2016-02-02T02:28:31Z",
        "updatedAt" : "2016-02-08T23:04:44Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "6ee9f13ff55f888b09f712ef997a1719cb8c06a2",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +36,40 @@echo \"Uploading build result to: ${location}\"\ngsutil -q cp -a \"public-read\" <(\n    echo \"{\"\n    echo \"    \\\"result\\\": \\\"${result}\\\",\"\n    echo \"    \\\"timestamp\\\": ${timestamp}\""
  },
  {
    "id" : "2467be54-f5ff-49f3-a42b-3ab8b3c631d3",
    "prId" : 19903,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6b3b7734-f63b-4181-837c-8dc33ea895ff",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "we may want to make the bucket configurable? (via environment variable?)\n",
        "createdAt" : "2016-02-09T18:57:41Z",
        "updatedAt" : "2016-02-09T18:57:41Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "325e5036-beb9-4468-b66a-2bbb806c616a",
        "parentId" : "6b3b7734-f63b-4181-837c-8dc33ea895ff",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "Yes, also make it work for PR Jenkins. That can be done in a future PR, for now I want to start collecting this data ASAP.\n",
        "createdAt" : "2016-02-09T21:15:10Z",
        "updatedAt" : "2016-02-09T21:15:10Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      }
    ],
    "commit" : "6ee9f13ff55f888b09f712ef997a1719cb8c06a2",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +32,36 @@readonly result=\"$1\"\nreadonly timestamp=$(date +%s)\nreadonly location=\"gs://kubernetes-jenkins/logs/${JOB_NAME}/${BUILD_NUMBER}/finished.json\"\n\necho \"Uploading build result to: ${location}\""
  }
]