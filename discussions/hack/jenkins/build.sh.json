[
  {
    "id" : "a0f9dd59-5415-4abb-882d-0f2caaacd75a",
    "prId" : 32235,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1d15f72b-1f41-494b-bbb2-35e578cbb2a3",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "with this new logic, this shouldn't be an if/else, just an if.\n",
        "createdAt" : "2016-09-07T23:44:45Z",
        "updatedAt" : "2016-09-07T23:51:08Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "92ddc22fc036cfe7d9df2739732c1e697ded2d5c",
    "line" : null,
    "diffHunk" : "@@ -1,1 +68,72 @@\n  if [[ ! -x ${push_build} ]]; then\n    # TODO: Remove/Restore this with the full deprecation PR\n    push_build=${release_infra_clone}/push-ci-build.sh\n    #echo \"FATAL: Something went wrong. ${push_build} isn't available.\" \\"
  },
  {
    "id" : "58fc5e62-4e82-479c-8131-40e8163e6685",
    "prId" : 28922,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3f71ea05-bf29-4867-9382-b35f881e3b45",
        "parentId" : null,
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "`[[ -n \"${RELEASE_INFRA_PUSH:-}\" ]]`\n",
        "createdAt" : "2016-07-13T22:38:36Z",
        "updatedAt" : "2016-07-14T18:47:20Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      },
      {
        "id" : "43bf9d3f-fa99-47fd-b446-7ffdff4de5cc",
        "parentId" : "3f71ea05-bf29-4867-9382-b35f881e3b45",
        "authorId" : "629d8942-34f3-4c20-a8cc-f4de4d3f809a",
        "body" : "Well RELEASE_INFRA_PUSH is a convenient true or false bool so we can code it so it reads nice like that.\nThe other (unsightly) option is:\nif [[ \"${RELEASE_INFRA_PUSH:-}\" == \"true\" ]]\nBut -n will always be true unless we change the default.\n",
        "createdAt" : "2016-07-13T22:42:16Z",
        "updatedAt" : "2016-07-14T18:47:20Z",
        "lastEditedBy" : "629d8942-34f3-4c20-a8cc-f4de4d3f809a",
        "tags" : [
        ]
      },
      {
        "id" : "8c47a38b-1055-4aeb-8570-58a9c8c7c083",
        "parentId" : "3f71ea05-bf29-4867-9382-b35f881e3b45",
        "authorId" : "629d8942-34f3-4c20-a8cc-f4de4d3f809a",
        "body" : "Another nice option in bash is to use 0 or 1 for your bool values and take advantage of the double paren eval.  Both are certainly more Go or Python like than the overly decorated expression above (== true):\n\nSo both read nicely:\n\n```\nRELEASE_INFRA_PUSH=1\nif ((RELEASE_INFRA_PUSH)); then\n```\n\nOr:\n\n```\nRELEASE_INFRA_PUSH=true\nif $RELEASE_INFRA_PUSH; then\n```\n\nI have started to prefer the former in the past couple of years, but since most of this infra uses true/false, I thought I'd stick with that.\n",
        "createdAt" : "2016-07-13T22:53:51Z",
        "updatedAt" : "2016-07-14T18:47:20Z",
        "lastEditedBy" : "629d8942-34f3-4c20-a8cc-f4de4d3f809a",
        "tags" : [
        ]
      },
      {
        "id" : "1f10b4b9-bd23-4c4b-851b-a2075a37950b",
        "parentId" : "3f71ea05-bf29-4867-9382-b35f881e3b45",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "Okay, seems reasonable. It's just different from the norm in this repo.\n",
        "createdAt" : "2016-07-14T18:39:11Z",
        "updatedAt" : "2016-07-14T18:47:20Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      },
      {
        "id" : "1f681aa2-745c-457f-8239-0fe41b0cf2ae",
        "parentId" : "3f71ea05-bf29-4867-9382-b35f881e3b45",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "minor nit - scripts in this repo generally use `${VAR}` rather than `$VAR`.\n",
        "createdAt" : "2016-07-25T22:46:45Z",
        "updatedAt" : "2016-07-25T22:46:45Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "5470c8a4-bd2e-4ddc-8acb-ab074ed7349b",
        "parentId" : "3f71ea05-bf29-4867-9382-b35f881e3b45",
        "authorId" : "629d8942-34f3-4c20-a8cc-f4de4d3f809a",
        "body" : "Indeed.  Will correct next iteration.\n",
        "createdAt" : "2016-07-25T22:54:58Z",
        "updatedAt" : "2016-07-25T22:54:58Z",
        "lastEditedBy" : "629d8942-34f3-4c20-a8cc-f4de4d3f809a",
        "tags" : [
        ]
      }
    ],
    "commit" : "ae1803492045f9c944b450270915963b2b2660f6",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +61,65 @@if [[ ${KUBE_SKIP_PUSH_GCS:-} =~ ^[yY]$ ]]; then\n  echo \"Not pushed to GCS...\"\nelif $RELEASE_INFRA_PUSH; then\n  git clone https://github.com/kubernetes/release $WORKSPACE/release\n  readonly release_infra_clone=$WORKSPACE/release"
  },
  {
    "id" : "0746237f-9734-4ea4-9720-d27a09efd1b9",
    "prId" : 28922,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "144acc2f-70fa-4f23-a436-574b64857301",
        "parentId" : null,
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "`>&2`\n",
        "createdAt" : "2016-07-13T22:39:43Z",
        "updatedAt" : "2016-07-14T18:47:20Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      }
    ],
    "commit" : "ae1803492045f9c944b450270915963b2b2660f6",
    "line" : null,
    "diffHunk" : "@@ -1,1 +66,70 @@\n  if [[ ! -x $release_infra_clone/push-ci-build.sh ]]; then\n    echo \"FATAL: Something went wrong.\" \\\n         \"$release_infra_clone/push-ci-build.sh isn't available. Exiting...\" >&2\n    exit 1"
  },
  {
    "id" : "caae1866-9ee6-40e1-9db5-f10bbf3f0dd7",
    "prId" : 28922,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "882b4f2a-2841-46c8-8749-8e5c255e9a01",
        "parentId" : null,
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "This will probably break with `nounset`.\n",
        "createdAt" : "2016-07-13T22:40:52Z",
        "updatedAt" : "2016-07-14T18:47:20Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      }
    ],
    "commit" : "ae1803492045f9c944b450270915963b2b2660f6",
    "line" : null,
    "diffHunk" : "@@ -1,1 +71,75 @@  fi\n\n  $FEDERATION && federation_flag=\"--federation\"\n  # Use --nomock to do the real thing\n  #$release_infra_clone/push-ci-build.sh --nomock ${federation_flag-}"
  },
  {
    "id" : "6fe46ad8-53bb-4103-8346-03b5603ef7e6",
    "prId" : 6339,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16598396-1663-42d3-8736-4d66704cace2",
        "parentId" : null,
        "authorId" : null,
        "body" : "Add a comment to explain what the commented out lines do, and why someone might want to uncomment them.\nOther than that, LGTM.\n",
        "createdAt" : "2015-04-02T02:40:51Z",
        "updatedAt" : "2015-04-02T03:04:38Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "6ba14f1c2871feb064523d8fb7ef3ac055069a54",
    "line" : null,
    "diffHunk" : "@@ -1,1 +45,49 @@# rebuild the kube-build:cross image, but these rarely change.\n# docker ps -aq | xargs -r docker rm\n# docker images -q | xargs -r docker rmi\n\n# Build"
  },
  {
    "id" : "e55d7df2-d4a4-4261-80d6-4adb3357378d",
    "prId" : 4873,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "98efaeae-2d4b-403c-8dbd-d1ae8e5eca20",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "The more common pattern seems to be looking for \"true\" - any reason to prefer [yY] here?\n",
        "createdAt" : "2015-02-26T22:12:55Z",
        "updatedAt" : "2015-02-26T22:12:55Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "456b5a20-037c-44d4-9774-4a5229819f96",
        "parentId" : "98efaeae-2d4b-403c-8dbd-d1ae8e5eca20",
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "I was copying KUBE_SKIP_CONFIRMATIONS, KUBE_GCS_UPLOAD_RELEASE etc, which seem to be common in the build scripts (e.g. build/common.sh)\n\nHappy to switch to ==\"true\" if you'd prefer\n",
        "createdAt" : "2015-02-26T23:24:59Z",
        "updatedAt" : "2015-02-26T23:24:59Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "ca6489f3-7b04-4963-b449-3e90ad1c97f7",
        "parentId" : "98efaeae-2d4b-403c-8dbd-d1ae8e5eca20",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "Nah, we should do it all at once or not at all.  I grepped but missed those\n",
        "createdAt" : "2015-02-26T23:41:30Z",
        "updatedAt" : "2015-02-26T23:41:30Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "27c3031506054c57521f986dffc039a54df7eb09",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +48,52 @@go run ./hack/e2e.go -v --build\n\n[[ ${KUBE_SKIP_PUSH_GCS:-} =~ ^[yY]$ ]] || {\n    # Push to GCS\n    ./build/push-ci-build.sh"
  }
]