[
  {
    "id" : "3ece91b3-de42-4a76-bf0f-912804cf0ea4",
    "prId" : 22473,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f1ba5ee2-be79-41da-926a-cc6ce485e124",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "need to update comment on L17-18\n",
        "createdAt" : "2016-03-03T23:08:04Z",
        "updatedAt" : "2016-03-03T23:14:29Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "ca4e8578-f46e-4671-8d7e-ad7f48a005c3",
        "parentId" : "f1ba5ee2-be79-41da-926a-cc6ce485e124",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "Done.\n",
        "createdAt" : "2016-03-03T23:14:52Z",
        "updatedAt" : "2016-03-03T23:14:52Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      }
    ],
    "commit" : "02fb7b89c35c803cc8348a16d8c2378f26bb3e79",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +21,25 @@  config_dir=$1\nelse\n  echo \"Usage: $0 <dir>\" >&2\n  exit 1\nfi"
  },
  {
    "id" : "924237fe-6841-4d38-b9a8-31baef2c93f3",
    "prId" : 18300,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aa05faad-0256-4036-b46e-8fc0c0092be0",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "is there a way to make this fail if the diff is really large or something? (I haven't yet looked into the docs)\n",
        "createdAt" : "2015-12-08T01:43:30Z",
        "updatedAt" : "2015-12-08T17:35:30Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "ed17e8e4-ea17-4269-ba97-dfa7e15d54e0",
        "parentId" : "aa05faad-0256-4036-b46e-8fc0c0092be0",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "alternately, we should at least make this email cloud-kubernetes-team if anything changes.\n",
        "createdAt" : "2015-12-08T01:44:06Z",
        "updatedAt" : "2015-12-08T17:35:30Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "21d54047-ecf6-42dc-b21f-8a778dbf1b0d",
        "parentId" : "aa05faad-0256-4036-b46e-8fc0c0092be0",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "It's not built into JJB, but it's not too difficult to do this manually. I'm not sure if it's necessary, though. While we're adding jobs for the first time we need to make sure to backup the old configs and pay attention to the diffs. Once they're all in, however, if something goes haywire we can just revert to the last working version. Warning about a big diff doesn't matter much, then.\n",
        "createdAt" : "2015-12-08T02:42:46Z",
        "updatedAt" : "2015-12-08T17:35:30Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      },
      {
        "id" : "2a4bd6bb-24e9-4781-adc2-71f1bd2ce143",
        "parentId" : "aa05faad-0256-4036-b46e-8fc0c0092be0",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "Jenkins has [this](https://wiki.jenkins-ci.org/display/JENKINS/Mail+Watcher+Plugin) for sending off an email when the job config changes. It has to be applied per-job, though.\n",
        "createdAt" : "2015-12-08T02:47:31Z",
        "updatedAt" : "2015-12-08T17:35:30Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      },
      {
        "id" : "aa00eaef-1c76-4275-96c6-37af8fd171f3",
        "parentId" : "aa05faad-0256-4036-b46e-8fc0c0092be0",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "I wonder if that plugin shows the diff or only notified that something changed. The former is far more useful than the latter...\n\nIn any case, seems like we should install that plugin and then update the configs here to set notifications onUpdate and onDelete?\n",
        "createdAt" : "2015-12-08T03:04:41Z",
        "updatedAt" : "2015-12-08T17:35:30Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "3bd5d053-1222-4060-b3cf-537013c9a189",
        "parentId" : "aa05faad-0256-4036-b46e-8fc0c0092be0",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "Just tested it, it only tells you that something changed, not the diff. I'll add it here.\n",
        "createdAt" : "2015-12-08T17:23:25Z",
        "updatedAt" : "2015-12-08T17:35:30Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      },
      {
        "id" : "104e6a46-31e7-427a-ae70-12f348be0841",
        "parentId" : "aa05faad-0256-4036-b46e-8fc0c0092be0",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "Okay, added that in. JJB doesn't have support for that plugin, so for now I have to use raw XML. The only other plugin that we regularly use that we'll have to use XML for is the slack notifier, although [this repo](https://github.com/asmundg/jenkins-jobs-slack) might be worth using for that.\n",
        "createdAt" : "2015-12-08T17:37:55Z",
        "updatedAt" : "2015-12-08T17:37:55Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      }
    ],
    "commit" : "89f6e1bdd78b19fb61e571f802039af438f651b5",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +43,47 @@docker exec job-builder git checkout master\ndocker exec job-builder git pull\ndocker exec job-builder jenkins-jobs update ${config_dir}"
  },
  {
    "id" : "7d81d295-2a18-4a18-a2dd-afd2eaae74c1",
    "prId" : 17996,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "efd4aa8b-4bd7-4d4f-9b7a-30fe7a2a499a",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "maybe also `git checkout master`? just to be safe\n",
        "createdAt" : "2015-12-04T21:42:16Z",
        "updatedAt" : "2015-12-05T00:24:17Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "07dfa17a-909d-4ce2-80d2-14f681c6e11d",
        "parentId" : "efd4aa8b-4bd7-4d4f-9b7a-30fe7a2a499a",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "ok\n",
        "createdAt" : "2015-12-04T21:46:35Z",
        "updatedAt" : "2015-12-05T00:24:17Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bc9980f2900452f0a0c8e31c2b3f172f6da8ad5",
    "line" : null,
    "diffHunk" : "@@ -1,1 +42,46 @@\ndocker exec job-builder git checkout master\ndocker exec job-builder git pull\ndocker exec job-builder jenkins-jobs test ${config_dir}"
  },
  {
    "id" : "11e5647d-df18-40d8-a192-6fdf1cdd4f3b",
    "prId" : 17996,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5296dd8f-047b-4b83-917e-b47e3bb8c46f",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "probably would have inverted the logic so as to avoid nesting many levels deep\n",
        "createdAt" : "2015-12-07T23:17:26Z",
        "updatedAt" : "2015-12-07T23:17:26Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bc9980f2900452f0a0c8e31c2b3f172f6da8ad5",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +28,32 @@  # jenkins_jobs.ini contains administrative credentials for Jenkins.\n  # Store it in the workspace of the Jenkins job that calls this script.\n  if [[ -e jenkins_jobs.ini ]]; then\n    docker run -idt \\\n      --net host \\"
  }
]