[
  {
    "id" : "fc8b1d8a-1148-4bf6-83e2-49d445baac9a",
    "prId" : 88162,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88162#pullrequestreview-359354168",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "42ac71df-e2f1-497f-b7a5-22a3969821e2",
        "parentId" : null,
        "authorId" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "body" : "These won't be needed once we switch to the new benchmark framework. Can you create an issue to track that?",
        "createdAt" : "2020-02-14T21:41:03Z",
        "updatedAt" : "2020-02-14T21:41:03Z",
        "lastEditedBy" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "tags" : [
        ]
      },
      {
        "id" : "688d2baf-9e86-4c09-8266-a11ce3be6e95",
        "parentId" : "42ac71df-e2f1-497f-b7a5-22a3969821e2",
        "authorId" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "body" : "https://github.com/kubernetes/kubernetes/issues/88195",
        "createdAt" : "2020-02-15T16:40:53Z",
        "updatedAt" : "2020-02-15T16:40:53Z",
        "lastEditedBy" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "51120d133cec135b22d640dd8edb6582dbd22732",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +62,66 @@make test-integration WHAT=\"$*\" KUBE_TEST_ARGS=\"-run='XXX' -bench=${TEST_PREFIX:-.} -benchmem  -alsologtostderr=false -logtostderr=false -data-items-dir=${ARTIFACTS}\" \\\n  | (go run test/integration/benchmark/extractlog/main.go) \\\n  | tee \\\n   >(prettybench -no-passthrough > \"${ARTIFACTS}/BenchmarkResults.txt\") \\\n   >(go run test/integration/benchmark/jsonify/main.go \"${ARTIFACTS}/BenchmarkResults_benchmark_$(date -u +%Y-%m-%dT%H:%M:%SZ).json\" || cat > /dev/null)"
  },
  {
    "id" : "bc6ae952-c2d4-4f1c-ab4d-32a3d59bd5ee",
    "prId" : 75915,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/75915#pullrequestreview-223086682",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b11a807e-cc2e-446c-99cd-5e17a2e86f66",
        "parentId" : null,
        "authorId" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "body" : "Can you quote the whole string not just the variable part?",
        "createdAt" : "2019-04-05T03:29:31Z",
        "updatedAt" : "2019-04-05T03:30:18Z",
        "lastEditedBy" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "tags" : [
        ]
      }
    ],
    "commit" : "64f8f30c07d8aad18fd4918625682e2dca56e4e0",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +58,62 @@  | tee \\\n   >(prettybench -no-passthrough > \"${ARTIFACTS}/BenchmarkResults.txt\") \\\n   >(go run test/integration/benchmark/jsonify/main.go \"${ARTIFACTS}\"/BenchmarkResults_benchmark_\"$(date -u +%Y-%m-%dT%H:%M:%SZ)\".json || cat > /dev/null)"
  },
  {
    "id" : "baef23a6-8f2b-445d-aacf-e86ddd2d1844",
    "prId" : 72218,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/72218#pullrequestreview-186796132",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e3c9f164-209c-4cab-8ac0-a4ba5ad1562a",
        "parentId" : null,
        "authorId" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "body" : "You sure we don't depend on ARTIFACTS_DIR in some other random place (like ginkgo?)",
        "createdAt" : "2018-12-19T23:24:14Z",
        "updatedAt" : "2018-12-19T23:24:33Z",
        "lastEditedBy" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "tags" : [
        ]
      },
      {
        "id" : "df1fe5e1-2aaa-474d-b62f-f8086261caef",
        "parentId" : "e3c9f164-209c-4cab-8ac0-a4ba5ad1562a",
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "I couldn't find any other references in k/k or k/test-infra, but I can't say with 100% confidence.",
        "createdAt" : "2018-12-19T23:27:37Z",
        "updatedAt" : "2018-12-19T23:27:37Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      },
      {
        "id" : "eec5f00c-eccc-43bb-bc9a-c614a50663db",
        "parentId" : "e3c9f164-209c-4cab-8ac0-a4ba5ad1562a",
        "authorId" : "a32457ee-5d35-4249-84b2-4276603aaffb",
        "body" : "I think all verify/integration test lives in k/k? if not I'll be sad..",
        "createdAt" : "2018-12-19T23:34:37Z",
        "updatedAt" : "2018-12-19T23:34:37Z",
        "lastEditedBy" : "a32457ee-5d35-4249-84b2-4276603aaffb",
        "tags" : [
        ]
      }
    ],
    "commit" : "b19fb0a77e2904da8cfdefbefdd0682721b45dc4",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +40,44 @@# Disable coverage report\nexport KUBE_COVER=\"n\"\nexport ARTIFACTS=${ARTIFACTS:-\"${WORKSPACE}/artifacts\"}\n\nmkdir -p \"${ARTIFACTS}\""
  },
  {
    "id" : "202a0e88-d6f1-4f2b-be2a-4bd236d42b76",
    "prId" : 58160,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/58160#pullrequestreview-88790609",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7f9ad13c-cfe3-4221-8c74-ced31436fc8f",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Why?",
        "createdAt" : "2018-01-11T19:42:14Z",
        "updatedAt" : "2018-01-15T13:05:21Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "d475916c-aedc-415b-be41-368e7def39ad",
        "parentId" : "7f9ad13c-cfe3-4221-8c74-ced31436fc8f",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "In general I've seen (from e.g.s on the internet) that the go race detector is not used with benchmarks.\r\nI read up a bit about it and I believe it's probably because it affects the real performance of the benchmark due to adding extra instrumentation to for e.g memory accesses. Also some extra runtime libraries are enabled to watch accesses to shared variables. It's explained here - https://blog.golang.org/race-detector\r\n\r\nAlso I found this about the runtime overhead - https://golang.org/doc/articles/race_detector.html#Runtime_Overheads (which imo we shouldn't be adding for benchmarks).\r\nWDYT?",
        "createdAt" : "2018-01-12T12:13:20Z",
        "updatedAt" : "2018-01-15T13:05:21Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      },
      {
        "id" : "8457ca98-228b-4ee1-8c9d-733dbdfb0d35",
        "parentId" : "7f9ad13c-cfe3-4221-8c74-ced31436fc8f",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Sorry, I wasn't clear. I agree we definitely shouldn't have race detector switched on for benchmarks, because it affects performance.\r\nMy question was \"isn't it off by default\"?",
        "createdAt" : "2018-01-15T08:05:19Z",
        "updatedAt" : "2018-01-15T13:05:21Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "4ffbedec-a1f3-4092-8a7f-1babe266da47",
        "parentId" : "7f9ad13c-cfe3-4221-8c74-ced31436fc8f",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "I guess so. Though it seems to be explicitly set at places (e.g https://github.com/kubernetes/kubernetes/blob/master/hack/make-rules/test-integration.sh#L75, https://github.com/kubernetes/kubernetes/blob/master/hack/benchmark-go.sh#L26) - probably to be safe (in case the env var is pre-set).",
        "createdAt" : "2018-01-15T11:31:19Z",
        "updatedAt" : "2018-01-15T13:05:21Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bdc99d2ecc406aa1d3128bc008fcbbe80d58807",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +38,42 @@\n# Disable the Go race detector.\nexport KUBE_RACE=\" \"\n# Disable coverage report\nexport KUBE_COVER=\"n\""
  },
  {
    "id" : "cd042b5c-92d1-4c79-9fda-be9ed226c827",
    "prId" : 58160,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/58160#pullrequestreview-88459614",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7c7bef79-3192-493b-86ce-5b3b94b37fbd",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Isn't that default?",
        "createdAt" : "2018-01-11T19:42:29Z",
        "updatedAt" : "2018-01-15T13:05:21Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "5222dfab-e996-458e-8d2e-51c5671b95ce",
        "parentId" : "7c7bef79-3192-493b-86ce-5b3b94b37fbd",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "I guess so (as it seems like we'll reach this codepoint https://github.com/kubernetes/kubernetes/blob/master/hack/make-rules/test.sh#L102).\r\nBut I just set it anyway to make it explicit here and be on the safe side. We are doing it here too - https://github.com/kubernetes/kubernetes/blob/master/hack/jenkins/test-dockerized.sh",
        "createdAt" : "2018-01-12T12:13:17Z",
        "updatedAt" : "2018-01-15T13:05:21Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      },
      {
        "id" : "2241fa23-9fc2-4a78-b3d0-7ed8b8fc42da",
        "parentId" : "7c7bef79-3192-493b-86ce-5b3b94b37fbd",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "I can remove it if you want.",
        "createdAt" : "2018-01-12T12:14:06Z",
        "updatedAt" : "2018-01-15T13:05:21Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bdc99d2ecc406aa1d3128bc008fcbbe80d58807",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +40,44 @@export KUBE_RACE=\" \"\n# Disable coverage report\nexport KUBE_COVER=\"n\"\n# Produce a JUnit-style XML test report.\nexport KUBE_JUNIT_REPORT_DIR=${WORKSPACE}/artifacts"
  },
  {
    "id" : "7d100e47-1e37-47da-b257-8da3163888a9",
    "prId" : 58160,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/58160#pullrequestreview-88790662",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "79fd28dc-d4a0-4510-9282-cc862d3bdacf",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "This assumes that the repo is mounted there. Can you please add a comment at the beginning of this file explaining this?",
        "createdAt" : "2018-01-15T08:06:36Z",
        "updatedAt" : "2018-01-15T13:05:21Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "e73c9962-6773-4be8-913b-6d58354a2e5c",
        "parentId" : "79fd28dc-d4a0-4510-9282-cc862d3bdacf",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "Done.",
        "createdAt" : "2018-01-15T11:31:31Z",
        "updatedAt" : "2018-01-15T13:05:21Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bdc99d2ecc406aa1d3128bc008fcbbe80d58807",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +45,49 @@export ARTIFACTS_DIR=${WORKSPACE}/artifacts\n\ncd /go/src/k8s.io/kubernetes\n\n./hack/install-etcd.sh"
  }
]