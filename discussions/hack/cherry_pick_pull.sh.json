[
  {
    "id" : "bfaebe02-f6c6-461f-a9cf-4ae714e8f7dc",
    "prId" : 97697,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97697#pullrequestreview-642314087",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c9fd022f-92d1-49ec-9092-e62e9e147090",
        "parentId" : null,
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "they have to login too right? before running this script (\"gh auth login\")?",
        "createdAt" : "2021-02-17T02:45:30Z",
        "updatedAt" : "2021-04-22T14:59:43Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "2c5d6cda-69f9-4143-8d76-39f52a445918",
        "parentId" : "c9fd022f-92d1-49ec-9092-e62e9e147090",
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "Added a check for this",
        "createdAt" : "2021-04-22T15:00:39Z",
        "updatedAt" : "2021-04-22T15:00:39Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      }
    ],
    "commit" : "d60cb5b378380a7a3f39c8834bb8afc94d4aeaa3",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +46,50 @@\nif ! command -v gh > /dev/null; then\n  echo \"Can't find 'gh' tool in PATH, please install from https://github.com/cli/cli\"\n  exit 1\nfi"
  },
  {
    "id" : "79d75d6b-8971-4659-af58-624f24b2b1af",
    "prId" : 76856,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76856#pullrequestreview-228870477",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41f4bce4-a8a8-458b-b061-2065c6f0220c",
        "parentId" : null,
        "authorId" : "e7b8fd7e-f93b-44b6-b6d0-4331207d901c",
        "body" : "change reason:\r\n```\r\nIn hack/cherry_pick_pull.sh line 87:\r\ndeclare -r PULLDASH=$(join - \"${PULLS[@]/#/#}\") # Generates something like \"#12345-#56789\"\r\n           ^-- SC2155: Declare and assign separately to avoid masking return values.\r\n```",
        "createdAt" : "2019-04-20T07:55:05Z",
        "updatedAt" : "2019-04-20T07:55:47Z",
        "lastEditedBy" : "e7b8fd7e-f93b-44b6-b6d0-4331207d901c",
        "tags" : [
        ]
      }
    ],
    "commit" : "e7e517434bea6dd3c62abd40f2696d8794e85a67",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +86,90 @@function join { local IFS=\"$1\"; shift; echo \"$*\"; }\nPULLDASH=$(join - \"${PULLS[@]/#/#}\") # Generates something like \"#12345-#56789\"\ndeclare -r PULLDASH\nPULLSUBJ=$(join \" \" \"${PULLS[@]/#/#}\") # Generates something like \"#12345 #56789\"\ndeclare -r PULLSUBJ"
  },
  {
    "id" : "16006554-5a1f-4b95-99c1-47e04f645926",
    "prId" : 76856,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76856#pullrequestreview-228870477",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e3a12854-2693-483c-aa27-9cdaea78b54e",
        "parentId" : null,
        "authorId" : "e7b8fd7e-f93b-44b6-b6d0-4331207d901c",
        "body" : "change reason:\r\n```\r\nIn hack/cherry_pick_pull.sh line 131:\r\n  local rel=\"$(basename \"${BRANCH}\")\"\r\n        ^-- SC2155: Declare and assign separately to avoid masking return values.\r\n```",
        "createdAt" : "2019-04-20T07:55:41Z",
        "updatedAt" : "2019-04-20T07:55:47Z",
        "lastEditedBy" : "e7b8fd7e-f93b-44b6-b6d0-4331207d901c",
        "tags" : [
        ]
      }
    ],
    "commit" : "e7e517434bea6dd3c62abd40f2696d8794e85a67",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +135,139 @@function make-a-pr() {\n  local rel\n  rel=\"$(basename \"${BRANCH}\")\"\n  echo\n  echo \"+++ Creating a pull request on GitHub at ${GITHUB_USER}:${NEWBRANCH}\""
  },
  {
    "id" : "5ff4e3e3-f6e5-4329-b820-02d076bbfc14",
    "prId" : 46993,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/46993#pullrequestreview-46314395",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5ae11927-a4f0-4cc2-a429-337e0b4277d0",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "this makes the cherry-pick script unnecessarily slow (for most changes which do not require docs updates) and fragile (on failure, it does not enter a retry loop like the conflict case above). I'd rather see this be opt-in.",
        "createdAt" : "2017-06-26T14:36:10Z",
        "updatedAt" : "2017-06-26T14:36:10Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "4ffd8dca-330c-4248-bf7f-e1e306dfb8bb",
        "parentId" : "5ae11927-a4f0-4cc2-a429-337e0b4277d0",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "this also breaks cherry-picks to 1.6 and leaves them with lots of uncommitted generated docs in the working dir",
        "createdAt" : "2017-06-26T16:30:33Z",
        "updatedAt" : "2017-06-26T16:30:33Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "4d70ec9531d3bd4b8009baa681b8d53512a205e4",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +190,194 @@  echo\n  echo \"hack/generate-docs.sh FAILED to complete.\"\n  exit 1\nfi\n"
  },
  {
    "id" : "e9600b44-9775-4f64-8ff3-e4f771e5fff4",
    "prId" : 38783,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/38783#pullrequestreview-13022423",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "371edd3e-4ed5-4ea1-ad73-66edbac2e84e",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "and now I notice that `/tmp/${pull}.patch` is used here. probably shouldn't delete it till after this point.",
        "createdAt" : "2016-12-14T22:15:58Z",
        "updatedAt" : "2016-12-14T22:33:35Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "822a44ab-21a9-4326-a1bb-3100663653a4",
        "parentId" : "371edd3e-4ed5-4ea1-ad73-66edbac2e84e",
        "authorId" : "ffc157a5-b8d0-4a06-b942-f8e5150e4215",
        "body" : "oh good catch!",
        "createdAt" : "2016-12-14T22:31:35Z",
        "updatedAt" : "2016-12-14T22:33:35Z",
        "lastEditedBy" : "ffc157a5-b8d0-4a06-b942-f8e5150e4215",
        "tags" : [
        ]
      }
    ],
    "commit" : "50343c20c9e0c08d2081ad7efd5642f52e3abcc3",
    "line" : null,
    "diffHunk" : "@@ -1,1 +176,180 @@\n  # set the subject\n  subject=$(grep -m 1 \"^Subject\" \"/tmp/${pull}.patch\" | sed -e 's/Subject: \\[PATCH//g' | sed 's/.*] //')\n  SUBJECTS+=(\"#${pull}: ${subject}\")\n"
  },
  {
    "id" : "b562e85d-3f11-4042-a20e-4ccc0d281297",
    "prId" : 29873,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "62f2eb10-33ae-49b0-a433-2f6daefc3d4f",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "What does it do if that branch already exists? (like it would if you ran it with dry run and then ran it again)\n",
        "createdAt" : "2016-08-02T04:42:31Z",
        "updatedAt" : "2016-08-03T02:17:08Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "e722ad7d-160a-4ce8-a8ba-e42aeb878c5b",
        "parentId" : "62f2eb10-33ae-49b0-a433-2f6daefc3d4f",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "The timestamp is supposed to make it unique -- according to the script.  If the branch somehow already exists, `git checkout -b` will fail and the script will exit.\n",
        "createdAt" : "2016-08-02T15:52:16Z",
        "updatedAt" : "2016-08-03T02:17:08Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      },
      {
        "id" : "1307bf01-c27b-4e2b-8fb1-77d820fb73af",
        "parentId" : "62f2eb10-33ae-49b0-a433-2f6daefc3d4f",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Oh sorry, missed that, that's why I shouldn't do code review late at night...\n",
        "createdAt" : "2016-08-02T16:44:50Z",
        "updatedAt" : "2016-08-03T02:17:08Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "44beb98f7759b1e80ca1c12a89e72aaaabb71bb4",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +18,22 @@# meta.) Assumes you care about pulls from remote \"upstream\" and\n# checks thems out to a branch named:\n#  automated-cherry-pick-of-<pr>-<target branch>-<timestamp>\n\nset -o errexit"
  },
  {
    "id" : "8606e8cf-e88d-4a12-81e6-3c7e18d0d955",
    "prId" : 29873,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6f070280-bb10-486a-b97c-bb280d92cbed",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Maybe log this action.\n",
        "createdAt" : "2016-08-02T16:51:31Z",
        "updatedAt" : "2016-08-03T02:17:08Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "44beb98f7759b1e80ca1c12a89e72aaaabb71bb4",
    "line" : null,
    "diffHunk" : "@@ -1,1 +102,106 @@    echo \"+++ Returning you to the ${STARTINGBRANCH} branch and cleaning up.\"\n    git checkout -f \"${STARTINGBRANCH}\" >/dev/null 2>&1 || true\n    if [[ -n \"${cleanbranch}\" ]]; then\n      git branch -D \"${cleanbranch}\" >/dev/null 2>&1 || true\n    fi"
  },
  {
    "id" : "411c0afe-b39f-407e-afa0-17dd415a5bdb",
    "prId" : 29873,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2729a7c6-3053-4fd7-9b21-cd6bb2a54791",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "And if you don't delete the branch, maybe log its name, and the command to delete it?\n",
        "createdAt" : "2016-08-02T16:52:01Z",
        "updatedAt" : "2016-08-03T02:17:08Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "c91de981-1c2d-4bb2-8fd8-40e7742473fc",
        "parentId" : "2729a7c6-3053-4fd7-9b21-cd6bb2a54791",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "I was considering doing just that.  Will make some updates.\n",
        "createdAt" : "2016-08-02T17:18:58Z",
        "updatedAt" : "2016-08-03T02:17:08Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      }
    ],
    "commit" : "44beb98f7759b1e80ca1c12a89e72aaaabb71bb4",
    "line" : null,
    "diffHunk" : "@@ -1,1 +103,107 @@    git checkout -f \"${STARTINGBRANCH}\" >/dev/null 2>&1 || true\n    if [[ -n \"${cleanbranch}\" ]]; then\n      git branch -D \"${cleanbranch}\" >/dev/null 2>&1 || true\n    fi\n    if [[ -n \"${prtext}\" ]]; then"
  },
  {
    "id" : "5ce63d22-7339-4522-87c2-24df3c5afbd6",
    "prId" : 12233,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "df81344d-b525-42e5-ac75-a6ec96f48244",
        "parentId" : null,
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "nit: $() vs ``\n",
        "createdAt" : "2015-08-05T12:58:51Z",
        "updatedAt" : "2015-08-05T12:58:51Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "db72cc27-fa01-4a45-a070-5d098fe5797d",
        "parentId" : "df81344d-b525-42e5-ac75-a6ec96f48244",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "And forgot nit: quotes for \"${GITHUB_USER}:${NEWBRANCH}\" and \"${BRANCH}\"\n",
        "createdAt" : "2015-08-05T13:01:26Z",
        "updatedAt" : "2015-08-05T13:01:26Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "e842ed8f-c36f-43e4-a5b0-ea059f5e1845",
        "parentId" : "df81344d-b525-42e5-ac75-a6ec96f48244",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "done.\n",
        "createdAt" : "2015-08-05T18:37:27Z",
        "updatedAt" : "2015-08-05T18:37:27Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      },
      {
        "id" : "a3ad8133-e5c2-4358-87bb-b67537d3aeae",
        "parentId" : "df81344d-b525-42e5-ac75-a6ec96f48244",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Do we have somewhere to dump a link to https://google-styleguide.googlecode.com/svn/trunk/shell.xml ? Maybe should just have a style guide landing page for k8s.\n\n(In the case of bash, we've settled on basically that style guide with the exception that we strongly prefer `.sh` over naked script names.)\n",
        "createdAt" : "2015-08-05T18:43:00Z",
        "updatedAt" : "2015-08-05T18:43:00Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "70d843176bb98098d39473d5b9994b9b5c9ed9fe",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +136,140 @@  echo \"+++ Creating a pull request on github\"\n  echo hub pull-request -m \"Automated cherry pick of ${PULLSUBJ}\" -h ${GITHUB_USER}:${NEWBRANCH} -b GoogleCloudPlatform:`basename ${BRANCH}`\n  hub pull-request -m \"Automated cherry pick of ${PULLSUBJ}\" -h ${GITHUB_USER}:${NEWBRANCH} -b GoogleCloudPlatform:`basename ${BRANCH}`\n}\n"
  },
  {
    "id" : "7733e739-174f-4c83-a08b-b7d81cae0c64",
    "prId" : 11194,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d4528926-7e6b-4224-abf0-163bee82fff7",
        "parentId" : null,
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "I don't understand \"presumably ${BRANCH}\"\n\nIIRC when I was doing this, it literally said 'release-1.0'\n",
        "createdAt" : "2015-07-14T00:22:48Z",
        "updatedAt" : "2015-07-14T00:22:48Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "de3bf9a2-ed98-4949-a8e6-e01667be88f8",
        "parentId" : "d4528926-7e6b-4224-abf0-163bee82fff7",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "The fixed text part is giving an example. The other part is taking a very solid guess at what you used as the thing you based this on, but in reality, if you know what you're doing, you can pass an awful lot of things to this script and it just works (and it's hard to stop you). So `${BRANCH}` could be anything from a random git commit, to a local branch, to someone's private remote branch, etc. I'm not saying you SHOULD use those, but you COULD.\n",
        "createdAt" : "2015-07-14T00:29:34Z",
        "updatedAt" : "2015-07-14T00:29:34Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "9c55b52f-4aa4-4bf4-bdc2-9b6944178a37",
        "parentId" : "d4528926-7e6b-4224-abf0-163bee82fff7",
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "I'm still confused. What will ${BRANCH} evaluate to if you follow the steps I did earlier? Will it say 'release-1.0' or something else?\n",
        "createdAt" : "2015-07-14T00:33:11Z",
        "updatedAt" : "2015-07-14T00:33:11Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "b18532bc-e17f-4053-8be8-5b483235804d",
        "parentId" : "d4528926-7e6b-4224-abf0-163bee82fff7",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Yes, it will say `release-1.0`. It looks slightly redundant.\n",
        "createdAt" : "2015-07-14T00:47:28Z",
        "updatedAt" : "2015-07-14T00:47:28Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "4c078b1a9952047c1ee4564982791ce23362066b",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +129,133 @@  echo \"    this in the GitHub UI, when you get to the 'Comparing Changes' screen, keep the\"\n  echo \"    'base fork' as GoogleCloudPlatform/kubernetes, but change the 'base' to e.g. 'release-1.0',\"\n  echo \"    presumably ${BRANCH}. (This selection is near the top left.)\"\n  echo\n  echo \"    Use this subject: 'Automated cherry pick of ${PULLSUBJ}' and include a justification.\""
  },
  {
    "id" : "72aa95e4-2ac6-44c2-bf9a-72aa343f3775",
    "prId" : 10757,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0fbe9461-9ea2-4082-90ad-ab04c6f93b2b",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "does this (and others like it) leave a trail of dead branches?  Should we branch -D it?\n",
        "createdAt" : "2015-07-08T05:02:31Z",
        "updatedAt" : "2015-07-08T18:16:27Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "f02c7cc0-2f0d-48b1-850a-b035820e4958",
        "parentId" : "0fbe9461-9ea2-4082-90ad-ab04c6f93b2b",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Yeah, it does. I'll DTRT and fix the trap handler.\n",
        "createdAt" : "2015-07-08T12:06:48Z",
        "updatedAt" : "2015-07-08T18:16:27Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "4f3accec001da1a335bab7385f43cad1d1849a52",
    "line" : null,
    "diffHunk" : "@@ -1,1 +126,130 @@read -p \"+++ Proceed (anything but 'y' aborts the cherry-pick)? [y/n] \" -r\nif ! [[ \"${REPLY}\" =~ ^[yY]$ ]]; then\n  echo \"Aborting.\" >&2\n  exit 1\nfi"
  }
]