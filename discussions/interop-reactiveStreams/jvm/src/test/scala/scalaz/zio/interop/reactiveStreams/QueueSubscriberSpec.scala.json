[
  {
    "id" : "b288774a-5165-4e35-9110-0101cf96ac93",
    "prId" : 837,
    "prUrl" : "https://github.com/zio/zio/pull/837#pullrequestreview-235765499",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "911b5fb0-49a3-4d6b-bafe-cf61b4e2ca21",
        "parentId" : null,
        "authorId" : "4f7a0777-ad97-4424-aa99-3fcea1de6a97",
        "body" : "Do we still need the `sleep` here? If you're trying to make sure the fiber actually starts running, a common trick is using a `Promise` that is resolved by the fiber before it runs and awaiting on it before progressing.",
        "createdAt" : "2019-05-09T18:56:05Z",
        "updatedAt" : "2019-05-09T18:56:28Z",
        "lastEditedBy" : "4f7a0777-ad97-4424-aa99-3fcea1de6a97",
        "tags" : [
        ]
      }
    ],
    "commit" : "7b5cdd3b9e31a4e0ed7d8e6472a35cf76c00c7ae",
    "line" : 113,
    "diffHunk" : "@@ -1,1 +96,100 @@        (subscriber, stream) = subStr\n        fiber                <- stream.run(Sink.collect[Int]).fork\n        _                    <- ZIO.sleep(Duration(100, MILLISECONDS))\n        _                    <- fiber.interrupt\n        canceled             <- Promise.make[Nothing, Result]"
  }
]