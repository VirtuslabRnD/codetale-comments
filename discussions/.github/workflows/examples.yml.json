[
  {
    "id" : "66eddd4f-d179-4fb6-b667-5751a127f75b",
    "prId" : 3245,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3245#pullrequestreview-464420310",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3c1e3cf5-075d-47d4-b942-c13cdfae8dd5",
        "parentId" : null,
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "Maybe this command should be put in a shell script so we can use it  when we want to clean up all conda environments created by `mlflow run` for some reason.",
        "createdAt" : "2020-08-10T03:04:41Z",
        "updatedAt" : "2020-08-10T17:06:23Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      },
      {
        "id" : "7432c098-06d4-4e92-b257-fc2037deb617",
        "parentId" : "3c1e3cf5-075d-47d4-b942-c13cdfae8dd5",
        "authorId" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "body" : "Probably we should run something similar after the master tests workfow, as I think the large tests also create conda envs.",
        "createdAt" : "2020-08-10T16:38:12Z",
        "updatedAt" : "2020-08-10T17:06:23Z",
        "lastEditedBy" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "tags" : [
        ]
      },
      {
        "id" : "429d69c2-119f-4369-9806-8c19dd657303",
        "parentId" : "3c1e3cf5-075d-47d4-b942-c13cdfae8dd5",
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "Let me just check if the large tests really create conda envs.",
        "createdAt" : "2020-08-10T16:48:39Z",
        "updatedAt" : "2020-08-10T17:06:23Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      },
      {
        "id" : "0d3fe3cf-ce31-42a8-b92b-3fcdd5d83c38",
        "parentId" : "3c1e3cf5-075d-47d4-b942-c13cdfae8dd5",
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "Looks like both small and large tests also create some conda envs, but not sure if we really need to remove these.\r\n\r\nsmall: https://github.com/mlflow/mlflow/pull/3245/checks?check_run_id=967639307#step:5:9\r\nlarge: https://github.com/mlflow/mlflow/pull/3245/checks?check_run_id=967639346#step:5:9",
        "createdAt" : "2020-08-10T17:02:46Z",
        "updatedAt" : "2020-08-10T17:07:22Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      },
      {
        "id" : "58d9eea0-a1ad-4e88-a0cb-a8706849d675",
        "parentId" : "3c1e3cf5-075d-47d4-b942-c13cdfae8dd5",
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "If the number of conda envs were large, we'd need to.",
        "createdAt" : "2020-08-10T17:12:45Z",
        "updatedAt" : "2020-08-10T17:12:45Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "e8b2f04d681f38cc936657bbe7ab6c9726320c34",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +47,51 @@        cut -d' ' -f1 |                         # extract env names\n        grep \"^mlflow-[a-z0-9]\\{32\\}\" |         # filter envs created by mlflow\n        xargs -L 1 conda remove --all --yes -n  # pass env names to conda remove\n        conda env list\n        conda clean --all --yes"
  }
]