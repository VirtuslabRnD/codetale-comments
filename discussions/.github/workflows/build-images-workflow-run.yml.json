[
  {
    "id" : "f38e4393-f568-4219-abb1-ee9631ab0a5f",
    "prId" : 10690,
    "prUrl" : "https://github.com/apache/airflow/pull/10690#pullrequestreview-481740871",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99444a73-fad5-4fe5-a6bf-a297c7892b2e",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "There is a mistake here. We need to add the whole name of the check if you removed .*  as the regexp matches $ - end of line. It is \"Static checks: except pylint\" now.",
        "createdAt" : "2020-09-03T11:04:01Z",
        "updatedAt" : "2020-09-03T11:04:02Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "f3e60eec-2a60-40a4-91be-d44c6f6f0054",
        "parentId" : "99444a73-fad5-4fe5-a6bf-a297c7892b2e",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Oh wait, the job name is just \"Static checks\" the step name is \"Static checks except pylint\"",
        "createdAt" : "2020-09-03T11:20:32Z",
        "updatedAt" : "2020-09-03T11:20:32Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "df8b2000-22e5-4075-8c07-b69da5efeb7e",
        "parentId" : "99444a73-fad5-4fe5-a6bf-a297c7892b2e",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "So should be ok, no?",
        "createdAt" : "2020-09-03T11:20:41Z",
        "updatedAt" : "2020-09-03T11:20:42Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      }
    ],
    "commit" : "40c06d118c60e8b6ce008cd03a992e51cd1d4dd3",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +100,104 @@          sourceRunId: ${{ github.event.workflow_run.id }}\n          jobNameRegexps: >\n            [\"^Pylint$\", \"^Static checks$\", \"^Build docs$\", \"^Spell check docs$\", \"^Backport packages$\",\n             \"^Checks: Helm tests$\", \"^Test OpenAPI*\"]\n      - name: \"Extract canceled failed runs\""
  },
  {
    "id" : "76cfd513-2918-4a84-8c89-31fb900e01d6",
    "prId" : 10912,
    "prUrl" : "https://github.com/apache/airflow/pull/10912#pullrequestreview-489449448",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e8a80bbd-76b4-4b0b-9bd3-ab2034bf1ba1",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Don't you mean $2 to match `export DEFAULT_BRANCH=\"master\"`?",
        "createdAt" : "2020-09-14T12:00:51Z",
        "updatedAt" : "2020-09-15T00:58:42Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "dabef075-ba73-4f1a-8658-082462bfcb86",
        "parentId" : "e8a80bbd-76b4-4b0b-9bd3-ab2034bf1ba1",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Not really. The form of it is `export DEFAULT_BRANCH=${DEFAULT_BRANCH:=\"master\"}` so that it can be overridden.\r\n\r\n",
        "createdAt" : "2020-09-14T16:04:53Z",
        "updatedAt" : "2020-09-15T00:58:42Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "11f7a8f8-b02a-4b16-89d9-15dcb7bb3266",
        "parentId" : "e8a80bbd-76b4-4b0b-9bd3-ab2034bf1ba1",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Ah, I was looking at a different file (or maybe an older version) then.",
        "createdAt" : "2020-09-16T09:37:12Z",
        "updatedAt" : "2020-09-16T09:37:12Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "49dafd7b1c0b88d0e0270a6103432e32512d7c28",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +218,222 @@        run: |\n          DEFAULT_BRANCH=$(grep \"export DEFAULT_BRANCH\" scripts/ci/libraries/_initialization.sh | \\\n            awk 'BEGIN{FS=\"=\"} {print $3}' | sed s'/[\"}]//g')\n          echo \"::set-env name=DEFAULT_BRANCH::${DEFAULT_BRANCH}\"\n          DEFAULT_CONSTRAINTS_BRANCH=$(grep \"export DEFAULT_CONSTRAINTS_BRANCH\" \\"
  },
  {
    "id" : "896af5bf-e121-4046-bdf3-6c3b47ef9907",
    "prId" : 10912,
    "prUrl" : "https://github.com/apache/airflow/pull/10912#pullrequestreview-489578860",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7ff92de3-5b20-4232-bcf3-7ce92a69e29c",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Could be done as a single awk command:\r\n\r\n\r\n```suggestion\r\n          DEFAULT_BRANCH=$(awk -F= '/export DEFAULT_BRANCH/ {gsub(/\"/, \"\", $2); print $2}' \\\r\n              scripts/ci/libraries/_initialization.sh)\r\n\r\n```",
        "createdAt" : "2020-09-14T12:01:50Z",
        "updatedAt" : "2020-09-15T00:58:42Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "9234b61a-cf6c-4d95-b691-e7906bccf232",
        "parentId" : "7ff92de3-5b20-4232-bcf3-7ce92a69e29c",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Not so sure :) (See above). But  I am happy to play a game in a) the shortest  b) the least understandable c) the most explicit way of doing it ;)",
        "createdAt" : "2020-09-14T16:07:06Z",
        "updatedAt" : "2020-09-15T00:58:42Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "4cce5c42-dc56-448e-92f8-e14892e229bd",
        "parentId" : "7ff92de3-5b20-4232-bcf3-7ce92a69e29c",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Pet peave of mine is the `grep | awk` given that awk has the ability build in. Not critical of course.",
        "createdAt" : "2020-09-16T09:38:01Z",
        "updatedAt" : "2020-09-16T09:38:01Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "9c2a54ec-d963-4df4-8f1b-83b4c484f076",
        "parentId" : "7ff92de3-5b20-4232-bcf3-7ce92a69e29c",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Yeah, You know I am  of the old good POSIX/unix philosophy - combine many small tools that do one thing very well :).  ",
        "createdAt" : "2020-09-16T12:37:49Z",
        "updatedAt" : "2020-09-16T12:37:50Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "49dafd7b1c0b88d0e0270a6103432e32512d7c28",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +218,222 @@        run: |\n          DEFAULT_BRANCH=$(grep \"export DEFAULT_BRANCH\" scripts/ci/libraries/_initialization.sh | \\\n            awk 'BEGIN{FS=\"=\"} {print $3}' | sed s'/[\"}]//g')\n          echo \"::set-env name=DEFAULT_BRANCH::${DEFAULT_BRANCH}\"\n          DEFAULT_CONSTRAINTS_BRANCH=$(grep \"export DEFAULT_CONSTRAINTS_BRANCH\" \\"
  },
  {
    "id" : "9cd89f21-9973-4649-ac12-014f9a307a39",
    "prId" : 10912,
    "prUrl" : "https://github.com/apache/airflow/pull/10912#pullrequestreview-488677759",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "57bdeba4-5107-4ec8-beda-0c13ce4dfb8a",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Can you tell more about it?",
        "createdAt" : "2020-09-15T13:10:28Z",
        "updatedAt" : "2020-09-15T13:10:28Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "e9f93e64-56ae-478e-9aeb-ad61a98ab5d9",
        "parentId" : "57bdeba4-5107-4ec8-beda-0c13ce4dfb8a",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Yep. It was added to the commit which I updated before but I have not updated the PR description. Synced now ",
        "createdAt" : "2020-09-15T13:17:47Z",
        "updatedAt" : "2020-09-15T13:17:48Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "d57c19a8-2685-4260-9697-484eefb21845",
        "parentId" : "57bdeba4-5107-4ec8-beda-0c13ce4dfb8a",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Also, see the comment below :) ",
        "createdAt" : "2020-09-15T13:18:43Z",
        "updatedAt" : "2020-09-15T13:19:06Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "472eab35-a07c-4580-9900-0b0269f3ac4a",
        "parentId" : "57bdeba4-5107-4ec8-beda-0c13ce4dfb8a",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "In short workfow_run always runs from master - no matter which is  the branch the PR originates from, so we have to have all the python version supported there, but I exclude those, that are not needed for the given \"branch\" (I base it on the DEFAULT_BRANCH which is in the incoming PR) -> if DEFAULT_BRANCH = master -> 3.6, 3.7, 3.8 are build, otherwise all five. ",
        "createdAt" : "2020-09-15T13:22:45Z",
        "updatedAt" : "2020-09-15T13:22:45Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "4c692a35-be7b-48ca-9daf-284274977073",
        "parentId" : "57bdeba4-5107-4ec8-beda-0c13ce4dfb8a",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "That's the dark side of \"workffow_run\" flow. We have to make sure that scripts in \"master\" can be used to build all the images that are used in all other branches, that's a bit annoying, but that's the price to pay for optimisation of the builds and \"security\".",
        "createdAt" : "2020-09-15T13:24:15Z",
        "updatedAt" : "2020-09-15T13:24:15Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "49dafd7b1c0b88d0e0270a6103432e32512d7c28",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +183,187 @@    strategy:\n      matrix:\n        python-version: [2.7, 3.5, 3.6, 3.7, 3.8]\n        image-type: [CI, PROD]\n      fail-fast: true"
  },
  {
    "id" : "91635850-c840-4818-a0ac-297fb0a35c82",
    "prId" : 11319,
    "prUrl" : "https://github.com/apache/airflow/pull/11319#pullrequestreview-503754597",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a7739788-91b4-4656-92c3-3f9d6c991c11",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "I think we trust you ;)",
        "createdAt" : "2020-10-07T10:38:31Z",
        "updatedAt" : "2020-10-07T10:39:05Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "dffc0ed1-184d-4b91-bcdf-acbdd75a292d",
        "parentId" : "a7739788-91b4-4656-92c3-3f9d6c991c11",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "I don't trust myself ;).",
        "createdAt" : "2020-10-07T10:50:52Z",
        "updatedAt" : "2020-10-07T10:50:52Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "a346402344e565ad90a10fd482b9a39dc5c4e5bc",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +60,64 @@    steps:\n      - name: \"Cancel duplicated 'CI Build' runs\"\n        uses: potiuk/cancel-workflow-runs@e9e87cb7738dbb999654aa90d69359d62c9e4eae #v3\n        id: cancel\n        with:"
  },
  {
    "id" : "0c866332-56f1-4aef-a813-747685894569",
    "prId" : 11541,
    "prUrl" : "https://github.com/apache/airflow/pull/11541#pullrequestreview-511165795",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ec754a38-cd35-4d62-9b2f-0f7725b1af05",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "```suggestion\r\n          if [[ \"${EVENT_NAME}\" == \"pull_request\" ]]; then\r\n```\r\n\r\njust as best-practise: https://github.com/koalaman/shellcheck/wiki/SC2086",
        "createdAt" : "2020-10-18T17:16:18Z",
        "updatedAt" : "2020-10-18T18:11:07Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "2a5df75b-aaa2-424a-b716-67e4ab43aa88",
        "parentId" : "ec754a38-cd35-4d62-9b2f-0f7725b1af05",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Not really  -  inside the '[[ ]]' the left hand side part of variable does not need quoting and it shellheck does not complain https://unix.stackexchange.com/questions/68694/when-is-double-quoting-necessary \r\n\r\nI actually every were use convention that I omit the quotes everywhere in bash in the left-siide hand of [[ ]]. This makes it a bit less verbose.\r\n",
        "createdAt" : "2020-10-18T17:29:02Z",
        "updatedAt" : "2020-10-18T18:11:07Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "8c541dc1-6333-4643-b0f6-8fff0c47d145",
        "parentId" : "ec754a38-cd35-4d62-9b2f-0f7725b1af05",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "yea, as I said in another comment, not strictly required but having quotes, is harmless and just for uniformity since we have got quotes in other places ([example](https://github.com/apache/airflow/blob/master/scripts/docker/install_mysql.sh#L21)) :) but yeah feel free to ignore it :) . ",
        "createdAt" : "2020-10-18T17:41:43Z",
        "updatedAt" : "2020-10-18T18:11:07Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      }
    ],
    "commit" : "429e302095acc56d3e707b0a2694375212c07ef5",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +225,229 @@          MERGE_COMMIT_SHA: ${{ needs.cancel-workflow-runs.outputs.mergeCommitSha }}\n        run: |\n          if [[ ${EVENT_NAME} == \"pull_request\" ]]; then\n            # Run selective checks\n            ./scripts/ci/selective_ci_checks.sh \"${MERGE_COMMIT_SHA}\""
  }
]