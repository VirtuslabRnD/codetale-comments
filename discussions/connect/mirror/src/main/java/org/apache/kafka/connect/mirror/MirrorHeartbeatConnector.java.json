[
  {
    "id" : "93f7c0e0-c468-4a12-a28b-48638c2ae3e9",
    "prId" : 7887,
    "prUrl" : "https://github.com/apache/kafka/pull/7887#pullrequestreview-348909529",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ba3c8e20-fd64-45cd-b552-fa5afabbb9c1",
        "parentId" : null,
        "authorId" : "d31db46e-de6d-4fea-8dc5-6f7b17b636be",
        "body" : "Should we check for `!config.enabled()` here too?",
        "createdAt" : "2020-01-27T16:04:15Z",
        "updatedAt" : "2020-01-29T22:18:06Z",
        "lastEditedBy" : "d31db46e-de6d-4fea-8dc5-6f7b17b636be",
        "tags" : [
        ]
      },
      {
        "id" : "b2e51c4f-7aec-41da-9adb-b7f06032d647",
        "parentId" : "ba3c8e20-fd64-45cd-b552-fa5afabbb9c1",
        "authorId" : "d874be1c-ef19-48b0-9fa7-2f43a8f96d37",
        "body" : "No, we want to emit heartbeats even if A->B.enabled=false (see my earlier comment). Basically, we want heartbeats to be sent even if replication is disabled, _unless_ heartbeats are explicitly disabled with emit.heartbeats.enabled = false.",
        "createdAt" : "2020-01-27T16:36:45Z",
        "updatedAt" : "2020-01-29T22:18:06Z",
        "lastEditedBy" : "d874be1c-ef19-48b0-9fa7-2f43a8f96d37",
        "tags" : [
        ]
      },
      {
        "id" : "5b2d78cb-dad1-4975-ab85-fa949cc22ab0",
        "parentId" : "ba3c8e20-fd64-45cd-b552-fa5afabbb9c1",
        "authorId" : "d31db46e-de6d-4fea-8dc5-6f7b17b636be",
        "body" : "Gotcha, maybe worth adding that the explanation to the comment",
        "createdAt" : "2020-01-27T17:13:05Z",
        "updatedAt" : "2020-01-29T22:18:06Z",
        "lastEditedBy" : "d31db46e-de6d-4fea-8dc5-6f7b17b636be",
        "tags" : [
        ]
      },
      {
        "id" : "cb5e6c84-b9c8-4ba3-b241-f13bd944da08",
        "parentId" : "ba3c8e20-fd64-45cd-b552-fa5afabbb9c1",
        "authorId" : "351d7027-f17c-4a61-ba87-e59e44faa6e2",
        "body" : "Great, I will add the the explanation to the comment in the next update",
        "createdAt" : "2020-01-27T18:52:23Z",
        "updatedAt" : "2020-01-29T22:18:06Z",
        "lastEditedBy" : "351d7027-f17c-4a61-ba87-e59e44faa6e2",
        "tags" : [
        ]
      },
      {
        "id" : "bf974d5b-f71c-4cc8-973c-58c6179ced29",
        "parentId" : "ba3c8e20-fd64-45cd-b552-fa5afabbb9c1",
        "authorId" : "351d7027-f17c-4a61-ba87-e59e44faa6e2",
        "body" : "if `isNegative()` is not highly recommended, what about this change? Should we still check `isNegative()` or return the interval as `Duration.ofMillis(Long.MAX_VALUE)` ?",
        "createdAt" : "2020-01-27T19:16:23Z",
        "updatedAt" : "2020-01-29T22:18:06Z",
        "lastEditedBy" : "351d7027-f17c-4a61-ba87-e59e44faa6e2",
        "tags" : [
        ]
      }
    ],
    "commit" : "3e2420881f688624315748f54499806950056861",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +62,66 @@        // if the heartbeats emission is disabled by setting `emit.heartbeats.enabled` to `false`,\n        // the interval heartbeat emission will be negative and no `MirrorHeartbeatTask` will be created\n        if (config.emitHeartbeatsInterval().isNegative()) {\n            return Collections.emptyList();\n        }"
  }
]