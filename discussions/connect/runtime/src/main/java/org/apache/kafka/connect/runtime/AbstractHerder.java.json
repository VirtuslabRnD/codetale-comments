[
  {
    "id" : "ab6658ff-9b91-4a77-aeec-392ac1b56454",
    "prId" : 6624,
    "prUrl" : "https://github.com/apache/kafka/pull/6624#pullrequestreview-238011623",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cc86a5c8-28c2-4990-9aa0-de719b7ad7f5",
        "parentId" : null,
        "authorId" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "body" : "This is where we're using the `prefix` value to get the original connector configs that have that prefix.",
        "createdAt" : "2019-05-14T20:43:04Z",
        "updatedAt" : "2019-05-17T04:30:11Z",
        "lastEditedBy" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "tags" : [
        ]
      },
      {
        "id" : "c0f0fa30-81d4-45b3-a7ca-17f93c4246e1",
        "parentId" : "cc86a5c8-28c2-4990-9aa0-de719b7ad7f5",
        "authorId" : "8adcf94b-f251-439f-916a-887f4ce36651",
        "body" : "I didn't completely understand the comment, can you please elaborate.",
        "createdAt" : "2019-05-15T05:44:32Z",
        "updatedAt" : "2019-05-17T04:30:11Z",
        "lastEditedBy" : "8adcf94b-f251-439f-916a-887f4ce36651",
        "tags" : [
        ]
      },
      {
        "id" : "57a95991-c793-499b-8d9c-f5578ba14006",
        "parentId" : "cc86a5c8-28c2-4990-9aa0-de719b7ad7f5",
        "authorId" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "body" : "Sorry, it was poorly worded. This wasn't a question, but just a note in reference to my earlier comment about stripping prefixes in the request's client configs.",
        "createdAt" : "2019-05-15T19:04:16Z",
        "updatedAt" : "2019-05-17T04:30:11Z",
        "lastEditedBy" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "tags" : [
        ]
      }
    ],
    "commit" : "59f2916a69e71722532c6c60203df35231f56224",
    "line" : 138,
    "diffHunk" : "@@ -1,1 +404,408 @@        Map<String, ConfigKey> configKeys = configDef.configKeys();\n        Set<String> groups = new LinkedHashSet<>();\n        Map<String, Object> clientConfigs = connectorConfig.originalsWithPrefix(prefix);\n        ConnectorClientConfigRequest connectorClientConfigRequest = new ConnectorClientConfigRequest(\n            connName, connectorType, connectorClass, clientConfigs, clientType);"
  },
  {
    "id" : "27ff93db-de7e-4258-bb69-717773f97037",
    "prId" : 6624,
    "prUrl" : "https://github.com/apache/kafka/pull/6624#pullrequestreview-237459178",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "44287d95-66d1-4f6b-9c13-714bd73c1bcc",
        "parentId" : null,
        "authorId" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "body" : "We should have a unit test for this. If it's private, we don't yet.",
        "createdAt" : "2019-05-14T20:43:38Z",
        "updatedAt" : "2019-05-17T04:30:11Z",
        "lastEditedBy" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "tags" : [
        ]
      }
    ],
    "commit" : "59f2916a69e71722532c6c60203df35231f56224",
    "line" : 112,
    "diffHunk" : "@@ -1,1 +378,382 @@    }\n\n    private static ConfigInfos mergeConfigInfos(String connType, ConfigInfos... configInfosList) {\n        int errorCount = 0;\n        List<ConfigInfo> configInfoList = new LinkedList<>();"
  },
  {
    "id" : "23781d30-97d6-40b9-a0a8-5e9f31d11257",
    "prId" : 6624,
    "prUrl" : "https://github.com/apache/kafka/pull/6624#pullrequestreview-238590922",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c0a53e72-422a-4af3-a101-1cee2ce2a7cd",
        "parentId" : null,
        "authorId" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "body" : "We need unit tests for this.",
        "createdAt" : "2019-05-16T19:40:23Z",
        "updatedAt" : "2019-05-17T04:30:11Z",
        "lastEditedBy" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "tags" : [
        ]
      }
    ],
    "commit" : "59f2916a69e71722532c6c60203df35231f56224",
    "line" : 126,
    "diffHunk" : "@@ -1,1 +392,396 @@    }\n\n    private static ConfigInfos validateClientOverrides(String connName,\n                                                      String prefix,\n                                                      AbstractConfig connectorConfig,"
  },
  {
    "id" : "8e47e083-4c46-4516-9c59-5360dd784011",
    "prId" : 6789,
    "prUrl" : "https://github.com/apache/kafka/pull/6789#pullrequestreview-241313422",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d24738a6-b87f-4c49-892a-2e5d686cc826",
        "parentId" : null,
        "authorId" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "body" : "Would it be a lot easier to do the following?\r\n```\r\nMap<String, Object> prefixedOriginals = connectorConfig.originalsWithPrefix(prefix);\r\nMap<String, Object> clientConfigs = configDef.parse(prefixedOriginals);\r\n```\r\nThis does check a few more things (dependencies are set and validators are run), so maybe that's not really want we want to do here.",
        "createdAt" : "2019-05-23T15:41:33Z",
        "updatedAt" : "2019-05-23T15:41:51Z",
        "lastEditedBy" : "145db0de-7396-4643-9a2c-9977e1c6219b",
        "tags" : [
        ]
      },
      {
        "id" : "11403415-9028-4fbe-8e84-876e4136f631",
        "parentId" : "d24738a6-b87f-4c49-892a-2e5d686cc826",
        "authorId" : "f1480a85-4082-46f9-89c6-fe7231733b83",
        "body" : "@rhauch yeah, that was my first pass. Unfortunately, `ConfigDef.parse(...)` throws an exception if required configs are missing, and since this is only the set of connector-specific overrides and not the complete client config, there's no guarantee that, e.g., `bootstrap.servers` will be included.",
        "createdAt" : "2019-05-23T16:23:49Z",
        "updatedAt" : "2019-05-23T16:23:49Z",
        "lastEditedBy" : "f1480a85-4082-46f9-89c6-fe7231733b83",
        "tags" : [
        ]
      }
    ],
    "commit" : "7862a6a7ad9f2d39eaad9c4567519f076df6ebad",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +410,414 @@            ConfigKey configKey = configDef.configKeys().get(configName);\n            Object parsedConfigValue = configKey != null\n                ? ConfigDef.parseType(configName, rawConfigValue, configKey.type)\n                : rawConfigValue;\n            clientConfigs.put(configName, parsedConfigValue);"
  },
  {
    "id" : "f922c803-9591-4fa2-8bd4-4ecacc8ab5cd",
    "prId" : 8263,
    "prUrl" : "https://github.com/apache/kafka/pull/8263#pullrequestreview-379037822",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "db9bbced-921a-4046-b34e-bdf3c8b7bdb4",
        "parentId" : null,
        "authorId" : "e77724e7-3db9-47d6-b4d8-a865b1d06edc",
        "body" : "Related to the other comment, we'll need to keep the `@Override` of the previous method, and just have it call the new method that will also be overridden. ",
        "createdAt" : "2020-03-22T19:18:03Z",
        "updatedAt" : "2020-03-24T23:32:27Z",
        "lastEditedBy" : "e77724e7-3db9-47d6-b4d8-a865b1d06edc",
        "tags" : [
        ]
      }
    ],
    "commit" : "c60d83e6589c034cb0079b9d6d10233acbcbfe70",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +305,309 @@\n    @Override\n    public ConfigInfos validateConnectorConfig(Map<String, String> connectorProps, boolean doLog) {\n        if (worker.configTransformer() != null) {\n            connectorProps = worker.configTransformer().transform(connectorProps);"
  },
  {
    "id" : "499a063e-5e55-4582-acf9-51f493f8811c",
    "prId" : 10822,
    "prUrl" : "https://github.com/apache/kafka/pull/10822#pullrequestreview-695579878",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "02ed0262-46cc-4238-9623-d6e08eaf2d38",
        "parentId" : null,
        "authorId" : "e77724e7-3db9-47d6-b4d8-a865b1d06edc",
        "body" : "Is there any reason we are not adding these new methods in the `TaskStatus.Listener` interface?\r\nIn any case we should add javadoc to the base declaration (interface or class methods). ",
        "createdAt" : "2021-06-29T04:38:50Z",
        "updatedAt" : "2021-06-29T06:41:50Z",
        "lastEditedBy" : "e77724e7-3db9-47d6-b4d8-a865b1d06edc",
        "tags" : [
        ]
      },
      {
        "id" : "8d1e4ab5-5160-4f1e-9288-24a25541e797",
        "parentId" : "02ed0262-46cc-4238-9623-d6e08eaf2d38",
        "authorId" : "094f6954-1557-4cfd-9696-2d85b89e8fea",
        "body" : "I added the missing documentation.\r\n\r\nI didn't add the onRestart method to  Listener because it didn't felt it should be a part of the task lifecycle controlled by the worker. Earlier the method was called recordRestart but based on a review comment, it was renamed it to onRestart, Do you think we should rename it back to recordRestart. The original intent of this method was to just record the state change.",
        "createdAt" : "2021-06-29T18:26:17Z",
        "updatedAt" : "2021-06-29T18:26:17Z",
        "lastEditedBy" : "094f6954-1557-4cfd-9696-2d85b89e8fea",
        "tags" : [
        ]
      },
      {
        "id" : "6fc8f629-cb2c-42bb-9187-c20bc43e6219",
        "parentId" : "02ed0262-46cc-4238-9623-d6e08eaf2d38",
        "authorId" : "e77724e7-3db9-47d6-b4d8-a865b1d06edc",
        "body" : "Did you compare it with other methods? My understanding is that `onDelete` is the same in that respect and exists on the `Listener` as well. But I might have skimmed too quickly through the code",
        "createdAt" : "2021-06-29T18:31:31Z",
        "updatedAt" : "2021-06-29T18:31:31Z",
        "lastEditedBy" : "e77724e7-3db9-47d6-b4d8-a865b1d06edc",
        "tags" : [
        ]
      },
      {
        "id" : "69642276-5663-4266-a4ff-3712e0ac932b",
        "parentId" : "02ed0262-46cc-4238-9623-d6e08eaf2d38",
        "authorId" : "094f6954-1557-4cfd-9696-2d85b89e8fea",
        "body" : "@kkonstantine you are right. Do you mind if we do this work in a follow-up PR?  The reason I ask is because if we add it to the listener then it becomes part of the interface and this would require me to retrofit the listener event into the old restartTask and restartConnector API for backward compatibility reasons and it can be big change to this already big PR.",
        "createdAt" : "2021-06-29T20:48:53Z",
        "updatedAt" : "2021-06-29T20:48:53Z",
        "lastEditedBy" : "094f6954-1557-4cfd-9696-2d85b89e8fea",
        "tags" : [
        ]
      },
      {
        "id" : "00594caa-47af-4402-b0c1-9cc31098e6f2",
        "parentId" : "02ed0262-46cc-4238-9623-d6e08eaf2d38",
        "authorId" : "094f6954-1557-4cfd-9696-2d85b89e8fea",
        "body" : "@kkonstantine I moved it to the Lisetner interface in https://github.com/apache/kafka/pull/10822/commits/7f8a588aaba9f1f80889e0429b2b9f495b1c666b.  Could you please check to see if it looks good.",
        "createdAt" : "2021-06-29T23:28:38Z",
        "updatedAt" : "2021-06-29T23:28:39Z",
        "lastEditedBy" : "094f6954-1557-4cfd-9696-2d85b89e8fea",
        "tags" : [
        ]
      }
    ],
    "commit" : "27100a789ac7b44c8bc13a9e1e65713f340be9e0",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +212,216 @@    }\n\n    public void onRestart(String connector) {\n        statusBackingStore.put(new ConnectorStatus(connector, ConnectorStatus.State.RESTARTING,\n                workerId, generation()));"
  }
]