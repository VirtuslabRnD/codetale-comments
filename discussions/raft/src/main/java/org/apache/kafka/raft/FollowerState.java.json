[
  {
    "id" : "69536fdf-6b71-45cf-b2c8-5aa255e34e4e",
    "prId" : 11040,
    "prUrl" : "https://github.com/apache/kafka/pull/11040#pullrequestreview-705496200",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eb4a78a6-6a21-434e-8b08-af0a0eb79eb9",
        "parentId" : null,
        "authorId" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "body" : "Verified that a few of the tests failed without this and the changes to `MockRawSnapshotWriter` in this PR.",
        "createdAt" : "2021-07-13T18:03:52Z",
        "updatedAt" : "2021-07-13T18:04:34Z",
        "lastEditedBy" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "0181c988b237e6e5fddd1118611ef1f63df497a8",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +138,142 @@    }\n\n    public void setFetchingSnapshot(Optional<RawSnapshotWriter> newSnapshot) {\n        if (fetchingSnapshot.isPresent()) {\n            fetchingSnapshot.get().close();"
  },
  {
    "id" : "4b289fbb-e96f-4891-aaf7-565542579425",
    "prId" : 11040,
    "prUrl" : "https://github.com/apache/kafka/pull/11040#pullrequestreview-705540772",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "296dcfb2-6987-47ac-a5da-bbdae68bac1c",
        "parentId" : null,
        "authorId" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "body" : "Ok, so previously we were closing whatever snapshot was passed in to `setFetchingSnapshot?` ",
        "createdAt" : "2021-07-13T18:56:04Z",
        "updatedAt" : "2021-07-13T18:57:11Z",
        "lastEditedBy" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "tags" : [
        ]
      }
    ],
    "commit" : "0181c988b237e6e5fddd1118611ef1f63df497a8",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +141,145 @@        if (fetchingSnapshot.isPresent()) {\n            fetchingSnapshot.get().close();\n        }\n        fetchingSnapshot = newSnapshot;\n    }"
  }
]