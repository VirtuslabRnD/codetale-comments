[
  {
    "id" : "04b5baa2-0c8b-433d-86ed-6cd057aa8990",
    "prId" : 9482,
    "prUrl" : "https://github.com/apache/kafka/pull/9482#pullrequestreview-520039327",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e19fb73a-95d9-43c3-b7e6-4b8f2a1ca28a",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "How do we decide to use either record batch reader or memory batch reader?",
        "createdAt" : "2020-10-28T17:29:24Z",
        "updatedAt" : "2020-11-02T18:54:18Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "28e5dbe7-5464-4cfe-a033-12f2bd958c71",
        "parentId" : "e19fb73a-95d9-43c3-b7e6-4b8f2a1ca28a",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "`MemoryBatchReader` is only used for writes from the leader. We retain the original records from the call to `scheduleAppend` and send them to the listener in `handleCommit`. This is useful because it ensures the active controller will not need to read from disk.",
        "createdAt" : "2020-10-29T20:05:44Z",
        "updatedAt" : "2020-11-02T18:54:18Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "65494771be58190214d67d2d27bdd3f853fdaa6c",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +36,40 @@import java.util.OptionalLong;\n\npublic class RecordsBatchReader<T> implements BatchReader<T> {\n    private final long baseOffset;\n    private final Records records;"
  }
]