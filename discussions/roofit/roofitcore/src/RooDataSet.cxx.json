[
  {
    "id" : "17599457-445b-4894-a2fd-2039d358086c",
    "prId" : 5360,
    "prUrl" : "https://github.com/root-project/root/pull/5360#pullrequestreview-396601435",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9032e686-26ed-4c5c-9c8b-8c30b6a3d920",
        "parentId" : null,
        "authorId" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "body" : "not for this PR, but can this not be diagnosed?",
        "createdAt" : "2020-04-20T12:07:53Z",
        "updatedAt" : "2020-04-21T09:42:12Z",
        "lastEditedBy" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "tags" : [
        ]
      },
      {
        "id" : "7b583e97-a588-4399-a431-ca3edf8d1377",
        "parentId" : "9032e686-26ed-4c5c-9c8b-8c30b6a3d920",
        "authorId" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "body" : "I thought about it, but not easily. The problem is that RooFit and TTree could both do the work, but Wouter decided to do the work on the RooFit side. At the end of the day, a RooFormulaVar uses a TFormula, which is getting compiled, and the compilation finishes fine. See this:\r\n```\r\nroot [0] TFormula formula(\"formula\", \"x>y\")\r\n(TFormula &) Name: formula Title: x>y\r\nroot [2] formula.Eval(3)\r\n(double) 1.0000000\r\nroot [3] formula.Eval(4)\r\n(double) 1.0000000\r\nroot [4] formula.Eval(5)\r\n(double) 1.0000000\r\nroot [5] formula.Eval(1)\r\n(double) 1.0000000\r\nroot [6] formula.Eval(0)\r\n(double) 0.0000000\r\nroot [7] formula.Eval(-1)\r\n(double) 0.0000000\r\nroot [8] \r\n```\r\n",
        "createdAt" : "2020-04-20T15:12:29Z",
        "updatedAt" : "2020-04-21T09:42:12Z",
        "lastEditedBy" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "tags" : [
        ]
      },
      {
        "id" : "2f5e1875-35cf-4fce-8539-f91e1f081bd3",
        "parentId" : "9032e686-26ed-4c5c-9c8b-8c30b6a3d920",
        "authorId" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "body" : "what..is TFormula doing? xD ",
        "createdAt" : "2020-04-20T16:00:49Z",
        "updatedAt" : "2020-04-21T09:42:12Z",
        "lastEditedBy" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "tags" : [
        ]
      },
      {
        "id" : "dfcaedbb-0fe1-48eb-88ef-d11edf69bb68",
        "parentId" : "9032e686-26ed-4c5c-9c8b-8c30b6a3d920",
        "authorId" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "body" : "This to be precise:\r\n```\r\nDouble_t TFormula::Eval(Double_t x) const\r\n{\r\n   double * xxx = &x;\r\n   return EvalPar(xxx, nullptr);\r\n}\r\n```\r\nAnd that ends up in:\r\nhttps://github.com/root-project/root/blob/74a7a81c8371863e40ac5d3eac2cf11093bbc92b/hist/hist/src/TFormula.cxx#L3329",
        "createdAt" : "2020-04-20T16:06:55Z",
        "updatedAt" : "2020-04-21T09:42:12Z",
        "lastEditedBy" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "tags" : [
        ]
      },
      {
        "id" : "262a934e-5073-4c31-b329-64da1d6fc2e9",
        "parentId" : "9032e686-26ed-4c5c-9c8b-8c30b6a3d920",
        "authorId" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "body" : "Here, you can pass any array length you want. :-)",
        "createdAt" : "2020-04-20T16:07:18Z",
        "updatedAt" : "2020-04-21T09:42:12Z",
        "lastEditedBy" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "tags" : [
        ]
      },
      {
        "id" : "6bddcc0b-2472-4aae-b9af-a2af0223e3b7",
        "parentId" : "9032e686-26ed-4c5c-9c8b-8c30b6a3d920",
        "authorId" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "body" : "that's horrible...",
        "createdAt" : "2020-04-20T16:09:36Z",
        "updatedAt" : "2020-04-21T09:42:12Z",
        "lastEditedBy" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "tags" : [
        ]
      }
    ],
    "commit" : "b1d23fff656fbbd004d4fde145e1e72d35d427a6",
    "line" : 50,
    "diffHunk" : "@@ -1,1 +762,766 @@/// RooDataSet(\"data\", \"data\", tree, RooArgSet(x), \"x>y\")\n/// ```\n/// Will load `x` from the tree, but leave `y` at an undefined value.\n/// If other expressions are needed, such as intermediate formula objects, use\n/// RooDataSet::RooDataSet(const char*,const char*,TTree*,const RooArgSet&,const RooFormulaVar&,const char*)"
  }
]