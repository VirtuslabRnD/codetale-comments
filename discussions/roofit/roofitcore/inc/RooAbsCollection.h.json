[
  {
    "id" : "99668ed9-c0fa-443d-9333-9d6a31aa3804",
    "prId" : 8099,
    "prUrl" : "https://github.com/root-project/root/pull/8099#pullrequestreview-653272455",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f423ab80-e5ae-425b-913b-6ab4f88952dc",
        "parentId" : null,
        "authorId" : "080bddae-e637-45c8-b6c1-53aef7161d62",
        "body" : "The function name `hasSameLayout` doesn't really tell me what the function actually does. Maybe there is a more self-explanatory name? Unfortunately I also can't think of another name that is reasonably short, so if you also can't think of something else spontaneously just leave it as it is.\r\n\r\nAlso, Nothing specific to the RooAbsCollection is used from `other`, I think it could be `std::span<RooAbsReal const*> other`.",
        "createdAt" : "2021-05-05T22:01:46Z",
        "updatedAt" : "2021-05-06T10:31:51Z",
        "lastEditedBy" : "080bddae-e637-45c8-b6c1-53aef7161d62",
        "tags" : [
        ]
      },
      {
        "id" : "d526b3c7-661b-4e8c-8abb-c15762cd6690",
        "parentId" : "f423ab80-e5ae-425b-913b-6ab4f88952dc",
        "authorId" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "body" : "It was meant to check if you can use the `fast` argument of those functions in RooDataHist & co that either compare collections slowly or do the fast loop not checking the names.\r\n`hasSameLayout` derives from\r\nhttps://github.com/root-project/root/blob/17c1c1f455ff65e3db85bafb03d6dc18d0f8299a/roofit/roofitcore/src/RooDataHist.cxx#L961-L964\r\n\r\nIn this context, it's also a bit cumbersome to convert the collection into a span first.\r\n\r\nIf that gave you some ideas for a better name, I'll change it.",
        "createdAt" : "2021-05-06T09:02:02Z",
        "updatedAt" : "2021-05-06T10:31:51Z",
        "lastEditedBy" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "tags" : [
        ]
      },
      {
        "id" : "79578254-8b3c-4c5e-a296-265bc3acab90",
        "parentId" : "f423ab80-e5ae-425b-913b-6ab4f88952dc",
        "authorId" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "body" : "I found `canUseFastCoordinateCheck` worse. ðŸ™‚ ",
        "createdAt" : "2021-05-06T09:04:45Z",
        "updatedAt" : "2021-05-06T10:31:52Z",
        "lastEditedBy" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "tags" : [
        ]
      },
      {
        "id" : "51cd8720-ef8c-4404-b958-9277891f3f6c",
        "parentId" : "f423ab80-e5ae-425b-913b-6ab4f88952dc",
        "authorId" : "080bddae-e637-45c8-b6c1-53aef7161d62",
        "body" : "I see, in the context of where it's used the name makes sense then. I'm fine with `hasSameLayout` then!",
        "createdAt" : "2021-05-06T10:20:22Z",
        "updatedAt" : "2021-05-06T10:31:52Z",
        "lastEditedBy" : "080bddae-e637-45c8-b6c1-53aef7161d62",
        "tags" : [
        ]
      },
      {
        "id" : "86590666-2fea-4888-9520-0f013f6224f7",
        "parentId" : "f423ab80-e5ae-425b-913b-6ab4f88952dc",
        "authorId" : "080bddae-e637-45c8-b6c1-53aef7161d62",
        "body" : "This check is indeed interesting for some things that I tweaked (RooHistPdf). But in the case of RooHistPdf, the arg set had the same layout as the data hist layout by construction, so no check was necessary.",
        "createdAt" : "2021-05-06T10:23:05Z",
        "updatedAt" : "2021-05-06T10:31:52Z",
        "lastEditedBy" : "080bddae-e637-45c8-b6c1-53aef7161d62",
        "tags" : [
        ]
      },
      {
        "id" : "c6076cb3-8a99-4819-9976-9c39d3ca664a",
        "parentId" : "f423ab80-e5ae-425b-913b-6ab4f88952dc",
        "authorId" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "body" : "@guitargeek I noticed something important:\r\nYou *must not* use `std::span` in ROOT's interfaces, because it's c++20. That's the reason why `RooSpan` exists.",
        "createdAt" : "2021-05-06T10:50:03Z",
        "updatedAt" : "2021-05-06T10:50:03Z",
        "lastEditedBy" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "tags" : [
        ]
      }
    ],
    "commit" : "4ec44c98570c17b15db6b2c58baaf85f26522d8d",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +125,129 @@  RooAbsCollection* selectByName(const char* nameList, Bool_t verbose=kFALSE) const ;\n  Bool_t equals(const RooAbsCollection& otherColl) const ; \n  bool hasSameLayout(const RooAbsCollection& other) const;\n  Bool_t overlaps(const RooAbsCollection& otherColl) const ;\n"
  }
]