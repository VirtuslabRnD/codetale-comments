[
  {
    "id" : "ff68ddc2-c09d-4fd7-99e5-d5ed9a957f2e",
    "prId" : 2698,
    "prUrl" : "https://github.com/akka/alpakka/pull/2698#pullrequestreview-697918587",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99031382-9979-4dea-8cbb-6e217ca6f076",
        "parentId" : null,
        "authorId" : "7b601e48-f550-477f-a23e-0dc6ca34c971",
        "body" : "We can't do a pull in the constructor, only set handlers, so instead of calling `readHeader` we set collect handlers here directly, we anyway know the buffer is empty.",
        "createdAt" : "2021-07-02T07:53:04Z",
        "updatedAt" : "2021-07-02T07:53:56Z",
        "lastEditedBy" : "7b601e48-f550-477f-a23e-0dc6ca34c971",
        "tags" : [
        ]
      }
    ],
    "commit" : "a63b982450bd4aa481f1371195572c45687025e7",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +37,41 @@          with TarReaderStage.SourceWithTimeout\n\n      setHandlers(flowIn, flowOut, new CollectHeader(ByteString.empty))\n\n      def readHeader(buffer: ByteString): Unit = {"
  },
  {
    "id" : "e48952d9-90c6-4419-b31e-2632dbae3b2e",
    "prId" : 2698,
    "prUrl" : "https://github.com/akka/alpakka/pull/2698#pullrequestreview-697918587",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "521d0f0f-9dd5-4f51-802c-4eab984d93ce",
        "parentId" : null,
        "authorId" : "7b601e48-f550-477f-a23e-0dc6ca34c971",
        "body" : "For the problematic files/chunk size scenario we'd get here, without `flowIn` being pulled, and then switch to `CollectHeader` waiting to get the next chunk.",
        "createdAt" : "2021-07-02T07:53:53Z",
        "updatedAt" : "2021-07-02T07:53:56Z",
        "lastEditedBy" : "7b601e48-f550-477f-a23e-0dc6ca34c971",
        "tags" : [
        ]
      }
    ],
    "commit" : "a63b982450bd4aa481f1371195572c45687025e7",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +43,47 @@          readFile(buffer)\n        } else {\n          if (!hasBeenPulled(flowIn)) pull(flowIn)\n          setHandlers(flowIn, flowOut, new CollectHeader(buffer))\n        }"
  },
  {
    "id" : "02c9ba38-ab9b-4732-baba-dfe6d5f2a21d",
    "prId" : 2404,
    "prUrl" : "https://github.com/akka/alpakka/pull/2404#pullrequestreview-487523725",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b2ed26c3-02d4-4212-8e03-a16f40af537d",
        "parentId" : null,
        "authorId" : "f671ad62-946e-4691-83e4-79ee05b8b109",
        "body" : "Hard to find any information about that. I guess lots of historic reasons and tape stuff...",
        "createdAt" : "2020-09-14T08:33:57Z",
        "updatedAt" : "2020-09-14T09:09:47Z",
        "lastEditedBy" : "f671ad62-946e-4691-83e4-79ee05b8b109",
        "tags" : [
        ]
      }
    ],
    "commit" : "53fe35230cb54bd2e3cf3beb5aee584de7f30cd8",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +70,74 @@\n        if (headerBuffer.head == 0) {\n          log.debug(\"empty filename, detected EOF padding, completing\")\n          complete(flowOut)\n          new FlushEndOfFilePadding()"
  }
]