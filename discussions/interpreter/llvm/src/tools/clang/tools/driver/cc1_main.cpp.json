[
  {
    "id" : "e47ae4db-e35f-4ed3-b2e3-777efc89bfdc",
    "prId" : 1632,
    "prUrl" : "https://github.com/root-project/root/pull/1632#pullrequestreview-96795412",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "61ae7c32-2517-44cc-aa58-aa0d13baeb29",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "Doesn't this affect the build with `builtin_llvm=ON`?",
        "createdAt" : "2018-02-15T09:33:59Z",
        "updatedAt" : "2018-02-15T14:05:14Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "2c8a542a-94f7-417a-b8f3-e4a730002eed",
        "parentId" : "61ae7c32-2517-44cc-aa58-aa0d13baeb29",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "No, because the our llvm config undefines polly. However the standard llvm install ships polly libraries and we end up having something like `#define LINK_POLLY_INTO_TOOLS` instead of `#define LINK_POLLY_INTO_TOOLS 0`. That a bug in clang.",
        "createdAt" : "2018-02-15T09:51:30Z",
        "updatedAt" : "2018-02-15T14:05:14Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      },
      {
        "id" : "f5ff2e39-0a43-47f7-b1ef-2953cf2ccc89",
        "parentId" : "61ae7c32-2517-44cc-aa58-aa0d13baeb29",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "Ok, thanks for the explanation. Is this already fixed upstream? We could just add `#undef LINK_POLLY_INTO_TOOLS` at the beginning of the file, then, right?",
        "createdAt" : "2018-02-15T09:56:46Z",
        "updatedAt" : "2018-02-15T14:05:14Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "0120e095-0d18-4c4e-bc16-1f1e87829417",
        "parentId" : "61ae7c32-2517-44cc-aa58-aa0d13baeb29",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "This is not yet fixed upstream. I will have to come up with a patch. `#undef`-ing would work (that's what our llvm-config does when polly is disabled) but it would be inconsistent with the way clang handles such options. My patch (except for the `if 0` does what other similar cases are doing).",
        "createdAt" : "2018-02-15T10:20:50Z",
        "updatedAt" : "2018-02-15T14:05:14Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      }
    ],
    "commit" : "98985f05bf86c185a80f0f303be4dda2ee958218",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +72,76 @@}\n#endif\n#endif\n\n#ifdef CLANG_HAVE_RLIMITS"
  }
]