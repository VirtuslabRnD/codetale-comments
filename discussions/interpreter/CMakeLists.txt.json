[
  {
    "id" : "37146c05-0cd3-484d-9ce4-363a6b4f63e4",
    "prId" : 1563,
    "prUrl" : "https://github.com/root-project/root/pull/1563#pullrequestreview-92285706",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d2c5e35c-e727-4b6b-91e3-eeb560b28eba",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "`<prefix>/etc` is the wrong place for plugins. Only small text configuration files should go into `<prefix>/etc`.\r\nBetter choices would be `<prefix>/lib/cling` or `<prefix>/share/cling/plugins`. ROOT would make my `/etc` about 10 times bigger, for instance:\r\n```\r\nepsft-53 ~ # du -shc /etc\r\n15M\t/etc\r\n15M\ttotal\r\nepsft-53 ~ # du -shc /opt/root/6.12/etc\r\n116M\t/opt/root/6.12/etc\r\n116M\ttotal\r\n```",
        "createdAt" : "2018-01-29T12:29:59Z",
        "updatedAt" : "2018-02-15T11:22:49Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "081db6f4-b159-4a7f-9db6-b17e5ad70fee",
        "parentId" : "d2c5e35c-e727-4b6b-91e3-eeb560b28eba",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "IIUC, our ROOT-based plugins live there, too.",
        "createdAt" : "2018-01-29T12:58:17Z",
        "updatedAt" : "2018-02-15T11:22:49Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      },
      {
        "id" : "987a0be4-0c86-4a77-8c7e-ef309e55e7e0",
        "parentId" : "d2c5e35c-e727-4b6b-91e3-eeb560b28eba",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "True, but they will also need to be moved to a more appropriate place. The situation above is not acceptable. We need to start minimally following the FHS from now on, to be able to reach the point in which we will become a regular package in most Linux distributions. This is another point for “let's not make it worse if we can avoid it”.",
        "createdAt" : "2018-01-29T14:19:59Z",
        "updatedAt" : "2018-02-15T11:22:49Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "d112093f-aafc-46ec-9baf-e2863c44012c",
        "parentId" : "d2c5e35c-e727-4b6b-91e3-eeb560b28eba",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "Ok, I'd pick `<prefix>/share/cling/plugins`.\r\n",
        "createdAt" : "2018-01-29T14:22:31Z",
        "updatedAt" : "2018-02-15T11:22:49Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      },
      {
        "id" : "fc30333a-21e2-48df-be9d-dd845bb51268",
        "parentId" : "d2c5e35c-e727-4b6b-91e3-eeb560b28eba",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "Hi Vassil, thanks for understanding. How many such plugins exist now, and are users expected to install more plugins separately? Actually, I have at least these on my machine:\r\n```\r\n/usr/lib64/krb5/plugins\r\n/usr/lib64/qt4/plugins\r\n/usr/lib64/nsbrowser/plugins\r\n/usr/lib64/libv4l/plugins\r\n/usr/lib64/qt5/plugins\r\n/usr/lib64/bluetooth/plugins\r\n/usr/lib64/peas-demo/plugins\r\n/usr/lib64/eog/plugins\r\n/usr/lib64/traceevent/plugins\r\n```\r\nLooking at [FHS](http://refspecs.linuxfoundation.org/FHS_3.0/fhs/index.html) to check, `<prefix>/share` is meant for architecture-independent data files, so I'm inclined to use `<prefix>/lib/root/plugins` for ROOT, and suggest that we use `<prefix>/lib/cling/plugins` for cling for consistency, what do you think? The rationale is that these are executables, so probably `<prefix>/lib` makes more sense.",
        "createdAt" : "2018-01-29T14:37:47Z",
        "updatedAt" : "2018-02-15T11:22:49Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "47714273-a147-4138-954e-dd6b93c3d966",
        "parentId" : "d2c5e35c-e727-4b6b-91e3-eeb560b28eba",
        "authorId" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "body" : "Hi Guilherme,\r\n\r\nI understand and agree with the principle of 'not making things harder for an upcoming change'.  In this case, however, doesn't putting Clad's file in a 'different' (but better) place than the others more confusing than helpful.  (i.e. it will help the developer later but will confused the users now).   What do you think and/or what am I missing?\r\n\r\nCheers,\r\nPhilippe.",
        "createdAt" : "2018-01-29T15:55:05Z",
        "updatedAt" : "2018-02-15T11:22:49Z",
        "lastEditedBy" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "tags" : [
        ]
      },
      {
        "id" : "5183f481-e658-4bd2-b4fb-461a2399cd82",
        "parentId" : "d2c5e35c-e727-4b6b-91e3-eeb560b28eba",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "Hi Philippe, I disagree that installing files where FHS indicates is confusing. There is a problem that /etc is hard-coded in a few places for the other files now, so if this goes to the right place since the beginning it will be easier to fix the rest later, and it will avoid the appearance of more hard-coded paths where it only works with the default value. For example, changing SYSCONFDIR breaks ROOT right now, that's why I couldn't change it yet.",
        "createdAt" : "2018-01-29T17:13:46Z",
        "updatedAt" : "2018-02-15T11:22:49Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "bf92cd97-488a-4549-966a-aee9ea77b4e5",
        "parentId" : "d2c5e35c-e727-4b6b-91e3-eeb560b28eba",
        "authorId" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "body" : "> I disagree that installing files where FHS indicates is confusing. \r\n\r\nYou might be misunderstanding my point.  I agree with you that \"where FHS indicates\" is the better place to install the files and what we should strive for.  My concern is the in-between situation where/when we have some files installed \"where FHS indicates\" and some in other places.  (i.e semantically similar things installed in two different places) ... if we **already** have the case that some files are installed \"where FHS indicates\" then my point is  moot (because the confusing situation I fear is already there).",
        "createdAt" : "2018-01-29T17:25:50Z",
        "updatedAt" : "2018-02-15T11:22:49Z",
        "lastEditedBy" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "tags" : [
        ]
      }
    ],
    "commit" : "fc8c366320d4d8b9854308ac7764a774d270dfff",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +23,27 @@  set(etcdir ${prefix}/${CMAKE_INSTALL_SYSCONFDIR})\nendif()\nset(CLING_PLUGIN_INSTALL_PREFIX \"${etcdir}/cling/plugins/\" CACHE STRING \"\" FORCE)\nset(LLVM_DIR \"${CMAKE_BINARY_DIR}/interpreter/llvm/src\")\nset(CLING_BUILD_PLUGINS ON)"
  }
]