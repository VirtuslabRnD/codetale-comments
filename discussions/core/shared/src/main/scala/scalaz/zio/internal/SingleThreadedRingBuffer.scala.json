[
  {
    "id" : "2c8bddd7-a9c6-4b62-b8e5-c5c01000e55a",
    "prId" : 849,
    "prUrl" : "https://github.com/zio/zio/pull/849#pullrequestreview-240382521",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "906f838a-de9e-4554-be8d-151ec4de4f03",
        "parentId" : null,
        "authorId" : "94a9bd21-bc51-4681-8e4e-61d5917ea48f",
        "body" : "A couple questions regarding semantics of this class:\r\n1. Is it intended that elements get overwritten on buffer wrap around?\r\n2. SingleThreaded = NotThreadSafe?\r\n3. `pop` returning Unit is unusual. Could you elaborate?\r\n\r\nAll in all, it would be nice to add a scaladoc to this class documenting its semantics. Could you?",
        "createdAt" : "2019-05-12T10:06:58Z",
        "updatedAt" : "2019-05-30T01:18:27Z",
        "lastEditedBy" : "94a9bd21-bc51-4681-8e4e-61d5917ea48f",
        "tags" : [
        ]
      },
      {
        "id" : "107fb8df-7d43-4e09-9e09-886009e175b8",
        "parentId" : "906f838a-de9e-4554-be8d-151ec4de4f03",
        "authorId" : "02674bd6-d0ac-4b09-b920-a5e05b0a5cad",
        "body" : "1. Yes, it's a ring buffer. It's a sane decision not to keep full traces to avoid overflows on infinite loops/etc.\r\n2. Yes and it's fine for the purpose. Other fiber structures are the same - they aren't being used concurrently and have no synchronizations.\r\n3. It's not 'pop', it's 'remove last stored element'. And there is a subtle issue in this method, it leaves the buffer inconsistent when decrementing below N.",
        "createdAt" : "2019-05-12T11:46:16Z",
        "updatedAt" : "2019-05-30T01:18:27Z",
        "lastEditedBy" : "02674bd6-d0ac-4b09-b920-a5e05b0a5cad",
        "tags" : [
        ]
      },
      {
        "id" : "4b411c71-2d90-47a7-8b6c-8a7b099bacf5",
        "parentId" : "906f838a-de9e-4554-be8d-151ec4de4f03",
        "authorId" : "fe8c0309-9574-4c2c-a95a-2f54e9bd5411",
        "body" : "2. We have doubts about thread safety here, however, both `Stack` & `StackBool` are currently implemented the same way, so I guess we'll find out sooner or later...",
        "createdAt" : "2019-05-22T02:24:00Z",
        "updatedAt" : "2019-05-30T01:18:27Z",
        "lastEditedBy" : "fe8c0309-9574-4c2c-a95a-2f54e9bd5411",
        "tags" : [
        ]
      }
    ],
    "commit" : "2c5bbbea1c9833689e7f728f96b420cad75711fc",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +17,21 @@package scalaz.zio.internal\n\nprivate[zio] final class SingleThreadedRingBuffer[A <: AnyRef](capacity: Int) {\n  private[this] val array   = new Array[AnyRef](capacity)\n  private[this] var size    = 0"
  },
  {
    "id" : "90873b0a-6100-4310-9b72-ab6003b3c235",
    "prId" : 849,
    "prUrl" : "https://github.com/zio/zio/pull/849#pullrequestreview-242522824",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7d667e9c-6eeb-4382-910d-21ab25776bae",
        "parentId" : null,
        "authorId" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "body" : "Be sure to add the Apache 2 license header on all the new files (you can copy paste from the other files). 👍 ",
        "createdAt" : "2019-05-27T23:21:59Z",
        "updatedAt" : "2019-05-30T01:18:27Z",
        "lastEditedBy" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "tags" : [
        ]
      },
      {
        "id" : "1b5891a1-7372-466f-a059-3aa206ff0b60",
        "parentId" : "7d667e9c-6eeb-4382-910d-21ab25776bae",
        "authorId" : "fe8c0309-9574-4c2c-a95a-2f54e9bd5411",
        "body" : ":+1:",
        "createdAt" : "2019-05-28T08:38:27Z",
        "updatedAt" : "2019-05-30T01:18:27Z",
        "lastEditedBy" : "fe8c0309-9574-4c2c-a95a-2f54e9bd5411",
        "tags" : [
        ]
      }
    ],
    "commit" : "2c5bbbea1c9833689e7f728f96b420cad75711fc",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +15,19 @@ */\n\npackage scalaz.zio.internal\n\nprivate[zio] final class SingleThreadedRingBuffer[A <: AnyRef](capacity: Int) {"
  }
]