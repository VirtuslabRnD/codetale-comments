[
  {
    "id" : "dc0928f3-9a41-4151-b3ce-810e4d694572",
    "prId" : 4585,
    "prUrl" : "https://github.com/zio/zio/pull/4585#pullrequestreview-576842539",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "288f315b-76a1-4868-96c9-3fa7b8fe7e2b",
        "parentId" : null,
        "authorId" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "body" : "This is tricky logic to manually verify. I suggest we make a stress test, which can bombard a ring buffer with concurrent operations (of the newly-added variety) and verify invariants. This can be a pretty robust way to catch race conditions in concurrent code.",
        "createdAt" : "2021-01-26T16:34:57Z",
        "updatedAt" : "2021-01-26T23:03:37Z",
        "lastEditedBy" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "tags" : [
        ]
      },
      {
        "id" : "c58f1294-2c7d-4a99-a930-2b6c8bf7e9c4",
        "parentId" : "288f315b-76a1-4868-96c9-3fa7b8fe7e2b",
        "authorId" : "e51a12a9-b5b7-4e30-a51d-293206825c6f",
        "body" : "Added.",
        "createdAt" : "2021-01-26T23:07:37Z",
        "updatedAt" : "2021-01-26T23:07:37Z",
        "lastEditedBy" : "e51a12a9-b5b7-4e30-a51d-293206825c6f",
        "tags" : [
        ]
      }
    ],
    "commit" : "2348a5a3cae8b687288cf92244e072301c14cf33",
    "line" : 75,
    "diffHunk" : "@@ -1,1 +174,178 @@        val a = iterator.next()\n        curIdx = posToIdx(enqHead, capacity)\n        buf(curIdx) = a.asInstanceOf[AnyRef]\n        seq(curIdx) = enqHead + 1\n        enqHead += 1"
  }
]