[
  {
    "id" : "3bf6c771-522a-43cc-81dc-3ce9c958f66c",
    "prId" : 4471,
    "prUrl" : "https://github.com/apache/kafka/pull/4471#pullrequestreview-92406826",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "15928730-8780-4925-931d-d199a6109934",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I'm not really sure it's worth it, but I guess `processors` could be a concurrent map to avoid holding the lock when we just need to access the collection.",
        "createdAt" : "2018-01-29T19:03:26Z",
        "updatedAt" : "2018-01-30T15:24:51Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "2a6eaf7c-0b6f-448b-a08c-04c2d02ca2ed",
        "parentId" : "15928730-8780-4925-931d-d199a6109934",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "I left this synchronization in there since this is only for new connections.",
        "createdAt" : "2018-01-30T00:27:38Z",
        "updatedAt" : "2018-01-30T15:24:51Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "5c25c58922801e023bc1fe56919dfbab7f4565f5",
    "line" : 196,
    "diffHunk" : "@@ -1,1 +332,336 @@                iter.remove()\n                if (key.isAcceptable) {\n                  val processor = synchronized {\n                    currentProcessor = currentProcessor % processors.size\n                    processors(currentProcessor)"
  },
  {
    "id" : "579b83c8-ed39-4baf-8bca-4e14a731a6fe",
    "prId" : 4471,
    "prUrl" : "https://github.com/apache/kafka/pull/4471#pullrequestreview-92406477",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cf95883c-83e7-49ed-853f-beac1083c83f",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Do we need to reset `nextProcessorId`, or is the intent to always assign new processors with an id which hasn't been used before?",
        "createdAt" : "2018-01-29T19:09:28Z",
        "updatedAt" : "2018-01-30T15:24:51Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "234976a5-bad0-4871-8495-22795d40451b",
        "parentId" : "cf95883c-83e7-49ed-853f-beac1083c83f",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Thought it was better not to reuse processor ids, hence the `Map` of processors.",
        "createdAt" : "2018-01-30T00:25:51Z",
        "updatedAt" : "2018-01-30T15:24:51Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "5c25c58922801e023bc1fe56919dfbab7f4565f5",
    "line" : 177,
    "diffHunk" : "@@ -1,1 +303,307 @@  }\n\n  private[network] def removeProcessors(removeCount: Int, requestChannel: RequestChannel): Unit = synchronized {\n    // Shutdown `removeCount` processors. Remove them from the processor list first so that no more\n    // connections are assigned. Shutdown the removed processors, closing the selector and its connections."
  },
  {
    "id" : "b3472025-9a07-4df0-8ba1-efed625f2c26",
    "prId" : 4488,
    "prUrl" : "https://github.com/apache/kafka/pull/4488#pullrequestreview-93722756",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "31467e79-bc5a-4bd4-860f-a512385b8353",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Add log line her and in `removeListeners`?",
        "createdAt" : "2018-02-02T22:22:32Z",
        "updatedAt" : "2018-02-04T02:11:57Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "a0488d78e0ea02c3ddde1a31f6c1e0613a443e3d",
    "line" : 101,
    "diffHunk" : "@@ -1,1 +193,197 @@  }\n\n  def addListeners(listenersAdded: Seq[EndPoint]): Unit = synchronized {\n    info(s\"Adding listeners for endpoints $listenersAdded\")\n    createProcessors(config.numNetworkThreads, listenersAdded)"
  }
]