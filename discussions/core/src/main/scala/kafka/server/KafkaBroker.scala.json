[
  {
    "id" : "7fc6082a-6ce0-4a01-bef1-36b38015ed97",
    "prId" : 10019,
    "prUrl" : "https://github.com/apache/kafka/pull/10019#pullrequestreview-580893549",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f0fb4d39-1328-4b93-9b0e-a75a9c3372fb",
        "parentId" : null,
        "authorId" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "body" : "This code is duplicated in `KafkaServer`.",
        "createdAt" : "2021-02-02T01:24:46Z",
        "updatedAt" : "2021-02-04T00:45:07Z",
        "lastEditedBy" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "f9e73ccf02a2e486a954a649b800b31e3e4dda96",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +58,62 @@    clusterResourceListeners.maybeAddAll(clusterListeners.asJava)\n    clusterResourceListeners.onUpdate(new ClusterResource(clusterId))\n  }\n\n  private[server] def notifyMetricsReporters(clusterId: String,"
  },
  {
    "id" : "1585961d-31ee-414b-9ff6-73ea4373cb44",
    "prId" : 10019,
    "prUrl" : "https://github.com/apache/kafka/pull/10019#pullrequestreview-580893549",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "23a5c1e4-ee21-4784-a68b-6836d1730fdc",
        "parentId" : null,
        "authorId" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "body" : "This code is duplicated in `KafkaServer`.",
        "createdAt" : "2021-02-02T01:24:58Z",
        "updatedAt" : "2021-02-04T00:45:07Z",
        "lastEditedBy" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "f9e73ccf02a2e486a954a649b800b31e3e4dda96",
    "line" : 70,
    "diffHunk" : "@@ -1,1 +68,72 @@      case _ => //do nothing\n    }\n  }\n}\n"
  },
  {
    "id" : "2896b8c1-1790-488a-9317-40b224945d09",
    "prId" : 10019,
    "prUrl" : "https://github.com/apache/kafka/pull/10019#pullrequestreview-582636074",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5e79e5c2-906a-4f61-a5d2-f0d900d0cf06",
        "parentId" : null,
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Why don't you have to override the metric name here?",
        "createdAt" : "2021-02-02T23:47:10Z",
        "updatedAt" : "2021-02-04T00:45:07Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "ef79d8a8-9291-42d6-96aa-dcf0c10bf104",
        "parentId" : "5e79e5c2-906a-4f61-a5d2-f0d900d0cf06",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "Yes, I think the metric name needs to be overridden...",
        "createdAt" : "2021-02-03T17:46:18Z",
        "updatedAt" : "2021-02-04T00:45:07Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "f9e73ccf02a2e486a954a649b800b31e3e4dda96",
    "line" : 101,
    "diffHunk" : "@@ -1,1 +99,103 @@  if (linuxIoMetricsCollector.usable()) {\n    newGauge(\"linux-disk-read-bytes\", () => linuxIoMetricsCollector.readBytes())\n    newGauge(\"linux-disk-write-bytes\", () => linuxIoMetricsCollector.writeBytes())\n  }\n}"
  },
  {
    "id" : "fbd32540-05e0-4658-8459-83c45d0bdcb8",
    "prId" : 10080,
    "prUrl" : "https://github.com/apache/kafka/pull/10080#pullrequestreview-585172137",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "07b6a152-bc09-4157-9047-439e3027f4ef",
        "parentId" : null,
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "Why not using ```@volatile var brokerState: BrokerState = BrokerState.NOT_RUNNING```? ",
        "createdAt" : "2021-02-08T03:53:32Z",
        "updatedAt" : "2021-02-08T03:53:32Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      },
      {
        "id" : "85c817e2-6f24-443e-928e-2449fdd63792",
        "parentId" : "07b6a152-bc09-4157-9047-439e3027f4ef",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Because that would make it mutable for everyone. The current implementation is mutable only within subclasses.",
        "createdAt" : "2021-02-08T05:37:18Z",
        "updatedAt" : "2021-02-08T05:37:18Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      }
    ],
    "commit" : "585f5c61042af17d3e988f38da3f6144dbd27b76",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +71,75 @@\ntrait KafkaBroker extends KafkaMetricsGroup {\n  @volatile private var _brokerState: BrokerState = BrokerState.NOT_RUNNING\n\n  def authorizer: Option[Authorizer]"
  },
  {
    "id" : "ad292059-9e40-4988-b855-6463ea2954a3",
    "prId" : 10080,
    "prUrl" : "https://github.com/apache/kafka/pull/10080#pullrequestreview-587713688",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "729302f0-e76f-4b14-83bc-3d38470a6128",
        "parentId" : null,
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "(this is not related to this PR) it is a bit weird to me that we expose \"byte\" as \"broker state\".",
        "createdAt" : "2021-02-10T03:20:09Z",
        "updatedAt" : "2021-02-10T03:20:32Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      },
      {
        "id" : "ab66fc1a-2f7c-4825-9f8a-831290d8f7c4",
        "parentId" : "729302f0-e76f-4b14-83bc-3d38470a6128",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Right. To change this, it would require a KIP.",
        "createdAt" : "2021-02-10T15:11:22Z",
        "updatedAt" : "2021-02-10T15:11:23Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      }
    ],
    "commit" : "585f5c61042af17d3e988f38da3f6144dbd27b76",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +93,97 @@  }\n\n  newGauge(\"BrokerState\", () => brokerState.value)\n  newGauge(\"ClusterId\", () => clusterId)\n  newGauge(\"yammer-metrics-count\", () =>  KafkaYammerMetrics.defaultRegistry.allMetrics.size)"
  }
]