[
  {
    "id" : "25606d95-8bac-4a6b-ac0c-ec8e8b06c102",
    "prId" : 5206,
    "prUrl" : "https://github.com/apache/kafka/pull/5206#pullrequestreview-171309268",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ad6ea18d-8ee9-44f8-8cf8-d92894c11ca8",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Should map be foreach?",
        "createdAt" : "2018-11-03T00:41:58Z",
        "updatedAt" : "2018-11-03T00:42:40Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      }
    ],
    "commit" : "27c8bdc1dd7272df7db14e886ec2bcdd2f77c75b",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +840,844 @@      val fetchPartitionStatus = new mutable.ArrayBuffer[(TopicPartition, FetchPartitionStatus)]\n      fetchInfos.foreach { case (topicPartition, partitionData) =>\n        logReadResultMap.get(topicPartition).map(logReadResult => {\n          val logOffsetMetadata = logReadResult.info.fetchOffsetMetadata\n          fetchPartitionStatus += (topicPartition -> FetchPartitionStatus(logOffsetMetadata, partitionData))"
  },
  {
    "id" : "a8e052e2-5b14-42c0-a3fc-9a31b92b93d5",
    "prId" : 5576,
    "prUrl" : "https://github.com/apache/kafka/pull/5576#pullrequestreview-149903578",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "368c4a79-2e9a-439b-8c8b-05768037e675",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "If we do this, we can remove the unused import in line 38.",
        "createdAt" : "2018-08-27T22:09:16Z",
        "updatedAt" : "2018-08-27T22:24:59Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      }
    ],
    "commit" : "210976e679533309f961e74a781124ff4e7ec6fd",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +1481,1485 @@        case Some(partition) =>\n          if (partition eq ReplicaManager.OfflinePartition)\n            new EpochEndOffset(Errors.KAFKA_STORAGE_ERROR, UNDEFINED_EPOCH, UNDEFINED_EPOCH_OFFSET)\n          else\n            partition.lastOffsetForLeaderEpoch(leaderEpoch)"
  },
  {
    "id" : "a005cbb5-564f-4212-87b0-abe78ac184d5",
    "prId" : 5661,
    "prUrl" : "https://github.com/apache/kafka/pull/5661#pullrequestreview-161859700",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fc0ac912-e63d-432c-948e-d3b3b3000c21",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "The issue of not calling replicaFetcherManager.removeFetcherForPartitions() in line 1278 is that in the case of controlled shutdown, we avoid adding the partitions to the fetcher. This means that existing partitions won't be removed from the fetcher. This may cause replicas removed from ISR during controlled shutdown to be added back to ISR again.\r\n\r\nAlso, if we do this, the state-change logging after replicaFetcherManager.removeFetcherForPartitions()  probably needs to be moved too.",
        "createdAt" : "2018-10-04T23:16:59Z",
        "updatedAt" : "2018-10-05T16:40:27Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "bed238d1-adaa-4654-ae96-3a96f1ecd3c5",
        "parentId" : "fc0ac912-e63d-432c-948e-d3b3b3000c21",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Ok, let's revert this change. I think it was not strictly needed and I was not too happy about the additional bookkeeping in `AbstractFetcherManager`.",
        "createdAt" : "2018-10-05T00:48:21Z",
        "updatedAt" : "2018-10-05T16:40:27Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "f9bc468a7415831841a1203315789e683066dad4",
    "line" : 581,
    "diffHunk" : "@@ -1,1 +1301,1305 @@      else {\n        // we do not need to check if the leader exists again since this has been done at the beginning of this process\n        val partitionsToMakeFollowerWithLeaderAndOffset = partitionsToMakeFollower.map { partition =>\n          val leader = metadataCache.getAliveBrokers.find(_.id == partition.leaderReplicaIdOpt.get).get\n            .brokerEndPoint(config.interBrokerListenerName)"
  },
  {
    "id" : "a3c2b965-eb01-4e60-b18f-d33c7327dae0",
    "prId" : 6036,
    "prUrl" : "https://github.com/apache/kafka/pull/6036#pullrequestreview-185717443",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "55ebca03-80ac-46ac-800d-4c5d0b385ed8",
        "parentId" : null,
        "authorId" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "body" : "Offset is not longer included in this error message. Is that intentional?",
        "createdAt" : "2018-12-17T17:45:03Z",
        "updatedAt" : "2018-12-17T17:50:31Z",
        "lastEditedBy" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "tags" : [
        ]
      },
      {
        "id" : "3aa61ef5-aea7-4f25-a373-51eb23f2b051",
        "parentId" : "55ebca03-80ac-46ac-800d-4c5d0b385ed8",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "It's part of `PartitionData`.",
        "createdAt" : "2018-12-17T17:49:25Z",
        "updatedAt" : "2018-12-17T17:50:31Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "aeec58e8aa05579b68027999fb2003a9a67ba699",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +950,954 @@          val fetchSource = Request.describeReplicaId(replicaId)\n          error(s\"Error processing fetch with max size $adjustedMaxBytes from $fetchSource \" +\n            s\"on partition $tp: $fetchInfo\", e)\n\n          LogReadResult(info = FetchDataInfo(LogOffsetMetadata.UnknownOffsetMetadata, MemoryRecords.EMPTY),"
  },
  {
    "id" : "61abe60a-5dbe-4ec0-9f22-9849cae2d6c7",
    "prId" : 6686,
    "prUrl" : "https://github.com/apache/kafka/pull/6686#pullrequestreview-238640855",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "863ad7b6-d53e-46b4-bf32-495f553704fe",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Perhaps results can be renamed errorResults?",
        "createdAt" : "2019-05-15T01:10:43Z",
        "updatedAt" : "2019-05-29T01:18:29Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "e3d70e8a-a611-44bc-9b6a-439d8f2ce010",
        "parentId" : "863ad7b6-d53e-46b4-bf32-495f553704fe",
        "authorId" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "body" : "We changed the API once more. Now the result is not a tuple and it includes both the successful and failed elections.",
        "createdAt" : "2019-05-16T21:11:31Z",
        "updatedAt" : "2019-05-29T01:18:29Z",
        "lastEditedBy" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "6d53f267c91cc93478d817214f47a6fd2ec20691",
    "line" : 141,
    "diffHunk" : "@@ -1,1 +1572,1576 @@\n      if (expectedLeaders.nonEmpty) {\n        val watchKeys: Seq[TopicPartitionOperationKey] = expectedLeaders.map{\n          case (tp, _) => TopicPartitionOperationKey(tp)\n        }(breakOut)"
  },
  {
    "id" : "62f4d588-4416-4f93-b349-3d07125c802c",
    "prId" : 6686,
    "prUrl" : "https://github.com/apache/kafka/pull/6686#pullrequestreview-240900241",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "37b7e743-0da4-426a-af94-380f6869b82d",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "There doesn't seem to be a good reason for this to be part of `ReplicaManager` instead of `KafkaController`. No need to do it here, but maybe we can move the election purgatory out of `ReplicaManager` in a follow-up patch.",
        "createdAt" : "2019-05-22T16:23:33Z",
        "updatedAt" : "2019-05-29T01:18:29Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "549b56f2-a199-408e-a493-6b9ae1ef3caa",
        "parentId" : "37b7e743-0da4-426a-af94-380f6869b82d",
        "authorId" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "body" : "https://issues.apache.org/jira/browse/KAFKA-8408",
        "createdAt" : "2019-05-22T21:54:57Z",
        "updatedAt" : "2019-05-29T01:18:29Z",
        "lastEditedBy" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "6d53f267c91cc93478d817214f47a6fd2ec20691",
    "line" : 113,
    "diffHunk" : "@@ -1,1 +1553,1557 @@  }\n\n  def electLeaders(\n    controller: KafkaController,\n    partitions: Set[TopicPartition],"
  }
]