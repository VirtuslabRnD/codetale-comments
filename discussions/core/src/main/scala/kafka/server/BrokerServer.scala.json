[
  {
    "id" : "bacefe94-ea09-4d06-94cf-cdd78e6d089e",
    "prId" : 10070,
    "prUrl" : "https://github.com/apache/kafka/pull/10070#pullrequestreview-594563036",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0b152f6c-e385-42ec-84f7-3edf5215298e",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "If we do this, does `brokerMetadataListener.close() `still need to call `beginShutdown()`.",
        "createdAt" : "2021-02-19T19:08:23Z",
        "updatedAt" : "2021-02-20T00:12:14Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "5b3a8abe-35d6-4988-8501-3507d2edd48d",
        "parentId" : "0b152f6c-e385-42ec-84f7-3edf5215298e",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "It does need to be because there are some paths through the code that don't go through here.  In general calling `beginShutdown` or `close` multiple times is harmless-- only the first time has an effect.",
        "createdAt" : "2021-02-19T20:43:43Z",
        "updatedAt" : "2021-02-20T00:12:14Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "7bcdd2ec50b7fbacffcb3c5810a37ae8161a64c3",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +402,406 @@        // Shut down the broker metadata listener, so that we don't get added to any\n        // more ISRs.\n        brokerMetadataListener.beginShutdown()\n        lifecycleManager.beginControlledShutdown()\n        try {"
  },
  {
    "id" : "833033bc-a6d1-4b94-9403-bb0ded67b0ca",
    "prId" : 10538,
    "prUrl" : "https://github.com/apache/kafka/pull/10538#pullrequestreview-636110063",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "82aea642-2f15-4403-901c-07675179482a",
        "parentId" : null,
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Can we add a comment here and in KafkaServer?",
        "createdAt" : "2021-04-14T21:51:45Z",
        "updatedAt" : "2021-04-15T13:38:13Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c90b60b3860fef8139765198c6ab2d551e488bf9",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +453,457 @@        CoreUtils.swallow(logManager.shutdown(), this)\n      // be sure to shutdown scheduler after log manager\n      if (kafkaScheduler != null)\n        CoreUtils.swallow(kafkaScheduler.shutdown(), this)\n"
  },
  {
    "id" : "de912080-a97f-4797-8225-eda4349f8e66",
    "prId" : 10931,
    "prUrl" : "https://github.com/apache/kafka/pull/10931#pullrequestreview-695521211",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d8a0311f-99a4-4074-b93e-fce57af77f19",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "nit: remove this?",
        "createdAt" : "2021-06-30T17:08:59Z",
        "updatedAt" : "2021-07-01T22:55:53Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "58ecc3276c637977fdd1c686cfae70664944f507",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +34,38 @@import kafka.server.metadata.{BrokerMetadataListener, BrokerMetadataPublisher, ClientQuotaMetadataManager, KRaftMetadataCache}\nimport kafka.utils.{CoreUtils, KafkaScheduler}\n//import org.apache.kafka.common.internals.Topic.{GROUP_METADATA_TOPIC_NAME, TRANSACTION_STATE_TOPIC_NAME}\nimport org.apache.kafka.common.message.ApiMessageType.ListenerType\nimport org.apache.kafka.common.message.BrokerRegistrationRequestData.{Listener, ListenerCollection}"
  },
  {
    "id" : "89f6d446-2562-4434-a980-6fbdf04330e3",
    "prId" : 11067,
    "prUrl" : "https://github.com/apache/kafka/pull/11067#pullrequestreview-709907548",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7c107a26-9c14-40f6-b8bd-b6ddea80f3e8",
        "parentId" : null,
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "A couple of questions:\r\n1. Where are we logging this for the zk case?\r\n2. Can we expose a method in `KafkaConfig` to write the configs to a logger or something? Seems a bit cleaner than this approach.",
        "createdAt" : "2021-07-18T18:52:50Z",
        "updatedAt" : "2021-07-18T18:52:50Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "89360e6c-8482-4176-8074-db4236988521",
        "parentId" : "7c107a26-9c14-40f6-b8bd-b6ddea80f3e8",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "> 1. Where are we logging this for the zk case?\r\n\r\nIn the ZK case, it's logged from DynamicBrokerConfig.initialize (see above stack trace)\r\n\r\n> 2. Can we expose a method in KafkaConfig to write the configs to a logger or something? Seems a bit cleaner than this approach.\r\n\r\nCan we do this after 3.0? Due to the inheritance-based design here, there isn't a simple way to expose this without changing the base class. The comment does explain what the line does...",
        "createdAt" : "2021-07-19T17:57:12Z",
        "updatedAt" : "2021-07-19T17:58:29Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      },
      {
        "id" : "ea4a6255-4f8b-4362-beac-67758b303532",
        "parentId" : "7c107a26-9c14-40f6-b8bd-b6ddea80f3e8",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Can we file a JIRA?",
        "createdAt" : "2021-07-19T18:18:08Z",
        "updatedAt" : "2021-07-19T18:18:08Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "1d1d2643-a59a-4be7-9d5e-dbae513fb465",
        "parentId" : "7c107a26-9c14-40f6-b8bd-b6ddea80f3e8",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "I also learned that the ZK path logs dynamic configs too now. So, we can have a JIRA about logging dynamic configs for KRaft and mention there the potential clean-up.",
        "createdAt" : "2021-07-19T18:29:14Z",
        "updatedAt" : "2021-07-19T18:29:14Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "11df6d43-451a-4529-8b9e-41e7b968098e",
        "parentId" : "7c107a26-9c14-40f6-b8bd-b6ddea80f3e8",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "Filed https://issues.apache.org/jira/browse/KAFKA-13105",
        "createdAt" : "2021-07-19T19:34:10Z",
        "updatedAt" : "2021-07-19T19:34:10Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "f7e6c3ccaf9e9ea015f89b95e6bea2ce2588f631",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +391,395 @@\n      // Log static broker configurations.\n      new KafkaConfig(config.originals(), true)\n\n      // Enable inbound TCP connections."
  }
]