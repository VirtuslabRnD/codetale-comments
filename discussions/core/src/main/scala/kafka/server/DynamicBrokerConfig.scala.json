[
  {
    "id" : "430f27b5-a1f2-4fba-a2fc-7b55e2d982bb",
    "prId" : 4464,
    "prUrl" : "https://github.com/apache/kafka/pull/4464#pullrequestreview-92415619",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b60a8f49-e8e1-4042-a96c-972ada06c212",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "It's a little confusing that validation failure is signaled both by the return value and an exception. Do we need both?",
        "createdAt" : "2018-01-29T17:25:15Z",
        "updatedAt" : "2018-01-30T17:59:34Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "f0d7184e-1152-4838-ace2-2d82a9fd18cb",
        "parentId" : "b60a8f49-e8e1-4042-a96c-972ada06c212",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "As an external API, I thought a boolean is better. For internal validation, I am using exceptions where the message gets propagated to clients (that doesn't feel very safe to do for custom code where exceptions may potentially contain sensitive information like passwords). I have modified `BrokerReconfigurable` to only throw exceptions.",
        "createdAt" : "2018-01-29T20:35:19Z",
        "updatedAt" : "2018-01-30T17:59:34Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "b437f6a6-7315-418d-bdf4-0e227373eeba",
        "parentId" : "b60a8f49-e8e1-4042-a96c-972ada06c212",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Yes, I think that is fine. Of course plugins may want to propagate a message as well. I guess we could do something like we do with the policies and let the plugin raise `ConfigValidationException` (or something like that). ",
        "createdAt" : "2018-01-30T00:43:03Z",
        "updatedAt" : "2018-01-30T17:59:34Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "f50215eb-bbd2-4d41-9989-7d3eec4cacbd",
        "parentId" : "b60a8f49-e8e1-4042-a96c-972ada06c212",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Internally, `ConfigException` is used, which was being translated to `InvalidRequestException` for other config updates (like topic configs). So plugins could throw that exception. I don't mind removing the return value from `validateReconfiguration` if it is better to document the exception instead. Let me know what you think - perhaps I could make that update in the next PR.",
        "createdAt" : "2018-01-30T01:15:51Z",
        "updatedAt" : "2018-01-30T17:59:34Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "21799e07-ad82-42ce-b4a8-148138f89d18",
        "parentId" : "b60a8f49-e8e1-4042-a96c-972ada06c212",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Yeah, we can consider separately. I think I slightly prefer documenting the use of `ConfigException` for consistency, but I don't feel too strongly about it.",
        "createdAt" : "2018-01-30T01:18:49Z",
        "updatedAt" : "2018-01-30T17:59:34Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "4ec0d321aa79ae11696dc746b434c88b1bad60ff",
    "line" : 123,
    "diffHunk" : "@@ -1,1 +540,544 @@  }\n\n  override def validateReconfiguration(configs: util.Map[String, _]): Boolean = {\n    val updatedMetricsReporters = metricsReporterClasses(configs)\n"
  },
  {
    "id" : "b6bb6d79-89c9-4022-a1af-ab7e233c8afa",
    "prId" : 4471,
    "prUrl" : "https://github.com/apache/kafka/pull/4471#pullrequestreview-92407576",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6caa5ed0-a977-4bbc-b366-f12ae615f3dd",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Just so I understand, is the purpose of this check to ensure that configs are only changed \"gracefully.\"",
        "createdAt" : "2018-01-29T21:03:42Z",
        "updatedAt" : "2018-01-30T15:24:51Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "43ca3779-9d09-4cf5-8837-df2e59943999",
        "parentId" : "6caa5ed0-a977-4bbc-b366-f12ae615f3dd",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Yes, since threads can have a big impact, I thought it was better to limit the values. The updates will be more graceful and it will avoid a wrong config bringing down brokers.",
        "createdAt" : "2018-01-30T00:31:48Z",
        "updatedAt" : "2018-01-30T15:24:51Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "5c25c58922801e023bc1fe56919dfbab7f4565f5",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +476,480 @@        if (newValue <= 0)\n          throw new ConfigException(s\"$errorMsg, value should be at least 1\")\n        if (newValue < oldValue / 2)\n          throw new ConfigException(s\"$errorMsg, value should be at least half the current value $oldValue\")\n        if (newValue > oldValue * 2)"
  },
  {
    "id" : "37939082-bc56-4364-b638-5e95f5600ac4",
    "prId" : 4488,
    "prUrl" : "https://github.com/apache/kafka/pull/4488#pullrequestreview-93717949",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "69039404-7e65-4968-abe7-107feef60b28",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "By the way, we should make a note to add some documentation on dynamic broker configs and key changes.",
        "createdAt" : "2018-02-01T21:30:09Z",
        "updatedAt" : "2018-02-04T02:11:57Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "d50ed03a-40bd-43c3-bcf8-edded56cbda7",
        "parentId" : "69039404-7e65-4968-abe7-107feef60b28",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Added a note to KAFKA-6476",
        "createdAt" : "2018-02-02T18:49:07Z",
        "updatedAt" : "2018-02-04T02:11:57Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "a0488d78e0ea02c3ddde1a31f6c1e0613a443e3d",
    "line" : 154,
    "diffHunk" : "@@ -1,1 +267,271 @@    val props = persistentProps.clone().asInstanceOf[Properties]\n    if (!props.asScala.keySet.exists(DynamicPasswordConfigs.contains)) {\n      maybeCreatePasswordEncoder(kafkaConfig.passwordEncoderOldSecret).foreach { passwordDecoder =>\n        DynamicPasswordConfigs.foreach { configName =>\n          val value = props.getProperty(configName)"
  },
  {
    "id" : "34dd4cbb-7d7d-4d96-a353-223356ae25e1",
    "prId" : 4488,
    "prUrl" : "https://github.com/apache/kafka/pull/4488#pullrequestreview-93721378",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e6c120df-0e37-4dbb-b78f-ba84b889d5ae",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Just so I understand, is it possible to remove a listener which has been configured statically?",
        "createdAt" : "2018-02-01T22:07:59Z",
        "updatedAt" : "2018-02-04T02:11:57Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "76c60b55-fc67-4530-a2a2-c3ce1c885f24",
        "parentId" : "e6c120df-0e37-4dbb-b78f-ba84b889d5ae",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Yes, any listener can be removed apart from the current inter-broker listener.",
        "createdAt" : "2018-02-02T18:59:45Z",
        "updatedAt" : "2018-02-04T02:11:57Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "a0488d78e0ea02c3ddde1a31f6c1e0613a443e3d",
    "line" : 398,
    "diffHunk" : "@@ -1,1 +734,738 @@    val oldListeners = oldConfig.listeners\n    val oldListenerMap = listenersToMap(oldListeners)\n    val listenersRemoved = oldListeners.filterNot(e => newListenerMap.contains(e.listenerName))\n    val listenersAdded = newListeners.filterNot(e => oldListenerMap.contains(e.listenerName))\n"
  }
]