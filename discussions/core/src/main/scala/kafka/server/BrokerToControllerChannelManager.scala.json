[
  {
    "id" : "c3824455-d5b3-44df-8444-2f94178fcd53",
    "prId" : 9012,
    "prUrl" : "https://github.com/apache/kafka/pull/9012#pullrequestreview-451273144",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a3b90bb9-ee9e-4f6b-b5eb-8c93d038bb64",
        "parentId" : null,
        "authorId" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "body" : "Do we need anything in the broker to controller connection to be reconfigurable? Just wondering if we need a way to recreate this thread in cases where config changes",
        "createdAt" : "2020-07-13T17:40:20Z",
        "updatedAt" : "2020-07-29T16:09:53Z",
        "lastEditedBy" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "tags" : [
        ]
      },
      {
        "id" : "2acd8616-49e3-45d3-b395-7f4555e14c39",
        "parentId" : "a3b90bb9-ee9e-4f6b-b5eb-8c93d038bb64",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "It's a good question, but we can probably defer that until later....",
        "createdAt" : "2020-07-13T19:37:53Z",
        "updatedAt" : "2020-07-29T16:09:53Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      },
      {
        "id" : "d9ecc26b-41ea-4ae5-b884-83795b0feaa1",
        "parentId" : "a3b90bb9-ee9e-4f6b-b5eb-8c93d038bb64",
        "authorId" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "body" : "sounds good",
        "createdAt" : "2020-07-14T12:54:19Z",
        "updatedAt" : "2020-07-29T16:09:53Z",
        "lastEditedBy" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "tags" : [
        ]
      },
      {
        "id" : "22584b61-5279-467c-921d-0cea6380b2a9",
        "parentId" : "a3b90bb9-ee9e-4f6b-b5eb-8c93d038bb64",
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "+1",
        "createdAt" : "2020-07-20T03:19:11Z",
        "updatedAt" : "2020-07-29T16:09:53Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      }
    ],
    "commit" : "66a3d65dc84f0b98379fc5955201922ce4f01112",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +60,64 @@  }\n\n  private[server] def newRequestThread = {\n    val brokerToControllerListenerName = config.controlPlaneListenerName.getOrElse(config.interBrokerListenerName)\n    val brokerToControllerSecurityProtocol = config.controlPlaneSecurityProtocol.getOrElse(config.interBrokerSecurityProtocol)"
  },
  {
    "id" : "4c0f1189-e821-4c00-ab4b-06e0934ba515",
    "prId" : 9012,
    "prUrl" : "https://github.com/apache/kafka/pull/9012#pullrequestreview-451273040",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f7b88783-b0ee-44d7-b580-eeae1cba5a20",
        "parentId" : null,
        "authorId" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "body" : "Maybe an exponential backoff instead of constant?",
        "createdAt" : "2020-07-14T13:14:54Z",
        "updatedAt" : "2020-07-29T16:09:53Z",
        "lastEditedBy" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "tags" : [
        ]
      },
      {
        "id" : "2aed2119-869e-493d-b9a2-99338a6f4499",
        "parentId" : "f7b88783-b0ee-44d7-b580-eeae1cba5a20",
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "Will consider adding it after https://github.com/apache/kafka/pull/8421 lands",
        "createdAt" : "2020-07-20T03:18:46Z",
        "updatedAt" : "2020-07-29T16:09:53Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      }
    ],
    "commit" : "66a3d65dc84f0b98379fc5955201922ce4f01112",
    "line" : 167,
    "diffHunk" : "@@ -1,1 +165,169 @@  }\n\n  private[server] def backoff(): Unit = pause(100, TimeUnit.MILLISECONDS)\n\n  override def doWork(): Unit = {"
  },
  {
    "id" : "91e79ac3-de9d-486a-aa0b-7fe40750bbb9",
    "prId" : 9732,
    "prUrl" : "https://github.com/apache/kafka/pull/9732#pullrequestreview-556632736",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d5d2a6ed-9c97-40fb-8f1b-f6d83f62677c",
        "parentId" : null,
        "authorId" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "body" : "Any reason to use Iterator here instead of queue methods (i.e., peek and remove). Is it to ensure a consistent view of the queue while we're going through it?",
        "createdAt" : "2020-12-18T17:53:23Z",
        "updatedAt" : "2020-12-21T20:43:49Z",
        "lastEditedBy" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "tags" : [
        ]
      },
      {
        "id" : "7815251f-726d-4a90-82e0-809c50d4bcbc",
        "parentId" : "d5d2a6ed-9c97-40fb-8f1b-f6d83f62677c",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Yeah, I just thought it was a little simpler.",
        "createdAt" : "2020-12-21T20:04:59Z",
        "updatedAt" : "2020-12-21T20:43:49Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "c31ba33f2ffb1144e0acbe975ddf45cc5d4065bc",
    "line" : 177,
    "diffHunk" : "@@ -1,1 +185,189 @@  override def generateRequests(): Iterable[RequestAndCompletionHandler] = {\n    val currentTimeMs = time.milliseconds()\n    val requestIter = requestQueue.iterator()\n    while (requestIter.hasNext) {\n      val request = requestIter.next"
  },
  {
    "id" : "932fad66-fec8-4305-af4d-d219274b84b4",
    "prId" : 10340,
    "prUrl" : "https://github.com/apache/kafka/pull/10340#pullrequestreview-614762750",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9e35fa1f-6852-45f6-8e9c-ffa778d8ef05",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Shall we use this in defining the thread name passed to `BrokerToControllerRequestThread` as well? The thread name is used for the `logIdent` in `ShutdownableThread`.",
        "createdAt" : "2021-03-17T20:38:16Z",
        "updatedAt" : "2021-03-18T17:58:51Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "f5b5ddce82912fc509143604caf617eb94ca6b6f",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +169,173 @@  retryTimeoutMs: Long\n) extends BrokerToControllerChannelManager with Logging {\n  private val logContext = new LogContext(s\"[BrokerToControllerChannelManager broker=${config.brokerId} name=$channelName] \")\n  private val manualMetadataUpdater = new ManualMetadataUpdater()\n  private val apiVersions = new ApiVersions()"
  },
  {
    "id" : "c2a2db47-f212-452d-a20d-ef3f0d0992c2",
    "prId" : 10340,
    "prUrl" : "https://github.com/apache/kafka/pull/10340#pullrequestreview-615549273",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d2488cd8-3f77-47e5-978a-6e426222aace",
        "parentId" : null,
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "Does it need to be thread-safe?",
        "createdAt" : "2021-03-18T16:04:01Z",
        "updatedAt" : "2021-03-18T17:58:51Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      }
    ],
    "commit" : "f5b5ddce82912fc509143604caf617eb94ca6b6f",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +298,302 @@  // Used for testing\n  @volatile\n  private[server] var started = false\n\n  def activeControllerAddress(): Option[Node] = {"
  }
]