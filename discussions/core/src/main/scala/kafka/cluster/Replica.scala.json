[
  {
    "id" : "94b2c9fa-8539-4d29-a638-148c6ddbdd85",
    "prId" : 4695,
    "prUrl" : "https://github.com/apache/kafka/pull/4695#pullrequestreview-104641783",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5cbbdac2-24a2-4910-aea8-096493051db4",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Should we use log.logStartOffset for firstOffset?",
        "createdAt" : "2018-03-14T18:17:58Z",
        "updatedAt" : "2018-03-14T18:26:36Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "97739adf-28f6-4da5-a358-085f54583c65",
        "parentId" : "5cbbdac2-24a2-4910-aea8-096493051db4",
        "authorId" : "220f032c-6592-42d9-9042-aed276632816",
        "body" : "@junrao Great point. Yeah logStartOffset should be better.",
        "createdAt" : "2018-03-14T20:35:51Z",
        "updatedAt" : "2018-03-14T20:35:51Z",
        "lastEditedBy" : "220f032c-6592-42d9-9042-aed276632816",
        "tags" : [
        ]
      },
      {
        "id" : "6d00fa42-8394-4c77-9a2e-45eeb39161b4",
        "parentId" : "5cbbdac2-24a2-4910-aea8-096493051db4",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "@lindong28 Were you planning to submit a follow-up for this change?",
        "createdAt" : "2018-03-15T23:35:29Z",
        "updatedAt" : "2018-03-15T23:35:29Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "0e3983eb-3bc5-4a22-acf8-ab919dfb4a9b",
        "parentId" : "5cbbdac2-24a2-4910-aea8-096493051db4",
        "authorId" : "220f032c-6592-42d9-9042-aed276632816",
        "body" : "@hachikuji Sure. I opened https://github.com/apache/kafka/pull/4722 for this change.",
        "createdAt" : "2018-03-16T16:52:49Z",
        "updatedAt" : "2018-03-16T16:52:49Z",
        "lastEditedBy" : "220f032c-6592-42d9-9042-aed276632816",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd96bbac6986e28b84db8f19ed44b867ffd332eb",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +176,180 @@    if (isLocal) {\n      highWatermarkMetadata = log.get.convertToOffsetMetadata(highWatermarkMetadata.messageOffset).getOrElse {\n        val firstOffset = log.get.logSegments.head.baseOffset\n        new LogOffsetMetadata(firstOffset, firstOffset, 0)\n      }"
  },
  {
    "id" : "7776375b-4ad6-47c3-8882-174ffabcf097",
    "prId" : 6232,
    "prUrl" : "https://github.com/apache/kafka/pull/6232#pullrequestreview-201345930",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae4191ae-c928-47ef-a145-b1e997f51a0d",
        "parentId" : null,
        "authorId" : "cb6f8432-d515-4113-87f8-14e555ab8ed1",
        "body" : "Not strictly related to the review just noticed that isLocal used extensively in methods and I think might not be the best thing to do overall and might split the class up to RemoteReplica and LocalReplica to represent different behavior. What do you think?",
        "createdAt" : "2019-02-07T16:58:53Z",
        "updatedAt" : "2019-02-08T04:13:43Z",
        "lastEditedBy" : "cb6f8432-d515-4113-87f8-14e555ab8ed1",
        "tags" : [
        ]
      },
      {
        "id" : "54353fa8-ef09-4b93-b5d5-7642f374fd19",
        "parentId" : "ae4191ae-c928-47ef-a145-b1e997f51a0d",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Yeah, I think it's a good idea. I also find this pattern a bit messy and error-prone.",
        "createdAt" : "2019-02-07T19:48:30Z",
        "updatedAt" : "2019-02-08T04:13:43Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "f3afa4a1-0ce2-44ad-aaae-b0939bbe180c",
        "parentId" : "ae4191ae-c928-47ef-a145-b1e997f51a0d",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "@viktorsomogyi This is definitely a good suggestion, but I'm going to leave it for future work.",
        "createdAt" : "2019-02-07T22:01:16Z",
        "updatedAt" : "2019-02-08T04:13:43Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "ab429a3c1ea54d660cfae70d6c14c21ad8bf4c1e",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +98,102 @@\n  def latestEpoch: Option[Int] = {\n    if (isLocal) {\n      log.get.latestEpoch\n    } else {"
  },
  {
    "id" : "933079cd-1a12-42bb-9a5c-395aa58e09b7",
    "prId" : 6298,
    "prUrl" : "https://github.com/apache/kafka/pull/6298#pullrequestreview-206933186",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8cb4c84d-ba81-4767-9bb7-49674fce3338",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I guess this can be simplified slightly: `log.filter(_.supportsLeaderEpoch).map(_.leaderEpochCache)`",
        "createdAt" : "2019-02-22T17:18:20Z",
        "updatedAt" : "2019-02-22T19:17:28Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "aaa4a352963294db81c011d5baf1afb101792595",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +60,64 @@  def epochs: Option[LeaderEpochFileCache] = {\n    log.flatMap { log =>\n      if (log.supportsLeaderEpoch)\n        Some(log.leaderEpochCache)\n      else"
  }
]