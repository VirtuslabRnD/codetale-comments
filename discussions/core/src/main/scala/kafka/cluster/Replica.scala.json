[
  {
    "id" : "94b2c9fa-8539-4d29-a638-148c6ddbdd85",
    "prId" : 4695,
    "prUrl" : "https://github.com/apache/kafka/pull/4695#pullrequestreview-104641783",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5cbbdac2-24a2-4910-aea8-096493051db4",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Should we use log.logStartOffset for firstOffset?",
        "createdAt" : "2018-03-14T18:17:58Z",
        "updatedAt" : "2018-03-14T18:26:36Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "97739adf-28f6-4da5-a358-085f54583c65",
        "parentId" : "5cbbdac2-24a2-4910-aea8-096493051db4",
        "authorId" : "220f032c-6592-42d9-9042-aed276632816",
        "body" : "@junrao Great point. Yeah logStartOffset should be better.",
        "createdAt" : "2018-03-14T20:35:51Z",
        "updatedAt" : "2018-03-14T20:35:51Z",
        "lastEditedBy" : "220f032c-6592-42d9-9042-aed276632816",
        "tags" : [
        ]
      },
      {
        "id" : "6d00fa42-8394-4c77-9a2e-45eeb39161b4",
        "parentId" : "5cbbdac2-24a2-4910-aea8-096493051db4",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "@lindong28 Were you planning to submit a follow-up for this change?",
        "createdAt" : "2018-03-15T23:35:29Z",
        "updatedAt" : "2018-03-15T23:35:29Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "0e3983eb-3bc5-4a22-acf8-ab919dfb4a9b",
        "parentId" : "5cbbdac2-24a2-4910-aea8-096493051db4",
        "authorId" : "220f032c-6592-42d9-9042-aed276632816",
        "body" : "@hachikuji Sure. I opened https://github.com/apache/kafka/pull/4722 for this change.",
        "createdAt" : "2018-03-16T16:52:49Z",
        "updatedAt" : "2018-03-16T16:52:49Z",
        "lastEditedBy" : "220f032c-6592-42d9-9042-aed276632816",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd96bbac6986e28b84db8f19ed44b867ffd332eb",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +176,180 @@    if (isLocal) {\n      highWatermarkMetadata = log.get.convertToOffsetMetadata(highWatermarkMetadata.messageOffset).getOrElse {\n        val firstOffset = log.get.logSegments.head.baseOffset\n        new LogOffsetMetadata(firstOffset, firstOffset, 0)\n      }"
  },
  {
    "id" : "7776375b-4ad6-47c3-8882-174ffabcf097",
    "prId" : 6232,
    "prUrl" : "https://github.com/apache/kafka/pull/6232#pullrequestreview-201345930",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae4191ae-c928-47ef-a145-b1e997f51a0d",
        "parentId" : null,
        "authorId" : "cb6f8432-d515-4113-87f8-14e555ab8ed1",
        "body" : "Not strictly related to the review just noticed that isLocal used extensively in methods and I think might not be the best thing to do overall and might split the class up to RemoteReplica and LocalReplica to represent different behavior. What do you think?",
        "createdAt" : "2019-02-07T16:58:53Z",
        "updatedAt" : "2019-02-08T04:13:43Z",
        "lastEditedBy" : "cb6f8432-d515-4113-87f8-14e555ab8ed1",
        "tags" : [
        ]
      },
      {
        "id" : "54353fa8-ef09-4b93-b5d5-7642f374fd19",
        "parentId" : "ae4191ae-c928-47ef-a145-b1e997f51a0d",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Yeah, I think it's a good idea. I also find this pattern a bit messy and error-prone.",
        "createdAt" : "2019-02-07T19:48:30Z",
        "updatedAt" : "2019-02-08T04:13:43Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "f3afa4a1-0ce2-44ad-aaae-b0939bbe180c",
        "parentId" : "ae4191ae-c928-47ef-a145-b1e997f51a0d",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "@viktorsomogyi This is definitely a good suggestion, but I'm going to leave it for future work.",
        "createdAt" : "2019-02-07T22:01:16Z",
        "updatedAt" : "2019-02-08T04:13:43Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "ab429a3c1ea54d660cfae70d6c14c21ad8bf4c1e",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +98,102 @@\n  def latestEpoch: Option[Int] = {\n    if (isLocal) {\n      log.get.latestEpoch\n    } else {"
  },
  {
    "id" : "933079cd-1a12-42bb-9a5c-395aa58e09b7",
    "prId" : 6298,
    "prUrl" : "https://github.com/apache/kafka/pull/6298#pullrequestreview-206933186",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8cb4c84d-ba81-4767-9bb7-49674fce3338",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I guess this can be simplified slightly: `log.filter(_.supportsLeaderEpoch).map(_.leaderEpochCache)`",
        "createdAt" : "2019-02-22T17:18:20Z",
        "updatedAt" : "2019-02-22T19:17:28Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "aaa4a352963294db81c011d5baf1afb101792595",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +60,64 @@  def epochs: Option[LeaderEpochFileCache] = {\n    log.flatMap { log =>\n      if (log.supportsLeaderEpoch)\n        Some(log.leaderEpochCache)\n      else"
  },
  {
    "id" : "78f49520-6a1d-4da3-8666-2f403dfe5a3c",
    "prId" : 6814,
    "prUrl" : "https://github.com/apache/kafka/pull/6814#pullrequestreview-244532279",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e71c81f4-79e1-427b-9ef8-e4ea918cbe1b",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "I like this refactoring!",
        "createdAt" : "2019-05-31T23:43:03Z",
        "updatedAt" : "2019-06-01T17:35:35Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "fafdae4c452e5581bfa94f675b332da64741d4ac",
    "line" : 88,
    "diffHunk" : "@@ -1,1 +169,173 @@  }\n\n  def highWatermark_=(newHighWatermark: Long): Unit = {\n    highWatermarkMetadata = LogOffsetMetadata(newHighWatermark)\n  }"
  },
  {
    "id" : "95f978dd-f8d0-4a0f-84a6-7e7d071c9dcb",
    "prId" : 6841,
    "prUrl" : "https://github.com/apache/kafka/pull/6841#pullrequestreview-248472070",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9219ee95-6320-45d4-88a7-9c0f11107641",
        "parentId" : null,
        "authorId" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "body" : "nit: This should be `RemoteReplica(...`.",
        "createdAt" : "2019-06-07T21:26:58Z",
        "updatedAt" : "2019-06-14T23:20:28Z",
        "lastEditedBy" : "4a7c311c-0954-4671-a0d2-266cb67437ad",
        "tags" : [
        ]
      },
      {
        "id" : "5c901734-f875-438b-bbc6-c8d4cc971209",
        "parentId" : "9219ee95-6320-45d4-88a7-9c0f11107641",
        "authorId" : "e61d770a-e328-41b4-b8c3-6a769370680c",
        "body" : "Fixed.",
        "createdAt" : "2019-06-11T22:36:57Z",
        "updatedAt" : "2019-06-14T23:20:28Z",
        "lastEditedBy" : "e61d770a-e328-41b4-b8c3-6a769370680c",
        "tags" : [
        ]
      }
    ],
    "commit" : "f6524debfbc275fe7f58c41b87c3daeb3f4c0aa6",
    "line" : 205,
    "diffHunk" : "@@ -1,1 +88,92 @@  override def toString: String = {\n    val replicaString = new StringBuilder\n    replicaString.append(\"Replica(replicaId=\" + brokerId)\n    replicaString.append(s\", topic=${topicPartition.topic}\")\n    replicaString.append(s\", partition=${topicPartition.partition}\")"
  }
]