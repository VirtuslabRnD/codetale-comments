[
  {
    "id" : "b9364c2b-7252-48c2-9c19-359d0447d32c",
    "prId" : 10863,
    "prUrl" : "https://github.com/apache/kafka/pull/10863#pullrequestreview-683922833",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f922c81d-1e01-4320-bd63-6831e40e277e",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Async operations always make me a little nervous. Would it be reasonable to add the generation to this as a field? That would give us a simple way to ensure that the delayed operation could not get applied to the wrong rebalance.",
        "createdAt" : "2021-06-14T19:00:40Z",
        "updatedAt" : "2021-06-14T22:28:06Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "e7a8d59c-6ede-43c4-9ced-1ebcc843fc58",
        "parentId" : "f922c81d-1e01-4320-bd63-6831e40e277e",
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "Yeah, that's a good idea. Let me do this.",
        "createdAt" : "2021-06-15T12:12:21Z",
        "updatedAt" : "2021-06-15T12:12:22Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      }
    ],
    "commit" : "20f4be2519c3c2b6b27cf500a1084485042eb895",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +30,34 @@private[group] class DelayedSync(\n  coordinator: GroupCoordinator,\n  group: GroupMetadata,\n  generationId: Int,\n  rebalanceTimeoutMs: Long"
  },
  {
    "id" : "bc435a2a-c95c-4166-bfc0-a7fea726efa1",
    "prId" : 10863,
    "prUrl" : "https://github.com/apache/kafka/pull/10863#pullrequestreview-685054225",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6c78e772-ff46-4587-801a-5984a2c17bb6",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "There are a set of metrics that get exposed automatically for each purgatory we add. I'm considering if these will be useful or if we should add a flag to let us disable them.",
        "createdAt" : "2021-06-15T21:16:52Z",
        "updatedAt" : "2021-06-15T21:21:00Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "5313f7d4-2ea9-4bf6-a4f3-6911f4f71b6c",
        "parentId" : "6c78e772-ff46-4587-801a-5984a2c17bb6",
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "Ah.. I was not aware of this. This means that I cannot change the purgatory name like I did.\n\nI think that it is useful to have some metrics. The issue is that we would need a KIP, right?\n\nAs an alternative, we could perhaps share the purgatory for the delayed join and the delayed sync. We could use different keys for instance. What do you think?",
        "createdAt" : "2021-06-15T22:15:34Z",
        "updatedAt" : "2021-06-15T22:15:34Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      },
      {
        "id" : "27c3bc6b-cad5-4214-9dd4-a82881899243",
        "parentId" : "6c78e772-ff46-4587-801a-5984a2c17bb6",
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "@hachikuji I went ahead with the consolidating both purgatories into one. This way we can keep the same metrics as today and we avoid introducing a new purgatory.",
        "createdAt" : "2021-06-16T11:37:38Z",
        "updatedAt" : "2021-06-16T11:37:39Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      }
    ],
    "commit" : "20f4be2519c3c2b6b27cf500a1084485042eb895",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +28,32 @@ * are removed from the group. If any members is removed, the group is rebalanced.\n */\nprivate[group] class DelayedSync(\n  coordinator: GroupCoordinator,\n  group: GroupMetadata,"
  }
]