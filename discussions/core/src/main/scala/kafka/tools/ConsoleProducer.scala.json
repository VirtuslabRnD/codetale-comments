[
  {
    "id" : "577a0818-ef09-4671-9688-53c739b9b914",
    "prId" : 8023,
    "prUrl" : "https://github.com/apache/kafka/pull/8023#pullrequestreview-354438880",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "928ae1ca-5472-44e1-8b98-4ca52210d894",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "You can define `bootstrapServerOpt` with `.requiredUnless(\"broker-list\")` as long as you define broker-list first; then the parser will check everything for you automatically.  Also technically not REQUIRED since `--broker-list` is only being deprecated and not removed.  So probably \"REQUIRED unless --broker-list is specified\" is more accurate.  Also, need to update `ConsoleProducerTest` to test valid and invalid option combinations.",
        "createdAt" : "2020-01-31T05:24:34Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "7b566b70-f9e1-47e1-8c3a-76d47fcd858c",
        "parentId" : "928ae1ca-5472-44e1-8b98-4ca52210d894",
        "authorId" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "body" : "Updated with suggestion",
        "createdAt" : "2020-02-06T13:15:07Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "tags" : [
        ]
      }
    ],
    "commit" : "11a49210eb9233fef111c9a5ddfefe3588a9addd",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +131,135 @@      .ofType(classOf[String])\n    val brokerListOpt = parser.accepts(\"broker-list\", \"DEPRECATED, use --bootstrap-server instead; ignored if --bootstrap-server is specified.  The broker list string in the form HOST1:PORT1,HOST2:PORT2.\")\n      .withRequiredArg\n      .describedAs(\"broker-list\")\n      .ofType(classOf[String])"
  },
  {
    "id" : "816d9592-f66b-43ec-b15a-1e5d9c5e5991",
    "prId" : 8023,
    "prUrl" : "https://github.com/apache/kafka/pull/8023#pullrequestreview-354438921",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0a6a7397-ee19-42c9-a60d-e825dc27f171",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "No need to manually check these if you use `.requiredUnless(\"broker-list\")`.",
        "createdAt" : "2020-01-31T06:05:39Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "be81d287-fa66-4849-8d3c-51d6c8625319",
        "parentId" : "0a6a7397-ee19-42c9-a60d-e825dc27f171",
        "authorId" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "body" : "Updated with requiredUnless",
        "createdAt" : "2020-02-06T13:15:12Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "tags" : [
        ]
      }
    ],
    "commit" : "11a49210eb9233fef111c9a5ddfefe3588a9addd",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +230,234 @@\n    CommandLineUtils.printHelpAndExitIfNeeded(this, \"This tool helps to read data from standard input and publish it to Kafka.\")\n\n    CommandLineUtils.checkRequiredArgs(parser, options, topicOpt)\n"
  },
  {
    "id" : "c86aadd1-9c58-499a-84c1-625db4887da6",
    "prId" : 8023,
    "prUrl" : "https://github.com/apache/kafka/pull/8023#pullrequestreview-354439003",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "78ca9f73-0c5d-4b09-8ead-34ede65f0972",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "Probably want to do something like this:\r\n\r\n```\r\nval brokerHostsAndPorts = options.valueOf(if (options.has(bootstrapServerOpt)) bootstrapServerOpt else brokerListOpt)\r\nToolsUtils.validatePortOrDie(parser, brokerHostsAndPorts)\r\n```",
        "createdAt" : "2020-01-31T06:10:37Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "bd276678-a1f5-43c6-abee-1b4412182c5f",
        "parentId" : "78ca9f73-0c5d-4b09-8ead-34ede65f0972",
        "authorId" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "body" : "Updated with suggestion",
        "createdAt" : "2020-02-06T13:15:19Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "tags" : [
        ]
      }
    ],
    "commit" : "11a49210eb9233fef111c9a5ddfefe3588a9addd",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +235,239 @@    val topic = options.valueOf(topicOpt)\n\n    val bootstrapServer = options.valueOf(bootstrapServerOpt)\n    val brokerList = options.valueOf(brokerListOpt)\n"
  },
  {
    "id" : "9b6d0006-70c7-4812-9c3a-8c3f79f4a8a4",
    "prId" : 8864,
    "prUrl" : "https://github.com/apache/kafka/pull/8864#pullrequestreview-451978799",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9b233994-92a3-48a9-b14e-a049215d6839",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "@hachikuji @cmccabe @vvcephei -- I think we should deprecate this flag (guess we should update the KIP accordingly) -- Thoughts?",
        "createdAt" : "2020-06-13T00:14:20Z",
        "updatedAt" : "2020-07-21T00:12:06Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "fa34d350-df1a-42b6-9df6-c5c03792df12",
        "parentId" : "9b233994-92a3-48a9-b14e-a049215d6839",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Sounds good to me.",
        "createdAt" : "2020-07-06T23:40:04Z",
        "updatedAt" : "2020-07-21T00:12:06Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "8dd3dc6d-edc3-4728-a5b0-e8e8190ee3a4",
        "parentId" : "9b233994-92a3-48a9-b14e-a049215d6839",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Updated the KIP and sent a mail to the VOTE thread on the dev list.",
        "createdAt" : "2020-07-20T21:40:15Z",
        "updatedAt" : "2020-07-21T00:12:06Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "e6c10d88f9c6fa9d89cc500112255898e2f24845",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +149,153 @@      .ofType(classOf[java.lang.Integer])\n      .defaultsTo(200)\n    val messageSendMaxRetriesOpt = parser.accepts(\"message-send-max-retries\", \"(Deprecated) Brokers can fail receiving the message for multiple reasons, and being unavailable transiently is just one of them. This property specifies the number of retires before the producer give up and drop this message.\")\n      .withRequiredArg\n      .ofType(classOf[java.lang.Integer])"
  }
]