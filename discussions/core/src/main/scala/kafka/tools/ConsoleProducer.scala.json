[
  {
    "id" : "577a0818-ef09-4671-9688-53c739b9b914",
    "prId" : 8023,
    "prUrl" : "https://github.com/apache/kafka/pull/8023#pullrequestreview-354438880",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "928ae1ca-5472-44e1-8b98-4ca52210d894",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "You can define `bootstrapServerOpt` with `.requiredUnless(\"broker-list\")` as long as you define broker-list first; then the parser will check everything for you automatically.  Also technically not REQUIRED since `--broker-list` is only being deprecated and not removed.  So probably \"REQUIRED unless --broker-list is specified\" is more accurate.  Also, need to update `ConsoleProducerTest` to test valid and invalid option combinations.",
        "createdAt" : "2020-01-31T05:24:34Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "7b566b70-f9e1-47e1-8c3a-76d47fcd858c",
        "parentId" : "928ae1ca-5472-44e1-8b98-4ca52210d894",
        "authorId" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "body" : "Updated with suggestion",
        "createdAt" : "2020-02-06T13:15:07Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "tags" : [
        ]
      }
    ],
    "commit" : "11a49210eb9233fef111c9a5ddfefe3588a9addd",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +131,135 @@      .ofType(classOf[String])\n    val brokerListOpt = parser.accepts(\"broker-list\", \"DEPRECATED, use --bootstrap-server instead; ignored if --bootstrap-server is specified.  The broker list string in the form HOST1:PORT1,HOST2:PORT2.\")\n      .withRequiredArg\n      .describedAs(\"broker-list\")\n      .ofType(classOf[String])"
  },
  {
    "id" : "816d9592-f66b-43ec-b15a-1e5d9c5e5991",
    "prId" : 8023,
    "prUrl" : "https://github.com/apache/kafka/pull/8023#pullrequestreview-354438921",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0a6a7397-ee19-42c9-a60d-e825dc27f171",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "No need to manually check these if you use `.requiredUnless(\"broker-list\")`.",
        "createdAt" : "2020-01-31T06:05:39Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "be81d287-fa66-4849-8d3c-51d6c8625319",
        "parentId" : "0a6a7397-ee19-42c9-a60d-e825dc27f171",
        "authorId" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "body" : "Updated with requiredUnless",
        "createdAt" : "2020-02-06T13:15:12Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "tags" : [
        ]
      }
    ],
    "commit" : "11a49210eb9233fef111c9a5ddfefe3588a9addd",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +230,234 @@\n    CommandLineUtils.printHelpAndExitIfNeeded(this, \"This tool helps to read data from standard input and publish it to Kafka.\")\n\n    CommandLineUtils.checkRequiredArgs(parser, options, topicOpt)\n"
  },
  {
    "id" : "c86aadd1-9c58-499a-84c1-625db4887da6",
    "prId" : 8023,
    "prUrl" : "https://github.com/apache/kafka/pull/8023#pullrequestreview-354439003",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "78ca9f73-0c5d-4b09-8ead-34ede65f0972",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "Probably want to do something like this:\r\n\r\n```\r\nval brokerHostsAndPorts = options.valueOf(if (options.has(bootstrapServerOpt)) bootstrapServerOpt else brokerListOpt)\r\nToolsUtils.validatePortOrDie(parser, brokerHostsAndPorts)\r\n```",
        "createdAt" : "2020-01-31T06:10:37Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "bd276678-a1f5-43c6-abee-1b4412182c5f",
        "parentId" : "78ca9f73-0c5d-4b09-8ead-34ede65f0972",
        "authorId" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "body" : "Updated with suggestion",
        "createdAt" : "2020-02-06T13:15:19Z",
        "updatedAt" : "2020-02-13T17:39:27Z",
        "lastEditedBy" : "e8f83857-c22e-48f2-b20a-f68c3f7f31e1",
        "tags" : [
        ]
      }
    ],
    "commit" : "11a49210eb9233fef111c9a5ddfefe3588a9addd",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +235,239 @@    val topic = options.valueOf(topicOpt)\n\n    val bootstrapServer = options.valueOf(bootstrapServerOpt)\n    val brokerList = options.valueOf(brokerListOpt)\n"
  }
]