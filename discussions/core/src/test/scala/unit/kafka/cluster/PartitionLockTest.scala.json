[
  {
    "id" : "8a19f993-ce25-4b6a-a2ad-d345eeebad7b",
    "prId" : 7973,
    "prUrl" : "https://github.com/apache/kafka/pull/7973#pullrequestreview-344474762",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "51f97cfe-49a7-4240-8686-93111e29d4a1",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Just checking my understanding, but it seems there's no need to do this after the shrink semaphore is released. If we did it before, then we could assert that the append futures are blocked just like the update follower futures.",
        "createdAt" : "2020-01-17T07:34:31Z",
        "updatedAt" : "2020-01-17T10:03:34Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "55b4351f-45e3-40c7-b0c3-ea98f1ad2efa",
        "parentId" : "51f97cfe-49a7-4240-8686-93111e29d4a1",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Good idea, updated.",
        "createdAt" : "2020-01-17T10:04:57Z",
        "updatedAt" : "2020-01-17T10:04:58Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "8edfe93407704a21ce7c286952e6dfe107c448a8",
    "line" : 86,
    "diffHunk" : "@@ -1,1 +147,151 @@\n    assertFalse(stateUpdateFutures.exists(_.isDone))\n    appendSemaphore.release(numProducers * numRecordsPerProducer)\n    assertFalse(appendFutures.exists(_.isDone))\n"
  }
]