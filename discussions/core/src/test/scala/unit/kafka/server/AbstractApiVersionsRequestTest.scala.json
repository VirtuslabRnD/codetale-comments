[
  {
    "id" : "694464ee-fa15-4da0-8729-29d7d09fd193",
    "prId" : 7735,
    "prUrl" : "https://github.com/apache/kafka/pull/7735#pullrequestreview-322670204",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9ac531fb-c3b9-40d3-89b1-e7fb1430ed0d",
        "parentId" : null,
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Is this abstract base class worth it? We could either add this single method to `BaseRequestTest` or `TestUtils`.",
        "createdAt" : "2019-11-25T15:16:09Z",
        "updatedAt" : "2019-11-26T00:52:38Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "1a7f1718-9062-4743-96db-2d285e26cb40",
        "parentId" : "9ac531fb-c3b9-40d3-89b1-e7fb1430ed0d",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "It's a bit more justifiable if we take the `validateApiVersionsResponse` method out of the `ApiVersionsRequestTest` companion.",
        "createdAt" : "2019-11-26T00:15:37Z",
        "updatedAt" : "2019-11-26T00:52:38Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "23d88575-47a3-412b-9210-4ad069f06385",
        "parentId" : "9ac531fb-c3b9-40d3-89b1-e7fb1430ed0d",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Maybe we should move this method to the companion? Nice to avoid long inheritance hierarchies.",
        "createdAt" : "2019-11-26T00:20:55Z",
        "updatedAt" : "2019-11-26T00:52:38Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "09bc53be-200b-4dda-a5aa-a78f045ab852",
        "parentId" : "9ac531fb-c3b9-40d3-89b1-e7fb1430ed0d",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "We could but it's a little more awkward since it requires an instance of `BaseRequestTest`. We could also add it to `BaseRequestTest`, but I was hoping to keep that class generic and to avoid leaking a bunch of api-specific noise into it.",
        "createdAt" : "2019-11-26T00:50:11Z",
        "updatedAt" : "2019-11-26T00:52:38Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "153badbde5e27fdcb02d1752dffd0c3ee9d6301b",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +24,28 @@import scala.collection.JavaConverters._\n\nabstract class AbstractApiVersionsRequestTest extends BaseRequestTest {\n\n  def sendUnsupportedApiVersionRequest(request: ApiVersionsRequest): ApiVersionsResponse = {"
  },
  {
    "id" : "d39ab131-fdb1-4658-b05e-aad6b653ecb0",
    "prId" : 10535,
    "prUrl" : "https://github.com/apache/kafka/pull/10535#pullrequestreview-650052203",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5b315eed-58be-462b-a950-246a1ad2cb51",
        "parentId" : null,
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "Why this change is necessary? It seems to me the code gets more complicated.",
        "createdAt" : "2021-05-02T16:28:15Z",
        "updatedAt" : "2021-05-02T16:28:38Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      },
      {
        "id" : "528730d5-6d46-49b2-a493-f1e8c96d5960",
        "parentId" : "5b315eed-58be-462b-a950-246a1ad2cb51",
        "authorId" : "12f98c82-b9ef-4668-aa6f-5a62bf3439bb",
        "body" : "Because this method is used to test the version inconsistency between request header and request body, but `IntegrationTestUtils.sendWithHeader` will inspect the version and throws `IllegalArgumentException` on inconsistency after this PR.",
        "createdAt" : "2021-05-03T02:04:30Z",
        "updatedAt" : "2021-05-03T02:04:30Z",
        "lastEditedBy" : "12f98c82-b9ef-4668-aa6f-5a62bf3439bb",
        "tags" : [
        ]
      }
    ],
    "commit" : "74715ddca8e09144895459005d09d065a3492c5a",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +50,54 @@    val socket = IntegrationTestUtils.connect(cluster.brokerSocketServers().asScala.head, cluster.clientListener())\n    try {\n      val serializedBytes = Utils.toArray(\n        RequestUtils.serialize(overrideHeader.data, overrideHeader.headerVersion, request.data, request.version))\n      IntegrationTestUtils.sendRequest(socket, serializedBytes)"
  }
]