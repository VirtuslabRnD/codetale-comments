[
  {
    "id" : "ca631efc-5a5f-459e-9ff3-64282350690e",
    "prId" : 7128,
    "prUrl" : "https://github.com/apache/kafka/pull/7128#pullrequestreview-268580477",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "12366138-8945-4ba9-b0b0-2c5b68fd3f17",
        "parentId" : null,
        "authorId" : "df911192-d6c6-4af9-8568-f67bf2dcf926",
        "body" : "I ran the entire test suite locally 37 times in a row with no failures whatsoever. The new tests do not seem to be flaky",
        "createdAt" : "2019-07-30T18:21:37Z",
        "updatedAt" : "2019-09-09T17:48:38Z",
        "lastEditedBy" : "df911192-d6c6-4af9-8568-f67bf2dcf926",
        "tags" : [
        ]
      }
    ],
    "commit" : "8538961c460c50be1828a050793f45d8558ea9b9",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +38,42 @@import org.apache.kafka.common.errors.NoReassignmentInProgressException\n\nclass ReassignPartitionsClusterTest extends ZooKeeperTestHarness with Logging {\n  var servers: Seq[KafkaServer] = null\n  var brokerIds: Seq[Int] = null"
  },
  {
    "id" : "f7677f66-c653-4df9-a94b-d4a9e171fdae",
    "prId" : 7582,
    "prUrl" : "https://github.com/apache/kafka/pull/7582#pullrequestreview-306948627",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "89635a59-aa8e-4396-b0be-5e4ff6cadb27",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "`org.apache.kafka.test.TestUtils` has a method `assertFutureThrows` which can simplify this. We can just do something like this:\r\n```scala\r\nval future = adminClient.createPartitions(Map(topicName -> NewPartitions.increaseTo(4))\r\n  .asJava).get(topicName)\r\nif (shouldThrowException)\r\n  assertFutureThrows(future, classOf[ReassignmentInProgressException])\r\nelse\r\n  future.get()\r\n```",
        "createdAt" : "2019-10-25T01:53:45Z",
        "updatedAt" : "2019-10-25T02:48:27Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "e07c1b59-0f35-4ce2-8501-4580c5237df9",
        "parentId" : "89635a59-aa8e-4396-b0be-5e4ff6cadb27",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Ha. Looks like Stanislav already beat me to a similar suggestion.",
        "createdAt" : "2019-10-25T01:59:01Z",
        "updatedAt" : "2019-10-25T02:48:27Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "7f3004ff1f6c5d58f63bcc644dfeacdc0c038c90",
    "line" : 85,
    "diffHunk" : "@@ -1,1 +1166,1170 @@          getCause.isInstanceOf[ReassignmentInProgressException])\n      else\n        adminClient.createPartitions(Map(topicName -> NewPartitions.increaseTo(4)).asJava).values.get(topicName).get()\n    }\n"
  }
]