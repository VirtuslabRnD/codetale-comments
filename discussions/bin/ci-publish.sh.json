[
  {
    "id" : "19a081d6-d709-41f6-b9fa-ff1a7cb39e02",
    "prId" : 1225,
    "prUrl" : "https://github.com/scalameta/scalameta/pull/1225#pullrequestreview-90212831",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8b436c7-2720-48bb-967e-dfaf70178e86",
        "parentId" : null,
        "authorId" : "56d6821a-439f-4d87-aba8-a6368926dbc5",
        "body" : "Why not publish prereleases on every merge like we did previously? In comparison with snapshots, prereleases are stable reference points (which is something that was and still is quite useful for us at Twitter).",
        "createdAt" : "2018-01-19T17:15:04Z",
        "updatedAt" : "2018-01-19T17:15:50Z",
        "lastEditedBy" : "56d6821a-439f-4d87-aba8-a6368926dbc5",
        "tags" : [
        ]
      },
      {
        "id" : "9988494a-58f0-425f-9730-205513ed9367",
        "parentId" : "c8b436c7-2720-48bb-967e-dfaf70178e86",
        "authorId" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "body" : "bintray is unstable, has file size limits, and requires different credentials and sbt plugins to work. This change is a tiny change from our current setup",
        "createdAt" : "2018-01-19T17:19:13Z",
        "updatedAt" : "2018-01-19T17:19:13Z",
        "lastEditedBy" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "tags" : [
        ]
      },
      {
        "id" : "90e14ca0-cc2f-46f4-9799-6ecf4b759240",
        "parentId" : "c8b436c7-2720-48bb-967e-dfaf70178e86",
        "authorId" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "body" : "publishing non-SNAPSHOT on every merge to maven central creates noise",
        "createdAt" : "2018-01-19T17:19:38Z",
        "updatedAt" : "2018-01-19T17:19:38Z",
        "lastEditedBy" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "tags" : [
        ]
      },
      {
        "id" : "b041edc5-2c71-47f8-b7b0-4bfd50b5a807",
        "parentId" : "c8b436c7-2720-48bb-967e-dfaf70178e86",
        "authorId" : "56d6821a-439f-4d87-aba8-a6368926dbc5",
        "body" : "What do you mean by noise? Are we risking to run into quota issues? Is there an important webpage that would be spammed by frequent releases?",
        "createdAt" : "2018-01-19T17:21:48Z",
        "updatedAt" : "2018-01-19T17:21:48Z",
        "lastEditedBy" : "56d6821a-439f-4d87-aba8-a6368926dbc5",
        "tags" : [
        ]
      },
      {
        "id" : "eb389d9b-273b-462c-b3a2-4f9270f4e8dc",
        "parentId" : "c8b436c7-2720-48bb-967e-dfaf70178e86",
        "authorId" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "body" : "see https://github.com/scalameta/scalameta/pull/1225#issuecomment-359033250 publishing -SNAPSHOT to sonatype is logistically simpler than non-SNAPSHOT releases",
        "createdAt" : "2018-01-19T17:37:05Z",
        "updatedAt" : "2018-01-19T17:37:05Z",
        "lastEditedBy" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "tags" : [
        ]
      },
      {
        "id" : "0269294e-5214-4634-a959-9f0cfd8dcafb",
        "parentId" : "c8b436c7-2720-48bb-967e-dfaf70178e86",
        "authorId" : "56d6821a-439f-4d87-aba8-a6368926dbc5",
        "body" : "Okay, that's a good reason. Can you talk a bit more about the workflow?\r\n\r\n1) So, the idea is that we publish -SNAPSHOT releases to Sonatype releases but don't promote them to Maven Central?\r\n\r\n2) Can there be a possibility to run `sonatypeRelease` after all the CI jobs have finished? If there was such a possibility, would we still need -SNAPSHOT, or we would be able to switch to regular prereleases?",
        "createdAt" : "2018-01-19T18:50:01Z",
        "updatedAt" : "2018-01-19T18:50:01Z",
        "lastEditedBy" : "56d6821a-439f-4d87-aba8-a6368926dbc5",
        "tags" : [
        ]
      },
      {
        "id" : "f5f5642b-b58a-47ee-968b-e8af9253810e",
        "parentId" : "c8b436c7-2720-48bb-967e-dfaf70178e86",
        "authorId" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "body" : "1. Correct, we publish -SNAPSHOT on every merge and forget about them, they never appear in search results in http://search.maven.org/, only https://oss.sonatype.org/content/repositories/snapshots/org/scalameta/\r\n\r\n2. I don't want every merge to go to maven central even if I could. I don't want them to appear on http://search.maven.org/  Stable  releases should be accompanied with a tag, changelist in GitHub releases and attributes to contributors. Stable releases should be something worth sharing on gitter/twitter.",
        "createdAt" : "2018-01-19T19:01:09Z",
        "updatedAt" : "2018-01-19T19:01:09Z",
        "lastEditedBy" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "tags" : [
        ]
      },
      {
        "id" : "c13e1503-776c-4c58-990b-dc7508767342",
        "parentId" : "c8b436c7-2720-48bb-967e-dfaf70178e86",
        "authorId" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "body" : "A stable release is still only a tag push away, I don't see any of my projects ending up depending on -SNAPSHOT releases for long periods. I intend to continue pushing tags liberally like I did this morning.",
        "createdAt" : "2018-01-19T19:03:19Z",
        "updatedAt" : "2018-01-19T19:03:19Z",
        "lastEditedBy" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "tags" : [
        ]
      },
      {
        "id" : "85e7a68b-25bd-4d21-be4a-41800cc775eb",
        "parentId" : "c8b436c7-2720-48bb-967e-dfaf70178e86",
        "authorId" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "body" : "> Can there be a possibility to run sonatypeRelease after all the CI jobs have finished? \r\n\r\nI think it can be done with Travis build stages, which is an experimental feature. We're using it in metals with good success.",
        "createdAt" : "2018-01-19T19:05:11Z",
        "updatedAt" : "2018-01-19T19:05:11Z",
        "lastEditedBy" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "tags" : [
        ]
      }
    ],
    "commit" : "65addba315d9f5f826b80d44502952eca429234a",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +11,15 @@  else\n    sbt -Dscalameta.snapshot=true ci-publish\n  fi\nelse\n  echo \"Skipping publish, branch=$TRAVIS_BRANCH publish=$PUBLISH test=$CI_TEST\""
  }
]