[
  {
    "id" : "5f16b1fa-b3eb-4f89-bb6f-f88482b271a8",
    "prId" : 6235,
    "prUrl" : "https://github.com/flutter/flutter/pull/6235#pullrequestreview-3185230",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fb62d932-2c78-44f1-aa55-c0f9acb4b3bf",
        "parentId" : null,
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "since we delete the file regardless, should we delete it before the call to curl as well, just in case the machine hard-crashed during the unzip or something?\n",
        "createdAt" : "2016-10-06T19:11:28Z",
        "updatedAt" : "2016-10-06T19:25:58Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "96d0016e-8b4c-4e9a-93c1-d5328fe9d385",
        "parentId" : "fb62d932-2c78-44f1-aa55-c0f9acb4b3bf",
        "authorId" : "ef18e386-81c5-4d21-83a1-6dee4f1a6e78",
        "body" : "No, because if the `curl` fails, it may have failed because of an intermittent network, and we want it to pick up where it left off (`curl -continue-at=-`).\n",
        "createdAt" : "2016-10-06T19:21:48Z",
        "updatedAt" : "2016-10-06T19:25:58Z",
        "lastEditedBy" : "ef18e386-81c5-4d21-83a1-6dee4f1a6e78",
        "tags" : [
        ]
      },
      {
        "id" : "52487041-91de-49f1-b777-3b7034956c4c",
        "parentId" : "fb62d932-2c78-44f1-aa55-c0f9acb4b3bf",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "Oh, I see. In normal operation, curl fails, and the script exits (because of `set -e`). The user reruns it, the curl finishes, we're good.\n\nIn the case I was worried about, the zip is corrupted, the machine dies during unzip, the user tries again, curl says we're good, unzip fails, now we delete the file. They try again again, and this time it works.\n\nSGTM.\n",
        "createdAt" : "2016-10-06T19:28:27Z",
        "updatedAt" : "2016-10-06T19:28:27Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "3ae643cfb9fc41f5eb0b18373584441167cbca43",
    "line" : null,
    "diffHunk" : "@@ -1,1 +48,52 @@    echo \"https://github.com/flutter/flutter/issues/new\"\n    echo\n    rm -f -- \"$DART_SDK_ZIP\"\n    exit 1\n  }"
  }
]