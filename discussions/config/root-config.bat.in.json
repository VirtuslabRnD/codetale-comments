[
  {
    "id" : "28466942-6343-41e2-bccb-3d3573e45c59",
    "prId" : 6733,
    "prUrl" : "https://github.com/root-project/root/pull/6733#pullrequestreview-520689564",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2c02eb53-aaa0-4892-8441-1b51ada6c316",
        "parentId" : null,
        "authorId" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "body" : "After execution of the bat file, is $arch usually (from the command prompt?  If so, could we name them like `root_arch` and then the user can use them for compilation?",
        "createdAt" : "2020-10-30T12:11:41Z",
        "updatedAt" : "2020-10-30T12:11:41Z",
        "lastEditedBy" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "tags" : [
        ]
      },
      {
        "id" : "d4c30bed-c3c6-4548-98af-63986f16e87f",
        "parentId" : "2c02eb53-aaa0-4892-8441-1b51ada6c316",
        "authorId" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "body" : "Not sure I understand... `arch` is the architecture used to build ROOT (i.e. taken from CMake), which is the relevant info. On Windows, even when building ROOT in 32 bit mode in the command prompt (which is 64 bit), what defines the architecture (32/64) is which MSVC batch script you call (or in which environment you are)",
        "createdAt" : "2020-10-30T12:22:39Z",
        "updatedAt" : "2020-10-30T12:22:40Z",
        "lastEditedBy" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "tags" : [
        ]
      },
      {
        "id" : "cbb8810e-3122-4296-8f6c-8812e40506bf",
        "parentId" : "2c02eb53-aaa0-4892-8441-1b51ada6c316",
        "authorId" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "body" : "And BTW, I simply took the same value than the original `root-config` script...",
        "createdAt" : "2020-10-30T12:34:52Z",
        "updatedAt" : "2020-10-30T12:34:52Z",
        "lastEditedBy" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "tags" : [
        ]
      },
      {
        "id" : "a90ce837-9f14-4c61-8e96-98ba2f4d7124",
        "parentId" : "2c02eb53-aaa0-4892-8441-1b51ada6c316",
        "authorId" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "body" : "'arch' was just an example.  Replace it with cxxflags to make it more useful.\r\n\r\nWhat I was thinking about is \"vcvar32.bat\" leaves behind environment variable and we might be able to do the same.  So the user could then do\r\n```cl %root_cxxflags %root_ldflags .... ```",
        "createdAt" : "2020-10-30T13:06:54Z",
        "updatedAt" : "2020-10-30T13:06:55Z",
        "lastEditedBy" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "tags" : [
        ]
      },
      {
        "id" : "77438126-e76c-4962-bdb3-9b82dea997dd",
        "parentId" : "2c02eb53-aaa0-4892-8441-1b51ada6c316",
        "authorId" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "body" : "> What I was thinking about is \"vcvar32.bat\" leaves behind environment variable and we might be able to do the same. So the user could then do\r\n> `cl %root_cxxflags %root_ldflags .... `\r\n\r\nNo, it doesn't, the variables are local and don't \"pollute\" the environment variables of the caller",
        "createdAt" : "2020-10-30T13:28:32Z",
        "updatedAt" : "2020-10-30T13:28:33Z",
        "lastEditedBy" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "tags" : [
        ]
      },
      {
        "id" : "b4d20cfa-505a-47a6-8706-924948f5048c",
        "parentId" : "2c02eb53-aaa0-4892-8441-1b51ada6c316",
        "authorId" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "body" : "But I could add some options to do so.... I'll check what can be done",
        "createdAt" : "2020-10-30T13:31:48Z",
        "updatedAt" : "2020-10-30T13:31:49Z",
        "lastEditedBy" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "tags" : [
        ]
      },
      {
        "id" : "11dbc0a1-4da3-4ce9-aa13-d5310d84f818",
        "parentId" : "2c02eb53-aaa0-4892-8441-1b51ada6c316",
        "authorId" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "body" : "@pcanal OK, so I tried and using environment variables doesn't work, it's still the problem of the command substitution which is not working in the command prompt. So I'll merge this PR. Thanks for the comments and the suggestion!",
        "createdAt" : "2020-10-30T13:54:20Z",
        "updatedAt" : "2020-10-30T13:54:20Z",
        "lastEditedBy" : "23a1739a-fdf1-4508-8ccf-74a4e80d9852",
        "tags" : [
        ]
      }
    ],
    "commit" : "d82d343e39cd042ab099d7d581f0d9f9baf08fe8",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@)\n\nset arch=@architecture@\nset platform=@CMAKE_SYSTEM@\nset bindir=%ROOTSYS%\\bin"
  }
]