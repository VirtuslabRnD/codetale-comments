[
  {
    "id" : "5fa64017-a4ea-4407-a547-c693e387faa7",
    "prId" : 7973,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9a3d6b55-9398-4da8-b484-306787fad988",
        "parentId" : null,
        "authorId" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "body" : "Question: Can this be `last` instead of `previous`? And do we need the `-p` short flag?\n",
        "createdAt" : "2015-05-09T00:20:19Z",
        "updatedAt" : "2015-05-11T19:54:12Z",
        "lastEditedBy" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "tags" : [
        ]
      },
      {
        "id" : "9364e8ac-11c8-4f90-afef-9ca0077d2908",
        "parentId" : "9a3d6b55-9398-4da8-b484-306787fad988",
        "authorId" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "body" : "-p is supported already. \n",
        "createdAt" : "2015-05-09T00:24:14Z",
        "updatedAt" : "2015-05-11T19:54:12Z",
        "lastEditedBy" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "tags" : [
        ]
      }
    ],
    "commit" : "86479cc56c807dab3ecc948c20c8ae16d019cf20",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +405,409 @@    flags+=(\"-h\")\n    flags+=(\"--interactive\")\n    flags+=(\"--previous\")\n    flags+=(\"-p\")\n"
  },
  {
    "id" : "d873fbea-99a5-4159-8f5d-133961047de5",
    "prId" : 1877,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "43a9c7ed-bd0a-4357-9c9b-010734ba760b",
        "parentId" : null,
        "authorId" : "f22a9095-b804-4932-8c62-ecb134b86477",
        "body" : "Are you trying to implement --no-headers on your own here? I just added support a few days ago in #1824.\n",
        "createdAt" : "2014-10-18T00:46:07Z",
        "updatedAt" : "2014-10-21T16:55:01Z",
        "lastEditedBy" : "f22a9095-b804-4932-8c62-ecb134b86477",
        "tags" : [
        ]
      },
      {
        "id" : "b9abcbc3-5cc8-4fc0-b8c0-bb4fa27041b6",
        "parentId" : "43a9c7ed-bd0a-4357-9c9b-010734ba760b",
        "authorId" : "766f642e-1622-4803-803b-05ce306fc30e",
        "body" : "I don't think I really understand the question.  I know you added --no-headers.  That's why I'm using it...\n\nIf you look a the kubecfg bash completions you can see the hoops we had to jump through when we did not have --no-headers:\n\nout=($(echo \"${kubecfg_output}\" | awk -v prefix=\"$1\" '/^$/ {next} NR > 2 {print prefix\"/\"$1}'))\n\nThe NR > 2 portion is to skip the header and the divider output.  I started doing this and had NR > 1, then decided I'd just fix kubectl to have a --no-header.  Then realized you already had it!  So thanks for that!  (obviously the above command does a whole lot of other magic other than skipping the header, but I'm thankful that kubectl doesn't need ANY such magic!)\n",
        "createdAt" : "2014-10-18T04:07:43Z",
        "updatedAt" : "2014-10-21T16:55:01Z",
        "lastEditedBy" : "766f642e-1622-4803-803b-05ce306fc30e",
        "tags" : [
        ]
      },
      {
        "id" : "d1ea68e2-82e7-49cb-bde0-1dee394ae7e3",
        "parentId" : "43a9c7ed-bd0a-4357-9c9b-010734ba760b",
        "authorId" : "f22a9095-b804-4932-8c62-ecb134b86477",
        "body" : "Ahh now I understand, you're using the results for your completion. Cool. Then the only remaining nit is that you could change the kubectl list reference to kubectl get. :)\n",
        "createdAt" : "2014-10-18T21:51:00Z",
        "updatedAt" : "2014-10-21T16:55:01Z",
        "lastEditedBy" : "f22a9095-b804-4932-8c62-ecb134b86477",
        "tags" : [
        ]
      },
      {
        "id" : "1ad22497-851a-44c6-812e-a3ff8336894c",
        "parentId" : "43a9c7ed-bd0a-4357-9c9b-010734ba760b",
        "authorId" : "766f642e-1622-4803-803b-05ce306fc30e",
        "body" : "On Sat, 2014-10-18 at 14:51 -0700, Sam Ghods wrote:\n\n> In contrib/completions/bash/kubectl:\n> \n> > -        local word=${words[i]}\n> > -        if __contains_word \"${word}\" \"${all_resources[@]}\"; then\n> > -            return 0\n> > -        fi\n> > -    done\n> > -    return 1\n> >   +}\n> >   +\n> >   +# call kubectl list $1,\n> >   +# exclude blank lines\n> >   +# skip the header stuff kubectl prints on the first 2 lines\n> >   +# append $1/ to the first column and use that in compgen\n> >   +__kubectl_parse_list()\n> >   +{\n> > -    local kubectl_output out\n> > -    if kubectl_output=$(kubectl get --no-headers \"$1\" 2>/dev/null); then\n> \n> Ahh now I understand, you're using the results for your completion.\n> Cool. Then the only remaining nit is that you could change the kubectl\n> list reference to kubectl get. :)\n\nGood call, fixed.\n",
        "createdAt" : "2014-10-19T15:12:30Z",
        "updatedAt" : "2014-10-21T16:55:01Z",
        "lastEditedBy" : "766f642e-1622-4803-803b-05ce306fc30e",
        "tags" : [
        ]
      }
    ],
    "commit" : "a160c0f06b96788159789584c90dac753f9d3ad4",
    "line" : null,
    "diffHunk" : "@@ -1,1 +45,49 @@{\n    local kubectl_output out\n    if kubectl_output=$(kubectl get --no-headers \"$1\" 2>/dev/null); then\n        out=($(echo \"${kubectl_output}\" | awk '{print $1}'))\n        COMPREPLY=( $( compgen -W \"${out[*]}\" -- \"$cur\" ) )"
  }
]