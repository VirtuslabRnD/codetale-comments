[
  {
    "id" : "70c91375-e13c-4fdc-aff3-229b64389919",
    "prId" : 2217,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2de76959-b836-43b6-80e2-fa873eba55cb",
        "parentId" : null,
        "authorId" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "body" : "Put the pos_file in /var/log/td-agent/... so that it does not need to be root to write in /var/lib/docker/...\n",
        "createdAt" : "2014-11-11T15:18:13Z",
        "updatedAt" : "2014-11-11T17:22:08Z",
        "lastEditedBy" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "tags" : [
        ]
      },
      {
        "id" : "79102908-8b32-4e15-924c-5218f1d5fd11",
        "parentId" : "2de76959-b836-43b6-80e2-fa873eba55cb",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "Looking at other pos_file incantations on the web I notice that the pos_file is close to the actual log files. I think this makes sense. I think /var/log/td-agent/... files should tell us something about the log gathering program td-agent. The log files in /var/log/docker/containers/... tell us something about the behaviour of the programs running in Docker containers. For maintenance I think it is good to have the pos_file co-located with the log files and the rotated log files that they refer to (esp. useful for debugging log rotation issues). And then when log files are deleted then it is easy to also delete the rotated files and the pos_file because they are in the same directory. So I respectfully ask that we keep the pos_file where it is. I know it is a shame to make /var/lib/docker writeable in our pod specification and also to require the td-agent to be run as root. Running td-agent as root seems to be quite common and that is what the configuration for td-agent for GCP does.\n",
        "createdAt" : "2014-11-11T17:15:18Z",
        "updatedAt" : "2014-11-11T17:22:08Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      },
      {
        "id" : "e0b7414c-c916-4e49-83d1-cf59cf7a3576",
        "parentId" : "2de76959-b836-43b6-80e2-fa873eba55cb",
        "authorId" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "body" : "ok\n",
        "createdAt" : "2014-11-11T22:59:28Z",
        "updatedAt" : "2014-11-11T22:59:28Z",
        "lastEditedBy" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "tags" : [
        ]
      }
    ],
    "commit" : "cb496a365e35b7eb4b56ef757dae00620c08120f",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +18,22 @@  time_key time\n  path /var/lib/docker/containers/*/*-json.log\n  pos_file /var/lib/docker/containers/containers.log.pos\n  time_format %Y-%m-%dT%H:%M:%S\n  tag docker.container.*"
  }
]