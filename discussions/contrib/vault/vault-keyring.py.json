[
  {
    "id" : "556e0b08-6082-4027-8ca6-015372480aba",
    "prId" : 31315,
    "prUrl" : "https://github.com/ansible/ansible/pull/31315#pullrequestreview-69315224",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6e844d5d-5610-42e9-b932-c11f8296705b",
        "parentId" : null,
        "authorId" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "body" : "LGTM.\r\n\r\nQuestion related to this patch (but not blocking this pr)...\r\nI'm not sure what the best use of the ConfigManager api is.\r\nI had to do something similar for https://github.com/ansible/ansible/pull/27669/files#diff-22b5fc39a68cb5e8e5d54d20f08ac98fR107 \r\n\r\nThe code here does:\r\n\r\n``` python\r\nconfig = ConfigManager()\r\nusername = get_ini_config_value(config._parser, dict(section='vault', key='username'))\r\n```\r\n\r\nI used something like the following:\r\n``` python\r\n\r\nconfig_manager = ConfigManager()\r\nusername = config_manager.data.get_setting('vault.username')\r\n```\r\n\r\nI don't really know which is the preferred usage though. ",
        "createdAt" : "2017-10-13T17:13:03Z",
        "updatedAt" : "2017-10-13T17:13:03Z",
        "lastEditedBy" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "tags" : [
        ]
      },
      {
        "id" : "2f9a2e89-36c4-40a5-91f4-d62ea8cdee44",
        "parentId" : "6e844d5d-5610-42e9-b932-c11f8296705b",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "you want `config_manager.get_config_value(...)`\r\n\r\notherwise you need to make multiple calls when multiple sources of the setting are available\r\n",
        "createdAt" : "2017-10-13T18:35:39Z",
        "updatedAt" : "2017-10-13T18:36:31Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "5af8822792d347044652a834f393b4ded39ac93a",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +71,75 @@def main():\n    config = ConfigManager()\n    username = get_ini_config_value(\n        config._parser,\n        dict(section='vault', key='username')"
  }
]