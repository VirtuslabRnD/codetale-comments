[
  {
    "id" : "a2ab5839-d300-4a48-be8f-347964344eeb",
    "prId" : 8882,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "951826c4-7239-430c-ba76-c25c2d5bbfa5",
        "parentId" : null,
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "I realize this says \"Incomplete\" but it wasn't clear to me where you are going with it. Am I correct in understanding that this can only ever possibly work if Kubernetes eventually supports scheduling constraints that are compatible with the Mesos ones? (That is, at a minimum, we would need the Kubernetes API to allow to specify in Pod definitions scheduling constraints with similar semantics to Mesos's.)\n",
        "createdAt" : "2015-06-07T09:24:08Z",
        "updatedAt" : "2015-06-11T13:48:08Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "8e7a1455-2611-4fc0-8160-e77121f40a80",
        "parentId" : "951826c4-7239-430c-ba76-c25c2d5bbfa5",
        "authorId" : "aefa6d0d-0ad0-4062-966c-ddc56e70652b",
        "body" : "Initial thinking was that k8s-mesos would support Marathon-like constraints. Perhaps a user could add a pod label such as:\n- `k8sm.mesosphere.io/constraint:hostname:UNIQUE`, or\n- `k8sm.mesosphere.io/constraint:attribute1:LIKE:value1`\n\nSince the k8s scheduler and k8s-mesos scheduler use different algorithms/rules for pod placement, the k8s scheduler wouldn't have to adopt k8s-mesos scheduling constraints (and vice-versa). I was operating under the assumption that some divergence from k8s would be acceptable here.\n\nAdmittedly, more thinking needs to go into this.\n",
        "createdAt" : "2015-06-09T15:25:56Z",
        "updatedAt" : "2015-06-11T13:48:08Z",
        "lastEditedBy" : "aefa6d0d-0ad0-4062-966c-ddc56e70652b",
        "tags" : [
        ]
      },
      {
        "id" : "381aa397-7eb7-4dc5-92b9-08eaec2c7311",
        "parentId" : "951826c4-7239-430c-ba76-c25c2d5bbfa5",
        "authorId" : "aefa6d0d-0ad0-4062-966c-ddc56e70652b",
        "body" : "Label keys have some restrictions, so perhaps the above examples aren't quite accurate. But the overall idea was to somehow allow the user to specify constraints in labels.\n",
        "createdAt" : "2015-06-09T15:27:09Z",
        "updatedAt" : "2015-06-11T13:48:08Z",
        "lastEditedBy" : "aefa6d0d-0ad0-4062-966c-ddc56e70652b",
        "tags" : [
        ]
      },
      {
        "id" : "64918ecc-5714-4094-bfcd-6938b13d6689",
        "parentId" : "951826c4-7239-430c-ba76-c25c2d5bbfa5",
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "I think a better approach would be to see if we can just make the Kubernetes constraint language somehow compatible with Mesos one. We really want to avoid having Kubernetes-on-Mesos have a different API than native Kubernetes, and stuffing constraints into label for k8sm is a pretty bad abuse of the API. We haven't really figured out what we want for the full label selector syntax in Kubernetes yet (see #367) so this is a good thing to keep in mind as we work on it.\n",
        "createdAt" : "2015-06-11T05:17:37Z",
        "updatedAt" : "2015-06-11T13:48:08Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "aa7d8a58-6948-4522-8638-42043c895a3c",
        "parentId" : "951826c4-7239-430c-ba76-c25c2d5bbfa5",
        "authorId" : "aefa6d0d-0ad0-4062-966c-ddc56e70652b",
        "body" : "I'll add a TODO re: alignment between k8s and k8s-mesos constraints\n",
        "createdAt" : "2015-06-11T12:38:27Z",
        "updatedAt" : "2015-06-11T13:48:08Z",
        "lastEditedBy" : "aefa6d0d-0ad0-4062-966c-ddc56e70652b",
        "tags" : [
        ]
      },
      {
        "id" : "776e8575-de63-4c02-a1e3-7478ab99e1ca",
        "parentId" : "951826c4-7239-430c-ba76-c25c2d5bbfa5",
        "authorId" : "aefa6d0d-0ad0-4062-966c-ddc56e70652b",
        "body" : "done\n",
        "createdAt" : "2015-06-11T12:42:55Z",
        "updatedAt" : "2015-06-11T13:48:08Z",
        "lastEditedBy" : "aefa6d0d-0ad0-4062-966c-ddc56e70652b",
        "tags" : [
        ]
      }
    ],
    "commit" : "6436c4a3bcd6756ebfd47679478fac700698ebb1",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +16,20 @@\n// Package constraint exposes Marathon-like constraints for scheduling pods.\n// Incomplete.\n// TODO(jdef) We need better alignment between k8s-mesos and k8s scheduling\n// constraints (read: a common constraints API)."
  }
]