[
  {
    "id" : "957bf64e-7c79-4bd5-b69a-7c137a68cfe1",
    "prId" : 10227,
    "prUrl" : "https://github.com/apache/kafka/pull/10227#pullrequestreview-601215535",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aecb3b18-f5ca-41d7-865b-8deee78d83c2",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "Maybe use the term \"combined\" since that is what the prop file is called?  For example:\r\n\r\n`If you are running in combined mode where you run the broker and controller in a single process, you can do this with one command:`",
        "createdAt" : "2021-03-01T16:42:03Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "52643850-07fa-437b-8a9d-580105c49ce7",
        "parentId" : "aecb3b18-f5ca-41d7-865b-8deee78d83c2",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "I wanted to avoid talking about combined mode before the section on Deployment. However, I will change this to \"For a single-process test cluster...\" to keep things simple.",
        "createdAt" : "2021-03-01T22:14:06Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "97ce1d1b5ec15f76686235d02215fce9a9d0cbd4",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +23,27 @@\n## Format Storage Directories\nThe next step is to format your storage directories.  If you are running in single-node mode, you can do this with one command:\n\n~~~~"
  },
  {
    "id" : "d8e0ef95-1e0b-4d08-8d72-7b088f3e4606",
    "prId" : 10227,
    "prUrl" : "https://github.com/apache/kafka/pull/10227#pullrequestreview-601217299",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d71eead9-d962-425f-a549-2a1a1cce1248",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "Maybe it would be good to give the example since we provide the broker and controller configs?  Maybe this?\r\n\r\nBe sure to use the same cluster ID for each one (e.g. run the format command against both `./config/raft-broker.properties` and `./config/raft-controller.properties` if you wish to run separate processes instead of a single one).",
        "createdAt" : "2021-03-01T16:44:36Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "2b898baa-a1b0-49b0-b8ce-21c8ba6e8cb8",
        "parentId" : "d71eead9-d962-425f-a549-2a1a1cce1248",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "It might be better to save that discussion for the \"deployment section\" since we haven't explained the different deployment models yet... or I guess we could move the deployment section to be first... not sure.",
        "createdAt" : "2021-03-01T22:16:45Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "97ce1d1b5ec15f76686235d02215fce9a9d0cbd4",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +30,34 @@~~~~\n\nIf you are using multiple nodes, then you should run the format command on each node.  Be sure to use the same cluster ID for each one.\n\n## Start the Kafka Server"
  },
  {
    "id" : "be124a98-652e-4408-9d93-94a4d7d0aa11",
    "prId" : 10227,
    "prUrl" : "https://github.com/apache/kafka/pull/10227#pullrequestreview-601217637",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "145e4e73-cf92-49a1-a8e4-9dd14a187ee1",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "```suggestion\r\nFinally, you are ready to start the Kafka server(s).\r\n```",
        "createdAt" : "2021-03-01T16:46:00Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "44d1520c-4012-415a-a452-e15eba26894a",
        "parentId" : "145e4e73-cf92-49a1-a8e4-9dd14a187ee1",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "I'll just say \"server\" (singular) since it is singular in this example.",
        "createdAt" : "2021-03-01T22:17:15Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "97ce1d1b5ec15f76686235d02215fce9a9d0cbd4",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +33,37 @@\n## Start the Kafka Server\nFinally, you are ready to start the Kafka server on each node.\n\n~~~~"
  },
  {
    "id" : "b7273ac2-37d5-44ed-afea-54dcea870639",
    "prId" : 10227,
    "prUrl" : "https://github.com/apache/kafka/pull/10227#pullrequestreview-601218871",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6a530625-4b50-4852-9109-1d050e064a94",
        "parentId" : null,
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "I technically think it is possible to configure an authorizer (e.g. one that goes against some external datastore like LDAP -- though we haven't tested such a configuration).  But the lack of a tested configuration is perhaps reason to keep your wording as-is.\r\n\r\nMaybe append the comment that the security protocols SASL_SSL and SASL_PLAINTEXT are supported for the non-SCRAM mechanisms and the SSL security protocol is also supported, but it is not yet possible to create ACLs for the authenticated identities?",
        "createdAt" : "2021-03-01T16:54:35Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      },
      {
        "id" : "2035b6f5-0bdf-4a57-9376-3a8b565c25f4",
        "parentId" : "6a530625-4b50-4852-9109-1d050e064a94",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "We disabled the authorizer APIs though for creating and listing ACLs, etc. So I would call it unsupported.\r\n\r\nI will add a note that we support SSL, just to be clear.",
        "createdAt" : "2021-03-01T22:19:02Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "97ce1d1b5ec15f76686235d02215fce9a9d0cbd4",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +98,102 @@Finally, the following Kafka features have not yet been fully implemented:\n\n* Support for security (configuring an Authorizer, setting up SCRAM, delegation tokens, and so forth)\n* Support for transactions and exactly-once semantics\n* Support for adding partitions to existing topics"
  },
  {
    "id" : "af7d858d-7a91-46a7-966c-4dcc798425fa",
    "prId" : 10227,
    "prUrl" : "https://github.com/apache/kafka/pull/10227#pullrequestreview-600979149",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3eca684c-a6ce-46c1-8246-d13da10236b1",
        "parentId" : null,
        "authorId" : "491bcd91-bc8d-4f54-b5fd-d6c7be5e8693",
        "body" : "Here might be a good place to mention that `raft-broker.properties` and `raft-controller.properties` relate to the different `process.roles`, if Ron's earlier suggestion isn't accepted.",
        "createdAt" : "2021-03-01T17:23:23Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "491bcd91-bc8d-4f54-b5fd-d6c7be5e8693",
        "tags" : [
        ]
      }
    ],
    "commit" : "97ce1d1b5ec15f76686235d02215fce9a9d0cbd4",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +66,70 @@* If `process.roles` is set to `broker,controller`, the server acts as both a self-managed broker and a self-managd controller.\n* If `process.roles` is not set at all then we are assumed to be in ZooKeeper mode.  As mentioned earlier, you can't yet transition back and forth between ZK mode and self-managed mode without reformatting.\n\nNodes that act as both brokers and controllers are referred to as \"combined\" nodes.  The advantage of using combined nodes you will have uses fewer Java Virtual Machines (JVMs).  This will allow you to avoid some of the fixed memory overheads associated with JVMs.  The disdavantage is that the controller will be less isolated from the rest of the system.  For example, if activity on the broker causes an out of memory condition, the controller part of the server is not isolated from that OOM condition.\n"
  },
  {
    "id" : "3f00c350-59ed-4fc7-a798-034b881c4538",
    "prId" : 10227,
    "prUrl" : "https://github.com/apache/kafka/pull/10227#pullrequestreview-601223357",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dd027048-ae78-44a8-8cae-5f6c5fc8ca87",
        "parentId" : null,
        "authorId" : "491bcd91-bc8d-4f54-b5fd-d6c7be5e8693",
        "body" : "Maybe mention whether/how to report such issues?",
        "createdAt" : "2021-03-01T17:24:45Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "491bcd91-bc8d-4f54-b5fd-d6c7be5e8693",
        "tags" : [
        ]
      },
      {
        "id" : "2fd090f1-3982-413c-b295-49bd03daf7da",
        "parentId" : "dd027048-ae78-44a8-8cae-5f6c5fc8ca87",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "I'll link to CONTRIBUTING.md here",
        "createdAt" : "2021-03-01T22:25:18Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "97ce1d1b5ec15f76686235d02215fce9a9d0cbd4",
    "line" : 108,
    "diffHunk" : "@@ -1,1 +106,110 @@* Support for KIP-631 controller metrics\n\nWe've tried to make it clear when a feature is not supported in the early access release, but you may encounter some rough edges.\n\n# Debugging"
  },
  {
    "id" : "2bc4898d-7790-404e-b4cc-15031154b305",
    "prId" : 10227,
    "prUrl" : "https://github.com/apache/kafka/pull/10227#pullrequestreview-610358135",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "97d96fe9-0b46-4d4b-a3d6-2e99c419e9f4",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "It would be useful to add a couple sentences of explanation for the clusterId generation and the storage tool since these are new. To keep the instructions concise here, maybe we could refer to a separate section which has more background.",
        "createdAt" : "2021-03-09T22:12:16Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "82d668e8-eb71-4ed5-b236-e8c39b82f5da",
        "parentId" : "97d96fe9-0b46-4d4b-a3d6-2e99c419e9f4",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "Hmm, I'm not sure what else to add here.  Can you give an example?",
        "createdAt" : "2021-03-11T22:47:54Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      },
      {
        "id" : "c3ceaea8-e6ff-4216-af3b-1c4cc5d84bb5",
        "parentId" : "97d96fe9-0b46-4d4b-a3d6-2e99c419e9f4",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Why do we have this tool? Users will certainly ask that since these steps were not needed before. There are good reasons for it, so why don't we give a couple sentences of explanation?",
        "createdAt" : "2021-03-12T00:35:29Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "97ce1d1b5ec15f76686235d02215fce9a9d0cbd4",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +15,19 @@\n## Generate a cluster ID\nThe first step is to generate an ID for your new cluster, using the kafka-storage tool:\n\n~~~~"
  },
  {
    "id" : "43afa0b2-8642-46c9-9984-b547004915e3",
    "prId" : 10227,
    "prUrl" : "https://github.com/apache/kafka/pull/10227#pullrequestreview-614762439",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e5bb470e-3e37-4660-ad9c-2f383f4326e4",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I wonder if it's worth saying something about the relation between `process.roles`, `controller.quorum.voters`, and `controller.listeners`. \r\n",
        "createdAt" : "2021-03-09T22:18:33Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "cee52334-ff4d-45c4-991a-057c9043a35a",
        "parentId" : "e5bb470e-3e37-4660-ad9c-2f383f4326e4",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "Hmm, I'm not sure what to add...",
        "createdAt" : "2021-03-11T22:49:16Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      },
      {
        "id" : "d706e8a6-464b-4126-99b9-d2b62cb34178",
        "parentId" : "e5bb470e-3e37-4660-ad9c-2f383f4326e4",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I think the main thing is emphasizing that they need to be set consistently. We don't say anything about `quorum.voters` in this README currently, but it's important to understand the basics of how to configure it to run a multi-node setup.",
        "createdAt" : "2021-03-12T00:34:27Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "40270e88-066f-47ae-94fc-922d4f6360d6",
        "parentId" : "e5bb470e-3e37-4660-ad9c-2f383f4326e4",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "I added a section about `quorum.voters`",
        "createdAt" : "2021-03-17T20:37:54Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "97ce1d1b5ec15f76686235d02215fce9a9d0cbd4",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +57,61 @@Unlike in ZooKeeper-based mode, where any server can become the controller, in self-managed mode, only a small group of specially selected servers can act as controllers.  The specially selected controller servers will participate in the metadata quorum.  Each KIP-500 controller server is either active, or a hot standby for the current active controller server.\n\nTypically you will select either 3 or 5 servers for this role, depending on the size of your cluster.  Just like with ZooKeeper, you must keep a majority of the controllers alive in order to maintain availability.  So if you have 3 controllers, you can tolerate 1 failure; with 5 controllers, you can tolerate 2 failures.\n\n## Process Roles"
  },
  {
    "id" : "f912bd25-364a-4ef4-9398-15e402cc29f9",
    "prId" : 10227,
    "prUrl" : "https://github.com/apache/kafka/pull/10227#pullrequestreview-615663360",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "798596db-b6fb-4f6e-98c2-45b435bc3368",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Can you include an example of the listener configuration. Just something which emphasizes that port 9093 is defined as the controller listener. For example:\r\n```\r\nnode.id=1\r\nlisteners=CONTROLLER://controller1.example.com:9093\r\ncontroller.listener.name=CONTROLLER\r\n```",
        "createdAt" : "2021-03-18T17:13:22Z",
        "updatedAt" : "2021-03-18T17:22:29Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "97ce1d1b5ec15f76686235d02215fce9a9d0cbd4",
    "line" : 80,
    "diffHunk" : "@@ -1,1 +78,82 @@listeners=CONTROLLER://controller1.example.com:9093\ncontroller.quorum.voters=1@controller1.example.com:9093,2@controller2.example.com:9093,3@controller3.example.com:9093\n```\n\nEach broker and each controller must set `controller.quorum.voters`.  Note that the node ID supplied in the controller.quorum.voters configuration must match that supplied to the server.  So on controller1, node.id must be set to 1, and so forth.  Note that there is no requirement for controller IDs to start at 0 or 1.  However, the easiest and least confusing way to allocate node IDs is probably just to give each server a numeric ID, starting from 0."
  }
]