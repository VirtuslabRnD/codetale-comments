[
  {
    "id" : "e27bc921-8ead-4121-a237-8aaad3627176",
    "prId" : 4001,
    "prUrl" : "https://github.com/root-project/root/pull/4001#pullrequestreview-255172106",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "81c05437-722b-4b46-9417-ece02aaf5e70",
        "parentId" : null,
        "authorId" : "e4571402-a12a-4377-8cca-960e88b81e3d",
        "body" : "This can be a problem.\r\nIf there are many JSROOT images on the same HTML page, JSRootCore.js will be loaded many times.\r\nOne could use following JS code:\r\n\r\n```\r\nif (!JSROOT) {\r\n   var element = document.createElement(\"script\");\r\n   element.setAttribute(\"type\", \"text/javascript\");\r\n   element.setAttribute(\"src\", \"https://root.cern.ch/js/dev/scripts/JSRootCore.js\");\r\n   document.getElementsByTagName(\"head\")[0].appendChild(element);\r\n}\r\n```\r\n\r\n",
        "createdAt" : "2019-06-27T08:18:57Z",
        "updatedAt" : "2019-06-27T14:20:17Z",
        "lastEditedBy" : "e4571402-a12a-4377-8cca-960e88b81e3d",
        "tags" : [
        ]
      },
      {
        "id" : "126565d2-e626-470e-8fe1-0aeb6d97d2ba",
        "parentId" : "81c05437-722b-4b46-9417-ece02aaf5e70",
        "authorId" : "7b94eadb-dc83-4d04-8ff7-04ac4f7a9da7",
        "body" : "Yes I was wondering ... I am now looking at cases with several images",
        "createdAt" : "2019-06-27T08:37:19Z",
        "updatedAt" : "2019-06-27T14:20:17Z",
        "lastEditedBy" : "7b94eadb-dc83-4d04-8ff7-04ac4f7a9da7",
        "tags" : [
        ]
      },
      {
        "id" : "8d64a886-4430-439a-8c26-03b3e44e14ff",
        "parentId" : "81c05437-722b-4b46-9417-ece02aaf5e70",
        "authorId" : "e4571402-a12a-4377-8cca-960e88b81e3d",
        "body" : "Another solution - just check if JSRootCore.js script already there in HTML file. This requires to read actual file content before writing new data into it.",
        "createdAt" : "2019-06-27T08:41:33Z",
        "updatedAt" : "2019-06-27T14:20:17Z",
        "lastEditedBy" : "e4571402-a12a-4377-8cca-960e88b81e3d",
        "tags" : [
        ]
      },
      {
        "id" : "881de9fa-aef4-4617-9d21-aaf9027bf7a5",
        "parentId" : "81c05437-722b-4b46-9417-ece02aaf5e70",
        "authorId" : "7b94eadb-dc83-4d04-8ff7-04ac4f7a9da7",
        "body" : "Hello Sergey,\r\n\r\nIn case of several pictures, the code generated is the following right now:\r\n\r\n```\r\n<script type='text/javascript'>\r\nJSROOT.OpenFile(\"./ContourList.root\", function(file) {\r\n   file.ReadObject(\"pict1_ContourList\", function(obj) {JSROOT.draw(\"draw_pict1_ContourList\", obj, \"\");});\r\n   file.ReadObject(\"pict2_ContourList\", function(obj) {JSROOT.draw(\"draw_pict2_ContourList\", obj, \"\");});\r\n});\r\n</script>\r\n<center>\r\n<div id=\"draw_pict1_ContourList\" style=\"width:600px; height:600px\"></div>\r\n<div id=\"draw_pict2_ContourList\" style=\"width:600px; height:600px\"></div>\r\n</center>\r\n```",
        "createdAt" : "2019-06-27T09:03:40Z",
        "updatedAt" : "2019-06-27T14:20:17Z",
        "lastEditedBy" : "7b94eadb-dc83-4d04-8ff7-04ac4f7a9da7",
        "tags" : [
        ]
      },
      {
        "id" : "4598ed91-6c9d-4d6d-ab27-dd5fac87d6ac",
        "parentId" : "81c05437-722b-4b46-9417-ece02aaf5e70",
        "authorId" : "e4571402-a12a-4377-8cca-960e88b81e3d",
        "body" : "Yes, code is ok.\r\nReading of both objects (pict1_ContourList and pict2_ContourList) will be done in parallel.\r\nIn such case one should avoid use of sub-directories in TFile.\r\n\r\n",
        "createdAt" : "2019-06-27T09:30:57Z",
        "updatedAt" : "2019-06-27T14:20:17Z",
        "lastEditedBy" : "e4571402-a12a-4377-8cca-960e88b81e3d",
        "tags" : [
        ]
      },
      {
        "id" : "7cbb4f49-d7e8-4a90-80c0-2b9f04871c58",
        "parentId" : "81c05437-722b-4b46-9417-ece02aaf5e70",
        "authorId" : "7b94eadb-dc83-4d04-8ff7-04ac4f7a9da7",
        "body" : "They are flat files. No sub-folders.",
        "createdAt" : "2019-06-27T11:46:49Z",
        "updatedAt" : "2019-06-27T14:20:17Z",
        "lastEditedBy" : "7b94eadb-dc83-4d04-8ff7-04ac4f7a9da7",
        "tags" : [
        ]
      }
    ],
    "commit" : "5295518838bfcaa4620ba8cd92be858676215e3b",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +49,53 @@   }\n   fprintf(fh,\"</center>\\n\");\n   fprintf(fh,\"<script src=\\\"https://root.cern.ch/js/dev/scripts/JSRootCore.js\\\" type=\\\"text/javascript\\\"></script>\\n\");\n   fprintf(fh,\"<script type='text/javascript'>\\n\");\n   fprintf(fh,\"JSROOT.OpenFile(\\\"./%s.root\\\", function(file) {\\n\",IN);"
  }
]