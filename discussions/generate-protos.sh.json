[
  {
    "id" : "db466737-c9a7-43c8-b034-5297323fac08",
    "prId" : 2188,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/2188#pullrequestreview-330827245",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4d833783-3de4-4383-b18e-b59d9e59a779",
        "parentId" : null,
        "authorId" : "585a7aa0-77e3-46ce-95a0-4a8de00c6c4a",
        "body" : "do we need this `||` condition or should we just check for `3.6.1`?\r\nalso do we need to pin `protoc` to `3.6.1` in `dev-requirements.txt` file?",
        "createdAt" : "2019-12-11T18:48:13Z",
        "updatedAt" : "2019-12-11T22:44:20Z",
        "lastEditedBy" : "585a7aa0-77e3-46ce-95a0-4a8de00c6c4a",
        "tags" : [
        ]
      },
      {
        "id" : "010cd1ae-06c9-4c8f-873d-cbf6d7a527d3",
        "parentId" : "4d833783-3de4-4383-b18e-b59d9e59a779",
        "authorId" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "body" : "If we remove the `||`, then we would require contributors to update from `3.6.0` to 3.6.1`. I'd prefer not to ask people to update to `3.6.1` because it's not necessary.\r\n\r\nThe python package does not have `protoc` and I had to install it separately using `brew install protobuf@3.6`. Secondly, in `setup.py`, we already specify `protobuf>=3.6.0` which means that new contributors will be running `3.11.1`.  Therefore, I don't think we should add it to `dev-requireents.txt`\r\n\r\nFurthermore, looking at the protobuf [releases versions(https://github.com/protocolbuffers/protobuf/tags?after=v3.9.0), we only need to handle 3.6.1 and 3.6.0 right now. The latest protobuf version is 3.11.x and it does not past the test script meaning at some point, we'll need to either update the protobuf files we have or cap the version we use. ",
        "createdAt" : "2019-12-11T19:24:24Z",
        "updatedAt" : "2019-12-11T22:44:20Z",
        "lastEditedBy" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "tags" : [
        ]
      },
      {
        "id" : "aeffbd50-c923-43ba-a676-a18d7862a7f6",
        "parentId" : "4d833783-3de4-4383-b18e-b59d9e59a779",
        "authorId" : "585a7aa0-77e3-46ce-95a0-4a8de00c6c4a",
        "body" : "I see. Thanks for clarifying. In that case, can rewrite the error message to something like--\r\n\r\n```\r\nRequired libprotoc versions to be 3.6.0 or 3.6.1 (preferred).\r\n```\r\n\r\nOr something like that?",
        "createdAt" : "2019-12-11T19:34:05Z",
        "updatedAt" : "2019-12-11T22:44:20Z",
        "lastEditedBy" : "585a7aa0-77e3-46ce-95a0-4a8de00c6c4a",
        "tags" : [
        ]
      },
      {
        "id" : "783ede91-2394-40c1-a77c-de55faf1eeff",
        "parentId" : "4d833783-3de4-4383-b18e-b59d9e59a779",
        "authorId" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "body" : "Of course, that makes a lot of sense. \r\n\r\nEdit: The error was already changed to `Must have libprotoc version 3.6.1.`. Is there somewhere else I need to change the error message? I don't recognize the message format so I fear I might have missed somewhere else. \r\n\r\nEdit 2: I've updated the error message to reflect the conditional logic we require for protoc. ",
        "createdAt" : "2019-12-11T20:39:00Z",
        "updatedAt" : "2019-12-11T22:45:11Z",
        "lastEditedBy" : "dab5a163-e8a4-4ae3-a16c-0d903dcff35c",
        "tags" : [
        ]
      }
    ],
    "commit" : "ceb7fb340e4314aa829a36d3a6b7ad44093adeb9",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +3,7 @@set -ex\nPROTOC_VERSION=\"$(protoc --version)\"\nif [ \"$PROTOC_VERSION\" != \"libprotoc 3.6.0\" || \"$PROTOC_VERSION\" != \"libprotoc 3.6.1\" ]; then\n\techo \"Required libprotoc versions to be 3.6.0 or 3.6.1 (preferred).\"\n\techo \"We found: $PROTOC_VERSION\""
  }
]