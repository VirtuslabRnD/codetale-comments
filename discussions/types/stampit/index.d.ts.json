[
  {
    "id" : "f397e4f4-f74f-4305-b0d1-8c631802a567",
    "prId" : 39188,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/39188#pullrequestreview-305578304",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eb8d9242-7385-45e2-af72-809825591bbf",
        "parentId" : null,
        "authorId" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "body" : "This whole `type` is a black magic to me. :) I'll pretend it's all correct. Although, the `[]`, `bigint`, `true` look weird.",
        "createdAt" : "2019-10-23T00:10:59Z",
        "updatedAt" : "2019-10-30T11:53:13Z",
        "lastEditedBy" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "tags" : [
        ]
      },
      {
        "id" : "8f78bf05-ab37-4610-a229-8d0b222e9050",
        "parentId" : "eb8d9242-7385-45e2-af72-809825591bbf",
        "authorId" : "854ae81b-adb6-44eb-8e88-904f8ade8abb",
        "body" : "It is indeed rather black magic for it will test all cases I could think of and try to detect if and how a stamp type can be inferred: it works out of Descriptor and regular Stamp types. It worked with “extended” Stamp types as far as ì could test to (cf. the test .ts file)\r\nThe initial type test is to properly return the never type for types which would otherwise produce (wrongfully) a valid return types.\r\nThis use of TypeScript types is not typical. It attempts to cover as many uses of stamps as possible without requiring too formal type definition upfront.",
        "createdAt" : "2019-10-23T00:28:57Z",
        "updatedAt" : "2019-10-30T11:53:13Z",
        "lastEditedBy" : "854ae81b-adb6-44eb-8e88-904f8ade8abb",
        "tags" : [
        ]
      }
    ],
    "commit" : "17f2791055522a4fc26bb4bcc9fd2bae188b1617",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +34,38 @@ * @template Original The type to extract the `Stamp` type from.\n */\ntype StampType<Original> = Original extends /* disallowed types */ [] | bigint\n    ? never\n    : stampit.IsADescriptor<Original> extends true"
  },
  {
    "id" : "1f8dc3e2-db7a-455c-ae1f-7e5a9af54e63",
    "prId" : 39188,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/39188#pullrequestreview-305575705",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "212676e7-6208-4609-aa17-65bce785da6e",
        "parentId" : null,
        "authorId" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "body" : "This should be renamed to \"ExtendedDescriptor\". The actual Descriptor does not have shortcuts like \"props\", \"init\".",
        "createdAt" : "2019-10-23T00:17:41Z",
        "updatedAt" : "2019-10-30T11:53:13Z",
        "lastEditedBy" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "tags" : [
        ]
      }
    ],
    "commit" : "17f2791055522a4fc26bb4bcc9fd2bae188b1617",
    "line" : 490,
    "diffHunk" : "@@ -1,1 +224,228 @@     * @template S̤t̤a̤m̤p̤ The type of the `Stamp` (when extending a `Stamp`.)\n     */\n    interface Descriptor<Obj, S̤t̤a̤m̤p̤ extends StampSignature = Stamp<Obj>> {\n        /** A set of methods that will be added to the object's delegate prototype. */\n        methods?: MethodMap<Obj>;"
  },
  {
    "id" : "8d2ec45a-f7ee-4096-875a-9dc8581ee369",
    "prId" : 39188,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/39188#pullrequestreview-307676179",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2e7f5983-afed-4500-9fc9-6f4cbb57474d",
        "parentId" : null,
        "authorId" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "body" : "After renaming `stampit.Descriptor` to `stampit.ExtendedDescriptor` we should add (somewhere above) the `Descriptor`. It should have only these exactly 11 properties: https://github.com/stampit-org/stamp-specification#the-stamp-descriptor",
        "createdAt" : "2019-10-23T00:22:03Z",
        "updatedAt" : "2019-10-30T11:53:13Z",
        "lastEditedBy" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "tags" : [
        ]
      },
      {
        "id" : "95846cab-1226-4475-a19b-44f46c7cd3ec",
        "parentId" : "2e7f5983-afed-4500-9fc9-6f4cbb57474d",
        "authorId" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "body" : "In other words, at runtime the `MyStamp.compose.*` properties are limited to those 11. There will never be `props`, or `init`, or other shortened properties.",
        "createdAt" : "2019-10-23T00:24:00Z",
        "updatedAt" : "2019-10-30T11:53:13Z",
        "lastEditedBy" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "tags" : [
        ]
      },
      {
        "id" : "3219dca5-be1c-48ce-8548-882cf2a53cfc",
        "parentId" : "2e7f5983-afed-4500-9fc9-6f4cbb57474d",
        "authorId" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "body" : "```\r\ncompose: ComposeMethod & Descriptor;\r\n```",
        "createdAt" : "2019-10-23T00:48:09Z",
        "updatedAt" : "2019-10-30T11:53:13Z",
        "lastEditedBy" : "6e106569-d5b6-46b9-83fd-5ba49ce79255",
        "tags" : [
        ]
      },
      {
        "id" : "eba895a3-d289-4fe8-9a2c-094323a8e66e",
        "parentId" : "2e7f5983-afed-4500-9fc9-6f4cbb57474d",
        "authorId" : "854ae81b-adb6-44eb-8e88-904f8ade8abb",
        "body" : "Ok",
        "createdAt" : "2019-10-23T12:11:45Z",
        "updatedAt" : "2019-10-30T11:53:13Z",
        "lastEditedBy" : "854ae81b-adb6-44eb-8e88-904f8ade8abb",
        "tags" : [
        ]
      },
      {
        "id" : "bfbf56f1-043c-449f-9adb-614ad5366f60",
        "parentId" : "2e7f5983-afed-4500-9fc9-6f4cbb57474d",
        "authorId" : "854ae81b-adb6-44eb-8e88-904f8ade8abb",
        "body" : "Done",
        "createdAt" : "2019-10-28T07:41:07Z",
        "updatedAt" : "2019-10-30T11:53:13Z",
        "lastEditedBy" : "854ae81b-adb6-44eb-8e88-904f8ade8abb",
        "tags" : [
        ]
      }
    ],
    "commit" : "17f2791055522a4fc26bb4bcc9fd2bae188b1617",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +27,31 @@interface StampSignature {\n    (options?: PropertyMap, ...args: unknown[]): any;\n    compose: ComposeMethod & stampit.Descriptor<any, any>;\n}\n"
  }
]