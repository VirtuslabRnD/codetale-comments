[
  {
    "id" : "a1974ef2-1a67-48b5-b84b-5d0945e52a52",
    "prId" : 53120,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/53120#pullrequestreview-710324165",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c6a4a114-bb2f-4065-9222-91b33dc9ad70",
        "parentId" : null,
        "authorId" : "99c4b0bf-59e6-4636-8029-4f7ac848f874",
        "body" : "Does `await` actually tests if the function is a `Promise`? I believe it will work even if the function is not a `Promise`.\r\n\r\n[Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await)\r\n\r\n>[rv] = await expression\r\n\r\n>expression\r\nA Promise or any value to wait for.\r\n\r\n>rv\r\nReturns the fulfilled value of the promise, or the value itself if it's not a Promise.\r\n\r\nProper way to test it should be with `.then()`.",
        "createdAt" : "2021-07-19T11:11:13Z",
        "updatedAt" : "2021-07-19T11:11:53Z",
        "lastEditedBy" : "99c4b0bf-59e6-4636-8029-4f7ac848f874",
        "tags" : [
        ]
      },
      {
        "id" : "452ae40d-90ed-4249-ab51-af9448941b2e",
        "parentId" : "c6a4a114-bb2f-4065-9222-91b33dc9ad70",
        "authorId" : "059521e9-899a-4427-86c0-8029b68c6e30",
        "body" : "@henev The documentation you mentioned is for JavaScript, not for Typescript, right?\r\n\r\nThe TSLint is used for the test of the `types/chrome/test/index.ts` file. And, the value of the `await-promise` option is `true`. That is, the `await` can't be specified for non-promise values.\r\n\r\nFor example, when updating the line above to `await chrome.action.disable(0, () => {});` (there is no definition which returns `Promise` value against the method with a callback function as 2nd argument) and run the test, the following error occurs and the test is failed:\r\n\r\n```\r\nError: /home/yoichiro/projects/typescript/DefinitelyTyped/types/chrome/test/index.ts:702:5\r\nERROR: 702:5  await-promise  Invalid 'await' of a non-Promise value.\r\n```\r\n\r\nAs the result, the test code set is valid, I think.",
        "createdAt" : "2021-07-20T01:22:46Z",
        "updatedAt" : "2021-07-20T01:22:46Z",
        "lastEditedBy" : "059521e9-899a-4427-86c0-8029b68c6e30",
        "tags" : [
        ]
      },
      {
        "id" : "d92178ae-caa9-413f-81e6-23039508808a",
        "parentId" : "c6a4a114-bb2f-4065-9222-91b33dc9ad70",
        "authorId" : "99c4b0bf-59e6-4636-8029-4f7ac848f874",
        "body" : "I see. Thank you for clarification.",
        "createdAt" : "2021-07-20T08:40:15Z",
        "updatedAt" : "2021-07-20T08:40:16Z",
        "lastEditedBy" : "99c4b0bf-59e6-4636-8029-4f7ac848f874",
        "tags" : [
        ]
      }
    ],
    "commit" : "307a08629645bf45535a3a4093675dc236a42f3a",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +700,704 @@// https://developer.chrome.com/docs/extensions/reference/action/\nasync function testActionForPromise() {\n    await chrome.action.disable(0);\n    await chrome.action.enable(0);\n    await chrome.action.getBadgeBackgroundColor({});"
  }
]