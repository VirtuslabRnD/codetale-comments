[
  {
    "id" : "d79caa17-0310-40f9-92fa-99d02f1b6531",
    "prId" : 29931,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/29931#pullrequestreview-168789106",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1ce19964-b834-4697-bcdc-d69028ebaa1d",
        "parentId" : null,
        "authorId" : "c8378125-845c-43fc-bdae-acdd3587412a",
        "body" : "```\r\n    export interface Helpers {\r\n        withParams(params: Params, rule: CustomRule): ValidationRule;\r\n        req(field: string): ValidationRule;\r\n        ref(reference: any, vm: Vue, parentVm: Vue): any;\r\n        len(value: any): number;\r\n        regex(type: any, expr: RegExp): ValidationRule;\r\n    }\r\n```",
        "createdAt" : "2018-10-26T11:58:22Z",
        "updatedAt" : "2018-11-08T19:35:11Z",
        "lastEditedBy" : "c8378125-845c-43fc-bdae-acdd3587412a",
        "tags" : [
        ]
      }
    ],
    "commit" : "c1b9499626e072b4986b82231d936c99b6ebe487",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +21,25 @@export type CustomRule = (value: any, parentVm?: Vue) => boolean\n\nexport interface Helpers {\n    withParams(params: Params, rule: CustomRule): ValidationRule\n    req(value: any): ValidationRule"
  },
  {
    "id" : "5f67e715-4c4e-4547-95f3-f97b9a7fef7d",
    "prId" : 30832,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/30832#pullrequestreview-185341995",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bfe83eaf-4f66-440f-a2a5-c93053cd0865",
        "parentId" : null,
        "authorId" : "f3c904f3-4196-4aa7-9c48-82176e30f979",
        "body" : "what's wrong with assuming type Vue on parentVm?",
        "createdAt" : "2018-12-14T17:42:43Z",
        "updatedAt" : "2018-12-14T17:48:19Z",
        "lastEditedBy" : "f3c904f3-4196-4aa7-9c48-82176e30f979",
        "tags" : [
        ]
      },
      {
        "id" : "30c5ce97-e38c-4689-93dd-e5231a075565",
        "parentId" : "bfe83eaf-4f66-440f-a2a5-c93053cd0865",
        "authorId" : "18335ada-de98-4bf0-ac2b-272821cf5c5c",
        "body" : "nested elements don't have a parent of Vue.\r\n\r\nExample:\r\n\r\n```javascript\r\ninterface AForm {\r\n  nested: {\r\n    deeper: string;\r\n  };\r\n}\r\n\r\n@Component({\r\n  validations: {\r\n    form: {\r\n      nested: {\r\n        required\r\n      }\r\n})\r\nexport class SomeComponent extends Vue {\r\n  form: AForm = {\r\n    nested: {\r\n      deeper: ''\r\n    }\r\n  };\r\n}\r\n```\r\nSo Headers, the parent of`form` is in fact Vue, but the parent of`deeper` is actually `AForm['nested']` type, note Vue.  Even `nested` has a parent type of `AForm` not `Vue`",
        "createdAt" : "2018-12-15T04:17:17Z",
        "updatedAt" : "2018-12-15T04:17:27Z",
        "lastEditedBy" : "18335ada-de98-4bf0-ac2b-272821cf5c5c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c962041696c4be7f3daeaa95c03db99e0a57ac4e",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +19,23 @@}\n\nexport type CustomRule = (value: any, parentVm?: any) => boolean\n\nexport interface Helpers {"
  },
  {
    "id" : "e105edb9-1381-44bd-b0e2-9ef5c72512b0",
    "prId" : 30832,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/30832#pullrequestreview-185342010",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bb2e1a91-c7ad-4c08-b9a1-1135d4933bdc",
        "parentId" : null,
        "authorId" : "f3c904f3-4196-4aa7-9c48-82176e30f979",
        "body" : "for aliasing?",
        "createdAt" : "2018-12-14T17:43:31Z",
        "updatedAt" : "2018-12-14T17:48:19Z",
        "lastEditedBy" : "f3c904f3-4196-4aa7-9c48-82176e30f979",
        "tags" : [
        ]
      },
      {
        "id" : "d1464361-2fa0-4bef-8db8-d496e7450e06",
        "parentId" : "bb2e1a91-c7ad-4c08-b9a1-1135d4933bdc",
        "authorId" : "18335ada-de98-4bf0-ac2b-272821cf5c5c",
        "body" : "To match either rule.",
        "createdAt" : "2018-12-15T04:17:59Z",
        "updatedAt" : "2018-12-15T04:18:00Z",
        "lastEditedBy" : "18335ada-de98-4bf0-ac2b-272821cf5c5c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c962041696c4be7f3daeaa95c03db99e0a57ac4e",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +22,26 @@\nexport interface Helpers {\n    withParams(params: Params, rule: CustomRule | ValidationRule): ValidationRule\n    req(value: any): ValidationRule\n    ref(reference: string | ((vm: any, parentVm?: Vue) => any), vm: any, parentVm?: Vue): any"
  },
  {
    "id" : "fae0fbfd-5ecf-41a9-a9c5-e3790706f376",
    "prId" : 30832,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/30832#pullrequestreview-185365980",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bb9e69f5-8211-40a3-8d00-a4a917098347",
        "parentId" : null,
        "authorId" : "f3c904f3-4196-4aa7-9c48-82176e30f979",
        "body" : "would it make sense to have something like \"CustomRule extends ValidationRule\"?",
        "createdAt" : "2018-12-14T17:45:22Z",
        "updatedAt" : "2018-12-14T17:48:19Z",
        "lastEditedBy" : "f3c904f3-4196-4aa7-9c48-82176e30f979",
        "tags" : [
        ]
      },
      {
        "id" : "b3d1e22a-d9fd-4fdf-86af-05819c409177",
        "parentId" : "bb9e69f5-8211-40a3-8d00-a4a917098347",
        "authorId" : "18335ada-de98-4bf0-ac2b-272821cf5c5c",
        "body" : "hmm it might, let me dig into the package src and see how if that works (but if memory serves, it should).",
        "createdAt" : "2018-12-15T04:19:02Z",
        "updatedAt" : "2018-12-15T04:19:02Z",
        "lastEditedBy" : "18335ada-de98-4bf0-ac2b-272821cf5c5c",
        "tags" : [
        ]
      },
      {
        "id" : "ecf88ac5-e67c-43f3-8610-8daa16ef0f51",
        "parentId" : "bb9e69f5-8211-40a3-8d00-a4a917098347",
        "authorId" : "f3c904f3-4196-4aa7-9c48-82176e30f979",
        "body" : "i tried but lambdas as CustomRule won't easily fit ValidationRule with the two extra methods.\r\n\r\nEven reversing that \"ValidationRule extends CustomRule\" didn't bring quick-wins.\r\n\r\nI guess your approach is good and pragmatic.",
        "createdAt" : "2018-12-15T20:23:06Z",
        "updatedAt" : "2018-12-15T20:23:06Z",
        "lastEditedBy" : "f3c904f3-4196-4aa7-9c48-82176e30f979",
        "tags" : [
        ]
      }
    ],
    "commit" : "c962041696c4be7f3daeaa95c03db99e0a57ac4e",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +50,54 @@export function sameAs(field: string | ((vm: any, parentVm?: Vue) => any)): ValidationRule\nexport function url(): ValidationRule\nexport function not(validator: ValidationRule | CustomRule): ValidationRule\nexport function or(...validators: Array<ValidationRule | CustomRule>): ValidationRule\nexport function and(...validators: Array<ValidationRule | CustomRule>): ValidationRule"
  }
]