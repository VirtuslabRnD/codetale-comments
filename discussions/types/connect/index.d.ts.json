[
  {
    "id" : "dbfd98cd-4077-4b9f-93f6-3e16aad597c6",
    "prId" : 24883,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/24883#pullrequestreview-110934133",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "defa7a8e-dca5-408f-a780-ef1c1c39cfb8",
        "parentId" : null,
        "authorId" : "01e461e7-0879-4481-94a6-957ca6878bad",
        "body" : "isn't error `null | Error`? ",
        "createdAt" : "2018-04-10T17:19:20Z",
        "updatedAt" : "2018-04-10T17:19:20Z",
        "lastEditedBy" : "01e461e7-0879-4481-94a6-957ca6878bad",
        "tags" : [
        ]
      },
      {
        "id" : "7254979a-2107-4f20-a1c2-083ebe58a6e4",
        "parentId" : "defa7a8e-dca5-408f-a780-ef1c1c39cfb8",
        "authorId" : "ecc98ad2-3dc1-4194-b40d-cea0e69576ec",
        "body" : "All of these are valid in Connect:\r\n\r\n```javascript\r\nnext();\r\nnext(null);\r\nnext(new Error(\"Something bad happened!\"));\r\nnext(404);\r\nnext(true);\r\n```",
        "createdAt" : "2018-04-10T17:23:25Z",
        "updatedAt" : "2018-04-10T17:23:25Z",
        "lastEditedBy" : "ecc98ad2-3dc1-4194-b40d-cea0e69576ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "51a4a425b3dd42f4a0b0418caedf3781a8de9141",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +19,23 @@    export type ServerHandle = HandleFunction | http.Server;\n\n    type NextFunction = (err?: any) => void;\n\n    export type SimpleHandleFunction = (req: http.IncomingMessage, res: http.ServerResponse) => void;"
  },
  {
    "id" : "533eeb33-00d0-462d-ae7f-455e5270fe95",
    "prId" : 24883,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/24883#pullrequestreview-315861256",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5e66d88a-9c61-4d00-9a6b-d9d6ef5ce71a",
        "parentId" : null,
        "authorId" : "7611f720-a8bd-4754-ac41-737a6c765511",
        "body" : "@EvanHahn I think that `req` in the callbacks should use a subtype of `http.IncomingMessage` which also has `req.originalUrl: string`.\r\n> In order to make middleware easier to write to be agnostic of the route, when the fn is invoked, the req.url will be altered to remove the route part (and the original will be available as req.originalUrl). For example, if fn is used at the route /foo, the request for /foo/bar will invoke fn with req.url === '/bar' and req.originalUrl === '/foo/bar'.\r\n>-- https://www.npmjs.com/package/connect#appuseroute-fn",
        "createdAt" : "2019-11-12T20:27:14Z",
        "updatedAt" : "2019-11-12T20:27:14Z",
        "lastEditedBy" : "7611f720-a8bd-4754-ac41-737a6c765511",
        "tags" : [
        ]
      },
      {
        "id" : "733c3bad-8a63-4332-9576-28f2a7e23543",
        "parentId" : "5e66d88a-9c61-4d00-9a6b-d9d6ef5ce71a",
        "authorId" : "ecc98ad2-3dc1-4194-b40d-cea0e69576ec",
        "body" : "That looks right to me. Would you be able to make a pull request? I don't think I'll have time, but could review it.",
        "createdAt" : "2019-11-12T21:20:41Z",
        "updatedAt" : "2019-11-12T21:20:41Z",
        "lastEditedBy" : "ecc98ad2-3dc1-4194-b40d-cea0e69576ec",
        "tags" : [
        ]
      },
      {
        "id" : "1f169c73-e92b-4569-b790-12c651a8e7f0",
        "parentId" : "5e66d88a-9c61-4d00-9a6b-d9d6ef5ce71a",
        "authorId" : "7611f720-a8bd-4754-ac41-737a6c765511",
        "body" : "I've never done pull requests before... But I'll try to do it later.",
        "createdAt" : "2019-11-12T21:27:51Z",
        "updatedAt" : "2019-11-12T21:27:51Z",
        "lastEditedBy" : "7611f720-a8bd-4754-ac41-737a6c765511",
        "tags" : [
        ]
      },
      {
        "id" : "7af10871-784a-47cc-9c8c-47d3e4446471",
        "parentId" : "5e66d88a-9c61-4d00-9a6b-d9d6ef5ce71a",
        "authorId" : "ecc98ad2-3dc1-4194-b40d-cea0e69576ec",
        "body" : "Feel free to email me at <me@evanhahn.com> if I can help!",
        "createdAt" : "2019-11-12T21:37:42Z",
        "updatedAt" : "2019-11-12T21:37:43Z",
        "lastEditedBy" : "ecc98ad2-3dc1-4194-b40d-cea0e69576ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "51a4a425b3dd42f4a0b0418caedf3781a8de9141",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +24,28 @@    export type NextHandleFunction = (req: http.IncomingMessage, res: http.ServerResponse, next: NextFunction) => void;\n    export type ErrorHandleFunction = (err: any, req: http.IncomingMessage, res: http.ServerResponse, next: NextFunction) => void;\n    export type HandleFunction = SimpleHandleFunction | NextHandleFunction | ErrorHandleFunction;\n\n    export interface ServerStackItem {"
  },
  {
    "id" : "c13efb54-1404-4cf9-9798-ad773b11ffae",
    "prId" : 40776,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/40776#pullrequestreview-327890978",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a0ca2d68-6450-4d5a-89f4-803b7aae970e",
        "parentId" : null,
        "authorId" : "ecc98ad2-3dc1-4194-b40d-cea0e69576ec",
        "body" : "I'm not a TypeScript expert. What does this line do?",
        "createdAt" : "2019-12-05T21:43:28Z",
        "updatedAt" : "2019-12-05T21:43:28Z",
        "lastEditedBy" : "ecc98ad2-3dc1-4194-b40d-cea0e69576ec",
        "tags" : [
        ]
      },
      {
        "id" : "22d283d9-a5d5-430b-a966-d4613975bfb6",
        "parentId" : "a0ca2d68-6450-4d5a-89f4-803b7aae970e",
        "authorId" : "2a7af87c-f584-490a-a0b8-7a22b562b147",
        "body" : "`http.IncomingMessage[\"url\"]` is a reference to the type of the `url` property in `http.IncomingMessage`, so it's setting the type of `originalUrl` to be the same as the type of `url`. It's called lookup types, [documented here](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types).",
        "createdAt" : "2019-12-05T22:19:21Z",
        "updatedAt" : "2019-12-05T22:19:21Z",
        "lastEditedBy" : "2a7af87c-f584-490a-a0b8-7a22b562b147",
        "tags" : [
        ]
      }
    ],
    "commit" : "fe6e40c554270a2274105ab70c3e82cff0551eed",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +20,24 @@\n    export class IncomingMessage extends http.IncomingMessage {\n        originalUrl?: http.IncomingMessage[\"url\"];\n    }\n"
  },
  {
    "id" : "c8c274a0-e4a6-48e1-87b9-51ca19937218",
    "prId" : 40776,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/40776#pullrequestreview-333391317",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5284206b-6275-4347-ab6a-e5eeb15303db",
        "parentId" : null,
        "authorId" : "9b91c8df-b301-4c41-a808-48857c9b2297",
        "body" : "This should be \"implements\" as http.IncomingMessage is an interface.\r\n\r\nMy code will no longer compile in typescript 3.7.2 because of this issue.\r\n\r\nFull error is \"node_modules/@types/connect/index.d.ts(21,42): error TS2689: Cannot extend an in\r\nterface 'http.IncomingMessage'. Did you mean 'implements'?\"\r\n\r\nPlease can we fix this ASAP.",
        "createdAt" : "2019-12-17T14:28:18Z",
        "updatedAt" : "2019-12-17T14:28:18Z",
        "lastEditedBy" : "9b91c8df-b301-4c41-a808-48857c9b2297",
        "tags" : [
        ]
      },
      {
        "id" : "afc36946-0aad-469e-a19e-617fcf645d52",
        "parentId" : "5284206b-6275-4347-ab6a-e5eeb15303db",
        "authorId" : "2a7af87c-f584-490a-a0b8-7a22b562b147",
        "body" : "According to [the types in this repo](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/node/http.d.ts#L269), `http.IncomingMessage` is a class. Where are you getting your types from?",
        "createdAt" : "2019-12-17T15:29:42Z",
        "updatedAt" : "2019-12-17T15:29:43Z",
        "lastEditedBy" : "2a7af87c-f584-490a-a0b8-7a22b562b147",
        "tags" : [
        ]
      },
      {
        "id" : "8b568113-670e-4997-8c04-992d81cf7248",
        "parentId" : "5284206b-6275-4347-ab6a-e5eeb15303db",
        "authorId" : "9b91c8df-b301-4c41-a808-48857c9b2297",
        "body" : "Ah thanks for that. Turns out we were using an older version of node @types where the `http.IncomingMessage` was an interface. Thanks for your prompt response",
        "createdAt" : "2019-12-17T16:06:45Z",
        "updatedAt" : "2019-12-17T16:06:46Z",
        "lastEditedBy" : "9b91c8df-b301-4c41-a808-48857c9b2297",
        "tags" : [
        ]
      }
    ],
    "commit" : "fe6e40c554270a2274105ab70c3e82cff0551eed",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +19,23 @@    export type ServerHandle = HandleFunction | http.Server;\n\n    export class IncomingMessage extends http.IncomingMessage {\n        originalUrl?: http.IncomingMessage[\"url\"];\n    }"
  }
]