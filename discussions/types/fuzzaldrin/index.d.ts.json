[
  {
    "id" : "d892535c-af03-490f-ac3c-d35584d28c93",
    "prId" : 21738,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/21738#pullrequestreview-80659420",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a8f047a1-05b3-4285-88fe-c9ec41d99b61",
        "parentId" : null,
        "authorId" : "147f497a-6052-4bc1-8bb5-b50a7f04f455",
        "body" : "The intention with the `string & T[K]` part is to check that `T[K]` is a string (or subtype of string). Otherwise it should resolve to `never` and the call to filter() will fail to typecheck.",
        "createdAt" : "2017-11-28T19:25:45Z",
        "updatedAt" : "2017-11-28T19:25:45Z",
        "lastEditedBy" : "147f497a-6052-4bc1-8bb5-b50a7f04f455",
        "tags" : [
        ]
      },
      {
        "id" : "65d0e556-509f-4a40-bd80-95b12c85ae48",
        "parentId" : "a8f047a1-05b3-4285-88fe-c9ec41d99b61",
        "authorId" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "body" : "`keyof T` is always a subtype of `string`, not sure what this is doing here really, do you have an example use case that needs this?",
        "createdAt" : "2017-12-01T22:13:58Z",
        "updatedAt" : "2017-12-01T22:13:58Z",
        "lastEditedBy" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "tags" : [
        ]
      },
      {
        "id" : "b0a0b782-42ac-43a9-9476-4778480daf36",
        "parentId" : "a8f047a1-05b3-4285-88fe-c9ec41d99b61",
        "authorId" : "147f497a-6052-4bc1-8bb5-b50a7f04f455",
        "body" : "`keyof T` is always a string, `T[keyof T]` is not.\r\n\r\nThe use case is to give an error for this invalid code:\r\n\r\n```typescript\r\nimport { filter } from 'fuzzaldrin';\r\nlet objects: Array<{name: string, speed: number}> = [];\r\n\r\nfilter(objects, 'foo', {key: 'speed'});\r\n```\r\n\r\nThe mistake is providing the key `'speed'` which points to a number, but the best way I could find to make it fail was to constrain on the `query` parameter.",
        "createdAt" : "2017-12-01T23:19:56Z",
        "updatedAt" : "2017-12-01T23:19:56Z",
        "lastEditedBy" : "147f497a-6052-4bc1-8bb5-b50a7f04f455",
        "tags" : [
        ]
      },
      {
        "id" : "b3a58552-eae4-4ac2-a295-ca6450ca7349",
        "parentId" : "a8f047a1-05b3-4285-88fe-c9ec41d99b61",
        "authorId" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "body" : "so is `filter(objects, 2, {key: 'speed'});` legal or not?",
        "createdAt" : "2017-12-02T00:19:23Z",
        "updatedAt" : "2017-12-02T00:19:23Z",
        "lastEditedBy" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "tags" : [
        ]
      },
      {
        "id" : "cf2000ca-b0c2-4842-a44a-1fed602ec296",
        "parentId" : "a8f047a1-05b3-4285-88fe-c9ec41d99b61",
        "authorId" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "body" : "nevermind, tried it, it is not legal. now i understand. thanks.",
        "createdAt" : "2017-12-02T00:58:22Z",
        "updatedAt" : "2017-12-02T00:58:22Z",
        "lastEditedBy" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "tags" : [
        ]
      }
    ],
    "commit" : "4151aecbe0d86a5fd99eac0bc75f77ea862e4159",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +6,10 @@\nexport function filter(candidates: string[], query: string, options?: {maxResults?: number}): string[];\nexport function filter<T, K extends keyof T>(candidates: T[], query: string & T[K], options: {key: K, maxResults?: number}): T[];\nexport function match(string: string, query: string): any;\nexport function score(string: string, query: string): number;"
  }
]