[
  {
    "id" : "77251bed-1c5e-4242-9525-d5980d617d8c",
    "prId" : 54950,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/54950#pullrequestreview-723232255",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b158cf87-aec9-466a-abdf-c531a33747e2",
        "parentId" : null,
        "authorId" : "3b25cd4e-974d-48b3-ba06-60921618ebf6",
        "body" : "This change is not related to the subject of this PR and should be done in a separate PR.",
        "createdAt" : "2021-08-05T07:57:54Z",
        "updatedAt" : "2021-08-05T07:59:11Z",
        "lastEditedBy" : "3b25cd4e-974d-48b3-ba06-60921618ebf6",
        "tags" : [
        ]
      },
      {
        "id" : "2e627867-f1f3-44f5-b550-28cca6d1af44",
        "parentId" : "b158cf87-aec9-466a-abdf-c531a33747e2",
        "authorId" : "67195de8-a220-482d-b913-a938505457ce",
        "body" : "I understand why you think so, but it really is.\r\n\r\nDue to a bug in TypeScript the type of an assertion function or object containing an assertion function must be explicitly types. It doesnâ€™t work if the type is inferred from `Koa.Middleware` or `new Koa().use()`.\r\n\r\n```ts\r\napp.use((ctx) => {\r\n  // The result is used, so this is fine\r\n  const a = ctx.throw();\r\n\r\n  // This is not an assertion, so this is fine\r\n  ctx.toString();\r\n\r\n  // This only works if ctx is explicitly typed\r\n  // Assertions require every name in the call target to be declared with an explicit type annotation. ts(2775)\r\n  ctx.throw();\r\n});\r\n```\r\n\r\nRelated bugs: [microsoft/TypeScript#34596](https://github.com/microsoft/TypeScript/issues/34596) [microsoft/TypeScript#36931](https://github.com/microsoft/TypeScript/issues/36931)\r\n\r\nThis is why I initially gave up on #52449",
        "createdAt" : "2021-08-05T09:45:53Z",
        "updatedAt" : "2021-08-05T09:46:28Z",
        "lastEditedBy" : "67195de8-a220-482d-b913-a938505457ce",
        "tags" : [
        ]
      },
      {
        "id" : "1ba46bb8-3d6a-4e37-b74d-14dee57235f4",
        "parentId" : "b158cf87-aec9-466a-abdf-c531a33747e2",
        "authorId" : "3b25cd4e-974d-48b3-ba06-60921618ebf6",
        "body" : "Got it! Thanks for in-depth explanation...",
        "createdAt" : "2021-08-05T11:28:07Z",
        "updatedAt" : "2021-08-05T11:28:24Z",
        "lastEditedBy" : "3b25cd4e-974d-48b3-ba06-60921618ebf6",
        "tags" : [
        ]
      }
    ],
    "commit" : "65ed9bcc533769d8189c19b1e869726782403fbe",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +34,38 @@});\n\napp.use((ctx: Koa.Context, next) => {\n    const start: any = new Date();\n    return next().then(() => {"
  }
]