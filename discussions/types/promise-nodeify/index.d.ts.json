[
  {
    "id" : "68d82c41-1bc2-4db9-a8fa-e12eafd2b7b5",
    "prId" : 36091,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/36091#pullrequestreview-250800545",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ac56b771-b6ae-4d89-9a53-af8e3df89454",
        "parentId" : null,
        "authorId" : "0762ec2f-c2e9-4296-915b-f2139e71b5ad",
        "body" : "This doesn't seem correct. The usage in the documentation is this:\r\n```ts\r\nPromise.prototype.nodeify = require('promise-nodify').nodeifyThis;\r\n...\r\npromise.nodeify(callback);\r\n```\r\n\r\nI think the definition you want is:\r\n```ts\r\nnodeifyThis<T>(\r\n  this: Promise<T>,\r\n  callback: (error: Error | undefined, value: T | undefined) => any\r\n): Promise<T> | undefined;\r\n```",
        "createdAt" : "2019-06-12T01:00:18Z",
        "updatedAt" : "2019-06-12T16:45:51Z",
        "lastEditedBy" : "0762ec2f-c2e9-4296-915b-f2139e71b5ad",
        "tags" : [
        ]
      },
      {
        "id" : "9b8a13bb-dd28-48ee-bf28-64e9a15d3b65",
        "parentId" : "ac56b771-b6ae-4d89-9a53-af8e3df89454",
        "authorId" : "250bf5ba-6ada-4f6b-a86c-e2314e9778d0",
        "body" : "Good catch. It does use `this` but it's not in the method signature. Will update with correct signature.",
        "createdAt" : "2019-06-12T16:43:59Z",
        "updatedAt" : "2019-06-12T16:45:51Z",
        "lastEditedBy" : "250bf5ba-6ada-4f6b-a86c-e2314e9778d0",
        "tags" : [
        ]
      },
      {
        "id" : "ecddf84d-d9c8-49db-a5c0-a160957e672e",
        "parentId" : "ac56b771-b6ae-4d89-9a53-af8e3df89454",
        "authorId" : "0762ec2f-c2e9-4296-915b-f2139e71b5ad",
        "body" : "Still not correct. As I mentioned, `nodifyThis<T>` requires a `this`, so it would be better to change it to the following:\r\n```suggestion\r\n    nodeifyThis<T>(\r\n      this: Promise<T>,\r\n```\r\n\r\nTypeScript uses a `this` parameter to denote the required `this` type for a function. Otherwise, it seems like `nodifyThis` can be called on its own with just a callback and produce a `Promise`, which is incorrect.",
        "createdAt" : "2019-06-17T23:51:52Z",
        "updatedAt" : "2019-06-17T23:51:53Z",
        "lastEditedBy" : "0762ec2f-c2e9-4296-915b-f2139e71b5ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "94fd2f50716638757f0713cc891e0f4f02caea97",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +17,21 @@    ): Promise<T> | undefined;\n\n    nodeifyThis<T>(\n        callback: (error: Error | undefined, value: T | undefined) => any\n    ): Promise<T> | undefined;"
  }
]