[
  {
    "id" : "220f74fc-b8ba-462e-9e84-a16108d72e6e",
    "prId" : 40198,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/40198#pullrequestreview-313187328",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "05630ffd-1394-48db-936f-5347411e32c4",
        "parentId" : null,
        "authorId" : "cfaeb099-5878-439d-ad44-1c6aab6a1569",
        "body" : "```suggestion\r\nhasRef(): boolean;\r\nclose(): void\r\nref(): void;\r\nunref(): void;\r\n```\r\n\r\n1) Could you also add required tests?\r\n2) If you use didn't migrate from v8/v10 to v12, then it's good idea to add Pipe interface to https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/node/v10/stream.d.ts",
        "createdAt" : "2019-11-07T08:57:04Z",
        "updatedAt" : "2019-11-07T23:01:22Z",
        "lastEditedBy" : "cfaeb099-5878-439d-ad44-1c6aab6a1569",
        "tags" : [
        ]
      }
    ],
    "commit" : "27f5537e66ea3bec4336f444c2aea45a35c8991f",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +312,316 @@            hasRef(): boolean;\n            ref(): void;\n            unref(): void;\n        }\n    }"
  },
  {
    "id" : "4228fc31-7aeb-43cc-8f9f-1d840aeab3f8",
    "prId" : 40198,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/40198#pullrequestreview-314335050",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9a132f74-b09a-473a-9e46-757c0d03a98f",
        "parentId" : null,
        "authorId" : "e72002e7-e411-40da-ac47-9c0e8d147cda",
        "body" : "I think `ref()` and `unref()` usually return `this`.\r\nNot sure if all variants of Pipes/Handles used in child process use case actually have a `close()` API and I'm even not sure if it is a good idea to add them here as NodeJs doc tells `Accessing the IPC channel fd in any way other than process.send() or using the IPC channel with a child process that is not a Node.js instance is not supported.` (see [doc](https://nodejs.org/dist/latest-v13.x/docs/api/child_process.html#child_process_options_stdio) point 2).\r\nIn spawned process there is `process.disconnect()` to close `process.channel` (see [docs](https://nodejs.org/dist/latest-v13.x/docs/api/process.html#process_process_disconnect)) but it seems there is no `disconnect` on parent side.",
        "createdAt" : "2019-11-08T15:51:13Z",
        "updatedAt" : "2019-11-08T15:51:13Z",
        "lastEditedBy" : "e72002e7-e411-40da-ac47-9c0e8d147cda",
        "tags" : [
        ]
      },
      {
        "id" : "67f4eb1f-73d0-4037-a2d5-21909c1e7256",
        "parentId" : "9a132f74-b09a-473a-9e46-757c0d03a98f",
        "authorId" : "1ddcab08-78bb-4ea8-898a-f6515cb8e3dd",
        "body" : "> I think `ref()` and `unref()` usually return `this`.\r\n\r\nIn the case of this `Pipe` type they don't seem to.\r\n\r\n> Accessing the IPC channel fd in any way other than ...\r\n\r\nI don't think this applies because none of these method return the `fd`.",
        "createdAt" : "2019-11-08T16:16:50Z",
        "updatedAt" : "2019-11-08T16:16:50Z",
        "lastEditedBy" : "1ddcab08-78bb-4ea8-898a-f6515cb8e3dd",
        "tags" : [
        ]
      },
      {
        "id" : "d674db22-2881-455b-9422-0c1f4161f0ef",
        "parentId" : "9a132f74-b09a-473a-9e46-757c0d03a98f",
        "authorId" : "e72002e7-e411-40da-ac47-9c0e8d147cda",
        "body" : "well, they don't return the `fd` but I'm quite sure `close()` interacts with it.\r\n\r\nAnyhow, I assume you use this in your app and it works there so it should be fine.",
        "createdAt" : "2019-11-08T17:02:22Z",
        "updatedAt" : "2019-11-08T17:02:22Z",
        "lastEditedBy" : "e72002e7-e411-40da-ac47-9c0e8d147cda",
        "tags" : [
        ]
      }
    ],
    "commit" : "27f5537e66ea3bec4336f444c2aea45a35c8991f",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +312,316 @@            hasRef(): boolean;\n            ref(): void;\n            unref(): void;\n        }\n    }"
  },
  {
    "id" : "cf0bb0bc-c8b4-41e6-aa5c-b7857d5fb645",
    "prId" : 41353,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/41353#pullrequestreview-347252176",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c34ed795-7253-440a-b77d-d1ee7b77fc5b",
        "parentId" : null,
        "authorId" : "e72002e7-e411-40da-ac47-9c0e8d147cda",
        "body" : "I don't agree with this constructor of the legacy `Stream`. According to [code](https://github.com/nodejs/node/blob/1a552f614b4ec2b9faf0bf932ad4e6ef4fdcaf01/lib/internal/streams/legacy.js#L9-L11) options are just forwarded to `EventEmitter`. ",
        "createdAt" : "2020-01-15T19:08:22Z",
        "updatedAt" : "2020-01-21T17:40:40Z",
        "lastEditedBy" : "e72002e7-e411-40da-ac47-9c0e8d147cda",
        "tags" : [
        ]
      },
      {
        "id" : "8d6fda23-30cc-41fe-b27f-3d9ccadf2293",
        "parentId" : "c34ed795-7253-440a-b77d-d1ee7b77fc5b",
        "authorId" : "4316e44d-461c-4e33-8f9e-87e705b6e3cc",
        "body" : "This seems in conflict with `readable-stream` which is kind of annoying.",
        "createdAt" : "2020-01-15T20:03:50Z",
        "updatedAt" : "2020-01-21T17:40:40Z",
        "lastEditedBy" : "4316e44d-461c-4e33-8f9e-87e705b6e3cc",
        "tags" : [
        ]
      },
      {
        "id" : "e662b380-de90-4b2b-a0f7-b90d487fb99f",
        "parentId" : "c34ed795-7253-440a-b77d-d1ee7b77fc5b",
        "authorId" : "e72002e7-e411-40da-ac47-9c0e8d147cda",
        "body" : "ok, seems to be no easy workaround.",
        "createdAt" : "2020-01-23T12:15:28Z",
        "updatedAt" : "2020-01-23T12:15:28Z",
        "lastEditedBy" : "e72002e7-e411-40da-ac47-9c0e8d147cda",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f18add8a919c9f4987d733c44c3e68cbd5b5dc4",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +8,12 @@    namespace internal {\n        class Stream extends internal {\n            constructor(opts?: ReadableOptions);\n        }\n"
  }
]