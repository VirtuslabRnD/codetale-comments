[
  {
    "id" : "35b8589e-247c-4c98-8b9d-a5acf1e6bda5",
    "prId" : 49596,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/49596#pullrequestreview-534251163",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a0b099b-b000-4b07-aaa0-6a1043b870de",
        "parentId" : null,
        "authorId" : "df5e83b2-1a47-4d86-a942-0f9765170624",
        "body" : "I love it! I think you could extend each generic type: `TProfile` --> `TProfile extends Profile` ([source](https://next-auth.js.org/schemas/adapters#custom-models))",
        "createdAt" : "2020-11-16T14:07:02Z",
        "updatedAt" : "2020-11-17T20:13:46Z",
        "lastEditedBy" : "df5e83b2-1a47-4d86-a942-0f9765170624",
        "tags" : [
        ]
      },
      {
        "id" : "17a73043-bffa-4ccf-a463-5ebaa1d5eab7",
        "parentId" : "5a0b099b-b000-4b07-aaa0-6a1043b870de",
        "authorId" : "7b601f89-43e3-4bbd-a60e-067581d15f93",
        "body" : "Sounds good! I left `TUser` unconstrained since it seemed like that object shape might be a bit more fluid. If you would prefer the constraint there, too, let me know and I can add it. ",
        "createdAt" : "2020-11-16T16:51:10Z",
        "updatedAt" : "2020-11-17T20:13:46Z",
        "lastEditedBy" : "7b601f89-43e3-4bbd-a60e-067581d15f93",
        "tags" : [
        ]
      },
      {
        "id" : "b3da58bf-2b8c-4a3e-b741-a46ce274e882",
        "parentId" : "5a0b099b-b000-4b07-aaa0-6a1043b870de",
        "authorId" : "df5e83b2-1a47-4d86-a942-0f9765170624",
        "body" : "Hmm... maybe `TUser` should extend [this](https://github.com/nextauthjs/next-auth/blob/main/src/adapters/typeorm/models/user.js) and `TProfile` should be `any` by default.\r\n\r\nMy reasoning is that `TUser` may be used by next-auth in some way, where `TProfile` is only used to create a user. You can give `createUser` the data you want/need, but the user created _must_ extend `User`... what do you think?",
        "createdAt" : "2020-11-16T17:05:56Z",
        "updatedAt" : "2020-11-17T20:13:46Z",
        "lastEditedBy" : "df5e83b2-1a47-4d86-a942-0f9765170624",
        "tags" : [
        ]
      },
      {
        "id" : "cce5922c-3a13-4ab8-8da4-b99d465ffb1f",
        "parentId" : "5a0b099b-b000-4b07-aaa0-6a1043b870de",
        "authorId" : "7b601f89-43e3-4bbd-a60e-067581d15f93",
        "body" : "Looking through all of the providers, I think the following should be a good base for `Profile`:\r\n```ts\r\nexport interface Profile {\r\n    id: string;\r\n    name: string;\r\n    email: string | null;\r\n    image?: string | null;\r\n}\r\n```\r\n\r\nThere's a `User` interface already defined that I could have the generic type extend: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/next-auth/index.d.ts#L96-L100\r\n\r\nThat sound good to you?",
        "createdAt" : "2020-11-16T17:31:22Z",
        "updatedAt" : "2020-11-17T20:13:46Z",
        "lastEditedBy" : "7b601f89-43e3-4bbd-a60e-067581d15f93",
        "tags" : [
        ]
      },
      {
        "id" : "51b76a94-0e94-44f8-a923-32f7c6fa64ff",
        "parentId" : "5a0b099b-b000-4b07-aaa0-6a1043b870de",
        "authorId" : "7b601f89-43e3-4bbd-a60e-067581d15f93",
        "body" : "But then I wonder if the `User` interface should be adjusted to fit the TypeORM definition?\r\n```\r\ninterface User {\r\n    name?: string | null;\r\n    email?: string | null;\r\n    image?: string | null;\r\n}\r\n```",
        "createdAt" : "2020-11-16T17:39:12Z",
        "updatedAt" : "2020-11-17T20:13:46Z",
        "lastEditedBy" : "7b601f89-43e3-4bbd-a60e-067581d15f93",
        "tags" : [
        ]
      },
      {
        "id" : "a3d766cb-2288-4436-80ef-1933f29b52d8",
        "parentId" : "5a0b099b-b000-4b07-aaa0-6a1043b870de",
        "authorId" : "df5e83b2-1a47-4d86-a942-0f9765170624",
        "body" : "I think it should, but I'm not sure... @lluia, what do you think?",
        "createdAt" : "2020-11-16T19:07:14Z",
        "updatedAt" : "2020-11-17T20:13:46Z",
        "lastEditedBy" : "df5e83b2-1a47-4d86-a942-0f9765170624",
        "tags" : [
        ]
      },
      {
        "id" : "f6acffda-2a06-4e43-84b3-da01b1784122",
        "parentId" : "5a0b099b-b000-4b07-aaa0-6a1043b870de",
        "authorId" : "df5e83b2-1a47-4d86-a942-0f9765170624",
        "body" : "See [this](https://github.com/nextauthjs/next-auth/blob/8115a7c66cdb1d86b0d2a0d76b9aa33c2bfaa33b/src/server/routes/session.js#L67). It uses the TypeORM interface by default",
        "createdAt" : "2020-11-17T14:11:14Z",
        "updatedAt" : "2020-11-17T20:13:46Z",
        "lastEditedBy" : "df5e83b2-1a47-4d86-a942-0f9765170624",
        "tags" : [
        ]
      },
      {
        "id" : "d1831377-0de9-4a29-8b58-84b6fdd52be3",
        "parentId" : "5a0b099b-b000-4b07-aaa0-6a1043b870de",
        "authorId" : "7b601f89-43e3-4bbd-a60e-067581d15f93",
        "body" : "I made some updates that I think cover things. If I misunderstood anything or if something needs to be changed, please let me know!",
        "createdAt" : "2020-11-17T20:13:21Z",
        "updatedAt" : "2020-11-17T20:13:46Z",
        "lastEditedBy" : "7b601f89-43e3-4bbd-a60e-067581d15f93",
        "tags" : [
        ]
      },
      {
        "id" : "6127ac74-56ec-4e8c-b999-557cb8837720",
        "parentId" : "5a0b099b-b000-4b07-aaa0-6a1043b870de",
        "authorId" : "35d76e41-c86d-489e-be59-1c128bf4877e",
        "body" : "Ups sorry saw this late ðŸ˜“ , looks awesome @jgeurts , thx a lot ðŸ’¯ ðŸ’š ",
        "createdAt" : "2020-11-19T09:55:41Z",
        "updatedAt" : "2020-11-19T09:55:41Z",
        "lastEditedBy" : "35d76e41-c86d-489e-be59-1c128bf4877e",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3d6efffe4922d64875cdd4d5f64847868735750",
    "line" : 83,
    "diffHunk" : "@@ -1,1 +36,40 @@};\n\nexport interface AdapterInstance<TUser, TProfile, TSession, TVerificationRequest> {\n    createUser(profile: TProfile): Promise<TUser>;\n    getUser(id: string): Promise<TUser | null>;"
  }
]