[
  {
    "id" : "c2871bd4-fcf9-48ef-9614-1a3dde198fb6",
    "prId" : 32527,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/32527#pullrequestreview-197321678",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "122864fe-d33e-4142-ab1e-59a6b301e50c",
        "parentId" : null,
        "authorId" : "ae1cf0f9-564e-40ad-9cdf-73f717fd1d58",
        "body" : "This is an interesting change. The `default` property here indicates either 1) I can call and use `debug.default` or 2) I can use the module as an ES6 module with a default import. I don't see any docs that have this usage - maybe you can add some tests that exercise this usage pattern?",
        "createdAt" : "2019-01-29T00:04:14Z",
        "updatedAt" : "2019-02-04T11:10:46Z",
        "lastEditedBy" : "ae1cf0f9-564e-40ad-9cdf-73f717fd1d58",
        "tags" : [
        ]
      }
    ],
    "commit" : "3e6b96053ea2c15a233617fd4efdf3adf0435a7d",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +8,12 @@// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\n\ndeclare var debug: debug.Debug & {debug: debug.Debug, default: debug.Debug};\n\nexport = debug;"
  },
  {
    "id" : "1830c707-9112-4cae-b34f-34eb5dcf5458",
    "prId" : 54270,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/54270#pullrequestreview-705707799",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ad87f676-2681-4963-b786-2fa2d65a2f4b",
        "parentId" : null,
        "authorId" : "28aab869-30d5-42f8-8a85-4af7d5854cea",
        "body" : "It feels like `diff` is effectively private, and it looks like itâ€™s undefined until the first time `debug` is actually called. I would leave it out and remove it from the tests, unless you know of a reason why it should be included as part of the public API.",
        "createdAt" : "2021-07-13T20:28:02Z",
        "updatedAt" : "2021-07-13T20:28:03Z",
        "lastEditedBy" : "28aab869-30d5-42f8-8a85-4af7d5854cea",
        "tags" : [
        ]
      },
      {
        "id" : "2065a6aa-4421-4d42-9e00-bcfe1e4c6215",
        "parentId" : "ad87f676-2681-4963-b786-2fa2d65a2f4b",
        "authorId" : "2ee650f9-efbe-41a2-803c-aecae6d7e6ba",
        "body" : "It is used inside `formatArgs` and for properly overriding this method it is needed. I could move it to `formatArgs: (this: Debugger & { diff: number }, args: any[]) => void;`, but this will make overriding `log` method a bit messier, because we cannot change definition, since it is already called by users without proper this.",
        "createdAt" : "2021-07-13T20:49:32Z",
        "updatedAt" : "2021-07-13T20:50:04Z",
        "lastEditedBy" : "2ee650f9-efbe-41a2-803c-aecae6d7e6ba",
        "tags" : [
        ]
      },
      {
        "id" : "27ead008-36f9-4fef-8f58-da188582feab",
        "parentId" : "ad87f676-2681-4963-b786-2fa2d65a2f4b",
        "authorId" : "28aab869-30d5-42f8-8a85-4af7d5854cea",
        "body" : "I know itâ€™s used in the default implementation of `formatArgs`, but do you think users will actually use it when overriding `formatArgs`?",
        "createdAt" : "2021-07-13T22:02:58Z",
        "updatedAt" : "2021-07-13T22:02:58Z",
        "lastEditedBy" : "28aab869-30d5-42f8-8a85-4af7d5854cea",
        "tags" : [
        ]
      },
      {
        "id" : "b9b7171f-1b12-4e85-894a-0f5061238efd",
        "parentId" : "ad87f676-2681-4963-b786-2fa2d65a2f4b",
        "authorId" : "2ee650f9-efbe-41a2-803c-aecae6d7e6ba",
        "body" : "Yes... For example if you are logging to a file you may want to save diff as float and pack everything as json. My particular use case do not use `formatArgs` aside from it actually existing, but it would be silly to implement broken definition, which cannot even use original code.\r\n```ts\r\ndebug.formatArgs = (args) => { /*  nop */ };\r\ndebug.log = function(this: debug.Debugger & { diff: number }, ...args) {\r\n  logger.log(\"info\", {\r\n    namespace: this.namespace,\r\n    message: util.format(...args),\r\n    timestamp: new Date().toISOString(),\r\n    diff: '+' + debug.humanize(this.diff),\r\n  });\r\n};\r\ndebug.enable('*');\r\n```\r\n\r\nHowever I've searched for existing overrides of `formatArgs` in `javascript` and `this.diff` was used in some of them. The question should not be \"if diff is useful\", but \"how to implement this properly\".",
        "createdAt" : "2021-07-13T22:47:39Z",
        "updatedAt" : "2021-07-13T22:47:40Z",
        "lastEditedBy" : "2ee650f9-efbe-41a2-803c-aecae6d7e6ba",
        "tags" : [
        ]
      }
    ],
    "commit" : "9835dbf106d734abbdaac28853ff74707dd6ebf1",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +45,49 @@\n        color: string;\n        diff: number;\n        enabled: boolean;\n        log: (...args: any[]) => any;"
  }
]