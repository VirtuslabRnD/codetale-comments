[
  {
    "id" : "f13a86b7-27c8-4793-8a98-404906a8c7ff",
    "prId" : 39991,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/39991#pullrequestreview-309551791",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9ebe1e4d-b92d-4881-aa1d-7d65c6a3ff0f",
        "parentId" : null,
        "authorId" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "body" : "You should return back optional parameter to digest. Check this guide. https://www.typescriptlang.org/docs/handbook/declaration-files/do-s-and-don-ts.html#use-optional-parameters",
        "createdAt" : "2019-10-30T09:20:03Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "tags" : [
        ]
      },
      {
        "id" : "7babfb1d-2e3f-407d-a059-1df8fb20e7c7",
        "parentId" : "9ebe1e4d-b92d-4881-aa1d-7d65c6a3ff0f",
        "authorId" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "body" : "The parameter to `digest` is optional, but it changes the return type of the function if used. This is why I instead used two declarations.to overload the function:\r\n\r\n```typescript\r\ndigest(target: encoding): string;\r\ndigest(): Buffer;\r\n```\r\n\r\nThis way the calling code receives back the correct type based on its use of the argument.",
        "createdAt" : "2019-10-30T20:53:05Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "tags" : [
        ]
      },
      {
        "id" : "ff26e65f-4cd7-4064-9783-96460a7ac5c1",
        "parentId" : "9ebe1e4d-b92d-4881-aa1d-7d65c6a3ff0f",
        "authorId" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "body" : "Didn't notice that. In that case your variant is correct.",
        "createdAt" : "2019-10-30T22:08:27Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "tags" : [
        ]
      }
    ],
    "commit" : "7fe202e63acdd2e449469826cca551127664d57a",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +14,18 @@\n    interface HashAlgorithm {\n        digest(target: encoding): string;\n        digest(): Buffer;\n"
  },
  {
    "id" : "cbbc3b1c-174c-4ae2-8658-c34bd4a71535",
    "prId" : 39991,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/39991#pullrequestreview-309570418",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "parentId" : null,
        "authorId" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "body" : "Is it really required to use node types? This typings are used for browser version too.",
        "createdAt" : "2019-10-30T22:12:05Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "tags" : [
        ]
      },
      {
        "id" : "a71950a3-4192-45cf-89ef-e7f439a2adc1",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "body" : "It's for `Buffer`, tsc throws otherwise. `Buffer` is a special case in the browser because Webpack usually automagically shims it. I noticed this is how the `secp256k1` package handles this issue, so I did the same: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/4b6756548680a242aaf29d7a8ee3d20b017a89ca/types/secp256k1/index.d.ts#L6",
        "createdAt" : "2019-10-30T22:15:28Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "tags" : [
        ]
      },
      {
        "id" : "ab79997a-4dd3-458d-b87c-bd2d91e19a58",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "body" : "I think that we should use https://github.com/feross/buffer for this case.\r\n@VladimirGrenaderov what do you think?",
        "createdAt" : "2019-10-30T22:30:50Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "tags" : [
        ]
      },
      {
        "id" : "fdd6b5c2-82dc-4c2c-a354-74072eb8503d",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "body" : "I don't see how this would declare that as a dependency, but also, `create-hash` does not do this and just relies on `Buffer` being available.\r\n\r\nFWIW, this is also how it's done in several other packages, notably even https://github.com/feross/is-buffer\r\n\r\nhttps://github.com/DefinitelyTyped/DefinitelyTyped/blob/2206d001afbac3592a459dd68a99f742d46eff68/types/is-buffer/index.d.ts#L7",
        "createdAt" : "2019-10-30T22:42:41Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "tags" : [
        ]
      },
      {
        "id" : "646057e1-0e72-46e2-9815-593fae74cde9",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "body" : "(if I'm reading the code correctly?)",
        "createdAt" : "2019-10-30T22:43:38Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "tags" : [
        ]
      },
      {
        "id" : "2b0bc5cd-33ff-4c7c-8a73-55315c58a326",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "body" : "Ah, it looks like internally it does this:\r\n\r\nhttps://github.com/crypto-browserify/cipher-base/blob/bc18dc847050c34f11f7a0472ff13a76b53fedc6/index.js#L1",
        "createdAt" : "2019-10-30T22:46:05Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "tags" : [
        ]
      },
      {
        "id" : "f9689435-83de-4fa6-bd01-09ab7e8e5ad8",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "body" : "However, looking at typings for `cipher-base` it still seems like this is the idiomatic way to do it:\r\n\r\nhttps://github.com/DefinitelyTyped/DefinitelyTyped/blob/4b6756548680a242aaf29d7a8ee3d20b017a89ca/types/cipher-base/index.d.ts#L6",
        "createdAt" : "2019-10-30T22:47:56Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "tags" : [
        ]
      },
      {
        "id" : "53ab518f-6276-4bec-8797-90f635fbc6bc",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "body" : "Ok, let's do this.",
        "createdAt" : "2019-10-30T22:48:44Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "tags" : [
        ]
      },
      {
        "id" : "672eb2f4-35b6-4065-b45b-88b3269e85bd",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "body" : "I think you should push some small change to force Travis to rerun its build.",
        "createdAt" : "2019-10-30T22:49:51Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "ea10ad6a-d7b8-4816-9d6e-5b28d1abbfca",
        "tags" : [
        ]
      },
      {
        "id" : "97c8cccf-b941-4d23-b4f0-bce8d1ff54ba",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "body" : "I'll try that.",
        "createdAt" : "2019-10-30T22:58:45Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "tags" : [
        ]
      },
      {
        "id" : "17306b3c-dec4-469f-b76b-b0f1624a84bf",
        "parentId" : "aa1f33ad-6d84-4a9b-aa27-5d0193837604",
        "authorId" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "body" : "Done!",
        "createdAt" : "2019-10-30T22:59:45Z",
        "updatedAt" : "2019-11-01T02:01:17Z",
        "lastEditedBy" : "9ab1b4dc-52ef-4e36-9a50-3b37e2553c67",
        "tags" : [
        ]
      }
    ],
    "commit" : "7fe202e63acdd2e449469826cca551127664d57a",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +8,12 @@// TypeScript Version: 2.1\n\n/// <reference types=\"node\" />\n\ndeclare namespace createHash {"
  }
]