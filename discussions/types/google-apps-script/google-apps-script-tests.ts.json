[
  {
    "id" : "c652b5cc-79bb-45e6-9296-556cd32b652f",
    "prId" : 16484,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/16484#pullrequestreview-39614539",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c0a17752-54c9-45c4-84cc-6db891d1ce7d",
        "parentId" : null,
        "authorId" : "12d669e7-71ea-4328-9d11-c67c19345ed6",
        "body" : "What is the regression?",
        "createdAt" : "2017-05-19T21:10:02Z",
        "updatedAt" : "2017-05-19T21:10:03Z",
        "lastEditedBy" : "12d669e7-71ea-4328-9d11-c67c19345ed6",
        "tags" : [
        ]
      },
      {
        "id" : "8698f2b2-dcfa-4cc6-9f91-f18a145cd492",
        "parentId" : "c0a17752-54c9-45c4-84cc-6db891d1ce7d",
        "authorId" : "e0c754f9-7b7b-4906-8d73-cfbe6ea46969",
        "body" : "Ah, I meant the bugs I wrote in the PR body:\r\n\r\n> - `Service.Restriction` was incorrectly named `Service`.\r\n> - Enum fields had wrong types.\r\n\r\nShould I write comments more precisely?",
        "createdAt" : "2017-05-23T00:09:05Z",
        "updatedAt" : "2017-05-23T00:09:05Z",
        "lastEditedBy" : "e0c754f9-7b7b-4906-8d73-cfbe6ea46969",
        "tags" : [
        ]
      }
    ],
    "commit" : "00251fcd7546c56e43db6d7042ddade0eeda7e49",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +27,31 @@}\n\n// Regression\n\nScriptApp.getService().getUrl();"
  },
  {
    "id" : "f0365364-4172-4ddc-8a59-c6e60ae94b7f",
    "prId" : 34073,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/34073#pullrequestreview-217329681",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9123071a-03b0-4fbe-9388-efd7ec7a1a19",
        "parentId" : null,
        "authorId" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "body" : "From https://developers.google.com/apps-script/advanced/calendar#creating_events",
        "createdAt" : "2019-03-21T15:52:26Z",
        "updatedAt" : "2019-03-23T06:53:39Z",
        "lastEditedBy" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "tags" : [
        ]
      }
    ],
    "commit" : "b89189521f6306f5f83adcaea54dc06fa14e954c",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +40,44 @@// Calendar (Advanced service)\ndeclare const Calendar: GoogleAppsScript.Calendar_v3;\nconst createEvent = (): void => {\n  const calendarId = 'primary';\n  const start = new Date();"
  },
  {
    "id" : "4845388a-1f58-4a31-a916-f859829bf0b4",
    "prId" : 34073,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/34073#pullrequestreview-217330024",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8cc64b4f-744a-4bb3-9500-53ce49628385",
        "parentId" : null,
        "authorId" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "body" : "From https://developers.google.com/admin-sdk/directory/v1/quickstart/apps-script#step_1_create_the_script",
        "createdAt" : "2019-03-21T15:52:57Z",
        "updatedAt" : "2019-03-23T06:53:39Z",
        "lastEditedBy" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "tags" : [
        ]
      }
    ],
    "commit" : "b89189521f6306f5f83adcaea54dc06fa14e954c",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +69,73 @@// Admin Directory (Advanced service)\ndeclare const AdminDirectory: GoogleAppsScript.Admin_directory_v1;\nconst listAllUsers = () => {\n  let pageToken: string;\n  let page: GoogleAppsScript.Admin_directory_v1.Schema.Users;"
  },
  {
    "id" : "28caa430-f7ac-4131-aab4-d8ff0f03427d",
    "prId" : 52685,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/52685#pullrequestreview-653549944",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4ae539ad-0c98-4c68-9f0e-33fc5b26cfb9",
        "parentId" : null,
        "authorId" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "body" : "I found your test code does not contain `CommonEventObject`, but your test is good enough 👍 ",
        "createdAt" : "2021-05-01T03:49:58Z",
        "updatedAt" : "2021-05-06T15:47:34Z",
        "lastEditedBy" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "tags" : [
        ]
      },
      {
        "id" : "c5be824a-d005-4d64-a751-984d778d15ef",
        "parentId" : "4ae539ad-0c98-4c68-9f0e-33fc5b26cfb9",
        "authorId" : "28924d15-0a5b-4be5-88d0-f1435d398e91",
        "body" : "@mtgto thanks! Frankly, I forgot to add a test specifically for it - will add during the weekend",
        "createdAt" : "2021-05-01T05:43:50Z",
        "updatedAt" : "2021-05-06T15:47:34Z",
        "lastEditedBy" : "28924d15-0a5b-4be5-88d0-f1435d398e91",
        "tags" : [
        ]
      },
      {
        "id" : "253dd2cd-e5c4-4297-9643-7eb8ce42346c",
        "parentId" : "4ae539ad-0c98-4c68-9f0e-33fc5b26cfb9",
        "authorId" : "28924d15-0a5b-4be5-88d0-f1435d398e91",
        "body" : "> I found your test code does not contain `CommonEventObject`, but your test is good enough 👍\r\n\r\n@mtgto - done, the `CommonEventObject` should now be covered by a test as well. Also noticed that I did not make the `formInputs[string][\"\"]` optional because only one of the object structures is present at a time - addressed (I wanted to add a generic `OneOf` helper, but wasn't sure if that's ok given that Apps Script declaration files do not use helpers - please, let me know if you think it is a good or bad idea to add one).",
        "createdAt" : "2021-05-03T06:18:33Z",
        "updatedAt" : "2021-05-06T15:47:34Z",
        "lastEditedBy" : "28924d15-0a5b-4be5-88d0-f1435d398e91",
        "tags" : [
        ]
      },
      {
        "id" : "49a11b6a-1c19-4cc2-a9e1-75804d24f330",
        "parentId" : "4ae539ad-0c98-4c68-9f0e-33fc5b26cfb9",
        "authorId" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "body" : "> done, the `CommonEventObject` should now be covered by a test as well. \r\n\r\nAgree. Your test is very well 👍 👍  Nice work!\r\n\r\n> Also noticed that I did not make the `formInputs[string][\"\"]` optional because only one of the object structures is present at a time\r\n\r\nIt seems that you don't need to define using such a `OneOf` helper. It's work for user which uses this PR's definition, IMO.\r\nFor example, it is inconvenient to use these type:\r\n\r\n```typescript\r\ninterface CommonEventObject {\r\n    formInputs: {\r\n        [ID: string]: {\r\n            \"\":\r\n                | { stringInputs: StringInputObject }\r\n                | { dateInput: DateInputObject }\r\n                | { timeInput: TimeInputObject }\r\n                | { dateTimeInput: DateTimeInputObject };\r\n        };\r\n    };\r\n}\r\n\r\nconst f = (foo: GoogleAppsScript.AddonEventObjects.CommonEventObject) => {\r\n    const bar = foo.formInputs.employeeName[\"\"];\r\n    if (bar.stringInputs) {\r\n        // ...\r\n    }\r\n};\r\n```\r\n\r\nfunction f causes compile error:\r\n```\r\nProperty 'stringInputs' does not exist on type '{ stringInputs: StringInputObject; } | { dateInput: DateInputObject; } | { timeInput: TimeInputObject; } | { dateTimeInput: DateTimeInputObject; }'.\r\n  Property 'stringInputs' does not exist on type '{ dateInput: DateInputObject; }'.ts(2339)\r\n```\r\n\r\nAlso I can't find any document of `commonEventObject.formInputs.xxxx[\"\"]` has exact one entry only.\r\nhttps://developers.google.com/workspace/add-ons/concepts/event-objects#common_event_object",
        "createdAt" : "2021-05-03T14:27:30Z",
        "updatedAt" : "2021-05-06T15:47:34Z",
        "lastEditedBy" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "tags" : [
        ]
      },
      {
        "id" : "95f3e5d0-ab17-4418-9f02-d573775a6ac0",
        "parentId" : "4ae539ad-0c98-4c68-9f0e-33fc5b26cfb9",
        "authorId" : "28924d15-0a5b-4be5-88d0-f1435d398e91",
        "body" : "@mtgto thank you! \r\n\r\nRe: helper - as far as I know, the above does not compile because one can only access the properties common to all members of the union, so the only way to use such a union is via narrowing with `\"stringInputs\" in bar`. Such a helper could look [like this](https://tsplay.dev/mbkD4W) avoiding the problem. But, anyway, that's just a passing thought, I too think the onus is more on the definition users.\r\n\r\nRe: one of - you probably will not find anything concrete. I am interpreting this line in docs as proof of the \"union field\" behavior (+coming from experience - the real-world event objects confirm the supposition):\r\n\r\n> The structure of the map value object is dependent on the widget type\r\n\r\nI think it is a bit of a documentation shortcoming that it is not very clear (and I even forgot about that initially) :(",
        "createdAt" : "2021-05-03T20:13:23Z",
        "updatedAt" : "2021-05-06T15:47:34Z",
        "lastEditedBy" : "28924d15-0a5b-4be5-88d0-f1435d398e91",
        "tags" : [
        ]
      },
      {
        "id" : "e51f9fe9-bb5e-4f4c-9090-2e1c7a91abe2",
        "parentId" : "4ae539ad-0c98-4c68-9f0e-33fc5b26cfb9",
        "authorId" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "body" : "@Oaphi Thanks for code example 👍  I understand how to write `OneOf` helper.\r\n\r\n> I think it is a bit of a documentation shortcoming that it is not very clear\r\n\r\nMe too. I also same opinion that it might appear only one of `xxxInputs` is set in actually even if doc does not declare it 😇 ",
        "createdAt" : "2021-05-06T06:54:34Z",
        "updatedAt" : "2021-05-06T15:47:34Z",
        "lastEditedBy" : "2e27e269-b5c9-44da-85ba-a8e74c993ce1",
        "tags" : [
        ]
      },
      {
        "id" : "395267a9-028e-49c6-ab2c-680153bf50ad",
        "parentId" : "4ae539ad-0c98-4c68-9f0e-33fc5b26cfb9",
        "authorId" : "28924d15-0a5b-4be5-88d0-f1435d398e91",
        "body" : "@mtgto I only linked to the playground to illustrate what implementation I had in mind that avoided the \"no fields in common\" trap 😇 Ok, so it seems the only thing left to do is to add the folder.",
        "createdAt" : "2021-05-06T15:16:21Z",
        "updatedAt" : "2021-05-06T15:47:34Z",
        "lastEditedBy" : "28924d15-0a5b-4be5-88d0-f1435d398e91",
        "tags" : [
        ]
      }
    ],
    "commit" : "d67eacf3b81ba69d1f955702be4d03beb6ab80d5",
    "line" : 335,
    "diffHunk" : "@@ -1,1 +205,209 @@DriveApp.createFile(\"\", \"\").moveTo(DriveApp.getFolderById(\"\"));\n\n// Addon event objects tests:\n\nconst handleCalendarAction = (e: GoogleAppsScript.Addons.EventObject) => {"
  }
]