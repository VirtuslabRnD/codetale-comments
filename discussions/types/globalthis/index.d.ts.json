[
  {
    "id" : "6f700d30-fd1f-4154-8dd3-d19a7d5a0c6d",
    "prId" : 40096,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/40096#pullrequestreview-310787110",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6cd23fa0-644e-4a9e-935e-0e0105b3f7e2",
        "parentId" : null,
        "authorId" : "e5209397-2510-4745-aef6-1632dc787392",
        "body" : "Support for&nbsp;`globalThis` was added in&nbsp;[**TypeScript&nbsp;3.4**](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#type-checking-for-globalthis).",
        "createdAt" : "2019-11-02T15:22:15Z",
        "updatedAt" : "2019-11-02T15:22:15Z",
        "lastEditedBy" : "e5209397-2510-4745-aef6-1632dc787392",
        "tags" : [
        ]
      },
      {
        "id" : "d686d704-85cc-4ecb-b2e0-87313050b1b0",
        "parentId" : "6cd23fa0-644e-4a9e-935e-0e0105b3f7e2",
        "authorId" : "f20e512d-d787-45a8-a000-96a979941658",
        "body" : "it’s the same type as `windows or `global`; were these types not in earlier versions?",
        "createdAt" : "2019-11-02T16:12:55Z",
        "updatedAt" : "2019-11-02T16:12:55Z",
        "lastEditedBy" : "f20e512d-d787-45a8-a000-96a979941658",
        "tags" : [
        ]
      },
      {
        "id" : "4fdb2c1e-ef3a-419d-a9a3-d680c8dcd249",
        "parentId" : "6cd23fa0-644e-4a9e-935e-0e0105b3f7e2",
        "authorId" : "e5209397-2510-4745-aef6-1632dc787392",
        "body" : "There is&nbsp;`declare var window`, but&nbsp;that&nbsp;requires `lib: [\"dom\"]`, and&nbsp;`declare var global`, which&nbsp;requires&nbsp;`@types/node`, but&nbsp;only the&nbsp;former one&nbsp;has, and&nbsp;this&nbsp;only exists in&nbsp;**TypeScript&nbsp;3.4+**:\r\n```ts\r\ndeclare var window: Window & typeof globalThis;\r\ndeclare var self: Window & typeof globalThis;\r\n```\r\n\r\nNode’s `global` only has:\r\n```ts\r\ndeclare var global: NodeJS.Global;\r\n```\r\n\r\n---\r\n\r\nAlso, even if you do:\r\n```ts\r\nvar something;\r\n```\r\n\r\nEven though it&nbsp;will be&nbsp;available as&nbsp;`window.something` during&nbsp;runtime, without&nbsp;`globalThis`, the&nbsp;compiler wouldn’t&nbsp;know&nbsp;that.\r\n\r\n---\r\n\r\nAlso, in&nbsp;`lib.dom.d.ts`, `Window`&nbsp;functions have&nbsp;to&nbsp;duplicated in&nbsp;the&nbsp;global&nbsp;scope, so&nbsp;that&nbsp;you&nbsp;can&nbsp;do:\r\n```ts\r\naddEventListener(\"foo\", e => {\r\n\t// Process the `foo` event\r\n})\r\n```\r\n\r\nSame&nbsp;with&nbsp;Node&nbsp;globals.",
        "createdAt" : "2019-11-02T20:20:07Z",
        "updatedAt" : "2019-11-02T20:20:07Z",
        "lastEditedBy" : "e5209397-2510-4745-aef6-1632dc787392",
        "tags" : [
        ]
      }
    ],
    "commit" : "4c5c7102bbf81cc96ab460cd30ef2902f434f020",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +3,7 @@// Definitions by: ExE Boss <https://github.com/ExE-Boss>\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\n// TypeScript Version: 3.4\n\n/**"
  }
]