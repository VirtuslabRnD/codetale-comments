[
  {
    "id" : "b0423e43-0f62-4532-ae4f-f9dd436b1c9a",
    "prId" : 16145,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/16145#pullrequestreview-36694047",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "40183714-cda0-4604-adc4-51df25dee127",
        "parentId" : null,
        "authorId" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "body" : "a callback parameter should not be optional. this should be:\r\n```ts\r\ncallback: (res: boolean, code: number, message: string) => void) => void;\r\n```",
        "createdAt" : "2017-05-03T21:40:12Z",
        "updatedAt" : "2017-05-03T21:40:12Z",
        "lastEditedBy" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "tags" : [
        ]
      },
      {
        "id" : "c7ec9475-8f6b-4d34-9c38-cfb2066d416a",
        "parentId" : "40183714-cda0-4604-adc4-51df25dee127",
        "authorId" : "7afd270a-90e4-4a53-abd3-c9be0db686fc",
        "body" : "Hi @mhegazy , thanks for suggestion!\r\n\r\nBut if I set the rest parameters required, declaration is not backward compatible. All the existing codes cannot pass the compilation.",
        "createdAt" : "2017-05-05T16:03:57Z",
        "updatedAt" : "2017-05-05T16:03:57Z",
        "lastEditedBy" : "7afd270a-90e4-4a53-abd3-c9be0db686fc",
        "tags" : [
        ]
      },
      {
        "id" : "59094599-a60d-4b8d-8dc1-8250575fce6e",
        "parentId" : "40183714-cda0-4604-adc4-51df25dee127",
        "authorId" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "body" : "you have an example?",
        "createdAt" : "2017-05-05T17:08:58Z",
        "updatedAt" : "2017-05-05T17:08:58Z",
        "lastEditedBy" : "1dafe895-0dee-4056-9e2a-aadb53c1825d",
        "tags" : [
        ]
      },
      {
        "id" : "19560e4c-59d4-4fba-b7e9-066f629126c3",
        "parentId" : "40183714-cda0-4604-adc4-51df25dee127",
        "authorId" : "7afd270a-90e4-4a53-abd3-c9be0db686fc",
        "body" : "```typescript\r\nconst wss = new WebSocket.Server({\r\n    host: address,\r\n    port: port,\r\n    verifyClient: (info, verify) => {\r\n        const id = getIdFromRequest(info.req);  // Get \"id\" param from URL parameters.\r\n        if (id) {\r\n            verify(true);\r\n        } else {\r\n            verify(false);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nSuppose we have existing code like above, it works with current declaration.\r\n\r\nBut if we extend the declaration without optional, just like:\r\n\r\n```typescript\r\ncallback: (res: boolean, code: number, message: string) => void) => void;\r\n```\r\n\r\nThe tsc compiler will reject the code with error `[ts] Supplied parameters do not match any signature of call target.`",
        "createdAt" : "2017-05-08T05:23:40Z",
        "updatedAt" : "2017-05-08T05:23:40Z",
        "lastEditedBy" : "7afd270a-90e4-4a53-abd3-c9be0db686fc",
        "tags" : [
        ]
      }
    ],
    "commit" : "db2e37ddf0a8afafdb1e9191bb58efaf411d5960",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +83,87 @@    type VerifyClientCallbackSync = (info: { origin: string; secure: boolean; req: http.IncomingMessage }) => boolean;\n    type VerifyClientCallbackAsync = (info: { origin: string; secure: boolean; req: http.IncomingMessage }\n        , callback: (res: boolean, code?: number, message?: string) => void) => void;\n\n    export interface IClientOptions {"
  },
  {
    "id" : "c35072bf-1f5d-489b-8c26-ba0a962bea16",
    "prId" : 22831,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/22831#pullrequestreview-93055486",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d218586a-5752-49c3-81d7-a312dca54252",
        "parentId" : null,
        "authorId" : "0cf64e02-e002-468f-ad75-8c4ce3dc2241",
        "body" : "This change seems like a bug. In my testing the `on()` callbacks have not been changed to use the new `ErrorEvent`, it looks like it's only `onerror` and `addEventListener`.\r\n\r\nAre you sure this change is correct?",
        "createdAt" : "2018-01-31T04:46:31Z",
        "updatedAt" : "2018-01-31T04:46:31Z",
        "lastEditedBy" : "0cf64e02-e002-468f-ad75-8c4ce3dc2241",
        "tags" : [
        ]
      },
      {
        "id" : "1bbd0cf2-3019-4d3a-b57a-d4671d82fdad",
        "parentId" : "d218586a-5752-49c3-81d7-a312dca54252",
        "authorId" : "9dae0a58-e2e0-49b3-be54-3881423afa23",
        "body" : "@bradleyayers You're totally right.. My bad... What is the right procedure to fix this ? To do another PR just to correct the on.('error') event ?",
        "createdAt" : "2018-01-31T15:04:41Z",
        "updatedAt" : "2018-01-31T15:04:42Z",
        "lastEditedBy" : "9dae0a58-e2e0-49b3-be54-3881423afa23",
        "tags" : [
        ]
      },
      {
        "id" : "a5523632-b994-4c57-bf4c-56815fb87860",
        "parentId" : "d218586a-5752-49c3-81d7-a312dca54252",
        "authorId" : "0cf64e02-e002-468f-ad75-8c4ce3dc2241",
        "body" : "Yep, that would be great!",
        "createdAt" : "2018-01-31T19:37:19Z",
        "updatedAt" : "2018-01-31T19:37:19Z",
        "lastEditedBy" : "0cf64e02-e002-468f-ad75-8c4ce3dc2241",
        "tags" : [
        ]
      }
    ],
    "commit" : "859746cc5ff61addb37e1fcc7e9c791fd0a3b16b",
    "line" : 72,
    "diffHunk" : "@@ -1,1 +69,73 @@    // Events\n    on(event: 'close', listener: (code: number, reason: string) => void): this;\n    on(event: 'error', listener: (event: {error: any, message: any, type: string, target: WebSocket }) => void): this;\n    on(event: 'upgrade', listener: (request: http.IncomingMessage) => void): this;\n    on(event: 'message', listener: (data: WebSocket.Data) => void): this;"
  },
  {
    "id" : "569495c6-94b2-4c10-872f-96d8539defa7",
    "prId" : 52831,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/52831#pullrequestreview-655026761",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "842960ba-4077-4e45-9a35-1e922edabc6e",
        "parentId" : null,
        "authorId" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "body" : "Please see here for declared binary types https://github.com/websockets/ws/blob/fc7e27d12ad0af90ce05302afc85c292024000b4/lib/constants.js#L4",
        "createdAt" : "2021-05-08T22:48:10Z",
        "updatedAt" : "2021-05-11T14:56:42Z",
        "lastEditedBy" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "tags" : [
        ]
      }
    ],
    "commit" : "093d8489d2991c5c0a0053f2bc871564125aa827",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +39,43 @@    static readonly CLOSED: 3;\n\n    binaryType: \"nodebuffer\" | \"arraybuffer\" | \"fragments\";\n    readonly bufferedAmount: number;\n    readonly extensions: string;"
  },
  {
    "id" : "46dc454d-32b8-4846-9a4f-c64cd7cb9fab",
    "prId" : 52831,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/52831#pullrequestreview-655026799",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3545235d-ba35-46bd-8d08-98a9ba9003f7",
        "parentId" : null,
        "authorId" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "body" : "https://github.com/websockets/ws/blob/fc7e27d12ad0af90ce05302afc85c292024000b4/lib/websocket.js#L102-L106",
        "createdAt" : "2021-05-08T22:49:17Z",
        "updatedAt" : "2021-05-11T14:56:42Z",
        "lastEditedBy" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "tags" : [
        ]
      }
    ],
    "commit" : "093d8489d2991c5c0a0053f2bc871564125aa827",
    "line" : 49,
    "diffHunk" : "@@ -1,1 +40,44 @@\n    binaryType: \"nodebuffer\" | \"arraybuffer\" | \"fragments\";\n    readonly bufferedAmount: number;\n    readonly extensions: string;\n    readonly protocol: string;"
  },
  {
    "id" : "3b8ed971-ca7e-4eab-a9a6-0f2088866194",
    "prId" : 52831,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/52831#pullrequestreview-655026811",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "239f0967-78aa-434f-b434-dbf955078a14",
        "parentId" : null,
        "authorId" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "body" : "https://github.com/websockets/ws/blob/fc7e27d12ad0af90ce05302afc85c292024000b4/lib/websocket.js#L111-L113",
        "createdAt" : "2021-05-08T22:49:35Z",
        "updatedAt" : "2021-05-11T14:56:42Z",
        "lastEditedBy" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "tags" : [
        ]
      }
    ],
    "commit" : "093d8489d2991c5c0a0053f2bc871564125aa827",
    "line" : 50,
    "diffHunk" : "@@ -1,1 +41,45 @@    binaryType: \"nodebuffer\" | \"arraybuffer\" | \"fragments\";\n    readonly bufferedAmount: number;\n    readonly extensions: string;\n    readonly protocol: string;\n    /** The current state of the connection */"
  },
  {
    "id" : "b33c83a8-821d-4a55-9bf3-c8315dd99bae",
    "prId" : 52831,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/52831#pullrequestreview-655026829",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5c020545-2e1f-47da-af30-3c54a0a0e2ec",
        "parentId" : null,
        "authorId" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "body" : "https://github.com/websockets/ws/blob/fc7e27d12ad0af90ce05302afc85c292024000b4/lib/websocket.js#L118-L120",
        "createdAt" : "2021-05-08T22:49:52Z",
        "updatedAt" : "2021-05-11T14:56:42Z",
        "lastEditedBy" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "tags" : [
        ]
      }
    ],
    "commit" : "093d8489d2991c5c0a0053f2bc871564125aa827",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +42,46 @@    readonly bufferedAmount: number;\n    readonly extensions: string;\n    readonly protocol: string;\n    /** The current state of the connection */\n    readonly readyState:"
  },
  {
    "id" : "4acfce08-d78c-4d9b-9146-059c80ae4f49",
    "prId" : 52831,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/52831#pullrequestreview-655026839",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c12aff6a-23fc-4c3a-a37e-a2738248b65d",
        "parentId" : null,
        "authorId" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "body" : "https://github.com/websockets/ws/blob/fc7e27d12ad0af90ce05302afc85c292024000b4/lib/websocket.js#L125-L127",
        "createdAt" : "2021-05-08T22:50:07Z",
        "updatedAt" : "2021-05-11T14:56:42Z",
        "lastEditedBy" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "tags" : [
        ]
      }
    ],
    "commit" : "093d8489d2991c5c0a0053f2bc871564125aa827",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +44,48 @@    readonly protocol: string;\n    /** The current state of the connection */\n    readonly readyState:\n        | typeof WebSocket.CONNECTING\n        | typeof WebSocket.OPEN"
  },
  {
    "id" : "d17fc030-162e-4694-a8b3-56e88b799062",
    "prId" : 52831,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/52831#pullrequestreview-655026849",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b475081b-f943-4f57-a536-7ad2018ec8fa",
        "parentId" : null,
        "authorId" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "body" : "https://github.com/websockets/ws/blob/fc7e27d12ad0af90ce05302afc85c292024000b4/lib/websocket.js#L132-L134",
        "createdAt" : "2021-05-08T22:50:18Z",
        "updatedAt" : "2021-05-11T14:56:42Z",
        "lastEditedBy" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "tags" : [
        ]
      }
    ],
    "commit" : "093d8489d2991c5c0a0053f2bc871564125aa827",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +49,53 @@        | typeof WebSocket.CLOSING\n        | typeof WebSocket.CLOSED;\n    readonly url: string;\n\n    /** The connection is not yet open. */"
  },
  {
    "id" : "a109a1d3-3f9c-45df-85b6-4f63fdce9cd2",
    "prId" : 52831,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/52831#pullrequestreview-655027010",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d59a6b5f-b070-4b3e-943c-ca0c41e802df",
        "parentId" : null,
        "authorId" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "body" : "These are also readonly\r\nhttps://github.com/websockets/ws/blob/114de9e33668075f0af88dc440f1ebd813161e72/doc/ws.md#ready-state-constants\r\nhttps://github.com/websockets/ws/blob/fc7e27d12ad0af90ce05302afc85c292024000b4/lib/websocket.js#L26",
        "createdAt" : "2021-05-08T22:54:03Z",
        "updatedAt" : "2021-05-11T14:56:42Z",
        "lastEditedBy" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "tags" : [
        ]
      }
    ],
    "commit" : "093d8489d2991c5c0a0053f2bc871564125aa827",
    "line" : 73,
    "diffHunk" : "@@ -1,1 +58,62 @@    readonly CLOSING: 2;\n    /** The connection is closed. */\n    readonly CLOSED: 3;\n\n    onopen: (event: WebSocket.OpenEvent) => void;"
  },
  {
    "id" : "bcadef05-82c9-4bc9-9b50-55170528b69b",
    "prId" : 52831,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/52831#pullrequestreview-655027086",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "17cb7a22-8173-4135-a49e-a988440bc8a0",
        "parentId" : null,
        "authorId" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "body" : "https://github.com/websockets/ws/blob/114de9e33668075f0af88dc440f1ebd813161e72/doc/ws.md#ready-state-constants\r\nhttps://github.com/websockets/ws/blob/fc7e27d12ad0af90ce05302afc85c292024000b4/lib/websocket.js#L26",
        "createdAt" : "2021-05-08T22:55:45Z",
        "updatedAt" : "2021-05-11T14:56:42Z",
        "lastEditedBy" : "d01bf6ff-5931-4d7b-88e7-3765945e2934",
        "tags" : [
        ]
      }
    ],
    "commit" : "093d8489d2991c5c0a0053f2bc871564125aa827",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +37,41 @@    static readonly CLOSING: 2;\n    /** The connection is closed. */\n    static readonly CLOSED: 3;\n\n    binaryType: \"nodebuffer\" | \"arraybuffer\" | \"fragments\";"
  }
]