[
  {
    "id" : "cc8676ed-a719-4938-9000-9ec05a4f6407",
    "prId" : 51262,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/51262#pullrequestreview-672185258",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b82770db-5c67-4aaf-9c1b-85fa1feb7df6",
        "parentId" : null,
        "authorId" : "8bf60b54-e39f-4644-a810-cfd962013d19",
        "body" : "The Express docs have a few examples of tricky routes: https://expressjs.com/en/guide/routing.html#route-parameters\r\n\r\nIt would be a good idea to add them to the tests here to make sure they work as expected:\r\n- `/flights/:from-:to`\r\n- `/plantae/:genus.:species`\r\n- `/user/:userId(\\d+)`\r\n\r\nWhile it's not explicitly mentioned on that page, if you click through to [`path-to-regexp`](https://www.npmjs.com/package/path-to-regexp), it mentions that parameters can be optional, i.e. `/path/:param?` should make the type of `req.params.param` be `string | undefined`.\r\n\r\nThis may be tested elsewhere, but the path can also be a regular expression, and that should continue to work as before (there are no regex literalsâ€¦ yet!).",
        "createdAt" : "2021-05-25T13:27:23Z",
        "updatedAt" : "2021-05-25T13:31:54Z",
        "lastEditedBy" : "8bf60b54-e39f-4644-a810-cfd962013d19",
        "tags" : [
        ]
      },
      {
        "id" : "c3373eac-7847-41c6-a990-cba38e66c0ad",
        "parentId" : "b82770db-5c67-4aaf-9c1b-85fa1feb7df6",
        "authorId" : "386ecd42-1f7c-4498-86f2-de695ee4f084",
        "body" : "oh, wasn't aware of this. i'll add support for `-`, `.` and `?`, though the regex will probably just have to be ignored",
        "createdAt" : "2021-05-25T13:52:24Z",
        "updatedAt" : "2021-05-25T13:52:24Z",
        "lastEditedBy" : "386ecd42-1f7c-4498-86f2-de695ee4f084",
        "tags" : [
        ]
      },
      {
        "id" : "bedd0f99-6df3-459e-b5d5-e884231d88a8",
        "parentId" : "b82770db-5c67-4aaf-9c1b-85fa1feb7df6",
        "authorId" : "8bf60b54-e39f-4644-a810-cfd962013d19",
        "body" : "How about just adding a test for `/path/:param?` so that we know what the behavior is after this PR? Even if we know it's incorrect, it will be a good place to capture the context from this discussion and what more correct behavior would be in the future.",
        "createdAt" : "2021-05-25T14:25:23Z",
        "updatedAt" : "2021-05-25T14:25:23Z",
        "lastEditedBy" : "8bf60b54-e39f-4644-a810-cfd962013d19",
        "tags" : [
        ]
      },
      {
        "id" : "d5b1b1bb-3016-4695-a9e0-ded58379017d",
        "parentId" : "b82770db-5c67-4aaf-9c1b-85fa1feb7df6",
        "authorId" : "386ecd42-1f7c-4498-86f2-de695ee4f084",
        "body" : "done. though i'm keen to rewrite the `RouteParameters` type to support this as well as properly ignore regex wrapped in parentheses. i think it'll need to be more like a lexer instead of just splitting on `'/'|'-'|'.'`. i'll get on that tomorrow",
        "createdAt" : "2021-05-25T14:43:57Z",
        "updatedAt" : "2021-05-25T14:45:21Z",
        "lastEditedBy" : "386ecd42-1f7c-4498-86f2-de695ee4f084",
        "tags" : [
        ]
      },
      {
        "id" : "8cbccb3b-0e71-4eca-a303-2a70ae3f731e",
        "parentId" : "b82770db-5c67-4aaf-9c1b-85fa1feb7df6",
        "authorId" : "386ecd42-1f7c-4498-86f2-de695ee4f084",
        "body" : "#53513",
        "createdAt" : "2021-05-31T10:37:10Z",
        "updatedAt" : "2021-05-31T10:37:11Z",
        "lastEditedBy" : "386ecd42-1f7c-4498-86f2-de695ee4f084",
        "tags" : [
        ]
      }
    ],
    "commit" : "57ab75649a406b6c891ef9c27a22a348267bc668",
    "line" : 168,
    "diffHunk" : "@@ -1,1 +166,170 @@    res.locals.bar; // $ExpectError\n    res.send({ foo: 'ok' }); // $ExpectType Response<any, { foo: boolean; }, number>\n});"
  }
]