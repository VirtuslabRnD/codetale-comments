[
  {
    "id" : "1c39698f-810f-496d-84da-abbfa1128764",
    "prId" : 8008,
    "prUrl" : "https://github.com/lampepfl/dotty/pull/8008#pullrequestreview-344538794",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a8202f68-b981-494c-b332-72d5a935c4d0",
        "parentId" : null,
        "authorId" : "3a3c9c08-5985-41f6-a86b-7fc5a427f51a",
        "body" : "Why is this swap needed? Since we are adding the `@static` annotation in `CompleteJavaEnums`, should this phase not go before `CheckStatic` so that the latter can check the newly added static members?",
        "createdAt" : "2020-01-17T10:37:49Z",
        "updatedAt" : "2020-01-17T10:37:50Z",
        "lastEditedBy" : "3a3c9c08-5985-41f6-a86b-7fc5a427f51a",
        "tags" : [
        ]
      },
      {
        "id" : "88f945fe-4d89-46ae-98fd-ee6091dbd82b",
        "parentId" : "a8202f68-b981-494c-b332-72d5a935c4d0",
        "authorId" : "bc4c7970-6d84-475b-b408-2ed0f22a7bf3",
        "body" : "`CheckStatic` will reject our code, because it requires that a `@static` member is located in a companion object, not the class.",
        "createdAt" : "2020-01-17T10:47:36Z",
        "updatedAt" : "2020-01-17T10:47:36Z",
        "lastEditedBy" : "bc4c7970-6d84-475b-b408-2ed0f22a7bf3",
        "tags" : [
        ]
      },
      {
        "id" : "d050abaa-e444-4260-a8b9-d0c286cc9cb8",
        "parentId" : "a8202f68-b981-494c-b332-72d5a935c4d0",
        "authorId" : "3a3c9c08-5985-41f6-a86b-7fc5a427f51a",
        "body" : "Would it be a better idea to modify `CheckStatic` to accept the code? E.g. (from CheckStatic doc), \"1. Only objects and those classes which extend java.lang.Enum can have members annotated with `@static`\"?\r\n\r\nThe meaning of `CheckStatic` is to provide guarantees on `@static`. If there exists code that doesn't follow the existing guarantees, this complicates the codebase maintenance and usage. We have the exact same scenario with setting flags on completion: there are rules about which flags are immutable wrt completion but they are not enforced. And hence there are lots of places in the codebase that don't follow these rules.\r\n\r\n",
        "createdAt" : "2020-01-17T12:05:43Z",
        "updatedAt" : "2020-01-17T12:06:36Z",
        "lastEditedBy" : "3a3c9c08-5985-41f6-a86b-7fc5a427f51a",
        "tags" : [
        ]
      },
      {
        "id" : "079797bb-3456-4225-8f93-40a386b0a88c",
        "parentId" : "a8202f68-b981-494c-b332-72d5a935c4d0",
        "authorId" : "bc4c7970-6d84-475b-b408-2ed0f22a7bf3",
        "body" : "I have a commit message in f6f3b28cfcc1f79d002a8af950ef49a84bc88b07: the `@static` infrastructure needs fundamental refactoring, but it's out of the scope of this PR.",
        "createdAt" : "2020-01-17T12:10:45Z",
        "updatedAt" : "2020-01-17T12:12:49Z",
        "lastEditedBy" : "bc4c7970-6d84-475b-b408-2ed0f22a7bf3",
        "tags" : [
        ]
      }
    ],
    "commit" : "e05e2b7bcb46e0f94c4c8b04f3f4ff00735e818b",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +60,64 @@         new CookComments,           // Cook the comments: expand variables, doc, etc.\n         new CheckStatic) ::         // Check restrictions that apply to @static members\n    List(new CompleteJavaEnums,      // Fill in constructors for Java enums\n         new ElimRepeated,           // Rewrite vararg parameters and arguments\n         new ExpandSAMs,             // Expand single abstract method closures to anonymous classes"
  }
]