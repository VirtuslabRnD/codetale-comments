[
  {
    "id" : "b9e6c850-2455-4db8-a42c-0165216f29c1",
    "prId" : 10106,
    "prUrl" : "https://github.com/apache/kafka/pull/10106#pullrequestreview-588741096",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1367ff6e-5729-45e6-a4db-6686ac27d2d4",
        "parentId" : null,
        "authorId" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "body" : "In the other constructor we have some nice preconditions and defensive copies, should we do the same here? Or maybe this constructor is meant to be private to `cloneWithFencing` below",
        "createdAt" : "2021-02-11T15:41:26Z",
        "updatedAt" : "2021-02-11T16:25:02Z",
        "lastEditedBy" : "083f2f03-ca7e-48a1-9781-482564dfdf53",
        "tags" : [
        ]
      },
      {
        "id" : "02b78414-cf55-4695-975b-12fa4a8cae29",
        "parentId" : "1367ff6e-5729-45e6-a4db-6686ac27d2d4",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "there aren't that many broker registrations, so it's fine to just do defensive copies in both places.  I will add that",
        "createdAt" : "2021-02-11T16:22:39Z",
        "updatedAt" : "2021-02-11T16:25:02Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "670d14112c7d26fd0dc72f77480e97d2c85b9eae",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +63,67 @@    }\n\n    public BrokerRegistration(int id,\n                              long epoch,\n                              Uuid incarnationId,"
  },
  {
    "id" : "825be552-1a36-4fe3-872e-9b9892ddbbb2",
    "prId" : 10949,
    "prUrl" : "https://github.com/apache/kafka/pull/10949#pullrequestreview-696692282",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bb1343f0-2a15-4395-9703-3023e5ef9db4",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I think we are guaranteed to have the listener present, but perhaps it's worth checking explicitly and throwing if it is not the case.",
        "createdAt" : "2021-06-30T22:10:05Z",
        "updatedAt" : "2021-06-30T22:11:13Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "54599e3e-5647-4948-91ba-f01af7ede802",
        "parentId" : "bb1343f0-2a15-4395-9703-3023e5ef9db4",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "Supposedly it's mandatory for brokers, but optional for clients (which really means they should have used a different type for the optional scenarios.)\r\n\r\nI will add a check to the constructor that all listeners have names.",
        "createdAt" : "2021-06-30T23:22:07Z",
        "updatedAt" : "2021-06-30T23:22:07Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "1ef3da1fee9402bd6533faf6d1f0b284c60c29b1",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +47,51 @@        Map<String, Endpoint> listenersMap = new HashMap<>();\n        for (Endpoint endpoint : listeners) {\n            listenersMap.put(endpoint.listenerName().get(), endpoint);\n        }\n        return listenersMap;"
  }
]