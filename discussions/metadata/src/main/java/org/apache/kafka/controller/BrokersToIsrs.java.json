[
  {
    "id" : "d72afbaf-39fc-4562-8a1e-61d01d78ee6d",
    "prId" : 10070,
    "prUrl" : "https://github.com/apache/kafka/pull/10070#pullrequestreview-592598372",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a8e6bf44-ced3-43a7-8c5b-eec7bb58dfbd",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Could we just update `partitions` in place?",
        "createdAt" : "2021-02-12T21:45:14Z",
        "updatedAt" : "2021-02-20T00:12:14Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "1d0b7c05-3da6-4a84-ab73-618aeceafc76",
        "parentId" : "a8e6bf44-ced3-43a7-8c5b-eec7bb58dfbd",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "since this is stored in a `TimelineHashMap` it must be treated as immutable.  We can't modify the past.",
        "createdAt" : "2021-02-17T20:26:52Z",
        "updatedAt" : "2021-02-20T00:12:14Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "7bcdd2ec50b7fbacffcb3c5810a37ae8161a64c3",
    "line" : 255,
    "diffHunk" : "@@ -1,1 +253,257 @@            int cur = partitions[i];\n            if (cur == target) {\n                newPartitions[i] = isLeader ? partition | LEADER_FLAG : partition;\n            } else {\n                newPartitions[i] = cur;"
  },
  {
    "id" : "20ef59af-08d1-4670-9551-9dede7b3f99d",
    "prId" : 10572,
    "prUrl" : "https://github.com/apache/kafka/pull/10572#pullrequestreview-658041906",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e51f6425-89f4-4e7a-b73f-6b4458e6b5b4",
        "parentId" : null,
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "We cannot count through all the offline partitions this way every time metrics get fetched.  As much as possible, there should be no `O(num_partitions)` operations in metrics collection.",
        "createdAt" : "2021-05-12T15:34:15Z",
        "updatedAt" : "2021-05-12T15:34:16Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "53f290ca1f92011d2c2f367afab734d59a4c31a0",
    "line" : 57,
    "diffHunk" : "@@ -1,1 +341,345 @@    }\n\n    int offlinePartitionCount() {\n        return offlinePartitionCount.get();\n    }"
  }
]