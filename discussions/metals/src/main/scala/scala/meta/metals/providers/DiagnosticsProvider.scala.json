[
  {
    "id" : "72166b47-1483-41c4-8bff-13ac6c800f1c",
    "prId" : 215,
    "prUrl" : "https://github.com/scalameta/metals/pull/215#pullrequestreview-108494752",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9fe614af-2ad7-4e06-a83b-2309c9986a44",
        "parentId" : null,
        "authorId" : "3e802404-0641-48bd-8f56-4d5ab70d4eb9",
        "body" : "I was doubting whether this should use the code from `ScalaErrorReporter` instead, like this:\r\n\r\n```scala\r\n  private def scalacAnalyze(doc: m.Document): Seq[Diagnostic] = {\r\n    val index = EagerInMemorySemanticdbIndex(\r\n      m.Database(doc :: Nil),\r\n      m.Sourcepath(Nil),\r\n      m.Classpath(Nil)\r\n    )\r\n    for {\r\n      doc <- index.database.documents\r\n      msg <- doc.messages\r\n    } yield msg.toLSP(\"scalac\")\r\n  }\r\n```\r\n\r\nI tried it, but it was glitchy so I left it as is. I don't understand very well why `EagerInMemorySemanticdbIndex` was used there and whether it should be used here. Semanticdbs we get here are already built interactively, isn't it enough?",
        "createdAt" : "2018-03-31T15:10:16Z",
        "updatedAt" : "2018-03-31T19:24:47Z",
        "lastEditedBy" : "3e802404-0641-48bd-8f56-4d5ab70d4eb9",
        "tags" : [
        ]
      }
    ],
    "commit" : "5708b7b0e46d970250e38a25ad44371815b04c29",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +39,43 @@          val scalacDiagnostics: Seq[Diagnostic] =\n            if (scalacDisabled) Nil\n            else document.messages.map(_.toLSP(\"scalac\"))\n\n          val linterTask: Task[Seq[Diagnostic]] ="
  }
]