[
  {
    "id" : "c4f0b94c-f5ac-4b0a-b23f-f6098b0a0188",
    "prId" : 10579,
    "prUrl" : "https://github.com/apache/kafka/pull/10579#pullrequestreview-681071025",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f8250dc4-4afd-4045-8bb8-8e2fb07a6151",
        "parentId" : null,
        "authorId" : "b4f52e78-c19e-46b4-b486-6da86e32e687",
        "body" : "It seems these 2 attributes can be marked final if you call `Map.clear()` in `close()` instead of replacing the reference.",
        "createdAt" : "2021-06-02T08:00:02Z",
        "updatedAt" : "2021-06-02T08:15:16Z",
        "lastEditedBy" : "b4f52e78-c19e-46b4-b486-6da86e32e687",
        "tags" : [
        ]
      },
      {
        "id" : "38bf8e3f-090a-4bfe-af14-bb78fe038476",
        "parentId" : "f8250dc4-4afd-4045-8bb8-8e2fb07a6151",
        "authorId" : "403b8bdd-d152-4255-86a7-0bdb3d2b40a5",
        "body" : "I went with assigning empty map as Map.clear() needs to go through all the entries and dereference them. Another way is to leave the map as it is and set the cose state and do not allow any operation when it is closed but it will have a check for each call. ",
        "createdAt" : "2021-06-10T17:31:16Z",
        "updatedAt" : "2021-06-10T17:31:16Z",
        "lastEditedBy" : "403b8bdd-d152-4255-86a7-0bdb3d2b40a5",
        "tags" : [
        ]
      }
    ],
    "commit" : "99edb5d679feaaa72df291c00e73de4511208daa",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +43,47 @@    private static final Logger log = LoggerFactory.getLogger(RemotePartitionMetadataStore.class);\n\n    private Map<TopicIdPartition, RemotePartitionDeleteMetadata> idToPartitionDeleteMetadata =\n            new ConcurrentHashMap<>();\n"
  },
  {
    "id" : "95f0ad67-352f-45c1-97ef-1a2866748edd",
    "prId" : 10579,
    "prUrl" : "https://github.com/apache/kafka/pull/10579#pullrequestreview-699029210",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3d2b89a7-3c83-4aaf-b3d4-4ae1c8e187f0",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Could we add a comment for this class?",
        "createdAt" : "2021-06-29T21:58:01Z",
        "updatedAt" : "2021-06-30T18:10:06Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "faf11abb-d99e-4bdf-80aa-a4e51c33306a",
        "parentId" : "3d2b89a7-3c83-4aaf-b3d4-4ae1c8e187f0",
        "authorId" : "403b8bdd-d152-4255-86a7-0bdb3d2b40a5",
        "body" : "Updated with a comment.",
        "createdAt" : "2021-07-05T10:21:39Z",
        "updatedAt" : "2021-07-05T10:21:40Z",
        "lastEditedBy" : "403b8bdd-d152-4255-86a7-0bdb3d2b40a5",
        "tags" : [
        ]
      }
    ],
    "commit" : "99edb5d679feaaa72df291c00e73de4511208daa",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +40,44 @@ * This class represents a store to maintain the {@link RemotePartitionDeleteMetadata} and {@link RemoteLogMetadataCache} for each topic partition.\n */\npublic class RemotePartitionMetadataStore extends RemotePartitionMetadataEventHandler implements Closeable {\n    private static final Logger log = LoggerFactory.getLogger(RemotePartitionMetadataStore.class);\n"
  }
]