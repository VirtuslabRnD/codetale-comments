[
  {
    "id" : "b6fdaf82-8021-46fe-a8eb-8d2d636df2fc",
    "prId" : 10271,
    "prUrl" : "https://github.com/apache/kafka/pull/10271#pullrequestreview-648503473",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a7be2530-49e6-4ed2-8047-a81fb223f6a5",
        "parentId" : null,
        "authorId" : "b4f52e78-c19e-46b4-b486-6da86e32e687",
        "body" : "Why do we need this functionality in a separate class? Currently the only user of this class seems to be `RemoteLogMetadataSerde`. Instead if we just merge the implementation of this class into `RemoteLogMetadataSerde`, it looks simpler to me.",
        "createdAt" : "2021-04-28T08:33:59Z",
        "updatedAt" : "2021-05-04T04:53:22Z",
        "lastEditedBy" : "b4f52e78-c19e-46b4-b486-6da86e32e687",
        "tags" : [
        ]
      },
      {
        "id" : "813cec27-6755-4369-a5e1-325eb4c577c4",
        "parentId" : "a7be2530-49e6-4ed2-8047-a81fb223f6a5",
        "authorId" : "403b8bdd-d152-4255-86a7-0bdb3d2b40a5",
        "body" : "`BytesApiMessageSerde ` is a generic implementation that can be used by others. As I said in my earlier [comment](https://github.com/apache/kafka/pull/10271#issuecomment-826991751) it will be moved to `clients` module.",
        "createdAt" : "2021-04-29T06:30:43Z",
        "updatedAt" : "2021-05-04T04:53:22Z",
        "lastEditedBy" : "403b8bdd-d152-4255-86a7-0bdb3d2b40a5",
        "tags" : [
        ]
      },
      {
        "id" : "28a53fa4-8b9e-4da2-9a92-98cd8c108902",
        "parentId" : "a7be2530-49e6-4ed2-8047-a81fb223f6a5",
        "authorId" : "b4f52e78-c19e-46b4-b486-6da86e32e687",
        "body" : "@satishd I'm a little confused, where do you foresee this being reused by others i.e. other than `RemoteLogMetadataSerde`? Do you have any use cases in mind? I see that it is useful to keep it generic, but without a few clear use cases it is coming at the exchange of added complexity.",
        "createdAt" : "2021-04-29T07:06:17Z",
        "updatedAt" : "2021-05-04T04:53:22Z",
        "lastEditedBy" : "b4f52e78-c19e-46b4-b486-6da86e32e687",
        "tags" : [
        ]
      },
      {
        "id" : "fde2765d-9106-45e6-b495-5dee21ec0f47",
        "parentId" : "a7be2530-49e6-4ed2-8047-a81fb223f6a5",
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "I think the idea is that BytesApiMessageSerde could be reused for any future implementation that wants to serialize ApiMessage into an internal topic. AbstractApiMessageSerde allows the users to have an optimized implementation of Writable, for example, reusing a preallocated ByteBuffer (which the Raft layer uses). However, for most use cases, BytesApiMessageSerde is probably good enough and easier to use.",
        "createdAt" : "2021-04-29T17:27:02Z",
        "updatedAt" : "2021-05-04T04:53:22Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "b2d7d1aa-61fa-48d2-b6c2-c1449576b04c",
        "parentId" : "a7be2530-49e6-4ed2-8047-a81fb223f6a5",
        "authorId" : "b4f52e78-c19e-46b4-b486-6da86e32e687",
        "body" : "Sounds good.",
        "createdAt" : "2021-04-29T18:04:29Z",
        "updatedAt" : "2021-05-04T04:53:22Z",
        "lastEditedBy" : "b4f52e78-c19e-46b4-b486-6da86e32e687",
        "tags" : [
        ]
      }
    ],
    "commit" : "b39e10877ba10d6805e6ba3a9b94e636eaa1777b",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +34,38 @@ * {@code ApiMessage} instance.\n */\npublic abstract class BytesApiMessageSerde {\n\n    private final AbstractApiMessageSerde metadataRecordSerde = new AbstractApiMessageSerde() {"
  }
]