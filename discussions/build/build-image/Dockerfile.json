[
  {
    "id" : "1775a94d-6d27-48f8-bb2b-443366129fde",
    "prId" : 88562,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88562#pullrequestreview-365274889",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7d74e5d6-8011-4649-9dc1-1fb83baaec6f",
        "parentId" : null,
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "`k8s-artifacts-prod/build-image/kube-cross` seems a bit long, no? wanna do `k8s-artifacts-prod/kube-cross`",
        "createdAt" : "2020-02-26T11:18:33Z",
        "updatedAt" : "2020-02-26T21:52:50Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "c857fe12-fa2d-4c20-8562-552ee234d6f7",
        "parentId" : "7d74e5d6-8011-4649-9dc1-1fb83baaec6f",
        "authorId" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "body" : "@dims -- Yes, it's definitely longer that I'd like :joy: \r\nI was just following the convention here, but @thockin was mentioning that there could be exceptions made for certain images. This might qualify as one of them.",
        "createdAt" : "2020-02-26T17:15:48Z",
        "updatedAt" : "2020-02-26T21:52:50Z",
        "lastEditedBy" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "tags" : [
        ]
      },
      {
        "id" : "3f3cf271-2d5d-4c14-9966-b752f430f6f6",
        "parentId" : "7d74e5d6-8011-4649-9dc1-1fb83baaec6f",
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "I don't reeeeeally care about length for this image. `pause` might be an exception, but not this one I don't think. /shrug",
        "createdAt" : "2020-02-26T21:06:59Z",
        "updatedAt" : "2020-02-26T21:52:50Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      },
      {
        "id" : "a15e5049-b1ef-465b-9b64-905c575f2438",
        "parentId" : "7d74e5d6-8011-4649-9dc1-1fb83baaec6f",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "why the geo-centric change? I don't know enough to know what this does (same question applied other places)",
        "createdAt" : "2020-02-26T21:17:30Z",
        "updatedAt" : "2020-02-26T21:52:50Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "274b80f5-8389-43e6-8108-e522581eb3e2",
        "parentId" : "7d74e5d6-8011-4649-9dc1-1fb83baaec6f",
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "https://cloud.google.com/container-registry/docs/pushing-and-pulling#tag_the_local_image_with_the_registry_name\r\n\r\nThe current gcr.io is US based. When we move k8s.gcr.io over I believe it will be global then.\r\n\r\n@listx or @thockin can probably elaborate",
        "createdAt" : "2020-02-26T21:20:35Z",
        "updatedAt" : "2020-02-26T21:52:50Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      },
      {
        "id" : "d0f3fbc1-b37b-42d6-8745-6901b9afd6fb",
        "parentId" : "7d74e5d6-8011-4649-9dc1-1fb83baaec6f",
        "authorId" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "body" : "Yep, yep, what @cblecker said (from my understanding).",
        "createdAt" : "2020-02-26T21:59:39Z",
        "updatedAt" : "2020-02-26T21:59:39Z",
        "lastEditedBy" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "tags" : [
        ]
      }
    ],
    "commit" : "e64169d6b51a1bd31947ce75c85ef6aaa9ba5d88",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +14,18 @@\n# This file creates a standard build environment for building Kubernetes\nFROM us.gcr.io/k8s-artifacts-prod/build-image/kube-cross:KUBE_BUILD_IMAGE_CROSS_TAG\n\n# Mark this as a kube-build container"
  },
  {
    "id" : "b43f8d3f-8543-4847-9d04-81c908952b57",
    "prId" : 46193,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/46193#pullrequestreview-41315294",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b0834c5a-0366-461b-8b82-ec1a753b266f",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "even though this is inside docker, 0777 rings the alarm bell.",
        "createdAt" : "2017-05-31T06:57:16Z",
        "updatedAt" : "2017-07-25T19:27:17Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "c06f27cc-998a-4d84-8989-b66eade1f4ec",
        "parentId" : "b0834c5a-0366-461b-8b82-ec1a753b266f",
        "authorId" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "body" : "The reason for this is here: https://github.com/kubernetes/kubernetes/pull/46193/files#diff-8188c017a3a4a9343bc9920417e2376bR70\r\n\r\nWe're `go get`ing these tools as root when the kube-cross container is built, which breaks the perms on the GOPATH when we try to restore godeps",
        "createdAt" : "2017-05-31T18:24:12Z",
        "updatedAt" : "2017-07-25T19:27:17Z",
        "lastEditedBy" : "1256edc4-2c21-4b50-9371-9c0a50744653",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ee8983dafbb047871d673089f8b29758a07ba06",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +42,46 @@\n# Fix permissions on gopath\nRUN chmod -R a+rwx $GOPATH\n\n# Make log messages use the right timezone"
  },
  {
    "id" : "ca6f7e73-db1e-4c54-ba01-ae692401d8db",
    "prId" : 25978,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "40e46fa2-ff0d-4c57-8938-cba503206462",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Why do we need to created and chmod _output directory?\n\n(For chmod you are doing it recursively it anyway, so you don't need it, right?)\n",
        "createdAt" : "2016-07-06T05:48:18Z",
        "updatedAt" : "2016-07-13T04:53:03Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "4d236b22-7273-4792-aca7-546e1b62fe3f",
        "parentId" : "40e46fa2-ff0d-4c57-8938-cba503206462",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "Sadly, docker is just sort of brain damaged.  If I don't mkdir _output, docker will mkdir it for me, but it will do so as root.  I need to be able to write to it.  If I don't chmod ir explicitly, it does not stick.  I can't explain why, and I didn't want to waste more time on it.  Will comment.\n",
        "createdAt" : "2016-07-06T07:25:20Z",
        "updatedAt" : "2016-07-13T04:53:03Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "66bb45a1-f3aa-441e-8ea5-3c55716c268d",
        "parentId" : "40e46fa2-ff0d-4c57-8938-cba503206462",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "This is super strange. But I agree it doesn't make sense to spend more time on it.\n",
        "createdAt" : "2016-07-06T08:19:32Z",
        "updatedAt" : "2016-07-13T04:53:03Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "fef16dd541356b9de3df1d180d0d96daebb874d2",
    "line" : null,
    "diffHunk" : "@@ -1,1 +29,33 @@# mount volumes, and it will create them with root-only permissions.  The\n# explicit chmod of _output is required, but I can't really explain why.\nRUN mkdir -p ${HOME} ${HOME}/_output \\\n    && chmod -R a+rwx ${HOME} ${HOME}/_output\n"
  },
  {
    "id" : "c7122685-f354-4f8c-9200-1d74bbaffc11",
    "prId" : 20882,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ef2e50b4-3f12-46ae-a247-1569627590cf",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "though OTOH maybe we don't need this at all anymore, since we aren't `go get` or `apt-get` or `curl`ing?\n",
        "createdAt" : "2016-02-11T05:09:10Z",
        "updatedAt" : "2016-02-16T18:08:00Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "02ab2cee-d7f1-4ed7-b330-76643eb3f138",
        "parentId" : "ef2e50b4-3f12-46ae-a247-1569627590cf",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "Ya, I don't have context on why it was added but  maybe it can be removed now. I don't think that it's vital to get this removed in this PR though.\n",
        "createdAt" : "2016-02-16T18:09:16Z",
        "updatedAt" : "2016-02-16T18:09:16Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3b9fa62d6a3aacaa5fede2930a452a782f2876a",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +16,20 @@FROM gcr.io/google_containers/kube-cross:KUBE_BUILD_IMAGE_CROSS_TAG\n\nENV http_proxy=KUBE_BUILD_HTTP_PROXY \\\n  https_proxy=KUBE_BUILD_HTTPS_PROXY \\\n  no_proxy=KUBE_BUILD_NO_PROXY"
  },
  {
    "id" : "5f9c7493-c316-435f-86db-44a2e8829540",
    "prId" : 19994,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "03f950ac-916e-49db-8fd6-7dab1f72e8fc",
        "parentId" : null,
        "authorId" : "d513ff43-94d3-4f43-8358-1fb8132b6aae",
        "body" : "I don't know Docker very well, but I'd expect this to be `${KUBE_BUILD_IMAGE_CROSS}`?\n",
        "createdAt" : "2016-01-22T19:23:50Z",
        "updatedAt" : "2016-01-22T19:45:46Z",
        "lastEditedBy" : "d513ff43-94d3-4f43-8358-1fb8132b6aae",
        "tags" : [
        ]
      },
      {
        "id" : "d51dceb2-9a23-4cf8-b4a4-1965ed57425c",
        "parentId" : "03f950ac-916e-49db-8fd6-7dab1f72e8fc",
        "authorId" : "d513ff43-94d3-4f43-8358-1fb8132b6aae",
        "body" : "Oh, I see the `sed` below.  Is there a better way to do this?  At the very least, definitely add a comment because this pretty sneaky.\n",
        "createdAt" : "2016-01-22T19:25:14Z",
        "updatedAt" : "2016-01-22T19:45:46Z",
        "lastEditedBy" : "d513ff43-94d3-4f43-8358-1fb8132b6aae",
        "tags" : [
        ]
      },
      {
        "id" : "2cf9d08d-1c80-4cba-b5ae-f274866e883a",
        "parentId" : "03f950ac-916e-49db-8fd6-7dab1f72e8fc",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "The better way was introduced in Docker 1.9 and involves the `ARG` statement (at least, I _think_ you can use `ARG` with `FROM`), but I don't want to introduce a dep on Docker 1.9 yet.\n",
        "createdAt" : "2016-01-22T19:41:59Z",
        "updatedAt" : "2016-01-22T19:45:46Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "07c304b43d214d30eea8702d9824f6cfa21bd404",
    "line" : null,
    "diffHunk" : "@@ -1,1 +17,21 @@# We replace KUBE_BUILD_IMAGE_CROSS in build/common.sh with the actual\n# cross-build image tag.\nFROM KUBE_BUILD_IMAGE_CROSS\n\nMAINTAINER  Joe Beda <jbeda@google.com>"
  },
  {
    "id" : "f06cc103-ee5f-437e-86e0-05cd5eb12e84",
    "prId" : 15336,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0bf2fdc5-be02-475b-a9be-da8448c6aa03",
        "parentId" : null,
        "authorId" : null,
        "body" : "It's important to keep this in sync with what we install in our default cluster builds.  How are the two kept in sync?\n",
        "createdAt" : "2015-10-08T23:31:52Z",
        "updatedAt" : "2015-10-13T23:06:32Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "1c5f252653a5a5559b1f58ea1eb9e0ddfcc00c02",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +36,40 @@\n# Download and symlink etcd.  We need this for our integration tests.\nENV ETCD_VERSION v2.0.12\nRUN mkdir -p /usr/local/src/etcd &&\\\n    cd /usr/local/src/etcd &&\\"
  },
  {
    "id" : "142a987e-fa1c-42c9-b4f6-a30244243457",
    "prId" : 141,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "334eefc3-a632-4957-95c3-5d257e71ff55",
        "parentId" : null,
        "authorId" : "6001b825-f0f9-4fc3-b624-34a076b031e1",
        "body" : "is there a reason you do that as a separate step instead of adding linux/amd64 to the GOOS list?\n",
        "createdAt" : "2014-06-17T22:50:35Z",
        "updatedAt" : "2014-06-17T23:11:20Z",
        "lastEditedBy" : "6001b825-f0f9-4fc3-b624-34a076b031e1",
        "tags" : [
        ]
      },
      {
        "id" : "fa80033e-d94a-4ef7-9be2-e4e366da7a1a",
        "parentId" : "334eefc3-a632-4957-95c3-5d257e71ff55",
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "Inspired by the Docker Dockerfile.  Regardless -- linux/amd64 is special as that is the combo that we'll be supporting for cluster binaries.  The others are just for the client code.\n",
        "createdAt" : "2014-06-17T23:04:49Z",
        "updatedAt" : "2014-06-17T23:11:20Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      }
    ],
    "commit" : "4f63a690ee8d766d00ed4639a72c6a432c7325aa",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +30,34 @@RUN curl -s https://storage.googleapis.com/golang/go1.2.2.src.tar.gz | tar -C /usr/local -xz\nENV PATH  /usr/local/go/bin:$PATH\nRUN cd /usr/local/go/src && ./make.bash --no-clean 2>&1\n\n# Compile Go for cross compilation"
  }
]