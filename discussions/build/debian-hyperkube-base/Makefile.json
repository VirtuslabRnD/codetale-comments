[
  {
    "id" : "6eefcc27-b7d5-4571-ab39-a89753ea2a78",
    "prId" : 91387,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/91387#pullrequestreview-418805292",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8c991cbe-4b55-4fd0-b8bf-df9fd35bf286",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "is there a reason to make this v1.0.0? will that trick people into using it when they shouldn't? (\"It's GA!\")",
        "createdAt" : "2020-05-27T01:28:52Z",
        "updatedAt" : "2020-05-27T01:28:53Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "4ceb026f-5deb-4738-8c78-6cd81cc3a2e1",
        "parentId" : "8c991cbe-4b55-4fd0-b8bf-df9fd35bf286",
        "authorId" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "body" : "@liggitt -- mostly because there are barely calculable amount of changes between the images and I want to make it clear that there might not be a SemVer-ish compatibility guarantee between package versions in both.\r\n\r\nEDIT: to be fair, this is a base image tag bump, not hyperkube itself, so I _think_ we're safe in that regard.",
        "createdAt" : "2020-05-27T01:32:02Z",
        "updatedAt" : "2020-05-27T01:33:18Z",
        "lastEditedBy" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "tags" : [
        ]
      },
      {
        "id" : "97c31f12-3004-434a-904d-576d8eef19ec",
        "parentId" : "8c991cbe-4b55-4fd0-b8bf-df9fd35bf286",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "ok... I'm fuzzy on the implications of this in a cherry-pick back to 1.17/1.16... would those also update their own hyperkube base images?",
        "createdAt" : "2020-05-27T01:33:24Z",
        "updatedAt" : "2020-05-27T01:33:24Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "abe6d7ef-59e7-4c45-b8a7-c7d804856f31",
        "parentId" : "8c991cbe-4b55-4fd0-b8bf-df9fd35bf286",
        "authorId" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "body" : "This PR is going to do two things:\r\n- update CNI plugins to v0.8.6\r\n- trigger a staging build for debian-hyperkube-base@v1.0.0\r\n\r\nThen we'll need to:\r\n- promote the image to prod\r\n- open another 1.18 PR to actually use the new image in the relevant file(s) (specified in `build/dependencies.yaml`)\r\n\r\nWe should only enable debian-hyperkube-base image building for `release-1.18`, because we don't actually need to build the image on every branch (just the latest branch that still supports hyperkube).\r\n\r\nThe cherry picks for 1.17 and 1.16 will instead include just:\r\n- update CNI plugins to v0.8.6\r\n- use the new image in the relevant file(s) (specified in `build/dependencies.yaml`)",
        "createdAt" : "2020-05-27T01:41:50Z",
        "updatedAt" : "2020-05-27T01:41:50Z",
        "lastEditedBy" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "tags" : [
        ]
      },
      {
        "id" : "1d75aab6-5984-4a79-b26d-3bdf61ce086e",
        "parentId" : "8c991cbe-4b55-4fd0-b8bf-df9fd35bf286",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "ah, ok. would it make sense to split the hyperkube-base build bit we don't intend to pick back to 1.17/1.16 into a separate PR and merge it first, so this PR can include the `actually use the new image in the relevant file(s) (specified in build/dependencies.yaml)` bit and match 1.17/1.16 as closely as possible?",
        "createdAt" : "2020-05-27T01:46:58Z",
        "updatedAt" : "2020-05-27T01:47:39Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "3f2da3ef-9a42-49d0-9884-2455a4c13dca",
        "parentId" : "8c991cbe-4b55-4fd0-b8bf-df9fd35bf286",
        "authorId" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "body" : "@liggitt -- I actually purposely did it this way.\r\n\r\nIf we do the image build as a separate PR, it means that we'll have to build that one using CNI plugins @ v0.8.5, which means roughly 5 PRs related to 1.18, instead of 2.",
        "createdAt" : "2020-05-27T01:50:30Z",
        "updatedAt" : "2020-05-27T01:50:30Z",
        "lastEditedBy" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "tags" : [
        ]
      },
      {
        "id" : "3a23220c-afad-4e19-a272-134220f7191a",
        "parentId" : "8c991cbe-4b55-4fd0-b8bf-df9fd35bf286",
        "authorId" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "body" : "Concretely, the 1.18 PRs would end up being:\r\nbuild new debian-hyperkube-base (with CNI plugins v0.8.5) --> promote --> CNI v0.8.6 bump (which builds another new image) --> promote --> PR to use new debian-hyperkube-base image",
        "createdAt" : "2020-05-27T01:54:10Z",
        "updatedAt" : "2020-05-27T01:54:11Z",
        "lastEditedBy" : "3fde4c0c-f2fd-4cd3-b1e2-b274bd6fc0fa",
        "tags" : [
        ]
      }
    ],
    "commit" : "2d9e14f4a214056a9d68f97f9c60501553cc37f3",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +20,24 @@REGISTRY?=gcr.io/k8s-staging-build-image\nIMAGE?=$(REGISTRY)/debian-hyperkube-base\nTAG?=v1.0.0\nARCH?=amd64\nALL_ARCH = amd64 arm arm64 ppc64le s390x"
  },
  {
    "id" : "b3b4920e-32c7-4cf0-a8fc-f4ec3840e1b9",
    "prId" : 67463,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/67463#pullrequestreview-146658465",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b06ec461-6dbf-45ef-b7a6-e3c8b71882e6",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "we don't actually use debian-hyperkube-base 0.8 anywhere, so we don't really need to push a new image for this. I could drop changes here entirely, but that was more effort.",
        "createdAt" : "2018-08-15T23:42:13Z",
        "updatedAt" : "2018-09-18T22:21:47Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "18697731c1f6f7b13a95c86f314312643019ea98",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +20,24 @@REGISTRY?=gcr.io/google-containers\nIMAGE?=debian-hyperkube-base\nTAG=0.8.1\nARCH?=amd64\nCACHEBUST?=1"
  },
  {
    "id" : "ee4b37d7-f1e7-42a6-93b7-0d24c88a4e4d",
    "prId" : 59664,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/59664#pullrequestreview-156144135",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8e2d575d-6fc0-43b8-b576-7cfe3dc5b6be",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "similarly here - can we just rely on the manifest list doing the right thing?",
        "createdAt" : "2018-09-17T22:23:36Z",
        "updatedAt" : "2018-09-20T00:01:09Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "c4e47b22-7e5f-44fd-b9bb-1914e355ad5e",
        "parentId" : "8e2d575d-6fc0-43b8-b576-7cfe3dc5b6be",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "we could probably also put the image in the Dockerfile directly too, rather than the `sed` stuff?",
        "createdAt" : "2018-09-17T22:24:10Z",
        "updatedAt" : "2018-09-20T00:01:09Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "816f2987-079e-4f24-8e3e-9928b56fa939",
        "parentId" : "8e2d575d-6fc0-43b8-b576-7cfe3dc5b6be",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "oh nm, I realize now that won't work, since docker would have no way of knowing which arch we really want when cross-building.",
        "createdAt" : "2018-09-17T22:25:28Z",
        "updatedAt" : "2018-09-20T00:01:09Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "5f42f4ce-c005-4299-93ea-e2c3b072d0bc",
        "parentId" : "8e2d575d-6fc0-43b8-b576-7cfe3dc5b6be",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "... though apparently maybe we could use the `--platform` option with `docker pull` and `docker build`",
        "createdAt" : "2018-09-17T22:27:54Z",
        "updatedAt" : "2018-09-20T00:01:09Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "13b97b89-56bc-4094-87e9-cacd48591f8a",
        "parentId" : "8e2d575d-6fc0-43b8-b576-7cfe3dc5b6be",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "... but that seems to require the server to be running in experimental mode. bleh.",
        "createdAt" : "2018-09-17T22:30:08Z",
        "updatedAt" : "2018-09-20T00:01:09Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "76256cceffd307d3f9c08e852d573a4093ab1ad4",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +25,29 @@CACHEBUST?=1\n\nBASEIMAGE=k8s.gcr.io/debian-base-$(ARCH):0.3.2\nCNI_VERSION=v0.6.0\n"
  },
  {
    "id" : "9fc5554f-9239-423c-831f-9ca6b65a8d4e",
    "prId" : 52744,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/52744#pullrequestreview-77921005",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "731832ce-cbe7-4ac0-b903-7d686b46318f",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "it seems like the TAG bump here got lost :\\",
        "createdAt" : "2017-10-31T19:10:48Z",
        "updatedAt" : "2017-11-10T15:54:31Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "534eee90-4d8d-46a5-bef5-b45c1663f6af",
        "parentId" : "731832ce-cbe7-4ac0-b903-7d686b46318f",
        "authorId" : "3eccedfc-5c53-4555-94cb-69f2b56e485c",
        "body" : "sorry, so many bumps I forgot to bump it an extra time. fixed!",
        "createdAt" : "2017-10-31T19:31:29Z",
        "updatedAt" : "2017-11-10T15:54:31Z",
        "lastEditedBy" : "3eccedfc-5c53-4555-94cb-69f2b56e485c",
        "tags" : [
        ]
      },
      {
        "id" : "16c5e473-ad22-491f-aff2-86ec562f538c",
        "parentId" : "731832ce-cbe7-4ac0-b903-7d686b46318f",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "seems like the bump in `cluster/images/hyperkube/Makefile` got lost, too.",
        "createdAt" : "2017-11-20T21:00:34Z",
        "updatedAt" : "2017-11-20T21:00:34Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "66965daf56acce68424b1b60283017f5e0d73050",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +21,25 @@IMAGE?=debian-hyperkube-base\nTAG=0.6\nARCH?=amd64\nCACHEBUST?=1\n"
  },
  {
    "id" : "449d3370-4572-477c-9842-d1c89bc26c66",
    "prId" : 51250,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/51250#pullrequestreview-70725125",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5b9a3a32-b403-4c90-8036-8ccf94e16236",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "we should have bumped the `debian-hyperkube-base` tag here.",
        "createdAt" : "2017-10-19T19:12:48Z",
        "updatedAt" : "2017-10-19T19:12:49Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "a6695fb4-221f-48f8-8449-c140cb771c5c",
        "parentId" : "5b9a3a32-b403-4c90-8036-8ccf94e16236",
        "authorId" : "3c1422a0-6358-4857-8f56-961979171514",
        "body" : "Will do in another PR.",
        "createdAt" : "2017-10-20T01:27:06Z",
        "updatedAt" : "2017-10-20T01:27:06Z",
        "lastEditedBy" : "3c1422a0-6358-4857-8f56-961979171514",
        "tags" : [
        ]
      }
    ],
    "commit" : "94b70b79da23facd02f2378cb0c07f4e10aec184",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +25,29 @@\nBASEIMAGE=gcr.io/google-containers/debian-base-$(ARCH):0.2\nCNI_VERSION=v0.6.0\n\nTEMP_DIR:=$(shell mktemp -d)"
  },
  {
    "id" : "37f18e92-0430-4bed-97bc-3b0f0c8b50bc",
    "prId" : 48365,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/48365#pullrequestreview-47515443",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "63f6e40b-d0be-4aca-9e4e-34dc11a12615",
        "parentId" : null,
        "authorId" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "body" : "I'm guessing you want CACHEBUST to also redownload the cni-bins?",
        "createdAt" : "2017-06-30T23:38:04Z",
        "updatedAt" : "2017-07-25T22:04:40Z",
        "lastEditedBy" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "tags" : [
        ]
      },
      {
        "id" : "2d62180c-340e-4518-91b1-e57cdfd84322",
        "parentId" : "63f6e40b-d0be-4aca-9e4e-34dc11a12615",
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "since the cni tars are tagged with a git sha, there's really no reason to ever re-download them at the same sha; OTOH, we probably do want to force `apt-get` to not be cached.",
        "createdAt" : "2017-06-30T23:50:33Z",
        "updatedAt" : "2017-07-25T22:04:40Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "66b9ae7cd86e1f594f57a6e5d3b11ef9f09460b3",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +45,49 @@\tcd $(TEMP_DIR) && sed -i \"s|BASEIMAGE|$(BASEIMAGE)|g\" Dockerfile\n\nifeq ($(CACHEBUST),1)\n\tcd ${TEMP_DIR} && sed -i.back \"s|CACHEBUST|$(shell uuidgen)|g\" Dockerfile\nendif"
  }
]