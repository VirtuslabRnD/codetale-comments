[
  {
    "id" : "db5f2215-4db0-4012-bd1e-645268c60ceb",
    "prId" : 98373,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/98373#pullrequestreview-576623113",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3239e3a2-ac0b-45da-9878-cb77c7131747",
        "parentId" : null,
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "it is inside the `isMultiNUMA` branch, meaning, there are more than 1 cpu, correct? Not following why it may be just 1.",
        "createdAt" : "2021-01-26T17:33:07Z",
        "updatedAt" : "2021-01-26T17:33:08Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "efc32055-6c93-46e5-9937-09674266d7c9",
        "parentId" : "3239e3a2-ac0b-45da-9878-cb77c7131747",
        "authorId" : "b15151c4-81af-487d-8c8f-a4f39690bd34",
        "body" : "it calls `getCoreSiblingList(0)` to get all cores that placed under the same NUMA node as the CPU 0, so if the NUMA node has only one core, that unusual but possible(with fake NUMA for example), it will return the list with only one element.",
        "createdAt" : "2021-01-26T18:08:34Z",
        "updatedAt" : "2021-01-26T18:08:35Z",
        "lastEditedBy" : "b15151c4-81af-487d-8c8f-a4f39690bd34",
        "tags" : [
        ]
      }
    ],
    "commit" : "d2c3f52532925c9d90c2573de61b5858e699b104",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +284,288 @@\t} else if isMultiNUMA() {\n\t\tcpuList = cpuset.MustParse(getCoreSiblingList(0)).ToSlice()\n\t\tif len(cpuList) > 1 {\n\t\t\tcpu1 = cpuList[1]\n\t\t}"
  },
  {
    "id" : "be8f7524-88d7-43d8-bc81-ffc7d43585ec",
    "prId" : 98373,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/98373#pullrequestreview-576627787",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e4045450-b164-4186-b54b-f670304a1d87",
        "parentId" : null,
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "barely understand the logic of this test. Comment from the common sense: is the default value `1` be working in later call to `cpuset.NewCPUSet(cpu1)`? Curious why default value is not `0`.\r\n\r\nIf nobody else will comment with knowledge of these tests I will take a deeper look later",
        "createdAt" : "2021-01-26T17:36:10Z",
        "updatedAt" : "2021-01-26T17:36:10Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "3c3eef24-da64-4787-b09c-3a9ea4fca683",
        "parentId" : "e4045450-b164-4186-b54b-f670304a1d87",
        "authorId" : "b15151c4-81af-487d-8c8f-a4f39690bd34",
        "body" : "the test assumes that the CPU 0 is a reserved one, and it some logic under the CPU manager that takes CPUs by NUMA nodes, for example, if NUMA node 0 has enough CPUs to satisfy the container request it will use CPUs from the NUMA node 0, otherwise, it will pass to the next NUMA node\r\ngive me know if you need a better explanation",
        "createdAt" : "2021-01-26T18:13:10Z",
        "updatedAt" : "2021-01-26T18:13:11Z",
        "lastEditedBy" : "b15151c4-81af-487d-8c8f-a4f39690bd34",
        "tags" : [
        ]
      }
    ],
    "commit" : "d2c3f52532925c9d90c2573de61b5858e699b104",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +366,370 @@\t\tcpuList = cpuset.MustParse(getCoreSiblingList(0)).ToSlice()\n\t\tif len(cpuList) > 1 {\n\t\t\tcpu1 = cpuList[1]\n\t\t}\n\t}"
  },
  {
    "id" : "90c4fabc-d3ee-4495-9c3b-77d61090501f",
    "prId" : 98373,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/98373#pullrequestreview-581532267",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6fff5c9f-8c0d-4dfb-a324-7c4b20e14f73",
        "parentId" : null,
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "is the assumption that cpuCap is a single digit number?",
        "createdAt" : "2021-02-02T00:31:22Z",
        "updatedAt" : "2021-02-02T00:31:22Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "4755f75a-732b-4217-9804-ceb4fd1bec5b",
        "parentId" : "6fff5c9f-8c0d-4dfb-a324-7c4b20e14f73",
        "authorId" : "b15151c4-81af-487d-8c8f-a4f39690bd34",
        "body" : "yep, it passed to the method as `cpuCap int64`",
        "createdAt" : "2021-02-02T12:55:18Z",
        "updatedAt" : "2021-02-02T12:55:19Z",
        "lastEditedBy" : "b15151c4-81af-487d-8c8f-a4f39690bd34",
        "tags" : [
        ]
      },
      {
        "id" : "e7c349e1-c46d-4caf-adf5-ba4e68ebc7c7",
        "parentId" : "6fff5c9f-8c0d-4dfb-a324-7c4b20e14f73",
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "as long as this assumption is OK",
        "createdAt" : "2021-02-02T16:29:54Z",
        "updatedAt" : "2021-02-02T16:29:55Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      }
    ],
    "commit" : "d2c3f52532925c9d90c2573de61b5858e699b104",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +315,319 @@\n\tginkgo.By(\"checking if the expected cpuset was assigned\")\n\texpAllowedCPUsListRegex = fmt.Sprintf(\"^0-%d\\n$\", cpuCap-1)\n\t// on the single CPU node the only possible value is 0\n\tif cpuCap == 1 {"
  },
  {
    "id" : "c31dd22c-9ad0-420b-80d5-12d7c66e360a",
    "prId" : 88566,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88566#pullrequestreview-367368321",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8d15ccae-c39c-4346-b8a7-d65f67ecd5a3",
        "parentId" : null,
        "authorId" : "154a8533-a24d-4af9-81fb-0e2db0a9acf3",
        "body" : "If I'm not mistaken, the original code had \r\n```\r\nwaitForContainerRemoval(pod.Spec.Containers[0].Name, pod.Name, pod.Namespace)\r\n```\r\nhere. If so, I'd add it again.",
        "createdAt" : "2020-03-02T15:43:56Z",
        "updatedAt" : "2020-03-02T17:08:02Z",
        "lastEditedBy" : "154a8533-a24d-4af9-81fb-0e2db0a9acf3",
        "tags" : [
        ]
      },
      {
        "id" : "0ba94111-8a44-4b26-a32e-91389a541ea9",
        "parentId" : "8d15ccae-c39c-4346-b8a7-d65f67ecd5a3",
        "authorId" : "c895ccc5-4e53-47aa-a7c3-da8806fcad2b",
        "body" : "Good catch.",
        "createdAt" : "2020-03-02T17:03:53Z",
        "updatedAt" : "2020-03-02T17:08:02Z",
        "lastEditedBy" : "c895ccc5-4e53-47aa-a7c3-da8806fcad2b",
        "tags" : [
        ]
      }
    ],
    "commit" : "1ede096465de33cf7c877ea02887d03cfe7ca328",
    "line" : 67,
    "diffHunk" : "@@ -1,1 +319,323 @@\n\tginkgo.By(\"by deleting the pods and waiting for container removal\")\n\tdeletePods(f, []string{pod.Name})\n\twaitForContainerRemoval(pod.Spec.Containers[0].Name, pod.Name, pod.Namespace)\n}"
  },
  {
    "id" : "60456491-0c80-4568-94c0-836f945cb234",
    "prId" : 86413,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/86413#pullrequestreview-347712466",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3e5ccbee-0bed-42eb-ae86-6560579a1386",
        "parentId" : null,
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "Yes, this index(`Containers[1]`) seems for comparing pod.Spec.Containers[1].Name and expAllowedCPUsListRegex.\r\n",
        "createdAt" : "2020-01-24T01:32:40Z",
        "updatedAt" : "2020-01-24T01:32:55Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "745248dd6f5d98a63162c822e84921eacec16ab8",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +425,429 @@\t\terr = f.PodClient().MatchContainerOutput(pod.Name, pod.Spec.Containers[1].Name, expAllowedCPUsListRegex)\n\t\tframework.ExpectNoError(err, \"expected log not found in container [%s] of pod [%s]\",\n\t\t\tpod.Spec.Containers[1].Name, pod.Name)\n\n\t\tginkgo.By(\"by deleting the pods and waiting for container removal\")"
  },
  {
    "id" : "4174dcb6-6e54-480a-bfb3-9fdbff2a2e59",
    "prId" : 57976,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/57976#pullrequestreview-87380022",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c3bc4a47-27f0-464b-ae50-46843312b2e5",
        "parentId" : null,
        "authorId" : "06c8ba1e-f06e-4e0f-b9bd-1533747adc93",
        "body" : "The `[Serial]` tag was removed as the CPU manager tests are run as a separate job in the CI/CD env. We can add it back when we want to run it as a part of the node e2e serial tests. \r\n  ",
        "createdAt" : "2018-01-08T23:15:17Z",
        "updatedAt" : "2018-01-09T22:59:33Z",
        "lastEditedBy" : "06c8ba1e-f06e-4e0f-b9bd-1533747adc93",
        "tags" : [
        ]
      },
      {
        "id" : "cbab093d-2a90-471c-b709-a6808cbd3df5",
        "parentId" : "c3bc4a47-27f0-464b-ae50-46843312b2e5",
        "authorId" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "body" : "@balajismaniam Actually the test is running in regular node e2e test today (Search \"CPU Manager\" in https://storage.googleapis.com/kubernetes-jenkins/logs/ci-kubernetes-node-kubelet/9809/build-log.txt), it is just skipped because the node has less than 2 CPUs.\r\nGiven that I prefer run and skip this in Serial test suite.",
        "createdAt" : "2018-01-08T23:55:48Z",
        "updatedAt" : "2018-01-09T22:59:33Z",
        "lastEditedBy" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "tags" : [
        ]
      },
      {
        "id" : "7298b500-7d45-4749-be53-1111b9913890",
        "parentId" : "c3bc4a47-27f0-464b-ae50-46843312b2e5",
        "authorId" : "06c8ba1e-f06e-4e0f-b9bd-1533747adc93",
        "body" : "Alright. Sounds good.",
        "createdAt" : "2018-01-09T00:10:51Z",
        "updatedAt" : "2018-01-09T22:59:33Z",
        "lastEditedBy" : "06c8ba1e-f06e-4e0f-b9bd-1533747adc93",
        "tags" : [
        ]
      }
    ],
    "commit" : "e05a5b9f7a9723c12a652a7e1ff7fb069d60f623",
    "line" : 114,
    "diffHunk" : "@@ -1,1 +427,431 @@\n// Serial because the test updates kubelet configuration.\nvar _ = SIGDescribe(\"CPU Manager [Serial] [Feature:CPUManager]\", func() {\n\tf := framework.NewDefaultFramework(\"cpu-manager-test\")\n"
  },
  {
    "id" : "71ed1f35-5726-4405-9a70-a929353bc7b8",
    "prId" : 51041,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/51041#pullrequestreview-61070821",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "56cf04bf-a685-42be-9cff-344f23e0f226",
        "parentId" : null,
        "authorId" : "8b309230-89cb-4a04-bf89-29a323dad0d8",
        "body" : "Is the `[Serial]` suffix still required now that we moved everything into one test block?",
        "createdAt" : "2017-09-06T21:49:00Z",
        "updatedAt" : "2017-09-11T16:29:55Z",
        "lastEditedBy" : "8b309230-89cb-4a04-bf89-29a323dad0d8",
        "tags" : [
        ]
      },
      {
        "id" : "12490132-3dcb-4b02-bc6b-294890dca6cc",
        "parentId" : "56cf04bf-a685-42be-9cff-344f23e0f226",
        "authorId" : "06c8ba1e-f06e-4e0f-b9bd-1533747adc93",
        "body" : "Yes, I think so. Serial and/or Disruptive is being used in all the node e2e tests which change the kubelet config. Also, serial tests are run separately (https://github.com/kubernetes/kubernetes/blob/master/test/e2e_node/jenkins/image-config-serial.yaml vs. https://github.com/kubernetes/kubernetes/blob/master/test/e2e_node/jenkins/image-config.yaml). ",
        "createdAt" : "2017-09-06T21:57:50Z",
        "updatedAt" : "2017-09-11T16:29:55Z",
        "lastEditedBy" : "06c8ba1e-f06e-4e0f-b9bd-1533747adc93",
        "tags" : [
        ]
      },
      {
        "id" : "57c6138f-08b2-4b06-a9bb-5b0c13b2d415",
        "parentId" : "56cf04bf-a685-42be-9cff-344f23e0f226",
        "authorId" : "06c8ba1e-f06e-4e0f-b9bd-1533747adc93",
        "body" : "https://github.com/kubernetes/kubernetes/blob/master/test/e2e_node/jenkins/jenkins-serial-ubuntu.properties#L9 is also required.",
        "createdAt" : "2017-09-06T22:32:59Z",
        "updatedAt" : "2017-09-11T16:29:55Z",
        "lastEditedBy" : "06c8ba1e-f06e-4e0f-b9bd-1533747adc93",
        "tags" : [
        ]
      },
      {
        "id" : "b1e07745-362d-49f4-9147-9fbb65550567",
        "parentId" : "56cf04bf-a685-42be-9cff-344f23e0f226",
        "authorId" : "8b309230-89cb-4a04-bf89-29a323dad0d8",
        "body" : "OK, that makes sense.",
        "createdAt" : "2017-09-06T22:39:22Z",
        "updatedAt" : "2017-09-11T16:29:55Z",
        "lastEditedBy" : "8b309230-89cb-4a04-bf89-29a323dad0d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "affa182fde4bbcf794f5d707234ae1c5e4ed002d",
    "line" : 419,
    "diffHunk" : "@@ -1,1 +417,421 @@\n// Serial because the test updates kubelet configuration.\nvar _ = framework.KubeDescribe(\"CPU Manager [Serial]\", func() {\n\tf := framework.NewDefaultFramework(\"cpu-manager-test\")\n"
  }
]