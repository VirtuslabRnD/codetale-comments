[
  {
    "id" : "654de04d-dc90-4816-b7c6-ae863c2dc78d",
    "prId" : 102890,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102890#pullrequestreview-694082139",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "46778d5c-6491-4474-8657-a7a3db03e4d9",
        "parentId" : null,
        "authorId" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "body" : "I would copy one of these tests and leave it as beta so we continue to have coverage.",
        "createdAt" : "2021-06-24T13:28:12Z",
        "updatedAt" : "2021-06-24T13:41:24Z",
        "lastEditedBy" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "tags" : [
        ]
      },
      {
        "id" : "278378fe-df3e-4b91-9f2e-cf18563dcc80",
        "parentId" : "46778d5c-6491-4474-8657-a7a3db03e4d9",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "+1 for leaving existing tests intact and adding a v1 test",
        "createdAt" : "2021-06-27T01:32:16Z",
        "updatedAt" : "2021-06-27T01:33:12Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "a53a4b11-1fc6-4a9a-94d3-a46e587924b5",
        "parentId" : "46778d5c-6491-4474-8657-a7a3db03e4d9",
        "authorId" : "3facb628-1605-4337-a02a-e4886173f7bf",
        "body" : "https://github.com/kubernetes/kubernetes/pull/102890/commits/5a3139890ba7da6488233cd389af371b3d77363a runs all basic tests with v1 and v1beta1\r\n\r\nhttps://github.com/kubernetes/kubernetes/pull/102890/commits/c1e9e36256f871cd811706552f919b8b4f9c1c09 adds a negative v1 test",
        "createdAt" : "2021-06-28T15:14:35Z",
        "updatedAt" : "2021-06-28T15:14:35Z",
        "lastEditedBy" : "3facb628-1605-4337-a02a-e4886173f7bf",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e1c4d7548de0b39a2d70a748ca0b9aab28f631",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +50,54 @@    exec:\n      apiVersion: ${apiVersion}\n      # Any invalid exec credential plugin will do to demonstrate\n      command: ls\n      interactiveMode: IfAvailable"
  },
  {
    "id" : "4f8dc206-eb7a-46be-9d5e-8adb080fd929",
    "prId" : 102890,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102890#pullrequestreview-694082313",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "05070fb4-416a-4efc-b761-98a57fc13cd0",
        "parentId" : null,
        "authorId" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "body" : "I would like to see a failing v1 test here for when the mode is left unspecified.",
        "createdAt" : "2021-06-24T13:29:24Z",
        "updatedAt" : "2021-06-24T13:41:24Z",
        "lastEditedBy" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "tags" : [
        ]
      },
      {
        "id" : "11a7dd03-7372-44e2-a535-7689c0692b9b",
        "parentId" : "05070fb4-416a-4efc-b761-98a57fc13cd0",
        "authorId" : "3facb628-1605-4337-a02a-e4886173f7bf",
        "body" : "https://github.com/kubernetes/kubernetes/pull/102890/commits/c1e9e36256f871cd811706552f919b8b4f9c1c09 adds a negative v1 test",
        "createdAt" : "2021-06-28T15:14:44Z",
        "updatedAt" : "2021-06-28T15:14:44Z",
        "lastEditedBy" : "3facb628-1605-4337-a02a-e4886173f7bf",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e1c4d7548de0b39a2d70a748ca0b9aab28f631",
    "line" : 50,
    "diffHunk" : "@@ -1,1 +104,108 @@      args:\n        - '{\"apiVersion\":\"${apiVersion}\",\"status\":{\"token\":\"admin-token\"}}'\n      interactiveMode: IfAvailable\nEOF\n"
  },
  {
    "id" : "b70906b3-0c48-4cb2-ae0e-65619bfd1f0b",
    "prId" : 102890,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102890#pullrequestreview-698616721",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b6652b17-306f-472b-bc4d-15d60e82a74c",
        "parentId" : null,
        "authorId" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "body" : "This should fail right?\r\n\r\n```suggestion\r\n      kube::log::status \"Unexpected output when running kubectl command that uses a ${apiVersion} exec credential plugin without an interactiveMode. Output: ${output2}\"\r\n      exit 1\r\n```",
        "createdAt" : "2021-07-03T21:02:53Z",
        "updatedAt" : "2021-07-03T21:10:59Z",
        "lastEditedBy" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e1c4d7548de0b39a2d70a748ca0b9aab28f631",
    "line" : 124,
    "diffHunk" : "@@ -1,1 +260,264 @@      kube::log::status \"kubeconfig was not loaded successfully because ${apiVersion} exec credential plugin is missing interactiveMode\"\n    else\n      kube::log::status \"Unexpected output when running kubectl command that uses a ${apiVersion} exec credential plugin without an interactiveMode. Output: ${output2}\"\n      exit 1\n    fi"
  },
  {
    "id" : "85c715cb-31e8-499b-b29e-3f1b1fe79177",
    "prId" : 91745,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/91745#pullrequestreview-441213783",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "36988ca2-8149-45df-b84d-2bd53e8df0da",
        "parentId" : null,
        "authorId" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "body" : "Ah I just realized we need to run this command the other way as well:\r\n\r\n```bash\r\noutput2=$(kubectl --kubeconfig=\"${TMPDIR:-/tmp}\"/invalid_exec_plugin.yaml get namespace kube-system -o name || true)\r\n```\r\n\r\nWithout the token it should fail with the parse error (which confirms that the `exec` plugin is at least attempting to run).",
        "createdAt" : "2020-06-30T01:28:46Z",
        "updatedAt" : "2020-07-06T19:55:48Z",
        "lastEditedBy" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "tags" : [
        ]
      },
      {
        "id" : "46f1e84e-0d32-4c2c-a681-3b8740b2b120",
        "parentId" : "36988ca2-8149-45df-b84d-2bd53e8df0da",
        "authorId" : "83210bf9-1694-4aac-a381-3f2ca2c80337",
        "body" : "Added! Needed to use the kube_flags still but without the token or else it would default to the insecure port.",
        "createdAt" : "2020-07-01T21:39:00Z",
        "updatedAt" : "2020-07-06T19:55:48Z",
        "lastEditedBy" : "83210bf9-1694-4aac-a381-3f2ca2c80337",
        "tags" : [
        ]
      }
    ],
    "commit" : "c595f983fa6b53383557ddbdf698873a38f2275d",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +51,55 @@  kube::util::test_client_certificate_authentication_enabled\n  # Command\n  output=$(kubectl \"${kube_flags_with_token[@]:?}\" --kubeconfig=\"${TMPDIR:-/tmp}\"/invalid_exec_plugin.yaml get namespace kube-system -o name || true)\n\n  if [[ \"${output}\" == \"namespace/kube-system\" ]]; then"
  }
]