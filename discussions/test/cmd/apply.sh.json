[
  {
    "id" : "80f47fc2-345e-47bc-8595-fa34d25d3eac",
    "prId" : 94854,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94854#pullrequestreview-490686410",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bc857761-61f2-4785-9295-71b2349414fb",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "I'm confused why this was looking in namespace nsb... the apply on line 188 is not for that namespace\r\n\r\nthe only thing related to nsb is the delete on line 182... ",
        "createdAt" : "2020-09-17T14:45:38Z",
        "updatedAt" : "2020-09-17T14:51:30Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "2d95a42f-a1d7-4364-8875-7e4c577a58db",
        "parentId" : "bc857761-61f2-4785-9295-71b2349414fb",
        "authorId" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "body" : "I think that's because https://github.com/kubernetes/kubernetes/blob/master/hack/testdata/prune/b.yaml specify the namespace, while https://github.com/kubernetes/kubernetes/blob/master/hack/testdata/prune/a.yaml not.",
        "createdAt" : "2020-09-17T14:48:33Z",
        "updatedAt" : "2020-09-17T14:51:30Z",
        "lastEditedBy" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "tags" : [
        ]
      },
      {
        "id" : "d6edc4c9-615b-42a7-bc51-5bb1dc4d4da9",
        "parentId" : "bc857761-61f2-4785-9295-71b2349414fb",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "but we're not applying prune/b.yaml between line 182 and here or explicitly setting `-n nsb`",
        "createdAt" : "2020-09-17T14:49:38Z",
        "updatedAt" : "2020-09-17T14:51:30Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "e5ebadb9-37f6-4517-b875-bb6a39c1c232",
        "parentId" : "bc857761-61f2-4785-9295-71b2349414fb",
        "authorId" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "body" : "Hmm I am not the author of this test, perhaps he wants to make sure pod b does not exist before applying b.yaml?",
        "createdAt" : "2020-09-17T14:53:28Z",
        "updatedAt" : "2020-09-17T14:53:28Z",
        "lastEditedBy" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "tags" : [
        ]
      }
    ],
    "commit" : "57619aa9d76b27a1800c2f1ee09c088d64d3d099",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +189,193 @@  kube::test::get_object_assert 'pods a' \"{{${id_field:?}}}\" 'a'\n  # check wrong pod doesn't exist\n  kube::test::wait_object_assert 'pods -n nsb' \"{{range.items}}{{${id_field:?}}}:{{end}}\" ''\n\n  # apply b"
  },
  {
    "id" : "c9f97166-a1ba-4d1b-8390-f88cf9554f5b",
    "prId" : 89799,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89799#pullrequestreview-388463750",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "20cb9a89-3606-4a80-b9ac-e43bea108935",
        "parentId" : null,
        "authorId" : "d995a87c-4064-4495-9753-d0cf8a45072f",
        "body" : "Nice tests.",
        "createdAt" : "2020-04-06T17:38:44Z",
        "updatedAt" : "2020-05-19T21:04:28Z",
        "lastEditedBy" : "d995a87c-4064-4495-9753-d0cf8a45072f",
        "tags" : [
        ]
      }
    ],
    "commit" : "f0eb68c0cfcff6d50d9d5ec278f96820e3cb3f9a",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +110,114 @@  # apply non dry-run creates the pod\n  kubectl apply -f hack/testdata/pod.yaml \"${kube_flags[@]:?}\"\n  initialResourceVersion=$(kubectl get \"${kube_flags[@]:?}\" -f hack/testdata/pod.yaml -o go-template='{{ .metadata.resourceVersion }}')\n  # apply changes\n  kubectl apply --dry-run=client -f hack/testdata/pod-apply.yaml \"${kube_flags[@]:?}\""
  },
  {
    "id" : "a55815b3-3ea8-4ff2-a0c9-142716d9a15d",
    "prId" : 89539,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89539#pullrequestreview-383166240",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "36bcced1-7eb1-4392-ba9c-1a787b07d6d7",
        "parentId" : null,
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "Should you precondition that the namespace doesn't exist?",
        "createdAt" : "2020-03-27T20:05:47Z",
        "updatedAt" : "2020-03-27T20:07:16Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      }
    ],
    "commit" : "1083c0fe053fa9e6d52a2920ab45b0c370581704",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +277,281 @@  ## kubectl apply multiple resources with initial failure.\n  # Pre-Condition: no POD exists\n  kube::test::get_object_assert pods \"{{range.items}}{{${id_field:?}}}:{{end}}\" ''\n  # First pass, namespace is created, but pod is not (since namespace does not exist yet).\n  kubectl apply -f hack/testdata/multi-resource.yaml \"${kube_flags[@]:?}\""
  },
  {
    "id" : "a48336de-8169-4d29-b1c3-2bd17efe97e3",
    "prId" : 89539,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89539#pullrequestreview-383166240",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "261d81a4-5897-4636-9ef7-b17e400a8e4f",
        "parentId" : null,
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "`kubectl apply` returns 0 exit-code even if a resource can't be applied?!",
        "createdAt" : "2020-03-27T20:06:32Z",
        "updatedAt" : "2020-03-27T20:07:16Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      }
    ],
    "commit" : "1083c0fe053fa9e6d52a2920ab45b0c370581704",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +279,283 @@  kube::test::get_object_assert pods \"{{range.items}}{{${id_field:?}}}:{{end}}\" ''\n  # First pass, namespace is created, but pod is not (since namespace does not exist yet).\n  kubectl apply -f hack/testdata/multi-resource.yaml \"${kube_flags[@]:?}\"\n  output_message=$(! kubectl get pods test-pod 2>&1 \"${kube_flags[@]:?}\")\n  kube::test::if_has_string \"${output_message}\" 'pods \"test-pod\" not found'"
  },
  {
    "id" : "51f16a1e-219c-4927-9aec-0415dccb5b6c",
    "prId" : 83084,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/83084#pullrequestreview-293420229",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "354d748f-8f4a-4bff-8aa8-b75ad20c9ae5",
        "parentId" : null,
        "authorId" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "body" : "Before running this test, you need to do a clean up.\r\n\r\nThen you apply a with the namespace.\r\nThen you apply --prune --namespace <namespace> b\r\nThen you check b exists, but a doesn't",
        "createdAt" : "2019-09-25T23:30:37Z",
        "updatedAt" : "2019-09-25T23:43:30Z",
        "lastEditedBy" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "tags" : [
        ]
      },
      {
        "id" : "1dd44b5a-0679-4b43-a84b-df7da6ff2d46",
        "parentId" : "354d748f-8f4a-4bff-8aa8-b75ad20c9ae5",
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "@Liujingfang1 \r\nCan you take another look ?\r\n\r\nThanks",
        "createdAt" : "2019-09-25T23:44:06Z",
        "updatedAt" : "2019-09-25T23:44:06Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "88e2f8e04fa310e848f07d0a2ab801aa0917e408",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +150,154 @@  # apply a\n  kubectl apply --namespace nsb -l prune-group=true -f hack/testdata/prune/a.yaml \"${kube_flags[@]:?}\"\n  # apply b with namespace\n  kubectl apply --namespace nsb --prune -l prune-group=true -f hack/testdata/prune/b.yaml \"${kube_flags[@]:?}\"\n  # check right pod exists"
  },
  {
    "id" : "d8fb34d9-5e4a-4ff0-bf4c-29d60da041f6",
    "prId" : 74140,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74140#pullrequestreview-206445277",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dacb4628-7063-47c2-849e-61ad46cd75ed",
        "parentId" : null,
        "authorId" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "body" : "lets add a test for every command that supports this if possible",
        "createdAt" : "2019-02-20T00:39:23Z",
        "updatedAt" : "2019-02-26T22:13:23Z",
        "lastEditedBy" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "tags" : [
        ]
      },
      {
        "id" : "15959d2c-6f97-46f4-b6ba-297b75ea7725",
        "parentId" : "dacb4628-7063-47c2-849e-61ad46cd75ed",
        "authorId" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "body" : "How about adding tests to the existing test files for `apply`, `diff`, `create`, `delete`, `get`?",
        "createdAt" : "2019-02-20T18:29:00Z",
        "updatedAt" : "2019-02-26T22:13:23Z",
        "lastEditedBy" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "tags" : [
        ]
      },
      {
        "id" : "a504a915-f8aa-4b40-8b06-1f712ea80ba0",
        "parentId" : "dacb4628-7063-47c2-849e-61ad46cd75ed",
        "authorId" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "body" : "+1",
        "createdAt" : "2019-02-21T17:39:41Z",
        "updatedAt" : "2019-02-26T22:13:23Z",
        "lastEditedBy" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "tags" : [
        ]
      }
    ],
    "commit" : "127c2f1e7410b68510a850c44e7f6e3c63bb42f4",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +225,229 @@\n  ## kubectl apply -k somedir\n  kubectl apply -k hack/testdata/kustomize\n  kube::test::get_object_assert 'configmap test-the-map' \"{{${id_field}}}\" 'test-the-map'\n  kube::test::get_object_assert 'deployment test-the-deployment' \"{{${id_field}}}\" 'test-the-deployment'"
  }
]