[
  {
    "id" : "2f85d355-0be6-4201-a42b-23e984a961bb",
    "prId" : 78246,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/78246#pullrequestreview-256289519",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "de52b867-d4f8-4cc6-974b-733356cf0b95",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "One thing to ensure (maybe it's already done) is that kubemark was restructured so that it can be run on different providers and IIRC it's now mostly about implementing this interface:\r\nhttps://github.com/kubernetes/kubernetes/tree/master/test/kubemark/skeleton\r\n\r\nGiven people are running kubemarks on other providers, we don't want to break that.",
        "createdAt" : "2019-06-27T16:13:59Z",
        "updatedAt" : "2019-07-10T09:24:20Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "2e4af7b5-416b-4c61-b7ac-718b46a31d78",
        "parentId" : "de52b867-d4f8-4cc6-974b-733356cf0b95",
        "authorId" : "5af3a49e-2ce9-4046-8a13-ee66b8cbca2e",
        "body" : "The only logic for starting kubemark that lives in k8s repo is iks. This PR won't break it as iks/startup.sh copies all the script with 'exit 0' at the very end.\r\n\r\nAfter changing the interface (IIUC) it should be to remove copy from iks/startup.sh (the new interface can be implemented for iks).",
        "createdAt" : "2019-07-01T11:52:37Z",
        "updatedAt" : "2019-07-10T09:24:20Z",
        "lastEditedBy" : "5af3a49e-2ce9-4046-8a13-ee66b8cbca2e",
        "tags" : [
        ]
      }
    ],
    "commit" : "4646594f299ab893548a2f385ae4d38321061b68",
    "line" : 89,
    "diffHunk" : "@@ -1,1 +32,36 @@}\n\nfunction create-kubemark-master {\n  # We intentionally override env vars in subshell to preserve original values.\n  # shellcheck disable=SC2030,SC2031"
  },
  {
    "id" : "038169cb-a013-46a0-9ae0-7f1a23088fd4",
    "prId" : 78246,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/78246#pullrequestreview-260072249",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7a0f18f8-8720-48cf-a0e5-d682fb3ba7f6",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Seems quite easy - it's used in exactly one place in our presets :)",
        "createdAt" : "2019-07-10T12:54:56Z",
        "updatedAt" : "2019-07-10T12:55:25Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "4646594f299ab893548a2f385ae4d38321061b68",
    "line" : 130,
    "diffHunk" : "@@ -1,1 +73,77 @@\n    # Append kubemark-specific \"MASTER_COMPONENTS_QPS_LIMITS\".\n    # TODO(mborsz): Migrate all users of KUBEMARK_MASTER_COMPONENTS_QPS_LIMITS to {SCHEDULER,CONTROLLER_MANAGER}_TEST_ARGS.\n    export CONTROLLER_MANAGER_TEST_ARGS=\"${CONTROLLER_MANAGER_TEST_ARGS:-} ${KUBEMARK_MASTER_COMPONENTS_QPS_LIMITS:-}\"\n    export SCHEDULER_TEST_ARGS=\"${SCHEDULER_TEST_ARGS:-} ${KUBEMARK_MASTER_COMPONENTS_QPS_LIMITS:-}\""
  },
  {
    "id" : "faa34635-61df-4fc5-a390-3d408af562af",
    "prId" : 53266,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/53266#pullrequestreview-66303097",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "95a67e22-b11f-4e63-baa4-6bcbc0f5d9c6",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "I think we still need rw on the master. ",
        "createdAt" : "2017-09-30T03:18:19Z",
        "updatedAt" : "2017-09-30T03:18:19Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      }
    ],
    "commit" : "4d2733d80147dedefec9703a10ea24777dbaac6b",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +63,67 @@    --tags \"${MASTER_TAG}\" \\\n    --subnet \"${NETWORK}\" \\\n    --scopes \"storage-ro,logging-write\" \\\n    --boot-disk-size \"${MASTER_ROOT_DISK_SIZE}\" \\\n    --disk \"name=${MASTER_NAME}-pd,device-name=master-pd,mode=rw,boot=no,auto-delete=no\""
  },
  {
    "id" : "4403ce03-7d4e-4835-81e3-7b766c4ea135",
    "prId" : 40622,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40622#pullrequestreview-19321046",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7979678b-3a57-48f9-ab76-62df653609cd",
        "parentId" : null,
        "authorId" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "body" : "I think you want a new line after:\r\n```\r\n RETRIES=\"${2:-1}\"\r\n```\r\nOtherwise RETRIES won't get set to $2, but whatever it is saved as globally.",
        "createdAt" : "2017-01-30T16:28:37Z",
        "updatedAt" : "2017-01-31T12:56:24Z",
        "lastEditedBy" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "tags" : [
        ]
      },
      {
        "id" : "666f8e62-0bdd-4296-b7dd-d67ef97235f0",
        "parentId" : "7979678b-3a57-48f9-ab76-62df653609cd",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "The current mechanism seems to be correct as we just want to change the value of RETRIES for a particular call to `run-gcloud-compute-with-retries` function. I tested it out using this small script:\r\n```\r\nRETRIES=10\r\nfunction prints2() {\r\n  echo \"$RETRIES\"\r\n}\r\nfunction prints() {\r\n  RETRIES=\"${1:-20}\" prints2\r\n}\r\nprints 5\r\n```\r\n\r\nIs there something I'm still missing?",
        "createdAt" : "2017-01-31T12:59:12Z",
        "updatedAt" : "2017-01-31T13:01:05Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      },
      {
        "id" : "d8dc015c-5565-40d2-b31e-aa957ac209f1",
        "parentId" : "7979678b-3a57-48f9-ab76-62df653609cd",
        "authorId" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "body" : "Cool looks good.  I wanted to 2x check that was intended. Thanks for clearing it up!",
        "createdAt" : "2017-01-31T14:10:54Z",
        "updatedAt" : "2017-01-31T14:10:54Z",
        "lastEditedBy" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd133769dedc8ca5cac6b68770ad0ce80a7887f0",
    "line" : 70,
    "diffHunk" : "@@ -1,1 +68,72 @@# No. of retries is '$2' (if provided) or 1 (default).\nfunction execute-cmd-on-master-with-retries() {\n  RETRIES=\"${2:-1}\" run-gcloud-compute-with-retries ssh \"${MASTER_NAME}\" --zone=\"${ZONE}\" --project=\"${PROJECT}\" --command=\"$1\"\n}\n"
  }
]