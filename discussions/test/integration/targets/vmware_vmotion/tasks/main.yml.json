[
  {
    "id" : "d66efc7b-728f-41bc-ad25-837ad0e70a65",
    "prId" : 64544,
    "prUrl" : "https://github.com/ansible/ansible/pull/64544#pullrequestreview-319937950",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "68ebbf9f-bc53-4ddf-9f3b-798ba6b26779",
        "parentId" : null,
        "authorId" : "0fd34a17-8cd9-4bb2-803c-da934539c7f5",
        "body" : "could you add:\r\n```esxi_hostname: \"{{ esxi1 }}\"```\r\n\r\nThis way we are sure the VM is created on esxi1",
        "createdAt" : "2019-11-20T14:14:38Z",
        "updatedAt" : "2019-11-20T15:09:01Z",
        "lastEditedBy" : "0fd34a17-8cd9-4bb2-803c-da934539c7f5",
        "tags" : [
        ]
      },
      {
        "id" : "54ec550d-93a9-4ee4-864f-3dd719cbefea",
        "parentId" : "68ebbf9f-bc53-4ddf-9f3b-798ba6b26779",
        "authorId" : "c9a04bdd-c38b-40d6-b9b2-c6523afdcced",
        "body" : "Done",
        "createdAt" : "2019-11-20T15:06:15Z",
        "updatedAt" : "2019-11-20T15:09:01Z",
        "lastEditedBy" : "c9a04bdd-c38b-40d6-b9b2-c6523afdcced",
        "tags" : [
        ]
      }
    ],
    "commit" : "b5665e924db65782d37e2c8e4fbad3a2d167de49",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +13,17 @@    hostname: \"{{ vcenter_hostname }}\"\n    username: \"{{ vcenter_username }}\"\n    password: \"{{ vcenter_password }}\"\n    datacenter: \"{{ dc1 }}\"\n    validate_certs: no"
  },
  {
    "id" : "e2e63cb8-ffce-4a2e-990c-b39206f3624a",
    "prId" : 64544,
    "prUrl" : "https://github.com/ansible/ansible/pull/64544#pullrequestreview-319974654",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dac73666-e7fd-4536-ab16-913e48717276",
        "parentId" : null,
        "authorId" : "0fd34a17-8cd9-4bb2-803c-da934539c7f5",
        "body" : "The step fails with the following error:\r\n\r\n```\r\nTASK [vmware_vmotion : Perform vMotion of virtual machine to resource_pool] ******************************************************************************************************************\r\nAn exception occurred during task execution. To see the full traceback, use -vvv. The error was: IndexError: list index out of range\r\nfatal: [testhost]: FAILED! => {\"changed\": false, \"module_stderr\": \"Traceback (most recent call last):\\n  File \\\"/home/centos/.ansible/tmp/ansible-tmp-1574258752.4017994-249217622119947/AnsiballZ_vmware_vmotion.py\\\", line 116, in <module>\\n    _ansiballz_main()\\n  File \\\"/home/centos/.ansible/tmp/ansible-tmp-1574258752.4017994-249217622119947/AnsiballZ_vmware_vmotion.py\\\", line 108, in _ansiballz_main\\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\\n  File \\\"/home/centos/.ansible/tmp/ansible-tmp-1574258752.4017994-249217622119947/AnsiballZ_vmware_vmotion.py\\\", line 54, in invoke_module\\n    runpy.run_module(mod_name='ansible.modules.cloud.vmware.vmware_vmotion', init_globals=None, run_name='__main__', alter_sys=True)\\n  File \\\"/usr/lib64/python3.6/runpy.py\\\", line 205, in run_module\\n    return _run_module_code(code, init_globals, run_name, mod_spec)\\n  File \\\"/usr/lib64/python3.6/runpy.py\\\", line 96, in _run_module_code\\n    mod_name, mod_spec, pkg_name, script_name)\\n  File \\\"/usr/lib64/python3.6/runpy.py\\\", line 85, in _run_code\\n    exec(code, run_globals)\\n  File \\\"/tmp/ansible_vmware_vmotion_payload_iigldg5s/ansible_vmware_vmotion_payload.zip/ansible/modules/cloud/vmware/vmware_vmotion.py\\\", line 374, in <module>\\n  File \\\"/tmp/ansible_vmware_vmotion_payload_iigldg5s/ansible_vmware_vmotion_payload.zip/ansible/modules/cloud/vmware/vmware_vmotion.py\\\", line 370, in main\\n  File \\\"/tmp/ansible_vmware_vmotion_payload_iigldg5s/ansible_vmware_vmotion_payload.zip/ansible/modules/cloud/vmware/vmware_vmotion.py\\\", line 172, in __init__\\n  File \\\"/tmp/ansible_vmware_vmotion_payload_iigldg5s/ansible_vmware_vmotion_payload.zip/ansible/modules/cloud/vmware/vmware_vmotion.py\\\", line 341, in get_vm\\nIndexError: list index out of range\\n\", \"module_stdout\": \"\", \"msg\": \"MODULE FAILURE\\nSee stdout/stderr for the exact error\", \"rc\": 1}\r\n```",
        "createdAt" : "2019-11-20T14:15:08Z",
        "updatedAt" : "2019-11-20T15:09:01Z",
        "lastEditedBy" : "0fd34a17-8cd9-4bb2-803c-da934539c7f5",
        "tags" : [
        ]
      },
      {
        "id" : "4ad7a5f0-e6e6-4f35-9297-72228b00c1ed",
        "parentId" : "dac73666-e7fd-4536-ab16-913e48717276",
        "authorId" : "c9a04bdd-c38b-40d6-b9b2-c6523afdcced",
        "body" : "Actually this was the reason I added setup_virtualmachine=True step. I came across this error.\r\nWe get this error if there are no VM in testbed. This is existing code to find the VM not done any changes here.  \r\n\r\nBut I dont see it my test runs",
        "createdAt" : "2019-11-20T15:01:29Z",
        "updatedAt" : "2019-11-20T15:20:00Z",
        "lastEditedBy" : "c9a04bdd-c38b-40d6-b9b2-c6523afdcced",
        "tags" : [
        ]
      },
      {
        "id" : "1854204e-60b2-42e1-87dc-64c5267f256d",
        "parentId" : "dac73666-e7fd-4536-ab16-913e48717276",
        "authorId" : "c9a04bdd-c38b-40d6-b9b2-c6523afdcced",
        "body" : "Actually Error message returned here is not correct. module should Exit with Failure message VM not found \r\nI will create separate issue and PR for this fix",
        "createdAt" : "2019-11-20T15:26:29Z",
        "updatedAt" : "2019-11-20T15:26:29Z",
        "lastEditedBy" : "c9a04bdd-c38b-40d6-b9b2-c6523afdcced",
        "tags" : [
        ]
      }
    ],
    "commit" : "b5665e924db65782d37e2c8e4fbad3a2d167de49",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +40,44 @@    vm_name: test_vm1\n    destination_host: '{{ esxi2 }}'\n  register: vm_vmotion\n\n- name: assert that changes were made"
  }
]