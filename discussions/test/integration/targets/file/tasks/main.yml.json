[
  {
    "id" : "05eac8cc-8d33-416a-9140-e6e6d7b08e67",
    "prId" : 18731,
    "prUrl" : "https://github.com/ansible/ansible/pull/18731#pullrequestreview-83185550",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4cfa968c-e266-4cbe-9773-12271b1c7817",
        "parentId" : null,
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "Should not an assertion be added there (then `when:` attribute of tasks below could be removed) ?\r\n```\r\nassert:\r\n  that:\r\n    file_attributes_result|changed\r\n```",
        "createdAt" : "2017-12-11T12:53:37Z",
        "updatedAt" : "2017-12-14T13:08:01Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      },
      {
        "id" : "2dd90248-4d5f-444e-b283-c9f0577708cd",
        "parentId" : "4cfa968c-e266-4cbe-9773-12271b1c7817",
        "authorId" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "body" : "No, the file module is [designed to fail](https://github.com/tchernomax/ansible/blob/devel/lib/ansible/module_utils/basic.py#L1282) if the extended attribute can't be applied.\r\nOn the contrary the get_file_attributes is [designed not to fail](https://github.com/tchernomax/ansible/blob/devel/lib/ansible/module_utils/basic.py#L1299) if `lsattr` isn't present or plate-forme doesn't support extended attributes.\r\n\r\nIf I where to replate `ignore_errors: True` with what you propose, the test would fail on all the plate-forme which doesn't support `chattr` or the 'A' extended attributes.\r\n\r\nWhat I want to test is: **if** the plate-forme support the 'A' extended attribute **and** this attribute is already set ; the file module should **not** change the file.",
        "createdAt" : "2017-12-13T14:21:23Z",
        "updatedAt" : "2017-12-14T13:08:01Z",
        "lastEditedBy" : "2cc098a3-7926-4651-8261-412e9ac59899",
        "tags" : [
        ]
      }
    ],
    "commit" : "010a0d7f55b526488c8317b0041faa5abf95e5fe",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +67,71 @@  register: file_attributes_result\n  ignore_errors: True\n\n- name: reapply file attribute \"A\"\n  file: path={{output_dir}}/baz.txt attributes=A"
  },
  {
    "id" : "2cc65b56-30ba-45b5-bd82-d5144cc00f6e",
    "prId" : 22243,
    "prUrl" : "https://github.com/ansible/ansible/pull/22243#pullrequestreview-24975741",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bceedb0c-e2c0-4dd4-bf07-2d9e08ff443c",
        "parentId" : null,
        "authorId" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "body" : "If you could repeat the task and ensure `\"file5a_result.changed == false\"` that would be a good extra test",
        "createdAt" : "2017-03-03T13:25:23Z",
        "updatedAt" : "2017-03-03T13:29:52Z",
        "lastEditedBy" : "d7d8721c-7ad0-4834-9a3d-b53ca8656789",
        "tags" : [
        ]
      },
      {
        "id" : "5cd7c587-9fe5-4142-8f06-b899ff2baa26",
        "parentId" : "bceedb0c-e2c0-4dd4-bf07-2d9e08ff443c",
        "authorId" : "f01f60d2-e084-44c7-baad-7798a8518fb2",
        "body" : "Done!",
        "createdAt" : "2017-03-03T13:50:06Z",
        "updatedAt" : "2017-03-03T13:50:06Z",
        "lastEditedBy" : "f01f60d2-e084-44c7-baad-7798a8518fb2",
        "tags" : [
        ]
      }
    ],
    "commit" : "1b6b6d883c0cfe8c3201222225ae0a962a9e5cf5",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +108,112 @@      - \"file5a_result.diff.before.src == output_file|expanduser\"\n      - \"file5a_result.diff.after.src == output_file|basename\"\n\n- name: soft link idempotency check\n  file: src={{output_file|basename}} dest={{output_dir}}/soft.txt state=link"
  },
  {
    "id" : "7f08a32c-a542-49da-8368-e21fb92e31a1",
    "prId" : 56353,
    "prUrl" : "https://github.com/ansible/ansible/pull/56353#pullrequestreview-247037644",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7363d939-f974-44fb-9720-89f9f1044178",
        "parentId" : null,
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "I would also loosely verify the contents of the variable such as checking the length of the list or looking for a string in the list contents.",
        "createdAt" : "2019-05-28T17:49:27Z",
        "updatedAt" : "2019-06-07T11:01:02Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "e22defb0-d2ef-40b3-9bc6-0c8cd35087c5",
        "parentId" : "7363d939-f974-44fb-9720-89f9f1044178",
        "authorId" : "4a8ca2e5-c567-4f7f-8bd7-7edacf488a99",
        "body" : "Thanks, I'll figure out an appropriate test and update soon",
        "createdAt" : "2019-05-28T19:34:13Z",
        "updatedAt" : "2019-06-07T11:01:02Z",
        "lastEditedBy" : "4a8ca2e5-c567-4f7f-8bd7-7edacf488a99",
        "tags" : [
        ]
      },
      {
        "id" : "31a03e24-81a4-4cb2-97d6-ac35af1d9c2b",
        "parentId" : "7363d939-f974-44fb-9720-89f9f1044178",
        "authorId" : "4a8ca2e5-c567-4f7f-8bd7-7edacf488a99",
        "body" : "Hey @samdoran,  \r\nI've added a couple of additional asserts to validate that a known folder and file are included in the output. I believe this resolves the conversation, but if not please do re-open it",
        "createdAt" : "2019-06-07T11:11:44Z",
        "updatedAt" : "2019-06-07T11:11:44Z",
        "lastEditedBy" : "4a8ca2e5-c567-4f7f-8bd7-7edacf488a99",
        "tags" : [
        ]
      }
    ],
    "commit" : "67f602e2badffd554cc0c5956de6037593de9686",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +270,274 @@  assert:\n    that:\n      - folder_absent_result.diff.before.path_content is defined\n      - test_folder in folder_absent_result.diff.before.path_content.directories\n      - test_file in folder_absent_result.diff.before.path_content.files"
  }
]