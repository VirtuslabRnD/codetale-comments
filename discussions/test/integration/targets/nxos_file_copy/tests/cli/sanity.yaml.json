[
  {
    "id" : "aafa9fc5-8813-45bf-8956-fff6e51674b0",
    "prId" : 60643,
    "prUrl" : "https://github.com/ansible/ansible/pull/60643#pullrequestreview-281525809",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff44965a-8aed-481e-bd32-b7bd8de3ed47",
        "parentId" : null,
        "authorId" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "body" : "@mikewiebe I just ran the test locally. This idempotence test is failing. \r\n```\r\nTASK [nxos_file_copy : Idempotence - Copy network-integration.cfg file from Ansible controller to bootflash] **********                                                                                                                                                                                                                                                                       \r\nchanged: [localhost] => changed=true                                                                               \r\n  file_system: 'bootflash:'                              \r\n  local_file: ./network-integration.cfg                                                                            \r\n  remote_file: network-integration.cfg                                                                             \r\n  transfer_status: 'Sent: File copied to remote device.'                                                           \r\nRead vars_file 'integration_config.yml'                                                                            \r\n\r\nTASK [nxos_file_copy : assert] ****************************************************************************************                                                                                                                                                                                                                                                                       \r\nfatal: [localhost]: FAILED! => changed=false                                                                       \r\n  assertion: result.changed == false                                                                               \r\n  evaluated_to: false                                    \r\n  msg: Assertion failed  \r\n```",
        "createdAt" : "2019-08-28T10:20:25Z",
        "updatedAt" : "2019-08-29T16:59:46Z",
        "lastEditedBy" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "tags" : [
        ]
      },
      {
        "id" : "73fa080c-ef91-4ce6-8b05-b4a2c1193e65",
        "parentId" : "ff44965a-8aed-481e-bd32-b7bd8de3ed47",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "@trishnaguha What platform type and image are you running for this test?  The test passes against my matrix.",
        "createdAt" : "2019-08-28T14:51:15Z",
        "updatedAt" : "2019-08-29T16:59:46Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      },
      {
        "id" : "897ec0ad-50c5-4698-8fff-bc7ebe7e758d",
        "parentId" : "ff44965a-8aed-481e-bd32-b7bd8de3ed47",
        "authorId" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "body" : "@mikewiebe NXOS: version 7.0(3)I7(3), Platform N9K-9000v. The same test passes on devel. ",
        "createdAt" : "2019-08-28T16:25:45Z",
        "updatedAt" : "2019-08-29T16:59:46Z",
        "lastEditedBy" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "tags" : [
        ]
      },
      {
        "id" : "8cc452bd-c545-49c2-827f-2339571d02ab",
        "parentId" : "ff44965a-8aed-481e-bd32-b7bd8de3ed47",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "@trishnaguha \r\n\r\n```\r\nTASK [nxos_file_copy : Idempotence - Copy network-integration.cfg file from Ansible controller to bootflash renamed as test_destination_file] ******************************************************************\r\ntask path: /Users/mwiebe/Projects/nxos_ansible/fix_ansible/test/integration/targets/nxos_file_copy/tests/cli/sanity.yaml:70\r\n<greensboro-nx-1.cisco.com> attempting to start connection\r\n<greensboro-nx-1.cisco.com> using connection plugin network_cli\r\n<greensboro-nx-1.cisco.com> found existing local domain socket, using it!\r\n<greensboro-nx-1.cisco.com> updating play_context for connection\r\n<greensboro-nx-1.cisco.com> \r\n<greensboro-nx-1.cisco.com> local domain socket path is /Users/mwiebe/.ansible/pc/0058a6e42c\r\nok: [greensboro-nx-1.cisco.com] => {\r\n    \"changed\": false, \r\n    \"file_system\": \"bootflash:\", \r\n    \"local_file\": \"./network-integration.cfg\", \r\n    \"remote_file\": \"test_destination_file\", \r\n    \"transfer_status\": \"No Transfer: File already copied to remote device.\"\r\n}\r\n```\r\n\r\nThis same step passes for me each time I run it.  I am using the same platform `N9K-9000v` and image version.",
        "createdAt" : "2019-08-29T13:48:44Z",
        "updatedAt" : "2019-08-29T16:59:46Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      },
      {
        "id" : "0097f929-9ce7-4067-abf9-fbb09bbe4222",
        "parentId" : "ff44965a-8aed-481e-bd32-b7bd8de3ed47",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "Here are the overall results of the entire suite of tests:\r\n\r\n```\r\nPLAY RECAP *****************************************************************************************************************************************************************************************************\r\ngreensboro-nx-1.cisco.com  : ok=75   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=14  \r\n```",
        "createdAt" : "2019-08-29T13:49:40Z",
        "updatedAt" : "2019-08-29T16:59:46Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      },
      {
        "id" : "2d368786-e69f-485a-8ea0-46792a6ee567",
        "parentId" : "ff44965a-8aed-481e-bd32-b7bd8de3ed47",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "I do see output in your case that I don't see in my test:\r\n\r\n```Read vars_file 'integration_config.yml' ``` is this something you are setting in your test environment?\r\n\r\nAlso.. can you verify that the source file exists in your repo (it should) and also verify if the file is actually being copied.  Not sure how to debug this without access to your device since it works on all of mine :(",
        "createdAt" : "2019-08-29T13:53:29Z",
        "updatedAt" : "2019-08-29T16:59:46Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      },
      {
        "id" : "c01aa4a9-9b3a-4b6f-8792-3f135c77e342",
        "parentId" : "ff44965a-8aed-481e-bd32-b7bd8de3ed47",
        "authorId" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "body" : "@mikewiebe Looks like it's my environment. NVM. Sorry about that.",
        "createdAt" : "2019-08-29T14:26:51Z",
        "updatedAt" : "2019-08-29T16:59:46Z",
        "lastEditedBy" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "tags" : [
        ]
      },
      {
        "id" : "cbf71154-cb9a-4385-a9e0-6fcd4546f9f4",
        "parentId" : "ff44965a-8aed-481e-bd32-b7bd8de3ed47",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "üëç Are we ok to merge then?",
        "createdAt" : "2019-08-29T14:54:12Z",
        "updatedAt" : "2019-08-29T16:59:46Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      },
      {
        "id" : "1bfad9ba-4b60-4e40-9588-9287ae010bea",
        "parentId" : "ff44965a-8aed-481e-bd32-b7bd8de3ed47",
        "authorId" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "body" : "will you please resolve the conflict?",
        "createdAt" : "2019-08-29T15:04:23Z",
        "updatedAt" : "2019-08-29T16:59:46Z",
        "lastEditedBy" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "tags" : [
        ]
      }
    ],
    "commit" : "c1b01e26c42d8fcc3a3f4e5f45edf54dd9646c2a",
    "line" : 49,
    "diffHunk" : "@@ -1,1 +40,44 @@        - \"'Sent: File copied to remote device.' in result.transfer_status\"\n\n  - name: \"Idempotence - Copy {{ test_source_file }} file from Ansible controller to bootflash\"\n    nxos_file_copy: *copy_file_same_name\n    register: result"
  }
]