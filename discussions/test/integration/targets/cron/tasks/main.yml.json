[
  {
    "id" : "d8ded4a5-da3b-447b-807e-098c5f3792d0",
    "prId" : 59830,
    "prUrl" : "https://github.com/ansible/ansible/pull/59830#pullrequestreview-291519221",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b1693599-516f-4424-b453-87859c3087c3",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Could this be done with [package_facts](https://docs.ansible.com/ansible/latest/modules/package_facts_module.html) instead? You might need the name of the package containing `libfaketime.so` for that, though.",
        "createdAt" : "2019-09-22T05:23:17Z",
        "updatedAt" : "2019-09-22T17:38:37Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "df0edbba-f31a-465c-9554-8ef2088ba320",
        "parentId" : "b1693599-516f-4424-b453-87859c3087c3",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "I don't know, the documentation of `package_facts`  only states that it returns `list of dicts with package information`.",
        "createdAt" : "2019-09-22T14:24:35Z",
        "updatedAt" : "2019-09-22T17:38:37Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      },
      {
        "id" : "9c11e53c-b89a-43cf-b449-3717dc744652",
        "parentId" : "b1693599-516f-4424-b453-87859c3087c3",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Yep, I also saw that. That's why I wrote it as a question ;-) I guess it returns a dict with keys corresponding to (installed?) packages, but that's all I know. I've tested it for Debian, there the result looks like:\r\n```.yaml\r\n{\r\n    \"ansible_facts\": {\r\n        \"discovered_interpreter_python\": \"/usr/bin/python\",\r\n        \"packages\": {\r\n            \"adduser\": [\r\n                {\r\n                    \"arch\": \"all\",\r\n                    \"category\": \"admin\",\r\n                    \"name\": \"adduser\",\r\n                    \"origin\": \"Debian\",\r\n                    \"source\": \"apt\",\r\n                    \"version\": \"3.118\"\r\n                }\r\n            ],\r\n            \"adwaita-icon-theme\": [\r\n                {\r\n                    \"arch\": \"all\",\r\n                    \"category\": \"gnome\",\r\n                    \"name\": \"adwaita-icon-theme\",\r\n                    \"origin\": \"Debian\",\r\n                    \"source\": \"apt\",\r\n                    \"version\": \"3.30.1-1\"\r\n                }\r\n            ],\r\n            ...\r\n        }\r\n    }\r\n}\r\n```\r\nThis seems to be the list of actually installed packages. No idea what the result is for RHEL and others...",
        "createdAt" : "2019-09-22T14:32:36Z",
        "updatedAt" : "2019-09-22T17:38:37Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "4443a3be-6e3e-4b1b-b9f3-c70dfdc7c4b7",
        "parentId" : "b1693599-516f-4424-b453-87859c3087c3",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "I would prefer to not rely on something undocumented.",
        "createdAt" : "2019-09-22T17:34:31Z",
        "updatedAt" : "2019-09-22T17:38:37Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      }
    ],
    "commit" : "d35c4fb005fc7a7655b8ce905dc39a135d096c30",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +28,32 @@\n        - name: Find libfaketime path\n          shell: '{{ list_pkg_files }} {{ faketime_pkg }} | grep -F libfaketime.so.1'\n          args:\n            warn: false"
  },
  {
    "id" : "a6b5667b-a812-4cc5-9a0b-bda0c33844a9",
    "prId" : 59830,
    "prUrl" : "https://github.com/ansible/ansible/pull/59830#pullrequestreview-291512526",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "917ae205-3e2b-4613-a5cf-44e09c0109ea",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "That will probably fail for FreeBSD.",
        "createdAt" : "2019-09-22T05:26:43Z",
        "updatedAt" : "2019-09-22T17:38:37Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "5cdf6a19-25f0-43ab-891c-2ac0407de2a3",
        "parentId" : "917ae205-3e2b-4613-a5cf-44e09c0109ea",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "The `when` keyword contains `ansible_service_mgr == 'systemd'` and isn't `True` on FreeBSD.",
        "createdAt" : "2019-09-22T14:31:18Z",
        "updatedAt" : "2019-09-22T17:38:37Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      },
      {
        "id" : "f720acef-97f6-4b17-bdb5-bbdb74e9e35e",
        "parentId" : "917ae205-3e2b-4613-a5cf-44e09c0109ea",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Sorry, must have totally missed the `when`...",
        "createdAt" : "2019-09-22T14:49:32Z",
        "updatedAt" : "2019-09-22T17:38:37Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "d35c4fb005fc7a7655b8ce905dc39a135d096c30",
    "line" : 119,
    "diffHunk" : "@@ -1,1 +117,121 @@      always:\n        - name: display some logs in case of failure\n          command: 'journalctl -u {{ cron_service }}'\n          when: wait_canary is failed and ansible_service_mgr == 'systemd'\n"
  },
  {
    "id" : "559ebe2d-833c-4f14-9993-fcdede087a79",
    "prId" : 59830,
    "prUrl" : "https://github.com/ansible/ansible/pull/59830#pullrequestreview-291519277",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e0941078-dd7c-4f14-b4f2-2c521f61cb3f",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Same here.",
        "createdAt" : "2019-09-22T05:29:45Z",
        "updatedAt" : "2019-09-22T17:38:37Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "e9215685-813c-40ad-a11c-edb2d60c777a",
        "parentId" : "e0941078-dd7c-4f14-b4f2-2c521f61cb3f",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "Updated",
        "createdAt" : "2019-09-22T17:35:59Z",
        "updatedAt" : "2019-09-22T17:38:37Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      }
    ],
    "commit" : "d35c4fb005fc7a7655b8ce905dc39a135d096c30",
    "line" : 164,
    "diffHunk" : "@@ -1,1 +162,166 @@\n    - assert:\n        that: remove_task_idempotence is not changed\n\n    - name: Check that removing a cron task with cron_file and without specifying an user is allowed (#58493)"
  }
]