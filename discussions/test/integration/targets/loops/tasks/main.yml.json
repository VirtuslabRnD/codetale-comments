[
  {
    "id" : "6f95b0a2-eacb-49f8-9356-671841824848",
    "prId" : 36432,
    "prUrl" : "https://github.com/ansible/ansible/pull/36432#pullrequestreview-97839840",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3636f11e-03ac-4797-b207-c632a54c0044",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "How about `with_dict`?",
        "createdAt" : "2018-02-20T14:10:48Z",
        "updatedAt" : "2018-02-20T14:10:48Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "01ef9c12-5b12-4b51-9b66-5ed4608c6381",
        "parentId" : "3636f11e-03ac-4797-b207-c632a54c0044",
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "`loopthis` is a `list`, I don't see how would changing it to `dict` and using `with_dict` make testing the loop label better?",
        "createdAt" : "2018-02-20T14:20:17Z",
        "updatedAt" : "2018-02-20T14:20:17Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      }
    ],
    "commit" : "2815464ffe0927cdbbf9e32add0d409f5af99642",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +193,197 @@  debug:\n    msg: \"{{ looped_var.name }}\"\n  with_items: \"{{ loopthis }}\"\n  loop_control:\n    loop_var: looped_var"
  },
  {
    "id" : "484290bc-b52c-4ad8-a6cc-175402dc92cc",
    "prId" : 36432,
    "prUrl" : "https://github.com/ansible/ansible/pull/36432#pullrequestreview-97989043",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0791e00b-e3ae-4c22-ad6e-242fa7d7dbe8",
        "parentId" : null,
        "authorId" : "02e74335-a6fd-48e7-acea-88529c13164d",
        "body" : "_ansible_item_label is gauranteed to always be in the looped results?",
        "createdAt" : "2018-02-20T17:04:34Z",
        "updatedAt" : "2018-02-20T17:04:35Z",
        "lastEditedBy" : "02e74335-a6fd-48e7-acea-88529c13164d",
        "tags" : [
        ]
      },
      {
        "id" : "3d088c05-9298-4070-b7de-6b84bae2db1f",
        "parentId" : "0791e00b-e3ae-4c22-ad6e-242fa7d7dbe8",
        "authorId" : "94ae5814-8889-4328-9b58-745772997928",
        "body" : "Who knows :) But as I understood it, if there's loop and label defined in that loop, then yes: https://github.com/ansible/ansible/blob/devel/lib/ansible/executor/task_executor.py#L334",
        "createdAt" : "2018-02-20T17:21:59Z",
        "updatedAt" : "2018-02-20T17:21:59Z",
        "lastEditedBy" : "94ae5814-8889-4328-9b58-745772997928",
        "tags" : [
        ]
      },
      {
        "id" : "08e2d809-828b-4d1c-9fbd-fa87aa490bfb",
        "parentId" : "0791e00b-e3ae-4c22-ad6e-242fa7d7dbe8",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "yes, even if user does not define it, you get the 'default label value'  `{{ item }}`",
        "createdAt" : "2018-02-20T21:07:50Z",
        "updatedAt" : "2018-02-20T21:07:50Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "2815464ffe0927cdbbf9e32add0d409f5af99642",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +202,206 @@    that:\n      - \"output.results[0]['_ansible_item_label'] == 'looped_var foo_label'\"\n      - \"output.results[1]['_ansible_item_label'] == 'looped_var bar_label'\""
  }
]