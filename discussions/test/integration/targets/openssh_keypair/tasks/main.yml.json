[
  {
    "id" : "d5297e32-496f-48b3-95fe-6b91b3b3056b",
    "prId" : 46436,
    "prUrl" : "https://github.com/ansible/ansible/pull/46436#pullrequestreview-166213113",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "08c1568a-5469-41dd-a184-2f94bdc64484",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "I think you should also include at least one idempotency check for `state == present` and one for `state == absent`. Right now you're not testing the check code at all.",
        "createdAt" : "2018-10-18T11:31:33Z",
        "updatedAt" : "2018-10-22T09:12:17Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "6f34337c-3f9a-4836-bb1d-4858286c3360",
        "parentId" : "08c1568a-5469-41dd-a184-2f94bdc64484",
        "authorId" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "body" : "The same issue exists for the other modules in the `crypto` namespace\r\n\r\ne.g.\r\n\r\nhttps://github.com/ansible/ansible/blob/03bccdda9223f8b6ab4bb38a264e07b67f4ed890/test/integration/targets/openssl_privatekey/tasks/main.yml#L15-L22\r\n\r\nand the check:\r\n\r\nhttps://github.com/ansible/ansible/blob/03bccdda9223f8b6ab4bb38a264e07b67f4ed890/test/integration/targets/openssl_privatekey/tests/validate.yml#L31-L39\r\n\r\nwhich doesn't check for idempotency of the absent state. I guess a followup PR could be made to fix all modules in the namespace at once (e.g. first checking for file existence and only reporting \"changed\" if they existed).\r\n",
        "createdAt" : "2018-10-18T12:45:59Z",
        "updatedAt" : "2018-10-22T09:12:17Z",
        "lastEditedBy" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "tags" : [
        ]
      },
      {
        "id" : "c910befc-d8c1-41da-8ec9-3b8ec1c2a7ba",
        "parentId" : "08c1568a-5469-41dd-a184-2f94bdc64484",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Yep, that's something we should change for all tests. Let's do that once this is merged.",
        "createdAt" : "2018-10-18T17:36:33Z",
        "updatedAt" : "2018-10-22T09:12:18Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "287d304445840afb2727c82b4c7d6156bad2442d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +3,7 @@  openssh_keypair:\n    path: '{{ output_dir }}/privatekey1'\n\n- name: Generate privatekey2 - size 2048\n  openssh_keypair:"
  }
]