[
  {
    "id" : "7bbacf21-8357-47db-970d-745364109948",
    "prId" : 23382,
    "prUrl" : "https://github.com/ansible/ansible/pull/23382#pullrequestreview-293842008",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d340526c-96e5-426e-9073-1c3f0318c989",
        "parentId" : null,
        "authorId" : "7243ee41-f7f6-470f-8b39-aec91451b808",
        "body" : "It'd be good to add some assertions here, additionally you can cross-check that the user_id returned from iam_user matches the user_id returned by iam_user_info (just in case the search was doing something screwy)",
        "createdAt" : "2019-09-25T07:24:12Z",
        "updatedAt" : "2019-09-26T16:06:33Z",
        "lastEditedBy" : "7243ee41-f7f6-470f-8b39-aec91451b808",
        "tags" : [
        ]
      },
      {
        "id" : "b77d44d4-c30d-4547-848b-a09dcb4bbe62",
        "parentId" : "d340526c-96e5-426e-9073-1c3f0318c989",
        "authorId" : "fef17745-9ee3-4210-b65b-10fa07b5692e",
        "body" : "https://github.com/ansible/ansible/pull/23382/commits/518e1f4cb5c43ce481747a143ebd103d01796cec has updates so the values returned can be validated against the user created directly.",
        "createdAt" : "2019-09-26T16:13:20Z",
        "updatedAt" : "2019-09-26T16:13:20Z",
        "lastEditedBy" : "fef17745-9ee3-4210-b65b-10fa07b5692e",
        "tags" : [
        ]
      }
    ],
    "commit" : "518e1f4cb5c43ce481747a143ebd103d01796cec",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +52,56 @@        - '\"path\" in iam_user_info.msg'\n\n  - name: ensure ansible user exists\n    iam_user:\n      name: '{{ test_user }}'"
  },
  {
    "id" : "b99b6ce5-9883-4eb1-8e33-26d43e73ecb2",
    "prId" : 23382,
    "prUrl" : "https://github.com/ansible/ansible/pull/23382#pullrequestreview-293330185",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "141f5efd-f170-44a0-a824-da93f3d186cd",
        "parentId" : null,
        "authorId" : "7243ee41-f7f6-470f-8b39-aec91451b808",
        "body" : "Might be good to add some additional tests adding a second user and making sure that\r\n\r\n1. it doesn't show up when not added to the group\r\n2. it does show up when added to the group\r\n3. iam_user_info behaves properly when returning multiple values\r\n\r\n(you'd be surprised at some of the dumb bugs I've seen over the years)",
        "createdAt" : "2019-09-25T07:29:02Z",
        "updatedAt" : "2019-09-26T16:06:33Z",
        "lastEditedBy" : "7243ee41-f7f6-470f-8b39-aec91451b808",
        "tags" : [
        ]
      },
      {
        "id" : "7696e01a-390f-4dbf-815a-9f9f5092e4f4",
        "parentId" : "141f5efd-f170-44a0-a824-da93f3d186cd",
        "authorId" : "fef17745-9ee3-4210-b65b-10fa07b5692e",
        "body" : "https://github.com/ansible/ansible/pull/23382/commits/9e3eda56d319ccd6dcbbc1d7b513405cd1301e10 adds some test cases.",
        "createdAt" : "2019-09-25T20:03:44Z",
        "updatedAt" : "2019-09-26T16:06:33Z",
        "lastEditedBy" : "fef17745-9ee3-4210-b65b-10fa07b5692e",
        "tags" : [
        ]
      }
    ],
    "commit" : "518e1f4cb5c43ce481747a143ebd103d01796cec",
    "line" : 115,
    "diffHunk" : "@@ -1,1 +113,117 @@    register: iam_group\n\n  - name: get info on IAM user(s) in group\n    iam_user_info:\n      group: '{{ test_group }}'"
  },
  {
    "id" : "dcab7c50-9569-487e-a199-443bf9af92bd",
    "prId" : 23382,
    "prUrl" : "https://github.com/ansible/ansible/pull/23382#pullrequestreview-294171646",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cce09717-e52d-466e-a1d1-16ad4719691a",
        "parentId" : null,
        "authorId" : "7243ee41-f7f6-470f-8b39-aec91451b808",
        "body" : "Since these are also tests for iam_user we should at least run a basic test here:\r\n\r\n```suggestion\r\n      that:\r\n        - 'iam_user is changed'\r\n```\r\n\r\nSince your PR isn't for iam_user I don't think it's worth holding it up on thorough testing of iam_user, especially with an iam_user boto3 PR in flight.",
        "createdAt" : "2019-09-27T08:09:47Z",
        "updatedAt" : "2019-09-27T08:09:49Z",
        "lastEditedBy" : "7243ee41-f7f6-470f-8b39-aec91451b808",
        "tags" : [
        ]
      }
    ],
    "commit" : "518e1f4cb5c43ce481747a143ebd103d01796cec",
    "line" : 64,
    "diffHunk" : "@@ -1,1 +62,66 @@        test_iam_user: '{{ iam_user.iam_user.user }}'\n  - assert:\n      that:\n        - 'test_iam_user.arn.startswith(\"arn:aws:iam\")'\n        - 'test_iam_user.arn.endswith(\"user/\" + test_user )'"
  }
]