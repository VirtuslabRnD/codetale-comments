[
  {
    "id" : "af696c45-aefe-47fd-8049-e47f571c7a60",
    "prId" : 50621,
    "prUrl" : "https://github.com/ansible/ansible/pull/50621#pullrequestreview-201858042",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "193baf90-fd5d-4d02-981a-e490018e19e8",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "I'm not sure I see the need for this, can't we just update the package now that PSGet is installed. Also It's best to use `script` if you have a lot of `win_shell` actions in a test, it takes a lot longer to execute each task when you can do it in 1 script.",
        "createdAt" : "2019-01-22T05:16:17Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "ecdcbbc7-d598-4841-8199-de7dee526973",
        "parentId" : "193baf90-fd5d-4d02-981a-e490018e19e8",
        "authorId" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "body" : "Initially, I tried to do that as you propose. It doesn't work.",
        "createdAt" : "2019-01-22T10:56:58Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "tags" : [
        ]
      },
      {
        "id" : "00a37006-5353-4289-be02-2f20077b7ded",
        "parentId" : "193baf90-fd5d-4d02-981a-e490018e19e8",
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Can you go into more detail as to what didn't work. Making these tests efficient is a key part of building the tests. Having 1 task that executes a bunch of commands compared to multiple `win_shell` invocations is a lot more desirable. We are already near the limit of our full run in Shippable.",
        "createdAt" : "2019-02-07T23:14:10Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "e8491f23-1345-4b95-a6ab-09342fdec03a",
        "parentId" : "193baf90-fd5d-4d02-981a-e490018e19e8",
        "authorId" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "body" : "I didn't retest that now but as I remember an issue is that modules have to update themselves - a chicken/egg case. So a chicken has to be killed (`Remove-Module`) and the next an egg can be laid (`Copy-Item`).",
        "createdAt" : "2019-02-09T10:01:17Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "tags" : [
        ]
      }
    ],
    "commit" : "e701a7ecab3e0a2ca5b7007a978eb66da01b048c",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +37,41 @@      win_shell: 'Find-PackageProvider -Name Nuget -ForceBootstrap -IncludeDependencies'\n\n    - name: download and save the nevest version of the PackageManagement module from PowerShell Gallery\n      win_shell: 'Save-Module -Name PackageManagement, PowerShellGet -Path {{ win_output_dir }} -Force'\n"
  },
  {
    "id" : "018c4285-be1f-4cc4-b9ec-3571c2f56a00",
    "prId" : 50621,
    "prUrl" : "https://github.com/ansible/ansible/pull/50621#pullrequestreview-194948956",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9fe97b4e-d18b-48b1-8c27-5ed18b6debcc",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "I'm worried about this, why are we now having to update nuget when the tests worked straight from the box before. We shouldn't be making breaking changes like this.",
        "createdAt" : "2019-01-22T05:17:31Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "e3b42590-3bee-4e1c-8a70-22746fbebc79",
        "parentId" : "9fe97b4e-d18b-48b1-8c27-5ed18b6debcc",
        "authorId" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "body" : "Because the scope of used parameters changed.",
        "createdAt" : "2019-01-22T11:05:43Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "tags" : [
        ]
      }
    ],
    "commit" : "e701a7ecab3e0a2ca5b7007a978eb66da01b048c",
    "line" : 94,
    "diffHunk" : "@@ -1,1 +70,74 @@  when: powershell_major_version.stdout | int >= 5\n  win_shell: |\n    $nuget_exists = (Get-PackageProvider | Where-Object { $_.Name -eq 'Nuget' } | Measure-Object).Count -eq 1\n\n    if ( $nuget_exists ) {"
  },
  {
    "id" : "dfd76834-d24d-4415-9932-7ce6df014506",
    "prId" : 50621,
    "prUrl" : "https://github.com/ansible/ansible/pull/50621#pullrequestreview-195232800",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8c45e2d-b8bc-4745-a4df-bc8f3bc16d94",
        "parentId" : null,
        "authorId" : "7c547162-2334-4e33-a627-e146840da9ec",
        "body" : "Why do we have this version check when we've installed PSGet on older versions above?",
        "createdAt" : "2019-01-22T05:18:46Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "7c547162-2334-4e33-a627-e146840da9ec",
        "tags" : [
        ]
      },
      {
        "id" : "c2272ee8-84c1-4a80-a99d-c71a84e5ff57",
        "parentId" : "c8c45e2d-b8bc-4745-a4df-bc8f3bc16d94",
        "authorId" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "body" : "The legacy tests fail at PowerShell 3.0 and I don't want update them. Test cases are covered by the primary set of tests.",
        "createdAt" : "2019-01-22T21:11:55Z",
        "updatedAt" : "2019-03-05T18:32:12Z",
        "lastEditedBy" : "ecdd8d27-5786-48ed-853e-5dccafa3ad02",
        "tags" : [
        ]
      }
    ],
    "commit" : "e701a7ecab3e0a2ca5b7007a978eb66da01b048c",
    "line" : 111,
    "diffHunk" : "@@ -1,1 +87,91 @@\n- name: peform legacy (backward compatibility) tests\n  when: powershell_major_version.stdout | int == 5\n  block:\n    - name: perform cleanup before legacy tests run"
  }
]