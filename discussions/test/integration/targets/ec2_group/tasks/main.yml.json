[
  {
    "id" : "10787d37-8960-4959-9904-ca600bf387d5",
    "prId" : 27038,
    "prUrl" : "https://github.com/ansible/ansible/pull/27038#pullrequestreview-53056139",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "03c20e18-99c6-4dcd-84bf-f5a0a1e479d5",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Hurrah for more tests!",
        "createdAt" : "2017-07-20T13:54:51Z",
        "updatedAt" : "2017-07-29T02:18:25Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      },
      {
        "id" : "09b9e27f-037c-4c1a-8b70-509030a71057",
        "parentId" : "03c20e18-99c6-4dcd-84bf-f5a0a1e479d5",
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "Indeed - as I find issues, I'm doing TDD - add a test, make sure it fails, fix the code, make sure the test passes.",
        "createdAt" : "2017-07-20T23:14:42Z",
        "updatedAt" : "2017-07-29T02:18:25Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      },
      {
        "id" : "552dd18d-ba59-4a2a-a24b-259b284262ae",
        "parentId" : "03c20e18-99c6-4dcd-84bf-f5a0a1e479d5",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "Please include cleanup for this security group in the always block.",
        "createdAt" : "2017-07-28T22:53:57Z",
        "updatedAt" : "2017-07-29T02:18:25Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "3a526e51-3b61-400f-9fae-25e5278bf2ba",
        "parentId" : "03c20e18-99c6-4dcd-84bf-f5a0a1e479d5",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "Also, when possible, `resource_prefix` should be included in the names of resources so we can more easily identify which test run they came from, should they survive beyond the test run.",
        "createdAt" : "2017-07-28T22:55:44Z",
        "updatedAt" : "2017-07-29T02:18:25Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "de016fea76b963d89485ce42a25c17da4aa3749f",
    "line" : 200,
    "diffHunk" : "@@ -1,1 +326,330 @@          - 'result.group_id.startswith(\"sg-\")'\n\n    - name: add a rule that auto creates another security group\n      ec2_group:\n        name: '{{ec2_group_name}}'"
  },
  {
    "id" : "083f3578-5bf1-4c87-8e53-7ab14fa6a59a",
    "prId" : 38678,
    "prUrl" : "https://github.com/ansible/ansible/pull/38678#pullrequestreview-112941343",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8d16f496-cc88-4077-af9b-d2d0295d69a8",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "This doesn't fail but the output looks wrong to me.\r\n```\r\nchanged: [localhost] => {\r\n    \"changed\": true,\r\n    \"description\": \"Created by ansible integration tests\",\r\n    \"group_id\": \"sg-0e71e747\",\r\n    \"group_name\": \"ansible-test-macbook-pro-63205108\",\r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"aws_access_key\": \"ABIAJT7AJOLXTL7IVL5A\",\r\n            \"aws_secret_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\r\n            \"description\": \"Created by ansible integration tests\",\r\n            \"ec2_url\": null,\r\n            \"group_id\": null,\r\n            \"name\": \"ansible-test-macbook-pro-63205108\",\r\n            \"profile\": null,\r\n            \"purge_rules\": true,\r\n            \"purge_rules_egress\": true,\r\n            \"purge_tags\": true,\r\n            \"region\": \"us-east-1\",\r\n            \"rules\": [\r\n                {\r\n                    \"cidr_ipv6\": \"1001:d00::/24\",\r\n                    \"ports\": [\r\n                        8281\r\n                    ],\r\n                    \"proto\": \"tcp\",\r\n                    \"rule_desc\": \"ipv6 rule desc 1\"\r\n                }\r\n            ],\r\n            \"rules_egress\": [\r\n                {\r\n                    \"cidr_ip\": \"2.2.2.2/32\",\r\n                    \"ports\": [\r\n                        8282\r\n                    ],\r\n                    \"proto\": \"tcp\",\r\n                    \"rule_desc\": \"egress rule desc 1\"\r\n                }\r\n            ],\r\n            \"security_token\": \"\",\r\n            \"state\": \"present\",\r\n            \"tags\": null,\r\n            \"validate_certs\": true,\r\n            \"vpc_id\": \"vpc-52baff29\"\r\n        }\r\n    },\r\n    \"ip_permissions\": [\r\n        {\r\n            \"from_port\": 8182,\r\n            \"ip_protocol\": \"tcp\",\r\n            \"ip_ranges\": [\r\n                {\r\n                    \"cidr_ip\": \"1.1.1.1/32\"\r\n                }\r\n            ],\r\n            \"ipv6_ranges\": [],\r\n            \"prefix_list_ids\": [],\r\n            \"to_port\": 8182,\r\n            \"user_id_group_pairs\": []\r\n        }\r\n    ],\r\n    \"ip_permissions_egress\": [\r\n        {\r\n            \"ip_protocol\": \"-1\",\r\n            \"ip_ranges\": [\r\n                {\r\n                    \"cidr_ip\": \"0.0.0.0/0\"\r\n                }\r\n            ],\r\n            \"ipv6_ranges\": [],\r\n            \"prefix_list_ids\": [],\r\n            \"user_id_group_pairs\": []\r\n        }\r\n    ],\r\n    \"owner_id\": \"448830907657\",\r\n    \"tags\": {},\r\n    \"vpc_id\": \"vpc-52baff29\"\r\n}\r\n```\r\nThe new ingress and egress rule have not replaced the previous ones.",
        "createdAt" : "2018-04-19T17:01:44Z",
        "updatedAt" : "2018-05-18T17:41:10Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed659b55388599b3bed12506d19c4626b516d0b8",
    "line" : 869,
    "diffHunk" : "@@ -1,1 +1051,1055 @@\n    # ============================================================\n    - name: test adding a rule and egress rule descriptions (expected changed=true) (CHECK MODE)\n      ec2_group:\n        name: '{{ec2_group_name}}'"
  },
  {
    "id" : "8e6b6dcd-ba0d-410d-8894-5d217bcde56c",
    "prId" : 38678,
    "prUrl" : "https://github.com/ansible/ansible/pull/38678#pullrequestreview-112941343",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8579ba53-5db6-4125-b75c-aa91c2ea229d",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "This fails because there is no element [1] in result.ip_permissions_egress (though there should be)",
        "createdAt" : "2018-04-19T17:06:12Z",
        "updatedAt" : "2018-05-18T17:41:10Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed659b55388599b3bed12506d19c4626b516d0b8",
    "line" : 954,
    "diffHunk" : "@@ -1,1 +1171,1175 @@        that:\n          - 'not result.changed'\n      when: result.ip_permissions_egress[0].ip_ranges[0].description is undefined and result.ip_permissions_egress[1].ip_ranges[0].description is undefined\n\n    # ============================================================"
  },
  {
    "id" : "1a5f3ee0-6e29-4e8f-9025-ddf1734b56d0",
    "prId" : 38678,
    "prUrl" : "https://github.com/ansible/ansible/pull/38678#pullrequestreview-112941343",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f5ae68ee-998d-4ea1-96c1-dc2ec64f7085",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Frequently the assertion 'result.ip_permissions[0].ipv6_ranges[0].description == \"ipv6 rule desc 2\"' for this task below fails https://github.com/ansible/ansible/pull/38678/files#diff-c9d747cd72fe373e7cfadf07189a1e0cL881\r\n",
        "createdAt" : "2018-04-19T17:13:15Z",
        "updatedAt" : "2018-05-18T17:41:10Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed659b55388599b3bed12506d19c4626b516d0b8",
    "line" : 956,
    "diffHunk" : "@@ -1,1 +1173,1177 @@      when: result.ip_permissions_egress[0].ip_ranges[0].description is undefined and result.ip_permissions_egress[1].ip_ranges[0].description is undefined\n\n    # ============================================================\n    - name: test modifying rule and egress rule descriptions (expected changed=true)\n      ec2_group:"
  },
  {
    "id" : "e21f29e5-f5dd-433c-82aa-abd79aebb79d",
    "prId" : 38678,
    "prUrl" : "https://github.com/ansible/ansible/pull/38678#pullrequestreview-117704931",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4640e212-af65-4218-9315-12d606ef5fb0",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "I need to run tests using an older version of botocore... on 2.5 this fails for some reason.",
        "createdAt" : "2018-05-04T18:51:35Z",
        "updatedAt" : "2018-05-18T17:41:10Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed659b55388599b3bed12506d19c4626b516d0b8",
    "line" : 1069,
    "diffHunk" : "@@ -1,1 +1398,1402 @@      assert:\n        that:\n          - 'result.ip_permissions[0].ipv6_ranges[0].description is undefined'\n          - 'result.ip_permissions_egress[0].ip_ranges[0].description is undefined'\n      when: result is changed"
  },
  {
    "id" : "87f58715-046e-451c-b450-b204b8d2d046",
    "prId" : 44533,
    "prUrl" : "https://github.com/ansible/ansible/pull/44533#pullrequestreview-149151079",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5eeafb97-3b6c-4794-b912-a3f5714b48ae",
        "parentId" : null,
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "Ideally this wouldn't be in the diff but we can remove that at a later date",
        "createdAt" : "2018-08-23T02:16:46Z",
        "updatedAt" : "2018-08-23T21:37:14Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      },
      {
        "id" : "c5035247-d965-44bb-8d98-993c99f3659d",
        "parentId" : "5eeafb97-3b6c-4794-b912-a3f5714b48ae",
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Okay, I'm happy improving it as we go along. It isn't in the visual diff, so I wasn't sure how you felt about that. Do you want to make our own system rather than use the callback's approach of showing only the changes with a little context interspersed between the difference of the \"files\"/resources?",
        "createdAt" : "2018-08-23T17:13:00Z",
        "updatedAt" : "2018-08-23T22:11:13Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      },
      {
        "id" : "740fbb2d-787c-4cf8-ad13-8fd05f961b21",
        "parentId" : "5eeafb97-3b6c-4794-b912-a3f5714b48ae",
        "authorId" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "body" : "If it's not in the visual diff that should be fine - as you say, we can improve it later if we need to.\r\n\r\nFor all my nitpicking on this PR, this is an excellent improvement, thanks!",
        "createdAt" : "2018-08-24T01:37:59Z",
        "updatedAt" : "2018-08-24T01:37:59Z",
        "lastEditedBy" : "183d9a20-6a5e-4432-9fe9-9fd6fe9514fb",
        "tags" : [
        ]
      }
    ],
    "commit" : "9429d1ac3df2fbdfc4b0089d81684a9ec1c7cb65",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +296,300 @@            that:\n               - 'result.changed'\n               - 'result.diff.0.before.ip_permissions == result.diff.0.after.ip_permissions'\n               - 'result.diff.0.before.ip_permissions_egress != result.diff.0.after.ip_permissions_egress'\n"
  }
]