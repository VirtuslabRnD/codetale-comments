[
  {
    "id" : "36461246-07d2-4d28-9e67-c26f204421de",
    "prId" : 36386,
    "prUrl" : "https://github.com/ansible/ansible/pull/36386#pullrequestreview-97829402",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2b78ce7a-8d62-4865-bd12-440e4db98a3f",
        "parentId" : null,
        "authorId" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "body" : "The nxos test is failing here. the above intent task with `associated_interfaces: ['test']` is supposed to fail, but it is passing.\r\n```\r\nTASK [nxos_vlan : assert] \r\nfatal: [nxos9k-02]: FAILED! => {\r\n    \"assertion\": \"result.failed == True\", \r\n    \"changed\": false, \r\n    \"evaluated_to\": false, \r\n    \"failed\": true\r\n}\r\n```\r\n\r\nI did some debugging. Looks like the `associated_interfaces` key is getting deleted somewhere.\r\n```\r\nmap_params_to_obj: \r\n      obj=[{'admin_state': 'up', 'associated_interfaces': ['test'], 'interfaces': None, 'mapped_vni': 'None', 'mode': 'ce', 'name': None, 'state': 'present', 'vlan_id': '100', 'vlan_state': 'active'}]\r\ncheck_declarative_intent_params: \r\n      w={'admin_state': 'up', 'mapped_vni': 'None', 'mode': None, 'vlan_id': '100', 'vlan_state': 'active'}\r\n```",
        "createdAt" : "2018-02-20T07:15:14Z",
        "updatedAt" : "2018-02-20T13:50:36Z",
        "lastEditedBy" : "284bb4ad-6403-4762-bb03-b2a921d26492",
        "tags" : [
        ]
      },
      {
        "id" : "1dd2be71-fcc2-4b85-8f4d-c9fa26c3cf1c",
        "parentId" : "2b78ce7a-8d62-4865-bd12-440e4db98a3f",
        "authorId" : "7a1e5757-684b-4684-bcab-c114385bca28",
        "body" : "Fixed",
        "createdAt" : "2018-02-20T13:51:44Z",
        "updatedAt" : "2018-02-20T13:51:44Z",
        "lastEditedBy" : "7a1e5757-684b-4684-bcab-c114385bca28",
        "tags" : [
        ]
      }
    ],
    "commit" : "b16692e4530b65c09e56559e53707e4e5dceee57",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +86,90 @@- assert:\n    that:\n      - \"result.failed == True\"\n\n- name: Remove interface from vlan"
  }
]