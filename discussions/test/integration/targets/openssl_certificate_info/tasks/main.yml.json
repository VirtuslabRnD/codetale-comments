[
  {
    "id" : "721bc20f-7d35-40dd-974e-5c380bc5f489",
    "prId" : 54709,
    "prUrl" : "https://github.com/ansible/ansible/pull/54709#pullrequestreview-223280987",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "398395c2-a28f-4b38-9d9e-db06f0fdc554",
        "parentId" : null,
        "authorId" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "body" : "shouldn't that fail CSR/Cert number 2 later, since it was issued for the private key with a password?",
        "createdAt" : "2019-04-05T11:54:33Z",
        "updatedAt" : "2019-04-05T11:54:34Z",
        "lastEditedBy" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "tags" : [
        ]
      },
      {
        "id" : "bf3cd391-bd14-4f98-86ff-1ce84cf6e2af",
        "parentId" : "398395c2-a28f-4b38-9d9e-db06f0fdc554",
        "authorId" : "3c2a0f57-db61-42cd-9f60-337be7f6e7c6",
        "body" : "The private key isn't used/needed for retrieving information on certificates.\r\n\r\n(What's interesting though is that creating the self-signed certificate works with the wrong key... But that's unrelated to this PR...)",
        "createdAt" : "2019-04-05T11:59:14Z",
        "updatedAt" : "2019-04-05T11:59:14Z",
        "lastEditedBy" : "3c2a0f57-db61-42cd-9f60-337be7f6e7c6",
        "tags" : [
        ]
      },
      {
        "id" : "7d9ac2c1-088e-4980-8661-a5112c6920ab",
        "parentId" : "398395c2-a28f-4b38-9d9e-db06f0fdc554",
        "authorId" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "body" : "So this would only be discovered if there's also an `openssl_privatekey_info` task and then the public keys of the subject, issuer and private key need to match up?",
        "createdAt" : "2019-04-05T12:50:06Z",
        "updatedAt" : "2019-04-05T12:50:06Z",
        "lastEditedBy" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "tags" : [
        ]
      },
      {
        "id" : "c9a6c418-398a-41f7-8074-fb7386793401",
        "parentId" : "398395c2-a28f-4b38-9d9e-db06f0fdc554",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Passphrases are only discovered when private keys protected with passphrases are loaded, it doesn't matter by whom.\r\n\r\nDoes the cert actually contain the public key of the issuer? I thougt there's only the signature, which can be validated given the public key of the issuer (which has to be taken fom the issuer's cert, or from another source).",
        "createdAt" : "2019-04-05T12:54:12Z",
        "updatedAt" : "2019-04-05T12:54:12Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "99e96e5b-ac46-4604-932a-7b448c6ffa4e",
        "parentId" : "398395c2-a28f-4b38-9d9e-db06f0fdc554",
        "authorId" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "body" : "https://www.alvestrand.no/objectid/2.5.29.35.html exists, but that's not set in many cases. We'd need #29951 for that.",
        "createdAt" : "2019-04-05T13:16:55Z",
        "updatedAt" : "2019-04-05T13:16:55Z",
        "lastEditedBy" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "tags" : [
        ]
      },
      {
        "id" : "da0f2223-2de2-4717-92ab-99ea59a298e5",
        "parentId" : "398395c2-a28f-4b38-9d9e-db06f0fdc554",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "There's also a feature request for that: #50782\r\n\r\nBut that doesn't store the public key, only some kind of hash, so you still need to get the public key from somewhere else :)",
        "createdAt" : "2019-04-05T13:20:17Z",
        "updatedAt" : "2019-04-05T13:20:17Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "6583fc10-6deb-4421-b515-6e9e08e9332b",
        "parentId" : "398395c2-a28f-4b38-9d9e-db06f0fdc554",
        "authorId" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "body" : "Urgh, sometimes x509 really feels like they want to make it as hard as possible to varify/validate information... :-/\r\n\r\nSo in this case (selfsigned) only `Issuer == Subject` can be checked currently and the matching public key check once the `openssl_privatekey_info` module is here...",
        "createdAt" : "2019-04-05T13:36:22Z",
        "updatedAt" : "2019-04-05T13:36:22Z",
        "lastEditedBy" : "57db1e2a-9c1c-4c08-b54f-9731aff18e36",
        "tags" : [
        ]
      },
      {
        "id" : "61d1613e-6727-430c-96f6-6faea114dfa5",
        "parentId" : "398395c2-a28f-4b38-9d9e-db06f0fdc554",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "The aim is also to make the cert small, so you can't insert everything ;) If the objectID extension is there, you can also check if the cert's public key matches it.\r\n\r\nAnyway, it might make sense to have another module which does some more validation, or have some more parameters to allow more complex information retrieval. But I wouldn't do that for 2.8, since we have to look at it in some more detail to find a really good solution ;)",
        "createdAt" : "2019-04-05T13:41:50Z",
        "updatedAt" : "2019-04-05T13:41:51Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "f27a1944fca656b0a82b2ae92267c751de9d6c30",
    "line" : 146,
    "diffHunk" : "@@ -1,1 +144,148 @@      var: cryptography_info_results\n  - name: Compare results\n    assert:\n      that:\n      - item.0 == item.1"
  }
]