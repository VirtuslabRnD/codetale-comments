[
  {
    "id" : "406e6981-e2d7-45c9-8abb-74738c258a2d",
    "prId" : 59126,
    "prUrl" : "https://github.com/ansible/ansible/pull/59126#pullrequestreview-266708630",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c70cca3a-bfcd-4059-b9f4-605f07f1e2ee",
        "parentId" : null,
        "authorId" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "body" : "I've noticed that a lot of our tests are like this - they check for `changed == true` but with a large test like this it will pass even if only one property has changed. Should this test also assert for individual property changes?",
        "createdAt" : "2019-07-22T14:15:40Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "1c9ec37a-2f71-44e7-8b02-5bff03b1111d",
        "tags" : [
        ]
      },
      {
        "id" : "c557234d-ba0d-4e8b-8217-cbc2c0a28ea3",
        "parentId" : "c70cca3a-bfcd-4059-b9f4-605f07f1e2ee",
        "authorId" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "body" : "Good suggestion.  I added the following check to make sure the right commands are sent and only those commands.\r\n\r\n```yaml\r\n    # The step above should result in only the following changes:\r\n    # \"commands\": [\r\n    #     \"telemetry\",\r\n    #     \"certificate /bootflash/local_server.key localhost\",\r\n    #     \"subscription 44\",\r\n    #     \"snsr-grp 8 sample-interval 1000\"\r\n    # ],\r\n\r\n  - set_fact:\r\n      test_list:\r\n        - \"telemetry\"\r\n        - \"certificate /bootflash/local_server.key localhost\"\r\n        - \"subscription 44\"\r\n        - \"snsr-grp 8 sample-interval 1000\"\r\n\r\n  - assert:\r\n      that:\r\n        - \"result.changed == true\"\r\n        - \"test_list|symmetric_difference(result.commands)|length == 0\"\r\n```",
        "createdAt" : "2019-07-25T20:24:07Z",
        "updatedAt" : "2019-08-01T16:41:39Z",
        "lastEditedBy" : "590c0c9f-420c-41b0-8f5d-dc6889d70e93",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ffd6a793c2a6717c5a353bbfddfd9f03e630912",
    "line" : 167,
    "diffHunk" : "@@ -1,1 +165,169 @@  - assert:\n      that:\n        - \"result.changed == true\"\n        - \"test_list|symmetric_difference(result.commands)|length == 0\"\n"
  }
]