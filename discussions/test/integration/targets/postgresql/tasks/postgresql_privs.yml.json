[
  {
    "id" : "94b7353f-81f4-48a8-a6ec-ea21e1247208",
    "prId" : 35331,
    "prUrl" : "https://github.com/ansible/ansible/pull/35331#pullrequestreview-212665688",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6cbe9efc-bf11-4a33-98af-b171ccad8243",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "please, add ignore_errors: yes for all playbooks, see @lichensky 's code for example\r\n```suggestion\r\n  ignore_errors: yes\r\n  register: result\r\n```",
        "createdAt" : "2019-03-11T05:38:44Z",
        "updatedAt" : "2019-03-14T14:34:48Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1bfe6a0be223834d9e1f5d1f6f112b86bdcea9a",
    "line" : 365,
    "diffHunk" : "@@ -1,1 +339,343 @@    login_user: \"{{ db_user3 }}\"\n    login_password: password\n  register: result\n  ignore_errors: yes\n"
  },
  {
    "id" : "3ad81e66-e8d2-4159-9190-92ffff2039fe",
    "prId" : 38803,
    "prUrl" : "https://github.com/ansible/ansible/pull/38803#pullrequestreview-211634673",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "45515913-b4b1-4288-be16-0fd8511c8ee7",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "I think we should check here at least that changed == true when we grant these privs\r\n```suggestion\r\n    login_user: \"{{ pg_user }}\"\r\n    register: result\r\n    ignore_errors: yes\r\n    \r\n- assert:\r\n    that:\r\n    - result.changed == true\r\n```",
        "createdAt" : "2019-03-07T07:41:41Z",
        "updatedAt" : "2019-03-08T07:37:23Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "6842299c4fc49a48916e905f09b9a8a71df6f194",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +42,46 @@    objs: dummy\n    db: \"{{ db_name }}\"\n    login_user: \"{{ pg_user }}\"\n  register: result\n  ignore_errors: yes"
  },
  {
    "id" : "1e8bf160-7911-4b0e-a95d-da5a0f699de5",
    "prId" : 38803,
    "prUrl" : "https://github.com/ansible/ansible/pull/38803#pullrequestreview-211634673",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "95dfd9a7-a959-4d63-b608-708e2d276a4c",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "```suggestion\r\n    login_user: \"{{ pg_user }}\"\r\n    register: result\r\n    ignore_errors: yes\r\n    \r\n- assert:\r\n    that:\r\n    - result.changed == true\r\n```\r\nI think we should check here at least that changed == true when we grant these privs too because maybe this actually won't return changed == true. We can't be sure if we don't check",
        "createdAt" : "2019-03-07T07:46:46Z",
        "updatedAt" : "2019-03-08T07:37:23Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      },
      {
        "id" : "d04f1e53-46c7-4a07-b01c-27aa9f73dead",
        "parentId" : "95dfd9a7-a959-4d63-b608-708e2d276a4c",
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "Also, to make your test complete:\r\n1. try to grant both privs again and check that changed == false\r\n2. try to drop both privs and check that changed == true\r\n3. try to drop both privs again and check that changed == false",
        "createdAt" : "2019-03-07T07:50:39Z",
        "updatedAt" : "2019-03-08T07:37:23Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "6842299c4fc49a48916e905f09b9a8a71df6f194",
    "line" : 138,
    "diffHunk" : "@@ -1,1 +136,140 @@    objs: dummy_server\n    db: \"{{ db_name }}\"\n    login_user: \"{{ pg_user }}\"\n  register: result\n  ignore_errors: yes"
  },
  {
    "id" : "142be94d-6db1-4017-862f-1632bed1bc11",
    "prId" : 54670,
    "prUrl" : "https://github.com/ansible/ansible/pull/54670#pullrequestreview-221473131",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "45681fc7-f92e-45cf-b69c-84f447c9ad21",
        "parentId" : null,
        "authorId" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "body" : "please, use postgresql_query again to check that the privs has been revoked (like in line 412, - result.rowcount == 0).\r\nShortly, we also should check that the priv has been revoked ",
        "createdAt" : "2019-04-02T06:53:24Z",
        "updatedAt" : "2019-04-09T10:12:53Z",
        "lastEditedBy" : "d2d80496-0795-4618-ba72-36ae6c5b52ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "f989dee1506a09fd067c905b72bf1e9ca08f035d",
    "line" : 138,
    "diffHunk" : "@@ -1,1 +506,510 @@    that: result.changed == true\n  when: postgres_version_resp.stdout is version('10', '>=')\n\n- name: Check that all partitioned tables don't have select privileges\n  postgresql_query:"
  },
  {
    "id" : "59267afb-4899-4c94-8e3a-d083ca5b3a8c",
    "prId" : 54670,
    "prUrl" : "https://github.com/ansible/ansible/pull/54670#pullrequestreview-221577911",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b14760f-bdf3-4da4-b764-525dcd6a8de9",
        "parentId" : null,
        "authorId" : "97b95349-6b3e-48ae-911d-d8af2377af05",
        "body" : "like @Andersson007 said, please check with postgresql_query the current status. Like in line 492.",
        "createdAt" : "2019-04-02T10:38:41Z",
        "updatedAt" : "2019-04-09T10:12:53Z",
        "lastEditedBy" : "97b95349-6b3e-48ae-911d-d8af2377af05",
        "tags" : [
        ]
      }
    ],
    "commit" : "f989dee1506a09fd067c905b72bf1e9ca08f035d",
    "line" : 117,
    "diffHunk" : "@@ -1,1 +485,489 @@    that: result.changed == false\n  when: postgres_version_resp.stdout is version('10', '>=')\n\n# Test\n- name: Revoke SELECT to all tables"
  },
  {
    "id" : "eba7157e-1f12-4c26-be39-72d334499a2a",
    "prId" : 54670,
    "prUrl" : "https://github.com/ansible/ansible/pull/54670#pullrequestreview-221577911",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d4db905c-23e9-486a-ae4c-35bcb6ef337c",
        "parentId" : null,
        "authorId" : "97b95349-6b3e-48ae-911d-d8af2377af05",
        "body" : "Tests with `check_mode: yes` would be nice too.",
        "createdAt" : "2019-04-02T10:39:52Z",
        "updatedAt" : "2019-04-09T10:12:53Z",
        "lastEditedBy" : "97b95349-6b3e-48ae-911d-d8af2377af05",
        "tags" : [
        ]
      }
    ],
    "commit" : "f989dee1506a09fd067c905b72bf1e9ca08f035d",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +389,393 @@  when: postgres_version_resp.stdout is version('10', '>=')\n\n# Test\n- name: Grant execute to all tables in check mode\n  postgresql_privs:"
  }
]