[
  {
    "id" : "f6e70349-dfad-471d-bcc5-b228b3ad9b48",
    "prId" : 103465,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/103465#pullrequestreview-701483656",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "839272c8-67c8-4e57-bab2-2b4322eb83a3",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "need to wait for the webhook to become effective before kicking off the test or you'll get flakes (can poll dry-run creating a namespace with malformed labels to wait for the invalid error)",
        "createdAt" : "2021-07-07T17:33:34Z",
        "updatedAt" : "2021-07-07T17:34:40Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "a8d74f92-4828-4c7d-902e-c507ec5e51df",
        "parentId" : "839272c8-67c8-4e57-bab2-2b4322eb83a3",
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "The start method waits for readyz, you don't think that's sufficient?",
        "createdAt" : "2021-07-07T18:28:54Z",
        "updatedAt" : "2021-07-07T18:34:35Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      },
      {
        "id" : "7114a8d3-7a27-4ae9-a142-1ce35be042fd",
        "parentId" : "839272c8-67c8-4e57-bab2-2b4322eb83a3",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "no, readyz makes sure the webhook endpoint is ready, this needs to wait for the kube-apiserver to observe the AdmissionConfiguration object and for it to become effective, otherwise the first pod creation races the AdmissionConfiguration observation inside kube-apiserver",
        "createdAt" : "2021-07-07T22:03:01Z",
        "updatedAt" : "2021-07-07T22:03:01Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "32783f75684e0e514b15f79023ba31485be07d9e",
    "line" : 69,
    "diffHunk" : "@@ -1,1 +114,118 @@\t\tt.Fatalf(\"Failed to install webhook configuration: %v\", err)\n\t}\n\n\topts := podsecuritytest.Options{\n\t\tClientConfig: testServer.ClientConfig,"
  }
]