[
  {
    "id" : "99b1163a-a7e0-408e-9b95-e986b78a744b",
    "prId" : 34231,
    "prUrl" : "https://github.com/nodejs/node/pull/34231#pullrequestreview-444347379",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff80e954-2206-4f24-8263-c5f9ca5405d7",
        "parentId" : null,
        "authorId" : "4224fcfe-ee22-4bd8-9ed5-4e8efd7a90bc",
        "body" : "For my edification: isn't this tautologically true because of the `agent.maxSockets = 1` on line 37?",
        "createdAt" : "2020-07-07T11:01:15Z",
        "updatedAt" : "2021-01-03T21:54:34Z",
        "lastEditedBy" : "4224fcfe-ee22-4bd8-9ed5-4e8efd7a90bc",
        "tags" : [
        ]
      },
      {
        "id" : "e1300381-a2df-4a08-98b5-df909836b144",
        "parentId" : "ff80e954-2206-4f24-8263-c5f9ca5405d7",
        "authorId" : "0f1d82ae-7496-4d11-a948-5ed898ce032a",
        "body" : "It's my understanding that `agent.maxSockets` refers to the total concurrent sockets, my aim with this test is to record every socket opened and count them.\r\n\r\nRunning (a corrected version that I'll commit shortly) on master yields:\r\n```\r\n=== release test-http-reuse-socket2 ===\r\nPath: parallel/test-http-reuse-socket2\r\nassert.js:103\r\n  throw new AssertionError(obj);\r\n  ^\r\n\r\nAssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\r\n\r\n2 !== 1\r\n\r\n    at IncomingMessage.<anonymous> (/home/joseph/Source/node/test/parallel/test-http-reuse-socket2.js:39:14)\r\n    at IncomingMessage.<anonymous> (/home/joseph/Source/node/test/common/index.js:365:15)\r\n    at IncomingMessage.emit (events.js:326:22)\r\n    at endReadableNT (_stream_readable.js:1261:12)\r\n    at processTicksAndRejections (internal/process/task_queues.js:80:21) {\r\n  generatedMessage: true,\r\n  code: 'ERR_ASSERTION',\r\n  actual: 2,\r\n  expected: 1,\r\n  operator: 'strictEqual'\r\n}\r\n```",
        "createdAt" : "2020-07-08T01:09:34Z",
        "updatedAt" : "2021-01-03T21:54:34Z",
        "lastEditedBy" : "0f1d82ae-7496-4d11-a948-5ed898ce032a",
        "tags" : [
        ]
      }
    ],
    "commit" : "7afa5336aed999a62e4943e6000a239585b2e2ea",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +37,41 @@        nextRequest();\n      }\n      assert.strictEqual(sockets.length, 1);\n    }));\n    response.resume();"
  }
]