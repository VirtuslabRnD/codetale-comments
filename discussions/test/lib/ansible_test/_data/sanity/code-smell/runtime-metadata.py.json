[
  {
    "id" : "5cf0f232-932e-4320-aafd-ffdb5ab94735",
    "prId" : 72625,
    "prUrl" : "https://github.com/ansible/ansible/pull/72625#pullrequestreview-550936007",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cdddef54-f8c9-45eb-9f63-53d29020fe94",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Not sure if I understand the comment - this is to avoid failures for an older collection since the deprecation/tombstone check uses today's date rather than, say, the publish date if there is one?",
        "createdAt" : "2020-12-11T21:46:36Z",
        "updatedAt" : "2020-12-13T16:24:32Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      },
      {
        "id" : "2935c837-a434-475e-8845-5912fdef57a1",
        "parentId" : "cdddef54-f8c9-45eb-9f63-53d29020fe94",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Exactly (except that tombstone dates should always be in the past). Otherwise, suddenly CI for older release branches can start failing because an announced deprecation date (\"a major release after xxxx-xx-xx\") is suddenly in the past.",
        "createdAt" : "2020-12-13T16:20:01Z",
        "updatedAt" : "2020-12-13T16:24:32Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "c0ee2b21dfa5fe276c0cc25ade748f4ac4535546",
    "line" : 212,
    "diffHunk" : "@@ -1,1 +262,266 @@    # at a random date. For this to be properly activated, we (a) need to be able to return\n    # codes for this test, and (b) make this error optional.\n    check_deprecation_dates = False\n\n    for path in paths:"
  },
  {
    "id" : "dccd975c-eabe-452b-b7d6-3765df7c0ac4",
    "prId" : 72625,
    "prUrl" : "https://github.com/ansible/ansible/pull/72625#pullrequestreview-551885667",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b9954eb6-9968-49aa-ac89-f00a506fd831",
        "parentId" : null,
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Should this handle Python 2 as well? It looks like other testing code does this https://github.com/ansible/ansible/blob/devel/test/lib/ansible_test/_internal/util.py#L812-L835",
        "createdAt" : "2020-12-14T14:49:19Z",
        "updatedAt" : "2020-12-14T14:49:20Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      },
      {
        "id" : "a2165546-df11-4017-8863-15f27315a309",
        "parentId" : "b9954eb6-9968-49aa-ac89-f00a506fd831",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Indeed. I assumed that all code-smell tests require Python 3.6+, but that only happens when `minimum_python_version` is specified in the associated JSON file. I'll fix that later today.",
        "createdAt" : "2020-12-14T15:07:08Z",
        "updatedAt" : "2020-12-14T15:07:09Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "a69efc00-5b87-4823-be46-022e705c0963",
        "parentId" : "b9954eb6-9968-49aa-ac89-f00a506fd831",
        "authorId" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "body" : "Thanks, sorry for not catching that in the initial review.",
        "createdAt" : "2020-12-14T15:47:01Z",
        "updatedAt" : "2020-12-14T15:47:01Z",
        "lastEditedBy" : "6b7e4265-ae86-4269-9bd7-f8ffa9085df6",
        "tags" : [
        ]
      },
      {
        "id" : "561bdf07-ed1c-4ac9-a165-dbb5068f99c3",
        "parentId" : "b9954eb6-9968-49aa-ac89-f00a506fd831",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "After digging some more, it looks like this is not necessary: all code-smell tests inherit `supported_python_versions` from `SanityTest`, which is defined as all supported Python versions >= 3.0: https://github.com/ansible/ansible/blob/devel/test/lib/ansible_test/_internal/sanity/__init__.py#L658-L661\r\n\r\nIf `minimum_python_version` is specified for a code-smell test, it can have even stricter requirements (https://github.com/ansible/ansible/blob/devel/test/lib/ansible_test/_internal/sanity/__init__.py#L788), but no code-smell test will ever work with Python 2.x (or in fact Python 3.4 or earlier).",
        "createdAt" : "2020-12-14T20:56:22Z",
        "updatedAt" : "2020-12-14T20:56:23Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      }
    ],
    "commit" : "c0ee2b21dfa5fe276c0cc25ade748f4ac4535546",
    "line" : 105,
    "diffHunk" : "@@ -1,1 +104,108 @@def get_collection_version():\n    \"\"\"Return current collection version, or None if it is not available\"\"\"\n    import importlib.util\n\n    collection_detail_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(__file__))),"
  }
]