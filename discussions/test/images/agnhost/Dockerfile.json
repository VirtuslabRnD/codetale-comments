[
  {
    "id" : "25faf8b1-a846-443b-a6ee-6fceca0f57de",
    "prId" : 79142,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/79142#pullrequestreview-254533995",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b46412b8-e458-4089-b5ba-474eb753627f",
        "parentId" : null,
        "authorId" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "body" : "this one's not super obvious to me atm, looking at the existing entrypoint-tester docker file",
        "createdAt" : "2019-06-26T01:07:09Z",
        "updatedAt" : "2019-06-27T14:19:02Z",
        "lastEditedBy" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "tags" : [
        ]
      },
      {
        "id" : "ac320840-d6c2-43cc-af92-719d5414f5b8",
        "parentId" : "b46412b8-e458-4089-b5ba-474eb753627f",
        "authorId" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "body" : "This is probably fine.  It's subtly different from the old image in that this is a symlink, not an entirely separate binary.  This is why printing `os.Args` is important, so we can see how this was invoked to prove that a different command was used.",
        "createdAt" : "2019-06-26T02:15:47Z",
        "updatedAt" : "2019-06-27T14:19:02Z",
        "lastEditedBy" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "tags" : [
        ]
      },
      {
        "id" : "9eece899-1c4d-4945-b6c8-3d7cbb0b4eee",
        "parentId" : "b46412b8-e458-4089-b5ba-474eb753627f",
        "authorId" : "8b178e45-b16b-405a-a22d-44899bf0bd64",
        "body" : "That is correct. TBH, I was also confused initially confused about why the ``entrypoint-tester`` image had the binary added twice, until I looked at the tests. I added a small comment here stating that it's actually needed by those tests, but I should probably add more details about it.\r\n\r\nAnd yeah, it's a symlink in order to save space. Adding the same binary again would almost double the image size, while the same effect can be achieved with a symlink.",
        "createdAt" : "2019-06-26T10:54:52Z",
        "updatedAt" : "2019-06-27T14:19:02Z",
        "lastEditedBy" : "8b178e45-b16b-405a-a22d-44899bf0bd64",
        "tags" : [
        ]
      }
    ],
    "commit" : "54be3825529ba16f16b1828f01e1828ae8ce8a1e",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +44,48 @@# overrides this image's entrypoint with agnhost-2 binary, and will verify that the correct\n# entrypoint is used by the containers.\nRUN ln -s agnhost agnhost-2\n\nENTRYPOINT [\"/agnhost\"]"
  }
]