[
  {
    "id" : "25a89542-d98f-41cf-895c-fdfef073554e",
    "prId" : 95328,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95328#pullrequestreview-508763552",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d172e159-6c87-42e3-80e5-e5efbf4dec83",
        "parentId" : null,
        "authorId" : "fa37bbb4-59dd-42f0-8202-52d5717aff5e",
        "body" : "It's okay to pass it in as env, but it will break the test, will it? also isn't `POD_IP` just a special case for `POD_IPS`? ",
        "createdAt" : "2020-10-07T22:47:48Z",
        "updatedAt" : "2020-10-07T22:48:56Z",
        "lastEditedBy" : "fa37bbb4-59dd-42f0-8202-52d5717aff5e",
        "tags" : [
        ]
      },
      {
        "id" : "673c625c-9ae6-41c5-b440-26bffc97aef5",
        "parentId" : "d172e159-6c87-42e3-80e5-e5efbf4dec83",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "IIUIC the test will not pick this image until it is promoted to the registry,  and the version bumped in the manifest\r\nThat will be done in this PR https://github.com/kubernetes/kubernetes/pull/95351, that modifies the test accordingly and selects the new image version.\r\n\r\n>  also isn't POD_IP just a special case for POD_IPS?\r\n\r\nyeah, but that is only for newer versions (can't remember right now when it was added), but in order to support older version we need to keep checking Status.PodIP",
        "createdAt" : "2020-10-08T06:30:59Z",
        "updatedAt" : "2020-10-08T06:31:06Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "bd9dbb1d-781b-4951-8979-a8607bc25e2f",
        "parentId" : "d172e159-6c87-42e3-80e5-e5efbf4dec83",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "this gives preference to podips, but falls back to podIP if the former does not exist",
        "createdAt" : "2020-10-08T09:06:28Z",
        "updatedAt" : "2020-10-08T09:06:28Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "791d43fd-0202-438a-bee0-1031ec759922",
        "parentId" : "d172e159-6c87-42e3-80e5-e5efbf4dec83",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "@anfernee any feedback on this?\r\nI want to have this ready for the dual stack effort",
        "createdAt" : "2020-10-09T21:28:12Z",
        "updatedAt" : "2020-10-09T21:28:12Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "d48ae945-9c6b-4f54-a3e3-8990dbdcb4e7",
        "parentId" : "d172e159-6c87-42e3-80e5-e5efbf4dec83",
        "authorId" : "c490e441-2b9f-41f2-8559-d47be0ea8836",
        "body" : "You don't need to support older kubernetes versions because they won't try to pull the new version of the issue-74839 image",
        "createdAt" : "2020-10-10T21:06:01Z",
        "updatedAt" : "2020-10-10T21:06:01Z",
        "lastEditedBy" : "c490e441-2b9f-41f2-8559-d47be0ea8836",
        "tags" : [
        ]
      },
      {
        "id" : "3bcf65ce-66b1-4625-88a6-0a457a1a4b24",
        "parentId" : "d172e159-6c87-42e3-80e5-e5efbf4dec83",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "indeed that is true for k/k CI, but the feedback we get from KIND users is that there are still people using 1.12, 1.13, ...\r\nThis makes the image and the modified test https://github.com/kubernetes/kubernetes/pull/95351 that uses this image, able to run in older kubernetes versions without any additional cost.",
        "createdAt" : "2020-10-11T09:38:01Z",
        "updatedAt" : "2020-10-11T09:38:18Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "c653c101-2e26-4119-b547-569842d4b215",
        "parentId" : "d172e159-6c87-42e3-80e5-e5efbf4dec83",
        "authorId" : "fa37bbb4-59dd-42f0-8202-52d5717aff5e",
        "body" : "Sorry for the late reply. I am confused, when was `POD_IP` added? Isn't it to be added in the PR? ",
        "createdAt" : "2020-10-14T21:02:52Z",
        "updatedAt" : "2020-10-14T21:02:52Z",
        "lastEditedBy" : "fa37bbb4-59dd-42f0-8202-52d5717aff5e",
        "tags" : [
        ]
      },
      {
        "id" : "5ec9e66d-6589-4d9e-bbef-78a17f7aa83b",
        "parentId" : "d172e159-6c87-42e3-80e5-e5efbf4dec83",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "POD_IP and POD_IPS are received as environment variables using the Downward API, this is the follow up PR with an example of the modified test using this new image https://github.com/kubernetes/kubernetes/pull/95351/files#diff-ad1f747fb42258e54abc48afe07f79ae44910b07376cd5671ff01e488900c7bcR296-R328.\r\n\r\nIn this PR we only modify the image and bump the version 1.1 -> 1.2, so current tests will keep using the image as it is today, 1.1.\r\nOnce the image 1.2 is in the registry, I will modify the test to use the new image and pass the POD_IP as environment variable. So, during some time, the current tests will be using the 1.1 image and the new test the 1.2",
        "createdAt" : "2020-10-14T21:29:51Z",
        "updatedAt" : "2020-10-14T21:29:52Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "a0887285f51c916509947539ad817f33b908cdd2",
    "line" : 92,
    "diffHunk" : "@@ -1,1 +139,143 @@func getIPs() []net.IP {\n\tvar ips []net.IP\n\tpodIP, podIPs := os.Getenv(\"POD_IP\"), os.Getenv(\"POD_IPS\")\n\tif podIPs != \"\" {\n\t\tfor _, ip := range strings.Split(podIPs, \",\") {"
  }
]