[
  {
    "id" : "beb2a2b0-dc28-4137-84ec-6347652df898",
    "prId" : 70798,
    "prUrl" : "https://github.com/ansible/ansible/pull/70798#pullrequestreview-455056541",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5237404e-80dc-4985-8494-0aa38e093a43",
        "parentId" : null,
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Shouldn't it be a `continue` instead of a `print()`, and happen before the extension check? This way, a file like `.keep` is flagged as an error, instead of being ignored (what the changelog tool does).",
        "createdAt" : "2020-07-24T15:54:31Z",
        "updatedAt" : "2020-07-24T15:54:31Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "672b810a-dfb4-47b4-a19e-f929c8e7fdef",
        "parentId" : "5237404e-80dc-4985-8494-0aa38e093a43",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Compare `devel` (`stable-2.10` should be the same): https://github.com/ansible/ansible/blob/devel/test/lib/ansible_test/_data/sanity/code-smell/changelog.py#L23-L29",
        "createdAt" : "2020-07-24T15:55:45Z",
        "updatedAt" : "2020-07-24T15:55:45Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "abb1bc3a-d333-4511-b8de-7dacaec68b5d",
        "parentId" : "5237404e-80dc-4985-8494-0aa38e093a43",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "The intent is to have the sanity check report an error for any file in the fragments directory that isn't processed by the changelog tool. That way an incorrectly named file doesn't get accidentally omitted from the changelog.",
        "createdAt" : "2020-07-24T16:18:11Z",
        "updatedAt" : "2020-07-24T16:18:11Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "ed7f2cdb-52fd-424e-98e1-b5d0247a6873",
        "parentId" : "5237404e-80dc-4985-8494-0aa38e093a43",
        "authorId" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "body" : "Wouldn't that be the wrong behavior for `.keep` or `.gitkeep` files? Or do we have to add ignore.txt entries for them?",
        "createdAt" : "2020-07-24T16:30:08Z",
        "updatedAt" : "2020-07-24T16:30:08Z",
        "lastEditedBy" : "d10c46ef-3d4c-4766-bd09-d27ec4674a84",
        "tags" : [
        ]
      },
      {
        "id" : "a21c0476-0430-4d15-b9c6-8e0ad168c205",
        "parentId" : "5237404e-80dc-4985-8494-0aa38e093a43",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "The implementation in 2.9 makes no allowance for \"keep\" files. If that's something we want in devel we'll need to make sure that the list of special \"keep\" files is the same for both the changelog tool and the sanity test.",
        "createdAt" : "2020-07-24T16:55:51Z",
        "updatedAt" : "2020-07-24T16:55:52Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "a6679685-81d6-48c3-8127-f60f0b70916c",
        "parentId" : "5237404e-80dc-4985-8494-0aa38e093a43",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "I see the behavior in `antsibull-changelog` is to ignore all dot files. For the sanity test (in devel) we could allow just `.keep` and error on other dot files, since there shouldn't be stray files in the changelog directory anyways.",
        "createdAt" : "2020-07-24T17:18:14Z",
        "updatedAt" : "2020-07-24T17:18:15Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "a7e393b3fe7bb180512966161135a8afd2cea660",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +20,24 @@\n        if os.path.basename(path).startswith('.'):\n            print('%s:%d:%d: file must not be a dotfile' % (path, 0, 0))\n\n    cmd = ['packaging/release/changelogs/changelog.py', 'lint'] + paths"
  }
]