[
  {
    "id" : "238866b2-31bd-4e72-85b1-e53f86dc28ec",
    "prId" : 70449,
    "prUrl" : "https://github.com/ansible/ansible/pull/70449#pullrequestreview-447520197",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae6a7d5f-e7d5-4e43-8123-751020fa1ee5",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Have you tried\r\n```suggestion\r\n    monkeypatch.setattr(datetime.datetime, 'now', lambda: TIMESTAMP)\r\n```",
        "createdAt" : "2020-07-13T15:59:51Z",
        "updatedAt" : "2020-07-13T19:05:02Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "51680015-72bd-4b3e-a90f-be88835e3eda",
        "parentId" : "ae6a7d5f-e7d5-4e43-8123-751020fa1ee5",
        "authorId" : "fd767403-a078-44f2-b3d3-75cd3faab948",
        "body" : "Yes, I tried. It didn't work for me:\r\n```\r\n>       monkeypatch.setattr(datetime.datetime, 'now', lambda: TIMESTAMP)\r\nE       TypeError: can't set attributes of built-in/extension type 'datetime.datetime'\r\n```",
        "createdAt" : "2020-07-13T19:01:39Z",
        "updatedAt" : "2020-07-13T19:05:02Z",
        "lastEditedBy" : "fd767403-a078-44f2-b3d3-75cd3faab948",
        "tags" : [
        ]
      }
    ],
    "commit" : "1444952faff1d0faa75b8071d6050997929a751e",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@            return TIMESTAMP\n\n    monkeypatch.setattr(datetime, 'datetime', FakeNow)\n\n"
  },
  {
    "id" : "e61c89ac-9610-43d9-b16a-570111eddf5f",
    "prId" : 70449,
    "prUrl" : "https://github.com/ansible/ansible/pull/70449#pullrequestreview-447604325",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b5085cbc-0746-4390-9686-cc7206eb8c06",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "In Python, it's common to include docstrings as per PEP 257:\r\n```suggestion\r\ndef fake_now(monkeypatch):\r\n    \"\"\"Patch `datetime.datetime.now()` to return a deterministic value.\"\"\"\r\n```",
        "createdAt" : "2020-07-13T16:02:25Z",
        "updatedAt" : "2020-07-13T19:05:02Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "a091cb86-879b-4a56-a502-edd6fce821da",
        "parentId" : "b5085cbc-0746-4390-9686-cc7206eb8c06",
        "authorId" : "fd767403-a078-44f2-b3d3-75cd3faab948",
        "body" : "Thank you. Added them.",
        "createdAt" : "2020-07-13T19:05:32Z",
        "updatedAt" : "2020-07-13T19:05:32Z",
        "lastEditedBy" : "fd767403-a078-44f2-b3d3-75cd3faab948",
        "tags" : [
        ]
      },
      {
        "id" : "f9670a62-2b8e-4c5b-b111-04cbb0ffcbb2",
        "parentId" : "b5085cbc-0746-4390-9686-cc7206eb8c06",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "FYI when you accept the suggested changes using GitHub UI, it preserves the authorship of the patch.",
        "createdAt" : "2020-07-13T21:10:45Z",
        "updatedAt" : "2020-07-13T21:10:45Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "1444952faff1d0faa75b8071d6050997929a751e",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +15,19 @@\n@pytest.fixture\ndef fake_now(monkeypatch):\n    \"\"\"Patch `datetime.datetime.now()` to return a deterministic value.\"\"\"\n    class FakeNow:"
  },
  {
    "id" : "5f06429f-4107-439b-92bd-fd542b8d6f6a",
    "prId" : 70449,
    "prUrl" : "https://github.com/ansible/ansible/pull/70449#pullrequestreview-447603445",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5ea3076b-8189-49fa-9bef-3310f04028ad",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "If you do this, you'll reduce the amount of copy-paste:\r\n```suggestion\r\n    return data['date_time']\r\n```",
        "createdAt" : "2020-07-13T16:04:45Z",
        "updatedAt" : "2020-07-13T19:05:02Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "db6bedff-cd45-4df7-a4b7-8c9f5d0c1c2e",
        "parentId" : "5ea3076b-8189-49fa-9bef-3310f04028ad",
        "authorId" : "fd767403-a078-44f2-b3d3-75cd3faab948",
        "body" : "Thank you. It's not necessary now, because we use parameterize and define it only once.",
        "createdAt" : "2020-07-13T19:03:09Z",
        "updatedAt" : "2020-07-13T19:13:34Z",
        "lastEditedBy" : "fd767403-a078-44f2-b3d3-75cd3faab948",
        "tags" : [
        ]
      },
      {
        "id" : "ca90b6fa-f538-4314-ab78-0a16d82dbd56",
        "parentId" : "5ea3076b-8189-49fa-9bef-3310f04028ad",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "I'd argue that it'd look cleaner and would better correspond to the fixture name that implies that it returns only the date-related subset of facts.",
        "createdAt" : "2020-07-13T21:09:20Z",
        "updatedAt" : "2020-07-13T21:09:20Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "1444952faff1d0faa75b8071d6050997929a751e",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +33,37 @@    data = collector.collect()\n\n    return data\n\n"
  }
]