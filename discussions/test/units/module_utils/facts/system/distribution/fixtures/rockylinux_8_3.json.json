[
  {
    "id" : "ef79afa5-31dc-4710-aa06-8d336046f4d3",
    "prId" : 74530,
    "prUrl" : "https://github.com/ansible/ansible/pull/74530#pullrequestreview-649953561",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "36f4b663-3aba-4aad-8c17-49ba12af4cf0",
        "parentId" : null,
        "authorId" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "body" : "```suggestion\r\n            \"id_like\": \"rhel centos fedora\",\r\n```",
        "createdAt" : "2021-05-02T21:26:55Z",
        "updatedAt" : "2021-05-02T21:26:56Z",
        "lastEditedBy" : "a16806ae-f6f7-4b0b-b353-5d14ed84b6df",
        "tags" : [
        ]
      }
    ],
    "commit" : "3982955071b56ab40b312c4837eda65d43c0e344",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +12,16 @@            \"version\": \"8.3\",\n            \"id\": \"rocky\",\n            \"id_like\": \"rhel fedora\",\n            \"version_id\": \"8.3\",\n            \"platform_id\": \"platform:el8\","
  },
  {
    "id" : "be2f5601-14af-4b2c-bd6f-ec223d1f4885",
    "prId" : 74530,
    "prUrl" : "https://github.com/ansible/ansible/pull/74530#pullrequestreview-651285599",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2aa03189-5dd9-4532-bda9-1ab93ea6af29",
        "parentId" : null,
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "In my testing `distro.version()` returns `8` not `8.3`. This means `result['distribution_version']` will be `8` and not `8.3`.\r\n\r\n```\r\n{\r\n    \"name\": \"Rocky 8\",\r\n    \"distro\": {\r\n        \"codename\": \"\",\r\n        \"id\": \"rocky\",\r\n        \"name\": \"Rocky Linux\",\r\n        \"version\": \"8\",\r\n        \"version_best\": \"8.3\",\r\n        \"lsb_release_info\": {},\r\n        \"os_release_info\": {\r\n            \"name\": \"Rocky Linux\",\r\n            \"version\": \"8\",\r\n            \"id\": \"rocky\",\r\n            \"id_like\": \"rhel fedora\",\r\n            \"version_id\": \"8\",\r\n            \"platform_id\": \"platform:el8\",\r\n            \"pretty_name\": \"Rocky Linux 8\",\r\n            \"ansi_color\": \"0;31\",\r\n            \"cpe_name\": \"cpe:/o:rocky:rocky:8\",\r\n            \"home_url\": \"https://rockylinux.org/\",\r\n            \"bug_report_url\": \"https://bugs.rockylinux.org/\",\r\n            \"rocky_support_product\": \"Rocky Linux\",\r\n            \"rocky_support_product_version\": \"8\"\r\n        }\r\n    },\r\n    \"input\": {\r\n        \"/etc/redhat-release\": \"Rocky Linux release 8.3\\n\",\r\n        \"/etc/system-release\": \"Rocky Linux release 8.3\\n\",\r\n        \"/etc/os-release\": \"NAME=\\\"Rocky Linux\\\"\\nVERSION=\\\"8\\\"\\nID=\\\"rocky\\\"\\nID_LIKE=\\\"rhel fedora\\\"\\nVERSION_ID=\\\"8\\\"\\nPLATFORM_ID=\\\"platform:el8\\\"\\nPRETTY_NAME=\\\"Rocky Linux 8\\\"\\nANSI_COLOR=\\\"0;31\\\"\\nCPE_NAME=\\\"cpe:/o:rocky:rocky:8\\\"\\nHOME_URL=\\\"https://rockylinux.org/\\\"\\nBUG_REPORT_URL=\\\"https://bugs.rockylinux.org/\\\"\\nROCKY_SUPPORT_PRODUCT=\\\"Rocky Linux\\\"\\nROCKY_SUPPORT_PRODUCT_VERSION=\\\"8\\\"\\n\",\r\n        \"/usr/lib/os-release\": \"NAME=\\\"Rocky Linux\\\"\\nVERSION=\\\"8\\\"\\nID=\\\"rocky\\\"\\nID_LIKE=\\\"rhel fedora\\\"\\nVERSION_ID=\\\"8\\\"\\nPLATFORM_ID=\\\"platform:el8\\\"\\nPRETTY_NAME=\\\"Rocky Linux 8\\\"\\nANSI_COLOR=\\\"0;31\\\"\\nCPE_NAME=\\\"cpe:/o:rocky:rocky:8\\\"\\nHOME_URL=\\\"https://rockylinux.org/\\\"\\nBUG_REPORT_URL=\\\"https://bugs.rockylinux.org/\\\"\\nROCKY_SUPPORT_PRODUCT=\\\"Rocky Linux\\\"\\nROCKY_SUPPORT_PRODUCT_VERSION=\\\"8\\\"\\n\"\r\n    },\r\n    \"platform.dist\": [\r\n        \"rocky\",\r\n        \"8\",\r\n        \"\"\r\n    ],\r\n    \"result\": {\r\n        \"distribution\": \"Rocky\",\r\n        \"distribution_version\": \"8\",\r\n        \"distribution_release\": \"NA\",\r\n        \"distribution_major_version\": \"8\",\r\n        \"os_family\": \"Rocky\"\r\n    },\r\n    \"platform.release\": \"4.18.0-240.22.1.el8.x86_64\"\r\n}\r\n```\r\n\r\n`rocky` needs to be added to the list of distros that need the more precise version information, and the fixture needs updating.\r\nhttps://github.com/ansible/ansible/blob/d8c20a73a4c3d7d0383167a2c50dd077d15b1ba8/lib/ansible/module_utils/common/sys_info.py#L53-L56\r\n\r\nThis conditional needs to be updated as well.\r\nhttps://github.com/ansible/ansible/blob/d8c20a73a4c3d7d0383167a2c50dd077d15b1ba8/lib/ansible/module_utils/common/sys_info.py#L63-L76\r\n",
        "createdAt" : "2021-05-03T16:18:49Z",
        "updatedAt" : "2021-05-03T16:26:41Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "89aea343-b570-422f-a8d6-60698b0844c7",
        "parentId" : "2aa03189-5dd9-4532-bda9-1ab93ea6af29",
        "authorId" : "1fefbe10-0c44-4d36-898f-f58171dd613b",
        "body" : "This does not need further changes if you update your release to the latest version. The \"precise\" versions are addressed by adding the minor release to `/etc/os-release` which RHEL does, but centos does not do.\r\n\r\nPlease update to the [latest version](https://kojidev.rockylinux.org/koji/buildinfo?buildID=7923) if you wish and test. We have not pushed updates to our repos yet.\r\n\r\nThank you.",
        "createdAt" : "2021-05-03T16:54:24Z",
        "updatedAt" : "2021-05-03T16:57:30Z",
        "lastEditedBy" : "1fefbe10-0c44-4d36-898f-f58171dd613b",
        "tags" : [
        ]
      },
      {
        "id" : "9b39d059-3405-4f75-b744-ab2271a6d3e2",
        "parentId" : "2aa03189-5dd9-4532-bda9-1ab93ea6af29",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "Awesome! Thanks. I just tested with a recent RC, but evidently it was not the latest.",
        "createdAt" : "2021-05-04T13:18:16Z",
        "updatedAt" : "2021-05-04T13:18:16Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "192d8188-c3e8-4d8b-a7f4-594dd22d737a",
        "parentId" : "2aa03189-5dd9-4532-bda9-1ab93ea6af29",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "I tested with `rocky-release-8.3-13.el8.noarch` and that gives the expected output.",
        "createdAt" : "2021-05-04T14:12:33Z",
        "updatedAt" : "2021-05-04T14:12:33Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      }
    ],
    "commit" : "3982955071b56ab40b312c4837eda65d43c0e344",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +5,9 @@        \"id\": \"rocky\",\n        \"name\": \"Rocky Linux\",\n        \"version\": \"8.3\",\n        \"version_best\": \"8.3\",\n        \"lsb_release_info\": {},"
  }
]