[
  {
    "id" : "32f7e8c1-c86c-41bc-a410-40834dd00f80",
    "prId" : 16704,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e097e383-3bd2-40b2-a3fe-22308328b28f",
        "parentId" : null,
        "authorId" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "body" : "Bravo on tackling one of the gnarlier test setups ;-> :+1: \n",
        "createdAt" : "2016-07-14T18:07:19Z",
        "updatedAt" : "2016-07-14T18:07:19Z",
        "lastEditedBy" : "fa0144fc-7424-474a-9ab5-059de28814b7",
        "tags" : [
        ]
      }
    ],
    "commit" : "c462667e4eb9e9122e2ac031ce4172a0bd5f5191",
    "line" : 97,
    "diffHunk" : "@@ -1,1 +95,99 @@        *SYNONYMS_0660\n        )\nclass TestSetModeIfDifferent(TestSetModeIfDifferentBase):\n    def test_module_utils_basic_ansible_module_set_mode_if_different(self):\n        with patch('os.lstat') as m:"
  },
  {
    "id" : "f8a04277-c7b8-484e-bf5d-61ca2de4078c",
    "prId" : 33967,
    "prUrl" : "https://github.com/ansible/ansible/pull/33967#pullrequestreview-83979609",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "49106c7c-6209-4fc4-9bff-1ab7c6a0cf6c",
        "parentId" : null,
        "authorId" : "c9b2af00-2c8d-4a67-9cb5-7cbedac7e233",
        "body" : "For consistency, shouldn't you assert that this is called, like os.lchmod ?",
        "createdAt" : "2017-12-16T12:26:00Z",
        "updatedAt" : "2018-01-04T16:16:18Z",
        "lastEditedBy" : "c9b2af00-2c8d-4a67-9cb5-7cbedac7e233",
        "tags" : [
        ]
      },
      {
        "id" : "78a7ee02-df3d-450c-a6d4-eb665f4928a2",
        "parentId" : "49106c7c-6209-4fc4-9bff-1ab7c6a0cf6c",
        "authorId" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "body" : "Following @Spredzy  advice, in order to be consistent with mock of `os.lstat`, `assert not m_path_exists.called` was removed :)\r\nWe kept it only when `return_value` of the `os.path.exists` mock is parametrized.\r\n\r\nAdding this assert for every `os.path.exists` mock doesn't hurt, what do you think ?",
        "createdAt" : "2017-12-16T17:28:52Z",
        "updatedAt" : "2018-01-04T16:16:18Z",
        "lastEditedBy" : "d4c7fda6-9311-4eb9-91ca-d3f1cbccd288",
        "tags" : [
        ]
      }
    ],
    "commit" : "4f7cd0d70146bc8c59399b2969661a0851f7e31e",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +93,97 @@    mocker.patch('os.lstat', side_effect=[mock_stats['after'], mock_stats['after'], mock_stats['after']])\n    m_lchmod = mocker.patch('os.lchmod', return_value=None, create=True)\n    mocker.patch('os.path.exists', return_value=True)\n\n    assert not am.set_mode_if_different('/path/to/file', mode, False)"
  }
]