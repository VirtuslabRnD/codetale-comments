[
  {
    "id" : "b31fddd1-704a-4d7a-8fcb-e33b7c75237b",
    "prId" : 57181,
    "prUrl" : "https://github.com/ansible/ansible/pull/57181#pullrequestreview-244530242",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "135af40e-d768-4061-9e69-903cc19fca01",
        "parentId" : null,
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Be sure that this fails in shippable on error.  For a while we were pinned on a version of pytest where match did not work.",
        "createdAt" : "2019-05-31T16:46:58Z",
        "updatedAt" : "2019-05-31T16:46:58Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "63161980-0262-4648-b10a-c5d871e1a4c8",
        "parentId" : "135af40e-d768-4061-9e69-903cc19fca01",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Well, master seems green + I've checked it locally in docker containers. I assume that pytest should be the same...",
        "createdAt" : "2019-05-31T19:09:57Z",
        "updatedAt" : "2019-05-31T19:09:57Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "87cd4eea-77e5-483a-a724-144d5c01caac",
        "parentId" : "135af40e-d768-4061-9e69-903cc19fca01",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "I mean, you need to test that it properly fails if you raise the correct exception but with the wrong message.  The last time I checked in shippable (but could have been as much as a year ago) pytest's match parameter didn't work.  If I raised ```TypeError('Incorrect message')``` pytest.raises would have thought it was fine.",
        "createdAt" : "2019-05-31T21:18:28Z",
        "updatedAt" : "2019-05-31T21:18:28Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "4a2a83f8-33bb-4fa7-acf3-e4f6f2a50c73",
        "parentId" : "135af40e-d768-4061-9e69-903cc19fca01",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "(It correctly fails locally, so I am pretty sure that the latest pytest doesn't have the problem.  But I don't know if we're still pinning an older version of pytest in shippable which will not handle match right)",
        "createdAt" : "2019-05-31T21:20:45Z",
        "updatedAt" : "2019-05-31T21:20:45Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "45be49a1-aebb-4df7-a29a-3af8d3e1eda8",
        "parentId" : "135af40e-d768-4061-9e69-903cc19fca01",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "It's `pytest-4.4.0` according to https://app.shippable.com/github/ansible/ansible/runs/125466/10/console",
        "createdAt" : "2019-05-31T21:37:29Z",
        "updatedAt" : "2019-05-31T21:37:29Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "25925062918c5cd9825d65350cb40225dfe87099",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +130,134 @@        expected_reason = r\"^'ImmutableDict' object does not support item assignment$\"\n\n        with pytest.raises(TypeError, match=expected_reason):\n            imdict[1] = 3\n"
  }
]