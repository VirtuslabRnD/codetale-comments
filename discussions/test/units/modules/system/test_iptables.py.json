[
  {
    "id" : "6eaafd84-a33b-45aa-a79f-23c4e7c1751d",
    "prId" : 53465,
    "prUrl" : "https://github.com/ansible/ansible/pull/53465#pullrequestreview-212487382",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cdeb5967-ecc2-42cd-aa5e-781f73b82e32",
        "parentId" : null,
        "authorId" : "0fd34a17-8cd9-4bb2-803c-da934539c7f5",
        "body" : "If the exception is not raised, the two asserts won't be evaluated and the test won't raise any error. You can instead use assertRaises() like in the other test:\r\n(untested)\r\n```python\r\nwith self.assertRaises(AnsibleFailJson) as e:\r\n    iptables.main()\r\nself.assertTrue(e.exception.args[0]['failed'])\r\nself.assertEqual(e.exception.args[0]['msg'], 'jump is TEE but all of the following are missing: gateway')\r\n```",
        "createdAt" : "2019-03-08T21:33:29Z",
        "updatedAt" : "2019-03-12T02:53:15Z",
        "lastEditedBy" : "0fd34a17-8cd9-4bb2-803c-da934539c7f5",
        "tags" : [
        ]
      }
    ],
    "commit" : "34c44f9c7bbb7ec6cb777645a9c897751176fa4a",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +594,598 @@\n        with self.assertRaises(AnsibleFailJson) as e:\n            iptables.main()\n        self.assertTrue(e.exception.args[0]['failed'])\n        self.assertEqual(e.exception.args[0]['msg'], 'jump is TEE but all of the following are missing: gateway')"
  }
]