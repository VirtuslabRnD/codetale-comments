[
  {
    "id" : "9d6a3cc1-1c41-4ac4-ac87-219845578746",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170492177",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "55073904-3ad6-40a5-84c8-b061d8b47274",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n        assert isinstance(wrap_var(b'foo'), type(b''))\r\n```",
        "createdAt" : "2018-10-31T18:31:23Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "aaecf707-9d12-4f87-8e82-3c17c8407a64",
        "parentId" : "55073904-3ad6-40a5-84c8-b061d8b47274",
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "I used the `not isinstance` syntax, so that if someone were to implement something like:\r\n\r\n```\r\nclass AnsibleUnsafeBytes(binary_type, AnsibleUnsafe):\r\n    pass\r\n```\r\n\r\nThe tests would have to be knowingly updated, because they would fail.\r\n\r\nThe change you recommend, would silently pass, due to making an assumption about the data.\r\n\r\nThe current method would fail, as it causes a change in behavior.",
        "createdAt" : "2018-10-31T19:22:25Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      },
      {
        "id" : "9be0177d-dd00-496d-a96e-71c042761863",
        "parentId" : "55073904-3ad6-40a5-84c8-b061d8b47274",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "Ah, that makes sense. It would still be good to add the assertions while keeping the existing ones. In line with that, should most of the `isinstance` assertions which aren't negated check for `AnsibleUnsafeText` instead of just `AnsibleUnsafe`?",
        "createdAt" : "2018-10-31T19:58:44Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "3c0cddef-2630-4fe4-b46d-d183c0f674b9",
        "parentId" : "55073904-3ad6-40a5-84c8-b061d8b47274",
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "Feedback should be addressed.",
        "createdAt" : "2018-10-31T22:05:39Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@    if PY3:\n        assert isinstance(wrap_var(b'foo'), type(b''))\n        assert not isinstance(wrap_var(b'foo'), AnsibleUnsafe)\n    else:\n        assert isinstance(wrap_var(b'foo'), AnsibleUnsafeText)"
  },
  {
    "id" : "18405381-79b3-42be-b377-8376e8283b82",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fe7ee2fd-0c60-444e-9d17-0dea9d384b28",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n    assert isinstance(wrap_var(dict(foo='bar')), dict)\r\n```",
        "createdAt" : "2018-10-31T18:35:54Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +29,33 @@def test_wrap_var_dict():\n    assert isinstance(wrap_var(dict(foo='bar')), dict)\n    assert not isinstance(wrap_var(dict(foo='bar')), AnsibleUnsafe)\n    assert isinstance(wrap_var(dict(foo='bar'))['foo'], AnsibleUnsafeText)\n"
  },
  {
    "id" : "f83cd410-66b8-4ece-bc98-a3f51ba9b95d",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f8be7996-990f-4a6e-9e52-7f30dbdf53d3",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n    assert wrap_var(dict(foo=None))['foo'] is None\r\n```",
        "createdAt" : "2018-10-31T18:43:27Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +35,39 @@def test_wrap_var_dict_None():\n    assert wrap_var(dict(foo=None))['foo'] is None\n    assert not isinstance(wrap_var(dict(foo=None))['foo'], AnsibleUnsafe)\n\n"
  },
  {
    "id" : "12b3f263-9f92-4f96-85f1-8f9621b4a384",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ea439925-a484-4a86-a449-40596debea26",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n    assert wrap_var(None) is None\r\n```",
        "createdAt" : "2018-10-31T18:46:43Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 73,
    "diffHunk" : "@@ -1,1 +71,75 @@def test_wrap_var_None():\n    assert wrap_var(None) is None\n    assert not isinstance(wrap_var(None), AnsibleUnsafe)\n\n"
  },
  {
    "id" : "0eda38f2-1d12-46c0-ae7a-46b0f290b8aa",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "426905ae-a6d3-43dc-8eca-ca3c11e015a8",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n    assert wrap_var([None])[0] is None\r\n```",
        "createdAt" : "2018-10-31T18:47:46Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +46,50 @@def test_wrap_var_list_None():\n    assert wrap_var([None])[0] is None\n    assert not isinstance(wrap_var([None])[0], AnsibleUnsafe)\n\n"
  },
  {
    "id" : "11aca32e-cb51-4a60-838c-71f7d8c670d4",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "93506ee9-ce00-4613-a35f-0916e02e5af3",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n```",
        "createdAt" : "2018-10-31T18:55:52Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +12,16 @@def test_UnsafeProxy():\n    assert isinstance(UnsafeProxy({}), dict)\n    assert not isinstance(UnsafeProxy({}), AnsibleUnsafe)\n\n    assert isinstance(UnsafeProxy('foo'), AnsibleUnsafeText)"
  },
  {
    "id" : "052f8b69-7e2d-40d6-a7d6-4bdcd7e35bbd",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "00e9dad1-7819-4da2-aa42-2e0007be611c",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n    assert isinstance(wrap_var(['foo']), list)\r\n```",
        "createdAt" : "2018-10-31T18:58:40Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +40,44 @@def test_wrap_var_list():\n    assert isinstance(wrap_var(['foo']), list)\n    assert not isinstance(wrap_var(['foo']), AnsibleUnsafe)\n    assert isinstance(wrap_var(['foo'])[0], AnsibleUnsafeText)\n"
  },
  {
    "id" : "caaecd51-a764-44b4-9978-8f3d1722817f",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3f15acae-3053-4a99-8702-a848bf61a58e",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n    assert isinstance(wrap_var(set(['foo'])), set)\r\n```",
        "createdAt" : "2018-10-31T18:59:38Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +51,55 @@def test_wrap_var_set():\n    assert isinstance(wrap_var(set(['foo'])), set)\n    assert not isinstance(wrap_var(set(['foo'])), AnsibleUnsafe)\n    for item in wrap_var(set(['foo'])):\n        assert isinstance(item, AnsibleUnsafeText)"
  },
  {
    "id" : "bcf8e37d-9ff5-40c8-bc75-e2d1a139bfed",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "658d6430-07a5-4c57-b583-d9ace6baee9a",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n        assert item is None\r\n```",
        "createdAt" : "2018-10-31T18:59:53Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +59,63 @@    for item in wrap_var(set([None])):\n        assert item is None\n        assert not isinstance(item, AnsibleUnsafe)\n\n"
  },
  {
    "id" : "61182f47-bbdb-4024-8d0f-0aa51a2ec36d",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6d177868-11ea-4556-a32f-fb5d61b7f4a6",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n    assert isinstance(wrap_var(('foo',)), tuple)\r\n```",
        "createdAt" : "2018-10-31T19:00:06Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 66,
    "diffHunk" : "@@ -1,1 +64,68 @@def test_wrap_var_tuple():\n    assert isinstance(wrap_var(('foo',)), tuple)\n    assert not isinstance(wrap_var(('foo',)), AnsibleUnsafe)\n    assert isinstance(wrap_var(('foo',))[0], type(''))\n    assert not isinstance(wrap_var(('foo',))[0], AnsibleUnsafe)"
  },
  {
    "id" : "120f487f-3418-4193-95ee-a40b378bdced",
    "prId" : 47887,
    "prUrl" : "https://github.com/ansible/ansible/pull/47887#pullrequestreview-170399500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "816976d2-84be-46e9-b0dc-1ec0380870a9",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "```suggestion\r\n    assert isinstance(wrap_var(('foo',))[0], type(''))\r\n```",
        "createdAt" : "2018-10-31T19:01:24Z",
        "updatedAt" : "2018-11-01T21:20:36Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5baa90f6c862767388428816c3093c1a7ce0690",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +66,70 @@    assert not isinstance(wrap_var(('foo',)), AnsibleUnsafe)\n    assert isinstance(wrap_var(('foo',))[0], type(''))\n    assert not isinstance(wrap_var(('foo',))[0], AnsibleUnsafe)\n\n"
  }
]