[
  {
    "id" : "82be29c3-0d5f-47f6-9d8d-2fa5865c661e",
    "prId" : 92205,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/92205#pullrequestreview-432744579",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5170f38d-3755-40ae-a9a5-afe136058d85",
        "parentId" : null,
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "Please add a comment explaining the reason for switching to calling nc.\r\nIt would be good to leave a TODO here once the timeout discussed in #92057 is implemented.",
        "createdAt" : "2020-06-17T02:25:15Z",
        "updatedAt" : "2020-06-17T02:25:15Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      },
      {
        "id" : "5d142370-4dae-49d6-91e0-46684889f5e7",
        "parentId" : "5170f38d-3755-40ae-a9a5-afe136058d85",
        "authorId" : "5328b1c0-0dbd-4fd8-869d-e914880959c2",
        "body" : "After looking at the tests in more detail, I think this is a better solution. We can have separate tests for exec with detach when we add that feature.",
        "createdAt" : "2020-06-17T14:40:22Z",
        "updatedAt" : "2020-06-17T14:40:22Z",
        "lastEditedBy" : "5328b1c0-0dbd-4fd8-869d-e914880959c2",
        "tags" : [
        ]
      },
      {
        "id" : "9a0cdccd-9d67-46f9-a471-7a2e8859c89d",
        "parentId" : "5170f38d-3755-40ae-a9a5-afe136058d85",
        "authorId" : "98677041-8dd3-472f-8583-94ee9e37145c",
        "body" : "@tedyu the test was calling `nc` before see the removal of lines 199-201.\r\n\r\nonce official timeout support is added we could add a test to test the timeout.\r\n\r\n+1 to @mrunalp's suggestion for separate tests for exec with detach.\r\n\r\n ",
        "createdAt" : "2020-06-17T19:53:39Z",
        "updatedAt" : "2020-06-17T19:53:40Z",
        "lastEditedBy" : "98677041-8dd3-472f-8583-94ee9e37145c",
        "tags" : [
        ]
      },
      {
        "id" : "a14684fd-2620-4d01-999a-892b64188fce",
        "parentId" : "5170f38d-3755-40ae-a9a5-afe136058d85",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "this is sig-storage test. let's please have whatever new tests needed in node e2e tests and not here.",
        "createdAt" : "2020-06-17T20:21:05Z",
        "updatedAt" : "2020-06-17T20:21:05Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "7643b64050218cf8ea2751146a1217791261f031",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +194,198 @@\t\thostBaseDir = path.Join(\"/tmp\", ns)\n\t\tmountBaseDir = \"/mnt/test\"\n\t\tbasePod = f.PodClient().CreateSync(newHostPathTypeTestPodWithCommand(map[string]string{}, hostBaseDir, mountBaseDir, &hostPathDirectoryOrCreate, fmt.Sprintf(\"nc -lU %s\", path.Join(mountBaseDir, \"asocket\"))))\n\t\tginkgo.By(fmt.Sprintf(\"running on node %s\", basePod.Spec.NodeName))\n\t\ttargetSocket = path.Join(hostBaseDir, \"asocket\")"
  },
  {
    "id" : "0b75fc57-3f47-428f-bca2-378cf1645815",
    "prId" : 64829,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64829#pullrequestreview-395099026",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "93fb2991-34f9-4da6-99ec-35ed1f8d5cff",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "We also had flakiness issues in the past where tests were checking for events. However events could be dropped if there's too many events in the system.\r\n\r\nIs it possible to check for Pod status/condition instead?",
        "createdAt" : "2020-04-15T01:28:12Z",
        "updatedAt" : "2020-04-23T02:52:53Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "c026004b-59f5-4ec3-9ea5-91947d3b6860",
        "parentId" : "93fb2991-34f9-4da6-99ec-35ed1f8d5cff",
        "authorId" : "3c1422a0-6358-4857-8f56-961979171514",
        "body" : "> Is it possible to check for Pod status/condition instead?\r\n\r\nSeems not. Currently related mount failure are only emitted by \"FailedMount\" events.\r\n\r\n> However events could be dropped if there's too many events in the system.\r\n\r\nI don't think this will be a big deal for this test case, since the events will be checked within 1~2 minutes if needed.",
        "createdAt" : "2020-04-16T03:48:59Z",
        "updatedAt" : "2020-04-23T02:52:53Z",
        "lastEditedBy" : "3c1422a0-6358-4857-8f56-961979171514",
        "tags" : [
        ]
      },
      {
        "id" : "2420c9b5-3c5f-47f8-8f3e-2e49a8dd5025",
        "parentId" : "93fb2991-34f9-4da6-99ec-35ed1f8d5cff",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "Unfortunately this has been a source of flakiness in the past. What we've done for other tests in the past, is check for events to speed up the test, but if we can't find an event after some time, we don't fail the test.\r\n\r\nSee https://github.com/kubernetes/kubernetes/blob/b9c370c90f71d4a6a5ad5d4668de6d3fb987720c/test/e2e/storage/testsuites/volumemode.go#L240 for an example",
        "createdAt" : "2020-04-17T01:10:50Z",
        "updatedAt" : "2020-04-23T02:52:53Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      }
    ],
    "commit" : "084fe6de9395f043700573dc3b8f490e9d02ee78",
    "line" : 418,
    "diffHunk" : "@@ -1,1 +416,420 @@\tframework.ExpectNoError(err)\n\n\tginkgo.By(\"Checking for HostPathType error event\")\n\teventSelector := fields.Set{\n\t\t\"involvedObject.kind\":      \"Pod\","
  },
  {
    "id" : "50c0912b-a044-4aa2-98e9-7c859bd7c73c",
    "prId" : 64829,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64829#pullrequestreview-398695517",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ab45b38a-9e69-4cc7-8975-7ec62758f562",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "Ah sorry one more check to make sure the pod is not running. Like https://github.com/kubernetes/kubernetes/blob/b9c370c90f71d4a6a5ad5d4668de6d3fb987720c/test/e2e/storage/testsuites/volumemode.go#L245",
        "createdAt" : "2020-04-23T01:17:30Z",
        "updatedAt" : "2020-04-23T02:52:53Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      }
    ],
    "commit" : "084fe6de9395f043700573dc3b8f490e9d02ee78",
    "line" : 432,
    "diffHunk" : "@@ -1,1 +430,434 @@\t\tframework.Logf(\"Warning: did not get event about FailedMountVolume\")\n\t}\n\n\t// Check the pod is still not running\n\tp, err := f.ClientSet.CoreV1().Pods(f.Namespace.Name).Get(context.TODO(), pod.Name, metav1.GetOptions{})"
  }
]