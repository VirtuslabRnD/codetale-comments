[
  {
    "id" : "35c0771c-e7c4-499b-b7c2-b678bd651bea",
    "prId" : 80238,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80238#pullrequestreview-270409957",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9c8475a0-84e2-4a87-aecb-010c89c43a59",
        "parentId" : null,
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "As this is now in the tests (yay!), and in the absence of a proposal on how to deal with e2e tests that act on the control plane, it feels wrong to deprecate this.\r\n\r\nPropose we move the label to a flag, and put a warning like \"prefer other mechanisms to atomically considering a node to be master or not\".\r\n",
        "createdAt" : "2019-07-18T18:49:02Z",
        "updatedAt" : "2019-08-28T15:18:03Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "cb1d2df0-0dac-4362-a682-fba66ea9a979",
        "parentId" : "9c8475a0-84e2-4a87-aecb-010c89c43a59",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Why is it wrong to deprecate?  Something that is broken is broken - this check doesn't even work on a subset of conformant clusters, so sig-testing definitely needs to help identify next steps.  This is being explicitly marked this way to clearly indicate that no one should add new code using this, which is something Jordan and I have seen repeatedly over the last month.",
        "createdAt" : "2019-07-18T21:30:21Z",
        "updatedAt" : "2019-08-28T15:18:03Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "a881cdd4-3102-4baa-a206-c18b81d73ffc",
        "parentId" : "9c8475a0-84e2-4a87-aecb-010c89c43a59",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "The proposal on how to act on e2e tests on the control plane is to accept labels that identify masters as a parameter (defaulting to existing), if no masters are present the test should skip or continue (depending), and the use of that flag is considered what this is deprecated in favor of.",
        "createdAt" : "2019-08-02T21:51:16Z",
        "updatedAt" : "2019-08-28T15:18:03Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "a49a554211101f594e55e4b7d4574b535249db58",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +24,28 @@// This code must not be updated to use node role labels, since node role labels\n// may not change behavior of the system.\n// DEPRECATED: use a label selector provided by test initialization.\nfunc DeprecatedMightBeMasterNode(nodeName string) bool {\n\t// We are trying to capture \"master(-...)?$\" regexp."
  }
]