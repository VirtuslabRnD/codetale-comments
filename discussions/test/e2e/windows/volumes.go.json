[
  {
    "id" : "ab91c616-9e5a-4d1a-a07a-db0282962a29",
    "prId" : 80182,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80182#pullrequestreview-279183662",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16b8a9f5-37dc-4e9e-9708-b609b5523ad6",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "/cc @ddebroy \r\nfor review too.\r\n",
        "createdAt" : "2019-07-16T22:34:35Z",
        "updatedAt" : "2019-07-16T22:34:36Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "1debf26e-ddca-46a1-9383-3ce18867d693",
        "parentId" : "16b8a9f5-37dc-4e9e-9708-b609b5523ad6",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "We can have two tests:\r\n 1. Use `hostPathDirectoryOrCreate` to create the directory\r\n 2. Test volume mounts without `hostPathDirectoryOrCreate`, now that the directory has been created.\r\n\r\n/cc @jingxu97 ",
        "createdAt" : "2019-07-16T23:01:20Z",
        "updatedAt" : "2019-07-16T23:01:20Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "0d301cda-7b11-45c1-a390-0189f13c8127",
        "parentId" : "16b8a9f5-37dc-4e9e-9708-b609b5523ad6",
        "authorId" : "241ab19e-f85a-4d22-92e2-88f2b6287d14",
        "body" : "Maybe, but I think 2 tests will be redundant here. Significance of this test is the read-only aspect, not hostpathtype.",
        "createdAt" : "2019-07-17T18:29:38Z",
        "updatedAt" : "2019-07-17T18:29:38Z",
        "lastEditedBy" : "241ab19e-f85a-4d22-92e2-88f2b6287d14",
        "tags" : [
        ]
      },
      {
        "id" : "0ada5ffd-deab-49c1-a906-fa806a9f9aec",
        "parentId" : "16b8a9f5-37dc-4e9e-9708-b609b5523ad6",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "Is there a separate test for hostpathtype on windows?",
        "createdAt" : "2019-07-19T00:10:18Z",
        "updatedAt" : "2019-07-19T00:10:18Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "57da50c6-f3d9-4f1e-96fb-e25d8f740c05",
        "parentId" : "16b8a9f5-37dc-4e9e-9708-b609b5523ad6",
        "authorId" : "241ab19e-f85a-4d22-92e2-88f2b6287d14",
        "body" : "I couldn't find a hostpathtype-specific e2e test, but there are unit ones https://github.com/kubernetes/kubernetes/blob/665e76d97623447d13bb3b33b68591a985b49c9d/pkg/volume/hostpath/host_path_test.go#L522. For example, here's another test that just assumes hostpathtype works https://github.com/kubernetes/kubernetes/blob/dc8b92813645b0072622d9feb85f4bdd48268467/test/e2e/common/kubelet_etc_hosts.go#L156",
        "createdAt" : "2019-07-19T00:29:26Z",
        "updatedAt" : "2019-07-19T00:29:26Z",
        "lastEditedBy" : "241ab19e-f85a-4d22-92e2-88f2b6287d14",
        "tags" : [
        ]
      },
      {
        "id" : "8ffb5338-f96a-40cb-b7e9-1d34da0dc014",
        "parentId" : "16b8a9f5-37dc-4e9e-9708-b609b5523ad6",
        "authorId" : "a1a1c8af-e8d1-473f-b2b9-b14426320bcb",
        "body" : "Looks like a reasonable test improvement to me. After creating the directory it will fall through and use the host path as normal.\r\n\r\nhttps://github.com/kubernetes/kubernetes/blob/61af419d386dd9aa05ddfd6e192981ae4ab0ffc5/pkg/volume/hostpath/host_path.go\r\n\r\n/lgtm",
        "createdAt" : "2019-08-23T19:28:40Z",
        "updatedAt" : "2019-08-23T19:28:40Z",
        "lastEditedBy" : "a1a1c8af-e8d1-473f-b2b9-b14426320bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5e838f86414e0a60fed90cb10f6bfb991312de8",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +52,56 @@\t\t\tHostPath: &v1.HostPathVolumeSource{\n\t\t\t\tPath: hostMapPath,\n\t\t\t\tType: &hostPathDirectoryOrCreate,\n\t\t\t},\n\t\t}"
  },
  {
    "id" : "9e1eb3e7-71e1-4757-8e5f-919442a36ae3",
    "prId" : 74085,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74085#pullrequestreview-205342856",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7c540adb-3365-4cd6-b5d3-9aeb4f62178e",
        "parentId" : null,
        "authorId" : "a1a1c8af-e8d1-473f-b2b9-b14426320bcb",
        "body" : "Can you also check that read access works?",
        "createdAt" : "2019-02-14T23:53:53Z",
        "updatedAt" : "2019-02-21T23:54:53Z",
        "lastEditedBy" : "a1a1c8af-e8d1-473f-b2b9-b14426320bcb",
        "tags" : [
        ]
      },
      {
        "id" : "d8c95073-49ee-44e3-8816-afa5ec77ef52",
        "parentId" : "7c540adb-3365-4cd6-b5d3-9aeb4f62178e",
        "authorId" : "a1a1c8af-e8d1-473f-b2b9-b14426320bcb",
        "body" : "we've had bugs where you couldn't read or write before",
        "createdAt" : "2019-02-14T23:54:20Z",
        "updatedAt" : "2019-02-21T23:54:53Z",
        "lastEditedBy" : "a1a1c8af-e8d1-473f-b2b9-b14426320bcb",
        "tags" : [
        ]
      },
      {
        "id" : "0a740644-7f47-4431-b73a-bdf243b0b7ae",
        "parentId" : "7c540adb-3365-4cd6-b5d3-9aeb4f62178e",
        "authorId" : "2c5c2088-6fe4-4767-85d2-d0eb11b20452",
        "body" : "This goes back to the question above, read access is being checked in the two container test since the other container writes to a file that the other can read. Do we write a different test to check read access of a different non empty volume?",
        "createdAt" : "2019-02-15T00:14:08Z",
        "updatedAt" : "2019-02-21T23:54:53Z",
        "lastEditedBy" : "2c5c2088-6fe4-4767-85d2-d0eb11b20452",
        "tags" : [
        ]
      },
      {
        "id" : "5b300b29-a7f6-4cb3-a596-59c19b290282",
        "parentId" : "7c540adb-3365-4cd6-b5d3-9aeb4f62178e",
        "authorId" : "2c5c2088-6fe4-4767-85d2-d0eb11b20452",
        "body" : "@PatrickLang thoughts on this?",
        "createdAt" : "2019-02-19T17:15:22Z",
        "updatedAt" : "2019-02-21T23:54:53Z",
        "lastEditedBy" : "2c5c2088-6fe4-4767-85d2-d0eb11b20452",
        "tags" : [
        ]
      }
    ],
    "commit" : "5e06b93e0b51a5d587bad0d1ffe3a8c0223f7737",
    "line" : 98,
    "diffHunk" : "@@ -1,1 +96,100 @@\t_, stderr, _ := f.ExecCommandInContainerWithFullOutput(podName, containerName, cmd...)\n\n\tExpect(stderr).To(Equal(\"Access is denied.\"))\n\n}"
  }
]