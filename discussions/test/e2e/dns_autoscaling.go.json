[
  {
    "id" : "8a22ebf2-464a-4eb0-a16b-90e3201c8fd7",
    "prId" : 37261,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/37261#pullrequestreview-10825584",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "04992593-c5d3-4389-a045-9640b25cacb2",
        "parentId" : null,
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Given this test runs serially, I think it is fine to simply save the original replicas count and assume it should be the same after test is finished.",
        "createdAt" : "2016-11-22T02:12:33Z",
        "updatedAt" : "2016-12-01T05:05:53Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      },
      {
        "id" : "fbb1a264-4188-41d2-a3f7-9c6b0c46d305",
        "parentId" : "04992593-c5d3-4389-a045-9640b25cacb2",
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Because before each separate test begins we ensure all nodes are ready.",
        "createdAt" : "2016-11-22T17:50:05Z",
        "updatedAt" : "2016-12-01T05:05:53Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      },
      {
        "id" : "af03d474-24d0-46a6-86a0-3c5f11a9f377",
        "parentId" : "04992593-c5d3-4389-a045-9640b25cacb2",
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "do we ensure all nodes are ready before every test, or at the start of the suite? when you run with ginkgo, it executes e2e.go, but that only runs once in a suite",
        "createdAt" : "2016-11-30T04:49:48Z",
        "updatedAt" : "2016-12-01T05:05:53Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      },
      {
        "id" : "d969f82b-3d29-4dc1-a74e-d5c39371f46c",
        "parentId" : "04992593-c5d3-4389-a045-9640b25cacb2",
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Sorry, I checked the code and it turns out we check all nodes are ready after every test([ref1](https://github.com/kubernetes/kubernetes/blob/master/test/e2e/framework/framework.go#L142) and [ref2](https://github.com/kubernetes/kubernetes/blob/master/test/e2e/framework/framework.go#L437)).\r\n\r\nBut I think it would be suffice for this case?",
        "createdAt" : "2016-11-30T19:09:10Z",
        "updatedAt" : "2016-12-01T05:05:53Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      }
    ],
    "commit" : "c5e68b54519c68fbf33abb0d4bb60df75208bc9d",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +68,72 @@\t\tBy(\"Collecting original replicas count and DNS scaling params\")\n\t\tvar err error\n\t\toriginDNSReplicasCount, err = getDNSReplicas(c)\n\t\tExpect(err).NotTo(HaveOccurred())\n"
  },
  {
    "id" : "b27c5523-dad1-489a-9b40-8552b496255c",
    "prId" : 37261,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/37261#pullrequestreview-10690846",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "18aaab98-85aa-4786-9091-b51d39ff2382",
        "parentId" : null,
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "please add a comment with the time estimate",
        "createdAt" : "2016-11-30T04:56:02Z",
        "updatedAt" : "2016-12-01T05:05:53Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      }
    ],
    "commit" : "c5e68b54519c68fbf33abb0d4bb60df75208bc9d",
    "line" : null,
    "diffHunk" : "@@ -1,1 +78,82 @@\t// This test is separated because it is slow and need to run serially.\n\t// Will take around 5 minutes to run on a 4 nodes cluster.\n\tIt(\"[Serial] [Slow] kube-dns-autoscaler should scale kube-dns pods when cluster size changed\", func() {\n\n\t\tBy(\"Replace the dns autoscaling parameters with testing parameters\")"
  },
  {
    "id" : "f9819fcc-266e-46a0-be6d-8daf335ab030",
    "prId" : 37261,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/37261#pullrequestreview-11262212",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "998056a8-c981-4246-8cf0-bbb2f9a2fdce",
        "parentId" : null,
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Turns out in #36673 @caesarxuchao was changing the entire e2e tests to use versioned api. Will remove this and figure out another way to retrieve `api.NamespaceSystem`.",
        "createdAt" : "2016-12-02T03:49:54Z",
        "updatedAt" : "2016-12-02T03:49:54Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      },
      {
        "id" : "987842b2-38e0-4ada-b820-f6f4a2591c74",
        "parentId" : "998056a8-c981-4246-8cf0-bbb2f9a2fdce",
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "I think using `api.NamespaceSystem` is fine for now, it's just a constant.",
        "createdAt" : "2016-12-02T23:59:21Z",
        "updatedAt" : "2016-12-02T23:59:21Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      },
      {
        "id" : "2cb1c960-59eb-4398-bec6-10a6710f04dd",
        "parentId" : "998056a8-c981-4246-8cf0-bbb2f9a2fdce",
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Good to know, thanks!",
        "createdAt" : "2016-12-03T00:02:10Z",
        "updatedAt" : "2016-12-03T00:02:10Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      }
    ],
    "commit" : "c5e68b54519c68fbf33abb0d4bb60df75208bc9d",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +24,28 @@\t\"time\"\n\n\t\"k8s.io/kubernetes/pkg/api\"\n\t\"k8s.io/kubernetes/pkg/api/resource\"\n\t\"k8s.io/kubernetes/pkg/api/v1\""
  },
  {
    "id" : "326cfe91-ec0c-40bb-9965-a1f7fade1136",
    "prId" : 36600,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/36600#pullrequestreview-8282772",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b56ff6b-71cc-4807-bd72-83ff466c9463",
        "parentId" : null,
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "what happens if a node goes NotReady during the test, do we surface the error clearly? I'm guessing the expected count will change because it relists nodes every invocation, and we will have some extra DNS pods in running for ~5m till the master deletes pods on NotReady nodes, so the test will probably time out. Ideally, an error message that tells us a node went notready/un-schedulable during the test would help.\n",
        "createdAt" : "2016-11-11T22:57:30Z",
        "updatedAt" : "2016-11-28T06:22:14Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      },
      {
        "id" : "e5428d2f-7052-41e9-9111-c2d4b7f5dd04",
        "parentId" : "3b56ff6b-71cc-4807-bd72-83ff466c9463",
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "This test will not timeout because it is not actually counting the running pods. Instead it just gets the replicas count from kube-dns deployment.\n\nAnd because it is using the `GetReadySchedulableNodesOrDie()` function from framework, I think it does print out warning if a node is not ready, like below:\n\n```\nNov 10 00:36:26.951: INFO: Condition Ready of node jenkins-e2e-minion-group-x6w1 is false instead of true.\n```\n",
        "createdAt" : "2016-11-11T23:37:57Z",
        "updatedAt" : "2016-11-28T06:22:14Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      }
    ],
    "commit" : "b77484987b61728d76dd634f63e4c1760655b368",
    "line" : 213,
    "diffHunk" : "@@ -1,1 +265,269 @@\t\t}\n\t\texpected = getExpected(c)\n\t\tif current != expected {\n\t\t\tframework.Logf(\"replicas not as expected: got %v, expected %v\", current, expected)\n\t\t\treturn false, nil"
  }
]