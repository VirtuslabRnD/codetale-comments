[
  {
    "id" : "7b4be4dc-8af6-4a34-a6be-ae588e0a377b",
    "prId" : 99492,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/99492#pullrequestreview-602222749",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8ab4b5de-5c43-47cc-8923-fdffda6af4de",
        "parentId" : null,
        "authorId" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "body" : "These need to be updated to follow the (move to test/e2e/common/node, use SIGDescribe) pattern",
        "createdAt" : "2021-03-02T19:33:40Z",
        "updatedAt" : "2021-03-02T20:35:12Z",
        "lastEditedBy" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "tags" : [
        ]
      },
      {
        "id" : "a8649996-20fc-4e60-ad37-5e3e50973168",
        "parentId" : "8ab4b5de-5c43-47cc-8923-fdffda6af4de",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "I consciously used SIGNodeDescribe to make it easier to review for SIG-node folks.\r\nI will do the second step of moving stuff around in a subsequent PR.",
        "createdAt" : "2021-03-02T20:08:40Z",
        "updatedAt" : "2021-03-02T20:35:12Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "fe357f50-6140-448b-891f-3842f0ef0b90",
        "parentId" : "8ab4b5de-5c43-47cc-8923-fdffda6af4de",
        "authorId" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "body" : "OK, SGTM",
        "createdAt" : "2021-03-02T20:12:48Z",
        "updatedAt" : "2021-03-02T20:35:12Z",
        "lastEditedBy" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "tags" : [
        ]
      }
    ],
    "commit" : "f4407f4db891376a28373288b47f2a3b0f2a7411",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +46,50 @@)\n\nvar _ = SIGNodeDescribe(\"Probing container\", func() {\n\tf := framework.NewDefaultFramework(\"container-probe\")\n\tvar podClient *framework.PodClient"
  },
  {
    "id" : "ee5ae083-bb54-4a26-83b6-2f4d3533a046",
    "prId" : 97619,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97619#pullrequestreview-582750961",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d968ffdc-9207-4350-baca-af69cef086af",
        "parentId" : null,
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "I'd suggest to change it to 1.20 since it is only fixed than. Keeping 1.9 is misleading",
        "createdAt" : "2021-01-04T19:30:01Z",
        "updatedAt" : "2021-01-04T19:30:01Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "33798611-cf95-45cc-8ca7-c95133c91e2c",
        "parentId" : "d968ffdc-9207-4350-baca-af69cef086af",
        "authorId" : "580b4924-2623-4aee-8bbf-3e1735a9dc88",
        "body" : "you can list both, to indicate the change in behavior in 1.20: `v1.9, v1.20`",
        "createdAt" : "2021-02-03T19:58:29Z",
        "updatedAt" : "2021-02-03T19:58:29Z",
        "lastEditedBy" : "580b4924-2623-4aee-8bbf-3e1735a9dc88",
        "tags" : [
        ]
      },
      {
        "id" : "5813c1b7-21b7-4024-b7fb-e6e6b00f3cb5",
        "parentId" : "d968ffdc-9207-4350-baca-af69cef086af",
        "authorId" : "580b4924-2623-4aee-8bbf-3e1735a9dc88",
        "body" : "once that change is in, I can approve",
        "createdAt" : "2021-02-03T20:00:42Z",
        "updatedAt" : "2021-02-03T20:00:42Z",
        "lastEditedBy" : "580b4924-2623-4aee-8bbf-3e1735a9dc88",
        "tags" : [
        ]
      }
    ],
    "commit" : "2242d0ffc409594bd4543153ebdba4534c8e83cf",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +210,214 @@\n\t/*\n\t\tRelease: v1.9\n\t\tTestname: Pod liveness probe, container exec timeout, restart\n\t\tDescription: A Pod is created with liveness probe with a Exec action on the Pod. If the liveness probe call does not return within the timeout specified, liveness probe MUST restart the Pod."
  },
  {
    "id" : "9c70fc4d-51da-44c1-a98e-e9ca80920e46",
    "prId" : 96694,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/96694#pullrequestreview-533963132",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "32e31113-8503-4687-a0dc-eb299d5be696",
        "parentId" : null,
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "perhaps change the `Release` to 1.20 for this test as well?\r\n\r\n![image](https://user-images.githubusercontent.com/9950081/99596381-041ba880-29ab-11eb-99fe-196b88a1040c.png)\r\n",
        "createdAt" : "2020-11-18T22:33:32Z",
        "updatedAt" : "2020-11-23T22:35:49Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "6d5c409a-994a-4853-98bc-656942270ed5",
        "parentId" : "32e31113-8503-4687-a0dc-eb299d5be696",
        "authorId" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "body" : "Yeah I'm not sure what the best practice here is. The test was added in v1.9, but it was skipped and never ran until v1.20. ",
        "createdAt" : "2020-11-18T22:48:26Z",
        "updatedAt" : "2020-11-23T22:35:49Z",
        "lastEditedBy" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "tags" : [
        ]
      },
      {
        "id" : "95b141dc-b0a5-4000-9f4f-e3eb9cd8a355",
        "parentId" : "32e31113-8503-4687-a0dc-eb299d5be696",
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "this is why I am recommending the change, but either way is ok I think. Also not aware on the best practices here.\r\n\r\n/lgtm",
        "createdAt" : "2020-11-18T23:26:19Z",
        "updatedAt" : "2020-11-23T22:35:49Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa8cd31420819a657e2bdde6dd562409c1a11961",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +214,218 @@\t\tDescription: A Pod is created with liveness probe with a Exec action on the Pod. If the liveness probe call  does not return within the timeout specified, liveness probe MUST restart the Pod.\n\t*/\n\tginkgo.It(\"should be restarted with an exec liveness probe with timeout [NodeConformance]\", func() {\n\t\tcmd := []string{\"/bin/sh\", \"-c\", \"sleep 600\"}\n\t\tlivenessProbe := &v1.Probe{"
  },
  {
    "id" : "c8d5792c-23ff-424e-b8c3-df84ff343bda",
    "prId" : 96694,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/96694#pullrequestreview-545292251",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f8367509-4bcd-41a0-9f7c-6083f27baf66",
        "parentId" : null,
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "Now I learned more about conformance tests and this test seems to be a good candidate to be added to conformance list. Maybe this PR, maybe a new one. Specifically, do this:\r\n\r\n```suggestion\r\n\tframework.ConformanceIt(\"should be restarted with an exec liveness probe with timeout [NodeConformance]\", func() {\r\n```\r\n\r\nand then run the follow https://github.com/kubernetes/kubernetes/tree/8b2f5be31991be924af318fd314f1ca25b75c4a1/test/conformance to update the https://github.com/kubernetes/kubernetes/blob/8b2f5be31991be924af318fd314f1ca25b75c4a1/test/conformance/testdata/conformance.yaml\r\n\r\nThere is another conformance test (`should be restarted with a exec \\\"cat /tmp/health\\\" liveness probe [NodeConformance]`) that is using non agnostic image for tests. At first I though conformance should be windows-compatible, but it looks like it's OK to make one that is using `/bin/sh`",
        "createdAt" : "2020-12-04T18:04:26Z",
        "updatedAt" : "2020-12-04T18:04:26Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "e209fe12-1284-430f-a048-274712908149",
        "parentId" : "f8367509-4bcd-41a0-9f7c-6083f27baf66",
        "authorId" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "body" : "> maybe a new one\r\n\r\nI think I prefer a new one, approval for conformance generally goes through a separate process. Adding this to `NodeConformance` now ensures we have more e2es on varying runtimes running this test (some test jobs only run `NodeConformance` tests)",
        "createdAt" : "2020-12-04T20:07:24Z",
        "updatedAt" : "2020-12-04T20:07:25Z",
        "lastEditedBy" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "tags" : [
        ]
      },
      {
        "id" : "20ccc724-3a9a-4168-8eb6-5185a07be8a3",
        "parentId" : "f8367509-4bcd-41a0-9f7c-6083f27baf66",
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "/lgtm",
        "createdAt" : "2020-12-04T20:59:17Z",
        "updatedAt" : "2020-12-04T20:59:17Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa8cd31420819a657e2bdde6dd562409c1a11961",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +214,218 @@\t\tDescription: A Pod is created with liveness probe with a Exec action on the Pod. If the liveness probe call  does not return within the timeout specified, liveness probe MUST restart the Pod.\n\t*/\n\tginkgo.It(\"should be restarted with an exec liveness probe with timeout [NodeConformance]\", func() {\n\t\tcmd := []string{\"/bin/sh\", \"-c\", \"sleep 600\"}\n\t\tlivenessProbe := &v1.Probe{"
  },
  {
    "id" : "b8905c85-afbb-47c2-b114-fade7b7bb826",
    "prId" : 96495,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/96495#pullrequestreview-531931775",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "deb52fc7-d6d8-413d-bde2-367b4b0f0ee1",
        "parentId" : null,
        "authorId" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "body" : "This test started to flake once dockershim was updated to correctly return DeadlineExceeded grpc status error. It seems like the default 1s timeout was  too aggressive here, my guess is because `pull-kubernetes-e2e-node` is probably very resource starved. I updated this to 5 seconds and the test seems to be passing consistently. \r\n\r\nIncreasing the timeout here seems safe, because this test is really expecting that the exit code from the probe returns 0, it should allow for the probe to take longer than the default 1s, as long as it doesn't return a non-zero exit code.",
        "createdAt" : "2020-11-16T15:21:18Z",
        "updatedAt" : "2020-11-17T15:02:43Z",
        "lastEditedBy" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "tags" : [
        ]
      },
      {
        "id" : "daa22575-abdf-4ed8-895a-284165eeab82",
        "parentId" : "deb52fc7-d6d8-413d-bde2-367b4b0f0ee1",
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "should the same be on line 124?",
        "createdAt" : "2020-11-16T23:49:07Z",
        "updatedAt" : "2020-11-17T15:02:43Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "3d4c2cf2-42cd-4a82-8e92-40c0e74b00a1",
        "parentId" : "deb52fc7-d6d8-413d-bde2-367b4b0f0ee1",
        "authorId" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "body" : "hmmm.. so that test wasn't failing because the test is expecting a restart, but now that you mention it may be failing due to timeout and not a non-zero exit code, so I think it may make sense to set a similar timeout there.",
        "createdAt" : "2020-11-17T00:28:19Z",
        "updatedAt" : "2020-11-17T15:02:43Z",
        "lastEditedBy" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "tags" : [
        ]
      }
    ],
    "commit" : "f5a82f70e5e4cb6b957961166533023d2c79b00e",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +141,145 @@\t\t\tHandler:             execHandler([]string{\"cat\", \"/tmp/health\"}),\n\t\t\tInitialDelaySeconds: 15,\n\t\t\tTimeoutSeconds:      5, // default 1s can be pretty aggressive in CI environments with low resources\n\t\t\tFailureThreshold:    1,\n\t\t}"
  },
  {
    "id" : "ba52dfc1-9fc5-4ca3-a5b4-e2dee92b41c6",
    "prId" : 94160,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94160#pullrequestreview-472922318",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99ae16aa-e221-40f1-b8ce-a15525bc2922",
        "parentId" : null,
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "this is just copy/paste, no actual changes in tests, correct?",
        "createdAt" : "2020-08-21T22:51:48Z",
        "updatedAt" : "2020-08-22T13:10:34Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "bff56d0d-79c4-4aa6-ab45-26941be8142c",
        "parentId" : "99ae16aa-e221-40f1-b8ce-a15525bc2922",
        "authorId" : "4da24861-03eb-421f-b365-cf63f3c423b3",
        "body" : "yup, just moving stuff back where it should be (now that we dropped the feature flag)",
        "createdAt" : "2020-08-22T12:17:57Z",
        "updatedAt" : "2020-08-22T13:10:34Z",
        "lastEditedBy" : "4da24861-03eb-421f-b365-cf63f3c423b3",
        "tags" : [
        ]
      }
    ],
    "commit" : "ea1458550077bdf3b26ac34551a3591d280fe1f5",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +266,270 @@\t})\n\n\t/*\n\t\tRelease: v1.16\n\t\tTestname: Pod startup probe restart"
  },
  {
    "id" : "a1f15315-9fa3-4401-9915-91033228068a",
    "prId" : 86148,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/86148#pullrequestreview-330733110",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6c9a5cd3-ee64-45db-8430-f1ba6695afdf",
        "parentId" : null,
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "Nice catch",
        "createdAt" : "2019-12-11T17:59:47Z",
        "updatedAt" : "2019-12-13T02:12:43Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "f786cb07b792590a69cf3e580e828370fe577f20",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +83,87 @@\n\t\trestartCount := getRestartCount(p)\n\t\tframework.ExpectEqual(restartCount, 0, \"pod should have a restart count of 0 but got %v\", restartCount)\n\t})\n"
  },
  {
    "id" : "9e3bd93e-d4da-4ebd-b983-f67efa0e3c81",
    "prId" : 72354,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/72354#pullrequestreview-188371736",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "922bec8b-3602-48f0-93aa-87da491c10f3",
        "parentId" : null,
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Seems unnecessary?",
        "createdAt" : "2018-12-27T18:15:41Z",
        "updatedAt" : "2018-12-31T07:45:59Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      },
      {
        "id" : "22f8ecfd-442e-4a55-ae35-a2033c108960",
        "parentId" : "922bec8b-3602-48f0-93aa-87da491c10f3",
        "authorId" : "8e1b7182-7c58-42f5-9460-2ab633fa12b5",
        "body" : "Yes this change is not necessary. Thanks for pointing out.",
        "createdAt" : "2018-12-28T11:25:48Z",
        "updatedAt" : "2018-12-31T07:45:59Z",
        "lastEditedBy" : "8e1b7182-7c58-42f5-9460-2ab633fa12b5",
        "tags" : [
        ]
      },
      {
        "id" : "1cacdbfe-f997-4e08-9fd5-0091d7642dd3",
        "parentId" : "922bec8b-3602-48f0-93aa-87da491c10f3",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "I think this is caused by the newer go version",
        "createdAt" : "2018-12-28T21:24:55Z",
        "updatedAt" : "2018-12-31T07:45:59Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      }
    ],
    "commit" : "b3217cc6248b44f9cb2ec399ec6317991c5dba4f",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +21,25 @@\t\"time\"\n\n\tv1 \"k8s.io/api/core/v1\"\n\tmetav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"\n\t\"k8s.io/apimachinery/pkg/util/intstr\""
  },
  {
    "id" : "2addc31e-71fe-45fe-b291-1d57f0c56795",
    "prId" : 59218,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/59218#pullrequestreview-99837542",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7288d810-1c0d-45fd-8a91-1f5cb3879a69",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "does this start to get close to the observation timeout? if the container was restarted at the end of 5 failures, would that happen within the observation timeout and fail the test as we would want?",
        "createdAt" : "2018-02-27T17:34:21Z",
        "updatedAt" : "2018-02-27T17:34:21Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "e83914ed-6ba5-493b-96f2-8dec9f3eebde",
        "parentId" : "7288d810-1c0d-45fd-8a91-1f5cb3879a69",
        "authorId" : "8e9f49fc-1050-4601-b81c-83bf660c5eb8",
        "body" : "`defaultObservationTimeout` is 2m.  default probe `periodSeconds` is 10s.  So `InitialDelaySeconds + periodSeconds * FailureThreshold = 65s.   So that should be fine.",
        "createdAt" : "2018-02-27T19:55:04Z",
        "updatedAt" : "2018-02-27T19:55:04Z",
        "lastEditedBy" : "8e9f49fc-1050-4601-b81c-83bf660c5eb8",
        "tags" : [
        ]
      },
      {
        "id" : "7ed89545-60db-499f-a496-d2bf1e74a3c7",
        "parentId" : "7288d810-1c0d-45fd-8a91-1f5cb3879a69",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "ok",
        "createdAt" : "2018-02-27T20:12:06Z",
        "updatedAt" : "2018-02-27T20:12:06Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "ce2c468677e261cb31a7a6251b2d2195bd5fcaa2",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +264,268 @@\t\t\t\t\t\t\tInitialDelaySeconds: 15,\n\t\t\t\t\t\t\tTimeoutSeconds:      5,\n\t\t\t\t\t\t\tFailureThreshold:    5, // to accommodate nodes which are slow in bringing up containers.\n\t\t\t\t\t\t},\n\t\t\t\t\t},"
  },
  {
    "id" : "72bc9c70-3b4d-4ddd-9e09-9da5abb37b0b",
    "prId" : 29814,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8ed3a84d-6831-445c-b176-221b90004473",
        "parentId" : null,
        "authorId" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "body" : "These pods are all very similar. Reduce LOC by extracting to a factory method with the necessary parameters.\n",
        "createdAt" : "2016-08-05T17:46:58Z",
        "updatedAt" : "2016-08-05T17:46:58Z",
        "lastEditedBy" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "tags" : [
        ]
      },
      {
        "id" : "7b505507-b396-4b00-8202-3675310a9668",
        "parentId" : "8ed3a84d-6831-445c-b176-221b90004473",
        "authorId" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "body" : "ACK. Will send another PR to do that. :)\nThanks!\n",
        "createdAt" : "2016-08-09T02:13:18Z",
        "updatedAt" : "2016-08-09T02:13:18Z",
        "lastEditedBy" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "tags" : [
        ]
      }
    ],
    "commit" : "9bfa0a6e47594a2b540e1376c3b1832a056b07b9",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +115,119 @@\t\t\t\t},\n\t\t\t},\n\t\t}, 1, defaultObservationTimeout)\n\t})\n"
  }
]