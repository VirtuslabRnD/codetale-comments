[
  {
    "id" : "6f242fb3-66e2-42d4-833c-5f7d6e01e84b",
    "prId" : 102050,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102050#pullrequestreview-698414742",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b5ee5070-3a27-4ca3-b42f-f34fc581fee5",
        "parentId" : null,
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "can we log the response in all tests?\r\n currently is not clear from the logs if the test passes or not",
        "createdAt" : "2021-07-01T22:17:21Z",
        "updatedAt" : "2021-07-01T22:17:22Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "f113e0dd-852a-414b-a5ee-55e26c0f7288",
        "parentId" : "b5ee5070-3a27-4ca3-b42f-f34fc581fee5",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "Where do you want to add logging? In the caller of `e2eskipper.Skipf` or in `Skipf` itself?\r\n\r\nNot being able to determine that and why a test was skipped looks like a general problem. I remember that JUnit records the skip reason, but prow.k8s.io doesn't show that. Therefore I am leaning towards logging in `Skipf` as a band-aid.\r\n\r\n\r\n",
        "createdAt" : "2021-07-02T06:03:47Z",
        "updatedAt" : "2021-07-02T06:03:47Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      },
      {
        "id" : "c5f0bc9b-9589-458f-a8b3-689f91545af4",
        "parentId" : "b5ee5070-3a27-4ca3-b42f-f34fc581fee5",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "I was thinking just to log the whole response\r\n```\r\nframework.Logf(\"Returned metrics: %v\", response)\r\n```\r\nThe skip can have a more complete message as in:\r\n```\r\ne2eskipper.Skipf(\"Skipping test, can't grab metrics: %v\", err)\r\n```",
        "createdAt" : "2021-07-02T07:09:44Z",
        "updatedAt" : "2021-07-02T07:09:44Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "1d97a85a-9182-4b4e-bf81-d69db7a91761",
        "parentId" : "b5ee5070-3a27-4ca3-b42f-f34fc581fee5",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : ">  I remember that JUnit records the skip reason, but prow.k8s.io doesn't show that.\r\n\r\nIf there is junit data that is not possible to view on prow.k8s.io please file a test-infra issue so we can see if someone can fix this.",
        "createdAt" : "2021-07-02T07:13:37Z",
        "updatedAt" : "2021-07-02T07:13:37Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      },
      {
        "id" : "df1bdeac-5e81-4770-86cc-139fc69e4bc7",
        "parentId" : "b5ee5070-3a27-4ca3-b42f-f34fc581fee5",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "> I was thinking just to log the whole response\r\n\r\nIsn't that going to be a bit verbose? But I can add it.\r\n\r\n> The skip can have a more complete message as in:\r\n> `e2eskipper.Skipf(\"Skipping test, can't grab metrics: %v\", err)`\r\n\r\nThat makes less sense to me:\r\n- It's a skip message, explicitly adding \"Skipping test\" is redundant. Other calls to `Skipf` don't have it.\r\n- `can't grab metrics` is redundant because the error already contains `metrics grabbing disabled`\r\n\r\n> If there is junit data that is not possible to view on prow.k8s.io please file a test-infra issue so we can see if someone can fix this.\r\n\r\nThe JUnit file must have been from some other test tool, the junit files from e2e.test don't contain the skip reason. That makes it an issue for k/k: https://github.com/kubernetes/kubernetes/issues/103430\r\n\r\nWhether prow.io then would show the skip reason remains to be seen.\r\n",
        "createdAt" : "2021-07-02T09:18:08Z",
        "updatedAt" : "2021-07-02T09:18:08Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      },
      {
        "id" : "e5d553a9-d982-4b4c-9ba4-c9e38795d767",
        "parentId" : "b5ee5070-3a27-4ca3-b42f-f34fc581fee5",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "feel free to scratch those (my) comments, they are very hacky solutions",
        "createdAt" : "2021-07-02T09:29:21Z",
        "updatedAt" : "2021-07-02T09:30:17Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "60be99f1-037a-44c5-9c43-29fba24a5852",
        "parentId" : "b5ee5070-3a27-4ca3-b42f-f34fc581fee5",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "hmm I think that the problem is that the test is marked as PASSED instead of SKIPPED",
        "createdAt" : "2021-07-02T09:37:16Z",
        "updatedAt" : "2021-07-02T09:37:16Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "99ba142e-9ab9-4dad-baed-5bc7c104fac2",
        "parentId" : "b5ee5070-3a27-4ca3-b42f-f34fc581fee5",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "sorry, last day before holidays, I'm not thinking straight today, it does show as skipped",
        "createdAt" : "2021-07-02T09:49:28Z",
        "updatedAt" : "2021-07-02T09:49:28Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "f2522c89-ea00-4ff1-bf61-67c296b6fcd8",
        "parentId" : "b5ee5070-3a27-4ca3-b42f-f34fc581fee5",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "It should be marked skipped when skipped, if it's not marked skipped it could only be that some conditional was used internally. I don't think we need to log skipping specially here but it would certainly be nice if we recorded why tests were skipped more generally",
        "createdAt" : "2021-07-02T18:17:40Z",
        "updatedAt" : "2021-07-02T18:17:40Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      }
    ],
    "commit" : "c91496dda04bdb3d685fffa4747d12a763f3ad37",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +57,61 @@\t\t}\n\t\tframework.ExpectNoError(err)\n\t\tgomega.Expect(response).NotTo(gomega.BeEmpty())\n\t})\n"
  }
]