[
  {
    "id" : "a0d6405f-b2d2-4c33-af89-832c61290c85",
    "prId" : 89703,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89703#pullrequestreview-385150913",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4d956309-9798-40d9-b5d9-c92ee2bff155",
        "parentId" : null,
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "It looks like you can't simply remove `nodeinfo` due to the dependency chain: `e2e/framework` -> `kubemark` -> `kubelet` -> `scheduler`",
        "createdAt" : "2020-03-31T22:24:26Z",
        "updatedAt" : "2020-04-01T01:02:46Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "887554f8-767c-4e4a-94cb-0999428cfe2f",
        "parentId" : "4d956309-9798-40d9-b5d9-c92ee2bff155",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "yes, I just added it back.",
        "createdAt" : "2020-03-31T22:32:18Z",
        "updatedAt" : "2020-04-01T01:02:46Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed3fe054df6022080eca1557e7ddc76b1cc264d0",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +192,196 @@\t\t\t\t\"k8s.io/kubernetes/pkg/scheduler/metrics\",\n\t\t\t\t\"k8s.io/kubernetes/pkg/scheduler/nodeinfo\",\n\t\t\t\t\"k8s.io/kubernetes/pkg/scheduler/types\",\n\t\t\t\t\"k8s.io/kubernetes/pkg/scheduler/util\",\n\t\t\t\t\"k8s.io/kubernetes/pkg/scheduler/volumebinder\","
  },
  {
    "id" : "91f3e2b9-3dbe-481b-9d85-c110777602fb",
    "prId" : 87265,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/87265#pullrequestreview-346282148",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1f65e3f2-010c-4901-9da7-e4eaca4053e6",
        "parentId" : null,
        "authorId" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "body" : "I'm also curious why utils changes are in a PR that's about the e2e framework",
        "createdAt" : "2020-01-16T22:12:48Z",
        "updatedAt" : "2020-01-22T01:52:22Z",
        "lastEditedBy" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "tags" : [
        ]
      },
      {
        "id" : "7b932410-90dc-4e0c-a636-59d255968b2e",
        "parentId" : "1f65e3f2-010c-4901-9da7-e4eaca4053e6",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "That is a nice question.\r\nI also had the same question when I started creating this PR by running `./hack/verify-import-boss.sh`.\r\n\r\nFor example, if removing `\"k8s.io/utils/exec\",` line from this .import-restrictions, the part of the errors of `./hack/verify-import-boss.sh` is the following:\r\n```\r\nerrors in package \"k8s.io/kubernetes/test/e2e/framework/kubelet\":\r\nthe following imports did not match any allowed prefix:\r\n  k8s.io/utils/exec\r\n```\r\nThe error means `test/e2e/framework/kubelet` imports `k8s.io/utils/exec` but the import is not allowed.\r\nHowever we cannot see actual import of `k8s.io/utils/exec` in `test/e2e/framework/timer` as https://github.com/kubernetes/kubernetes/blob/acf64f450118cf46c8bdfa78d171d6059981af9d/test/e2e/framework/kubelet/stats.go#L19-L41\r\n\r\nThe above error comes from import of `\"k8s.io/kubernetes/test/e2e/framework\"` of stats.go, `\"k8s.io/kubernetes/test/e2e/framework/utils.go\"` imports `\"kk8s.io/utils/exec\"` as https://github.com/kubernetes/kubernetes/blob/acf64f450118cf46c8bdfa78d171d6059981af9d/test/e2e/framework/util.go#L74\r\n\r\nWe need to take care of all imports deeply like supply chain if specifying some paths as `\"SelectorRegexp\"`.\r\n",
        "createdAt" : "2020-01-17T19:04:06Z",
        "updatedAt" : "2020-01-22T01:52:22Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "99bcbec8-f230-44a1-8f2e-24ca0cec6d5a",
        "parentId" : "1f65e3f2-010c-4901-9da7-e4eaca4053e6",
        "authorId" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "body" : "This makes sense, fine with these changes",
        "createdAt" : "2020-01-22T00:29:09Z",
        "updatedAt" : "2020-01-22T01:52:22Z",
        "lastEditedBy" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "tags" : [
        ]
      }
    ],
    "commit" : "30de5bdc4606f4f6ab53a8efcb727bb7a2626982",
    "line" : 248,
    "diffHunk" : "@@ -1,1 +285,289 @@\t\t\t\t\"k8s.io/utils/io\",\n\t\t\t\t\"k8s.io/utils/keymutex\",\n\t\t\t\t\"k8s.io/utils/mount\",\n\t\t\t\t\"k8s.io/utils/net\",\n\t\t\t\t\"k8s.io/utils/nsenter\","
  },
  {
    "id" : "d55ef46a-4152-4451-af36-3621bc2a334a",
    "prId" : 87265,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/87265#pullrequestreview-346888942",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8b91379f-7f4e-43be-8716-dd6cfecc89ec",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "As the original author of import boss, I'm a bit surprised that we list every leaf? E.g. why not `\"k8s.io/kubernetes/test/e2e\"`?",
        "createdAt" : "2020-01-22T20:43:58Z",
        "updatedAt" : "2020-01-22T20:43:58Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "30de5bdc4606f4f6ab53a8efcb727bb7a2626982",
    "line" : 210,
    "diffHunk" : "@@ -1,1 +246,250 @@\t\t\t\"SelectorRegexp\": \"k8s[.]io/kubernetes/test/\",\n\t\t\t\"AllowedPrefixes\": [\n\t\t\t\t\"k8s.io/kubernetes/test/e2e/framework\",\n\t\t\t\t\"k8s.io/kubernetes/test/e2e/framework/auth\",\n\t\t\t\t\"k8s.io/kubernetes/test/e2e/framework/ginkgowrapper\","
  },
  {
    "id" : "6b7ea909-2fb8-4677-ab39-8ab5fea1a91c",
    "prId" : 80496,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80496#pullrequestreview-265978713",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7da028f9-a18d-4fb4-a7c4-462c3966acb8",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "imports that are `k8s.io/kubernetes/test/e2e/` (not `/framework`) are problematic and we need to remove them.\r\n",
        "createdAt" : "2019-07-24T12:19:13Z",
        "updatedAt" : "2019-08-05T18:27:25Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      }
    ],
    "commit" : "f948ce176d4efb922ad608633f2a53c9a368ab8b",
    "line" : 127,
    "diffHunk" : "@@ -1,1 +125,129 @@\t\t\t\t\"k8s.io/kubernetes/test/e2e/framework/testfiles\",\n\t\t\t\t\"k8s.io/kubernetes/test/e2e/manifest\",\n\t\t\t\t\"k8s.io/kubernetes/test/e2e/perftype\",\n\t\t\t\t\"k8s.io/kubernetes/test/utils\",\n\t\t\t\t\"k8s.io/kubernetes/test/utils/image\""
  },
  {
    "id" : "350c6586-ffcb-4f34-90f3-17fbd4479b25",
    "prId" : 80496,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80496#pullrequestreview-270859630",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "67e0b73e-0dca-4f5a-b88d-323384e31f27",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "importing `k8s.io/kubernetes/pkg` is the biggest problem of the framework, and we need to stop doing these if we want it to move out.\r\nunfortunately, creating shared repos for some of these packages can end up slow and political.\r\n(judging from the similar work of moving kubeadm out).\r\n",
        "createdAt" : "2019-07-24T12:21:36Z",
        "updatedAt" : "2019-08-05T18:27:25Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "5336e4cd-1368-4e17-af08-85b4d87131fd",
        "parentId" : "67e0b73e-0dca-4f5a-b88d-323384e31f27",
        "authorId" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "body" : "Could you elaborate on this point further, please?\r\nI would imagine that many framework utility packages would need to import something from `k8s/kubernetes/pkg` in order to run e2e tests ðŸ¤” ",
        "createdAt" : "2019-07-25T17:59:20Z",
        "updatedAt" : "2019-08-05T18:27:25Z",
        "lastEditedBy" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "tags" : [
        ]
      },
      {
        "id" : "0131c05b-8906-49c9-97bf-2d2f94c3699e",
        "parentId" : "67e0b73e-0dca-4f5a-b88d-323384e31f27",
        "authorId" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "body" : "Actually, never mind.. this makes a complete lot of sense: the e2e framework should depend on client code and public apis.\r\nso changing question, I dont know if the e2e framework is at this point (there are some place where we do import some k/pkgs. Do we still remove these for now?",
        "createdAt" : "2019-07-25T18:09:51Z",
        "updatedAt" : "2019-08-05T18:27:25Z",
        "lastEditedBy" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "tags" : [
        ]
      },
      {
        "id" : "b90ae4d6-67f9-4a96-aaaa-634eb0fc1389",
        "parentId" : "67e0b73e-0dca-4f5a-b88d-323384e31f27",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "we still have keep the problematic `k8s.io/kubernetes/pkg` imports in import boss, and remove them one by one.\r\n",
        "createdAt" : "2019-07-29T20:26:43Z",
        "updatedAt" : "2019-08-05T18:27:25Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "d0d7e8e3-c553-4e58-8186-735499449f4e",
        "parentId" : "67e0b73e-0dca-4f5a-b88d-323384e31f27",
        "authorId" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "body" : "Yeah this PR should be scoped to listing out the current deps so this looks fine to me (yes, it's a long list)",
        "createdAt" : "2019-08-05T15:58:20Z",
        "updatedAt" : "2019-08-05T18:27:25Z",
        "lastEditedBy" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "tags" : [
        ]
      }
    ],
    "commit" : "f948ce176d4efb922ad608633f2a53c9a368ab8b",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +2,6 @@\t\"Rules\": [\n\t\t{\n\t\t\t\"SelectorRegexp\": \"k8s[.]io/kubernetes/pkg/\",\n\t\t\t\"AllowedPrefixes\": [\n\t\t\t\t\"k8s.io/kubernetes/pkg/api/legacyscheme\","
  }
]