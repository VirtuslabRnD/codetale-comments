[
  {
    "id" : "c43b2668-3885-459e-b698-6c524ec5ec14",
    "prId" : 74990,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74990#pullrequestreview-211482773",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4611bd16-a0c0-47ee-9b57-9145054620fd",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "can we wrap some of these methods into util functions instead of having to replace them in every test case?\r\n\r\nLike: `getSecurityContext`, `getTestImage`, `generateWriteCmd`, `generateReadCommand`, etc.",
        "createdAt" : "2019-03-06T00:22:39Z",
        "updatedAt" : "2019-03-07T17:14:14Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "f7ebbac9-057d-4620-8a10-afe220323fc4",
        "parentId" : "4611bd16-a0c0-47ee-9b57-9145054620fd",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "For getSecurityContext, getTestImage etc, I think it works well to put into a util function. But for generate different commands it is hard because there are many different commands used in the test and hard to generalize into a few functions.",
        "createdAt" : "2019-03-06T01:26:28Z",
        "updatedAt" : "2019-03-07T17:14:14Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "e0d7fd2b-58e3-422a-8762-679033a0d72f",
        "parentId" : "4611bd16-a0c0-47ee-9b57-9145054620fd",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "For the commands, is there a general pattern that the tests are doing?\r\n\r\nLike if the test is trying to write a file, can we have a general `writeCmd(filename, content)` method?",
        "createdAt" : "2019-03-06T01:36:00Z",
        "updatedAt" : "2019-03-07T17:14:14Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "f5253d8c-f961-4661-a693-5da589362d7b",
        "parentId" : "4611bd16-a0c0-47ee-9b57-9145054620fd",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "Yes, I made a few utility functions to address this issue. Thanks!",
        "createdAt" : "2019-03-06T21:26:33Z",
        "updatedAt" : "2019-03-07T17:14:14Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      }
    ],
    "commit" : "18be0a49e649e71215891f7a78bc2d8527b53cb0",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +408,412 @@\tvar command string\n\n\tif !NodeOSDistroIs(\"windows\") {\n\t\tcommand = \"while true ; do cat /opt/0/index.html ; sleep 2 ; ls -altrh /opt/  ; sleep 2 ; done \"\n\t} else {"
  },
  {
    "id" : "e5f1b83c-6dc9-4ca4-86cc-2de89f67ca60",
    "prId" : 73739,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/73739#pullrequestreview-216271663",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1b98125b-fb4b-4a7c-b603-20494c07d429",
        "parentId" : null,
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "Do we need bi-directional mount propagation here?",
        "createdAt" : "2019-03-19T14:37:43Z",
        "updatedAt" : "2019-04-10T13:44:08Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "d5eb5903-e4ed-42b3-82c7-95b12e6e2f77",
        "parentId" : "1b98125b-fb4b-4a7c-b603-20494c07d429",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "I think it's not necessary. `targetcli` does not mount anything by itself.\r\n\r\nThe test \"server\" pod just puts block files there (block.tar.gz) and iSCSI target implementation in kernel finds them on the same path on the host.",
        "createdAt" : "2019-03-19T16:24:42Z",
        "updatedAt" : "2019-04-10T13:44:08Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      }
    ],
    "commit" : "5f9756c3ce11023f50074868ab0625ca294aad39",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +204,208 @@\t\t\t\"/sys/kernel\": \"/sys/kernel\",\n\t\t\t// iSCSI source \"block devices\" must be available on the host\n\t\t\t\"/srv/iscsi\": \"/srv/iscsi\",\n\t\t},\n\t\tServerReadyMessage: \"iscsi target started\","
  },
  {
    "id" : "f999bdcf-123a-4ab9-9c7e-c547b0bd63dd",
    "prId" : 73739,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/73739#pullrequestreview-218283276",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "97917a8c-0bf0-45c2-8caf-ae90e574c341",
        "parentId" : null,
        "authorId" : "241ab19e-f85a-4d22-92e2-88f2b6287d14",
        "body" : "what happens if this is not mounted? (just curious why we did not need it before)",
        "createdAt" : "2019-03-22T17:52:45Z",
        "updatedAt" : "2019-04-10T13:44:08Z",
        "lastEditedBy" : "241ab19e-f85a-4d22-92e2-88f2b6287d14",
        "tags" : [
        ]
      },
      {
        "id" : "2f94e216-5b40-4056-9f1f-f527068717e7",
        "parentId" : "97917a8c-0bf0-45c2-8caf-ae90e574c341",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "iscsiadm was not happy and threw random errors.",
        "createdAt" : "2019-03-25T11:53:48Z",
        "updatedAt" : "2019-04-10T13:44:08Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      }
    ],
    "commit" : "5f9756c3ce11023f50074868ab0625ca294aad39",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +202,206 @@\t\t\t\"/lib/modules\": \"/lib/modules\",\n\t\t\t// iSCSI container needs to configure kernel\n\t\t\t\"/sys/kernel\": \"/sys/kernel\",\n\t\t\t// iSCSI source \"block devices\" must be available on the host\n\t\t\t\"/srv/iscsi\": \"/srv/iscsi\","
  },
  {
    "id" : "4ac2d346-341c-47e1-b830-1ba60476a849",
    "prId" : 73739,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/73739#pullrequestreview-224135954",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c0be6e53-e280-4ec2-a9e3-6b56d988b823",
        "parentId" : null,
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "+1 for replacing static `\"iqn.2003-01.org.linux-iscsi.f21.x8664:sn.4b0aae584f7c\"`",
        "createdAt" : "2019-04-08T23:44:31Z",
        "updatedAt" : "2019-04-10T13:44:08Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "5f9756c3ce11023f50074868ab0625ca294aad39",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +191,195 @@func NewISCSIServer(cs clientset.Interface, namespace string) (config VolumeTestConfig, pod *v1.Pod, ip, iqn string) {\n\t// Generate cluster-wide unique IQN\n\tiqn = fmt.Sprintf(iSCSIIQNTemplate, namespace)\n\n\tconfig = VolumeTestConfig{"
  },
  {
    "id" : "0f40389b-1ecd-4fce-9603-9ff0a4b4a1a0",
    "prId" : 66577,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66577#pullrequestreview-148202177",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "273f2d67-21e0-48e8-a63e-d7f161ab8dc6",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "is this necessary?",
        "createdAt" : "2018-08-21T17:07:25Z",
        "updatedAt" : "2018-08-29T14:40:33Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "b7fe3cdd-e837-4b9c-bfb1-01a13fbb0c0c",
        "parentId" : "273f2d67-21e0-48e8-a63e-d7f161ab8dc6",
        "authorId" : "9ce7bd1a-5286-4173-88a4-039146bf0d46",
        "body" : "In my environment, it takes around 1 minute to set up rbd volume server, as a result, sometime test fails due to the time out. (I hope that my test environment isn't so much poor.)\r\nTherefore, it would be better to extend it. ",
        "createdAt" : "2018-08-21T18:55:24Z",
        "updatedAt" : "2018-08-29T14:40:33Z",
        "lastEditedBy" : "9ce7bd1a-5286-4173-88a4-039146bf0d46",
        "tags" : [
        ]
      }
    ],
    "commit" : "877ed5c22dcfa8c27a07c5541c4d9255fe0aa38c",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +69,73 @@\n\t// Waiting period for volume server (Ceph, ...) to initialize itself.\n\tVolumeServerPodStartupTimeout = 3 * time.Minute\n\n\t// Waiting period for pod to be cleaned up and unmount its volumes so we"
  },
  {
    "id" : "20e8a911-4d56-4a97-94a7-1d6a6518df08",
    "prId" : 54230,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/54230#pullrequestreview-87820291",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "05d32457-aa62-4299-b092-b35f988eac45",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "there's no readiness check we can define and check to make this actually accurate?\r\n  ",
        "createdAt" : "2018-01-08T15:17:51Z",
        "updatedAt" : "2018-01-08T15:18:01Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "ead79d79-1f3d-47e9-8674-2d4e50d6ad6f",
        "parentId" : "05d32457-aa62-4299-b092-b35f988eac45",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "None that I know about. The image we use expects the container to initialize a fresh pool and imports an 100MB volume during startup which takes some time.\r\n\r\nIn the long run we could ship already prepared image, but last time I checked it was too big for me (I don't remember exact numbers though).",
        "createdAt" : "2018-01-10T09:54:13Z",
        "updatedAt" : "2018-01-10T09:54:13Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      },
      {
        "id" : "5d47ef4d-6a4e-4c86-a390-7684702c2a3b",
        "parentId" : "05d32457-aa62-4299-b092-b35f988eac45",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "If the tests continue working regardless, then I guess it doesn't matter if this is too short.",
        "createdAt" : "2018-01-10T12:38:13Z",
        "updatedAt" : "2018-01-10T12:38:13Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "75cc26fb65ad92a604160f5cef22e852c8024803",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +205,209 @@\t// <client pod>) would be cluttered with error messages about non-existing\n\t// image.\n\tLogf(\"sleeping a bit to give ceph server time to initialize\")\n\ttime.Sleep(VolumeServerPodStartupSleep)\n"
  },
  {
    "id" : "d4978729-8aa5-4477-8a08-a73b8bc085fd",
    "prId" : 52355,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/52355#pullrequestreview-64802093",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8a71d97b-9132-42e7-8f10-07ef3716a8ee",
        "parentId" : null,
        "authorId" : "65c676d6-aec8-4761-943f-80e1f66d400b",
        "body" : "Just fyi, [_persistent_volumes-gce.go#L86_](https://github.com/kubernetes/kubernetes/blob/master/test/e2e/storage/persistent_volumes-gce.go#L86) could now call this func.",
        "createdAt" : "2017-09-25T06:13:40Z",
        "updatedAt" : "2017-09-25T06:13:40Z",
        "lastEditedBy" : "65c676d6-aec8-4761-943f-80e1f66d400b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7e10741f944455f0c7dd349cee4a00868807248d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +494,498 @@}\n\nfunc CreateGCEVolume() (*v1.PersistentVolumeSource, string) {\n\tdiskName, err := CreatePDWithRetry()\n\tExpectNoError(err)"
  },
  {
    "id" : "461bb806-d00e-47d6-9e10-a9f85595f190",
    "prId" : 49457,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/49457#pullrequestreview-52333769",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "acd9e7bb-bf1c-4176-ba9e-b878d78e4bae",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "I guess these images will be cross-built in the future as well?",
        "createdAt" : "2017-07-24T18:13:55Z",
        "updatedAt" : "2017-09-01T00:11:34Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      },
      {
        "id" : "549dd7e9-1d01-40fa-9ccf-9f120331099e",
        "parentId" : "acd9e7bb-bf1c-4176-ba9e-b878d78e4bae",
        "authorId" : "5a764df5-fdf3-4b03-8549-b0e2d9c30dad",
        "body" : "As these images are bit complex and need lot of effort porting them for other archs. Anyways those images are not used in conformance tests.",
        "createdAt" : "2017-07-26T11:51:21Z",
        "updatedAt" : "2017-09-01T00:11:34Z",
        "lastEditedBy" : "5a764df5-fdf3-4b03-8549-b0e2d9c30dad",
        "tags" : [
        ]
      }
    ],
    "commit" : "ee4d54c70c98d89e06d66142345791db852f8278",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +61,65 @@\tGlusterfsServerImage string = \"gcr.io/google_containers/volume-gluster:0.2\"\n\tCephServerImage      string = \"gcr.io/google_containers/volume-ceph:0.1\"\n\tRbdServerImage       string = \"gcr.io/google_containers/volume-rbd:0.1\"\n)\n"
  }
]