[
  {
    "id" : "d13c7760-935f-4cd9-a8bd-c19b71e71a2b",
    "prId" : 89563,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89563#pullrequestreview-382573301",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1e8bcc1f-64f5-4d5b-b89a-8d81eec6fa06",
        "parentId" : null,
        "authorId" : "628143cf-73c8-4c51-bd38-d4079089c756",
        "body" : "There are several `sshPort` const in e2e sub framework. I think we may use a common one in e2e core framework?",
        "createdAt" : "2020-03-27T04:15:59Z",
        "updatedAt" : "2020-03-27T04:20:36Z",
        "lastEditedBy" : "628143cf-73c8-4c51-bd38-d4079089c756",
        "tags" : [
        ]
      },
      {
        "id" : "9c2bd09c-8be1-4433-ad57-466c5ba16128",
        "parentId" : "1e8bcc1f-64f5-4d5b-b89a-8d81eec6fa06",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "That is a nice point.\r\nBut that should not be in this PR as the scope.",
        "createdAt" : "2020-03-27T04:24:49Z",
        "updatedAt" : "2020-03-27T04:24:49Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "0ce68c75-adb2-4218-aa6c-f5ae49cf9527",
        "parentId" : "1e8bcc1f-64f5-4d5b-b89a-8d81eec6fa06",
        "authorId" : "628143cf-73c8-4c51-bd38-d4079089c756",
        "body" : "Sure.",
        "createdAt" : "2020-03-27T04:27:16Z",
        "updatedAt" : "2020-03-27T04:27:16Z",
        "lastEditedBy" : "628143cf-73c8-4c51-bd38-d4079089c756",
        "tags" : [
        ]
      }
    ],
    "commit" : "42bb845f40229ef00db008e5adeef34a96841c25",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +29,33 @@const (\n\t// ssh port\n\tsshPort = \"22\"\n)\n"
  },
  {
    "id" : "8d164652-d261-4a9d-940d-371bb139e29e",
    "prId" : 89563,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89563#pullrequestreview-382572539",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ee8bd94a-eb32-4398-a909-2f0cc00a1e13",
        "parentId" : null,
        "authorId" : "628143cf-73c8-4c51-bd38-d4079089c756",
        "body" : "Why the package name is `kubesystem`? Or what kinds of funcs does this package cover?",
        "createdAt" : "2020-03-27T04:20:12Z",
        "updatedAt" : "2020-03-27T04:20:36Z",
        "lastEditedBy" : "628143cf-73c8-4c51-bd38-d4079089c756",
        "tags" : [
        ]
      },
      {
        "id" : "09be7089-fffd-4b7e-bdc2-8829bf787c9f",
        "parentId" : "ee8bd94a-eb32-4398-a909-2f0cc00a1e13",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "I am guessing functions related to pods in kube-system namespaces like kube-controller, kube-apiserver, etc in this package.\r\n",
        "createdAt" : "2020-03-27T04:23:52Z",
        "updatedAt" : "2020-03-27T04:23:52Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "42bb845f40229ef00db008e5adeef34a96841c25",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +15,19 @@*/\n\npackage kubesystem\n\nimport ("
  },
  {
    "id" : "3b6e2e55-4bbe-452c-bebe-5a80375db3d4",
    "prId" : 89563,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89563#pullrequestreview-385704858",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f7e1127e-d9ec-4dc4-950e-6611cb1edb58",
        "parentId" : null,
        "authorId" : "1530c754-7850-4e09-a79b-a6555e28f729",
        "body" : "Tests largely rely on `\"k8s.io/apimachinery/pkg/util/wait\"` for polling ops.  [PollImmediate](https://github.com/kubernetes/apimachinery/blob/f8e71527369e696bf041722b248ffcb32bae9edf/pkg/util/wait/wait.go#L486) seems like a viable candidate.",
        "createdAt" : "2020-03-30T16:31:48Z",
        "updatedAt" : "2020-03-30T16:35:51Z",
        "lastEditedBy" : "1530c754-7850-4e09-a79b-a6555e28f729",
        "tags" : [
        ]
      },
      {
        "id" : "1bcafa74-4231-4f2d-8662-1c27b72c2a93",
        "parentId" : "f7e1127e-d9ec-4dc4-950e-6611cb1edb58",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "I am not sure I understand your comment correctly.\r\nDo you mean we can replace this function with the PollImmediate()?\r\n",
        "createdAt" : "2020-03-30T21:06:44Z",
        "updatedAt" : "2020-03-30T21:06:44Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "6057e402-06b2-440d-b65c-2c534409b4d0",
        "parentId" : "f7e1127e-d9ec-4dc4-950e-6611cb1edb58",
        "authorId" : "cc740aab-0edd-4978-b80c-6ca3543a6188",
        "body" : "/hold \r\nLooking forward to  @copejon 's  reply , or others' opinions\r\n/cc @SataQiu \r\nwhat do you think?",
        "createdAt" : "2020-04-01T05:29:08Z",
        "updatedAt" : "2020-04-01T05:29:08Z",
        "lastEditedBy" : "cc740aab-0edd-4978-b80c-6ca3543a6188",
        "tags" : [
        ]
      },
      {
        "id" : "72f48c5a-3a5c-4146-a7d6-6a2125192c03",
        "parentId" : "f7e1127e-d9ec-4dc4-950e-6611cb1edb58",
        "authorId" : "1530c754-7850-4e09-a79b-a6555e28f729",
        "body" : "My point being that it would just cut back repeated code and adhere more closely to e2e conventions.  I meant the comment only as a suggestion though - please feel free to disregard.\r\n\r\nTo add some context to my first comment:\r\nThe `wait` package offers a handful of generic functions that will execute a callback at given intervals, with some being cancelable with a context, timeout, or by channel. The `PollImmediate` function for example: \r\n\r\n`func PollImmediate(interval, timeout time.Duration, condition ConditionFunc)`\r\n\r\nexecutes the `condition` callback every `interval`, ~and can be canceled via the channel~ (edit - mixed up a func signature).\r\n\r\nThe only diff between `Poll` and `PollImmediate` is that the former executes the callback after waiting `interval`; the later executes the callback and then waits `interval`.\r\n\r\n",
        "createdAt" : "2020-04-01T14:36:03Z",
        "updatedAt" : "2020-04-01T15:58:22Z",
        "lastEditedBy" : "1530c754-7850-4e09-a79b-a6555e28f729",
        "tags" : [
        ]
      },
      {
        "id" : "d82ef3a6-908b-4107-8b86-fe5e4b960be7",
        "parentId" : "f7e1127e-d9ec-4dc4-950e-6611cb1edb58",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "@copejon Thanks for your comment, I got the point.\r\nIt is a nice idea for me because e2e tests consists of many waiting methods, these functions can be made simple by using PollImmediate() as you suggested.\r\nI'd like to keep this PR as current one to make it simple as the original scope and will try doing that with different PRs, I guess it requires multiple PRs for replacing many waiting methods.\r\n\r\n/hold cancel",
        "createdAt" : "2020-04-01T15:34:45Z",
        "updatedAt" : "2020-04-01T15:34:46Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "42bb845f40229ef00db008e5adeef34a96841c25",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +52,56 @@\n// WaitForControllerManagerUp waits for the kube-controller-manager to be up.\nfunc WaitForControllerManagerUp() error {\n\tcmd := \"curl http://localhost:\" + strconv.Itoa(framework.InsecureKubeControllerManagerPort) + \"/healthz\"\n\tfor start := time.Now(); time.Since(start) < time.Minute; time.Sleep(5 * time.Second) {"
  }
]