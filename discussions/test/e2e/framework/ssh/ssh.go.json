[
  {
    "id" : "e2ecc394-2440-4425-aeba-95a90a6deab4",
    "prId" : 101866,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101866#pullrequestreview-655816137",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91ff9e38-e2ec-4f29-93dd-26e5be87df9e",
        "parentId" : null,
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "This looks racy to me: `wg.Wait()` can return, followed by `return sshHosts`, *before* the goroutine which collects the results is done.\r\n\r\nA mutex which protects `sshHosts` before storing a result might be simpler.",
        "createdAt" : "2021-05-10T15:47:45Z",
        "updatedAt" : "2021-05-11T06:32:19Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      },
      {
        "id" : "532ded6b-5403-4b76-bef0-22eb9b08ec2f",
        "parentId" : "91ff9e38-e2ec-4f29-93dd-26e5be87df9e",
        "authorId" : "36b049e7-5c64-46e2-809a-9067732f0056",
        "body" : "Sounds good, switched to a mutex. :+1: ",
        "createdAt" : "2021-05-10T16:02:10Z",
        "updatedAt" : "2021-05-11T06:32:19Z",
        "lastEditedBy" : "36b049e7-5c64-46e2-809a-9067732f0056",
        "tags" : [
        ]
      }
    ],
    "commit" : "9e372bffeffbf52f024f23d050767bbeaa30ad92",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +154,158 @@\t\t}(host)\n\t}\n\twg.Wait()\n\n\treturn sshHosts, nil"
  },
  {
    "id" : "43874e0a-71a9-443a-9a7c-3b6270e35b30",
    "prId" : 101866,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101866#pullrequestreview-656327148",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "08dc1e20-6230-48a3-b294-9fdeec6e246f",
        "parentId" : null,
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "Nit: `defer wg.Done()` at the start ensures that it is called even when someone decides to add a `return` somewhere below later.\r\n",
        "createdAt" : "2021-05-10T18:22:15Z",
        "updatedAt" : "2021-05-11T06:32:19Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      },
      {
        "id" : "0b7c5faf-567b-4daa-83ed-45174642b459",
        "parentId" : "08dc1e20-6230-48a3-b294-9fdeec6e246f",
        "authorId" : "36b049e7-5c64-46e2-809a-9067732f0056",
        "body" : "Thanks, fixed as suggested :pray: ",
        "createdAt" : "2021-05-11T06:32:20Z",
        "updatedAt" : "2021-05-11T06:32:21Z",
        "lastEditedBy" : "36b049e7-5c64-46e2-809a-9067732f0056",
        "tags" : [
        ]
      }
    ],
    "commit" : "9e372bffeffbf52f024f23d050767bbeaa30ad92",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +144,148 @@\t\tgo func(host string) {\n\t\t\tdefer wg.Done()\n\t\t\tif canConnect(host) {\n\t\t\t\te2elog.Logf(\"Assuming SSH on host %s\", host)\n\t\t\t\tsshHostsLock.Lock()"
  },
  {
    "id" : "124d45a5-5a45-461c-90d0-84910de32102",
    "prId" : 77336,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77336#pullrequestreview-233724662",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8101224a-9a45-47d6-a1d4-43de2a7c4ecb",
        "parentId" : null,
        "authorId" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "body" : "I am not a fan of aliasing everything. There should be good and exceptional reasons to override the package name.",
        "createdAt" : "2019-05-04T06:44:24Z",
        "updatedAt" : "2019-05-08T16:08:16Z",
        "lastEditedBy" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "tags" : [
        ]
      }
    ],
    "commit" : "338bc3ce4225b35c6b85c98e1d1ae825dcfeb98e",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +33,37 @@\tclientset \"k8s.io/client-go/kubernetes\"\n\tsshutil \"k8s.io/kubernetes/pkg/ssh\"\n\te2elog \"k8s.io/kubernetes/test/e2e/framework/log\"\n\ttestutils \"k8s.io/kubernetes/test/utils\"\n)"
  },
  {
    "id" : "cfe6ac88-398f-4488-9dd5-937315c2e798",
    "prId" : 77336,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77336#pullrequestreview-235224193",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b9c4bac-2cc8-4dd0-9d1c-00312cf95d3e",
        "parentId" : null,
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "I'll let this pass, but I'd bet we have a bunch of overlap with other functions.  ",
        "createdAt" : "2019-05-08T18:31:30Z",
        "updatedAt" : "2019-05-08T18:34:03Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "7d9dd40d-2aef-4ead-a79c-b1a3141194cb",
        "parentId" : "3b9c4bac-2cc8-4dd0-9d1c-00312cf95d3e",
        "authorId" : "73cba353-2317-4305-8981-830b29b34769",
        "body" : "It is 100% copied so I'm positive we do. It was part of the `framework` though where we are actively trying to remove code from. My understanding was that we expected a number of small methods like this to be duplicated across the codebase in order to support the decoupling.",
        "createdAt" : "2019-05-08T18:39:15Z",
        "updatedAt" : "2019-05-08T18:39:15Z",
        "lastEditedBy" : "73cba353-2317-4305-8981-830b29b34769",
        "tags" : [
        ]
      }
    ],
    "commit" : "338bc3ce4225b35c6b85c98e1d1ae825dcfeb98e",
    "line" : 134,
    "diffHunk" : "@@ -1,1 +306,310 @@\n// nodeAddresses returns the first address of the given type of each node.\nfunc nodeAddresses(nodelist *v1.NodeList, addrType v1.NodeAddressType) []string {\n\thosts := []string{}\n\tfor _, n := range nodelist.Items {"
  }
]