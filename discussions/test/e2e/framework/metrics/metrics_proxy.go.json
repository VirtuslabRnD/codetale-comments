[
  {
    "id" : "7462f775-a468-444d-8223-f1c6ee9a3fc7",
    "prId" : 101960,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101960#pullrequestreview-659922249",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dcf76dd8-01d7-41c1-b72c-7e36061e9dd5",
        "parentId" : null,
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "this pod has a well known name, can we run it only when it is necessary?\r\n```\r\nif metricsProxyPod {\r\n    return nil\r\n}\r\n```\r\nI'm afraid that we can start a precedent with this approach,  new components can ask to add more  \"helpers\" pods at the beginning of the e2e,despite most of them doesn't need it\r\ni.e. a Conformance run will create this pod, despite it really doesn't need it IIUIC\r\n",
        "createdAt" : "2021-05-13T18:05:52Z",
        "updatedAt" : "2021-05-13T18:06:14Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "dc9cf689-8ac9-4b12-a58f-f27fc429e6b5",
        "parentId" : "dcf76dd8-01d7-41c1-b72c-7e36061e9dd5",
        "authorId" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "body" : "This is pod is only required if the tests need to fetch metrics from the scheduler or controller-manager, but it is unclear to me how to know if the tests need to grab metrics here.",
        "createdAt" : "2021-05-14T12:48:37Z",
        "updatedAt" : "2021-05-14T12:48:37Z",
        "lastEditedBy" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "tags" : [
        ]
      },
      {
        "id" : "ee1e73af-60a9-4a5c-b0c8-d63684bcbf46",
        "parentId" : "dcf76dd8-01d7-41c1-b72c-7e36061e9dd5",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "I was assuming this was only used by the metrivs grabber so, I maybe wrongly, assumed that we can do it as part of the initialisation of the `MetricsGrabber`\r\n\r\n\r\n```go\r\n// NewMetricsGrabber returns new metrics which are initialized.\r\nfunc NewMetricsGrabber(c clientset.Interface, ec clientset.Interface, kubelets bool, scheduler bool, controllers bool, apiServer bool, clusterAutoscaler bool) (*Grabber, error) {\r\n\r\n   SetupMetricsProxy(c)\r\n\r\n}\r\n```\r\nand inside SetupMetricsProxy(), only create the pod if it doesn't exist",
        "createdAt" : "2021-05-14T14:31:11Z",
        "updatedAt" : "2021-05-14T14:31:56Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "5ac40fe6-a34a-4d28-9c04-081a5262c5e3",
        "parentId" : "dcf76dd8-01d7-41c1-b72c-7e36061e9dd5",
        "authorId" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "body" : "yeah, I think we could do that.",
        "createdAt" : "2021-05-14T14:58:52Z",
        "updatedAt" : "2021-05-14T14:58:52Z",
        "lastEditedBy" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "tags" : [
        ]
      }
    ],
    "commit" : "781c65a40c2c8fa9625f66feab3328fde0f0bd1d",
    "line" : 74,
    "diffHunk" : "@@ -1,1 +83,87 @@\tklog.Infof(\"Found components: %v\", infos)\n\n\tconst name = metricsProxyPod\n\t_, err = c.CoreV1().ServiceAccounts(metav1.NamespaceSystem).Create(context.TODO(), &v1.ServiceAccount{\n\t\tObjectMeta: metav1.ObjectMeta{Name: name},"
  },
  {
    "id" : "7708df20-b37b-4267-b9ef-b9ca1f2924f9",
    "prId" : 101960,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101960#pullrequestreview-659890777",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b9e22a37-f090-4251-acad-c456448dcff3",
        "parentId" : null,
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "this doesn't seem to be used later",
        "createdAt" : "2021-05-13T18:08:51Z",
        "updatedAt" : "2021-05-13T18:08:52Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "4cb52cf1-6cf8-449d-92cb-c4f12be7337b",
        "parentId" : "b9e22a37-f090-4251-acad-c456448dcff3",
        "authorId" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "body" : "line 70 will log the components' name, but if you like, I could remove this field, since we could tell which component it is from the port number.",
        "createdAt" : "2021-05-14T12:50:21Z",
        "updatedAt" : "2021-05-14T12:50:22Z",
        "lastEditedBy" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "tags" : [
        ]
      },
      {
        "id" : "8d681ad1-922c-4a59-9f28-aecadbdebc56",
        "parentId" : "b9e22a37-f090-4251-acad-c456448dcff3",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "no no no, I miss that sorry, I thought that wasn't used at all",
        "createdAt" : "2021-05-14T14:25:40Z",
        "updatedAt" : "2021-05-14T14:25:40Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "781c65a40c2c8fa9625f66feab3328fde0f0bd1d",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +35,39 @@\ntype componentInfo struct {\n\tName string\n\tPort int\n\tIP   string"
  }
]