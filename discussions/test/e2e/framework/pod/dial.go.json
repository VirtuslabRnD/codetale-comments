[
  {
    "id" : "86849366-b181-48f6-a94b-e7967e4d171e",
    "prId" : 102050,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102050#pullrequestreview-660789606",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b54994e6-a7a7-4bd8-9b7d-1ea9cdbf2f57",
        "parentId" : null,
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "what are the implication of this? only one connection per pod?",
        "createdAt" : "2021-05-17T09:59:23Z",
        "updatedAt" : "2021-05-17T09:59:34Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "1cf0bcf0-33c1-4891-af19-3377b6828e07",
        "parentId" : "b54994e6-a7a7-4bd8-9b7d-1ea9cdbf2f57",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "No, only one request per connection.\r\n\r\nTheoretically the same connection to the API server could handle multiple different target pods, but in practice in some other context I found it more stable to not use that.",
        "createdAt" : "2021-05-17T10:03:39Z",
        "updatedAt" : "2021-05-17T10:03:39Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      }
    ],
    "commit" : "c91496dda04bdb3d685fffa4747d12a763f3ad37",
    "line" : 98,
    "diffHunk" : "@@ -1,1 +96,100 @@\t\treturn nil, fmt.Errorf(\"dialer failed: %v\", err)\n\t}\n\trequestID := \"1\"\n\tdefer func() {\n\t\tif finalErr != nil {"
  },
  {
    "id" : "17576bc9-79c5-4934-8f32-0d7cffc99c86",
    "prId" : 102050,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102050#pullrequestreview-672100071",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "19da8e0c-82d3-40cc-8494-21ad744e6647",
        "parentId" : null,
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "I had a comment here asking if this should be a defer() or do we want to close it immediately after creating it , the comment maybe get lost during the last update to the pr",
        "createdAt" : "2021-05-17T10:09:14Z",
        "updatedAt" : "2021-05-17T10:17:55Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "4ac9c640-3eed-4258-813f-6b17d0a242ae",
        "parentId" : "19da8e0c-82d3-40cc-8494-21ad744e6647",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "This was copied from https://github.com/kubernetes/kubernetes/blob/1d38084930b56be9b5830c20bd5b464b1f955047/staging/src/k8s.io/client-go/tools/portforward/portforward.go#L338-L344\r\n\r\nMy understanding is that this is a two-way stream and closing the local writer side is fine.",
        "createdAt" : "2021-05-17T11:28:40Z",
        "updatedAt" : "2021-05-17T11:28:40Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      },
      {
        "id" : "bbc33d0a-477d-41ca-a7e4-4ad9c9c84da8",
        "parentId" : "19da8e0c-82d3-40cc-8494-21ad744e6647",
        "authorId" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "body" : "Keep the comment ` // we're not writing to this stream ` here may help us understand the code.",
        "createdAt" : "2021-05-31T08:41:54Z",
        "updatedAt" : "2021-05-31T08:41:54Z",
        "lastEditedBy" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "tags" : [
        ]
      },
      {
        "id" : "d08054fa-cc6f-4d95-b5bb-b0ae5cc4297f",
        "parentId" : "19da8e0c-82d3-40cc-8494-21ad744e6647",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "It's still there:\r\nhttps://github.com/kubernetes/kubernetes/blob/7930929678a933f766b0b3837a1fcdd80692f103/test/e2e/framework/pod/dial.go#L111\r\n\r\nI just moved it up a bit and added additional comments because the original code did not explain what the stream was needed for.",
        "createdAt" : "2021-05-31T08:51:08Z",
        "updatedAt" : "2021-05-31T08:51:08Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      }
    ],
    "commit" : "c91496dda04bdb3d685fffa4747d12a763f3ad37",
    "line" : 117,
    "diffHunk" : "@@ -1,1 +115,119 @@\t\treturn nil, fmt.Errorf(\"error creating error stream: %v\", err)\n\t}\n\terrorStream.Close()\n\tgo func() {\n\t\tmessage, err := ioutil.ReadAll(errorStream)"
  },
  {
    "id" : "8270710f-042c-47ce-ab7d-c70ed6985a92",
    "prId" : 102050,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102050#pullrequestreview-660798429",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "400085b2-b260-4322-be29-51c6f60a27b6",
        "parentId" : null,
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "`!! len(parts) != 3` ?",
        "createdAt" : "2021-05-17T10:11:55Z",
        "updatedAt" : "2021-05-17T10:11:55Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "8ae92aed-e348-445e-af1b-ae351323427c",
        "parentId" : "400085b2-b260-4322-be29-51c6f60a27b6",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "ah, `FindStringSubmatch` regexp seems to guarantee that",
        "createdAt" : "2021-05-17T10:13:40Z",
        "updatedAt" : "2021-05-17T10:13:40Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "c91496dda04bdb3d685fffa4747d12a763f3ad37",
    "line" : 163,
    "diffHunk" : "@@ -1,1 +161,165 @@func ParseAddr(addr string) (*Addr, error) {\n\tparts := addrRegex.FindStringSubmatch(addr)\n\tif parts == nil {\n\t\treturn nil, fmt.Errorf(\"%q: must match the format <namespace>.<pod>:<port number>\", addr)\n\t}"
  }
]