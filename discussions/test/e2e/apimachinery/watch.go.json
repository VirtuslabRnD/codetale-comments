[
  {
    "id" : "4be8e96d-c6be-41d4-a4f4-ce44d255d137",
    "prId" : 101950,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101950#pullrequestreview-658483987",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16611297-78c0-43a4-9807-843204a16739",
        "parentId" : null,
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "eventually we should change this to be retriable (conformance should pass if watches close) but i wonâ€™t make you do that here (i may end up having to do it)",
        "createdAt" : "2021-05-12T18:48:41Z",
        "updatedAt" : "2021-05-12T18:48:41Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "8615e33c-29e7-48a9-ad4b-fe5ed7de74c6",
        "parentId" : "16611297-78c0-43a4-9807-843204a16739",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "This is now a retry watcher (`watchtools.NewRetryWatcher`), so it is already retrying/re-establishing the watch internally... we only get to this point if re-establishing the watch failed. Still possible, but more robust than it was before.",
        "createdAt" : "2021-05-12T18:49:55Z",
        "updatedAt" : "2021-05-12T18:50:35Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "5565cca9-012c-442c-a41c-8659006dcbae",
        "parentId" : "16611297-78c0-43a4-9807-843204a16739",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "Nice!",
        "createdAt" : "2021-05-13T00:11:11Z",
        "updatedAt" : "2021-05-13T00:11:11Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "630573adac68044ff21e0a9fd34e7ff9fe97cb19",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +451,455 @@\tcase event, ok := <-watch.ResultChan():\n\t\tif !ok {\n\t\t\tframework.Failf(\"Watch closed unexpectedly\")\n\t\t}\n\t\tif configMap, ok := event.Object.(*v1.ConfigMap); ok {"
  },
  {
    "id" : "e9404a9d-f509-44fa-8064-286e18af3a86",
    "prId" : 76350,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76350#pullrequestreview-225758053",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "be1d3da6-32ef-461b-a781-51f4efd03abc",
        "parentId" : null,
        "authorId" : "580b4924-2623-4aee-8bbf-3e1735a9dc88",
        "body" : "Metadata needs Release (1.15) too: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/conformance-tests.md#conformance-test-comment-metadata\r\n\r\n",
        "createdAt" : "2019-04-11T19:11:38Z",
        "updatedAt" : "2019-04-11T19:54:29Z",
        "lastEditedBy" : "580b4924-2623-4aee-8bbf-3e1735a9dc88",
        "tags" : [
        ]
      },
      {
        "id" : "0e19e2b8-1729-4f73-b043-6fbd40cfc083",
        "parentId" : "be1d3da6-32ef-461b-a781-51f4efd03abc",
        "authorId" : "580b4924-2623-4aee-8bbf-3e1735a9dc88",
        "body" : "And one last thing - you need to add the test to conformance.txt",
        "createdAt" : "2019-04-11T19:21:24Z",
        "updatedAt" : "2019-04-11T19:54:29Z",
        "lastEditedBy" : "580b4924-2623-4aee-8bbf-3e1735a9dc88",
        "tags" : [
        ]
      },
      {
        "id" : "987185c2-76a8-4189-8ce2-cec1d128b820",
        "parentId" : "be1d3da6-32ef-461b-a781-51f4efd03abc",
        "authorId" : "d4f34d8f-5341-4ac1-b8b2-5e5f11e23a5d",
        "body" : "Thanks, fixed.",
        "createdAt" : "2019-04-11T19:54:52Z",
        "updatedAt" : "2019-04-11T19:54:52Z",
        "lastEditedBy" : "d4f34d8f-5341-4ac1-b8b2-5e5f11e23a5d",
        "tags" : [
        ]
      }
    ],
    "commit" : "a6126dc55a632463853c3d31711e51c548c30204",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +327,331 @@\t   resource versions of all events match. Events are produced from writes on a background goroutine.\n\t*/\n\tframework.ConformanceIt(\"should receive events on concurrent watches in same order\", func() {\n\t\tc := f.ClientSet\n\t\tns := f.Namespace.Name"
  },
  {
    "id" : "0cd26c1e-df8d-4456-af3c-1a0ae66f3150",
    "prId" : 69829,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/69829#pullrequestreview-166692774",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a3dd74ee-2443-46c5-b963-7fe86379134a",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "I bet doing these all in parallel would significantly reduce the wall time.",
        "createdAt" : "2018-10-15T21:49:38Z",
        "updatedAt" : "2018-10-19T21:05:54Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "30c1a27f-22e6-474f-96d6-675ce676b09a",
        "parentId" : "a3dd74ee-2443-46c5-b963-7fe86379134a",
        "authorId" : "d4f34d8f-5341-4ac1-b8b2-5e5f11e23a5d",
        "body" : "A bit to my surprise, this didn't speed things up.  I'm guessing that the buffered channels `<-watch.ResultChan()` in `waitForNextConfigMapEvent()` are sufficiently concurrent already, since the watches are initiated in the outer for loop.",
        "createdAt" : "2018-10-16T19:32:02Z",
        "updatedAt" : "2018-10-19T21:05:54Z",
        "lastEditedBy" : "d4f34d8f-5341-4ac1-b8b2-5e5f11e23a5d",
        "tags" : [
        ]
      },
      {
        "id" : "e6059758-391d-49d4-8c91-0ca9750980b2",
        "parentId" : "a3dd74ee-2443-46c5-b963-7fe86379134a",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Interesting.",
        "createdAt" : "2018-10-19T20:54:57Z",
        "updatedAt" : "2018-10-19T21:05:54Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "f87d2c61f37f679b9696b3ac99e1e396a079fd07",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +347,351 @@\t\t\twcs = append(wcs, wc)\n\t\t\tresourceVersion = waitForNextConfigMapEvent(wcs[0]).ResourceVersion\n\t\t\tfor _, wc := range wcs[1:] {\n\t\t\t\te := waitForNextConfigMapEvent(wc)\n\t\t\t\tif resourceVersion != e.ResourceVersion {"
  },
  {
    "id" : "aef853ce-f6f6-4b49-99bb-edbfefe65135",
    "prId" : 61424,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/61424#pullrequestreview-124127858",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "672ade34-3584-4c2e-9a30-1150d64ff379",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "One more thing that I would like to see tested (sorry that I didn't mention it on the first time, but I realized in the meantime that it's an extremely important case and we used to have bugs about that in the past is):\r\n\r\n- you create an object with label - add watch event should be send\r\n- you delete that label (or change its value) - delete watch event should be send\r\n- you add the label back - add event should be send this time\r\n- you delete the object - delete watch event should be send.\r\n\r\nThis should probably be a separate (fourth) test.",
        "createdAt" : "2018-05-28T07:50:21Z",
        "updatedAt" : "2018-05-30T07:14:28Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "769ec951-552c-4d2e-b3de-f5977bac2da3",
        "parentId" : "672ade34-3584-4c2e-9a30-1150d64ff379",
        "authorId" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "body" : "also done",
        "createdAt" : "2018-05-29T18:58:38Z",
        "updatedAt" : "2018-05-30T07:14:28Z",
        "lastEditedBy" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a1b8eaae33aa49242e47915a3bc0984226ae29e",
    "line" : 157,
    "diffHunk" : "@@ -1,1 +123,127 @@\n\t\tBy(\"deleting configmap B and ensuring the correct watchers observe the notification\")\n\t\terr = c.CoreV1().ConfigMaps(ns).Delete(testConfigMapB.GetName(), nil)\n\t\tExpect(err).NotTo(HaveOccurred())\n\t\texpectEvent(watchB, watch.Deleted, nil)"
  }
]