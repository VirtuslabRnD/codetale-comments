[
  {
    "id" : "154bfbf2-a403-4b08-8023-fa9ed8d89087",
    "prId" : 18220,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ad2cb3d9-3f43-4c3d-bfdf-4cc438c0b3a8",
        "parentId" : null,
        "authorId" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "body" : "Since this test needs to run the entire poll time to pass, maybe it would be better to add a preliminary phase that waits for the pod to be Running.\n",
        "createdAt" : "2015-12-04T18:34:25Z",
        "updatedAt" : "2015-12-05T01:12:27Z",
        "lastEditedBy" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "tags" : [
        ]
      },
      {
        "id" : "70264744-340d-4b88-b869-1e1625bf81e9",
        "parentId" : "ad2cb3d9-3f43-4c3d-bfdf-4cc438c0b3a8",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "Done. The test doesn't correctly test the initial delay at all given that it also includes the pod startup time.\n",
        "createdAt" : "2015-12-04T19:26:07Z",
        "updatedAt" : "2015-12-05T01:12:27Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ae1d548ce1795f60024055f2c5df8c79afff133",
    "line" : 67,
    "diffHunk" : "@@ -1,1 +89,93 @@\t\texpectNoError(err)\n\n\t\terr = wait.Poll(poll, 120*time.Second, func() (bool, error) {\n\t\t\tp, err := podClient.Get(p.Name)\n\t\t\tif err != nil {"
  },
  {
    "id" : "90e9dbca-e461-4759-91c7-44fc3f0f1de9",
    "prId" : 18220,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ee391de7-af24-4680-91b9-da14da3c36bd",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Can we make those timeouts even bigger?\nIf sometimes 90s is not enough, I really vote for something more like 240 than 120.\nIt's definitely better, to loose 30s from time to time, than to have flakes.\n",
        "createdAt" : "2015-12-04T18:44:33Z",
        "updatedAt" : "2015-12-05T01:12:27Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "056e5d7c-48b9-4b07-ab2f-f79b6aaf6b09",
        "parentId" : "ee391de7-af24-4680-91b9-da14da3c36bd",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "I divided the test into two phases, and each of them is given 120s (120s for running, 120s for ready).\n\nNote that the second test \"expects\" the test to time out when waiting for readiness, so I only set 90s for it.\n",
        "createdAt" : "2015-12-04T19:27:41Z",
        "updatedAt" : "2015-12-05T01:12:27Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "b2a3b031-4e95-4859-8d7e-f48c5a05a127",
        "parentId" : "ee391de7-af24-4680-91b9-da14da3c36bd",
        "authorId" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "body" : "I actually think the second phase of the first test should have a shorter timeout. The readiness should be set pretty quickly after the initial delay is up, and if it doesn't it's likely a bug (e.g. https://github.com/kubernetes/kubernetes/issues/17656). I'd suggest 30-60s, and only increasing it if that doesn't seem to be enough.\n",
        "createdAt" : "2015-12-04T21:47:01Z",
        "updatedAt" : "2015-12-05T01:12:27Z",
        "lastEditedBy" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "tags" : [
        ]
      },
      {
        "id" : "bddc6eab-3bdd-47f9-a1bb-11b6288acb2b",
        "parentId" : "ee391de7-af24-4680-91b9-da14da3c36bd",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "This has to be > 30s since the initial delay is 30s. How about we settle for 60s?\n",
        "createdAt" : "2015-12-04T21:50:06Z",
        "updatedAt" : "2015-12-05T01:12:27Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "ea43b26d-d6af-45a2-9128-531893b416e4",
        "parentId" : "ee391de7-af24-4680-91b9-da14da3c36bd",
        "authorId" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "body" : "Right, that's what I meant in my head... 60s sounds good.\n",
        "createdAt" : "2015-12-04T21:54:49Z",
        "updatedAt" : "2015-12-05T01:12:27Z",
        "lastEditedBy" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ae1d548ce1795f60024055f2c5df8c79afff133",
    "line" : null,
    "diffHunk" : "@@ -1,1 +49,53 @@\t\texpectNoError(err)\n\n\t\tExpect(wait.Poll(poll, 120*time.Second, func() (bool, error) {\n\t\t\tp, err := podClient.Get(p.Name)\n\t\t\tif err != nil {"
  },
  {
    "id" : "bdc71f26-88dc-4afc-aaa3-51a2be2dd08a",
    "prId" : 10758,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e246d121-a04e-479c-8eba-b92ec8963b49",
        "parentId" : null,
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "suggest some logging around the api.IsPodReady check, since that's where this usually times out and it often isn't clear what state the pod is in (the ready check is based off status.Conditions which is a list). You could then include the state here. \n",
        "createdAt" : "2015-07-06T16:38:10Z",
        "updatedAt" : "2015-07-06T16:54:23Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      },
      {
        "id" : "8a715881-bb3f-4547-baa7-583eba503df7",
        "parentId" : "e246d121-a04e-479c-8eba-b92ec8963b49",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "@bprashanth, are you okay with the PR being merged without addressing the nit?\n",
        "createdAt" : "2015-07-06T18:59:06Z",
        "updatedAt" : "2015-07-06T18:59:06Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "55baf231-b8a2-42a7-8867-ab9b083eecff",
        "parentId" : "e246d121-a04e-479c-8eba-b92ec8963b49",
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "yes, actually Mike added a !ready check and more logging around IsPodReady in his follow up pr (my comment is in the wrong spot)\n",
        "createdAt" : "2015-07-06T19:06:15Z",
        "updatedAt" : "2015-07-06T19:07:25Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      }
    ],
    "commit" : "1f59d793ad9f2d492833e05764f22db5356855d3",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +68,72 @@\t\tisReady, err := podRunningReady(p)\n\t\texpectNoError(err)\n\t\tExpect(isReady).To(BeTrue(), \"pod should be ready\")\n\n\t\trestartCount := getRestartCount(p)"
  }
]