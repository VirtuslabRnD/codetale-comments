[
  {
    "id" : "56fb6219-3e23-4c9e-bd4a-eda94d1dda94",
    "prId" : 88009,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88009#pullrequestreview-364455111",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a5b5db52-843a-4e04-b99a-a53b14c28cb1",
        "parentId" : null,
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "So the daemonset pod will be scheduled to any node including the one that is marked as \"NoSchedulable\"? For example, e2e cluster windows node might be tainted, with this toleration,  the pod will be scheduled to windows node too. Just want to understand what is the desired behavior here.",
        "createdAt" : "2020-02-11T19:35:00Z",
        "updatedAt" : "2020-02-25T21:25:17Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "c1770d2d-daa2-4693-986a-0b8c10e9b288",
        "parentId" : "a5b5db52-843a-4e04-b99a-a53b14c28cb1",
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "yes, this is to make the daemonset schedule on all nodes even when a user taints their node with arbitrary things (for other user workloads). Yes, for windows this would be scheduled too if the only guard is a taint - is this going to break any assumptions?",
        "createdAt" : "2020-02-11T19:38:23Z",
        "updatedAt" : "2020-02-25T21:25:17Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      },
      {
        "id" : "079c5e60-a913-48ff-8564-c4d9374de5da",
        "parentId" : "a5b5db52-843a-4e04-b99a-a53b14c28cb1",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "don't we need to add a nodeselector for linux nodes? We're going to need a different DaemonSet to run on Windows.",
        "createdAt" : "2020-02-11T20:19:41Z",
        "updatedAt" : "2020-02-25T21:25:17Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "bd3cd7b1-cb0e-4ebf-9e28-0d1af299cb5d",
        "parentId" : "a5b5db52-843a-4e04-b99a-a53b14c28cb1",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "so basically this pod will fail to run Windows node. I am not sure whether we have some assumption or verification about pods being running successfully. \r\nI think nodeselector can be used since we have different labels for linux and windows nodes. ",
        "createdAt" : "2020-02-11T21:15:39Z",
        "updatedAt" : "2020-02-25T21:25:17Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "f15c320d-9cec-40e0-82c7-9975ee0a3d81",
        "parentId" : "a5b5db52-843a-4e04-b99a-a53b14c28cb1",
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "I'm waiting on confirmation that a linux label will always exist on Kubernetes distributions before adding a node selector to the deployment YAMLs",
        "createdAt" : "2020-02-12T19:35:00Z",
        "updatedAt" : "2020-02-25T21:25:17Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      },
      {
        "id" : "3396955b-c1fa-4869-b292-ef7bfca21c4c",
        "parentId" : "a5b5db52-843a-4e04-b99a-a53b14c28cb1",
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "added the label selector like in the original repo https://github.com/kubernetes-sigs/gcp-compute-persistent-disk-csi-driver/pull/475",
        "createdAt" : "2020-02-22T00:00:23Z",
        "updatedAt" : "2020-02-25T21:25:17Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      },
      {
        "id" : "fd16fdeb-c70b-40a9-a097-29a146b78ec0",
        "parentId" : "a5b5db52-843a-4e04-b99a-a53b14c28cb1",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "I think the label is added by kubelet which should be very reliable unless user explicitly deletes it.",
        "createdAt" : "2020-02-25T21:18:38Z",
        "updatedAt" : "2020-02-25T21:25:17Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      }
    ],
    "commit" : "c6c0bb254af668fa0f4d1f6e8377a5730eeb24ec",
    "line" : 49,
    "diffHunk" : "@@ -1,1 +102,106 @@      # be scheduled on all nodes.\n      tolerations:\n      - operator: Exists\n      nodeSelector:\n        kubernetes.io/os: linux"
  },
  {
    "id" : "94a816bd-2b1f-4fbb-889a-d3b04d0c13a8",
    "prId" : 71020,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/71020#pullrequestreview-175582140",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a833b903-fed5-4f66-a233-c8393cdbf567",
        "parentId" : null,
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "this whole file should be updated to pull in the newest yamls:\r\nhttps://github.com/kubernetes-sigs/gcp-compute-persistent-disk-csi-driver/blob/master/deploy/kubernetes/base/node.yaml",
        "createdAt" : "2018-11-15T21:40:27Z",
        "updatedAt" : "2018-11-16T04:02:12Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      },
      {
        "id" : "8470b4d7-725a-45d4-af6c-06f1a35e0547",
        "parentId" : "a833b903-fed5-4f66-a233-c8393cdbf567",
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "specifically there are some updates around prestop lifecycle and possibly udev triggering mechanisms",
        "createdAt" : "2018-11-15T21:42:45Z",
        "updatedAt" : "2018-11-16T04:02:12Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      },
      {
        "id" : "7bd247f3-a51e-401c-b21c-0e702963fc2c",
        "parentId" : "a833b903-fed5-4f66-a233-c8393cdbf567",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Done.",
        "createdAt" : "2018-11-15T22:16:00Z",
        "updatedAt" : "2018-11-16T04:02:12Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "503f654d7a6b84c6885c53ac528dfaab37f5c281",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +14,18 @@      serviceAccountName: csi-node-sa\n      containers:\n        - name: csi-driver-registrar\n          image: gcr.io/gke-release/csi-driver-registrar:v1.0.0-gke.0\n          args:"
  },
  {
    "id" : "994a4761-f50a-4152-817f-d8ba2e61270e",
    "prId" : 70494,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70494#pullrequestreview-176008035",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0483e162-bf97-43ff-a027-21c011557189",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "This is good.",
        "createdAt" : "2018-11-16T22:43:33Z",
        "updatedAt" : "2018-11-17T00:53:09Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "1a3fbf1f13a28f3102edc43ab2dca95471453cd8",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +61,65 @@        - name: registration-dir\n          hostPath:\n            path: /var/lib/kubelet/plugins_registry/\n            type: Directory\n        - name: kubelet-dir"
  },
  {
    "id" : "fc3728bc-d758-465b-b078-e5a0ef5da89b",
    "prId" : 70494,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70494#pullrequestreview-176022290",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1b88d0b0-3364-4271-bd6e-e5d218f66569",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "I am seeing:\r\n```\r\nMountVolume.SetUp failed for volume \"registration-dir\" : hostPath type check failed: /var/lib/kubelet/plugins_registry/ is not a directory\r\n```\r\n\r\nTo fix this, change this `type` from `Directory` to `HostPathDirectoryOrCreate`.",
        "createdAt" : "2018-11-16T23:53:33Z",
        "updatedAt" : "2018-11-17T00:53:09Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "1a3fbf1f13a28f3102edc43ab2dca95471453cd8",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +62,66 @@          hostPath:\n            path: /var/lib/kubelet/plugins_registry/\n            type: Directory\n        - name: kubelet-dir\n          hostPath:"
  },
  {
    "id" : "feb34f7e-5fb8-4bc2-9496-120528baeecb",
    "prId" : 69868,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/69868#pullrequestreview-169066167",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "503fe878-abe3-406d-9538-aa9a09f04d4b",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "Hm I wonder if the alpha pd driver is going to have issues with the latest sidecars.\r\n\r\nAlso, unfortunately we haven't published public images of the beta gce pd driver yet.  So I think it's best to just leave PD driver image versions the way it was before, and we will update the versions when we're ready.\r\n\r\nAlso I think we need to add the [Serial] tag to pd so that tests won't be run it parallel.",
        "createdAt" : "2018-10-26T23:03:08Z",
        "updatedAt" : "2018-10-26T23:04:52Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "da2d1cb7-c1dc-4f1b-9f2a-709b11c3480c",
        "parentId" : "503fe878-abe3-406d-9538-aa9a09f04d4b",
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "+1",
        "createdAt" : "2018-10-26T23:27:00Z",
        "updatedAt" : "2018-10-26T23:27:00Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      },
      {
        "id" : "abe3ad84-3e63-4a16-a072-267abbb4a43c",
        "parentId" : "503fe878-abe3-406d-9538-aa9a09f04d4b",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "The test has passed, so it looks like the alpha driver is compatible with the latest sidecar drivers. Do you want to revert that part nonetheless?\r\n\r\nPlease lets add the [Serial] tag as part of PR #68025  /cc @mkimuram \r\n\r\nIt has been working so far and this PR doesn't make it worse. From a practical perspective,\r\nI don't see a good way to add it to the current test because of the way how it loops over the different drivers, and that part will be changed anyway:\r\n```\r\n\tfor driverName, initCSIDriver := range csiTestDrivers {\r\n\t\tcurDriverName := driverName\r\n\t\tcurInitCSIDriver := initCSIDriver\r\n\r\n\t\tContext(fmt.Sprintf(\"CSI plugin test using CSI driver: %s\", curDriverName), func() {\r\n```",
        "createdAt" : "2018-10-27T07:18:14Z",
        "updatedAt" : "2018-10-27T07:18:15Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      },
      {
        "id" : "931de31f-9c5f-45f7-9346-e23e8911362c",
        "parentId" : "503fe878-abe3-406d-9538-aa9a09f04d4b",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "If its passing then it's fine to leave it.  It's not a configuration that's officially been tested/supported by us, but I will update it later once we get the latest driver image published.",
        "createdAt" : "2018-10-27T14:58:37Z",
        "updatedAt" : "2018-10-27T14:58:37Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "3d9bfaf7-164e-4883-a7af-d1c178f4d601",
        "parentId" : "503fe878-abe3-406d-9538-aa9a09f04d4b",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "@msau42 so is this PR ready for merging now?\r\n",
        "createdAt" : "2018-10-27T18:48:59Z",
        "updatedAt" : "2018-10-27T18:48:59Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      }
    ],
    "commit" : "248df4ac5800ac5415a5cc154e448bfb640525ed",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +17,21 @@        - name: csi-driver-registrar\n          imagePullPolicy: Always\n          image: quay.io/k8scsi/driver-registrar:v0.4.1\n          args:\n            - \"--v=5\""
  },
  {
    "id" : "62ef9f34-d151-4ef4-8faf-b9fc4ef598d5",
    "prId" : 62433,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/62433#pullrequestreview-112525850",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0aa1c87f-fef3-45a1-ae9b-5c411e6dd030",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Why does this need a Pod Selector?",
        "createdAt" : "2018-04-13T17:38:54Z",
        "updatedAt" : "2018-04-18T18:24:53Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "48025818-f947-4808-92ab-40890bf1ec51",
        "parentId" : "0aa1c87f-fef3-45a1-ae9b-5c411e6dd030",
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "I think its necessary: https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/#pod-selector",
        "createdAt" : "2018-04-13T20:24:49Z",
        "updatedAt" : "2018-04-18T18:24:53Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      },
      {
        "id" : "760a2dc9-fa6c-472a-9760-77c4002bfb7d",
        "parentId" : "0aa1c87f-fef3-45a1-ae9b-5c411e6dd030",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Ok, I wonder why that is.",
        "createdAt" : "2018-04-16T05:08:03Z",
        "updatedAt" : "2018-04-18T18:24:53Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "8377875f-eb5b-4317-aa99-acc645c72a32",
        "parentId" : "0aa1c87f-fef3-45a1-ae9b-5c411e6dd030",
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "I think it somehow \"ties\" the higher level workload to the pods that it controls. It seems that previous behavior was that if not specified it would default, but since the \"tying\" wasn't explicit people were confused/breaking things when modifying their API objects afterwards and the pods would get orphaned",
        "createdAt" : "2018-04-16T17:59:35Z",
        "updatedAt" : "2018-04-18T18:24:53Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      }
    ],
    "commit" : "4d11dab272fc358c918a1a6b83db8f938535cdb0",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +4,8 @@  name: csi-gce-node\nspec:\n  selector:\n    matchLabels:\n      app: csi-gce-driver"
  }
]