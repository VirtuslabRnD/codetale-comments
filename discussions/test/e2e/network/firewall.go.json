[
  {
    "id" : "3b6950cf-9300-49cb-8375-a5b9a7ffe23e",
    "prId" : 101488,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101488#pullrequestreview-645158009",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "88c476d2-139d-46a1-9dbb-c8e0b5040378",
        "parentId" : null,
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "what do we understand by externally here?\r\nshould they be reachable in the InternalIP?",
        "createdAt" : "2021-04-26T19:36:07Z",
        "updatedAt" : "2021-04-26T19:36:08Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "ea398e89-e0e0-42b8-9609-5213825fd523",
        "parentId" : "88c476d2-139d-46a1-9dbb-c8e0b5040378",
        "authorId" : "57f729dd-988a-4d1a-83bf-ee70bf637c64",
        "body" : "@aojea NodeExternalIP is usually supposed to be an IP that the node is reachable from, by the public internet or at least outside the cluster. Clearly nodes shouldn't be allowing anything in the world to talk to their kubelet port, so I think the test's intention is good. But it's definitely mishandling the case where the node doesn't have a NodeExternalIP, probably because Kube CI maybe always gives nodes one of those?",
        "createdAt" : "2021-04-26T21:40:18Z",
        "updatedAt" : "2021-04-26T21:40:18Z",
        "lastEditedBy" : "57f729dd-988a-4d1a-83bf-ee70bf637c64",
        "tags" : [
        ]
      },
      {
        "id" : "d45bb5fd-b020-4920-9069-40ba906db85c",
        "parentId" : "88c476d2-139d-46a1-9dbb-c8e0b5040378",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "the conclusion on the addresses semantic discussion is that the only certain address is the InternalIP https://github.com/kubernetes/kubernetes/pull/95768#issuecomment-822723560\r\n\r\nI was wondering if the test should v1.NodeInternalIP, if those well known ports should not be exposed in that IP, of course",
        "createdAt" : "2021-04-26T21:54:08Z",
        "updatedAt" : "2021-04-26T21:54:08Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "ea0b3596-4a02-4110-9872-3020415cba11",
        "parentId" : "88c476d2-139d-46a1-9dbb-c8e0b5040378",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "not for this PR though",
        "createdAt" : "2021-04-26T22:13:04Z",
        "updatedAt" : "2021-04-26T22:13:04Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "f86ddbea70cc0d9490173a04c9640ebdf0c0c8dd",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +218,222 @@\n\t\tginkgo.By(\"Checking well known ports on master and nodes are not exposed externally\")\n\t\tnodeAddr := e2enode.FirstAddress(nodes, v1.NodeExternalIP)\n\t\tif nodeAddr != \"\" {\n\t\t\tassertNotReachableHTTPTimeout(nodeAddr, \"/\", ports.KubeletPort, firewallTestTCPTimeout, false)"
  },
  {
    "id" : "01d0d479-ec71-4841-93ef-779f6ffa3dae",
    "prId" : 83549,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/83549#pullrequestreview-302056351",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "73667e53-69ef-4fbe-b7b6-3d1ae691df58",
        "parentId" : null,
        "authorId" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "body" : "could you add a simple annotation here as well, please?",
        "createdAt" : "2019-10-15T17:05:18Z",
        "updatedAt" : "2019-10-18T12:37:29Z",
        "lastEditedBy" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "tags" : [
        ]
      }
    ],
    "commit" : "52b366457f018067d00b09d95b41d6001b0cb7db",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +87,91 @@\t\t\tsvc.Spec.LoadBalancerSourceRanges = firewallTestSourceRanges\n\t\t})\n\t\tframework.ExpectNoError(err)\n\t\tdefer func() {\n\t\t\t_, err = jig.UpdateService(func(svc *v1.Service) {"
  },
  {
    "id" : "93018bc9-b9e4-42c8-84e9-8c69909c6c8e",
    "prId" : 83549,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/83549#pullrequestreview-302056351",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b7d9f0d-486b-46b3-9ec2-b4c25ad3a78a",
        "parentId" : null,
        "authorId" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "body" : "could you add a simple annotation here as well, please?",
        "createdAt" : "2019-10-15T17:05:38Z",
        "updatedAt" : "2019-10-18T12:37:29Z",
        "lastEditedBy" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "tags" : [
        ]
      }
    ],
    "commit" : "52b366457f018067d00b09d95b41d6001b0cb7db",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +93,97 @@\t\t\t\tsvc.Spec.LoadBalancerSourceRanges = nil\n\t\t\t})\n\t\t\tframework.ExpectNoError(err)\n\t\t\terr = cs.CoreV1().Services(svc.Namespace).Delete(svc.Name, nil)\n\t\t\tframework.ExpectNoError(err)"
  },
  {
    "id" : "2e6e460d-8e4f-4277-9ff3-c58c952f1d8d",
    "prId" : 83549,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/83549#pullrequestreview-302056351",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "054857d9-1ca3-48e5-bf3a-cf05cd74d0a8",
        "parentId" : null,
        "authorId" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "body" : "could you add a simple annotation here as well, please?",
        "createdAt" : "2019-10-15T17:05:47Z",
        "updatedAt" : "2019-10-18T12:37:29Z",
        "lastEditedBy" : "d3b9ec12-6001-425a-940b-b74c57282ba6",
        "tags" : [
        ]
      }
    ],
    "commit" : "52b366457f018067d00b09d95b41d6001b0cb7db",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +122,126 @@\t\t\tsvc.Spec.ExternalTrafficPolicy = v1.ServiceExternalTrafficPolicyTypeLocal\n\t\t})\n\t\tframework.ExpectNoError(err)\n\n\t\tginkgo.By(\"Waiting for the nodes health check firewall rule to be deleted\")"
  }
]