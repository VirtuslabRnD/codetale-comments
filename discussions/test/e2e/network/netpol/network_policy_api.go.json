[
  {
    "id" : "0771aaae-2276-4408-b46c-bc616598574a",
    "prId" : 99777,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/99777#pullrequestreview-668902302",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6dc7a3d4-6834-4e5a-8340-43b4e450ccba",
        "parentId" : null,
        "authorId" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "body" : "@knabben  is it enough to cover our api validation?",
        "createdAt" : "2021-03-04T12:51:38Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "tags" : [
        ]
      },
      {
        "id" : "d8dec38e-fa34-44a3-9e7e-03e1d5536861",
        "parentId" : "6dc7a3d4-6834-4e5a-8340-43b4e450ccba",
        "authorId" : "4ff6be29-02e8-4f7f-8b4d-a207c13aeecd",
        "body" : "looks like good coverage.\r\n\r\n@rikatz any other missing case? ",
        "createdAt" : "2021-03-05T01:30:09Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "4ff6be29-02e8-4f7f-8b4d-a207c13aeecd",
        "tags" : [
        ]
      },
      {
        "id" : "2a12d0c3-aa1f-48ac-8ff0-80ebdea42c69",
        "parentId" : "6dc7a3d4-6834-4e5a-8340-43b4e450ccba",
        "authorId" : "4ff6be29-02e8-4f7f-8b4d-a207c13aeecd",
        "body" : "@jorn you can resolve this comment, we add more tests later if necessary.",
        "createdAt" : "2021-05-26T11:30:03Z",
        "updatedAt" : "2021-05-26T11:30:04Z",
        "lastEditedBy" : "4ff6be29-02e8-4f7f-8b4d-a207c13aeecd",
        "tags" : [
        ]
      }
    ],
    "commit" : "90e215dfd296c5ef1cc19fbb69436e5b35bae72b",
    "line" : 69,
    "diffHunk" : "@@ -1,1 +202,206 @@\t\tRelease: v1.21\n\t\tTestname: NetworkPolicy support EndPort Field\n\t\tDescription:\n\t\t- EndPort field cannot be defined if the Port field is not defined\n\t\t- EndPort field cannot be defined if the Port field is defined as a named (string) port."
  },
  {
    "id" : "26400890-d87a-48d6-be55-223e7068cb62",
    "prId" : 99777,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/99777#pullrequestreview-608494582",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "322e45aa-aa84-41f9-8d90-7f0adc72b819",
        "parentId" : null,
        "authorId" : "4ff6be29-02e8-4f7f-8b4d-a207c13aeecd",
        "body" : "Interestingly this error is returning nil, you should be hitting here instead:\r\n\r\nhttps://github.com/kubernetes/kubernetes/blob/master/pkg/apis/networking/validation/validation.go#L89",
        "createdAt" : "2021-03-05T01:55:40Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "4ff6be29-02e8-4f7f-8b4d-a207c13aeecd",
        "tags" : [
        ]
      },
      {
        "id" : "910a89d5-49e0-4cc8-a46c-5d3139199eb8",
        "parentId" : "322e45aa-aa84-41f9-8d90-7f0adc72b819",
        "authorId" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "body" : "real ? I have test this case using local-cluster-up. And here it pass ðŸ˜‚ . It should get error. @knabben ",
        "createdAt" : "2021-03-05T11:49:22Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "tags" : [
        ]
      },
      {
        "id" : "684d2ddd-7e26-485a-8631-c2f6d5dd8888",
        "parentId" : "322e45aa-aa84-41f9-8d90-7f0adc72b819",
        "authorId" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "body" : "I add log as fellow:\r\n\r\n>INFO: template: &NetworkPolicy{ObjectMeta:{ e2e-example-netpol-endport-validate     0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[special-label:netpol-3563] map[] [] []  []},Spec:NetworkPolicySpec{PodSelector:{map[pod-name:test-pod] []},Ingress:[]NetworkPolicyIngressRule{},Egress:[]NetworkPolicyEgressRule{NetworkPolicyEgressRule{Ports:[]NetworkPolicyPort{NetworkPolicyPort{Protocol:nil,Port:<nil>,EndPort:*20000,},},To:[]NetworkPolicyPeer{},},},PolicyTypes:[Egress],},} err:NetworkPolicy.extensions \"e2e-example-netpol-endport-validatetwg84\" is invalid: spec.egress[0].ports[0].endPort: Invalid value: 20000: may not be specified when `port` is not specified\r\n",
        "createdAt" : "2021-03-05T11:59:46Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "tags" : [
        ]
      },
      {
        "id" : "982924eb-e54c-467e-bddf-7a489cd6b339",
        "parentId" : "322e45aa-aa84-41f9-8d90-7f0adc72b819",
        "authorId" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "body" : "Is it that right? ðŸ˜‚ \r\n@knabben \r\n",
        "createdAt" : "2021-03-08T09:09:26Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "tags" : [
        ]
      },
      {
        "id" : "ed35ee55-5e15-4b35-aaae-bc9a4ad0c7f8",
        "parentId" : "322e45aa-aa84-41f9-8d90-7f0adc72b819",
        "authorId" : "4ff6be29-02e8-4f7f-8b4d-a207c13aeecd",
        "body" : "Yes, take a look at the failing CI job and try to understand what's the difference between your local\r\n\r\nhttps://prow.k8s.io/view/gs/kubernetes-jenkins/pr-logs/pull/99777/pull-kubernetes-e2e-ubuntu-gce-network-policies/1367457289027457024",
        "createdAt" : "2021-03-08T13:56:44Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "4ff6be29-02e8-4f7f-8b4d-a207c13aeecd",
        "tags" : [
        ]
      },
      {
        "id" : "1fab83dc-3ee5-4a55-b458-d72ff5a8a017",
        "parentId" : "322e45aa-aa84-41f9-8d90-7f0adc72b819",
        "authorId" : "7cdf591c-5b87-4588-b48e-a40560f96eb5",
        "body" : "maybe you need to enable the feature gate :)",
        "createdAt" : "2021-03-09T19:04:03Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "7cdf591c-5b87-4588-b48e-a40560f96eb5",
        "tags" : [
        ]
      },
      {
        "id" : "ea48e796-d1fc-4fa0-aa4c-2acb41ded68b",
        "parentId" : "322e45aa-aa84-41f9-8d90-7f0adc72b819",
        "authorId" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "body" : "I add the describe mark label \"[Feature:NetworkPolicyEndPort]\". But seems that it still will be run. \r\nWhich place can we add to open  the feature gate before running it ?\r\n@rikatz @knabben  ",
        "createdAt" : "2021-03-10T08:32:45Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "tags" : [
        ]
      },
      {
        "id" : "9ab5f073-0528-4270-a0f0-c3daab37035b",
        "parentId" : "322e45aa-aa84-41f9-8d90-7f0adc72b819",
        "authorId" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "body" : "add a feature gate check like \r\n\r\nhttps://github.com/kubernetes/kubernetes/blob/4740173f3378ef9d0dc59b0aa9299444a97d0818/test/e2e/framework/skipper/skipper.go#L139-L143\r\n\r\nthanks for inspiring from @aojea \r\n\r\n\r\n\r\n",
        "createdAt" : "2021-03-10T09:24:54Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "tags" : [
        ]
      }
    ],
    "commit" : "90e215dfd296c5ef1cc19fbb69436e5b35bae72b",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +220,224 @@\t\t\tSetSpecEgressRules(egressRule))\n\t\t_, err := npClient.Create(context.TODO(), npTemplate, metav1.CreateOptions{})\n\t\tframework.ExpectError(err, \"request template:%v\", npTemplate)\n\n\t\tginkgo.By(\"EndPort field cannot be defined if the Port field is defined as a named (string) port.\")"
  },
  {
    "id" : "a8071b82-1825-42cc-b242-4d5a869b1bba",
    "prId" : 99777,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/99777#pullrequestreview-647793246",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "100bfc65-81e1-4f71-836e-995b4ea42e58",
        "parentId" : null,
        "authorId" : "7cdf591c-5b87-4588-b48e-a40560f96eb5",
        "body" : "I think the standard here is to put the Feature on the beginning of the line, like:\r\n```suggestion\r\n\tginkgo.It(\"[Feature:NetworkPolicyEndPort] should support creating NetworkPolicy API with endport field\", func() {\r\n```",
        "createdAt" : "2021-04-28T15:34:16Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "7cdf591c-5b87-4588-b48e-a40560f96eb5",
        "tags" : [
        ]
      },
      {
        "id" : "a21d3e81-ec25-4edc-9f4f-5106aa5b34d1",
        "parentId" : "100bfc65-81e1-4f71-836e-995b4ea42e58",
        "authorId" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "body" : "I see other case in netpol folder, they all put the feature label on the end of the line.\r\nlike:\r\nhttps://github.com/kubernetes/kubernetes/blob/b4ea4322a660717084dcd09b26fe27e55ebb39f0/test/e2e/network/netpol/network_legacy.go#L161\r\n\r\nhttps://github.com/kubernetes/kubernetes/blob/b4ea4322a660717084dcd09b26fe27e55ebb39f0/test/e2e/network/netpol/network_policy.go#L181\r\n\r\n",
        "createdAt" : "2021-04-29T03:34:50Z",
        "updatedAt" : "2021-04-30T06:42:59Z",
        "lastEditedBy" : "5c4757f6-5a7a-438b-b77f-778928cb6979",
        "tags" : [
        ]
      }
    ],
    "commit" : "90e215dfd296c5ef1cc19fbb69436e5b35bae72b",
    "line" : 74,
    "diffHunk" : "@@ -1,1 +207,211 @@\t\t- EndPort field must be equal or greater than port.\n\t*/\n\tginkgo.It(\"should support creating NetworkPolicy API with endport field [Feature:NetworkPolicyEndPort]\", func() {\n\t\tns := f.Namespace.Name\n\t\tnpClient := f.ClientSet.NetworkingV1().NetworkPolicies(ns)"
  }
]