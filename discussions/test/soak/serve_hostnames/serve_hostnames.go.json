[
  {
    "id" : "aa002844-f63c-4d86-abe7-b4c0a52c2997",
    "prId" : 5945,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "22512399-a538-4998-826e-a21a79bd3662",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "Have you really seen it take 10 minutes for the pods to be running (isn't this is a tiny image)?\n",
        "createdAt" : "2015-03-26T00:05:15Z",
        "updatedAt" : "2015-03-26T18:41:17Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "15ef7b6c-946a-4239-b545-874a8814d687",
        "parentId" : "22512399-a538-4998-826e-a21a79bd3662",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "Yes. It can take a lot longer than ten minutes to enter the running state.\n",
        "createdAt" : "2015-03-26T02:18:47Z",
        "updatedAt" : "2015-03-26T18:41:17Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      }
    ],
    "commit" : "700c45d1d71846f441a510a392b9c26ea369a8e8",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +50,54 @@\tendpointTimeout      = 5 * time.Minute\n\tpodCreateTimeout     = 2 * time.Minute\n\tpodStartTimeout      = 10 * time.Minute\n\tserviceCreateTimeout = 2 * time.Minute\n)"
  },
  {
    "id" : "42d90f23-10e0-4830-b60a-82732a48c983",
    "prId" : 5945,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c136623c-ec7c-4e4b-8385-3d8c7bb91dc6",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "if err := ...\n",
        "createdAt" : "2015-03-26T00:07:22Z",
        "updatedAt" : "2015-03-26T18:41:17Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      }
    ],
    "commit" : "700c45d1d71846f441a510a392b9c26ea369a8e8",
    "line" : 72,
    "diffHunk" : "@@ -1,1 +184,188 @@\t\tfor _, podName := range podNames {\n\t\t\tfor start := time.Now(); time.Since(start) < deleteTimeout; time.Sleep(1 * time.Second) {\n\t\t\t\tif err = c.Pods(ns).Delete(podName); err == nil {\n\t\t\t\t\tbreak\n\t\t\t\t}"
  },
  {
    "id" : "46e4fdf9-2e81-4f78-976b-4b5f6cf83855",
    "prId" : 5881,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91d2dd9c-6aaf-4eb2-8a64-c76a0f915b90",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "Should this be outside the loop? Otherwise it will be printed on every failed attempt as well as successful attempts. \n",
        "createdAt" : "2015-03-25T05:52:14Z",
        "updatedAt" : "2015-03-25T17:13:09Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "18f87468-88a2-49bb-8585-bd1fffa860d4",
        "parentId" : "91d2dd9c-6aaf-4eb2-8a64-c76a0f915b90",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "I want to print the failed attempts. In the next iteration I plan to add a `--verbose` flag to make the default output quieter.\n",
        "createdAt" : "2015-03-25T17:08:49Z",
        "updatedAt" : "2015-03-25T17:13:10Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      },
      {
        "id" : "9b1459db-46ac-4471-8695-25901eaaf303",
        "parentId" : "91d2dd9c-6aaf-4eb2-8a64-c76a0f915b90",
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "I see. You're trying to measure the latency of the create call here. When you add the verbose flag, you might also consider making the output reflect whether the call was successful or not. \n",
        "createdAt" : "2015-03-25T17:13:44Z",
        "updatedAt" : "2015-03-25T17:13:44Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      }
    ],
    "commit" : "32909a3368fa104b258303c771b819b53d25af69",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +114,118 @@\t\t\t},\n\t\t})\n\t\tglog.Infof(\"Service create %s/server-hostnames took %v\", ns, time.Since(t))\n\t\tif err == nil {\n\t\t\tbreak"
  },
  {
    "id" : "2d23fe98-9395-42fe-9720-07470ddc7470",
    "prId" : 5881,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8bad9d33-0140-4882-9e87-37c8a875c71f",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "This should also be outside the loop. \n",
        "createdAt" : "2015-03-25T05:53:16Z",
        "updatedAt" : "2015-03-25T17:13:09Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "89c69c20-9202-4438-9349-ef85f4afc48c",
        "parentId" : "8bad9d33-0140-4882-9e87-37c8a875c71f",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "Again, I would like this to be recorded anyway.\n",
        "createdAt" : "2015-03-25T17:09:09Z",
        "updatedAt" : "2015-03-25T17:13:10Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      }
    ],
    "commit" : "32909a3368fa104b258303c771b819b53d25af69",
    "line" : 89,
    "diffHunk" : "@@ -1,1 +132,136 @@\t\t\t\treturn\n\t\t\t}\n\t\t\tglog.Warningf(\"After %v unable to delete service %s/%s: %v\", time.Since(start), ns, svc.Name, err)\n\t\t}\n\t}()"
  },
  {
    "id" : "a2ed171d-8559-4a4c-9c2b-b450ed1036cb",
    "prId" : 5881,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "620191ed-3577-45a9-9b03-5ffbb784ad6c",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "Can you add a TODO to parallelize the pod creation?\n",
        "createdAt" : "2015-03-25T05:54:16Z",
        "updatedAt" : "2015-03-25T17:13:09Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "81895381-93ab-4155-b1dc-48ba8a017985",
        "parentId" : "620191ed-3577-45a9-9b03-5ffbb784ad6c",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "I would prefer to have it done sequentially -- it makes it easier for me to track what is going on in the log and there is no huge performance win since in general the test spends most of its time in the loop that issues requests.\n",
        "createdAt" : "2015-03-25T17:10:11Z",
        "updatedAt" : "2015-03-25T17:13:10Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      },
      {
        "id" : "6fe7332c-76c7-4b2e-9f2a-bbc45becce95",
        "parentId" : "620191ed-3577-45a9-9b03-5ffbb784ad6c",
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "As soon as I saw that you'd added the retries inside this loop it made me think of running it in parallel. If you start to have failures creating pods, then the setup step could start to take a really long time. I don't think it would be terribly difficult to make the output clear (you could have a progress counter that went from 0 to N as each pod was created and then output all of the latencies, sorted if you like, at the end). But totally optional. \n",
        "createdAt" : "2015-03-25T17:15:52Z",
        "updatedAt" : "2015-03-25T17:15:52Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      }
    ],
    "commit" : "32909a3368fa104b258303c771b819b53d25af69",
    "line" : 103,
    "diffHunk" : "@@ -1,1 +142,146 @@\t\t\tpodName := fmt.Sprintf(\"serve-hostname-%d-%d\", i, j)\n\t\t\tpodNames = append(podNames, podName)\n\t\t\t// Make several attempts\n\t\t\tfor start := time.Now(); time.Since(start) < podCreateTimeout; time.Sleep(2 * time.Second) {\n\t\t\t\tglog.Infof(\"Creating pod %s/%s on node %s\", ns, podName, node.Name)"
  },
  {
    "id" : "ff52431a-c007-4dc8-8ca9-fa8fd32fd1a9",
    "prId" : 5881,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a3bf233b-3862-4fac-bd85-155183a00779",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "Should be outside the loop. \n",
        "createdAt" : "2015-03-25T05:55:28Z",
        "updatedAt" : "2015-03-25T17:13:10Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "0e4ec10c-eed3-4ceb-9c7d-1a44d44267b5",
        "parentId" : "a3bf233b-3862-4fac-bd85-155183a00779",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "Again, I prefer it where it is. I want to time the requests (regardless of success or failure).\n",
        "createdAt" : "2015-03-25T17:10:50Z",
        "updatedAt" : "2015-03-25T17:13:10Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      },
      {
        "id" : "7a49533f-6ea7-4cc9-8b07-8f953b668d61",
        "parentId" : "a3bf233b-3862-4fac-bd85-155183a00779",
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "ACK. \n",
        "createdAt" : "2015-03-25T17:15:58Z",
        "updatedAt" : "2015-03-25T17:15:58Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      }
    ],
    "commit" : "32909a3368fa104b258303c771b819b53d25af69",
    "line" : 135,
    "diffHunk" : "@@ -1,1 +164,168 @@\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tglog.Infof(\"Pod create %s/%s request took %v\", ns, podName, time.Since(t))\n\t\t\t\tif err == nil {\n\t\t\t\t\tbreak"
  },
  {
    "id" : "ce1d2a15-2278-48e9-bac5-b9efbcd3c136",
    "prId" : 5881,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "375ae15b-2378-4d0a-a3df-72309103ac67",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "TODO for parallelization here too.\n",
        "createdAt" : "2015-03-25T05:56:29Z",
        "updatedAt" : "2015-03-25T17:13:10Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "5f20d5d1-821f-4bd2-aec3-92272850fb16",
        "parentId" : "375ae15b-2378-4d0a-a3df-72309103ac67",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "Again, I prefer to keep this simpler and sequential.\n",
        "createdAt" : "2015-03-25T17:11:21Z",
        "updatedAt" : "2015-03-25T17:13:10Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      }
    ],
    "commit" : "32909a3368fa104b258303c771b819b53d25af69",
    "line" : 151,
    "diffHunk" : "@@ -1,1 +179,183 @@\tdefer func() {\n\t\tglog.Info(\"Cleaning up pods\")\n\t\t// Make several attempts to delete the pods.\n\t\tfor _, podName := range podNames {\n\t\t\tfor start := time.Now(); time.Since(start) < deleteTimeout; time.Sleep(1 * time.Second) {"
  },
  {
    "id" : "f9136a87-3469-4018-a4c6-cc01db79de2f",
    "prId" : 5881,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "608397f2-4a5c-4ffb-aff8-2e7d53156b56",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "Move outside the (inner) loop. \n",
        "createdAt" : "2015-03-25T05:56:39Z",
        "updatedAt" : "2015-03-25T17:13:10Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "74ee2eff-c6ea-44ba-ac29-8bd43a3128d6",
        "parentId" : "608397f2-4a5c-4ffb-aff8-2e7d53156b56",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "Again, I prefer to log the time taken by the call (pass or fail).\n",
        "createdAt" : "2015-03-25T17:11:38Z",
        "updatedAt" : "2015-03-25T17:13:10Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      }
    ],
    "commit" : "32909a3368fa104b258303c771b819b53d25af69",
    "line" : 159,
    "diffHunk" : "@@ -1,1 +185,189 @@\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tglog.Warningf(\"After %v failed to delete pod %s: %v\", time.Since(start), podName, err)\n\t\t\t}\n\t\t}"
  },
  {
    "id" : "40b46b8c-78f8-4790-a180-834db2f56796",
    "prId" : 5750,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cd012b1b-71d7-456d-9247-ecd8dab1fedd",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "Once you hit this loop you should stop using log.Fatalf (because it calls os.Exit and your defer statements won't run). \n",
        "createdAt" : "2015-03-21T04:04:38Z",
        "updatedAt" : "2015-03-22T23:36:48Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "f40481cf-8987-47db-8401-dad811cb33db",
        "parentId" : "cd012b1b-71d7-456d-9247-ecd8dab1fedd",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "Would you prefer a `panic`?\n",
        "createdAt" : "2015-03-21T17:47:16Z",
        "updatedAt" : "2015-03-22T23:36:48Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      }
    ],
    "commit" : "9716805613963a073c1eab1f051682570fcb4b87",
    "line" : null,
    "diffHunk" : "@@ -1,1 +117,121 @@\t// Put serve-hostname pods on each node.\n\tpodNames := []string{}\n\tfor i, node := range nodes.Items {\n\t\tfor j := 0; j < *perNode; j++ {\n\t\t\tpodName := fmt.Sprintf(\"serve-hostname-%d-%d\", i, j)"
  },
  {
    "id" : "3cbf4e45-6717-4466-aa7e-8390896a8cff",
    "prId" : 5750,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5f4017af-84d5-4b3d-b76e-9c7bb9abe125",
        "parentId" : null,
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "This flag isn't used. \n",
        "createdAt" : "2015-03-21T04:12:26Z",
        "updatedAt" : "2015-03-22T23:36:48Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "587ddf5b-0599-4519-be83-595b2cc846b8",
        "parentId" : "5f4017af-84d5-4b3d-b76e-9c7bb9abe125",
        "authorId" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "body" : "Actually, it is. It's used to control the number of pods that are made (*perNode \\* nrNode).\n",
        "createdAt" : "2015-03-21T17:42:56Z",
        "updatedAt" : "2015-03-22T23:36:48Z",
        "lastEditedBy" : "9d07de69-76c2-43bd-9590-55d9aded200d",
        "tags" : [
        ]
      },
      {
        "id" : "2cb29626-6d3e-45d2-b118-25790ebdaa66",
        "parentId" : "5f4017af-84d5-4b3d-b76e-9c7bb9abe125",
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "My mistake - I was searching for the flag (per_node) instead of the var name. Carry on...\n",
        "createdAt" : "2015-03-23T20:21:52Z",
        "updatedAt" : "2015-03-23T20:21:52Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      }
    ],
    "commit" : "9716805613963a073c1eab1f051682570fcb4b87",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +41,45 @@var (\n\tqueries = flag.Int(\"queries\", 1000, \"Number of hostname queries to make in each iteration\")\n\tperNode = flag.Int(\"per_node\", 1, \"Number of hostname pods per node\")\n\tupTo    = flag.Int(\"up_to\", -1, \"Number of iterations or -1 for no limit\")\n)"
  }
]