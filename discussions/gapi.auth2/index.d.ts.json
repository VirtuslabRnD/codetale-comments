[
  {
    "id" : "6e34e648-41da-40bc-8bf4-9473a8426dc7",
    "prId" : 14836,
    "prUrl" : "https://github.com/DefinitelyTyped/DefinitelyTyped/pull/14836#pullrequestreview-26399996",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ab0270a1-5241-4847-b1fa-109461f9e2ce",
        "parentId" : null,
        "authorId" : "20e0cd30-9004-4554-aa5a-07db6db1bbc9",
        "body" : "What's the justification for making the failure function optional?",
        "createdAt" : "2017-03-04T16:50:24Z",
        "updatedAt" : "2017-03-04T16:50:24Z",
        "lastEditedBy" : "20e0cd30-9004-4554-aa5a-07db6db1bbc9",
        "tags" : [
        ]
      },
      {
        "id" : "477a4ad1-f854-4a1b-b607-c16cb2507ab3",
        "parentId" : "ab0270a1-5241-4847-b1fa-109461f9e2ce",
        "authorId" : "9659474b-ff65-4639-a0c5-317124d10049",
        "body" : "Google documentation is not precise on this kind of question and I don't have an example from Google that shows that it is optional. But empirically it should be:\r\n- Official doc does not say it is optional: https://developers.google.com/identity/sign-in/web/reference#googleauththenoninit-onerror\r\n- Same for gapi.client.init: https://google.github.io/closure-library/api/goog.Thenable.html althrough it is: https://developers.google.com/api-client-library/javascript/samples/samples#loading-an-api-and-making-a-request\r\n- Google documentation about their Promise implementation says that onFulfilled and onRejected are optional: https://developers.google.com/api-client-library/javascript/features/promises like ES6 Promise: https://github.com/Microsoft/TypeScript/blob/master/lib/lib.es5.d.ts#L1346\r\n- Multiple examples on Internet (could not find any example from Google itself) show that it is: [1](http://stackoverflow.com/a/36995266/990356), [2](https://github.com/google/google-api-javascript-client/issues/232#issue-165357148), [3](https://github.com/google/google-api-javascript-client/issues/239#issue-175206570), [4](https://gist.github.com/Scarygami/11ed38a1a0632fe77780#file-necessary_client-html-L39)\r\n- I do that in my code: tested and no problem\r\n\r\nReading all this again I'm pretty sure `onInit` callback should be optional too.\r\n",
        "createdAt" : "2017-03-04T17:40:33Z",
        "updatedAt" : "2017-03-04T17:40:33Z",
        "lastEditedBy" : "9659474b-ff65-4639-a0c5-317124d10049",
        "tags" : [
        ]
      },
      {
        "id" : "03f560b7-8917-4911-bbc0-0f0efcb677ee",
        "parentId" : "ab0270a1-5241-4847-b1fa-109461f9e2ce",
        "authorId" : "20e0cd30-9004-4554-aa5a-07db6db1bbc9",
        "body" : "OK sounds good",
        "createdAt" : "2017-03-10T23:28:02Z",
        "updatedAt" : "2017-03-10T23:28:02Z",
        "lastEditedBy" : "20e0cd30-9004-4554-aa5a-07db6db1bbc9",
        "tags" : [
        ]
      }
    ],
    "commit" : "4fa3d7fda8444f7d880aa31f0ef82ed1e7fab92d",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +22,26 @@     * initialization fails.\n     */\n    then(onInit: () => any, onFailure?: (reason: string) => any): any;\n\n    /**"
  }
]