[
  {
    "id" : "b279dbb0-745d-4402-b8bb-961d9cfb7a57",
    "prId" : 54208,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/54208#pullrequestreview-72409747",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "480a5954-46fb-4e70-8ab7-baa0121c7d33",
        "parentId" : null,
        "authorId" : "72156db3-c40b-4455-9838-c12c0c606019",
        "body" : "Why not do this similar with `not-ready`? Add an new label, named `DeprecateTaintNodeUnreachable`.",
        "createdAt" : "2017-10-20T01:47:00Z",
        "updatedAt" : "2017-11-17T14:07:44Z",
        "lastEditedBy" : "72156db3-c40b-4455-9838-c12c0c606019",
        "tags" : [
        ]
      },
      {
        "id" : "d77e6e95-8a9e-4703-b667-7b4d5ede2ccf",
        "parentId" : "480a5954-46fb-4e70-8ab7-baa0121c7d33",
        "authorId" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "body" : "@k82cn Not very sure about this actually,  as `unreachable` seems to be internal used only. \r\n\r\n@liggitt Do you think we need to address compatibility issue here, just like what we did for `not-ready` taint?",
        "createdAt" : "2017-10-20T02:43:25Z",
        "updatedAt" : "2017-11-17T14:07:44Z",
        "lastEditedBy" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "tags" : [
        ]
      },
      {
        "id" : "97ab2ceb-cf28-45e7-9086-601a0cc6e976",
        "parentId" : "480a5954-46fb-4e70-8ab7-baa0121c7d33",
        "authorId" : "72156db3-c40b-4455-9838-c12c0c606019",
        "body" : "@liggitt , any suggestion :).",
        "createdAt" : "2017-10-23T11:10:40Z",
        "updatedAt" : "2017-11-17T14:07:44Z",
        "lastEditedBy" : "72156db3-c40b-4455-9838-c12c0c606019",
        "tags" : [
        ]
      },
      {
        "id" : "1d3403d7-e4a1-40be-9913-ebcbaa83be18",
        "parentId" : "480a5954-46fb-4e70-8ab7-baa0121c7d33",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "similar issue to the other taint name change... the node controller currently adds this taint, so I'd expect it to remove the alpha taint, otherwise you can end up with a node with a permanent taint added by a kubernetes component\r\n\r\nalso, the DefaultTolerationSeconds admission plugin currently adds tolerations for the alpha taint (and isn't [documented](https://kubernetes.io/docs/admin/admission-controllers/#defaulttolerationseconds) to be alpha or subject to change). What's the plan for avoiding disrupting pods admitted with tolerations by that plugin?",
        "createdAt" : "2017-10-23T13:31:38Z",
        "updatedAt" : "2017-11-17T14:07:44Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "8b5bfb10-075f-4aa2-a330-35b6e62d3f35",
        "parentId" : "480a5954-46fb-4e70-8ab7-baa0121c7d33",
        "authorId" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "body" : "The approach in #51266 should be able to fix the first concern, i.e. auto-replace old taint to new taint by controller.\r\n\r\nCan we do the same operation for `DefaultTolerationSeconds`? let the admission plugin replace old toleration with new one. @liggitt WDYT?",
        "createdAt" : "2017-10-24T14:02:20Z",
        "updatedAt" : "2017-11-17T14:07:44Z",
        "lastEditedBy" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "tags" : [
        ]
      },
      {
        "id" : "8bd8bc11-0464-405b-81c6-f9b0b7f0b87c",
        "parentId" : "480a5954-46fb-4e70-8ab7-baa0121c7d33",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "> let the admission plugin replace old toleration with new one. @liggitt WDYT?\r\n\r\nthat doesn't update pods already in the system",
        "createdAt" : "2017-10-24T14:06:55Z",
        "updatedAt" : "2017-11-17T14:07:44Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "57a29fd8-f5a8-4d53-af6c-b2d5f280e95c",
        "parentId" : "480a5954-46fb-4e70-8ab7-baa0121c7d33",
        "authorId" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "body" : "So maybe add a `admit plugin` to fix pods tolerations? @liggitt ",
        "createdAt" : "2017-10-24T14:38:46Z",
        "updatedAt" : "2017-11-17T14:07:44Z",
        "lastEditedBy" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "tags" : [
        ]
      },
      {
        "id" : "86b207db-b56c-4836-8068-b9cde78b83bf",
        "parentId" : "480a5954-46fb-4e70-8ab7-baa0121c7d33",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "I'm not sure the best course of action... @davidopp how did you envision updating system-added tolerations on existing pods when the system-added taint changes names.",
        "createdAt" : "2017-10-24T14:42:31Z",
        "updatedAt" : "2017-11-17T14:07:44Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "5210d6a6-9672-40f3-8eaf-438bf2ed2124",
        "parentId" : "480a5954-46fb-4e70-8ab7-baa0121c7d33",
        "authorId" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "body" : "kindly ping @davidopp , we are discussing the strategy to upgrade alpha taint keys without breaking existing user, and your advice would be highly valued here.",
        "createdAt" : "2017-10-27T06:04:51Z",
        "updatedAt" : "2017-11-17T14:07:44Z",
        "lastEditedBy" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "tags" : [
        ]
      }
    ],
    "commit" : "e380c215d16731da71b37b28e2c5afcd55975942",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +31,35 @@\t// when node becomes unreachable (corresponding to NodeReady status ConditionUnknown)\n\t// and removed when node becomes reachable (NodeReady status ConditionTrue).\n\tTaintNodeUnreachable = \"node.kubernetes.io/unreachable\"\n\n\t// DeprecatedTaintNodeUnreachable is the deprecated version of TaintNodeUnreachable."
  },
  {
    "id" : "a4c3adae-bb31-4e03-a2f7-725571ac2e37",
    "prId" : 49547,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/49547#pullrequestreview-54300635",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "934330da-2a84-48ec-ba7d-7affcfa8fcba",
        "parentId" : null,
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "these should all have .alpha. ",
        "createdAt" : "2017-08-01T03:18:23Z",
        "updatedAt" : "2017-08-01T03:18:23Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "e51f1d67-f254-411b-8707-688a7fb8ba2e",
        "parentId" : "934330da-2a84-48ec-ba7d-7affcfa8fcba",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "see the discussion on including alpha in the name in https://github.com/kubernetes/community/pull/819#discussion_r128887276\r\n\r\ntl;dr: if you include alpha in the name, there is no reasonable way to migrate people to the beta and ga versions. feature-gating the alpha function is sufficient to keep it from affecting anything until it graduates to beta or an admin opts in to using it in alpha mode.",
        "createdAt" : "2017-08-01T03:55:40Z",
        "updatedAt" : "2017-08-01T03:55:40Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "6bca7f24-1680-40b4-8d71-65726975c68f",
        "parentId" : "934330da-2a84-48ec-ba7d-7affcfa8fcba",
        "authorId" : "72156db3-c40b-4455-9838-c12c0c606019",
        "body" : "Update the link to open comments directly (https://github.com/kubernetes/community/pull/819/files/1bb113172319e32a8bde63f996c0b382e2fa511a#r128887276)",
        "createdAt" : "2017-08-01T04:43:21Z",
        "updatedAt" : "2017-08-01T04:43:21Z",
        "lastEditedBy" : "72156db3-c40b-4455-9838-c12c0c606019",
        "tags" : [
        ]
      },
      {
        "id" : "22844560-e296-445b-8249-3c60a098cfda",
        "parentId" : "934330da-2a84-48ec-ba7d-7affcfa8fcba",
        "authorId" : "72156db3-c40b-4455-9838-c12c0c606019",
        "body" : "@timothysc , is that OK for your?",
        "createdAt" : "2017-08-02T01:16:30Z",
        "updatedAt" : "2017-08-02T01:16:30Z",
        "lastEditedBy" : "72156db3-c40b-4455-9838-c12c0c606019",
        "tags" : [
        ]
      },
      {
        "id" : "9cdda0a1-7600-449d-a47c-445d2e41e694",
        "parentId" : "934330da-2a84-48ec-ba7d-7affcfa8fcba",
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "We should update other taints then, and have a pattern for upgrade.  \r\n/cc @davidopp ",
        "createdAt" : "2017-08-02T16:53:13Z",
        "updatedAt" : "2017-08-02T16:53:21Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "1f5b8443-4016-404e-ac63-6086a2a20a8f",
        "parentId" : "934330da-2a84-48ec-ba7d-7affcfa8fcba",
        "authorId" : "72156db3-c40b-4455-9838-c12c0c606019",
        "body" : "I'd like to update other taint when graduating from alpha to beta in separate PR.",
        "createdAt" : "2017-08-03T14:16:58Z",
        "updatedAt" : "2017-08-03T14:16:58Z",
        "lastEditedBy" : "72156db3-c40b-4455-9838-c12c0c606019",
        "tags" : [
        ]
      },
      {
        "id" : "1e6fb028-cd29-486f-9cbc-1777b3a0fa5b",
        "parentId" : "934330da-2a84-48ec-ba7d-7affcfa8fcba",
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "these look OK to me, per @liggit's comment\r\n",
        "createdAt" : "2017-08-04T07:49:16Z",
        "updatedAt" : "2017-08-04T07:49:16Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec4aa192cc2211ee54075105f96cda631217b538",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +32,36 @@\t// TaintNodeOutOfDisk would be automatically added by node controller\n\t// when node becomes out of disk, and removed when node has enough disk.\n\tTaintNodeOutOfDisk = \"node.kubernetes.io/outOfDisk\"\n\n\t// When feature-gate for TaintBasedEvictions=true flag is enabled,"
  }
]