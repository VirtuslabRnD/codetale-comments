[
  {
    "id" : "f709bd2e-6f5c-402b-879f-f06bdc039ec0",
    "prId" : 44814,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/44814#pullrequestreview-34200421",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0722eb3f-2496-4fd3-8de6-be518401724d",
        "parentId" : null,
        "authorId" : "72156db3-c40b-4455-9838-c12c0c606019",
        "body" : "The `controllerRef` maybe nil according to previous codes. So this PR is not valid to me :).",
        "createdAt" : "2017-04-23T13:18:00Z",
        "updatedAt" : "2017-04-23T13:18:00Z",
        "lastEditedBy" : "72156db3-c40b-4455-9838-c12c0c606019",
        "tags" : [
        ]
      },
      {
        "id" : "0cad8f71-edc7-485d-a4d3-59c5d9669964",
        "parentId" : "0722eb3f-2496-4fd3-8de6-be518401724d",
        "authorId" : "05f12cb2-7ee0-4c99-97a6-9b38d803704d",
        "body" : "\tif controllerRef == nil {\r\n\t\treturn schedulerapi.HostPriority{Host: node.Name, Score: 10}, nil\r\n\t}\r\n\r\n\tavoids, err := v1helper.GetAvoidPodsFromNodeAnnotations(node.Annotations)\r\n\tif err != nil {\r\n\t\t// If we cannot get annotation, assume it's schedulable there.\r\n\t\treturn schedulerapi.HostPriority{Host: node.Name, Score: 10}, nil\r\n\t}\r\n\tfor i := range avoids.PreferAvoidPods {\r\n\t\tavoid := &avoids.PreferAvoidPods[i]\r\n\t\tif controllerRef != nil {\r\n\t\t\tif avoid.PodSignature.PodController.Kind == controllerRef.Kind && avoid.PodSignature.PodController.UID == controllerRef.UID {\r\n\t\t\t\treturn schedulerapi.HostPriority{Host: node.Name, Score: 0}, nil\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn schedulerapi.HostPriority{Host: node.Name, Score: 10}, nil\r\n}\r\n\r\nthe controllerRef is a local var, up code is part of the fuction. before my modify code, it has checked nil,  function will be return when nil. ",
        "createdAt" : "2017-04-23T13:31:23Z",
        "updatedAt" : "2017-04-23T13:31:23Z",
        "lastEditedBy" : "05f12cb2-7ee0-4c99-97a6-9b38d803704d",
        "tags" : [
        ]
      },
      {
        "id" : "f8f76432-947f-44cd-90e6-e4456af30e09",
        "parentId" : "0722eb3f-2496-4fd3-8de6-be518401724d",
        "authorId" : "72156db3-c40b-4455-9838-c12c0c606019",
        "body" : "got that, LGTM.",
        "createdAt" : "2017-04-24T02:12:48Z",
        "updatedAt" : "2017-04-24T02:12:48Z",
        "lastEditedBy" : "72156db3-c40b-4455-9838-c12c0c606019",
        "tags" : [
        ]
      }
    ],
    "commit" : "a7dd554ce3bebf4f4eb392fb7edf3203de094e77",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +52,56 @@\tfor i := range avoids.PreferAvoidPods {\n\t\tavoid := &avoids.PreferAvoidPods[i]\n\t\tif avoid.PodSignature.PodController.Kind == controllerRef.Kind && avoid.PodSignature.PodController.UID == controllerRef.UID {\n\t\t\treturn schedulerapi.HostPriority{Host: node.Name, Score: 0}, nil\n\t\t}"
  }
]