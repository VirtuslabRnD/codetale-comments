[
  {
    "id" : "a06fc18f-7240-4b2b-8e01-580af8cb16ef",
    "prId" : 4108,
    "prUrl" : "https://github.com/root-project/root/pull/4108#pullrequestreview-266525670",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "82a1c399-75f1-475b-9d81-eee6f4e090c0",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "@vgvassilev If I put `${includedirs}` after `\"$<$<BOOL:${module_incs}>:-I$<JOIN:${module_incs},;-I>>\"`, the cxxmodule s build fails, could you help me figure out why? The error is the \"redefinition of RCompressionSettings\" shown in the last Jenkins failure.",
        "createdAt" : "2019-07-25T10:04:43Z",
        "updatedAt" : "2019-07-25T10:04:43Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      }
    ],
    "commit" : "604a3e155fa8003057bc76240bb40f6b498d0918",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +492,496 @@                     COMMAND ${command} -v2 -f  ${dictionary}.cxx ${newargs} ${excludepathsargs} ${rootmapargs}\n                                        ${definitions} \"$<$<BOOL:${module_defs}>:-D$<JOIN:${module_defs},;-D>>\"\n                                        ${includedirs} \"$<$<BOOL:${module_incs}>:-I$<JOIN:${module_incs},;-I>>\"\n                                        ${ARG_OPTIONS} ${headerfiles} ${_linkdef}\n                     IMPLICIT_DEPENDS ${_implicitdeps}"
  },
  {
    "id" : "61ed648c-239a-4a87-858a-f008eee43c48",
    "prId" : 4449,
    "prUrl" : "https://github.com/root-project/root/pull/4449#pullrequestreview-294990105",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8b8ee50a-0547-42db-b45c-cf1698cde97b",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "Is this not a backward-incompatible change? Why do we need to rename the option?",
        "createdAt" : "2019-09-30T13:37:59Z",
        "updatedAt" : "2019-09-30T15:34:42Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "56f105f6-efbf-4e3e-bbfc-ce73e58e4663",
        "parentId" : "8b8ee50a-0547-42db-b45c-cf1698cde97b",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "This was a purely C++ modules related flag. I doubt anybody outside of ROOT have used it.",
        "createdAt" : "2019-09-30T13:44:06Z",
        "updatedAt" : "2019-09-30T15:34:42Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      },
      {
        "id" : "6205572e-1f6a-4e8c-8cf5-369d7e5382de",
        "parentId" : "8b8ee50a-0547-42db-b45c-cf1698cde97b",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "Ok, if @Axel-Naumann approves, it's fine with me. However, the commit conflates R and this renaming. Maybe it's better to split the renaming from R related stuff.",
        "createdAt" : "2019-09-30T13:48:58Z",
        "updatedAt" : "2019-09-30T15:34:42Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "c9e64940-cbf6-4e71-9847-0c168eecc815",
        "parentId" : "8b8ee50a-0547-42db-b45c-cf1698cde97b",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "Actually, I prefer to have it in the same commit. It shows the use-case of this flag.",
        "createdAt" : "2019-09-30T13:53:01Z",
        "updatedAt" : "2019-09-30T15:34:42Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      }
    ],
    "commit" : "a8dbb3819141c75dd07f59e027078cd853f903ef",
    "line" : 82,
    "diffHunk" : "@@ -1,1 +1106,1110 @@#                                 DICTIONARY_OPTIONS option    : options passed to rootcling\n#                                 INSTALL_OPTIONS option       : options passed to install headers\n#                                 NO_CXXMODULE                 : don't generate a C++ module for this package\n#                                )\n#---------------------------------------------------------------------------------------------------"
  },
  {
    "id" : "0a84d5a1-ed6e-4943-abd6-ee4488d19641",
    "prId" : 4449,
    "prUrl" : "https://github.com/root-project/root/pull/4449#pullrequestreview-295531165",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "35d904dc-80b9-4a95-8202-401f3dcf6be4",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "Is this really going to work for stuff outside ROOT? It can be the source of subtle bugs for external users.",
        "createdAt" : "2019-09-30T13:52:29Z",
        "updatedAt" : "2019-09-30T15:34:42Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "283a43ee-5497-42b3-a18d-1eeddd8e2bda",
        "parentId" : "35d904dc-80b9-4a95-8202-401f3dcf6be4",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "Nope, this is pretty terrible approach, however, I am covering here the MULTIDICT case a little better. This code slightly more functional from what it was before.",
        "createdAt" : "2019-09-30T13:57:49Z",
        "updatedAt" : "2019-09-30T15:34:42Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      },
      {
        "id" : "0b3ba059-9e72-4afe-b3f2-a0c4d756efa4",
        "parentId" : "35d904dc-80b9-4a95-8202-401f3dcf6be4",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "We should really change the places with `...32` in ROOT, not the macro that can be used externally. I hope that at least the addition of this part is removed later.",
        "createdAt" : "2019-10-01T08:36:51Z",
        "updatedAt" : "2019-10-01T08:36:52Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "455ef074-69e6-4e4b-897c-d793b060c57e",
        "parentId" : "35d904dc-80b9-4a95-8202-401f3dcf6be4",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "Those places are when we have multiple dictionaries. Smatrix and GenVector. This has been the naming convention unfortunately. I am not sure what you want to change. I am all for removing the dictionary names provided by the users (as explained in the other comment)\r\n\r\nPS: I am not aware of anybody who uses the macro with MULTIDICT option. I doubt it was/is usable due to the tons of assumption we have for this case...",
        "createdAt" : "2019-10-01T11:22:13Z",
        "updatedAt" : "2019-10-01T11:24:48Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      }
    ],
    "commit" : "a8dbb3819141c75dd07f59e027078cd853f903ef",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +398,402 @@    string(REGEX REPLACE \"^G__(.*)\" \"\\\\1\"  library_target_name ${dictionary})\n    if (ARG_MULTIDICT)\n      string(REGEX REPLACE \"(.*)32$\" \"\\\\1\"  library_target_name ${library_target_name})\n    endif (ARG_MULTIDICT)\n  else()"
  },
  {
    "id" : "16e62dd1-9ecd-4230-99f1-f1aad42953f9",
    "prId" : 4449,
    "prUrl" : "https://github.com/root-project/root/pull/4449#pullrequestreview-295497937",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "70438dbf-c540-4be4-80f6-9e45c0295d24",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "This should be the default, and the else can contain the deduction code above. No need to set if the deduction fails or to check that they are the same...",
        "createdAt" : "2019-09-30T13:53:55Z",
        "updatedAt" : "2019-09-30T15:34:42Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "7f61fd80-7b44-4858-9099-b5f9399e67e1",
        "parentId" : "70438dbf-c540-4be4-80f6-9e45c0295d24",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "Here the important bit was the diagnostics. I can probably get rid of it altogether. The real underlying problem is that `ROOT_GENERATE_DICTIONARY` allows the user to specify the name of the dictionary which will be produced. I think, instead, we should just specify the library which the dictionary describes and the rest should be automatically computed.",
        "createdAt" : "2019-09-30T14:00:30Z",
        "updatedAt" : "2019-09-30T15:34:42Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      },
      {
        "id" : "f123130c-72f0-4a76-8c80-17b4cd208a6f",
        "parentId" : "70438dbf-c540-4be4-80f6-9e45c0295d24",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "There is no underlying problem here. The user must be able to specify the name of the dictionary, and it's important because you can have a target with multiple dictionaries and deducing a name in that case is prone to bugs. The dictionary is just a source file that users can add to their library or binary and the name convention is something that ROOT should not impose. You need to think more from the point of view of users of ROOT, and less of ROOT itself. We cannot change macros used externally at will. If we suddenly remove this functionality, users will certainly complain.",
        "createdAt" : "2019-10-01T08:43:36Z",
        "updatedAt" : "2019-10-01T08:43:36Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "2bb0601b-253d-4f63-ab23-ab25d63042d1",
        "parentId" : "70438dbf-c540-4be4-80f6-9e45c0295d24",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "The deduction is here since 5 years. We deduce the name because it may not be specified as you said. Do you want to change that or you want it to be just more efficient — if we move the deduction in the else part we will not be able to diagnose such mismatch. If we don’t want to diagnose (without imposing naming convention) that’s fine.\r\n\r\nWe should work very hard to hide the name of the dictionary. It contains intricate information for the library such as locations of header files and rdict files and so on. We have an option how to build multiple dictionaries for a single library—if that does not work we should fix it. Allowing the user to decide which dictionary gets attached to which library and when is a source of big issues and it is very subtle bugs. Essentially the dictionary is a ROOT implementation detail which can affect the core of the framework majorly. \r\n\r\nWe should encourage people to use the ROOT_STANDARD_LIBRARY_PPACKAGE and we should not use a standalone ROOT_GENERATE_DICTIONARY standalone. ",
        "createdAt" : "2019-10-01T10:10:53Z",
        "updatedAt" : "2019-10-01T10:10:53Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      }
    ],
    "commit" : "a8dbb3819141c75dd07f59e027078cd853f903ef",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +409,413 @@      set(library_target_name ${ARG_MODULE})\n    endif()\n  endif(ARG_MODULE)\n\n  #---Set the library output directory-----------------------"
  },
  {
    "id" : "70f4aa65-4cd4-4355-8440-4665603849df",
    "prId" : 4478,
    "prUrl" : "https://github.com/root-project/root/pull/4478#pullrequestreview-297448716",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "01fe7a84-630d-4873-91cc-b734295307a1",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "Thanks, this is indeed better than before.",
        "createdAt" : "2019-10-04T12:46:25Z",
        "updatedAt" : "2019-10-04T12:46:25Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa8234b1aca5edcf5bf6a53bbdf39b6af1891317",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +860,864 @@      # needed for generated headers like RConfigure.h and ROOT/RConfig.hxx\n      target_include_directories(${library} PRIVATE ${CMAKE_BINARY_DIR}/include)\n    endif()\n\n  endif()"
  },
  {
    "id" : "241597d6-27af-4810-b1d7-6f4b300ff50a",
    "prId" : 5019,
    "prUrl" : "https://github.com/root-project/root/pull/5019#pullrequestreview-361073823",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d27f9580-f434-4237-91f7-f9a5f00044ee",
        "parentId" : null,
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "```suggestion\r\n  # FIXME: Do not set gensrcdict variable to the outer scope but use an argument to\r\n  # REFLEX_GENERATE_DICTIONARY passed from the outside. Note this would be a\r\n  # breaking change for roottest and other external users.\r\n  set(gensrcdict ${dictionary}.cxx PARENT_SCOPE)\r\n```",
        "createdAt" : "2020-02-19T12:34:32Z",
        "updatedAt" : "2020-02-19T12:38:15Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d92c4731df849126091172a8baf5e19af666d9c",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +198,202 @@  # REFLEX_GENERATE_DICTIONARY passed from the outside. Note this would be a\n  # breaking change for roottest and other external users.\n  set(gensrcdict ${dictionary}.cxx PARENT_SCOPE)\n\n  #---roottest compability---------------------------------"
  },
  {
    "id" : "0b420412-7e4c-4b7f-ab39-a6a828b0c061",
    "prId" : 5019,
    "prUrl" : "https://github.com/root-project/root/pull/5019#pullrequestreview-368702432",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eec99201-13a2-4db7-8599-c48cf9f9f854",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "The rest of the changes seem fine, but this hack should be removed before merging. Setting a variable in parent scope will cause subtle breakage that is very hard to debug later. Please do not merge this as is.",
        "createdAt" : "2020-02-22T21:07:26Z",
        "updatedAt" : "2020-02-22T21:07:40Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "2f40c645-8a67-4905-97e3-17a787099331",
        "parentId" : "eec99201-13a2-4db7-8599-c48cf9f9f854",
        "authorId" : "be375414-8d7a-4e89-b672-0298e4f42af9",
        "body" : "Setting this variable to parent_scope gives backward compatibility, as this was a macro before, which put all variables in parent_scope so to say.\r\nIf you and @vgvassilev and @oshadura  tell me what the function signature should be like to add the return variable, I will implement this.",
        "createdAt" : "2020-02-26T08:35:15Z",
        "updatedAt" : "2020-02-26T08:35:15Z",
        "lastEditedBy" : "be375414-8d7a-4e89-b672-0298e4f42af9",
        "tags" : [
        ]
      },
      {
        "id" : "a6c7ea8a-f2c5-4bd2-8a0a-724fa8dcdc2e",
        "parentId" : "eec99201-13a2-4db7-8599-c48cf9f9f854",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "That would be the best approach but it requires changes in roottest which is fine per se. ",
        "createdAt" : "2020-02-26T11:48:30Z",
        "updatedAt" : "2020-02-26T11:48:31Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      },
      {
        "id" : "06f980a1-2d19-41e7-bb2a-2e79ebaa1e92",
        "parentId" : "eec99201-13a2-4db7-8599-c48cf9f9f854",
        "authorId" : "b3162d7b-6062-4c19-9553-67738ce206f7",
        "body" : "@amadio @vgvassilev I afraid it will really affect external users (e.g. CMS and etc.), so I would prefer if it could be done in different iteration of changes (after this PR will go in)?",
        "createdAt" : "2020-03-04T08:40:47Z",
        "updatedAt" : "2020-03-04T08:40:48Z",
        "lastEditedBy" : "b3162d7b-6062-4c19-9553-67738ce206f7",
        "tags" : [
        ]
      },
      {
        "id" : "e391439e-8d4c-48d9-8ad7-4adf6655de92",
        "parentId" : "eec99201-13a2-4db7-8599-c48cf9f9f854",
        "authorId" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "body" : "That's a fair point. It is your call.",
        "createdAt" : "2020-03-04T08:44:28Z",
        "updatedAt" : "2020-03-04T08:44:28Z",
        "lastEditedBy" : "6f6f52c8-bace-4788-98aa-f12fb2560025",
        "tags" : [
        ]
      },
      {
        "id" : "009443d6-03e0-4d84-96c5-f2d62928878a",
        "parentId" : "eec99201-13a2-4db7-8599-c48cf9f9f854",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "I take it back. If the change is for backward compatibility, then it should be ok to go in as is.",
        "createdAt" : "2020-03-04T11:30:18Z",
        "updatedAt" : "2020-03-04T11:30:19Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d92c4731df849126091172a8baf5e19af666d9c",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +198,202 @@  # REFLEX_GENERATE_DICTIONARY passed from the outside. Note this would be a\n  # breaking change for roottest and other external users.\n  set(gensrcdict ${dictionary}.cxx PARENT_SCOPE)\n\n  #---roottest compability---------------------------------"
  }
]