[
  {
    "id" : "2f447f75-8008-4198-8f29-6ca7bfa7b2f9",
    "prId" : 93355,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/93355#pullrequestreview-454171679",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e0fbd9b0-43a9-4df2-9b10-e888f0d37bea",
        "parentId" : null,
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "pedantic nit: Could you instead add the case to `TestSchedulerCache_UpdateSnapshot`?\r\n\r\nGeneral recommendation in go is to test the public interface (`UpdateSnapshot` function in this case). Also it will make the patch smaller.",
        "createdAt" : "2020-07-23T14:01:51Z",
        "updatedAt" : "2020-07-24T06:44:01Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "2c9e6eca-d2f9-4684-b70d-22cfca4a47da",
        "parentId" : "e0fbd9b0-43a9-4df2-9b10-e888f0d37bea",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "On the other hand one would argue that this test will be easier to adapt to test the `toList` function that we plan to have as a permanent fix.",
        "createdAt" : "2020-07-23T14:10:51Z",
        "updatedAt" : "2020-07-24T06:44:01Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      }
    ],
    "commit" : "c2ec8bedbcc9a675d0c4c0317e8be559bc5e3f63",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +1540,1544 @@}\n\nfunc TestSchedulerCache_updateNodeInfoSnapshotList(t *testing.T) {\n\t// Create a few nodes to be used in tests.\n\tnodes := []*v1.Node{}"
  },
  {
    "id" : "98af2851-ada4-4f31-855f-22c25477640d",
    "prId" : 85738,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/85738#pullrequestreview-324817323",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5b7afc39-1fef-4a82-8d63-90f691d8cc64",
        "parentId" : null,
        "authorId" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "body" : "In addition to comparing cache with snapshot, I think we should also make sure the cache itself if self consistent, i.e., `cache.nodes`, `cache.headNode` and `cache.nodeTree` should contain the same nodes.\r\n\r\nNot sure if this is already covered by other tests.",
        "createdAt" : "2019-11-29T16:52:48Z",
        "updatedAt" : "2019-11-29T20:06:27Z",
        "lastEditedBy" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "tags" : [
        ]
      },
      {
        "id" : "5068f706-9b61-40cd-b07c-329209b9d95c",
        "parentId" : "5b7afc39-1fef-4a82-8d63-90f691d8cc64",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "But that is not part of the UpdateNodeInfoSnapshot, if not covered should certainly be done, but not in this PR.",
        "createdAt" : "2019-11-29T17:16:31Z",
        "updatedAt" : "2019-11-29T20:06:27Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "55e1b573-65f2-46e1-861f-8c145c0e1159",
        "parentId" : "5b7afc39-1fef-4a82-8d63-90f691d8cc64",
        "authorId" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "body" : "Yeah agreed. ",
        "createdAt" : "2019-11-29T17:42:22Z",
        "updatedAt" : "2019-11-29T20:06:27Z",
        "lastEditedBy" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "tags" : [
        ]
      }
    ],
    "commit" : "5ea43f20cb74fe43011b747fb94d8d3d53d42e42",
    "line" : 185,
    "diffHunk" : "@@ -1,1 +1443,1447 @@}\n\nfunc compareCacheWithNodeInfoSnapshot(cache *schedulerCache, snapshot *nodeinfosnapshot.Snapshot) error {\n\t// Compare the map.\n\tif len(snapshot.NodeInfoMap) != len(cache.nodes) {"
  },
  {
    "id" : "e64dc1fd-d976-4cb6-a5f1-c14c83a73017",
    "prId" : 74041,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74041#pullrequestreview-205515370",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5bcae54d-a4af-47a3-bbdb-f515e66d16a7",
        "parentId" : null,
        "authorId" : "5f2c1de8-4266-42c0-b343-ba247af3578f",
        "body" : "Is UID needed in tests? Is it nice-to-have in tests?",
        "createdAt" : "2019-02-16T00:50:18Z",
        "updatedAt" : "2019-02-20T21:55:44Z",
        "lastEditedBy" : "5f2c1de8-4266-42c0-b343-ba247af3578f",
        "tags" : [
        ]
      },
      {
        "id" : "42a2267d-45be-444c-8682-79b991e321ea",
        "parentId" : "5bcae54d-a4af-47a3-bbdb-f515e66d16a7",
        "authorId" : "15fb535e-c5be-47ce-a304-1cb5da5aca90",
        "body" : "Our scheduling queue uses pod UID. So, some of our tests need to have pod UID. The queue is not engaged in this test though, but having UID doesn't hurt.",
        "createdAt" : "2019-02-20T00:01:56Z",
        "updatedAt" : "2019-02-20T21:55:44Z",
        "lastEditedBy" : "15fb535e-c5be-47ce-a304-1cb5da5aca90",
        "tags" : [
        ]
      }
    ],
    "commit" : "337cb7036cc260264ebc8e4ad2925040de75ba65",
    "line" : 164,
    "diffHunk" : "@@ -1,1 +1163,1167 @@\t\t\t\tName:      fmt.Sprintf(\"test-pod%v\", i),\n\t\t\t\tNamespace: \"test-ns\",\n\t\t\t\tUID:       types.UID(fmt.Sprintf(\"test-puid%v\", i)),\n\t\t\t},\n\t\t\tSpec: v1.PodSpec{"
  },
  {
    "id" : "e38f74ef-3fd4-4bcb-8732-842d3eb202cb",
    "prId" : 68968,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/68968#pullrequestreview-159453189",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8096dc10-2fd3-4c01-87f6-889ce172d4ae",
        "parentId" : null,
        "authorId" : "33ab9fbe-6f55-45c0-a58d-be01aec201d9",
        "body" : "Ignore generation field should include expected.",
        "createdAt" : "2018-09-27T13:46:21Z",
        "updatedAt" : "2018-10-06T12:51:24Z",
        "lastEditedBy" : "33ab9fbe-6f55-45c0-a58d-be01aec201d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "187e2e01c971771ab4729eed06726ee8ada66acd",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +42,46 @@\t\tactual.SetGeneration(0)\n\t}\n\tif expected != nil {\n\t\texpected.SetGeneration(0)\n\t}"
  },
  {
    "id" : "08214cb3-0992-4b37-90f1-ee56b1c99214",
    "prId" : 68968,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/68968#pullrequestreview-159454280",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6159044c-1bfd-4828-a65f-6384c39cd9b8",
        "parentId" : null,
        "authorId" : "33ab9fbe-6f55-45c0-a58d-be01aec201d9",
        "body" : "All updated by public function.",
        "createdAt" : "2018-09-27T13:48:30Z",
        "updatedAt" : "2018-10-06T12:51:24Z",
        "lastEditedBy" : "33ab9fbe-6f55-45c0-a58d-be01aec201d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "187e2e01c971771ab4729eed06726ee8ada66acd",
    "line" : 555,
    "diffHunk" : "@@ -1,1 +898,902 @@\t\texpected.SetPods(pods)\n\t\trequestedResource := expected.RequestedResource()\n\t\tnewRequestedResource := &requestedResource\n\t\tnewRequestedResource.Add(getResourceRequest(pod))\n\t\texpected.SetRequestedResource(newRequestedResource)"
  }
]