[
  {
    "id" : "59a07a2a-c7eb-4d7b-befb-0fe2c5cbcde6",
    "prId" : 93473,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/93473#pullrequestreview-456724824",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "38ecbb68-6b6d-4748-be65-e37139278893",
        "parentId" : null,
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "This doesn't sound correct to me, we need to start from the last used zone, not from zoneIndex=0.",
        "createdAt" : "2020-07-28T14:44:16Z",
        "updatedAt" : "2020-08-18T08:35:42Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "ba05242e-2deb-4aa8-8f49-de8b9f72504a",
        "parentId" : "38ecbb68-6b6d-4748-be65-e37139278893",
        "authorId" : "270a0c70-71d3-4103-8c71-0612c0396f58",
        "body" : "with this loop, we iterate over all the zones, adding a node from each non exhausted zone until we have gone through all the zones. then we go through the loop again. The change did not modify the output of the list() function. \r\n\r\nOr do you mean to say that a new run of list() should pick up from where the last list() run ended ?",
        "createdAt" : "2020-07-28T14:53:50Z",
        "updatedAt" : "2020-08-18T08:35:42Z",
        "lastEditedBy" : "270a0c70-71d3-4103-8c71-0612c0396f58",
        "tags" : [
        ]
      },
      {
        "id" : "511f8a1b-b1e3-4e19-bc3b-41c7b54374c3",
        "parentId" : "38ecbb68-6b6d-4748-be65-e37139278893",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "ah, ok, I missed that the append happens inside the zone loop.",
        "createdAt" : "2020-07-28T14:59:28Z",
        "updatedAt" : "2020-08-18T08:35:42Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      }
    ],
    "commit" : "fc5edb8c12aa7c158972f6a2c8e64c1014567650",
    "line" : 127,
    "diffHunk" : "@@ -1,1 +128,132 @@\t\t\treturn nodesList, errors.New(\"all zones exhausted before reaching count of nodes expected\")\n\t\t}\n\t\tfor zoneIndex := 0; zoneIndex < len(nt.zones); zoneIndex++ {\n\t\t\tna := nt.tree[nt.zones[zoneIndex]]\n\t\t\tif nodeIndex >= len(na) { // If the zone is exhausted, continue"
  },
  {
    "id" : "b9ea1141-4544-4101-ad49-60430b2d5700",
    "prId" : 93473,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/93473#pullrequestreview-456765890",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "af63386f-ace1-4642-a342-2ee6c8b01fee",
        "parentId" : null,
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "nit: `return nil, nil`, before making the allocation in the line before.",
        "createdAt" : "2020-07-28T15:01:53Z",
        "updatedAt" : "2020-08-18T08:35:42Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "9d4eb7e5-dcd6-4909-8cc6-2ff4c25ad7f6",
        "parentId" : "af63386f-ace1-4642-a342-2ee6c8b01fee",
        "authorId" : "270a0c70-71d3-4103-8c71-0612c0396f58",
        "body" : "should it return nil or an empty list ?",
        "createdAt" : "2020-07-28T15:27:37Z",
        "updatedAt" : "2020-08-18T08:35:42Z",
        "lastEditedBy" : "270a0c70-71d3-4103-8c71-0612c0396f58",
        "tags" : [
        ]
      },
      {
        "id" : "fdbdaf29-5002-46d4-8b97-88c96a704bf4",
        "parentId" : "af63386f-ace1-4642-a342-2ee6c8b01fee",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "nil is equivalent to empty list",
        "createdAt" : "2020-07-28T15:39:10Z",
        "updatedAt" : "2020-08-18T08:35:42Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "c408f0aa-32c0-45b2-bd97-9c07851c7192",
        "parentId" : "af63386f-ace1-4642-a342-2ee6c8b01fee",
        "authorId" : "270a0c70-71d3-4103-8c71-0612c0396f58",
        "body" : "fixed, thanks",
        "createdAt" : "2020-07-28T15:43:31Z",
        "updatedAt" : "2020-08-18T08:35:42Z",
        "lastEditedBy" : "270a0c70-71d3-4103-8c71-0612c0396f58",
        "tags" : [
        ]
      }
    ],
    "commit" : "fc5edb8c12aa7c158972f6a2c8e64c1014567650",
    "line" : 104,
    "diffHunk" : "@@ -1,1 +118,122 @@// over nodes in a round robin fashion.\nfunc (nt *nodeTree) list() ([]string, error) {\n\tif len(nt.zones) == 0 {\n\t\treturn nil, nil\n\t}"
  },
  {
    "id" : "ac3ecbfe-bdc4-45b5-9fcb-1e3be99cad15",
    "prId" : 80811,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80811#pullrequestreview-272170856",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "62c74696-0bc0-4507-80dc-e5433f716003",
        "parentId" : null,
        "authorId" : "33ab9fbe-6f55-45c0-a58d-be01aec201d9",
        "body" : "Is the Warning level sufficient? Or this line of error logs can be deleted because the error has been returned.",
        "createdAt" : "2019-08-07T02:01:23Z",
        "updatedAt" : "2019-08-07T20:20:54Z",
        "lastEditedBy" : "33ab9fbe-6f55-45c0-a58d-be01aec201d9",
        "tags" : [
        ]
      },
      {
        "id" : "8807b5b5-5c88-4985-969c-3d0f51b24862",
        "parentId" : "62c74696-0bc0-4507-80dc-e5433f716003",
        "authorId" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "body" : "I guess it doesn't hurt to log an error here for debugging purposes, otherwise we have to rely on the caller to log a proper error message somewhere.",
        "createdAt" : "2019-08-07T13:33:42Z",
        "updatedAt" : "2019-08-07T20:20:54Z",
        "lastEditedBy" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "tags" : [
        ]
      },
      {
        "id" : "f49985b5-f97f-4d63-b6f3-820e393dcc36",
        "parentId" : "62c74696-0bc0-4507-80dc-e5433f716003",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "I rather prefer that an error is only logged once. Otherwise it's hard to tell whether an error is unique or not. Could you please check if errors returned from this function are properly logged at some point? If so, this line could be removed.",
        "createdAt" : "2019-08-07T17:31:24Z",
        "updatedAt" : "2019-08-07T20:20:54Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "930c3c09-de13-41b2-aa5b-426d03cc534d",
        "parentId" : "62c74696-0bc0-4507-80dc-e5433f716003",
        "authorId" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "body" : "ha, the error is just ignored... I am going to fix it.",
        "createdAt" : "2019-08-07T17:50:17Z",
        "updatedAt" : "2019-08-07T20:20:54Z",
        "lastEditedBy" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "tags" : [
        ]
      },
      {
        "id" : "6ca1c8d9-2be7-4ba6-a75b-d543a2bdbfbc",
        "parentId" : "62c74696-0bc0-4507-80dc-e5433f716003",
        "authorId" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "body" : "I think it's a pattern to log an error message in the source of error. Otherwise it's hard to enforce all callers to log a proper error message. I will leave the error message here.",
        "createdAt" : "2019-08-07T18:28:56Z",
        "updatedAt" : "2019-08-07T20:20:54Z",
        "lastEditedBy" : "a650878f-0c10-41c7-b0fc-033031305d77",
        "tags" : [
        ]
      },
      {
        "id" : "58ccd30f-e8d9-49ca-a21a-24135010fe43",
        "parentId" : "62c74696-0bc0-4507-80dc-e5433f716003",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "sg",
        "createdAt" : "2019-08-07T19:08:48Z",
        "updatedAt" : "2019-08-07T20:20:54Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      }
    ],
    "commit" : "df0ade56c4894208133963d816cb66630b6c7413",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +117,121 @@\t\t}\n\t}\n\tklog.Errorf(\"Node %q in group %q was not found\", n.Name, zone)\n\treturn fmt.Errorf(\"node %q in group %q was not found\", n.Name, zone)\n}"
  },
  {
    "id" : "ca8174a5-e2b4-4907-bfe2-9981b95431ad",
    "prId" : 70947,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70947#pullrequestreview-174530873",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "06ee48d3-c39f-46c9-acec-a6971493526e",
        "parentId" : null,
        "authorId" : "38ca4f80-c365-4775-8981-1e56b713b07b",
        "body" : "In the spirit of what we are doing, I think it's better to call this func as `GetNoOfNodes()`",
        "createdAt" : "2018-11-12T20:54:31Z",
        "updatedAt" : "2018-11-13T07:41:03Z",
        "lastEditedBy" : "38ca4f80-c365-4775-8981-1e56b713b07b",
        "tags" : [
        ]
      },
      {
        "id" : "224096b5-b250-477c-b8d2-8451b7a84537",
        "parentId" : "06ee48d3-c39f-46c9-acec-a6971493526e",
        "authorId" : "ca571aa9-6b89-4331-b6bb-bb09f553c5d6",
        "body" : "I tried to keep it as similar as it is right now, but if that name fits better I'll change it.\r\n@Huang-Wei what do you think?",
        "createdAt" : "2018-11-13T07:34:28Z",
        "updatedAt" : "2018-11-13T07:41:03Z",
        "lastEditedBy" : "ca571aa9-6b89-4331-b6bb-bb09f553c5d6",
        "tags" : [
        ]
      },
      {
        "id" : "ddf24b25-4fed-47de-85d7-2a5f8febef6a",
        "parentId" : "06ee48d3-c39f-46c9-acec-a6971493526e",
        "authorId" : "06cbf859-1cac-4be7-80e6-3b34dcff1812",
        "body" : "Either name is fine to me.",
        "createdAt" : "2018-11-13T18:54:18Z",
        "updatedAt" : "2018-11-13T18:54:18Z",
        "lastEditedBy" : "06cbf859-1cac-4be7-80e6-3b34dcff1812",
        "tags" : [
        ]
      }
    ],
    "commit" : "c7cba7370f7b7d67b888a1066fc1fc021b2d9f56",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +186,190 @@}\n\n// NumNodes returns the number of nodes.\nfunc (nt *NodeTree) NumNodes() int {\n\tnt.mu.RLock()"
  },
  {
    "id" : "36ed9999-3e29-4c5b-97c0-d55bc61a4576",
    "prId" : 70947,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70947#pullrequestreview-174224449",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3913e584-55ee-46ab-932d-0033b12ab01a",
        "parentId" : null,
        "authorId" : "38ca4f80-c365-4775-8981-1e56b713b07b",
        "body" : "nit: Shouldn't log statement be after `numNodes--`",
        "createdAt" : "2018-11-12T20:54:54Z",
        "updatedAt" : "2018-11-13T07:41:03Z",
        "lastEditedBy" : "38ca4f80-c365-4775-8981-1e56b713b07b",
        "tags" : [
        ]
      },
      {
        "id" : "75a4f841-909d-4b9f-8ff5-a06a516bd42b",
        "parentId" : "3913e584-55ee-46ab-932d-0033b12ab01a",
        "authorId" : "ca571aa9-6b89-4331-b6bb-bb09f553c5d6",
        "body" : "They are always being done before the changes, I did not modify that",
        "createdAt" : "2018-11-13T07:39:01Z",
        "updatedAt" : "2018-11-13T07:41:03Z",
        "lastEditedBy" : "ca571aa9-6b89-4331-b6bb-bb09f553c5d6",
        "tags" : [
        ]
      }
    ],
    "commit" : "c7cba7370f7b7d67b888a1066fc1fc021b2d9f56",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +112,116 @@\t\t\t\t}\n\t\t\t\tklog.V(5).Infof(\"Removed node %v in group %v from NodeTree\", n.Name, zone)\n\t\t\t\tnt.numNodes--\n\t\t\t\treturn nil\n\t\t\t}"
  }
]