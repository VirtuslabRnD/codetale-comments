[
  {
    "id" : "b44227b0-fc41-4d2e-93d5-6349c154a4c5",
    "prId" : 60525,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/60525#pullrequestreview-101385405",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "addb2e93-db68-4c1a-86a7-f3f3f49af8e0",
        "parentId" : null,
        "authorId" : "15fb535e-c5be-47ce-a304-1cb5da5aca90",
        "body" : "Can't we have shared volumes?\r\n\r\ncc/ @msau42 ",
        "createdAt" : "2018-03-05T22:11:02Z",
        "updatedAt" : "2018-03-30T23:11:59Z",
        "lastEditedBy" : "15fb535e-c5be-47ce-a304-1cb5da5aca90",
        "tags" : [
        ]
      },
      {
        "id" : "31568a91-858e-4cbb-86a3-bcde4f6a1382",
        "parentId" : "addb2e93-db68-4c1a-86a7-f3f3f49af8e0",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "Do you care about counting bind mounts?  There is always a bind-mount (done by the container runtime) for all the volumes referenced in the container spec.\r\n\r\nAt the pod level, you can share between pods, but the number of mounts depends on the volume type.  Sharing between pods on the same node is not as common.  Typically, scheduler tries to spread pods across nodes.\r\n- In the case of NFS, each pod has its own NFS mount.\r\n- For something like GCE PD (sharing should be a rare use case), you will have only one global node mount, but a bind mount per pod.\r\n- Volume types like EmptyDir, ConfigMap, Secrets, downward api are not mounted \r\n- Hostpath volumes can be mounted or not, we can't tell from the spec.",
        "createdAt" : "2018-03-05T22:54:27Z",
        "updatedAt" : "2018-03-30T23:11:59Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "dfcdb445-fbdf-4733-a440-d6138834f050",
        "parentId" : "addb2e93-db68-4c1a-86a7-f3f3f49af8e0",
        "authorId" : "38ca4f80-c365-4775-8981-1e56b713b07b",
        "body" : "This is a function used in testing, thats why I did not bother checking that, if you think its important, I can add a check.",
        "createdAt" : "2018-03-05T22:56:39Z",
        "updatedAt" : "2018-03-30T23:11:59Z",
        "lastEditedBy" : "38ca4f80-c365-4775-8981-1e56b713b07b",
        "tags" : [
        ]
      },
      {
        "id" : "72dd93bd-67b1-4bca-bfe4-2ac239b3d33d",
        "parentId" : "addb2e93-db68-4c1a-86a7-f3f3f49af8e0",
        "authorId" : "15fb535e-c5be-47ce-a304-1cb5da5aca90",
        "body" : "Thanks Ravi for pointing out. I missed the fact that it is a test only function. We don't need to change it.",
        "createdAt" : "2018-03-06T00:50:56Z",
        "updatedAt" : "2018-03-30T23:11:59Z",
        "lastEditedBy" : "15fb535e-c5be-47ce-a304-1cb5da5aca90",
        "tags" : [
        ]
      }
    ],
    "commit" : "2aaf85d01d34a34242fdac1edb38c1b292d66953",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +35,39 @@\tvolumeCount := 0\n\tfor _, pod := range pods {\n\t\tvolumeCount += len(pod.Spec.Volumes)\n\t}\n\tif maxVolumes-volumeCount > 0 {"
  }
]