[
  {
    "id" : "75d66f34-4573-4e93-af94-6653328545fd",
    "prId" : 101466,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101466#pullrequestreview-649106288",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91f68a5e-ab57-4fa1-826a-da3e5808e02e",
        "parentId" : null,
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "can you please check if resource names declared by the node get validated by the api-server?",
        "createdAt" : "2021-04-26T16:31:13Z",
        "updatedAt" : "2021-04-30T11:01:04Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "131cd672-e0a2-4488-9e22-db81fe81a264",
        "parentId" : "91f68a5e-ab57-4fa1-826a-da3e5808e02e",
        "authorId" : "0e2b7889-1224-444e-a36d-475f9edd0703",
        "body" : "Are you referring to default resource names, or something else?",
        "createdAt" : "2021-04-26T21:55:05Z",
        "updatedAt" : "2021-04-30T11:01:04Z",
        "lastEditedBy" : "0e2b7889-1224-444e-a36d-475f9edd0703",
        "tags" : [
        ]
      },
      {
        "id" : "1a4e9096-1b31-47b1-a9b0-e0867e8e9182",
        "parentId" : "91f68a5e-ab57-4fa1-826a-da3e5808e02e",
        "authorId" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "body" : "`ValidateNode` calls [ValidateNodeResources](https://github.com/kubernetes/kubernetes/blob/master/pkg/apis/core/validation/validation.go#L4732) which checks if node resources have nonnegative value and if the resource is integer (hardcoded list or when `IsExtendedResourceName` is true) it checks if the value is still valid.\r\n\r\nSo no, node's resource names are not validated.\r\n\r\nOn the other hand [validateContainerResourceName](https://github.com/kubernetes/kubernetes/blob/master/pkg/apis/core/validation/validation.go#L4986) (invoked through ValidatePodCreate, resp. ValidatePodUpdate) is checking the resource names of pods.",
        "createdAt" : "2021-04-28T15:05:04Z",
        "updatedAt" : "2021-04-30T11:01:04Z",
        "lastEditedBy" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "tags" : [
        ]
      },
      {
        "id" : "b206ae82-bc21-4013-a479-db7bae6ad81c",
        "parentId" : "91f68a5e-ab57-4fa1-826a-da3e5808e02e",
        "authorId" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "body" : "@ahg-g even when `GetNonzeroRequestForResource` gets invoked over node's resources, it's still up to the caller to check if the resource name is valid. `GetNonzeroRequestForResource` itself does not need to know if the resource getting retrieved from a resource list is valid. It's either there or it's not.",
        "createdAt" : "2021-04-29T10:31:40Z",
        "updatedAt" : "2021-04-30T11:01:04Z",
        "lastEditedBy" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "tags" : [
        ]
      },
      {
        "id" : "818c88db-44bf-4e47-9439-1822c309ca56",
        "parentId" : "91f68a5e-ab57-4fa1-826a-da3e5808e02e",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "btw, I feel more comfortable if we checked at the beginning of the function that requests is not nil and return 0 if true.",
        "createdAt" : "2021-04-29T19:09:28Z",
        "updatedAt" : "2021-04-30T11:01:04Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "aa67499a-f901-49b7-a0b8-6658c44ef95c",
        "parentId" : "91f68a5e-ab57-4fa1-826a-da3e5808e02e",
        "authorId" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "body" : "Done",
        "createdAt" : "2021-04-30T11:01:14Z",
        "updatedAt" : "2021-04-30T11:01:14Z",
        "lastEditedBy" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "b9356df066765dc4550ee18c822cc75184b72040",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +76,80 @@\t\treturn quantity.Value()\n\tdefault:\n\t\tquantity, found := (*requests)[resource]\n\t\tif !found {\n\t\t\treturn 0"
  },
  {
    "id" : "d4be469b-83ef-49bd-b585-9fc2b679cf59",
    "prId" : 89222,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89222#pullrequestreview-396728540",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6f98c3a6-1a5a-436c-b31e-8dcc707f7582",
        "parentId" : null,
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "add unit tests for init containers and pod overhead",
        "createdAt" : "2020-04-20T19:16:00Z",
        "updatedAt" : "2020-04-22T17:09:06Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      }
    ],
    "commit" : "d54822d1934496986d7b03865e4b1ed7b53b9467",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +16,20 @@\npackage util\n\nimport (\n\tv1 \"k8s.io/api/core/v1\""
  }
]