[
  {
    "id" : "609bceea-97d2-41ee-8c97-caa65423c2de",
    "prId" : 12182,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "349d712c-63fe-46eb-9093-6e38f803812d",
        "parentId" : null,
        "authorId" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "body" : "Why can't pid lister be interfaces? \n",
        "createdAt" : "2015-08-06T20:21:25Z",
        "updatedAt" : "2015-08-07T18:18:46Z",
        "lastEditedBy" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "tags" : [
        ]
      },
      {
        "id" : "e9807370-03b9-4221-ba1a-dd86fa724e43",
        "parentId" : "349d712c-63fe-46eb-9093-6e38f803812d",
        "authorId" : "3c734967-9d67-42aa-a243-d401c1524cb6",
        "body" : "Discussed IRL - the main issue is injecting applyOomScoreAdj. \n\nAs you pointed out, an alternative design is to make an interface and fake for ioutil. NewOomAdjuster would then take in the ioutil interface. In oom_linux_test.go we would then implement and inject a particular type of fake (because we want to inspect exactly which processes the OOM score was applied to). \n\nI'm going with my current approach because IMO it's shorter/simpler :) Let me know if you think changing this is important, and I will!\n",
        "createdAt" : "2015-08-07T08:17:14Z",
        "updatedAt" : "2015-08-07T18:18:46Z",
        "lastEditedBy" : "3c734967-9d67-42aa-a243-d401c1524cb6",
        "tags" : [
        ]
      },
      {
        "id" : "9e76e29b-2b5c-4ad2-a813-4ee87a563932",
        "parentId" : "349d712c-63fe-46eb-9093-6e38f803812d",
        "authorId" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "body" : "Please add a TODO comment here.\n",
        "createdAt" : "2015-08-07T16:28:44Z",
        "updatedAt" : "2015-08-07T18:18:46Z",
        "lastEditedBy" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "tags" : [
        ]
      },
      {
        "id" : "b382da5a-be36-47ea-ac60-d92be1faa14b",
        "parentId" : "349d712c-63fe-46eb-9093-6e38f803812d",
        "authorId" : "3c734967-9d67-42aa-a243-d401c1524cb6",
        "body" : "Added!\n",
        "createdAt" : "2015-08-07T18:19:22Z",
        "updatedAt" : "2015-08-07T18:19:22Z",
        "lastEditedBy" : "3c734967-9d67-42aa-a243-d401c1524cb6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6ef3de1d5f1d4b19c154ba15f2bd4686b6036f0c",
    "line" : null,
    "diffHunk" : "@@ -1,1 +21,25 @@// TODO: make this an interface, and inject a mock ioutil struct for testing.\ntype OomAdjuster struct {\n\tpidLister                 func(cgroupName string) ([]int, error)\n\tApplyOomScoreAdj          func(pid int, oomScoreAdj int) error\n\tApplyOomScoreAdjContainer func(cgroupName string, oomScoreAdj, maxTries int) error"
  }
]