[
  {
    "id" : "87e095a4-a3b7-41e1-89e0-62c7666476c3",
    "prId" : 18231,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9150a41e-78a4-4786-afd2-38b16401ea92",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "This removes the dependency on a specific testapi group. If you think it's necessary, I can move this to another PR.\n",
        "createdAt" : "2015-12-10T23:04:54Z",
        "updatedAt" : "2015-12-14T19:24:55Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      },
      {
        "id" : "b74c9ca5-e86c-4f01-b218-b9c09da6379a",
        "parentId" : "9150a41e-78a4-4786-afd2-38b16401ea92",
        "authorId" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "body" : "Would it be possible to just pass a testapi.TestGroup into simpleclient when you make it? If so, that would warrant a separate PR. If not, this is fine.\n",
        "createdAt" : "2015-12-11T18:56:35Z",
        "updatedAt" : "2015-12-14T19:24:55Z",
        "lastEditedBy" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "tags" : [
        ]
      },
      {
        "id" : "775ce257-aafb-466b-99c2-d342ef26af80",
        "parentId" : "9150a41e-78a4-4786-afd2-38b16401ea92",
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "Do you mean instead of using `api.Scheme.ObjectKind()` to discover the group version, we should pass a testapi.TestGroup as an input argument of the `body()` function? That's feasible, but that will bloat all test code. We will need to pass a testapi.TestGroup every time we construct a response, e.g., https://github.com/kubernetes/kubernetes/blob/master/pkg/client/unversioned/pods_test.go#L47\n\nDo you think that's worthwhile?\n",
        "createdAt" : "2015-12-11T19:25:11Z",
        "updatedAt" : "2015-12-14T19:24:55Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      },
      {
        "id" : "6d56c1e9-d7fa-4d1d-944b-0b59b79f475c",
        "parentId" : "9150a41e-78a4-4786-afd2-38b16401ea92",
        "authorId" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "body" : "It might be, but let's not do it here or now. What you have is fine, let's\nmove the files and get to the final review.\n\nOn Fri, Dec 11, 2015 at 11:25 AM, Chao Xu notifications@github.com wrote:\n\n> In pkg/client/unversioned/testclient/simple/simple_testclient.go\n> https://github.com/kubernetes/kubernetes/pull/18231#discussion_r47393716\n> :\n> \n> > ```\n> >     var bs []byte\n> > ```\n> > -       if api.Scheme.Recognizes(testapi.Default.GroupVersion().WithKind(fqKind.Kind)) {\n> > -           bs, err = testapi.Default.Codec().Encode(obj)\n> > -           if err != nil {\n> > -               t.Errorf(\"unexpected encoding error: %v\", err)\n> > -           }\n> > -       } else if api.Scheme.Recognizes(testapi.Extensions.GroupVersion().WithKind(fqKind.Kind)) {\n> > -           bs, err = testapi.Extensions.Codec().Encode(obj)\n> > -           if err != nil {\n> > -               t.Errorf(\"unexpected encoding error: %v\", err)\n> > -           }\n> > -       } else {\n> > -           t.Errorf(\"unexpected kind: %v\", fqKind.Kind)\n> > -       g, found := testapi.Groups[fqKind.GroupVersion().Group]\n> \n> Do you mean instead of using api.Scheme.ObjectKind() to discover the\n> group version, we should pass a testapi.TestGroup as an input argument of\n> the body() function? That's feasible, but that will bloat all test code.\n> We will need to pass a testapi.TestGroup every time we construct a\n> response, e.g.,\n> https://github.com/kubernetes/kubernetes/blob/master/pkg/client/unversioned/pods_test.go#L47\n> \n> Do you think that's worthwhile?\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/kubernetes/kubernetes/pull/18231/files#r47393716.\n",
        "createdAt" : "2015-12-11T19:30:01Z",
        "updatedAt" : "2015-12-14T19:24:55Z",
        "lastEditedBy" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "tags" : [
        ]
      }
    ],
    "commit" : "05e3cb8bfb757042c0b963d904b69c01c090ece6",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +205,209 @@\t\t}\n\t\tvar bs []byte\n\t\tg, found := testapi.Groups[fqKind.GroupVersion().Group]\n\t\tif !found {\n\t\t\tt.Errorf(\"Group %s is not registered in testapi\", fqKind.GroupVersion().Group)"
  },
  {
    "id" : "46eb559e-addd-4583-94f9-e6aa7dbbc66a",
    "prId" : 18229,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "85afc272-57de-4a76-9505-a7a78fee31b9",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "@krousey, does this move look good to you?\n",
        "createdAt" : "2015-12-07T18:47:12Z",
        "updatedAt" : "2015-12-09T18:40:15Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      },
      {
        "id" : "a6fe2cb9-19b2-4111-9c08-3cdc0160dea8",
        "parentId" : "85afc272-57de-4a76-9505-a7a78fee31b9",
        "authorId" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "body" : "Yep\n",
        "createdAt" : "2015-12-07T19:16:58Z",
        "updatedAt" : "2015-12-09T18:40:15Z",
        "lastEditedBy" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "tags" : [
        ]
      }
    ],
    "commit" : "6f0eb521a63020b41358c6b0744608f1699e944c",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@/*\nCopyright 2015 The Kubernetes Authors All rights reserved.\n"
  }
]