[
  {
    "id" : "ce6d52de-fdf0-49ed-a59f-8c3b9b316864",
    "prId" : 35483,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/35483#pullrequestreview-7339668",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "84b7e33d-3c13-46ea-88fa-7b8acef6ca9c",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "Don't hack the pkg/restclient.\nCould you get the c.Client.(*restclient.RESTClient), modify its [versionedAPIPath](https://github.com/kubernetes/kubernetes/blob/master/pkg/client/restclient/client.go#L65), use the modified RESTClient to send request?\n",
        "createdAt" : "2016-11-04T22:40:57Z",
        "updatedAt" : "2016-11-08T00:13:43Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      },
      {
        "id" : "f0602d2d-fd3b-4e53-9e11-62813058d0ec",
        "parentId" : "84b7e33d-3c13-46ea-88fa-7b8acef6ca9c",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "How are we posting scale subresources to different API groups? I'd expect evict to be done similarly. Hard coding policy API version and pods eviction subresources here seems wrong, and exporting the versioned URL from rest client definitely seems wrong\n",
        "createdAt" : "2016-11-06T12:40:50Z",
        "updatedAt" : "2016-11-08T00:13:43Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "95fa8b42-0f28-4e31-9008-5a1eb530c2a7",
        "parentId" : "84b7e33d-3c13-46ea-88fa-7b8acef6ca9c",
        "authorId" : "cdb05f24-d700-4d96-a683-3e4de7effbf5",
        "body" : "@caesarxuchao Correct me if I'm wrong.\nBased on our offline discussion with @caesarxuchao , we have thought about using a similar approach as `scale` subresource. But what we found is no one is actually calling [Update()](https://github.com/kubernetes/kubernetes/blob/master/pkg/client/clientset_generated/internalclientset/typed/extensions/internalversion/scale_expansion.go#L49) to post `scale` subresource.\nAnd I guess if we try to call this function to post a `scale`, we will get [a similar error as eviction](https://github.com/kubernetes/kubernetes/issues/36305).\n",
        "createdAt" : "2016-11-06T19:44:51Z",
        "updatedAt" : "2016-11-08T00:13:43Z",
        "lastEditedBy" : "cdb05f24-d700-4d96-a683-3e4de7effbf5",
        "tags" : [
        ]
      }
    ],
    "commit" : "b73fae6c5594c26fb28fca397ef82c663f1e4f83",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +26,30 @@}\n\nfunc (c *evictions) Evict(eviction *policy.Eviction) error {\n\treturn c.client.Post().\n\t\tAbsPath(\"/api/v1\")."
  }
]