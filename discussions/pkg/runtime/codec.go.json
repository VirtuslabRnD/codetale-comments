[
  {
    "id" : "5d9c0880-c3c3-45d4-acab-faf5e3a6dc5a",
    "prId" : 24710,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4d187296-cf1d-4940-9d79-47809ad1cdc9",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "hmm - do we really want to close it?\nThat would mean that we cannot encode more than one object to the given stream, which doesn't sound good to me.\n",
        "createdAt" : "2016-05-05T07:25:34Z",
        "updatedAt" : "2016-05-05T16:08:25Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "a2227ff0-f7d3-4474-acb7-d1ba37488097",
        "parentId" : "4d187296-cf1d-4940-9d79-47809ad1cdc9",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "We're closing the base64 encoder, which is required to flush it.  It\ndoesn't close the stream.\n\nOn Thu, May 5, 2016 at 3:25 AM, Wojciech Tyczynski <notifications@github.com\n\n> wrote:\n> \n> In pkg/runtime/codec.go\n> https://github.com/kubernetes/kubernetes/pull/24710#discussion_r62155513\n> :\n> \n> > @@ -169,3 +170,27 @@ func (c *parameterCodec) EncodeParameters(obj Object, to unversioned.GroupVersio\n> >     }\n> >     return queryparams.Convert(obj)\n> >  }\n> > +\n> > +type base64Serializer struct {\n> > -   Serializer\n> >   +}\n> >   +\n> >   +func NewBase64Serializer(s Serializer) Serializer {\n> > -   return &base64Serializer{s}\n> >   +}\n> >   +\n> >   +func (s base64Serializer) EncodeToStream(obj Object, stream io.Writer, overrides ...unversioned.GroupVersion) error {\n> > -   e := base64.NewEncoder(base64.StdEncoding, stream)\n> > -   err := s.Serializer.EncodeToStream(obj, e, overrides...)\n> > -   e.Close()\n> \n> hmm - do we really want to close it?\n> That would mean that we cannot encode more than one object to the given\n> stream, which doesn't sound good to me.\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/kubernetes/kubernetes/pull/24710/files/e416be61b90b5dc461dc8a84a94d6ecd0d76c216#r62155513\n",
        "createdAt" : "2016-05-05T13:54:51Z",
        "updatedAt" : "2016-05-05T16:08:25Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "1fb1e680-7c35-4163-a2dd-7c8828f168f9",
        "parentId" : "4d187296-cf1d-4940-9d79-47809ad1cdc9",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Got it - thanks for explanation\n",
        "createdAt" : "2016-05-05T13:59:02Z",
        "updatedAt" : "2016-05-05T16:08:25Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "e0ebcf421654b34519cde63093075e572f4c8f90",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +183,187 @@\te := base64.NewEncoder(base64.StdEncoding, stream)\n\terr := s.Serializer.EncodeToStream(obj, e, overrides...)\n\te.Close()\n\treturn err\n}"
  },
  {
    "id" : "e5bab9a9-f2c7-46bd-a85a-4c01e60ab8cf",
    "prId" : 18487,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16627476-f2d6-44cb-b68d-7aadeb5ca5e5",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "Will the interface contain DecodeInto()?\nWill DecodeIntoWithSpecifiedVersionKind be implemented using d.Decode()?\n",
        "createdAt" : "2015-12-12T00:34:28Z",
        "updatedAt" : "2015-12-12T00:34:28Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      },
      {
        "id" : "9e264190-024e-49a6-bdf8-c6d583cb1c11",
        "parentId" : "16627476-f2d6-44cb-b68d-7aadeb5ca5e5",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "All of the decode variants have been removed and replaced (in my pr) with\nsomething slightly more flexible than DecodeIntoWithSpecificVersionKind.\nThere will be one decode and one encode method, taking options on decoding.\n\nOn Dec 11, 2015, at 7:34 PM, Chao Xu notifications@github.com wrote:\n\nIn pkg/runtime/codec.go\nhttps://github.com/kubernetes/kubernetes/pull/18487#discussion_r47421872:\n\n> +// Encode is a convenience wrapper for encoding to a []byte from an Encoder\n> +// TODO: these are transitional interfaces to reduce refactor cost as Codec is altered.\n> +func Encode(e Encoder, obj Object) ([]byte, error) {\n> - return e.Encode(obj)\n>   +}\n>   +\n>   +// Decode is a convenience wrapper for decoding data into an Object.\n>   +// TODO: these are transitional interfaces to reduce refactor cost as Codec is altered.\n>   +func Decode(d Decoder, data []byte) (Object, error) {\n> - return d.Decode(data)\n>   +}\n>   +\n>   +// DecodeInto performs a Decode into the provided object.\n>   +// TODO: these are transitional interfaces to reduce refactor cost as Codec is altered.\n>   +func DecodeInto(d Decoder, data []byte, into Object) error {\n> - return d.DecodeInto(data, into)\n\nWill the interface contain DecodeInto()?\nWill DecodeIntoWithSpecifiedVersionKind be implemented using d.Decode()?\n\n—\nReply to this email directly or view it on GitHub\nhttps://github.com/kubernetes/kubernetes/pull/18487/files#r47421872.\n",
        "createdAt" : "2015-12-12T01:34:18Z",
        "updatedAt" : "2015-12-12T01:34:18Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "1e21054134103b3758c4284f51ae7cf7a1d794c5",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +38,42 @@// TODO: these are transitional interfaces to reduce refactor cost as Codec is altered.\nfunc DecodeInto(d Decoder, data []byte, into Object) error {\n\treturn d.DecodeInto(data, into)\n}\n"
  },
  {
    "id" : "38be24ec-16b4-4aa7-92cb-de9a7dcc2c3d",
    "prId" : 17515,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f4431d10-68b7-4178-9ba5-8b3af2c1b3b6",
        "parentId" : null,
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "nit comment on this is as just an implementation check.\n",
        "createdAt" : "2015-11-19T19:52:17Z",
        "updatedAt" : "2015-11-25T17:15:52Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      }
    ],
    "commit" : "9e9b9f2da3224daa67fa3610185b5a51d7713839",
    "line" : null,
    "diffHunk" : "@@ -1,1 +78,82 @@\n// codecWrapper implements Decoder\nvar _ Decoder = &codecWrapper{}\n\n// Encode implements Codec"
  },
  {
    "id" : "b829b230-81b0-45d8-b25e-e629e1c9f8f3",
    "prId" : 5533,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "230ae095-5db1-4d98-8035-7bbf89770383",
        "parentId" : null,
        "authorId" : "8076e56f-768c-4f89-90e6-045ef34e1525",
        "body" : "What's the point of this line?\n",
        "createdAt" : "2015-03-17T17:25:56Z",
        "updatedAt" : "2015-03-20T04:04:57Z",
        "lastEditedBy" : "8076e56f-768c-4f89-90e6-045ef34e1525",
        "tags" : [
        ]
      },
      {
        "id" : "27835b26-35d3-49a0-8af3-60fe2cbec639",
        "parentId" : "230ae095-5db1-4d98-8035-7bbf89770383",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "To prove that yamlCodec implements Codec.  We started doing that in other places where there's a type that _should_ implement a named interface.\n\n----- Original Message -----\n\n> >  // CodecFor returns a Codec that invokes Encode with the provided version.\n> >  func CodecFor(scheme *Scheme, version string) Codec {\n> >     return &codecWrapper{scheme, version}\n> >  }\n> > \n> > +// yamlCodec converts YAML passed to the Decoder methods to JSON.\n> > +type yamlCodec struct {\n> > -   // a Codec for JSON\n> > -   Codec\n> >   +}\n> >   +\n> >   +// yamlCodec implements Codec\n> >   +var _ Codec = yamlCodec{}\n> \n> What's the point of this line?\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/GoogleCloudPlatform/kubernetes/pull/5533/files#r26594752\n",
        "createdAt" : "2015-03-17T17:35:07Z",
        "updatedAt" : "2015-03-20T04:04:57Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "6918a4d32ed200e6e5e4715fcf049c32d86c5488",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +33,37 @@\n// yamlCodec implements Codec\nvar _ Codec = yamlCodec{}\n\n// YAMLDecoder adds YAML decoding support to a codec that supports JSON."
  }
]