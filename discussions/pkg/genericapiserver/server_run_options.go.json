[
  {
    "id" : "489f298d-6ffc-44c0-a6d3-eee571c111a3",
    "prId" : 24787,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "adc105c7-8ea0-44fa-9be9-f5565cc7038b",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "We're only using this to build a `ResourceEncodingConfig`, right?  Should we refactor this to return that interface?\n",
        "createdAt" : "2016-04-26T12:58:51Z",
        "updatedAt" : "2016-05-10T07:57:31Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "0827cdae-06b5-4e15-9bf0-f4ee381eb985",
        "parentId" : "adc105c7-8ea0-44fa-9be9-f5565cc7038b",
        "authorId" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "body" : "Yes this is to build a ResourceEncodingConfig.\nI assume you mean that this should return DefaultResourceEncodingConfig.\n\nI think DefaultResourceEncodingConfig is a lot more powerful than what this function returns. For ex: this only has StorageEncoding and no InMemoryEncoding. Also this does not have per resource overrides.\nIf I change this to return DefaultResourceEncodingConfig, then I will also have to add more logic to the code in StorageFactoryBuilder to merge two DefaultResourceEncodingConfigs.\nI think we will be adding some unnecessary complexity by adding that.\n\nI think it will be good to make that change, when in future, we allow users to do more of what DefaultResourceEncodingConfig allows (example specify per resource overrides in command line arguments)\n",
        "createdAt" : "2016-04-27T20:43:31Z",
        "updatedAt" : "2016-05-10T07:57:31Z",
        "lastEditedBy" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ffa3b4586923fbeccfac18777cdb09398b20490",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +107,111 @@// StorageGroupsToEncodingVersion returns a map from group name to group version,\n// computed from the s.DeprecatedStorageVersion and s.StorageVersions flags.\nfunc (s *ServerRunOptions) StorageGroupsToEncodingVersion() (map[string]unversioned.GroupVersion, error) {\n\tstorageVersionMap := map[string]unversioned.GroupVersion{}\n\tif s.DeprecatedStorageVersion != \"\" {"
  },
  {
    "id" : "60933254-1f27-48b5-bb76-2d481fee28b9",
    "prId" : 24787,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c3f490c2-7157-4527-a38f-f60efaf3efd1",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Please document what this is still used for.\n",
        "createdAt" : "2016-04-28T22:34:34Z",
        "updatedAt" : "2016-05-10T07:57:31Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "c20bc6be-855b-415e-af2c-23ccab72ecbe",
        "parentId" : "c3f490c2-7157-4527-a38f-f60efaf3efd1",
        "authorId" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "body" : "Done\n",
        "createdAt" : "2016-05-05T00:18:13Z",
        "updatedAt" : "2016-05-10T07:57:31Z",
        "lastEditedBy" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ffa3b4586923fbeccfac18777cdb09398b20490",
    "line" : null,
    "diffHunk" : "@@ -1,1 +52,56 @@\tCorsAllowedOriginList []string\n\t// Used to specify the storage version that should be used for the legacy v1 api group.\n\tDeprecatedStorageVersion  string\n\tEnableLogsSupport         bool\n\tEnableProfiling           bool"
  },
  {
    "id" : "1c21806d-9b52-470c-9560-56288a1ff3e6",
    "prId" : 24787,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1aa487b1-26e1-457d-98b6-48fb68d7214e",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Is this really needed? If the deprecated one is needed, why not the non-deprecated one?\n",
        "createdAt" : "2016-04-28T22:37:35Z",
        "updatedAt" : "2016-05-10T07:57:31Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "930879f9-0f8d-4b8e-b954-dadba02cf5ea",
        "parentId" : "1aa487b1-26e1-457d-98b6-48fb68d7214e",
        "authorId" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "body" : "We dont need it since users can not set it to any other value than \"v1\".\nBut I think openshift still supports v1beta3 so they might need it.\ncc @smarterclayton \n\nMy guess for not using the non-deprecated one is that this check is only for old users. New users just use v1. By the time, we deprecated this and introduced the non deprecated one, we were only supporting one version of the legacy group: v1. So no one uses the new flag to override version of legacy group.\n",
        "createdAt" : "2016-05-05T00:14:40Z",
        "updatedAt" : "2016-05-10T07:57:31Z",
        "lastEditedBy" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "tags" : [
        ]
      },
      {
        "id" : "782c8721-3e9f-4ada-9628-bb70bdb082e1",
        "parentId" : "1aa487b1-26e1-457d-98b6-48fb68d7214e",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "I think we're still using it, but @deads2k would know.\n\nWe'll probably deprecate a v1alpha1 very soon.\n\nOn Wed, May 4, 2016 at 8:14 PM, Nikhil Jindal notifications@github.com\nwrote:\n\n> In pkg/genericapiserver/server_run_options.go\n> https://github.com/kubernetes/kubernetes/pull/24787#discussion_r62135292\n> :\n> \n> > ```\n> > }\n> > ```\n> > \n> > +\n> > -   return nil\n> >   +}\n> >   +\n> >   +func (s *ServerRunOptions) NewClient() (clientset.Interface, error) {\n> > -   clientConfig := &restclient.Config{\n> > -       Host: net.JoinHostPort(s.InsecureBindAddress.String(), strconv.Itoa(s.InsecurePort)),\n> > -       // Increase QPS limits. The client is currently passed to all admission plugins,\n> > -       // and those can be throttled in case of higher load on apiserver - see #22340 and #22422\n> > -       // for more details. Once #22422 is fixed, we may want to remove it.\n> > -       QPS:   50,\n> > -       Burst: 100,\n> > -   }\n> > -   if len(s.DeprecatedStorageVersion) != 0 {\n> \n> We dont need it since users can not set it to any other value than \"v1\".\n> But I think openshift still supports v1beta3 so they might need it.\n> cc @smarterclayton https://github.com/smarterclayton\n> \n> My guess for not using the non-deprecated one is that this check is only\n> for old users. New users just use v1. By the time, we deprecated this and\n> introduced the non deprecated one, we were only supporting one version of\n> the legacy group: v1. So no one uses the new flag to override version of\n> legacy group.\n> \n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/kubernetes/kubernetes/pull/24787/files/ed3109f420cace466629c7491699ffc3bcc0ff86#r62135292\n",
        "createdAt" : "2016-05-05T03:08:25Z",
        "updatedAt" : "2016-05-10T07:57:31Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "66702aaf-f25e-4719-8b1f-f3132500570a",
        "parentId" : "1aa487b1-26e1-457d-98b6-48fb68d7214e",
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "> We dont need it since users can not set it to any other value than \"v1\".\n> But I think openshift still supports v1beta3 so they might need it.\n> cc @smarterclayton\n\nThanks for checking.  No, we don't use that particular flag.  We have a separate config file for managing the storage configuration.\n",
        "createdAt" : "2016-05-05T12:17:45Z",
        "updatedAt" : "2016-05-10T07:57:31Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "ea804bd7-35b9-4be3-b6d9-5decd3b4cb0a",
        "parentId" : "1aa487b1-26e1-457d-98b6-48fb68d7214e",
        "authorId" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "body" : "Great, I will send a PR to remove it (will let the flag remain, so that users dont get an error if they set it, but we will not use it anywhere in the code).\n",
        "createdAt" : "2016-05-05T19:30:13Z",
        "updatedAt" : "2016-05-10T07:57:31Z",
        "lastEditedBy" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ffa3b4586923fbeccfac18777cdb09398b20490",
    "line" : 144,
    "diffHunk" : "@@ -1,1 +164,168 @@\t\tBurst: 100,\n\t}\n\tif len(s.DeprecatedStorageVersion) != 0 {\n\t\tgv, err := unversioned.ParseGroupVersion(s.DeprecatedStorageVersion)\n\t\tif err != nil {"
  }
]