[
  {
    "id" : "5a2816c9-74ee-4f64-8590-ca357eae35a4",
    "prId" : 14881,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5b86bfdd-4a10-4fa2-bdba-daba56292402",
        "parentId" : null,
        "authorId" : "e17c0720-a868-4134-a8e1-a3896b8caa8b",
        "body" : "If `stress` runs these tests 10,000 times without flakes, would you say this TODO is safe to remove?\n",
        "createdAt" : "2015-09-30T23:22:58Z",
        "updatedAt" : "2015-10-14T23:19:13Z",
        "lastEditedBy" : "e17c0720-a868-4134-a8e1-a3896b8caa8b",
        "tags" : [
        ]
      },
      {
        "id" : "b7b4cddd-0c0b-4616-b3c5-7d7ce11a422c",
        "parentId" : "5b86bfdd-4a10-4fa2-bdba-daba56292402",
        "authorId" : "e17c0720-a868-4134-a8e1-a3896b8caa8b",
        "body" : "Ah, the involved tests are from another package.\n",
        "createdAt" : "2015-09-30T23:23:25Z",
        "updatedAt" : "2015-10-14T23:19:13Z",
        "lastEditedBy" : "e17c0720-a868-4134-a8e1-a3896b8caa8b",
        "tags" : [
        ]
      },
      {
        "id" : "612b00a1-cea3-463a-970d-fd2c9945ea34",
        "parentId" : "5b86bfdd-4a10-4fa2-bdba-daba56292402",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Basically I'm being lazzzzy here because I need to stop being lazzzzy about my PR reviews. :-(\n",
        "createdAt" : "2015-09-30T23:53:28Z",
        "updatedAt" : "2015-10-14T23:19:13Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "57c6dd93ea714154cc3fd39b457f23298ca98402",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +41,45 @@type Broadcaster struct {\n\t// TODO: see if this lock is needed now that new watchers go through\n\t// the incoming channel.\n\tlock sync.Mutex\n"
  },
  {
    "id" : "08e3b75a-f097-4070-9af0-7f858cde30ef",
    "prId" : 1321,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "02009318-a824-411f-bac4-6b177da75e97",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "It should be possible to repro the race without this, no?\n",
        "createdAt" : "2014-09-16T00:37:17Z",
        "updatedAt" : "2014-09-16T00:37:17Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "cbd70628-0b85-4de5-97fb-8f7ee96a4b15",
        "parentId" : "02009318-a824-411f-bac4-6b177da75e97",
        "authorId" : "2a0af86e-aa24-4092-b8fc-bcef3e8aa577",
        "body" : "I can sleep in the test if you'd prefer. That way the mutex _should_ be held in distribute but it isn't guaranteed to be.\n",
        "createdAt" : "2014-09-16T01:20:58Z",
        "updatedAt" : "2014-09-16T01:20:58Z",
        "lastEditedBy" : "2a0af86e-aa24-4092-b8fc-bcef3e8aa577",
        "tags" : [
        ]
      },
      {
        "id" : "d7f78ad2-f7ae-429d-8d91-ed148f1436b7",
        "parentId" : "02009318-a824-411f-bac4-6b177da75e97",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Hm, can't you just not read from the watch? Wouldn't that guarantee that the mutex is held?\n",
        "createdAt" : "2014-09-16T01:23:21Z",
        "updatedAt" : "2014-09-16T01:23:21Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "9d0367dd-e866-471c-af4a-4a7fdcc3acff",
        "parentId" : "02009318-a824-411f-bac4-6b177da75e97",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Oh, I see, if you do that then you have no way of knowing if it's even tried to distribute a message yet.\n",
        "createdAt" : "2014-09-16T01:24:12Z",
        "updatedAt" : "2014-09-16T01:24:12Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "00cb6f94-8455-4e1f-86e1-136f255e83e3",
        "parentId" : "02009318-a824-411f-bac4-6b177da75e97",
        "authorId" : "2a0af86e-aa24-4092-b8fc-bcef3e8aa577",
        "body" : "Hmm. I just had an idea. Make two watchers and receive on both of them in a\nsingle select. Then when one gets an event, Stop the other one.\nOn Sep 15, 2014 6:24 PM, \"Daniel Smith\" notifications@github.com wrote:\n\n> In pkg/watch/mux.go:\n> \n> > @@ -114,20 +115,28 @@ func (m *Mux) loop() {\n> >     m.closeAll()\n> >  }\n> > \n> > +var testHookMuxDistribute = func() {}\n> \n> Oh, I see, if you do that then you have no way of knowing if it's even\n> tried to distribute a message yet.\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/GoogleCloudPlatform/kubernetes/pull/1321/files#r17579206\n> .\n",
        "createdAt" : "2014-09-16T01:35:01Z",
        "updatedAt" : "2014-09-16T01:35:01Z",
        "lastEditedBy" : "2a0af86e-aa24-4092-b8fc-bcef3e8aa577",
        "tags" : [
        ]
      },
      {
        "id" : "c9697576-87f6-460f-b92d-93bac21acb3d",
        "parentId" : "02009318-a824-411f-bac4-6b177da75e97",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Ah, great idea! Can you make another PR since I just merged this one? Thanks!\n",
        "createdAt" : "2014-09-16T01:37:09Z",
        "updatedAt" : "2014-09-16T01:37:09Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "b87baff8-5dac-464c-81db-dc8a554a7cd2",
        "parentId" : "02009318-a824-411f-bac4-6b177da75e97",
        "authorId" : "2a0af86e-aa24-4092-b8fc-bcef3e8aa577",
        "body" : "Sure.\n",
        "createdAt" : "2014-09-16T01:40:05Z",
        "updatedAt" : "2014-09-16T01:40:05Z",
        "lastEditedBy" : "2a0af86e-aa24-4092-b8fc-bcef3e8aa577",
        "tags" : [
        ]
      }
    ],
    "commit" : "b9dcfbad761db2ad9ae27847f6f794286872b0c7",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +116,120 @@}\n\nvar testHookMuxDistribute = func() {}\n\n// distribute sends event to all watchers. Blocking."
  },
  {
    "id" : "607f5deb-51fa-48c5-a195-21131516681d",
    "prId" : 906,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0f86f574-2703-486d-bd16-f946a3624014",
        "parentId" : null,
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "shouldn't there be a space after <- ?\n",
        "createdAt" : "2014-08-16T03:34:34Z",
        "updatedAt" : "2014-08-17T02:07:51Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      },
      {
        "id" : "188f848d-9152-48ec-a05e-a77b8dafc9ca",
        "parentId" : "0f86f574-2703-486d-bd16-f946a3624014",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Not according to gofmt.\n",
        "createdAt" : "2014-08-17T02:00:39Z",
        "updatedAt" : "2014-08-17T02:07:51Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b2867fd8a7fdb4cb065f46a227b527d7651c504",
    "line" : 106,
    "diffHunk" : "@@ -1,1 +104,108 @@\t// bug in watch.Mux.\n\tfor {\n\t\tevent, ok := <-m.incoming\n\t\tif !ok {\n\t\t\tbreak"
  },
  {
    "id" : "0cb5aeae-a091-4b76-970b-27d13602e4c2",
    "prId" : 906,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2546f555-52ef-42c5-8039-a8db28262845",
        "parentId" : null,
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "Given that this is the only caller of the stopWatching function, I'm not sure its worth separating it out into a different function.\n",
        "createdAt" : "2014-08-16T03:35:33Z",
        "updatedAt" : "2014-08-17T02:07:51Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      },
      {
        "id" : "838f0a05-d582-4fc1-a146-d3057d32ec5b",
        "parentId" : "2546f555-52ef-42c5-8039-a8db28262845",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "I felt like, since it needs the lock and the map from the Mux, it really deserved to be a function on Mux. I can change it if you feel strongly.\n",
        "createdAt" : "2014-08-17T02:02:42Z",
        "updatedAt" : "2014-08-17T02:07:51Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b2867fd8a7fdb4cb065f46a227b527d7651c504",
    "line" : 138,
    "diffHunk" : "@@ -1,1 +136,140 @@// Stop stops watching and removes mw from its list.\nfunc (mw *muxWatcher) Stop() {\n\tmw.m.stopWatching(mw.id)\n}"
  }
]