[
  {
    "id" : "fe07aa96-0aae-4db7-a027-1f5f9f0f8e47",
    "prId" : 92874,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/92874#pullrequestreview-444131059",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f6f67d79-97e0-463b-9a67-d9d39a0e2634",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "this is responsible for matching field selector keys in the events/v1 API to fieldset keys set by `event/strategy.go#SelectableFields`... use `regarding` instead of `involvedObject`, and `reportingController` instead of `source`",
        "createdAt" : "2020-07-07T18:05:39Z",
        "updatedAt" : "2020-07-08T12:46:47Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "e010436e2acc96d710620a91ceaaa86becca4060",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +76,80 @@\t\t\"metadata.name\":             \"metadata.name\",\n\t}\n\treturn scheme.AddFieldLabelConversionFunc(SchemeGroupVersion.WithKind(\"Event\"),\n\t\tfunc(label, value string) (string, string, error) {\n\t\t\tmappedLabel, ok := mapping[label]"
  },
  {
    "id" : "aca686a6-627b-4991-91ed-3b6ca953d0fe",
    "prId" : 91645,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/91645#pullrequestreview-439498994",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "parentId" : null,
        "authorId" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "body" : "we might want to be converting `reportingController` to Source, see: https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/client-go/tools/events/event_recorder.go#L88 cc @wojtek-t ",
        "createdAt" : "2020-06-17T10:23:07Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "tags" : [
        ]
      },
      {
        "id" : "bf81a28c-d9c0-42b1-b6e5-759c59725f66",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "781e3c0d-abea-40c3-b85c-b2e6c69c0f1b",
        "body" : "I added a conversion for that and removed the todo in event_recorder file. Let me know if there's anything else I should change.",
        "createdAt" : "2020-06-17T19:51:23Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "781e3c0d-abea-40c3-b85c-b2e6c69c0f1b",
        "tags" : [
        ]
      },
      {
        "id" : "d36ccfd5-5892-41e1-ab34-6240e1fa910a",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "This is not what @yastij was referring for - what he meant was not \"DeprecatedSource\" byt \"reportingController\".\r\n\r\nSo IIUC what we should is:\r\n- check if DeprecatedSource is false or \"DeprecatedSource == ReportingController\" and then convert.\r\n\r\nBut what if those are not equal? I'm not entirely sure we can do that safely now.",
        "createdAt" : "2020-06-22T09:37:56Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "b6120c76-1b0c-4b8e-ac8a-c55be62c77c0",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "body" : "@wojtek-t is right. Ideally we need to codify the intent in the conversion so it's even enforced through custom clients. what we could do is something like:\r\n\r\n- from v1 -> core/v1, if DeprecatedSource != ReportingController, ReportingController is preferred, because if it came through a `core/v1` conversion we are pretty sure that they are equal\r\n- from core/v1 -> v1, ensure we populate DeprecatedSource and ReportingController with the value provided in the `Source` field",
        "createdAt" : "2020-06-22T10:40:44Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "tags" : [
        ]
      },
      {
        "id" : "8dffe2e2-eacf-4796-936b-f831b2c43994",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "781e3c0d-abea-40c3-b85c-b2e6c69c0f1b",
        "body" : "Sorry I don't fully get what should be changed here, especially from v1 -> corev1. From what I understand, If `in.DeprecatedSource.Component == in.ReportingController`, we convert `in.DeprecatedSource` to `out.Source`; otherwise, we assign `in.ReportingController` to `out.Source.Component`? Correct me if I'm wrong.\r\nFor corev1 -> v1, it looks like what I did is correct?",
        "createdAt" : "2020-06-23T20:12:20Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "781e3c0d-abea-40c3-b85c-b2e6c69c0f1b",
        "tags" : [
        ]
      },
      {
        "id" : "0544b0f7-85c2-4374-92d6-18fdb6de46a2",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "body" : "Yes",
        "createdAt" : "2020-06-25T13:50:14Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "tags" : [
        ]
      },
      {
        "id" : "c3ef2792-5276-4d44-852d-bfb6d2813a77",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "781e3c0d-abea-40c3-b85c-b2e6c69c0f1b",
        "body" : "This won't pass the TestRoundTripTypes test.\r\nIn the test, both Source.Component and ReportingController of `core/v1` event are set but with different values. After the roundtrip, the original ReportingController will be forgotten. Do we still want to do the conversion? If yes, did I miss something?",
        "createdAt" : "2020-06-29T15:35:52Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "781e3c0d-abea-40c3-b85c-b2e6c69c0f1b",
        "tags" : [
        ]
      },
      {
        "id" : "7a2422c1-1ebd-4059-9153-d85b90843402",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "body" : "@liggitt @wojtek-t - can we customize fuzz testing for this ? If that's something not supported today, then I'm not sure If worth doing",
        "createdAt" : "2020-06-29T17:02:39Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "tags" : [
        ]
      },
      {
        "id" : "18e15fc9-d4ca-4a46-9116-ffc1b1133345",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "i would say let's ignore it and do the same we did for v1beta1: https://github.com/kubernetes/kubernetes/blob/master/pkg/apis/events/v1beta1/conversion.go",
        "createdAt" : "2020-06-29T18:30:55Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "b948b20a-2648-47be-b3c3-766a6775e2ae",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "body" : "that's fair",
        "createdAt" : "2020-06-29T19:24:35Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "e2ca6907-6765-444e-8bf6-1452233150d6",
        "tags" : [
        ]
      },
      {
        "id" : "7b644aaf-b6c3-4639-b02b-f25eb956e4a9",
        "parentId" : "50e4f7eb-7780-4ff8-a850-91d08b328795",
        "authorId" : "781e3c0d-abea-40c3-b85c-b2e6c69c0f1b",
        "body" : "Cool, I've removed these conversions.",
        "createdAt" : "2020-06-29T21:03:53Z",
        "updatedAt" : "2020-07-01T14:50:59Z",
        "lastEditedBy" : "781e3c0d-abea-40c3-b85c-b2e6c69c0f1b",
        "tags" : [
        ]
      }
    ],
    "commit" : "c90330d8f4ca9fd980df24044960a4d8bb28a780",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +31,35 @@\t\treturn err\n\t}\n\tif err := k8s_api_v1.Convert_v1_EventSource_To_core_EventSource(&in.DeprecatedSource, &out.Source, s); err != nil {\n\t\treturn err\n\t}"
  }
]