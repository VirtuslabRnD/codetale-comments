[
  {
    "id" : "2ec43dcc-378e-4e4d-8c07-74e936ea5388",
    "prId" : 99641,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/99641#pullrequestreview-604857918",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b19d5bb9-9118-45db-8093-4101b53bfec5",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "Should the test also toggle the feature flag on/off?",
        "createdAt" : "2021-03-05T02:03:32Z",
        "updatedAt" : "2021-03-08T20:00:14Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "4b3c3e3b-72f8-4292-93ce-92032503918d",
        "parentId" : "b19d5bb9-9118-45db-8093-4101b53bfec5",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "It wouldn't make any difference here and it would make this test rather complicated.\r\n\r\nBut a dedicated test for the effect of the feature gate makes sense. I added `TestCSIDriverStorageCapacityEnablement` which walks through all four combinations (feature on/off, field set/not set).",
        "createdAt" : "2021-03-05T07:10:38Z",
        "updatedAt" : "2021-03-08T20:00:14Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      }
    ],
    "commit" : "4c7e4c6316077aaf7822b1d4166ef54218ecee80",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +1667,1671 @@\tnotPodInfoOnMount := false\n\tnotRequiresRepublish := false\n\tstorageCapacity := true\n\tnotStorageCapacity := false\n\tsupportedFSGroupPolicy := storage.FileFSGroupPolicy"
  },
  {
    "id" : "42357916-48f5-4793-b4be-9b5588a66857",
    "prId" : 95739,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95739#pullrequestreview-522926256",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f11fa2dd-5b15-452e-aed0-80d035f5f46c",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "In the error cases below, can we add some tests for fsgrouppolicy?",
        "createdAt" : "2020-10-31T01:17:56Z",
        "updatedAt" : "2020-11-12T22:09:57Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "f406ae51-6feb-4fb8-9ae1-761eb2674cb4",
        "parentId" : "f11fa2dd-5b15-452e-aed0-80d035f5f46c",
        "authorId" : "1a46cba5-dd9b-4c03-b94c-4dbfb64198e4",
        "body" : "I've added a couple different checks in the invalid cases below - one for it being modified, and another for an invalid value being defined.",
        "createdAt" : "2020-11-03T22:40:09Z",
        "updatedAt" : "2020-11-12T22:09:57Z",
        "lastEditedBy" : "1a46cba5-dd9b-4c03-b94c-4dbfb64198e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "38071e74cf993b67290e9a458537e0a8460e8846",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +1910,1914 @@\t\t\tt.Errorf(\"expected success for %+v: %v\", csiDriver, errs)\n\t\t}\n\t}\n\n\t// Each test case changes exactly one field. None of that is valid."
  },
  {
    "id" : "2752ace4-37f2-427d-8e00-06649f90146f",
    "prId" : 92001,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/92001#pullrequestreview-444194290",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f2d447b8-1b56-4a60-8fe5-569eeda0f36c",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "Test case for invalid string?",
        "createdAt" : "2020-07-01T22:08:45Z",
        "updatedAt" : "2020-07-12T03:29:51Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "d2639058-521e-4407-9fb4-9182a316fdd8",
        "parentId" : "f2d447b8-1b56-4a60-8fe5-569eeda0f36c",
        "authorId" : "1a46cba5-dd9b-4c03-b94c-4dbfb64198e4",
        "body" : "I did this in two steps:\r\n\r\n>\tinvalidFSGroupPolicy := storage.HeuristicFSGroupPolicy\r\n>\tinvalidFSGroupPolicy = \"invalid-mode\"\r\n\r\nBut there is now a test for an invalid mode, which fails as expected.",
        "createdAt" : "2020-07-07T19:40:01Z",
        "updatedAt" : "2020-07-12T03:29:51Z",
        "lastEditedBy" : "1a46cba5-dd9b-4c03-b94c-4dbfb64198e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "ade2f83685faf1b1f869fe321c4fd9c8a002d3fc",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +1774,1778 @@\t\t},\n\t\t{\n\t\t\tObjectMeta: metav1.ObjectMeta{Name: driverName},\n\t\t\tSpec: storage.CSIDriverSpec{\n\t\t\t\tAttachRequired: &attachNotRequired,"
  },
  {
    "id" : "cb2dad04-bcc1-4ff0-a0a6-3567d7a04a90",
    "prId" : 80568,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80568#pullrequestreview-269718438",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9a9a01d5-97b2-4365-b0cf-cf7fb684d1cc",
        "parentId" : null,
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "also test nil, even though we default it, just in case defaulting changes in the future",
        "createdAt" : "2019-08-01T15:54:59Z",
        "updatedAt" : "2019-08-22T06:59:14Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "8270fe81e4916b599c8a9a83552a5381b434dd7f",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +1808,1812 @@\t\t\t},\n\t\t},\n\t\t{\n\t\t\t// invalid mode\n\t\t\tObjectMeta: metav1.ObjectMeta{Name: driverName},"
  },
  {
    "id" : "11d1805a-09aa-4bd8-a004-8cbd945caa09",
    "prId" : 80568,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80568#pullrequestreview-270813152",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "26b701ee-876a-44c0-b6ee-05b03f506d09",
        "parentId" : null,
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "Is there a test for the unhappy path of no mode specified at all ?",
        "createdAt" : "2019-08-03T01:56:24Z",
        "updatedAt" : "2019-08-22T06:59:14Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      },
      {
        "id" : "c365bc92-8c05-4c9c-b19d-ebfae87e0526",
        "parentId" : "26b701ee-876a-44c0-b6ee-05b03f506d09",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "Specifying the mode is optional, therefore such a CSIDriverInfo doesn't get rejected (I assume that is what you mean with \"unhappy\"). The default is \"Persistent\".\r\n\r\nThis is covered by the various existing cases that don't have `VolumeModes`: they remain valid.\r\n",
        "createdAt" : "2019-08-05T14:42:58Z",
        "updatedAt" : "2019-08-22T06:59:14Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      }
    ],
    "commit" : "8270fe81e4916b599c8a9a83552a5381b434dd7f",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +1727,1731 @@\t\t\t},\n\t\t},\n\t\t{\n\t\t\tObjectMeta: metav1.ObjectMeta{Name: driverName},\n\t\t\tSpec: storage.CSIDriverSpec{"
  },
  {
    "id" : "5943272e-77e4-472e-9bc3-979e7de55109",
    "prId" : 80568,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80568#pullrequestreview-272803202",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e9efd226-cf2e-4343-b505-8ef4d02d360c",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "I realized we're missing a unit test for `ValidateCSIDriverUpdate`. Could you look into adding one that tries to modify volumeModes?",
        "createdAt" : "2019-08-08T01:08:18Z",
        "updatedAt" : "2019-08-22T06:59:14Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "d105e557-cfd6-4c44-b36c-ed78a15bf842",
        "parentId" : "e9efd226-cf2e-4343-b505-8ef4d02d360c",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "Okay.",
        "createdAt" : "2019-08-08T09:44:59Z",
        "updatedAt" : "2019-08-22T06:59:14Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      },
      {
        "id" : "9c84f6b9-4221-4565-8291-d358425dea64",
        "parentId" : "e9efd226-cf2e-4343-b505-8ef4d02d360c",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "Still open, will follow shortly.",
        "createdAt" : "2019-08-08T19:42:32Z",
        "updatedAt" : "2019-08-22T06:59:14Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      },
      {
        "id" : "8f2a9cb8-2fa6-456a-8e1d-7daae2e23ec0",
        "parentId" : "e9efd226-cf2e-4343-b505-8ef4d02d360c",
        "authorId" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "body" : "Done, in a separate commit because it isn't directly related to some of the other changes.",
        "createdAt" : "2019-08-08T19:56:15Z",
        "updatedAt" : "2019-08-22T06:59:14Z",
        "lastEditedBy" : "ba0b9c6e-ec4c-4d1b-832e-751e6109bf38",
        "tags" : [
        ]
      }
    ],
    "commit" : "8270fe81e4916b599c8a9a83552a5381b434dd7f",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +1724,1728 @@\t\t\tSpec: storage.CSIDriverSpec{\n\t\t\t\tAttachRequired: &attachNotRequired,\n\t\t\t\tPodInfoOnMount: &notPodInfoOnMount,\n\t\t\t},\n\t\t},"
  },
  {
    "id" : "702b5273-c545-46af-adfd-1201eead33c2",
    "prId" : 80568,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80568#pullrequestreview-272836101",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f10b7f46-bdda-4cf9-8579-653cd55cf290",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "These first few error test cases are actually testing two changes:\r\n* Changing name or AttachedRequired, PodInfoOnMount fields\r\n* Dropping VolumeLifecycleModes\r\n\r\nIt would be better if the error case only changed one thing at a time so that one failure reason doesn't mask the other.",
        "createdAt" : "2019-08-08T21:02:01Z",
        "updatedAt" : "2019-08-22T06:59:14Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      }
    ],
    "commit" : "8270fe81e4916b599c8a9a83552a5381b434dd7f",
    "line" : 103,
    "diffHunk" : "@@ -1,1 +1858,1862 @@\n\terrorCases := []storage.CSIDriver{\n\t\t{\n\t\t\tObjectMeta: metav1.ObjectMeta{Name: invalidName},\n\t\t\tSpec: storage.CSIDriverSpec{"
  },
  {
    "id" : "527b7752-263e-46e6-9140-c9bb87f9fb0c",
    "prId" : 80568,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80568#pullrequestreview-272836101",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b4d794e2-bceb-4904-8f7b-15bb0e6b24fa",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "update comment",
        "createdAt" : "2019-08-08T21:02:37Z",
        "updatedAt" : "2019-08-22T06:59:14Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      }
    ],
    "commit" : "8270fe81e4916b599c8a9a83552a5381b434dd7f",
    "line" : 126,
    "diffHunk" : "@@ -1,1 +1881,1885 @@\t\t},\n\t\t{\n\t\t\t// AttachRequired not set\n\t\t\tObjectMeta: metav1.ObjectMeta{Name: driverName},\n\t\t\tSpec: storage.CSIDriverSpec{"
  },
  {
    "id" : "dc599357-ca3e-493a-beff-2802e7e6364c",
    "prId" : 77595,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77595#pullrequestreview-235946093",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c2fe1922-ebfb-4e2f-8d31-0564f3e9c421",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "Can you also add a test case to `TestCSINodeUpdateValidation` to check that we can't update the allocatable field ",
        "createdAt" : "2019-05-10T00:58:12Z",
        "updatedAt" : "2019-06-25T14:31:23Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "026490c9-e511-4435-87db-50211eba1e98",
        "parentId" : "c2fe1922-ebfb-4e2f-8d31-0564f3e9c421",
        "authorId" : "255dd885-bee4-4c1f-baef-ba11f903dc5c",
        "body" : "Done",
        "createdAt" : "2019-05-10T09:40:58Z",
        "updatedAt" : "2019-06-25T14:31:23Z",
        "lastEditedBy" : "255dd885-bee4-4c1f-baef-ba11f903dc5c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6abc04d059b42ffdc1b68f5b847f18e57ac0680d",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +1399,1403 @@\t\t},\n\t\t{\n\t\t\t// Volume limits with negative number\n\t\t\tObjectMeta: metav1.ObjectMeta{Name: \"foo11\"},\n\t\t\tSpec: storage.CSINodeSpec{"
  },
  {
    "id" : "c4d6b70e-813f-43ee-94fe-d26eace16882",
    "prId" : 77595,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77595#pullrequestreview-238810199",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16116d90-93dd-4fdd-8b75-15e77d0bda1a",
        "parentId" : null,
        "authorId" : "255dd885-bee4-4c1f-baef-ba11f903dc5c",
        "body" : "This case was meant to test topology keys, not node id. ",
        "createdAt" : "2019-05-17T08:57:49Z",
        "updatedAt" : "2019-06-25T14:31:23Z",
        "lastEditedBy" : "255dd885-bee4-4c1f-baef-ba11f903dc5c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6abc04d059b42ffdc1b68f5b847f18e57ac0680d",
    "line" : 115,
    "diffHunk" : "@@ -1,1 +1571,1575 @@\t\t\t\t\t{\n\t\t\t\t\t\tName:         \"io.kubernetes.storage.csi.driver-1\",\n\t\t\t\t\t\tNodeID:       nodeID,\n\t\t\t\t\t\tTopologyKeys: []string{\"company.com/zone1\", \"company.com/zone2\"},\n\t\t\t\t\t},"
  },
  {
    "id" : "15d7f3bc-7013-4e96-ad03-9c81daac8730",
    "prId" : 66843,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66843#pullrequestreview-146944249",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0c68044a-e8b3-4e80-9e6a-c1af60ae65b1",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "Can you also add some positive test cases similar to these negative ones?  For example, specifying the same key but across different TopologySelectorTerms",
        "createdAt" : "2018-08-16T17:24:45Z",
        "updatedAt" : "2018-08-16T23:27:53Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      }
    ],
    "commit" : "e5cf6f5c71cfc7dc0fd5b34c27ea45b1ab922d41",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +673,677 @@\t}\n\n\ttopologyDupKeys := []api.TopologySelectorTerm{\n\t\t{\n\t\t\tMatchLabelExpressions: []api.TopologySelectorLabelRequirement{"
  }
]