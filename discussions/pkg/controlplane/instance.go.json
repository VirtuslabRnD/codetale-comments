[
  {
    "id" : "648ba5ab-72f6-4c7f-80bb-7691e05da2e1",
    "prId" : 95533,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95533#pullrequestreview-525501570",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ef2cec1e-b540-41bc-8cf3-3b09fa2ac1b8",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "This might be useful for things besides leases, and I think that's OK, we can broaden the wording later if needed.",
        "createdAt" : "2020-11-06T21:22:00Z",
        "updatedAt" : "2020-11-06T21:36:13Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "39f8daf9678e9bbea70ed2f72697e6173f2a299e",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +128,132 @@\t//   1. the lease is an identity lease (different from leader election leases)\n\t//   2. which component owns this lease\n\tIdentityLeaseComponentLabelKey = \"k8s.io/component\"\n\t// KubeAPIServer defines variable used internally when referring to kube-apiserver component\n\tKubeAPIServer = \"kube-apiserver\""
  },
  {
    "id" : "07b1d5e3-d0fd-4529-86bf-3b1481545970",
    "prId" : 94364,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94364#pullrequestreview-496583553",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "81a37058-b7b7-4aa3-af90-4e405569e4e6",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Instead of changing every call site, can the new parameter be a member of the config struct?",
        "createdAt" : "2020-09-23T18:51:28Z",
        "updatedAt" : "2020-09-23T18:51:29Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "c3623fd7-c60c-4a31-a30b-d6a14eff087c",
        "parentId" : "81a37058-b7b7-4aa3-af90-4e405569e4e6",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "This is a good point - will fix tomorrow.",
        "createdAt" : "2020-09-23T19:28:47Z",
        "updatedAt" : "2020-09-23T19:28:47Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "deb1dce9-92bb-4941-9947-4f0dd27adc97",
        "parentId" : "81a37058-b7b7-4aa3-af90-4e405569e4e6",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Actually - this is part of `createLeaseResonciler()` method - this is basically callled once in the kube-apiserver lifetime.\r\nSo I don't think it makes sense to change anything.",
        "createdAt" : "2020-09-24T06:09:35Z",
        "updatedAt" : "2020-09-24T06:09:35Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "3450bba5-aeb3-4cbf-a6f8-8f7adb334993",
        "parentId" : "81a37058-b7b7-4aa3-af90-4e405569e4e6",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "I meant to include all the \"generic.NewRawStorage(config, nil)\" calls, too. If you think it's not worth it, that's fine.\r\n\r\nIt still seems weird to me to have a config thingy, and an option that's not part of the config thingy. What is the rule for adding to the config thingy vs adding another parameter?",
        "createdAt" : "2020-09-24T21:07:33Z",
        "updatedAt" : "2020-09-24T21:07:33Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "f260c371-de3f-45d0-bb6d-60836bcc7378",
        "parentId" : "81a37058-b7b7-4aa3-af90-4e405569e4e6",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Technically it may be possible to make it a part of config.\r\n\r\nThat said I looked deeper into the code (this time again), and piping the necessary information down to storageConfig (if we do that, we shouldn't pipe newFunc, but rather groupKind and use ObjectCreator from runtime.Scheme to create object) and that would be at least couple hundreds line of code (and e.g. path for CRDs is different than for built-in resources there).\r\n\r\nI'm happy to look at this, but given this commit is actually fairly simple and relatively small (and almost all changes are in tests), I would prefer to not block this PR on it, so that we can get more soaking time of the feature itself.\r\n\r\nIf you're fine with this, I'm happy to open an issue and assign to myself to fix that once this one is merged.",
        "createdAt" : "2020-09-25T06:54:56Z",
        "updatedAt" : "2020-09-25T06:54:56Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "16228e07-d229-4aff-941d-1105ad3fc38c",
        "parentId" : "81a37058-b7b7-4aa3-af90-4e405569e4e6",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "What you have sounds better than plumbing it everywhere. I guess I was expecting something like, this code makes a shallow copy of the config and sets the additional field, so it'd be about the same change as what you have here, just call sites that are happy with `nil` wouldn't need to change at all.\r\n\r\nBut I wouldn't insist on this or anything, it might not be an improvement.",
        "createdAt" : "2020-09-25T16:44:59Z",
        "updatedAt" : "2020-09-25T16:44:59Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "af61e8fbdf3d83e2b287721fe0d57dd4a2234450",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +259,263 @@\t\tklog.Fatalf(\"Error determining service IP ranges: %v\", err)\n\t}\n\tleaseStorage, _, err := storagefactory.Create(*config, nil)\n\tif err != nil {\n\t\tklog.Fatalf(\"Error creating storage factory: %v\", err)"
  }
]