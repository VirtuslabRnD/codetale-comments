[
  {
    "id" : "f8d0750c-63e9-4284-a333-25fa4849ff6f",
    "prId" : 76343,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76343#pullrequestreview-225078785",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a389ca2b-7e0f-4b62-95df-051f0f64780d",
        "parentId" : null,
        "authorId" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "body" : "Does this warrant `klog.Warning` similar to the check to `actual` above?",
        "createdAt" : "2019-04-09T23:18:24Z",
        "updatedAt" : "2019-04-14T23:38:17Z",
        "lastEditedBy" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "tags" : [
        ]
      },
      {
        "id" : "d444ee8c-6e5a-461a-bf7e-f786172d388f",
        "parentId" : "a389ca2b-7e0f-4b62-95df-051f0f64780d",
        "authorId" : "c84cc175-5bd9-4f99-906d-4d8074f08fee",
        "body" : "yea good point",
        "createdAt" : "2019-04-10T16:19:42Z",
        "updatedAt" : "2019-04-14T23:38:17Z",
        "lastEditedBy" : "c84cc175-5bd9-4f99-906d-4d8074f08fee",
        "tags" : [
        ]
      }
    ],
    "commit" : "91cdcceab5fe546abd0f5146967637ea717b4ae9",
    "line" : 95,
    "diffHunk" : "@@ -1,1 +1263,1267 @@\t\t\tif expected == nil {\n\t\t\t\tklog.Warning(\"Ignoring empty desired listener for loadbalancer: \", loadBalancerName)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tif elbListenersAreEqual(actual, expected) {"
  },
  {
    "id" : "6a315548-873b-4510-849a-d1132a43c52e",
    "prId" : 73594,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/73594#pullrequestreview-201258083",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a666f9fa-e1e2-4a48-a28f-123fb6632532",
        "parentId" : null,
        "authorId" : "ffc18181-54e6-47cb-b4d7-20ba5f2495ba",
        "body" : "I suggest replace the addTagsInput declaration with ResourceArns []*string, and []*elbv2.Tag{} directly, just to avoid the confusion to future ppl.",
        "createdAt" : "2019-02-06T19:41:33Z",
        "updatedAt" : "2019-02-07T18:44:04Z",
        "lastEditedBy" : "ffc18181-54e6-47cb-b4d7-20ba5f2495ba",
        "tags" : [
        ]
      },
      {
        "id" : "80ad1f42-3fba-4bf9-9a1d-c0a77d573ddf",
        "parentId" : "a666f9fa-e1e2-4a48-a28f-123fb6632532",
        "authorId" : "02a973ac-04a8-4278-9974-a345e3fd75fc",
        "body" : "Hi @M00nF1sh,\r\n\r\nI'm not sure I understand what you mean.\r\nDo you mean to use separate tags and arns variables prior to this code, and then build the `addTagsInput` only just before calling `AddTags` ?\r\n",
        "createdAt" : "2019-02-07T08:35:31Z",
        "updatedAt" : "2019-02-07T18:44:04Z",
        "lastEditedBy" : "02a973ac-04a8-4278-9974-a345e3fd75fc",
        "tags" : [
        ]
      },
      {
        "id" : "462a9757-c8ba-4bcf-afe4-e0c6d1276ca9",
        "parentId" : "a666f9fa-e1e2-4a48-a28f-123fb6632532",
        "authorId" : "02a973ac-04a8-4278-9974-a345e3fd75fc",
        "body" : "@M00nF1sh ,\r\n\r\nI've pushed a new version that I think implements what you wanted.\r\nLet me know if there's anything that needs to be changed :)\r\n\r\nThanks!",
        "createdAt" : "2019-02-07T13:38:53Z",
        "updatedAt" : "2019-02-07T18:44:04Z",
        "lastEditedBy" : "02a973ac-04a8-4278-9974-a345e3fd75fc",
        "tags" : [
        ]
      },
      {
        "id" : "39a93920-7406-4a55-8cfa-4d960dccd991",
        "parentId" : "a666f9fa-e1e2-4a48-a28f-123fb6632532",
        "authorId" : "ffc18181-54e6-47cb-b4d7-20ba5f2495ba",
        "body" : "Yes, that is exactly what i want ðŸ¤£ .\r\n\r\nwould you mind do a  slightly optimization to avoid memory realloc like below:\r\nresourceArns := make([]*string, 0, len(mappings))\r\ntargetGroupTags := make([]*elbv2.Tag, 0, len(tags)) \r\n",
        "createdAt" : "2019-02-07T18:12:39Z",
        "updatedAt" : "2019-02-07T18:44:04Z",
        "lastEditedBy" : "ffc18181-54e6-47cb-b4d7-20ba5f2495ba",
        "tags" : [
        ]
      },
      {
        "id" : "494a68e9-1d1e-4a7d-aff0-d5d8270ca53c",
        "parentId" : "a666f9fa-e1e2-4a48-a28f-123fb6632532",
        "authorId" : "02a973ac-04a8-4278-9974-a345e3fd75fc",
        "body" : "My first implementation was like that :) then I thought it wasn't probably in a performance sensible code, so I wen't to the traditional way of declaring empty slices.\r\nI'm going to push a revised version, thanks !",
        "createdAt" : "2019-02-07T18:30:37Z",
        "updatedAt" : "2019-02-07T18:44:04Z",
        "lastEditedBy" : "02a973ac-04a8-4278-9974-a345e3fd75fc",
        "tags" : [
        ]
      },
      {
        "id" : "198e8247-4c88-4988-a864-62b3a9d12502",
        "parentId" : "a666f9fa-e1e2-4a48-a28f-123fb6632532",
        "authorId" : "02a973ac-04a8-4278-9974-a345e3fd75fc",
        "body" : "I've pushed the modification. Thanks!",
        "createdAt" : "2019-02-07T18:44:19Z",
        "updatedAt" : "2019-02-07T18:44:19Z",
        "lastEditedBy" : "02a973ac-04a8-4278-9974-a345e3fd75fc",
        "tags" : [
        ]
      }
    ],
    "commit" : "bbee2da7f30c29e845755ffd219a2e5994d6c06f",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +166,170 @@\t\t}\n\t\tif len(resourceArns) > 0 && len(targetGroupTags) > 0 {\n\t\t\t// elbv2.AddTags doesn't allow to tag multiple resources at once\n\t\t\tfor _, arn := range resourceArns {\n\t\t\t\t_, err = c.elbv2.AddTags(&elbv2.AddTagsInput{"
  },
  {
    "id" : "7118e936-63bc-478f-a8f5-1c36304a6552",
    "prId" : 68422,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/68422#pullrequestreview-179436421",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f4683a81-fd30-4eb1-bd5a-5491b817cc2f",
        "parentId" : null,
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Is there an `else` block missing here?\r\n\r\nOK to do in a follow-on PR",
        "createdAt" : "2018-11-28T15:56:58Z",
        "updatedAt" : "2018-11-28T15:59:10Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "0b777d89-a4ea-4a91-a3b0-abefca5ac906",
        "parentId" : "f4683a81-fd30-4eb1-bd5a-5491b817cc2f",
        "authorId" : "98c40954-4d98-430a-9c68-8bdc01d02ac5",
        "body" : "Yeah, that looks like it was overlooked in the original code from @micahhausler https://github.com/kubernetes/kubernetes/commit/f9445b9dc7a79b3f96ab5e4086b46e731a6108b7#diff-b390ae3de185e9f13a631a5c07b8f3ffR646",
        "createdAt" : "2018-11-28T17:58:10Z",
        "updatedAt" : "2018-11-28T17:58:10Z",
        "lastEditedBy" : "98c40954-4d98-430a-9c68-8bdc01d02ac5",
        "tags" : [
        ]
      }
    ],
    "commit" : "996c37c72b314e8e6c23cb467b9b26778985a667",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +668,672 @@\t\t\t\t\tklog.V(2).Infof(\"Removing rule for client MTU discovery from the network load balancer (%s) to instances (%s)\", clientCidrs, instanceSecurityGroupID)\n\t\t\t\t\tklog.V(2).Infof(\"Removing rule for client traffic from the network load balancer (%s) to instance (%s), port (%v)\", clientCidrs, instanceSecurityGroupID, port)\n\t\t\t\t}\n\t\t\t\tklog.V(2).Infof(\"Removing rule for health check traffic from the network load balancer (%s) to instance (%s), port (%v)\", clientCidrs, instanceSecurityGroupID, port)\n\t\t\t}"
  },
  {
    "id" : "574c2a11-86eb-4534-93e2-33f966528e1c",
    "prId" : 55731,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/55731#pullrequestreview-77350156",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a56d6026-afe3-416e-9f4f-96bd276b0526",
        "parentId" : null,
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "It would be nice to check that the tags aren't already present, both to avoid using up all our API operations quota, and to avoid this log message confusing users.  Perhaps in a follow up PR?",
        "createdAt" : "2017-11-17T01:47:53Z",
        "updatedAt" : "2017-11-17T01:49:01Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "7744af7f-42f9-465f-be3e-f474356f4236",
        "parentId" : "a56d6026-afe3-416e-9f4f-96bd276b0526",
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "(And that might allow harmonization with the existing create-map-of-tags code...)",
        "createdAt" : "2017-11-17T01:48:46Z",
        "updatedAt" : "2017-11-17T01:49:01Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "af12b9e8-fb52-4c0d-8319-2644410ed2ec",
        "parentId" : "a56d6026-afe3-416e-9f4f-96bd276b0526",
        "authorId" : "7661b304-ee6c-4f5d-8bae-8287418084e7",
        "body" : "Yes, I did actually go down that route initially, adding a DescribeTags method and using the results of that to work out which tags were missing. But I stripped it out as I realised I was doing at best one API call each time (if nothing missing) and possibly two API calls (if something needed to be added). Whereas just adding them all each time is a single call, no matter what. Unless I've misunderstood something? \r\n\r\nI'd be happy to add the checking logic back in another PR though (would also allow, with a bit more work to make sure default tags were unaffected, for removing tags that are removed from the annotation). ",
        "createdAt" : "2017-11-17T06:30:04Z",
        "updatedAt" : "2017-11-17T06:30:04Z",
        "lastEditedBy" : "7661b304-ee6c-4f5d-8bae-8287418084e7",
        "tags" : [
        ]
      },
      {
        "id" : "1e7e26f7-b02f-485d-8fc3-4c02dfc7c327",
        "parentId" : "a56d6026-afe3-416e-9f4f-96bd276b0526",
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Ah - you're right.  I was thinking tags were returned by DescribeLoadBalancer.\r\n\r\nRate limits for read operations are typically much higher than for write operations, but I think we can wait and see if it's a problem in practice - particularly as when there are no additional tags we don't hit this case.",
        "createdAt" : "2017-11-17T06:38:10Z",
        "updatedAt" : "2017-11-17T06:38:10Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "e9c735fc-a56d-4162-9164-e586ed4f92d3",
        "parentId" : "a56d6026-afe3-416e-9f4f-96bd276b0526",
        "authorId" : "7661b304-ee6c-4f5d-8bae-8287418084e7",
        "body" : "Cool, I have all the code still, so if it's useful to add in, let me know. ",
        "createdAt" : "2017-11-17T06:47:03Z",
        "updatedAt" : "2017-11-17T06:47:03Z",
        "lastEditedBy" : "7661b304-ee6c-4f5d-8bae-8287418084e7",
        "tags" : [
        ]
      }
    ],
    "commit" : "36d59704d99516629d734f1e687f8bbc5cb2bd7e",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +318,322 @@\t\t{\n\t\t\t// Add additional tags\n\t\t\tglog.V(2).Infof(\"Creating additional load balancer tags for %s\", loadBalancerName)\n\t\t\ttags := getLoadBalancerAdditionalTags(annotations)\n\t\t\tif len(tags) > 0 {"
  },
  {
    "id" : "f6fa4df9-7e83-4c64-9b0d-746875a86029",
    "prId" : 54507,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/54507#pullrequestreview-77317009",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f8aa7c54-ebbd-42aa-8a92-0b5fe174b6cc",
        "parentId" : null,
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Can we do this now?",
        "createdAt" : "2017-11-17T01:24:07Z",
        "updatedAt" : "2017-11-17T01:25:48Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      }
    ],
    "commit" : "cb382930935901268414ba65f45990c94a25df12",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +499,503 @@\t\t\tswitch aerr.Code() {\n\t\t\tcase \"PolicyNotFound\":\n\t\t\t\t// TODO change from string to `elb.ErrCodePolicyNotFoundException` once the AWS SDK is updated\n\t\t\tdefault:\n\t\t\t\treturn fmt.Errorf(\"error describing security policies on load balancer: %q\", err)"
  },
  {
    "id" : "af9a2a2a-7e8a-4da6-a28a-9e8a842a0728",
    "prId" : 53400,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/53400#pullrequestreview-71879651",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bb9820c9-1b59-4557-a456-24c3a1babca0",
        "parentId" : null,
        "authorId" : "573de559-f8f4-465b-b31c-7f9553076073",
        "body" : "If the target's `TargetHealth.Reason` code is `Target.DeregistrationInProgress`, there's no need to deregister again.",
        "createdAt" : "2017-10-18T18:19:29Z",
        "updatedAt" : "2017-11-20T13:53:10Z",
        "lastEditedBy" : "573de559-f8f4-465b-b31c-7f9553076073",
        "tags" : [
        ]
      },
      {
        "id" : "b1b26a5b-2ff8-425f-ae97-d97ab6337d3a",
        "parentId" : "bb9820c9-1b59-4557-a456-24c3a1babca0",
        "authorId" : "ee440732-7dd1-4a2c-b440-de4b66a84d9d",
        "body" : "Good call.",
        "createdAt" : "2017-10-25T14:22:14Z",
        "updatedAt" : "2017-11-20T13:53:10Z",
        "lastEditedBy" : "ee440732-7dd1-4a2c-b440-de4b66a84d9d",
        "tags" : [
        ]
      }
    ],
    "commit" : "502e8f8c293ac10b7715ebed71667817c959aa5a",
    "line" : 425,
    "diffHunk" : "@@ -1,1 +466,470 @@\t\t}\n\n\t\tif len(removals) > 0 {\n\t\t\tderegisterInput := &elbv2.DeregisterTargetsInput{\n\t\t\t\tTargetGroupArn: targetGroup.TargetGroupArn,"
  },
  {
    "id" : "57144e7a-f016-4673-a602-44ba49be2c3c",
    "prId" : 45932,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45932#pullrequestreview-38840378",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c408152c-83d3-4d1b-85bb-77218cc70d3c",
        "parentId" : null,
        "authorId" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "body" : "nit: What about values with \"=\" in them or keys with zero length? Maybe:\r\n\r\n```go\r\ni := strings.Index(tagSet, \"=\")\r\nif i <= 0 || i+1 >= len(tagSet) {\r\n    continue\r\n}\r\nadditionalTags[tagSet[:i]] = tagSet[i+1:]\r\n```\r\n\r\nWill check if there's already something to implement this parsing.",
        "createdAt" : "2017-05-17T20:55:14Z",
        "updatedAt" : "2017-05-19T20:34:57Z",
        "lastEditedBy" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "tags" : [
        ]
      },
      {
        "id" : "9ad9e3ed-1895-4221-ba03-736d37debee2",
        "parentId" : "c408152c-83d3-4d1b-85bb-77218cc70d3c",
        "authorId" : "93379813-c6cb-43b0-9742-0424ecb8da56",
        "body" : "I adjusted the unit tests to check for these types of keys and added the fix. Thanks for the note",
        "createdAt" : "2017-05-18T04:30:33Z",
        "updatedAt" : "2017-05-19T20:34:57Z",
        "lastEditedBy" : "93379813-c6cb-43b0-9742-0424ecb8da56",
        "tags" : [
        ]
      }
    ],
    "commit" : "67d269749bd77037ceda60aa642753be825deff1",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +46,50 @@\t\t// Break up \"Key=Val\"\n\t\tfor _, tagSet := range tagList {\n\t\t\ttag := strings.Split(strings.TrimSpace(tagSet), \"=\")\n\n\t\t\t// Accept \"Key=val\" or \"Key=\" or just \"Key\""
  },
  {
    "id" : "e698f814-9464-4d0d-aa0b-d5635ad0f0da",
    "prId" : 30695,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8dc42cfc-81f7-421a-9e38-a3320d6a9fdd",
        "parentId" : null,
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Might be nice to log here if they are unequal, just in case reflect.DeepEqual has false positives\n",
        "createdAt" : "2016-08-19T21:17:26Z",
        "updatedAt" : "2016-08-19T21:17:26Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      }
    ],
    "commit" : "96dad1f0f396ac5c469be284af0608f37391a804",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +293,297 @@\n\t\t// Update attributes if they're dirty\n\t\tif !reflect.DeepEqual(loadBalancerAttributes, foundAttributes) {\n\t\t\tmodifyAttributesRequest := &elb.ModifyLoadBalancerAttributesInput{}\n\t\t\tmodifyAttributesRequest.LoadBalancerName = aws.String(loadBalancerName)"
  },
  {
    "id" : "690dc3eb-5e58-48a5-91fa-0316617215c0",
    "prId" : 24569,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4d975c5c-97f6-4193-aca1-027979bd25a5",
        "parentId" : null,
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "If we moved this logic outside of the create block, that would let us change the value after-the-fact, right?\n",
        "createdAt" : "2016-04-24T21:52:49Z",
        "updatedAt" : "2016-05-31T15:33:55Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "4f23781c-e648-4706-abb1-2a59dcc0f4d8",
        "parentId" : "4d975c5c-97f6-4193-aca1-027979bd25a5",
        "authorId" : "a5612c46-ada3-403f-94ee-ab329efde6ef",
        "body" : "For clarification, when you say outside of the create block, are you talking about moving the proxy protocol logic entirely out of the `ensureLoadBalancer` method (like with `updateInstanceSecurityGroupsForLoadBalancer`) or simply talking about refactoring the duplicated the code out into a separate method?\n",
        "createdAt" : "2016-05-02T19:23:01Z",
        "updatedAt" : "2016-05-31T15:33:55Z",
        "lastEditedBy" : "a5612c46-ada3-403f-94ee-ab329efde6ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "01d9cddda5aa50a055b8f337afe777a4d0484ebe",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +65,69 @@\t\t\treturn nil, err\n\t\t}\n\n\t\tif proxyProtocol {\n\t\t\terr = s.createProxyProtocolPolicy(loadBalancerName)"
  },
  {
    "id" : "fdecb76c-7d3b-49ef-9f45-934a1e94d561",
    "prId" : 20731,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "587c676f-946a-47e7-940d-5766d483bdf5",
        "parentId" : null,
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Ah ... good catch.  Including the cluster tag is a good thing to do.  ELB isn't quite as good at letting us actually use these tags easily, but we should still tag it.\n",
        "createdAt" : "2016-02-09T02:34:34Z",
        "updatedAt" : "2016-02-09T11:50:58Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      }
    ],
    "commit" : "5874b0cb9d04a563c6aad26b44ec78f29940362b",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +50,54 @@\n\t\tcreateRequest.Tags = []*elb.Tag{\n\t\t\t{Key: aws.String(TagNameKubernetesCluster), Value: aws.String(s.getClusterName())},\n\t\t\t{Key: aws.String(TagNameKubernetesService), Value: aws.String(namespacedName.String())},\n\t\t}"
  }
]