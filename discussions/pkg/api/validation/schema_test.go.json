[
  {
    "id" : "33df1bee-e58c-44ae-8c55-0533d467844d",
    "prId" : 25172,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0fe4a8a7-a64e-4584-a282-3f6fc69d8d6d",
        "parentId" : null,
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "We have lots more group versions.  You need to be using the factory method from cmdutil and pass it in here so we can fetch the appropriate schema on demand.\n",
        "createdAt" : "2016-05-06T17:19:09Z",
        "updatedAt" : "2016-05-10T02:44:29Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "c0dee581-9e3a-448f-ac5f-0111dfdb7788",
        "parentId" : "0fe4a8a7-a64e-4584-a282-3f6fc69d8d6d",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Basically, \"getting schema\" should be hidden behind an interface or function passed into the factory.  The factory should be an interface passed into the validator.  The cmdutil.Factory() should set up that interface so that it hides the details of fetching schemas from you.\n",
        "createdAt" : "2016-05-06T17:27:50Z",
        "updatedAt" : "2016-05-10T02:44:29Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "f221c139-d3d6-4552-9df2-8361f5b89663",
        "parentId" : "0fe4a8a7-a64e-4584-a282-3f6fc69d8d6d",
        "authorId" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "body" : "This is just meant to be a manual mock for the test (not even a full fake implementation).  The test method that calls this hard codes the apis that will passed here.  Since this is a mock it ensures that only the expected apis are called, otherwise an error is returned.  Do you think the test needs to be expanded to test every api, or is it sufficient just to test 2 different apis (as written)?  Are there other reasons we would go with a more complete fake impl over a mock that just stubs out the expected behaviors?  I could also implement this using actual generated mocking code from a standard lib if you think that would be better / more clear.\n",
        "createdAt" : "2016-05-06T18:09:04Z",
        "updatedAt" : "2016-05-10T02:44:29Z",
        "lastEditedBy" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "tags" : [
        ]
      },
      {
        "id" : "440c5ca0-a1b0-45e9-b084-a066cf824c3a",
        "parentId" : "0fe4a8a7-a64e-4584-a282-3f6fc69d8d6d",
        "authorId" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "body" : "I added a TODO to either change this to use a mocking library or be a full fake implementation.  Does this seem sufficient to you?\n",
        "createdAt" : "2016-05-09T20:49:12Z",
        "updatedAt" : "2016-05-10T02:44:29Z",
        "lastEditedBy" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "tags" : [
        ]
      }
    ],
    "commit" : "680b2b9d09bad40424978bb2cea7ff71626dd3d6",
    "line" : null,
    "diffHunk" : "@@ -1,1 +85,89 @@\t// Note: This only supports the 2 api versions we expect from the test it is currently supporting.\n\tgroupVersion := fields[\"apiVersion\"]\n\tswitch groupVersion {\n\tcase \"v1\":\n\t\treturn f.defaultSchema.ValidateBytes(data)"
  }
]