[
  {
    "id" : "1666868b-ae9c-445d-b804-207bade56036",
    "prId" : 49512,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/49512#pullrequestreview-53586392",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "631313ed-deab-40d3-af3c-b0bb353b4a42",
        "parentId" : null,
        "authorId" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "body" : "Unnecessary empty line.",
        "createdAt" : "2017-08-01T18:06:52Z",
        "updatedAt" : "2017-08-01T18:07:55Z",
        "lastEditedBy" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "tags" : [
        ]
      }
    ],
    "commit" : "317fdec5ba2dc0a6b9cf29b3b78e8eeca44ee683",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +271,275 @@func (m *manager) rotateCerts() (bool, error) {\n\tglog.V(2).Infof(\"Rotating certificates\")\n\n\tcsrPEM, keyPEM, err := m.generateCSR()\n\tif err != nil {"
  },
  {
    "id" : "03193978-2b85-49f4-a47b-e3fc647c708e",
    "prId" : 49512,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/49512#pullrequestreview-53594661",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e591e5a3-69d6-46ce-b873-bd1d5dec8f96",
        "parentId" : null,
        "authorId" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "body" : "Why `V(1)` higher than others?",
        "createdAt" : "2017-08-01T18:07:20Z",
        "updatedAt" : "2017-08-01T18:07:55Z",
        "lastEditedBy" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "tags" : [
        ]
      },
      {
        "id" : "dd8f96cc-408f-4cb1-8067-86747b51d34d",
        "parentId" : "e591e5a3-69d6-46ce-b873-bd1d5dec8f96",
        "authorId" : "b714f738-aa05-4f49-a624-eaaf3e0cbb70",
        "body" : "this only happens on start up and is fairly important to know about (def: of V(1) log level)",
        "createdAt" : "2017-08-01T18:34:21Z",
        "updatedAt" : "2017-08-01T18:34:21Z",
        "lastEditedBy" : "b714f738-aa05-4f49-a624-eaaf3e0cbb70",
        "tags" : [
        ]
      }
    ],
    "commit" : "317fdec5ba2dc0a6b9cf29b3b78e8eeca44ee683",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +198,202 @@\t// doesn't have a certificate at all yet.\n\tif m.shouldRotate() {\n\t\tglog.V(1).Infof(\"shouldRotate() is true, forcing immediate rotation\")\n\t\t_, err := m.rotateCerts()\n\t\tif err != nil {"
  },
  {
    "id" : "212b55fc-9ac5-4776-8abc-deebcc2d498e",
    "prId" : 46154,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/46154#pullrequestreview-39823017",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aac44ff0-1137-4e61-8bb1-7ec7400ad207",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "What happens if we restart at an inopportune moment and we call this again?",
        "createdAt" : "2017-05-23T15:11:49Z",
        "updatedAt" : "2017-05-29T19:28:25Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "595fca51-556f-4208-8bf9-8e6487e132cf",
        "parentId" : "aac44ff0-1137-4e61-8bb1-7ec7400ad207",
        "authorId" : "b8d9ba23-8a1c-44a6-afe2-8ac9498838bb",
        "body" : "If the kubelet gets restarted, and setRotationDeadline() gets called again, it will recalculate the deadline for the currently selected certificate. The deadline is kept in memory so it's lost on a restart. But the certificate has all the data needed to completely recalculate it.",
        "createdAt" : "2017-05-23T18:06:28Z",
        "updatedAt" : "2017-05-29T19:28:25Z",
        "lastEditedBy" : "b8d9ba23-8a1c-44a6-afe2-8ac9498838bb",
        "tags" : [
        ]
      }
    ],
    "commit" : "93c9aded40891cac8702eeb6920252ad18fa0665",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +188,192 @@\tglog.V(2).Infof(\"Certificate rotation is enabled.\")\n\n\tm.setRotationDeadline()\n\n\t// Synchronously request a certificate before entering the background"
  },
  {
    "id" : "6654f2c3-858e-45b1-9d13-a287f3697eaa",
    "prId" : 41021,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/41021#pullrequestreview-21901013",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e46385be-ccf9-42cb-b6bc-53ece6f6b34d",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "wait.Until(func, ctx.Done(), 0)",
        "createdAt" : "2017-02-15T00:28:03Z",
        "updatedAt" : "2017-02-18T01:42:59Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "6f1754c0-6c47-40d1-b1aa-98887a524775",
        "parentId" : "e46385be-ccf9-42cb-b6bc-53ece6f6b34d",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "Also can this just be\r\n```\r\ngo wait.Until(func() {\r\n \tif err := m.rotateCerts(); err != nil {\r\n \t\tglog.Errorf(\"Could not rotate certificates: %v\", err)\r\n \t}\r\n }, ctx.Done(), syncPeriod)\r\n```\r\nThe timer is not useful.",
        "createdAt" : "2017-02-15T00:35:35Z",
        "updatedAt" : "2017-02-18T01:42:59Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      }
    ],
    "commit" : "855627e5cb1285ccc94e196cc586eb0033ab8b80",
    "line" : 154,
    "diffHunk" : "@@ -1,1 +152,156 @@\t\t\t}\n\t\t}\n\t}, 0)\n}\n"
  },
  {
    "id" : "98b78057-09a7-4da5-87da-8cf02835f8fe",
    "prId" : 41021,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/41021#pullrequestreview-21993598",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "895afb1a-822b-4f2e-bfb3-8810e849061f",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "Should be an error on NewManager if this is the case?",
        "createdAt" : "2017-02-15T00:31:57Z",
        "updatedAt" : "2017-02-18T01:42:59Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "67ad16bc-17ba-48ba-822f-2ede81a3c27c",
        "parentId" : "895afb1a-822b-4f2e-bfb3-8810e849061f",
        "authorId" : "b8d9ba23-8a1c-44a6-afe2-8ac9498838bb",
        "body" : "Switched to uint. 0 is rotation disabled behavior.",
        "createdAt" : "2017-02-15T13:04:31Z",
        "updatedAt" : "2017-02-18T01:42:59Z",
        "lastEditedBy" : "b8d9ba23-8a1c-44a6-afe2-8ac9498838bb",
        "tags" : [
        ]
      }
    ],
    "commit" : "855627e5cb1285ccc94e196cc586eb0033ab8b80",
    "line" : 132,
    "diffHunk" : "@@ -1,1 +130,134 @@// Start will start the background work of rotating the certificates.\nfunc (m *manager) Start() {\n\tif m.shouldRotatePercent < 1 {\n\t\tglog.V(2).Infof(\"Certificate rotation is not enabled.\")\n\t\treturn"
  },
  {
    "id" : "00cbd5ac-80db-48fa-96da-12fd0eb30d90",
    "prId" : 41021,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/41021#pullrequestreview-21998933",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6f573a8b-152f-4e63-adbc-114c7b25b11a",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "Should be an error on NewManager if this is the case?",
        "createdAt" : "2017-02-15T00:32:33Z",
        "updatedAt" : "2017-02-18T01:42:59Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "19bf7d8b-6dc1-450a-a271-6b7664a59297",
        "parentId" : "6f573a8b-152f-4e63-adbc-114c7b25b11a",
        "authorId" : "b8d9ba23-8a1c-44a6-afe2-8ac9498838bb",
        "body" : "I don't think this is an error. If there is no client, there is no rotation, but as long as there is a certificate available on the file system, the certificate manager still functions.",
        "createdAt" : "2017-02-15T13:33:35Z",
        "updatedAt" : "2017-02-18T01:42:59Z",
        "lastEditedBy" : "b8d9ba23-8a1c-44a6-afe2-8ac9498838bb",
        "tags" : [
        ]
      }
    ],
    "commit" : "855627e5cb1285ccc94e196cc586eb0033ab8b80",
    "line" : 141,
    "diffHunk" : "@@ -1,1 +139,143 @@\t// client. This will happen on the master, where the kubelet is responsible\n\t// for bootstrapping the pods of the master components.\n\tif m.certSigningRequestClient == nil {\n\t\tglog.V(2).Infof(\"Certificate rotation is not enabled, no connection to the apiserver.\")\n\t\treturn"
  }
]