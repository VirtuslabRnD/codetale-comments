[
  {
    "id" : "244ecf67-a4a6-488d-8f3f-0f7361563d65",
    "prId" : 92817,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/92817#pullrequestreview-445153660",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8f37371a-3dcf-41e2-84e3-06733137e6f4",
        "parentId" : null,
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "so if there are 20 (`sandboxDeletionBufferLimit = 20`) sandboxes are being queued for deletion, this one will not be deleted and re-tried? Is it intended?",
        "createdAt" : "2020-07-08T21:27:29Z",
        "updatedAt" : "2020-07-22T21:12:49Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "fe3942d5-8f88-4af0-933a-5b75292d2cda",
        "parentId" : "8f37371a-3dcf-41e2-84e3-06733137e6f4",
        "authorId" : "d2b16581-e7e9-48b8-9f76-6f6bcb9ec300",
        "body" : "The other pod sandbox gc routines will clean this up if this happens.  This change is to trigger sandbox cleanup quickly to make pod deletion time quicker.",
        "createdAt" : "2020-07-08T21:31:56Z",
        "updatedAt" : "2020-07-22T21:12:49Z",
        "lastEditedBy" : "d2b16581-e7e9-48b8-9f76-6f6bcb9ec300",
        "tags" : [
        ]
      },
      {
        "id" : "943ba57b-ca2f-4c73-86f3-89ff639a2254",
        "parentId" : "8f37371a-3dcf-41e2-84e3-06733137e6f4",
        "authorId" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "body" : "thank you! This makes sense. But than the comment https://github.com/kubernetes/kubernetes/pull/92817/files#r450545856 about postponing pruning goes against this optimization, is it?",
        "createdAt" : "2020-07-08T21:39:59Z",
        "updatedAt" : "2020-07-22T21:12:49Z",
        "lastEditedBy" : "85d51570-e06e-4b3f-a869-f5f820e49119",
        "tags" : [
        ]
      },
      {
        "id" : "0cfe1fa2-b3e5-4f7f-ab5a-7f5e567f1a3d",
        "parentId" : "8f37371a-3dcf-41e2-84e3-06733137e6f4",
        "authorId" : "d2b16581-e7e9-48b8-9f76-6f6bcb9ec300",
        "body" : "My other comment is saying that we could choose to run this logic _only_ during deletion, rather than when sandboxes are recreated.  The \"other\" gc I mention above is here: https://github.com/kubernetes/kubernetes/blob/21953d15ea48972f20a8de29d58bd5ce6d913914/pkg/kubelet/kuberuntime/kuberuntime_gc.go#L408.  That logic will still do pruning",
        "createdAt" : "2020-07-08T21:50:32Z",
        "updatedAt" : "2020-07-22T21:12:49Z",
        "lastEditedBy" : "d2b16581-e7e9-48b8-9f76-6f6bcb9ec300",
        "tags" : [
        ]
      }
    ],
    "commit" : "acac15c20e5effb079502f8cb047be5871853f80",
    "line" : 78,
    "diffHunk" : "@@ -1,1 +76,80 @@\t\t\tcase p.worker <- sandboxStatuses[i].Id:\n\t\t\tdefault:\n\t\t\t\tklog.Warningf(\"Failed to issue the request to remove sandbox %v\", sandboxStatuses[i].Id)\n\t\t\t}\n\t\t}"
  },
  {
    "id" : "33127ef1-eb19-46e9-a1f0-c3e6fe5cc569",
    "prId" : 92817,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/92817#pullrequestreview-477000479",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0d7f0554-a795-4aa8-abbf-576ddeedec60",
        "parentId" : null,
        "authorId" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "body" : "when does a pod have many sandboxes ?",
        "createdAt" : "2020-08-27T07:53:56Z",
        "updatedAt" : "2020-08-27T07:53:57Z",
        "lastEditedBy" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "tags" : [
        ]
      },
      {
        "id" : "2f9a75eb-fdf6-4c83-bf90-46cc5ce7ebea",
        "parentId" : "0d7f0554-a795-4aa8-abbf-576ddeedec60",
        "authorId" : "af81f9c4-a75e-4ffc-8796-b6a575aa6a95",
        "body" : "Whenever the sandbox container is not in active state, a new sandbox is created and if deletion of stopped sandbox container is failing for some reason, there could be multiple sandboxes which are pending deletion. ",
        "createdAt" : "2020-08-27T19:02:08Z",
        "updatedAt" : "2020-08-27T19:02:08Z",
        "lastEditedBy" : "af81f9c4-a75e-4ffc-8796-b6a575aa6a95",
        "tags" : [
        ]
      }
    ],
    "commit" : "acac15c20e5effb079502f8cb047be5871853f80",
    "line" : 63,
    "diffHunk" : "@@ -1,1 +61,65 @@// deleteSandboxesInPod issues sandbox deletion requests for all inactive sandboxes after sorting by creation time\n// and skipping toKeep number of sandboxes\nfunc (p *podSandboxDeleter) deleteSandboxesInPod(podStatus *kubecontainer.PodStatus, toKeep int) {\n\tsandboxIDs := sets.NewString()\n\tfor _, containerStatus := range podStatus.ContainerStatuses {"
  }
]