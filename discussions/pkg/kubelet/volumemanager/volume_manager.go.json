[
  {
    "id" : "825a5118-a5c7-4cba-8b8e-7f63eed5282f",
    "prId" : 93130,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/93130#pullrequestreview-529282642",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "49fd9516-4e96-432e-a15b-1e6456d6d37c",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "curious why this had to move",
        "createdAt" : "2020-11-06T02:19:13Z",
        "updatedAt" : "2020-11-12T17:26:59Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "7fa1a824-3cdf-449f-937a-febe16e44262",
        "parentId" : "49fd9516-4e96-432e-a15b-1e6456d6d37c",
        "authorId" : "f64c354b-61cb-4b89-b58f-f464e7ad4f94",
        "body" : "not necessary here but the sooner to populate the csi driver lister cache before desire workload state populator starts the better. racing is still there tho. Michelle opened an issue to figure out the place to start `WaitForCacheSync`.",
        "createdAt" : "2020-11-11T22:36:36Z",
        "updatedAt" : "2020-11-12T17:26:59Z",
        "lastEditedBy" : "f64c354b-61cb-4b89-b58f-f464e7ad4f94",
        "tags" : [
        ]
      },
      {
        "id" : "922e0348-8c3a-4173-94ac-8d980fa2431c",
        "parentId" : "49fd9516-4e96-432e-a15b-1e6456d6d37c",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "> racing is still there though\r\n\r\nwhat is the impact of losing the race? functional failure or longer startup time?",
        "createdAt" : "2020-11-12T14:15:36Z",
        "updatedAt" : "2020-11-12T17:26:59Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "511f6e63-99bb-45e8-9b5d-09eb9aebec48",
        "parentId" : "49fd9516-4e96-432e-a15b-1e6456d6d37c",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "@zshihang and I discussed. The impact is NodePublish (mount) may be called without the token. The CSI driver is expected to fail if it expects one. The volume reconciler will retry NodePublish until successful. ",
        "createdAt" : "2020-11-12T16:47:19Z",
        "updatedAt" : "2020-11-12T17:26:59Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      }
    ],
    "commit" : "d2859cd89b0ec00054219ed9988c6dccff39a0c8",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +261,265 @@\tdefer runtime.HandleCrash()\n\n\tif vm.kubeClient != nil {\n\t\t// start informer for CSIDriver\n\t\tgo vm.volumePluginMgr.Run(stopCh)"
  },
  {
    "id" : "dd3ca150-8886-4031-9526-81ccbb902e18",
    "prId" : 80369,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80369#pullrequestreview-264660360",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2aff1a43-b672-4ec1-b3ff-ee18faf11872",
        "parentId" : null,
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "should it return false from here?",
        "createdAt" : "2019-07-19T18:33:40Z",
        "updatedAt" : "2019-08-05T08:08:51Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "4b610408-302a-4322-a092-080dd50c9c7c",
        "parentId" : "2aff1a43-b672-4ec1-b3ff-ee18faf11872",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "It does not really matter, `wait.Poll` will report error in both cases.",
        "createdAt" : "2019-07-22T08:17:12Z",
        "updatedAt" : "2019-08-05T08:08:51Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      }
    ],
    "commit" : "c744385804a7e51fdb15cc86894b30ff69bdcd70",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +404,408 @@\treturn func() (done bool, err error) {\n\t\tif errs := vm.desiredStateOfWorld.PopPodErrors(podName); len(errs) > 0 {\n\t\t\treturn true, errors.New(strings.Join(errs, \"; \"))\n\t\t}\n\t\treturn len(vm.getUnmountedVolumes(podName, expectedVolumes)) == 0, nil"
  },
  {
    "id" : "5ae9943b-755f-419e-b2ae-9db26a95b8ae",
    "prId" : 57260,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/57260#pullrequestreview-84290055",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e427a45b-cd7c-453f-a469-7f881dc2a265",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "I don't think this will give you the list of unattached volumes. Volumes should only be added to the volumeManager's `actualStateOfWorld` if they are mounted.",
        "createdAt" : "2017-12-16T01:16:56Z",
        "updatedAt" : "2017-12-16T01:17:04Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "0fc9f5b9-aa18-4de7-8129-3840c957ecbf",
        "parentId" : "e427a45b-cd7c-453f-a469-7f881dc2a265",
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "// VolumeExists returns true if the given volume exists in the list of\r\n// attached volumes in the cache, indicating the volume is attached to this\r\n// node.\r\n\r\nThis was the comment on \"VolumeExists,\" maybe I am misunderstanding it but I thought this means it does not have to be mounted to be recorded as attached in actualStateOfWorld. If not, we will have to change the documentation or make it clearer.",
        "createdAt" : "2017-12-18T19:37:28Z",
        "updatedAt" : "2017-12-18T19:37:28Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      },
      {
        "id" : "3f75e40d-e6b2-4b70-b26a-a12b273f1b33",
        "parentId" : "e427a45b-cd7c-453f-a469-7f881dc2a265",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "when reconciler in kubelet tries to VerifyControllerAttachedVolume(), it the volume is already attached (indicated by node status's volumesattached list), it will mark volumes as attached in the actual state, so I think it is ok to use this way to get unattached volumes.",
        "createdAt" : "2017-12-18T22:01:56Z",
        "updatedAt" : "2017-12-18T22:01:56Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "6083e4f6-b708-47a6-84f6-b64f8ff1c796",
        "parentId" : "e427a45b-cd7c-453f-a469-7f881dc2a265",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "You're right! Forgot the code I wrote :)",
        "createdAt" : "2017-12-18T22:25:03Z",
        "updatedAt" : "2017-12-18T22:25:03Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "fffd152e0df522473ef289d924e2ab683f44834f",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +383,387 @@\tunattachedVolumes := []string{}\n\tfor _, volume := range expectedVolumes {\n\t\tif !vm.actualStateOfWorld.VolumeExists(v1.UniqueVolumeName(volume)) {\n\t\t\tunattachedVolumes = append(unattachedVolumes, volume)\n\t\t}"
  },
  {
    "id" : "d7156565-23eb-448d-9162-12e5b3be8f3c",
    "prId" : 29119,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "43f375ca-23bd-4be0-9241-c7607d25b747",
        "parentId" : null,
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "what if len == 0\n",
        "createdAt" : "2016-07-19T17:25:22Z",
        "updatedAt" : "2016-07-22T21:44:37Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      },
      {
        "id" : "7f414e37-a042-4c54-877d-6e6822c236ca",
        "parentId" : "43f375ca-23bd-4be0-9241-c7607d25b747",
        "authorId" : "241ab19e-f85a-4d22-92e2-88f2b6287d14",
        "body" : "It will return empty slice, I can make it return it before this line\n",
        "createdAt" : "2016-07-19T18:00:33Z",
        "updatedAt" : "2016-07-22T21:44:37Z",
        "lastEditedBy" : "241ab19e-f85a-4d22-92e2-88f2b6287d14",
        "tags" : [
        ]
      },
      {
        "id" : "65414407-13d2-4190-866b-a86bdcee7231",
        "parentId" : "43f375ca-23bd-4be0-9241-c7607d25b747",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "That's the compiler's job\n",
        "createdAt" : "2016-07-22T20:16:01Z",
        "updatedAt" : "2016-07-22T21:44:37Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      }
    ],
    "commit" : "ae1575b5cc8e697c69a911720caaf22bdacca3c1",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +239,243 @@\t}\n\n\tresult := make([]int64, 0, supplementalGroups.Len())\n\tfor _, group := range supplementalGroups.List() {\n\t\tiGroup, extra := getExtraSupplementalGid(group, pod)"
  }
]