[
  {
    "id" : "3f5d13d8-1927-44ec-ba54-426c76dd5733",
    "prId" : 97764,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97764#pullrequestreview-567012072",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9f55ef1e-9008-443e-82c5-e94208883592",
        "parentId" : null,
        "authorId" : "a5be0b3b-3db2-4c99-a598-55f8708db5df",
        "body" : "minor change request here ~ can we log that we are skipping cgroup checks because it's windows ?\r\n\r\nThat will help make the kubelet logs for windows nodes easier to follow .",
        "createdAt" : "2021-01-12T12:55:26Z",
        "updatedAt" : "2021-01-13T02:02:18Z",
        "lastEditedBy" : "a5be0b3b-3db2-4c99-a598-55f8708db5df",
        "tags" : [
        ]
      },
      {
        "id" : "fff0bea7-cc35-4635-9c49-ef5aedc1f047",
        "parentId" : "9f55ef1e-9008-443e-82c5-e94208883592",
        "authorId" : "a5be0b3b-3db2-4c99-a598-55f8708db5df",
        "body" : "And also remind us to maybe do some equivalent steps at some point down the road , for windows ",
        "createdAt" : "2021-01-12T12:56:00Z",
        "updatedAt" : "2021-01-13T02:02:18Z",
        "lastEditedBy" : "a5be0b3b-3db2-4c99-a598-55f8708db5df",
        "tags" : [
        ]
      },
      {
        "id" : "88a3cc7d-8bf4-4ed0-8a18-403a1a49321f",
        "parentId" : "9f55ef1e-9008-443e-82c5-e94208883592",
        "authorId" : "15f74a7a-a768-439c-9156-d306bb6bd667",
        "body" : "What would the equivalent steps be for Windows wrt cGroups? Maybe we should open an issue to track that?",
        "createdAt" : "2021-01-12T15:45:22Z",
        "updatedAt" : "2021-01-13T02:02:18Z",
        "lastEditedBy" : "15f74a7a-a768-439c-9156-d306bb6bd667",
        "tags" : [
        ]
      },
      {
        "id" : "8883367d-d00d-405f-965d-47db2261f623",
        "parentId" : "9f55ef1e-9008-443e-82c5-e94208883592",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "i don't think there is a need for a note in the code or a separate tracking issue.\r\n\r\nthere is no \"cgroup driver\" concept on Windows as there is no \"control group management\" fragmentation due to multiple solutions.\r\n\r\nit has Job objects:\r\nhttps://docs.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/resource-controls\r\n",
        "createdAt" : "2021-01-12T15:59:45Z",
        "updatedAt" : "2021-01-13T02:02:18Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "bd35b6b5-d4c3-4933-9c2a-57f3cacadfe7",
        "parentId" : "9f55ef1e-9008-443e-82c5-e94208883592",
        "authorId" : "15f74a7a-a768-439c-9156-d306bb6bd667",
        "body" : "Thanks @neolit123. I agree there is no need for a note or an issue. Just wanted to ensure I was not missing something.",
        "createdAt" : "2021-01-12T16:04:45Z",
        "updatedAt" : "2021-01-13T02:02:18Z",
        "lastEditedBy" : "15f74a7a-a768-439c-9156-d306bb6bd667",
        "tags" : [
        ]
      },
      {
        "id" : "787508a8-2fa1-48b7-a152-3ef6e1c3d909",
        "parentId" : "9f55ef1e-9008-443e-82c5-e94208883592",
        "authorId" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "body" : "@jayunit100 per @neolit123 's comments here.\r\n\r\nWindows has no concept of  `cgroup driver`. \r\nSo I add a comment(not kubelet logs) here. ",
        "createdAt" : "2021-01-13T02:02:57Z",
        "updatedAt" : "2021-01-13T02:03:23Z",
        "lastEditedBy" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "tags" : [
        ]
      },
      {
        "id" : "dadac75e-85a7-4599-9f0d-2663f4391336",
        "parentId" : "9f55ef1e-9008-443e-82c5-e94208883592",
        "authorId" : "a5be0b3b-3db2-4c99-a598-55f8708db5df",
        "body" : "Ok... the comment is good enough I guess :)",
        "createdAt" : "2021-01-13T09:01:15Z",
        "updatedAt" : "2021-01-13T09:01:16Z",
        "lastEditedBy" : "a5be0b3b-3db2-4c99-a598-55f8708db5df",
        "tags" : [
        ]
      }
    ],
    "commit" : "71d70f7a8320e971892cc92b29baefc37fcf8152",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +275,279 @@\t\t}\n\t\tklog.Infof(\"Setting cgroupDriver to %s\", cgroupDriver)\n\t\tds.cgroupDriver = cgroupDriver\n\t}\n"
  },
  {
    "id" : "881bb20f-0d37-4883-9e04-6abd7c789f93",
    "prId" : 97764,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97764#pullrequestreview-568176122",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ea82a3bb-964f-44e4-a860-0fec506d33a7",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "i side note here. i think we should turn this into a warning and override the user configuration.\r\nthis has bitten a lot of people and given we are detecting already we might as well just set the value to the one detected at the CR.\r\n\r\n@yujuhong @filbranden WDYT?\r\n",
        "createdAt" : "2021-01-13T15:15:50Z",
        "updatedAt" : "2021-01-13T15:15:50Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "91896007-dc39-45d0-9480-b20896245e5b",
        "parentId" : "ea82a3bb-964f-44e4-a860-0fec506d33a7",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "cc @derekwaynecarr \r\nhttps://github.com/kubernetes-sigs/cluster-api/issues/866#issuecomment-478728323",
        "createdAt" : "2021-01-13T15:46:23Z",
        "updatedAt" : "2021-01-13T15:46:23Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "e76c5656-d823-4677-9b4f-20d46e042959",
        "parentId" : "ea82a3bb-964f-44e4-a860-0fec506d33a7",
        "authorId" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "body" : "Good idea. \r\n\r\nHowever, I have encounter kernel memory leak issues with 'cgroupfs' in some runc versions.\r\nI'm not sure if we need to check the kernel version before overriding it.",
        "createdAt" : "2021-01-14T05:10:27Z",
        "updatedAt" : "2021-01-14T05:10:27Z",
        "lastEditedBy" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "tags" : [
        ]
      },
      {
        "id" : "dc9e5914-6db9-49a4-8881-af19bc89f92d",
        "parentId" : "ea82a3bb-964f-44e4-a860-0fec506d33a7",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "to be consistent, it might be better to just always override and for a particular affected release in the supported version skew we can add this to \"known issues\" so that users can change distro / upgrade runc.\r\n\r\nyou can log an issue for the leaks, btw.",
        "createdAt" : "2021-01-14T12:12:41Z",
        "updatedAt" : "2021-01-14T12:13:36Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      }
    ],
    "commit" : "71d70f7a8320e971892cc92b29baefc37fcf8152",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +272,276 @@\t\t}\n\t\tif len(kubeCgroupDriver) != 0 && kubeCgroupDriver != cgroupDriver {\n\t\t\treturn nil, fmt.Errorf(\"misconfiguration: kubelet cgroup driver: %q is different from docker cgroup driver: %q\", kubeCgroupDriver, cgroupDriver)\n\t\t}\n\t\tklog.Infof(\"Setting cgroupDriver to %s\", cgroupDriver)"
  },
  {
    "id" : "cdc3308c-405f-47fd-be4b-cb930048dbbb",
    "prId" : 74737,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74737#pullrequestreview-209846742",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0687b56a-0cc1-4e97-b49b-3df337adf128",
        "parentId" : null,
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "how big can this map grow?  it looks like we ignore errors after cleanup and always remove from the map.  so its basically we try to clean up once, and after that oh well?",
        "createdAt" : "2019-02-28T23:29:29Z",
        "updatedAt" : "2019-03-02T01:57:50Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "79954de9-81ad-41e8-93df-9b3192986dfb",
        "parentId" : "0687b56a-0cc1-4e97-b49b-3df337adf128",
        "authorId" : "01246cf1-b4e0-4cdd-818b-da86865d11bd",
        "body" : "> how big can this map grow?\r\n\r\nOnly as big as the number of containers which have been successfully created, and neither successfully started nor removed yet; _and_ which also have any clean up to be performed, ie that use GMSA cred specs.\r\n\r\n> it looks like we ignore errors after cleanup and always remove from the map. so its basically we try to clean up once, and after that oh well?\r\n\r\nYes this is just best effort. These reg keys don't contain any secrets anyhow. Also, we do try to clean up again at each dockershim start.",
        "createdAt" : "2019-02-28T23:33:22Z",
        "updatedAt" : "2019-03-02T01:57:50Z",
        "lastEditedBy" : "01246cf1-b4e0-4cdd-818b-da86865d11bd",
        "tags" : [
        ]
      },
      {
        "id" : "3f30848c-272a-482a-aced-6c00e3672473",
        "parentId" : "0687b56a-0cc1-4e97-b49b-3df337adf128",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "I think we may need periodic cleanup to ensure memory is not leaked permanently. \r\nI think this is okay for alpha, but would like this to be addressed by beta. Please add a comment and file an issue and/or update the KEP to reflect this (if @derekwaynecarr agrees with not doing this for alpha)",
        "createdAt" : "2019-03-01T22:54:32Z",
        "updatedAt" : "2019-03-02T01:57:50Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "8dadf260-3390-4017-81ce-946f60f4c558",
        "parentId" : "0687b56a-0cc1-4e97-b49b-3df337adf128",
        "authorId" : "01246cf1-b4e0-4cdd-818b-da86865d11bd",
        "body" : "@yujuhong : good call. Created https://github.com/kubernetes/kubernetes/issues/74843 and assigned it to myself.",
        "createdAt" : "2019-03-02T02:05:00Z",
        "updatedAt" : "2019-03-02T02:05:01Z",
        "lastEditedBy" : "01246cf1-b4e0-4cdd-818b-da86865d11bd",
        "tags" : [
        ]
      }
    ],
    "commit" : "5e3f3b35e0b46bc3a3d35c4986220f36777431c2",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +213,217 @@\t\tstartLocalStreamingServer: startLocalStreamingServer,\n\t\tnetworkReady:              make(map[string]bool),\n\t\tcontainerCleanupInfos:     make(map[string]*containerCleanupInfo),\n\t}\n"
  },
  {
    "id" : "53587eea-d63e-46e0-82cf-77985c026d2b",
    "prId" : 64006,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64006#pullrequestreview-125346270",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bdd52efa-8085-43df-9438-628ba5a0ea0a",
        "parentId" : null,
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "nit: server may have started, maybe \"Streaming server stopped unexpectedly: %v\"",
        "createdAt" : "2018-06-01T00:56:52Z",
        "updatedAt" : "2018-06-01T01:24:56Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      },
      {
        "id" : "539ac539-5ddd-4f40-9d23-1fd0ffa2cacc",
        "parentId" : "bdd52efa-8085-43df-9438-628ba5a0ea0a",
        "authorId" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "body" : "Will do.",
        "createdAt" : "2018-06-01T08:22:56Z",
        "updatedAt" : "2018-06-01T08:22:57Z",
        "lastEditedBy" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "tags" : [
        ]
      },
      {
        "id" : "c2dc66af-a13e-4ba9-a1ee-a0d0aaae1286",
        "parentId" : "bdd52efa-8085-43df-9438-628ba5a0ea0a",
        "authorId" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "body" : "Done",
        "createdAt" : "2018-06-02T00:11:02Z",
        "updatedAt" : "2018-06-02T00:11:03Z",
        "lastEditedBy" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "tags" : [
        ]
      }
    ],
    "commit" : "746c32db4cf47a0245ef1c1aa053df49fcf51c13",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +412,416 @@\t\tgo func() {\n\t\t\tif err := ds.streamingServer.Start(true); err != nil && err != http.ErrServerClosed {\n\t\t\t\tglog.Fatalf(\"Failed to start streaming server: %v\", err)\n\t\t\t}\n\t\t}()"
  },
  {
    "id" : "2afae18f-eb5b-4cca-b0f8-c9b0b8586917",
    "prId" : 42195,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/42195#pullrequestreview-24147279",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fcf0a11a-abb0-43c3-aa1b-6b86379106fe",
        "parentId" : null,
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "nit: do we need to log the driver name? It could help for debugging if there is something wrong when getting logs. ",
        "createdAt" : "2017-02-28T02:29:15Z",
        "updatedAt" : "2017-03-01T18:50:19Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "7c261bfed7a14db5d4c943e445e4b585d3ea39af",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +449,453 @@// IsCRISupportedLogDriver checks whether the logging driver used by docker is\n// suppoted by native CRI integration.\nfunc IsCRISupportedLogDriver(client dockertools.DockerInterface) (bool, error) {\n\tinfo, err := client.Info()\n\tif err != nil {"
  },
  {
    "id" : "2604fdd4-a8f8-404d-9abe-13209fae2347",
    "prId" : 35661,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/35661#pullrequestreview-6175724",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cd3b5e6f-4a81-491e-8c97-d01d364e2ae1",
        "parentId" : null,
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "Add a comment saying that we don't support non-native exec handlers for now, and a TODO to either deprecate or add support for nsenter. \n",
        "createdAt" : "2016-10-27T19:10:45Z",
        "updatedAt" : "2016-10-28T18:32:45Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "1f95d94f-609d-4164-bd02-49f31f8c76f2",
        "parentId" : "cd3b5e6f-4a81-491e-8c97-d01d364e2ae1",
        "authorId" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "body" : "Done (filed https://github.com/kubernetes/kubernetes/issues/35747)\n",
        "createdAt" : "2016-10-28T01:38:45Z",
        "updatedAt" : "2016-10-28T18:32:45Z",
        "lastEditedBy" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "c60db9953645f16de9ea922a3e62f84a371039f4",
    "line" : null,
    "diffHunk" : "@@ -1,1 +67,71 @@\t\t\t// Only the native exec handling is supported for now.\n\t\t\t// TODO(#35747) - Either deprecate nsenter exec handling, or add support for it here.\n\t\t\texecHandler: &dockertools.NativeExecHandler{},\n\t\t},\n\t}"
  },
  {
    "id" : "0d39249a-72d4-4b1a-8836-53a7d603ae6a",
    "prId" : 29553,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "65135d47-22f1-407a-b814-fa16769c9f52",
        "parentId" : null,
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "We could make `kubeAPIVersion` always same with `kubeGenericManager`, since they are in the same code base.\n",
        "createdAt" : "2016-07-27T04:37:23Z",
        "updatedAt" : "2016-07-28T01:30:32Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      },
      {
        "id" : "fd6e5a32-7440-4161-9745-45dbd766380a",
        "parentId" : "65135d47-22f1-407a-b814-fa16769c9f52",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "We could, but I don't want to add more dependency now. \n",
        "createdAt" : "2016-07-27T21:33:37Z",
        "updatedAt" : "2016-07-28T01:30:32Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      }
    ],
    "commit" : "03d11bcf4e5fce9acc5a9de1d00edb0a734d4871",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +29,33 @@const (\n\tdockerRuntimeName = \"docker\"\n\tkubeAPIVersion    = \"0.1.0\"\n\n\t// String used to detect docker host mode for various namespaces (e.g."
  }
]