[
  {
    "id" : "a83ac6fd-6410-44aa-adce-2837dbb6122c",
    "prId" : 15352,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d515852d-cd1b-4880-9c2b-c642df98c6fc",
        "parentId" : null,
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "@thockin @swagiaal @pweil- This is probably the most salient bit of this PR, wherein I have implemented recursion and projecting the right mode bits and GID onto things.\n",
        "createdAt" : "2015-10-22T17:38:34Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      },
      {
        "id" : "90d6f537-7efb-468a-be58-03ddc5e11c42",
        "parentId" : "d515852d-cd1b-4880-9c2b-c642df98c6fc",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "Note to self: move `managedOwnershipBitmask` into this file.\n",
        "createdAt" : "2015-10-22T17:38:52Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      }
    ],
    "commit" : "3cd12f5e0580e330a77412a6d722fd51d9dfe57f",
    "line" : null,
    "diffHunk" : "@@ -1,1 +34,38 @@// manageVolumeOwnership modifies the given volume to be owned by fsGroup.\nfunc (kl *Kubelet) manageVolumeOwnership(pod *api.Pod, volSpec *volume.Spec, builder volume.Builder, fsGroup int64) error {\n\treturn filepath.Walk(builder.GetPath(), func(path string, info os.FileInfo, err error) error {\n\t\tif err != nil {\n\t\t\treturn err"
  },
  {
    "id" : "0ea10876-c26c-4b46-ada2-eba5a069a31f",
    "prId" : 15352,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "60c45b58-782c-41a4-a99e-d5c110ab4db4",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "rather than calling stat on the dir and using that UID for everything, why not cast the FileInfo to (*syscall.Stat_t) and use the Uid there - that way you don't change the UID at all, ever.\n",
        "createdAt" : "2015-10-22T17:39:40Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "c2bf44c8-8cdb-4504-b337-1e4bc4a590bc",
        "parentId" : "60c45b58-782c-41a4-a99e-d5c110ab4db4",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "Ah, you're right.  I wish I had thought of that last night...  Oh wellsies!\n",
        "createdAt" : "2015-10-22T17:42:58Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      },
      {
        "id" : "eb229aa8-6431-447b-b029-fe8ba4a0ed6e",
        "parentId" : "60c45b58-782c-41a4-a99e-d5c110ab4db4",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "That was my aim, I am just sleep deprived :sleepy: \n",
        "createdAt" : "2015-10-22T18:11:10Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      },
      {
        "id" : "c70c4150-549b-48c0-9f00-ecc24bcc62b8",
        "parentId" : "60c45b58-782c-41a4-a99e-d5c110ab4db4",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "I can't do the cast -- I'll have to stat each path.  The golang interfaces aren't ideal here -- `FileInfo` contains no owner info.\n",
        "createdAt" : "2015-10-22T18:21:26Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      },
      {
        "id" : "ab34e3b3-207f-419a-8c20-8b47de4b1616",
        "parentId" : "60c45b58-782c-41a4-a99e-d5c110ab4db4",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "Omg, I guess I can do the cast, but that is seriously nasty...\n",
        "createdAt" : "2015-10-22T18:23:00Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      },
      {
        "id" : "c17c3925-2ebd-40bd-9f53-772fc7323a0c",
        "parentId" : "60c45b58-782c-41a4-a99e-d5c110ab4db4",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "Nevermind, I was misreading the code.  I can't do the cast, and will have to restat everything.  That seriously sucks...\n\nSee: https://golang.org/src/os/file_unix.go?s=4436:4477#L165\n",
        "createdAt" : "2015-10-22T18:23:55Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      },
      {
        "id" : "9710f1df-600f-4899-9107-7e149a914e46",
        "parentId" : "60c45b58-782c-41a4-a99e-d5c110ab4db4",
        "authorId" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "body" : "Nevermind, you're right.  You can do the cast, but it's nasty.  I'm doing it the nasty way for now.  @smarterclayton correctly points out that it's arguable we should exec instead.\n",
        "createdAt" : "2015-10-22T18:59:19Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "498aade9-b8f0-4e29-8055-89afa6f5fcc8",
        "tags" : [
        ]
      },
      {
        "id" : "58a8999f-6a89-401c-8342-b60679f87a66",
        "parentId" : "60c45b58-782c-41a4-a99e-d5c110ab4db4",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "FileInfo.Sys is provided EXACTLY for this reason. \n",
        "createdAt" : "2015-10-22T19:43:31Z",
        "updatedAt" : "2015-10-22T20:41:20Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "3cd12f5e0580e330a77412a6d722fd51d9dfe57f",
    "line" : null,
    "diffHunk" : "@@ -1,1 +49,53 @@\t\t}\n\n\t\terr = kl.chownRunner.Chown(path, int(stat.Uid), int(fsGroup))\n\t\tif err != nil {\n\t\t\tglog.Errorf(\"Chown failed on %v: %v\", path, err)"
  }
]