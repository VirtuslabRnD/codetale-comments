[
  {
    "id" : "0465ba4c-5cc1-458a-8ad7-af489a56b5a4",
    "prId" : 59692,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/59692#pullrequestreview-109898762",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fff03ffc-1bed-41b1-a4c8-4ab7bdee7a81",
        "parentId" : null,
        "authorId" : "d2b16581-e7e9-48b8-9f76-6f6bcb9ec300",
        "body" : "can you add a brief comment explaining the permissions?  Why do we want it to be executable, and what is it the permission for?",
        "createdAt" : "2018-04-05T00:10:43Z",
        "updatedAt" : "2018-04-19T16:19:05Z",
        "lastEditedBy" : "d2b16581-e7e9-48b8-9f76-6f6bcb9ec300",
        "tags" : [
        ]
      },
      {
        "id" : "44804fa8-06a4-476f-a20d-ca1e8625e3ca",
        "parentId" : "fff03ffc-1bed-41b1-a4c8-4ab7bdee7a81",
        "authorId" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "body" : "If you don't make a directory executable, you can't access the items in it. I thought about doing things differently for files vs. dirs, but decided to keep it uniform for simplicity.\r\n\r\nWith directories, AFAIK:\r\n- `r`: allows listing contained files (well, sort of, you'll see the file names but get other permission errors from `ls` if this is all you have, since you need `x` to read the permission bits, size, timestamps, etc. for the files).\r\n- `w`: allows creating files (in practice you often also need `x` to effectively create files, e.g `touch` fails without `x`, I don't actually know if there's a scenario where `w` is useful on its own)\r\n- `x`: allows accessing files (e.g. `cat`) and changing into the directory (e.g. `cd`)",
        "createdAt" : "2018-04-05T20:35:49Z",
        "updatedAt" : "2018-04-19T16:19:05Z",
        "lastEditedBy" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "tags" : [
        ]
      },
      {
        "id" : "4d3582dc-0950-4f0b-bd21-4c92e7336d09",
        "parentId" : "fff03ffc-1bed-41b1-a4c8-4ab7bdee7a81",
        "authorId" : "d2b16581-e7e9-48b8-9f76-6f6bcb9ec300",
        "body" : "good to know.  Was mostly just curious.",
        "createdAt" : "2018-04-05T22:27:55Z",
        "updatedAt" : "2018-04-19T16:19:05Z",
        "lastEditedBy" : "d2b16581-e7e9-48b8-9f76-6f6bcb9ec300",
        "tags" : [
        ]
      }
    ],
    "commit" : "c9d398d01eaa6cff6030506d561767c858ab88d3",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +26,30 @@\nconst (\n\tdefaultPerm = 0755\n\ttmptag      = \"tmp_\" // additional prefix to prevent accidental collisions\n)"
  },
  {
    "id" : "7373857d-844e-4b85-841c-f6f9d21a8d21",
    "prId" : 52493,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/52493#pullrequestreview-64147952",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8fa178f2-1283-48c7-a87d-b1107a57b827",
        "parentId" : null,
        "authorId" : "06a18a1b-6ca5-44b8-9cdc-5bb944ae4e29",
        "body" : "I wonder if this line redefines named return values? It is probably ok, but confusing.",
        "createdAt" : "2017-09-20T00:05:39Z",
        "updatedAt" : "2017-09-26T03:46:13Z",
        "lastEditedBy" : "06a18a1b-6ca5-44b8-9cdc-5bb944ae4e29",
        "tags" : [
        ]
      },
      {
        "id" : "92215486-765e-4951-9c65-81a9f7002979",
        "parentId" : "8fa178f2-1283-48c7-a87d-b1107a57b827",
        "authorId" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "body" : "It doesn't, the values make it through to the return.\r\nI made sure to test this in the playground ðŸ˜„ .\r\nBut I'll make it more explicit anyhow.",
        "createdAt" : "2017-09-20T20:09:25Z",
        "updatedAt" : "2017-09-26T03:46:13Z",
        "lastEditedBy" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "tags" : [
        ]
      },
      {
        "id" : "49c3201a-c12f-4df2-bcad-e0312b74671b",
        "parentId" : "8fa178f2-1283-48c7-a87d-b1107a57b827",
        "authorId" : "06a18a1b-6ca5-44b8-9cdc-5bb944ae4e29",
        "body" : "Oh, it's `tmpFile`, not `tmpPath` :)",
        "createdAt" : "2017-09-20T23:50:08Z",
        "updatedAt" : "2017-09-26T03:46:13Z",
        "lastEditedBy" : "06a18a1b-6ca5-44b8-9cdc-5bb944ae4e29",
        "tags" : [
        ]
      }
    ],
    "commit" : "62fecfb0f447ae07d2d410cb1da7ae65670b31eb",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +70,74 @@\n\t// create the tmp file\n\ttmpFile, err := fs.TempFile(dir, prefix)\n\tif err != nil {\n\t\treturn \"\", err"
  },
  {
    "id" : "68735bf9-e74e-4a39-9b4b-698450e3d328",
    "prId" : 52119,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/52119#pullrequestreview-62287167",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2ebea86a-8dcf-49ce-b56f-3db5e0ff8ed1",
        "parentId" : null,
        "authorId" : "06a18a1b-6ca5-44b8-9cdc-5bb944ae4e29",
        "body" : "This looks like a (pre-existing) file leak to me.\r\nI.e. if `Write()` or `Sync()` return an error or something panics then the file will not be closed properly. See https://joeshaw.org/dont-defer-close-on-writable-files/ for a good example of how to handle that with `defer` and namer return values.\r\n\r\nAnother thing that comes to mind is deleting the temporary file (after closing it) if there was an error. Otherwise it is left behind and just consumes space.",
        "createdAt" : "2017-09-09T02:35:23Z",
        "updatedAt" : "2017-09-09T02:35:23Z",
        "lastEditedBy" : "06a18a1b-6ca5-44b8-9cdc-5bb944ae4e29",
        "tags" : [
        ]
      },
      {
        "id" : "b0e81afc-dfcf-42f8-89f7-c3693e283fe8",
        "parentId" : "2ebea86a-8dcf-49ce-b56f-3db5e0ff8ed1",
        "authorId" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "body" : "Ah, thanks! I'll send a fix.",
        "createdAt" : "2017-09-12T22:40:33Z",
        "updatedAt" : "2017-09-12T22:40:33Z",
        "lastEditedBy" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "tags" : [
        ]
      }
    ],
    "commit" : "47beb80368bd3d640a7513339890d38861582ea2",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +88,92 @@\t\treturn err\n\t}\n\tif err := tmpFile.Close(); err != nil {\n\t\treturn err\n\t}"
  }
]