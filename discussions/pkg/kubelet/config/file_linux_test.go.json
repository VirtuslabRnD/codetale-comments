[
  {
    "id" : "89f04dad-17f0-44c6-bf2f-9c0e4aef32fa",
    "prId" : 99926,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/99926#pullrequestreview-612411762",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2b5ca765-f1df-41fa-83e0-2698e8edb232",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "expectUpdate already waits up to 5 seconds for an event from the channel, not sure why an extra sleep here is needed",
        "createdAt" : "2021-03-15T16:28:39Z",
        "updatedAt" : "2021-03-15T16:28:39Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "2bf69f8d-f385-4327-baab-b3b62dd6a226",
        "parentId" : "2b5ca765-f1df-41fa-83e0-2698e8edb232",
        "authorId" : "d201d1ca-4170-481e-8e0a-c6e9991f353a",
        "body" : "If `changeFile` is executed before fsnotify is ready, then there will be no fsnotify event.\r\n\r\nBecause `NewSourcefile` can't guarantee fsnotify to be ready. (the goroutine can be executed later)\r\nhttps://github.com/kubernetes/kubernetes/blob/0ed8ee6fd7169219fbeb9bca83023a980a7a36a5/pkg/kubelet/config/file_linux.go#L50-L66",
        "createdAt" : "2021-03-15T16:40:43Z",
        "updatedAt" : "2021-03-15T16:40:43Z",
        "lastEditedBy" : "d201d1ca-4170-481e-8e0a-c6e9991f353a",
        "tags" : [
        ]
      }
    ],
    "commit" : "d12072a23a97e309eccf8596cde34343fdd55244",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +326,330 @@\n\t\t\t// await fsnotify to be ready\n\t\t\ttime.Sleep(time.Second)\n\n\t\t\t// expect an update by SourceFile.resetStoreFromPath()"
  },
  {
    "id" : "0b324fa7-fbb0-4e92-afe3-35db61fd458e",
    "prId" : 99926,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/99926#pullrequestreview-612417242",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c4b3a9e7-66ca-4415-8a1b-6f0e338fb153",
        "parentId" : null,
        "authorId" : "d201d1ca-4170-481e-8e0a-c6e9991f353a",
        "body" : "@liggitt \r\nThis `expectUpdate` waits for a startup update, not a fsnotify event.\r\nhttps://github.com/kubernetes/kubernetes/blob/0ed8ee6fd7169219fbeb9bca83023a980a7a36a5/pkg/kubelet/config/file.go#L96-L99",
        "createdAt" : "2021-03-15T16:45:57Z",
        "updatedAt" : "2021-03-19T00:00:07Z",
        "lastEditedBy" : "d201d1ca-4170-481e-8e0a-c6e9991f353a",
        "tags" : [
        ]
      }
    ],
    "commit" : "d12072a23a97e309eccf8596cde34343fdd55244",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +329,333 @@\n\t\t\t// expect an update by SourceFile.resetStoreFromPath()\n\t\t\texpectUpdate(t, ch, testCase)\n\n\t\t\tpod := testCase.pod.(*v1.Pod)"
  },
  {
    "id" : "a702a499-4110-4cf8-bfa2-ea96727dd0a7",
    "prId" : 44495,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/44495#pullrequestreview-46578519",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bdfac9e6-0e0a-4b11-9d91-7f9d4d4f6fb9",
        "parentId" : null,
        "authorId" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "body" : "Editing the test case mid-test is unexpected, but it was already here so... maybe clean this up in a separate PR.",
        "createdAt" : "2017-06-27T22:45:47Z",
        "updatedAt" : "2018-02-15T03:48:36Z",
        "lastEditedBy" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c27779657852fc00f405463d1cd4b231659c989",
    "line" : 238,
    "diffHunk" : "@@ -1,1 +338,342 @@\t\t\t\tpod.Spec.Containers[0].Name = \"image2\"\n\n\t\t\t\ttestCase.expected.Pods[0].Spec.Containers[0].Name = \"image2\"\n\t\t\t\tif symlink {\n\t\t\t\t\tfile = testCase.writeToFile(linkedDirName, fileName, t)"
  },
  {
    "id" : "94575252-1d7f-48a5-9cac-21f353887a20",
    "prId" : 44495,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/44495#pullrequestreview-47522831",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "460bcea9-069a-4739-bed6-643aa803d79a",
        "parentId" : null,
        "authorId" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "body" : "Was there a specific reason they weren't being filtered before or is this just fixing a bug in the tests?",
        "createdAt" : "2017-06-27T22:52:15Z",
        "updatedAt" : "2018-02-15T03:48:36Z",
        "lastEditedBy" : "881df817-68e6-43dd-b4ea-f0b973f7dc41",
        "tags" : [
        ]
      },
      {
        "id" : "c0ad7f4c-3a61-4e85-a234-e0545c502e4e",
        "parentId" : "460bcea9-069a-4739-bed6-643aa803d79a",
        "authorId" : "c7a0b721-5b71-4526-adfd-9fc71ad44307",
        "body" : "In some test, the watched path doesn't exist at the beginning, so a empty pods will be [reported](https://github.com/kubernetes/kubernetes/blob/master/pkg/kubelet/config/file.go#L92). It is what this code filter for",
        "createdAt" : "2017-07-01T05:00:20Z",
        "updatedAt" : "2018-02-15T03:48:36Z",
        "lastEditedBy" : "c7a0b721-5b71-4526-adfd-9fc71ad44307",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c27779657852fc00f405463d1cd4b231659c989",
    "line" : 253,
    "diffHunk" : "@@ -1,1 +382,386 @@\t\tcase got := <-ch:\n\t\t\tupdate := got.(kubetypes.PodUpdate)\n\t\t\tif len(update.Pods) == 0 {\n\t\t\t\t// filter out the empty updates from reading a non-existing path\n\t\t\t\tcontinue"
  },
  {
    "id" : "415c17c2-459c-4a13-a5fb-3160fbce0af8",
    "prId" : 44495,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/44495#pullrequestreview-110240871",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "422907e6-4896-4fc9-9807-0c09319b5ba0",
        "parentId" : null,
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "Why change this? The methods are basically identical.",
        "createdAt" : "2017-09-28T01:22:45Z",
        "updatedAt" : "2018-02-15T03:48:36Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      },
      {
        "id" : "c8cbdbec-cc9c-43ac-b4e4-ef0df0f86e99",
        "parentId" : "422907e6-4896-4fc9-9807-0c09319b5ba0",
        "authorId" : "c7a0b721-5b71-4526-adfd-9fc71ad44307",
        "body" : "It is changed according to previous review: in order not to depend on other packages. I don't have preference. Reverse back is ok for me, if you insist.",
        "createdAt" : "2017-10-15T07:36:06Z",
        "updatedAt" : "2018-02-15T03:48:36Z",
        "lastEditedBy" : "c7a0b721-5b71-4526-adfd-9fc71ad44307",
        "tags" : [
        ]
      },
      {
        "id" : "fe35de2b-c77a-4b04-85ae-c246b4a3115c",
        "parentId" : "422907e6-4896-4fc9-9807-0c09319b5ba0",
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "It's fine to depend on client-go/util/testing from here. But I won't block the review on this.",
        "createdAt" : "2018-04-07T00:54:03Z",
        "updatedAt" : "2018-04-07T00:54:11Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c27779657852fc00f405463d1cd4b231659c989",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +74,78 @@\tfor _, testCase := range testCases {\n\t\tfunc() {\n\t\t\tdirName, err := mkTempDir(\"file-test\")\n\t\t\tif err != nil {\n\t\t\t\tt.Fatalf(\"unable to create temp dir: %v\", err)"
  },
  {
    "id" : "b6b7542d-b110-4d32-990c-d37ddae1d16a",
    "prId" : 27832,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/27832#pullrequestreview-1183523",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16f0a495-6511-4d06-aa43-a00ebf23dc3d",
        "parentId" : null,
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "We should have \"// +build linux\" on head.\n",
        "createdAt" : "2016-09-22T16:50:40Z",
        "updatedAt" : "2016-09-28T02:36:54Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      }
    ],
    "commit" : "4cedad1a9fb247bffd2c69f29bab0832fc010af0",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +1,5 @@// +build linux\n\n/*\nCopyright 2016 The Kubernetes Authors.\n"
  }
]