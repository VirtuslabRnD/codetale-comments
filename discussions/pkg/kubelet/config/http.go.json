[
  {
    "id" : "8129673c-3286-4b81-8821-ec8e7cf53b20",
    "prId" : 102471,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102471#pullrequestreview-675890187",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "83434418-cc5f-404b-a9fc-1cf97643ca93",
        "parentId" : null,
        "authorId" : "0aa379a2-dc46-4e1f-81d1-8ea59923ffcd",
        "body" : "The second parameter of make indicates the initial capacity. I think we should change it to this:\r\n `pods := make([]*v1.Pod, len(podList.Items))`",
        "createdAt" : "2021-06-04T02:06:39Z",
        "updatedAt" : "2021-06-04T02:12:09Z",
        "lastEditedBy" : "0aa379a2-dc46-4e1f-81d1-8ea59923ffcd",
        "tags" : [
        ]
      },
      {
        "id" : "64e82a1d-70ba-464f-9d9c-132b08156771",
        "parentId" : "83434418-cc5f-404b-a9fc-1cf97643ca93",
        "authorId" : "32b8d25c-f21a-4ff1-a275-7dbf7672c31a",
        "body" : "make(type, len, cap)\r\nhttps://github.com/golang/go/blob/2ebe77a2fda1ee9ff6fd9a3e08933ad1ebaea039/src/builtin/builtin.go#L172-L189\r\n\r\nJust allocate memory and not initialize the assignment nil ",
        "createdAt" : "2021-06-04T02:59:56Z",
        "updatedAt" : "2021-06-04T03:08:34Z",
        "lastEditedBy" : "32b8d25c-f21a-4ff1-a275-7dbf7672c31a",
        "tags" : [
        ]
      },
      {
        "id" : "6b739ea2-b992-4d73-b36d-ca1f0ba74dd9",
        "parentId" : "83434418-cc5f-404b-a9fc-1cf97643ca93",
        "authorId" : "0aa379a2-dc46-4e1f-81d1-8ea59923ffcd",
        "body" : "Sorry, I misunderstood. You're right.",
        "createdAt" : "2021-06-04T03:32:05Z",
        "updatedAt" : "2021-06-04T03:32:05Z",
        "lastEditedBy" : "0aa379a2-dc46-4e1f-81d1-8ea59923ffcd",
        "tags" : [
        ]
      }
    ],
    "commit" : "582b492cc0940d3ed20ea6028b1e54c3430289d0",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +130,134 @@\t\t\treturn multiPodErr\n\t\t}\n\t\tpods := make([]*v1.Pod, 0, len(podList.Items))\n\t\tfor i := range podList.Items {\n\t\t\tpods = append(pods, &podList.Items[i])"
  },
  {
    "id" : "0d781a3d-781b-4000-8fb5-92353c5a1ea6",
    "prId" : 102471,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102471#pullrequestreview-675880332",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a8701efc-11ff-4e9e-86c7-3e91420bb2c6",
        "parentId" : null,
        "authorId" : "0aa379a2-dc46-4e1f-81d1-8ea59923ffcd",
        "body" : "There is no need to use golang's package alias feature",
        "createdAt" : "2021-06-04T02:08:16Z",
        "updatedAt" : "2021-06-04T02:12:09Z",
        "lastEditedBy" : "0aa379a2-dc46-4e1f-81d1-8ea59923ffcd",
        "tags" : [
        ]
      },
      {
        "id" : "75a01eba-d744-4014-9d51-61a802a66cb5",
        "parentId" : "a8701efc-11ff-4e9e-86c7-3e91420bb2c6",
        "authorId" : "32b8d25c-f21a-4ff1-a275-7dbf7672c31a",
        "body" : "nit: Automatically added by formatting tool ",
        "createdAt" : "2021-06-04T03:00:31Z",
        "updatedAt" : "2021-06-04T03:00:31Z",
        "lastEditedBy" : "32b8d25c-f21a-4ff1-a275-7dbf7672c31a",
        "tags" : [
        ]
      }
    ],
    "commit" : "582b492cc0940d3ed20ea6028b1e54c3430289d0",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +23,27 @@\t\"time\"\n\n\tv1 \"k8s.io/api/core/v1\"\n\t\"k8s.io/apimachinery/pkg/util/wait\"\n\tapi \"k8s.io/kubernetes/pkg/apis/core\""
  },
  {
    "id" : "fcbc43b5-f030-410d-80e6-157b8cca939d",
    "prId" : 5622,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "09ea69e4-fd1f-4057-aef3-c7134b4a8dbe",
        "parentId" : null,
        "authorId" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "body" : "I remembered that I introduced this a while back, why we removed it at the first place?\n",
        "createdAt" : "2015-03-18T23:37:49Z",
        "updatedAt" : "2015-03-18T23:38:52Z",
        "lastEditedBy" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "tags" : [
        ]
      },
      {
        "id" : "1d7fcda9-44e8-4050-88d3-eb6a71d5d0b0",
        "parentId" : "09ea69e4-fd1f-4057-aef3-c7134b4a8dbe",
        "authorId" : "b7abca6a-d6be-4008-a014-3b5ca0e90529",
        "body" : "I tried looking at history but didn't find anything :(\n",
        "createdAt" : "2015-03-18T23:41:57Z",
        "updatedAt" : "2015-03-18T23:41:57Z",
        "lastEditedBy" : "b7abca6a-d6be-4008-a014-3b5ca0e90529",
        "tags" : [
        ]
      },
      {
        "id" : "07a3e947-83ab-4ca3-bccc-b41889e51a92",
        "parentId" : "09ea69e4-fd1f-4057-aef3-c7134b4a8dbe",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "I don't think we did. It was there in file.go, but was never(?) in http.go.\n",
        "createdAt" : "2015-03-18T23:45:40Z",
        "updatedAt" : "2015-03-18T23:45:40Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      }
    ],
    "commit" : "ce96182cc35e114d747fc81bf33b9ef18703eedf",
    "line" : null,
    "diffHunk" : "@@ -1,1 +207,211 @@\tpod.Namespace = kubelet.NamespaceDefault\n\tglog.V(5).Infof(\"Using namespace %q for pod %q from URL %s\", pod.Namespace, pod.Name, url)\n\tpod.ObjectMeta.SelfLink = fmt.Sprintf(\"/api/v1beta2/pods/%s?namespace=%s\",\n\t\tpod.Name, pod.Namespace)\n\treturn nil"
  },
  {
    "id" : "fdb42d65-2a3f-4023-9fdc-f73486a7480d",
    "prId" : 3725,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a284a8e5-d983-486b-90be-b8bf891e1e5b",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "Same comment here about being back-compat?\n",
        "createdAt" : "2015-01-22T20:50:39Z",
        "updatedAt" : "2015-01-22T20:53:40Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec775079152ac50ad99372a221d52b23684514ff",
    "line" : null,
    "diffHunk" : "@@ -1,1 +154,158 @@\t// This is required for backward compatibility, and should be removed once we\n\t// completely deprecate ContainerManifest.\n\tif len(pod.Name) == 0 {\n\t\tpod.Name = string(pod.UID)\n\t\tglog.V(5).Infof(\"Generate Name %q from UID %q from URL %s\", pod.Name, pod.UID, url)"
  },
  {
    "id" : "bc1d669d-2a93-4c2b-9a83-891bef9134bd",
    "prId" : 1343,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "255ada0f-d43d-4e8a-8bd8-fb5ac90aad13",
        "parentId" : null,
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "We do a hash comparison elsewhere:\n\nhttps://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/kubelet/kubelet.go#L495\n\nNot sure if this check is necessary.\n",
        "createdAt" : "2014-09-17T18:16:33Z",
        "updatedAt" : "2014-09-17T18:16:33Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      },
      {
        "id" : "8797c09d-2d0f-46f9-abeb-f67e34eea0d4",
        "parentId" : "255ada0f-d43d-4e8a-8bd8-fb5ac90aad13",
        "authorId" : "e502714c-bd7c-4aca-825e-0b61b925232c",
        "body" : "Up to you; I just noticed that I was getting \"Setting pods for source http : {...}\" in my kubelet.log every 20 seconds, and it seemed like it could potentially be a lot of log output for something that may never change.  It seemed preferable to me if the logs have output only on error or on change.\n",
        "createdAt" : "2014-09-17T18:25:21Z",
        "updatedAt" : "2014-09-17T18:25:21Z",
        "lastEditedBy" : "e502714c-bd7c-4aca-825e-0b61b925232c",
        "tags" : [
        ]
      }
    ],
    "commit" : "14fcf68edc8669bc1e9313759942aa6ab85adf29",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +72,76 @@\t\treturn fmt.Errorf(\"zero-length data received from %v\", s.url)\n\t}\n\t// Short circuit if the manifest has not changed since the last time it was read.\n\tif bytes.Compare(data, s.data) == 0 {\n\t\treturn nil"
  },
  {
    "id" : "12480a87-19c9-4618-a641-9d3e66da9535",
    "prId" : 828,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1e84866a-8252-48e8-86c5-fce0ffc517c3",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Wow, can you change this name to something sensical while you're here?\n",
        "createdAt" : "2014-08-08T00:47:06Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "41380f4c-3b92-40b1-8c52-8da2b92e1df0",
        "parentId" : "1e84866a-8252-48e8-86c5-fce0ffc517c3",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "For example \"hash of contents\"\n",
        "createdAt" : "2014-08-08T05:10:17Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      },
      {
        "id" : "42344ec2-e15e-4ecb-a1ba-847ce50f6688",
        "parentId" : "1e84866a-8252-48e8-86c5-fce0ffc517c3",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "If name is hash of contents you can't get updates (when we support those).  PodConfig is wired for it, the syncloop isn't \n",
        "createdAt" : "2014-08-08T05:25:17Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "75f23492-10c9-4066-bfff-74a9f85a1852",
        "parentId" : "1e84866a-8252-48e8-86c5-fce0ffc517c3",
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "There doesn't seem to be agreement on what we should change this name to. Who is the decider for which direction I should take?\n",
        "createdAt" : "2014-08-18T07:21:01Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "8b1d11ba-5038-4833-bfae-28f0b216c684",
        "parentId" : "1e84866a-8252-48e8-86c5-fce0ffc517c3",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Clayton has pointed out that the name is prefixed with the source later on in the system, so it is actually fine, despite looking weird here.\n",
        "createdAt" : "2014-08-18T16:54:45Z",
        "updatedAt" : "2014-08-18T16:54:45Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "ce572050a8fe415ec7b167a45e583dc7c38b2cf1",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +77,81 @@\t\tpod := kubelet.Pod{Name: manifest.ID, Manifest: manifest}\n\t\tif pod.Name == \"\" {\n\t\t\tpod.Name = \"1\"\n\t\t}\n\t\ts.updates <- kubelet.PodUpdate{[]kubelet.Pod{pod}, kubelet.SET}"
  },
  {
    "id" : "d0f0c06e-800b-4de3-8986-5ce61baf1030",
    "prId" : 828,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1bd51a02-4293-4cf7-8cdf-de169c882300",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Ah, I see, these are numbered. Can we prefix the number with the source?\n",
        "createdAt" : "2014-08-08T00:48:46Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "23169990-00b9-4ad4-8939-bc50147b31b1",
        "parentId" : "1bd51a02-4293-4cf7-8cdf-de169c882300",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Happens automatically in pod config.  Name just has to be unique within the source and predictable if you want updates \n",
        "createdAt" : "2014-08-08T05:23:57Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "14c708fe-2ef4-4094-bb2d-d8ed1ffb543a",
        "parentId" : "1bd51a02-4293-4cf7-8cdf-de169c882300",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Which with Brendan's other change to hash the container is less necessary (name being predictable across versions)\n",
        "createdAt" : "2014-08-08T05:41:57Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "4e34caa3-47f1-4938-b531-d24f023700cf",
        "parentId" : "1bd51a02-4293-4cf7-8cdf-de169c882300",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Hm, that doesn't actually change the pod's name, does it?\n",
        "createdAt" : "2014-08-08T17:20:13Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "a3c47049-4482-4472-a1a3-dda248c8484c",
        "parentId" : "1bd51a02-4293-4cf7-8cdf-de169c882300",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "If the name changes you won't be in the pod anymore, so you'll be deleted, and a new version spun up.  So a container representing the newer version will exist and the older version will be deleted.\n",
        "createdAt" : "2014-08-08T18:26:09Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "ce572050a8fe415ec7b167a45e583dc7c38b2cf1",
    "line" : 57,
    "diffHunk" : "@@ -1,1 +102,106 @@\t\t\tpod := kubelet.Pod{Name: manifest.ID, Manifest: manifest}\n\t\t\tif pod.Name == \"\" {\n\t\t\t\tpod.Name = fmt.Sprintf(\"%d\", i+1)\n\t\t\t}\n\t\t\tpods = append(pods, pod)"
  },
  {
    "id" : "40a743a9-b9a4-40c3-9f07-42c02bea861e",
    "prId" : 828,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "da9d0a61-22c9-474b-9f8e-fda25e5f3796",
        "parentId" : null,
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "I think this should use api.Decode now.\n",
        "createdAt" : "2014-08-08T05:09:39Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      },
      {
        "id" : "132b7767-c7dd-4693-b038-05b241da71f2",
        "parentId" : "da9d0a61-22c9-474b-9f8e-fda25e5f3796",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "I was about to say that, too, but it can't, because this is taking either a single container manifest or an array of them, neither of which is a \"real\" API object having a JSONBase.\n",
        "createdAt" : "2014-08-08T17:16:32Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "ce572050a8fe415ec7b167a45e583dc7c38b2cf1",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +68,72 @@\t// First try as if it's a single manifest\n\tvar manifest api.ContainerManifest\n\tsingleErr := yaml.Unmarshal(data, &manifest)\n\tif singleErr == nil {\n\t\tif errs := api.ValidateManifest(&manifest); len(errs) > 0 {"
  },
  {
    "id" : "eb3d403f-b85b-4b8f-9c00-ed3a5621687e",
    "prId" : 828,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bfc6f8fb-d6e6-4829-a7f3-db17a2d24d90",
        "parentId" : null,
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "Can you change the yaml.Unmarshal above to api.Decode(...)\n\n[for some insane reason, github won't let you comment on lines that it condensed in the diff view _sigh_]\n",
        "createdAt" : "2014-08-08T05:11:56Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      },
      {
        "id" : "963a09a0-26ee-4d17-bfdb-d2073c97252b",
        "parentId" : "bfc6f8fb-d6e6-4829-a7f3-db17a2d24d90",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "(The real reason we can't do this: it would break our container VM image.)\n\nWhat we should do here (eventually?) is first attempt to api.Decode. If we get an api.Pod or api.PodList, great, we're done. But then we need to fall back to this behavior to be backwards compatible.\n",
        "createdAt" : "2014-08-08T17:19:10Z",
        "updatedAt" : "2014-08-18T07:45:01Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "ce572050a8fe415ec7b167a45e583dc7c38b2cf1",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +86,90 @@\tvar manifests []api.ContainerManifest\n\tmultiErr := yaml.Unmarshal(data, &manifests)\n\t// We're not sure if the person reading the logs is going to care about the single or\n\t// multiple manifest unmarshalling attempt, so we need to put both in the logs, as is\n\t// done at the end. Hence not returning early here."
  }
]