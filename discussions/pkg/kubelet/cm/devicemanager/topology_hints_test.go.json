[
  {
    "id" : "5e11984f-4e8d-4006-a5a2-d3ed55c45d01",
    "prId" : 92967,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/92967#pullrequestreview-519612973",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1a4c111e-5abd-432d-be46-1ac72ee3fb64",
        "parentId" : null,
        "authorId" : "8eff55b7-2f52-4dd6-b8a6-b75a1c427179",
        "body" : "I'm not 100% opposed to this, but it does make each test case much more verbose.\r\nWhat added flexibility does this give us over using the existing `makePod()` call and then overwriting what we need to as necessary?",
        "createdAt" : "2020-10-28T19:05:28Z",
        "updatedAt" : "2020-11-12T11:26:46Z",
        "lastEditedBy" : "8eff55b7-2f52-4dd6-b8a6-b75a1c427179",
        "tags" : [
        ]
      },
      {
        "id" : "336513d5-5dcc-4be2-8035-ef7f2a99a8bd",
        "parentId" : "1a4c111e-5abd-432d-be46-1ac72ee3fb64",
        "authorId" : "a1d73c29-275d-437e-b673-7957d6a4d943",
        "body" : "Well, test cases that are specific for `TestGetPodTopologyHints(...)` have a couple of containers inside them, that's why it is easier to define it as a raw pod (as `makePod()` returns a pod with one container).\r\n\r\nI can try to create a similar function to `makePod()` for a multi-container pod, if needed.\r\n\r\nSee example these case's pod  below:\r\n```\r\npod: &v1.Pod{\r\n\tObjectMeta: metav1.ObjectMeta{\r\n\t\tUID: \"fakePod\",\r\n\t},\r\n\tSpec: v1.PodSpec{\r\n\t\tInitContainers: []v1.Container{\r\n\t\t\t{\r\n\t\t\t\tResources: v1.ResourceRequirements{\r\n\t\t\t\t\tLimits: v1.ResourceList{\r\n\t\t\t\t\t\tv1.ResourceName(\"testdevice1\"): resource.MustParse(\"1\"),\r\n\t\t\t\t\t\tv1.ResourceName(\"testdevice2\"): resource.MustParse(\"1\"),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tResources: v1.ResourceRequirements{\r\n\t\t\t\t\tLimits: v1.ResourceList{\r\n\t\t\t\t\t\tv1.ResourceName(\"testdevice1\"): resource.MustParse(\"1\"),\r\n\t\t\t\t\t\tv1.ResourceName(\"testdevice2\"): resource.MustParse(\"2\"),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tContainers: []v1.Container{\r\n\t\t\t{\r\n\t\t\t\tName: \"fakeContainer1\",\r\n\t\t\t\tResources: v1.ResourceRequirements{\r\n\t\t\t\t\tLimits: v1.ResourceList{\r\n\t\t\t\t\t\tv1.ResourceName(\"testdevice1\"): resource.MustParse(\"1\"),\r\n\t\t\t\t\t\tv1.ResourceName(\"testdevice2\"): resource.MustParse(\"1\"),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tName: \"fakeContainer2\",\r\n\t\t\t\tResources: v1.ResourceRequirements{\r\n\t\t\t\t\tLimits: v1.ResourceList{\r\n\t\t\t\t\t\tv1.ResourceName(\"testdevice1\"): resource.MustParse(\"1\"),\r\n\t\t\t\t\t\tv1.ResourceName(\"testdevice2\"): resource.MustParse(\"1\"),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tName: \"fakeContainer3\",\r\n\t\t\t\tResources: v1.ResourceRequirements{\r\n\t\t\t\t\tLimits: v1.ResourceList{\r\n\t\t\t\t\t\t\t\t\tv1.ResourceName(\"notRegistered\"): resource.MustParse(\"1\"),\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n```",
        "createdAt" : "2020-10-29T12:30:15Z",
        "updatedAt" : "2020-11-12T11:26:46Z",
        "lastEditedBy" : "a1d73c29-275d-437e-b673-7957d6a4d943",
        "tags" : [
        ]
      }
    ],
    "commit" : "b7714918db923523d98e6dd834f53b57a407acd0",
    "line" : 1676,
    "diffHunk" : "@@ -1,1 +997,1001 @@\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tdevices: map[string][]pluginapi.Device{"
  },
  {
    "id" : "f203d62a-67be-4e3d-ad57-05f7687ad270",
    "prId" : 84525,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/84525#pullrequestreview-308709307",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16275307-0e65-4923-bf81-9e224703a4c2",
        "parentId" : null,
        "authorId" : "f181934d-9b1f-41af-9c11-d9cf009ee92f",
        "body" : "Just curious, can we hit this case in practice?",
        "createdAt" : "2019-10-29T16:57:25Z",
        "updatedAt" : "2019-11-06T15:30:48Z",
        "lastEditedBy" : "f181934d-9b1f-41af-9c11-d9cf009ee92f",
        "tags" : [
        ]
      },
      {
        "id" : "d16cff57-8b5d-4080-a53c-66e022b47c62",
        "parentId" : "16275307-0e65-4923-bf81-9e224703a4c2",
        "authorId" : "8eff55b7-2f52-4dd6-b8a6-b75a1c427179",
        "body" : "For the exact case you've run into -- after a kubelet restart.",
        "createdAt" : "2019-10-29T17:11:34Z",
        "updatedAt" : "2019-11-06T15:30:48Z",
        "lastEditedBy" : "8eff55b7-2f52-4dd6-b8a6-b75a1c427179",
        "tags" : [
        ]
      },
      {
        "id" : "c972f262-7924-4d0c-8b03-7391ee5a2d78",
        "parentId" : "16275307-0e65-4923-bf81-9e224703a4c2",
        "authorId" : "f181934d-9b1f-41af-9c11-d9cf009ee92f",
        "body" : "doh!...I meant to highlight the \"Single device type, some already allocated to container\" case.  oops.",
        "createdAt" : "2019-10-29T17:30:05Z",
        "updatedAt" : "2019-11-06T15:30:48Z",
        "lastEditedBy" : "f181934d-9b1f-41af-9c11-d9cf009ee92f",
        "tags" : [
        ]
      },
      {
        "id" : "1ca48b22-20e1-4104-91a8-d135179462b4",
        "parentId" : "16275307-0e65-4923-bf81-9e224703a4c2",
        "authorId" : "8eff55b7-2f52-4dd6-b8a6-b75a1c427179",
        "body" : "Ah. That makes more sense.\r\n\r\nYeah, that case should never come up in practice today, but it's good to test to make sure that the logic does what's expected should any code change that affects this.",
        "createdAt" : "2019-10-29T17:41:19Z",
        "updatedAt" : "2019-11-06T15:30:48Z",
        "lastEditedBy" : "8eff55b7-2f52-4dd6-b8a6-b75a1c427179",
        "tags" : [
        ]
      }
    ],
    "commit" : "4d4d4bdd6152d34203bc2f273160ac5a172a0917",
    "line" : 133,
    "diffHunk" : "@@ -1,1 +285,289 @@\t\t},\n\t\t{\n\t\t\tdescription:   \"Single device type, all already allocated to container\",\n\t\t\tpodUID:        \"fakePod\",\n\t\t\tcontainerName: \"fakeContainer\","
  }
]