[
  {
    "id" : "1c113eb8-4fde-476d-8f96-36e8c72362a6",
    "prId" : 52149,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/52149#pullrequestreview-76724806",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4f4003d8-0f45-4e24-ad14-846ee4b22193",
        "parentId" : null,
        "authorId" : "087d84fc-07af-43a9-8be7-af7ed27f5df4",
        "body" : "listAndWatch -> This routine",
        "createdAt" : "2017-11-15T07:16:51Z",
        "updatedAt" : "2017-11-15T09:28:21Z",
        "lastEditedBy" : "087d84fc-07af-43a9-8be7-af7ed27f5df4",
        "tags" : [
        ]
      },
      {
        "id" : "17ab2b82-a923-44d2-8de6-4f8ed451e560",
        "parentId" : "4f4003d8-0f45-4e24-ad14-846ee4b22193",
        "authorId" : "1a75d411-1ce5-48f2-9967-25f88794c451",
        "body" : "the `listAndWatch` here indicates that in plugin client, so I think it ok to keep it as is.",
        "createdAt" : "2017-11-15T09:47:49Z",
        "updatedAt" : "2017-11-15T09:47:49Z",
        "lastEditedBy" : "1a75d411-1ce5-48f2-9967-25f88794c451",
        "tags" : [
        ]
      }
    ],
    "commit" : "4fa0fa5ad17fd8484102e8d4e553d8cc28d86704",
    "line" : 56,
    "diffHunk" : "@@ -1,1 +80,84 @@// run initializes ListAndWatch gRPC call for the device plugin and\n// blocks on receiving ListAndWatch gRPC stream updates. Each ListAndWatch\n// stream update contains a new list of device states. listAndWatch compares the new\n// device states with its cached states to get list of new, updated, and deleted devices.\n// It then issues a callback to pass this information to the device_plugin_handler which"
  },
  {
    "id" : "8a716034-b869-4fec-91d9-a178ffb7e3a2",
    "prId" : 52149,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/52149#pullrequestreview-76723666",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d728a037-ce0a-4d4a-aa38-a1ecf3c43dd1",
        "parentId" : null,
        "authorId" : "087d84fc-07af-43a9-8be7-af7ed27f5df4",
        "body" : "This is an indication of the device plugin failure, should invoke the callback() to clean any devices registered?\r\nSame question on line 107.",
        "createdAt" : "2017-11-15T07:33:56Z",
        "updatedAt" : "2017-11-15T09:28:21Z",
        "lastEditedBy" : "087d84fc-07af-43a9-8be7-af7ed27f5df4",
        "tags" : [
        ]
      },
      {
        "id" : "5c047e28-cd36-42a1-919e-2dec899293aa",
        "parentId" : "d728a037-ce0a-4d4a-aa38-a1ecf3c43dd1",
        "authorId" : "1a75d411-1ce5-48f2-9967-25f88794c451",
        "body" : "the cleanup task is done in [manager layer](https://github.com/kubernetes/kubernetes/blob/master/pkg/kubelet/cm/deviceplugin/manager.go#L243)",
        "createdAt" : "2017-11-15T09:43:50Z",
        "updatedAt" : "2017-11-15T09:44:05Z",
        "lastEditedBy" : "1a75d411-1ce5-48f2-9967-25f88794c451",
        "tags" : [
        ]
      }
    ],
    "commit" : "4fa0fa5ad17fd8484102e8d4e553d8cc28d86704",
    "line" : 66,
    "diffHunk" : "@@ -1,1 +89,93 @@\tstream, err := e.client.ListAndWatch(context.Background(), &pluginapi.Empty{})\n\tif err != nil {\n\t\tglog.Errorf(errListAndWatch, e.resourceName, err)\n\n\t\treturn"
  }
]