[
  {
    "id" : "29b02fba-5513-40fe-a978-cabb87fc4c23",
    "prId" : 58319,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/58319#pullrequestreview-89278766",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fcf87d01-93cc-4afb-803a-de2b6cce7a72",
        "parentId" : null,
        "authorId" : "ac146833-f0d6-4680-968a-749269c0d55d",
        "body" : "can we use the dial function here ?",
        "createdAt" : "2018-01-16T22:20:58Z",
        "updatedAt" : "2018-01-16T22:21:18Z",
        "lastEditedBy" : "ac146833-f0d6-4680-968a-749269c0d55d",
        "tags" : [
        ]
      },
      {
        "id" : "9aa20c7a-5d56-46f6-a7cc-2979ac09db7f",
        "parentId" : "fcf87d01-93cc-4afb-803a-de2b6cce7a72",
        "authorId" : "611b3189-700b-4eda-8a2a-2c4280218d7c",
        "body" : "I will leave this up-to @vikaschoudhary16 to decide. Note that this part will change once we have a generic kubelet plugin model, which will use probe instead of registration.",
        "createdAt" : "2018-01-16T22:59:51Z",
        "updatedAt" : "2018-01-16T22:59:51Z",
        "lastEditedBy" : "611b3189-700b-4eda-8a2a-2c4280218d7c",
        "tags" : [
        ]
      }
    ],
    "commit" : "9c847fc4d6d5f86ddc17e7717e9357e4b0a54caa",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +107,111 @@// Register registers the device plugin for the given resourceName with Kubelet.\nfunc (m *Stub) Register(kubeletEndpoint, resourceName string) error {\n\tconn, err := grpc.Dial(kubeletEndpoint, grpc.WithInsecure(), grpc.WithBlock(),\n\t\tgrpc.WithTimeout(10*time.Second),\n\t\tgrpc.WithDialer(func(addr string, timeout time.Duration) (net.Conn, error) {"
  },
  {
    "id" : "6c79bff4-d8d4-45b5-937d-ebeead2a4966",
    "prId" : 55921,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/55921#pullrequestreview-85048624",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9f008787-7dcf-40d3-9611-17457d80cb52",
        "parentId" : null,
        "authorId" : "ac146833-f0d6-4680-968a-749269c0d55d",
        "body" : "This whole loop is pretty much useless and is a \"fancy sleep\" that executes enough code so that the server goes up on the CI.\r\nNot really worth changing it",
        "createdAt" : "2017-12-20T12:42:38Z",
        "updatedAt" : "2018-01-12T21:48:25Z",
        "lastEditedBy" : "ac146833-f0d6-4680-968a-749269c0d55d",
        "tags" : [
        ]
      },
      {
        "id" : "f5146944-f24e-429e-9b26-ed8f87abf710",
        "parentId" : "9f008787-7dcf-40d3-9611-17457d80cb52",
        "authorId" : "784d1027-6681-40bf-820f-6ec72067791f",
        "body" : "This `if` statement will never be got inside as `GetServiceInfo()` will return only one service, so if this is a \"fancy sleep\", maybe we can just sleep here without any conditionals.",
        "createdAt" : "2017-12-21T01:33:55Z",
        "updatedAt" : "2018-01-12T21:48:25Z",
        "lastEditedBy" : "784d1027-6681-40bf-820f-6ec72067791f",
        "tags" : [
        ]
      },
      {
        "id" : "a64385b1-31df-40aa-9124-9040584f2c73",
        "parentId" : "9f008787-7dcf-40d3-9611-17457d80cb52",
        "authorId" : "ac146833-f0d6-4680-968a-749269c0d55d",
        "body" : "I already fixed the insanity :D in the stub device plugin in https://github.com/kubernetes/kubernetes/pull/52612\r\n\r\nThe sane way to do this is to send a blocking connection (with timeout) to the server after starting it.",
        "createdAt" : "2017-12-21T12:34:23Z",
        "updatedAt" : "2018-01-12T21:48:25Z",
        "lastEditedBy" : "ac146833-f0d6-4680-968a-749269c0d55d",
        "tags" : [
        ]
      }
    ],
    "commit" : "b96c383ef7982f526db190ebba76730fd6c818df",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +71,75 @@\tfor i := 0; i < 10; i++ {\n\t\tservices := m.server.GetServiceInfo()\n\t\tif len(services) > 0 {\n\t\t\tbreak\n\t\t}"
  }
]