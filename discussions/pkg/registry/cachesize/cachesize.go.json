[
  {
    "id" : "34d404b1-6c2d-41da-a419-e69d055d7c8b",
    "prId" : 85339,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/85339#pullrequestreview-317760783",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f9b1bed7-4620-43d6-ae76-2b3c9a135c15",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "are these 1:1 with endpoints? I thought there were expected to be fewer of these. cc @robscott ",
        "createdAt" : "2019-11-15T13:22:13Z",
        "updatedAt" : "2019-11-15T13:22:13Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "60c616b4-bebc-4e35-b3ad-0c60e0b5ee8d",
        "parentId" : "f9b1bed7-4620-43d6-ae76-2b3c9a135c15",
        "authorId" : "efa0987e-7d25-471d-9dea-9daaf77c2120",
        "body" : "They are not, it's a one Endpoints object to many EndpointsSlice objects relation.\r\nBut what matters for the cache size is the number of updates which is roughly the same, i.e. for a single pod change there will be one Endpoints object update and also one EndpointSlice object update.",
        "createdAt" : "2019-11-15T13:44:08Z",
        "updatedAt" : "2019-11-15T13:44:08Z",
        "lastEditedBy" : "efa0987e-7d25-471d-9dea-9daaf77c2120",
        "tags" : [
        ]
      },
      {
        "id" : "8581494d-6ae7-4dca-9f1e-b5ac29768eae",
        "parentId" : "f9b1bed7-4620-43d6-ae76-2b3c9a135c15",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Yes - this cache is not number of objects, but number of recent changes (events) we keep.\r\nRoughly 1:1 correspondence here is what we want.",
        "createdAt" : "2019-11-15T13:46:31Z",
        "updatedAt" : "2019-11-15T13:46:32Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "14d615ce-11ba-4c32-b8e6-812f99be4cb2",
        "parentId" : "f9b1bed7-4620-43d6-ae76-2b3c9a135c15",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "It seems problematic that this is fixed and open-coded.  Even *I* did not know to change this.\r\n\r\nWhat can we do to make this automatic and heuristic rather than manual?",
        "createdAt" : "2019-11-15T16:17:58Z",
        "updatedAt" : "2019-11-15T16:17:58Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "d2ca6c53-0ffd-48af-8e36-1a2548c33e05",
        "parentId" : "f9b1bed7-4620-43d6-ae76-2b3c9a135c15",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "We should - I remember having an issue for it, but can't find it now. But yeah - it's in our backlog.",
        "createdAt" : "2019-11-15T17:23:57Z",
        "updatedAt" : "2019-11-15T17:23:57Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "44452995d62e34e6f79e1fe939548b91e3bbf463",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +37,41 @@\twatchCacheSizes[schema.GroupResource{Resource: \"replicationcontrollers\"}] = maxInt(5*clusterSize, 100)\n\twatchCacheSizes[schema.GroupResource{Resource: \"endpoints\"}] = maxInt(10*clusterSize, 1000)\n\twatchCacheSizes[schema.GroupResource{Resource: \"endpointslices\", Group: \"discovery.k8s.io\"}] = maxInt(10*clusterSize, 1000)\n\twatchCacheSizes[schema.GroupResource{Resource: \"nodes\"}] = maxInt(5*clusterSize, 1000)\n\twatchCacheSizes[schema.GroupResource{Resource: \"pods\"}] = maxInt(50*clusterSize, 1000)"
  },
  {
    "id" : "f09bb7e2-217e-4710-aed3-06adf64fbfbd",
    "prId" : 25562,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4276234a-a224-4395-92df-e1626eb815d7",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "why so many when others are 100? to match nodes?\n",
        "createdAt" : "2016-05-13T23:15:29Z",
        "updatedAt" : "2016-06-28T19:06:48Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "ab66fc7f-0b4b-4849-b05c-28aebdd3659b",
        "parentId" : "4276234a-a224-4395-92df-e1626eb815d7",
        "authorId" : "dabe34ec-22c8-4948-a579-d661cdc42761",
        "body" : "to match nodes- they theoretically could be 1:1\n",
        "createdAt" : "2016-05-16T20:16:54Z",
        "updatedAt" : "2016-06-28T19:06:48Z",
        "lastEditedBy" : "dabe34ec-22c8-4948-a579-d661cdc42761",
        "tags" : [
        ]
      },
      {
        "id" : "8a61b8cd-ab6e-4514-a687-0e5ec05922d0",
        "parentId" : "4276234a-a224-4395-92df-e1626eb815d7",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "SGTM,\n",
        "createdAt" : "2016-05-16T20:36:27Z",
        "updatedAt" : "2016-06-28T19:06:48Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      }
    ],
    "commit" : "c9c6fff269685a23710bf6ff22cf641df06367de",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +63,67 @@func init() {\n\twatchCacheSizes = make(map[Resource]int)\n\twatchCacheSizes[CertificateSigningRequests] = 1000\n\twatchCacheSizes[ClusterRoles] = 100\n\twatchCacheSizes[ClusterRoleBindings] = 100"
  },
  {
    "id" : "dd28eb46-66c8-46b1-ac5f-5302b9df330a",
    "prId" : 24315,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2780774f-3739-4a38-a55a-07cba511c0be",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "We _really_ need to stop open-coding this stuff all over.\n",
        "createdAt" : "2016-04-20T00:28:46Z",
        "updatedAt" : "2016-04-21T01:49:50Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ac10c6cc2ab18c6543e845d0a2aee8c4500177b",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +35,39 @@\tHorizontalPodAutoscalers Resource = \"horizontalpodautoscalers\"\n\tIngress                  Resource = \"ingress\"\n\tPetSet                   Resource = \"petset\"\n\tJobs                     Resource = \"jobs\"\n\tLimitRanges              Resource = \"limitranges\""
  }
]