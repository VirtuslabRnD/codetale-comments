[
  {
    "id" : "1142eac9-1dcc-4f0f-8630-296df201a471",
    "prId" : 98753,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/98753#pullrequestreview-606966259",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "49fd6546-2783-4495-a3eb-5c81f69265f4",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "make sure there's a tracking issue open to change this in 1.22",
        "createdAt" : "2021-03-09T05:55:41Z",
        "updatedAt" : "2021-03-09T05:56:38Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "b5baba0a-2be0-480f-8579-477f44006ad8",
        "parentId" : "49fd6546-2783-4495-a3eb-5c81f69265f4",
        "authorId" : "d10fef96-5a18-44e7-b23e-735de7561af7",
        "body" : "Thanks, I created https://github.com/kubernetes/kubernetes/issues/99981 for it.",
        "createdAt" : "2021-03-09T06:00:46Z",
        "updatedAt" : "2021-03-09T06:00:46Z",
        "lastEditedBy" : "d10fef96-5a18-44e7-b23e-735de7561af7",
        "tags" : [
        ]
      }
    ],
    "commit" : "1e16615fb0fa66e5c70b6e6fc68ba68522abb66f",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +76,80 @@\toldCSINodeObj := old.(*storage.CSINode)\n\t// in 1.21 on update, set AllowLongNodeID to true only if the old object already has a long node ID\n\t// in 1.22 on update, set AllowLongNodeID=true\n\tallowLongNodeID := false\n\tfor _, nodeDriver := range oldCSINodeObj.Spec.Drivers {"
  },
  {
    "id" : "6ced815e-9fcb-4b9f-95e6-aff60db52b3f",
    "prId" : 77595,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77595#pullrequestreview-238025820",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cffe30a2-aa6d-4c8a-8f24-0da0c1d294eb",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "Sorry I meant that the logic here for dropping the allocatable field should check for feature gate and if the field is already set.  You can use the [storageclass prepareforupdate](https://github.com/kubernetes/kubernetes/blob/d75da7e17e234277f072f3e1324d8a475343e26a/pkg/registry/storage/storageclass/strategy.go#L66) as an example.",
        "createdAt" : "2019-05-13T17:21:28Z",
        "updatedAt" : "2019-06-25T14:31:23Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "a426fd7f-9423-4f5e-9f28-6bba0d8676bd",
        "parentId" : "cffe30a2-aa6d-4c8a-8f24-0da0c1d294eb",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "and unit tests",
        "createdAt" : "2019-05-15T18:53:35Z",
        "updatedAt" : "2019-06-25T14:31:23Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "f769e775-2c76-4839-8397-0f0a362571ee",
        "parentId" : "cffe30a2-aa6d-4c8a-8f24-0da0c1d294eb",
        "authorId" : "255dd885-bee4-4c1f-baef-ba11f903dc5c",
        "body" : "Done. I used a map to avoid repeatedly iterating over the drivers of the old object.",
        "createdAt" : "2019-05-16T11:01:24Z",
        "updatedAt" : "2019-06-25T14:31:23Z",
        "lastEditedBy" : "255dd885-bee4-4c1f-baef-ba11f903dc5c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6abc04d059b42ffdc1b68f5b847f18e57ac0680d",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +72,76 @@\n// PrepareForUpdate sets the driver's Allocatable fields that are not allowed to be set by an end user updating a CSINode.\nfunc (csiNodeStrategy) PrepareForUpdate(ctx context.Context, obj, old runtime.Object) {\n\tnewCSINode := obj.(*storage.CSINode)\n\toldCSINode := old.(*storage.CSINode)"
  },
  {
    "id" : "b4c6c7e2-8cb6-4b05-8e25-a3d686aec9ed",
    "prId" : 77595,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77595#pullrequestreview-254417200",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "45333f04-2b5c-4b1a-8595-89b9bcf8920d",
        "parentId" : null,
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "It seems this call should be moved inside the feature gate check.",
        "createdAt" : "2019-06-26T07:08:25Z",
        "updatedAt" : "2019-06-26T07:42:36Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "6abc04d059b42ffdc1b68f5b847f18e57ac0680d",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +76,80 @@\toldCSINode := old.(*storage.CSINode)\n\n\tinUse := getAllocatablesInUse(oldCSINode)\n\n\tif !utilfeature.DefaultFeatureGate.Enabled(features.AttachVolumeLimit) {"
  }
]