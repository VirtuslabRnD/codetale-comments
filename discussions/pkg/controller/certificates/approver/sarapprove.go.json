[
  {
    "id" : "b5944bf5-74c7-46cc-81bf-beaf25d92d76",
    "prId" : 88929,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88929#pullrequestreview-370676583",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1230dde6-beda-4095-8b55-96a932b21dab",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "Background?",
        "createdAt" : "2020-03-06T22:53:58Z",
        "updatedAt" : "2020-03-06T22:53:59Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "df7adfa1-d6ff-4859-b8d8-a1a0dc7fe557",
        "parentId" : "1230dde6-beda-4095-8b55-96a932b21dab",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "I saw us using background context in other async paths like controllers. It's functionally equivalent to TODO, happy to change it to TODO in a follow up if you think background is wrong here",
        "createdAt" : "2020-03-06T22:59:02Z",
        "updatedAt" : "2020-03-06T22:59:03Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "d8abacba40a63395cc064452b09a244555536fca",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +101,105 @@\t\tif approved {\n\t\t\tappendApprovalCondition(csr, r.successMessage)\n\t\t\t_, err = a.client.CertificatesV1beta1().CertificateSigningRequests().UpdateApproval(context.Background(), csr, metav1.UpdateOptions{})\n\t\t\tif err != nil {\n\t\t\t\treturn fmt.Errorf(\"error updating approval for csr: %v\", err)"
  },
  {
    "id" : "60c17044-306a-4861-b000-39201d4a8994",
    "prId" : 45619,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45619#pullrequestreview-40334178",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "886c6998-f45a-4814-a136-d6e2fc6893a3",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "constants for the resource and subresource used to authorize these would be good (possibly referenced where the role granting access is defined to avoid typos)",
        "createdAt" : "2017-05-25T17:02:43Z",
        "updatedAt" : "2017-05-30T18:43:13Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "fb4c020c826fb1d724f2acc13d0f77e59161fceb",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +58,62 @@\t\t{\n\t\t\trecognize:      isSelfNodeClientCert,\n\t\t\tpermission:     authorization.ResourceAttributes{Group: \"certificates.k8s.io\", Resource: \"certificatesigningrequests\", Verb: \"create\", Subresource: \"selfnodeclient\"},\n\t\t\tsuccessMessage: \"Auto approving self kubelet client certificate after SubjectAccessReview.\",\n\t\t},"
  },
  {
    "id" : "42b726cd-a53b-42c3-b0f1-9da5645ad8c9",
    "prId" : 45619,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45619#pullrequestreview-40334440",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "846a60b2-ab19-4d7c-aed6-752ea2aa2ece",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "should we also short circuit if the status already contains an issued certificate?",
        "createdAt" : "2017-05-25T17:03:47Z",
        "updatedAt" : "2017-05-30T18:43:13Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "fb4c020c826fb1d724f2acc13d0f77e59161fceb",
    "line" : 76,
    "diffHunk" : "@@ -1,1 +74,78 @@}\n\nfunc (a *sarApprover) handle(csr *capi.CertificateSigningRequest) error {\n\tif len(csr.Status.Certificate) != 0 {\n\t\treturn nil"
  },
  {
    "id" : "9a06d5de-b72f-4c36-9d12-db8b632d2ed3",
    "prId" : 45619,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45619#pullrequestreview-40868514",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b75f1ddd-babc-41e0-85bd-377bf23c4abf",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "Is there a canonical constant on this anywhere?",
        "createdAt" : "2017-05-30T07:23:38Z",
        "updatedAt" : "2017-05-30T18:43:13Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "fb4c020c826fb1d724f2acc13d0f77e59161fceb",
    "line" : 163,
    "diffHunk" : "@@ -1,1 +161,165 @@\nfunc isNodeClientCert(csr *capi.CertificateSigningRequest, x509cr *x509.CertificateRequest) bool {\n\tif !reflect.DeepEqual([]string{\"system:nodes\"}, x509cr.Subject.Organization) {\n\t\treturn false\n\t}"
  },
  {
    "id" : "a04f8d86-29ca-465b-9570-0743465fa0ab",
    "prId" : 45619,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45619#pullrequestreview-41032421",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "656de57f-5fc3-4c24-81ca-fd5c9947bb95",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "...or this?",
        "createdAt" : "2017-05-30T07:23:48Z",
        "updatedAt" : "2017-05-30T18:43:13Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      },
      {
        "id" : "305a6586-7a73-42e8-9efb-c84a42bb4baf",
        "parentId" : "656de57f-5fc3-4c24-81ca-fd5c9947bb95",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "This existed in the previous code.",
        "createdAt" : "2017-05-30T18:18:50Z",
        "updatedAt" : "2017-05-30T18:43:14Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      }
    ],
    "commit" : "fb4c020c826fb1d724f2acc13d0f77e59161fceb",
    "line" : 172,
    "diffHunk" : "@@ -1,1 +170,174 @@\t\treturn false\n\t}\n\tif !strings.HasPrefix(x509cr.Subject.CommonName, \"system:node:\") {\n\t\treturn false\n\t}"
  },
  {
    "id" : "5093bf7b-1659-4248-893e-e4ba697f7a27",
    "prId" : 45619,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45619#pullrequestreview-41032328",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8d2802bd-5d38-4f65-b251-87a4ec5a25ca",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "critical for v1.7?",
        "createdAt" : "2017-05-30T07:24:15Z",
        "updatedAt" : "2017-05-30T18:43:13Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      },
      {
        "id" : "706b8b94-98b3-48be-b4c6-918524b9064b",
        "parentId" : "8d2802bd-5d38-4f65-b251-87a4ec5a25ca",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "No it is not.",
        "createdAt" : "2017-05-30T18:18:24Z",
        "updatedAt" : "2017-05-30T18:43:14Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      }
    ],
    "commit" : "fb4c020c826fb1d724f2acc13d0f77e59161fceb",
    "line" : 198,
    "diffHunk" : "@@ -1,1 +196,200 @@\t\treturn false\n\t}\n\t//TODO(jcbsmpsn): implement the rest of this\n\treturn false\n}"
  }
]