[
  {
    "id" : "a622d778-3571-456b-b5fd-24c47ae707c4",
    "prId" : 13303,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8ab2ee94-bb1b-47c3-9859-0253d8b9585f",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "This package name is impossible to read. :) Should just be `autoscaler`. Not asking for a change in this PR.\n",
        "createdAt" : "2015-08-28T17:56:59Z",
        "updatedAt" : "2015-09-01T15:24:33Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "4d55b5b3-37d2-4ff8-b801-b1d2fba0bff5",
        "parentId" : "8ab2ee94-bb1b-47c3-9859-0253d8b9585f",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Additionally, IMO there should either be a \"horizontal\" directory with this being a \"pod.go\" file therein, or a \"pod\" directory with this being a \"horizontal.go\" file. \"horizontalpodautoscaler_controller.go\" is not readable.\n",
        "createdAt" : "2015-08-28T17:58:50Z",
        "updatedAt" : "2015-09-01T15:24:33Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "d97f0ce1-5f74-48e6-a9ef-78217c7f4a0e",
        "parentId" : "8ab2ee94-bb1b-47c3-9859-0253d8b9585f",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "Thanks for the suggestions, I'll work on it in a separate PR, as soon as this PR is merged.\n",
        "createdAt" : "2015-09-01T05:42:54Z",
        "updatedAt" : "2015-09-01T15:24:33Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "064b09ff0b24da7d5d3892cb3008dcedce459906",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +15,19 @@*/\n\npackage autoscalercontroller\n\nimport ("
  },
  {
    "id" : "c1f54a2b-a327-4ac2-a295-588eb2753235",
    "prId" : 13303,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c31b0f5b-c88a-46a5-af9f-9d7fb212393a",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "The full name of this type is `autoscalercontroller.HorizontalPodAutoscalerController`. That is really a mouthful. Again, don't need to change in this PR.\n\n@jszczepkowski please take a look at my naming comments here. Also see my comment here: https://github.com/kubernetes/kubernetes/pull/13278/files#r38226042\n",
        "createdAt" : "2015-08-28T18:04:10Z",
        "updatedAt" : "2015-09-01T15:24:33Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "da1c8bd6-b7c2-45cd-93da-58216acdc86c",
        "parentId" : "c31b0f5b-c88a-46a5-af9f-9d7fb212393a",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "@lavalamp We will think over naming. I'll prepare a PR.\n",
        "createdAt" : "2015-09-01T05:45:05Z",
        "updatedAt" : "2015-09-01T15:24:33Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "e3ffd5b4-c606-4e1d-978e-c3d406735c2d",
        "parentId" : "c31b0f5b-c88a-46a5-af9f-9d7fb212393a",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "@jszczepkowski thanks!\n",
        "createdAt" : "2015-09-01T19:59:17Z",
        "updatedAt" : "2015-09-01T19:59:17Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "064b09ff0b24da7d5d3892cb3008dcedce459906",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +31,35 @@)\n\ntype HorizontalPodAutoscalerController struct {\n\tclient        client.Interface\n\texpClient     client.ExperimentalInterface"
  },
  {
    "id" : "8caf64d3-6326-4409-866c-fcc2a2017239",
    "prId" : 13147,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6a9b855e-0305-44e6-8e00-1e7e2dfb815c",
        "parentId" : null,
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "Add TODO for memory.\n",
        "createdAt" : "2015-08-26T10:00:29Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "3c078c22-3e6f-434b-a107-72af24f82adc",
        "parentId" : "6a9b855e-0305-44e6-8e00-1e7e2dfb815c",
        "authorId" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "body" : "done\n",
        "createdAt" : "2015-08-26T10:12:20Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "tags" : [
        ]
      }
    ],
    "commit" : "df0a0ed37e93dac0de3eca8d5080aeb0ee0e0912",
    "line" : null,
    "diffHunk" : "@@ -1,1 +56,60 @@var resourceDefinitions = map[api.ResourceName]metricDefinition{\n\t//TODO: add memory\n\tapi.ResourceCPU: {\"cpu-usage\",\n\t\tfunc(metrics heapster.MetricResultList) (expapi.ResourceConsumption, int) {\n\t\t\tsum, count := calculateSumFromLatestSample(metrics)"
  },
  {
    "id" : "0227f25f-772f-4eb5-b8f4-5d8e0c90b845",
    "prId" : 13147,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1f8caa12-b971-441a-996e-b4327bff52b1",
        "parentId" : null,
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "It should be set only if rescale succeeded.\n",
        "createdAt" : "2015-08-26T10:06:49Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "a29f71e9-f3c9-448b-bfa3-808348ea97da",
        "parentId" : "1f8caa12-b971-441a-996e-b4327bff52b1",
        "authorId" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "body" : "see below\n",
        "createdAt" : "2015-08-26T10:12:36Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "tags" : [
        ]
      }
    ],
    "commit" : "df0a0ed37e93dac0de3eca8d5080aeb0ee0e0912",
    "line" : 147,
    "diffHunk" : "@@ -1,1 +198,202 @@\t\t\tCurrentConsumption: currentConsumption,\n\t\t}\n\t\tif rescale {\n\t\t\tnow := util.NewTime(now)\n\t\t\thpa.Status.LastScaleTimestamp = &now"
  },
  {
    "id" : "3064873f-971f-45d5-a558-d1afd3300d02",
    "prId" : 13147,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b2a5edd8-bc76-48cd-be9f-55580bc0fe61",
        "parentId" : null,
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "add continue here? we don't want to update status\n",
        "createdAt" : "2015-08-26T10:08:38Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "4571299e-8b95-42c1-b043-9773661fae0f",
        "parentId" : "b2a5edd8-bc76-48cd-be9f-55580bc0fe61",
        "authorId" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "body" : "already added.\n",
        "createdAt" : "2015-08-26T10:12:38Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "tags" : [
        ]
      }
    ],
    "commit" : "df0a0ed37e93dac0de3eca8d5080aeb0ee0e0912",
    "line" : null,
    "diffHunk" : "@@ -1,1 +189,193 @@\t\t\t\t\tglog.Warningf(\"Failed to rescale %s: %v\", reference, err)\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t}\n\t\t}"
  },
  {
    "id" : "b74e6f5e-ea88-415f-8bb7-27afbbc83bfb",
    "prId" : 13147,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aed13bb0-8218-4816-809c-31f7b42e94a5",
        "parentId" : null,
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "So, we are taking metrics from the last 5 minutes?\n",
        "createdAt" : "2015-08-26T10:09:15Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "c5369905-083a-4c72-9e52-e1cdab320dfe",
        "parentId" : "aed13bb0-8218-4816-809c-31f7b42e94a5",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "Oh, I see, you take the latest.\n",
        "createdAt" : "2015-08-26T10:12:53Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "498bfc25-8177-4d59-8c86-f9956c60d397",
        "parentId" : "aed13bb0-8218-4816-809c-31f7b42e94a5",
        "authorId" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "body" : "Yes. I don't think we need to know what was the usage 30 min ago.\n",
        "createdAt" : "2015-08-26T10:13:33Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "tags" : [
        ]
      }
    ],
    "commit" : "df0a0ed37e93dac0de3eca8d5080aeb0ee0e0912",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +68,72 @@}\n\nvar heapsterQueryStart, _ = time.ParseDuration(\"-5m\")\nvar downscaleForbiddenWindow, _ = time.ParseDuration(\"20m\")\nvar upscaleForbiddenWindow, _ = time.ParseDuration(\"3m\")"
  },
  {
    "id" : "8cc94477-00f4-4966-8869-b2669bce5a05",
    "prId" : 13147,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3c4c11ce-482c-4379-bea1-f0c36793dd8f",
        "parentId" : null,
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "In the design proposal, there were some ideas to take floor for scaling up and ceiling for scaling down, to avoid trashing. Please, just add TODO to update this formula.\n",
        "createdAt" : "2015-08-26T10:14:45Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "60ee62cc-05da-4cb8-9037-9027c01707d1",
        "parentId" : "3c4c11ce-482c-4379-bea1-f0c36793dd8f",
        "authorId" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "body" : "The formula there is slightly broken anyway:\n\n`argetNumOfPods = sum(CurrentPodsConsumption) / Target`\n\nIf we have target 0.5 and current consumption is 0.95 then the floor of the above is still 1.0 but the cpu is burning. Moreover with just one cpu on node you will never get to the point when the service is scaled.\n",
        "createdAt" : "2015-08-26T10:28:25Z",
        "updatedAt" : "2015-08-26T12:52:29Z",
        "lastEditedBy" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "tags" : [
        ]
      }
    ],
    "commit" : "df0a0ed37e93dac0de3eca8d5080aeb0ee0e0912",
    "line" : 108,
    "diffHunk" : "@@ -1,1 +159,163 @@\n\t\t// if the ratio is 1.2 we want to have 2 replicas\n\t\tdesiredReplicas := 1 + int((currentConsumption.Quantity.MilliValue()*int64(count))/hpa.Spec.Target.Quantity.MilliValue())\n\n\t\tif desiredReplicas < hpa.Spec.MinCount {"
  },
  {
    "id" : "2be33ae7-5971-46f7-b87e-a316f1bad80e",
    "prId" : 13081,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d449d432-6322-4522-8986-5bb917521538",
        "parentId" : null,
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "client should be also passed by Interface \n",
        "createdAt" : "2015-08-24T12:40:55Z",
        "updatedAt" : "2015-08-24T14:42:48Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "bddb4d18-1059-4cfe-96ad-b4c4c7bf6483",
        "parentId" : "d449d432-6322-4522-8986-5bb917521538",
        "authorId" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "body" : "I would love to but at this moment Interface doesn't support calling service via proxy (or I don't know how to do it).\n",
        "createdAt" : "2015-08-24T13:10:47Z",
        "updatedAt" : "2015-08-24T14:42:48Z",
        "lastEditedBy" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "tags" : [
        ]
      },
      {
        "id" : "9548d9ed-3135-4139-aa32-d40f713ba9f7",
        "parentId" : "d449d432-6322-4522-8986-5bb917521538",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "OK. Just add a TODO, we will clean it up in a subsequent PR.\n",
        "createdAt" : "2015-08-24T14:37:52Z",
        "updatedAt" : "2015-08-24T14:42:48Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "cff5756c-5b64-4810-b128-66f615e517ac",
        "parentId" : "d449d432-6322-4522-8986-5bb917521538",
        "authorId" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "body" : "Added.\n",
        "createdAt" : "2015-08-24T14:43:13Z",
        "updatedAt" : "2015-08-24T14:43:13Z",
        "lastEditedBy" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "tags" : [
        ]
      }
    ],
    "commit" : "1ce8bb7bb2d7f59e67b63b30f932cab865a95415",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +41,45 @@\ntype HorizontalPodAutoscalerController struct {\n\tclient    *client.Client\n\texpClient client.ExperimentalInterface\n}"
  },
  {
    "id" : "bf8642ba-6f8d-4611-be44-203a142c23fd",
    "prId" : 13081,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "48fa3bff-f996-476d-b2f4-c698490125c8",
        "parentId" : null,
        "authorId" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "body" : "nit: We should switch to using client libraries for these APIs. \n",
        "createdAt" : "2015-08-25T17:23:42Z",
        "updatedAt" : "2015-08-25T17:23:42Z",
        "lastEditedBy" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "tags" : [
        ]
      }
    ],
    "commit" : "1ce8bb7bb2d7f59e67b63b30f932cab865a95415",
    "line" : 79,
    "diffHunk" : "@@ -1,1 +93,97 @@\t\t}\n\t\tstartTime := time.Now().Add(heapsterQueryStart)\n\t\tmetricPath := fmt.Sprintf(\"/api/v1/model/namespaces/%s/pod-list/%s/metrics/%s\",\n\t\t\thpa.Spec.ScaleRef.Namespace,\n\t\t\tstrings.Join(podNames, \",\"),"
  }
]