[
  {
    "id" : "456b6274-8f94-450a-9854-8db8c65ea8d5",
    "prId" : 88678,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88678#pullrequestreview-368418329",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "214eebcc-f0be-441c-9736-0602514e916a",
        "parentId" : null,
        "authorId" : "5f2c1de8-4266-42c0-b343-ba247af3578f",
        "body" : "This comment is now out of date. Could you explain the new logic here and/or add comments in the if/else blocks?",
        "createdAt" : "2020-03-04T00:14:23Z",
        "updatedAt" : "2020-03-06T06:22:35Z",
        "lastEditedBy" : "5f2c1de8-4266-42c0-b343-ba247af3578f",
        "tags" : [
        ]
      }
    ],
    "commit" : "ef3d66b98bb0d251208ef990895bc944343d1142",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +145,149 @@\t\t\t// Check whether there already exist an operation pending, and don't even\n\t\t\t// try to start an operation if there is already one running.\n\t\t\t// This check must be done before we do any other checks, as otherwise the other checks\n\t\t\t// may pass while at the same time the volume leaves the pending state, resulting in\n\t\t\t// double detach attempts"
  },
  {
    "id" : "5a8c0398-9b16-460b-93b8-9ae2553c4082",
    "prId" : 56288,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/56288#pullrequestreview-91157531",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "539ed8a2-175a-4a5e-b25a-feef60dc6d2b",
        "parentId" : null,
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "Should this information be retrieved from desired state of world or actual state of world? It is possible that - multiple pods are requesting same volume on more than 1 node and they are all not getting attached because some other pod(on some other node) is actually using the volume. \r\n\r\nIn which case - while MultiAttach error is still mostly accurate, we may be printing wrong information back to the user and to the admin. ",
        "createdAt" : "2018-01-23T22:22:32Z",
        "updatedAt" : "2018-01-24T12:23:39Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "2fd33dcb-eb5f-426d-ba40-e373d91b9adc",
        "parentId" : "539ed8a2-175a-4a5e-b25a-feef60dc6d2b",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "Problem is that ASW does not keep list of pods for attached volumes. It's reconstructed from node.status when the controller is restarted and we don't put pods there.",
        "createdAt" : "2018-01-24T12:21:27Z",
        "updatedAt" : "2018-01-24T12:23:39Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      },
      {
        "id" : "552ef8b7-ed2b-450d-8e81-2df41ea92f69",
        "parentId" : "539ed8a2-175a-4a5e-b25a-feef60dc6d2b",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "I updated the comment below to:\r\n```\r\n// We did not find any pods that requests the volume. The pod must have been deleted already.\r\n```\r\nMessage sent to user is: \"Volume is already exclusively attached to one node and can't be attached to another\" and IMO there is not much we could do about it.",
        "createdAt" : "2018-01-24T12:23:20Z",
        "updatedAt" : "2018-01-24T12:23:39Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      }
    ],
    "commit" : "e46c886bf31b897a80d785a0dd9034d40a5e97f0",
    "line" : 52,
    "diffHunk" : "@@ -1,1 +312,316 @@\n\t// Get list of pods that use the volume on the other nodes.\n\tpods := rc.desiredStateOfWorld.GetVolumePodsOnNodes(otherNodes, volumeToAttach.VolumeName)\n\n\tif len(pods) == 0 {"
  },
  {
    "id" : "b5c9d0c2-1970-4f3a-a9fd-8548a04af859",
    "prId" : 51066,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/51066#pullrequestreview-57646565",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4127e8b3-2527-4d50-8624-36577742da6b",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "I would be ok being more aggressive here and replacing the `volumeSpec.PersistentVolume.Spec.AccessModes` altogether with a white list (as above).",
        "createdAt" : "2017-08-22T00:46:06Z",
        "updatedAt" : "2017-08-22T01:05:35Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "715c3ac1-e6d4-4c04-b125-e846a95e781a",
        "parentId" : "4127e8b3-2527-4d50-8624-36577742da6b",
        "authorId" : "a52ffc16-075e-4ecb-8ec3-e5096ab48cb5",
        "body" : "Shouldn't we want to check access modes for other cloud providers. Other cloud providers might use ReadWriteMany, ReadOnlyMany access mode for volumes. In this case attach/detach controller should allow for \"multi-attach\". Removing the entire check for access mode might cause a problem for other providers.\r\n\r\n\r\n\t\tif len(volumeSpec.PersistentVolume.Spec.AccessModes) == 0 {\r\n\t\t\t// No access mode specified so we don't know for sure. Let the attacher fail if needed\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\t// check if this volume is allowed to be attached to multiple PODs/nodes, if yes, return false\r\n\t\tfor _, accessMode := range volumeSpec.PersistentVolume.Spec.AccessModes {\r\n\t\t\tif accessMode == v1.ReadWriteMany || accessMode == v1.ReadOnlyMany {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}",
        "createdAt" : "2017-08-22T00:54:20Z",
        "updatedAt" : "2017-08-22T01:05:35Z",
        "lastEditedBy" : "a52ffc16-075e-4ecb-8ec3-e5096ab48cb5",
        "tags" : [
        ]
      },
      {
        "id" : "ef5e3981-5456-436a-96db-71c366a4b54f",
        "parentId" : "4127e8b3-2527-4d50-8624-36577742da6b",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Discussed offline. Ok with leaving this as is for now, and modifying it is also an issue for other storage plugins.",
        "createdAt" : "2017-08-22T01:05:17Z",
        "updatedAt" : "2017-08-22T01:05:35Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "cfdff1ae46b0fb55e7626ada8648e58e4dfea8d2",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +154,158 @@\t\t}\n\n\t\tif len(volumeSpec.PersistentVolume.Spec.AccessModes) == 0 {\n\t\t\t// No access mode specified so we don't know for sure. Let the attacher fail if needed\n\t\t\treturn false"
  },
  {
    "id" : "6c170c2c-b762-43f9-b124-68748fdb9663",
    "prId" : 45544,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45544#pullrequestreview-38820480",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "821a5a09-6e3c-4313-a61f-6a0954ebcd0c",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "nit: When it is unclear what the parameter is (usually when passing nil, empty string, or an integer), put the name of the parameter in comments for clarity.\r\n\r\ne.g.\r\n```GO\r\nglog.V(12).Infof(attachedVolume.GenerateMsgDetailed(\"Cannot detach volume because it is still mounted\", \"\" /* suffixMsg */))\r\n```",
        "createdAt" : "2017-05-15T21:04:49Z",
        "updatedAt" : "2017-05-15T21:15:01Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "df02a319-2087-421b-9e59-d0231593e531",
        "parentId" : "821a5a09-6e3c-4313-a61f-6a0954ebcd0c",
        "authorId" : "9f5e3cfe-0c8a-43e2-8374-3cbe3b3568ab",
        "body" : "@saad-ali - I'll keep this coding practice in mind for my future PRs.\r\n\r\nCan we go ahead with this PR as-is?",
        "createdAt" : "2017-05-16T12:56:01Z",
        "updatedAt" : "2017-05-16T12:56:01Z",
        "lastEditedBy" : "9f5e3cfe-0c8a-43e2-8374-3cbe3b3568ab",
        "tags" : [
        ]
      },
      {
        "id" : "785706d6-1886-4e5d-8f56-5628b61faaa2",
        "parentId" : "821a5a09-6e3c-4313-a61f-6a0954ebcd0c",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Thanks!",
        "createdAt" : "2017-05-18T00:30:55Z",
        "updatedAt" : "2017-05-18T00:30:55Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "b1315f449116a0e3b3a260b033022962363323ba",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +144,148 @@\t\t\t// Check whether volume is still mounted. Skip detach if it is still mounted unless timeout\n\t\t\tif attachedVolume.MountedByNode && !timeout {\n\t\t\t\tglog.V(12).Infof(attachedVolume.GenerateMsgDetailed(\"Cannot detach volume because it is still mounted\", \"\"))\n\t\t\t\tcontinue\n\t\t\t}"
  },
  {
    "id" : "d5e27869-d188-414b-93f7-560d3d2c03c3",
    "prId" : 45346,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45346#pullrequestreview-37319254",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "868d752b-72cd-422c-ae78-4ea30de177fc",
        "parentId" : null,
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "aws too?",
        "createdAt" : "2017-05-04T14:26:00Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      },
      {
        "id" : "b4d0a1a5-a630-4cfd-8d27-c01c9c00ad22",
        "parentId" : "868d752b-72cd-422c-ae78-4ea30de177fc",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "according to this page https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes\r\nThere are 6 types of storage that support multi-write, while 13 of them not. Maybe we can make a map of it as a constant, and check whether the volume type is one of them?",
        "createdAt" : "2017-05-04T17:36:00Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "34baa166-847d-4381-bc99-e254d4609f45",
        "parentId" : "868d752b-72cd-422c-ae78-4ea30de177fc",
        "authorId" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "body" : "I'd suggest to do this refactoring after this PR is merged. Currently it's hard for me to do extensive testing as I'm working on non-k8s projects atm.",
        "createdAt" : "2017-05-09T12:22:19Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "tags" : [
        ]
      },
      {
        "id" : "6fc46dc0-c9c1-4e9e-9b4c-3baaf3626b3c",
        "parentId" : "868d752b-72cd-422c-ae78-4ea30de177fc",
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "make a note here for follow up.",
        "createdAt" : "2017-05-10T14:07:40Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      },
      {
        "id" : "27dbf089-847d-418f-94cd-a1ef827f1f7b",
        "parentId" : "868d752b-72cd-422c-ae78-4ea30de177fc",
        "authorId" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "body" : "Done: https://github.com/kubernetes/kubernetes/issues/45596",
        "createdAt" : "2017-05-10T14:22:29Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "tags" : [
        ]
      }
    ],
    "commit" : "06baeb33b27ae0f4d9fb38cc5f26bf5fb0468f72",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +137,141 @@\t\tif volumeSpec.Volume.AzureDisk != nil ||\n\t\t\tvolumeSpec.Volume.Cinder != nil {\n\t\t\treturn true\n\t\t}\n\t}"
  },
  {
    "id" : "329d641b-d542-4098-80b2-0ebc5e0a6b0a",
    "prId" : 45346,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45346#pullrequestreview-37012532",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16cd3b91-3f2a-4f98-ac98-98fd20365bce",
        "parentId" : null,
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "this shouldn't happen, log an error",
        "createdAt" : "2017-05-04T14:31:40Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      },
      {
        "id" : "f4a1fd6b-0b69-49d7-b6ac-335e6e0912c7",
        "parentId" : "16cd3b91-3f2a-4f98-ac98-98fd20365bce",
        "authorId" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "body" : "AccessModes is optional according to https://github.com/kubernetes/kubernetes/blob/17d33ea82e69aec46cda8a32cd4edb3de2274791/pkg/api/v1/types.go#L477-L477",
        "createdAt" : "2017-05-09T12:17:45Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "tags" : [
        ]
      }
    ],
    "commit" : "06baeb33b27ae0f4d9fb38cc5f26bf5fb0468f72",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +146,150 @@\t\tif len(volumeSpec.PersistentVolume.Spec.AccessModes) == 0 {\n\t\t\t// No access mode specified so we don't know for sure. Let the attacher fail if needed\n\t\t\treturn false\n\t\t}\n"
  },
  {
    "id" : "1f8bae16-1960-4b88-b296-475b2508e074",
    "prId" : 45346,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45346#pullrequestreview-37012735",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d6844467-a3f0-49f4-94d0-9cbb99fb2dd4",
        "parentId" : null,
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "if it is not spamming, V(3) is more helpful.",
        "createdAt" : "2017-05-04T14:35:52Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      },
      {
        "id" : "444cf204-7d89-4e8e-8353-a48dcfe7b2a9",
        "parentId" : "d6844467-a3f0-49f4-94d0-9cbb99fb2dd4",
        "authorId" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "body" : "This one is spamming (10 times per second) if it happens. On Azure it always happened while volumes were being moved to other nodes as long as it was not detached from the old node yet.",
        "createdAt" : "2017-05-09T12:18:56Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "tags" : [
        ]
      }
    ],
    "commit" : "06baeb33b27ae0f4d9fb38cc5f26bf5fb0468f72",
    "line" : 98,
    "diffHunk" : "@@ -1,1 +249,253 @@\t\t\t\tnodes := rc.actualStateOfWorld.GetNodesForVolume(volumeToAttach.VolumeName)\n\t\t\t\tif len(nodes) > 0 {\n\t\t\t\t\tglog.V(4).Infof(\"Volume %q is already exclusively attached to node %q and can't be attached to %q\", volumeToAttach.VolumeName, nodes, volumeToAttach.NodeName)\n\t\t\t\t\tcontinue\n\t\t\t\t}"
  },
  {
    "id" : "7bd24cf3-be20-4f96-9a4c-9a987e867527",
    "prId" : 45346,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45346#pullrequestreview-37311306",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f44bbb61-a5cb-4fcc-8564-3fe0b3169258",
        "parentId" : null,
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "why remove isAlreadyExists error?",
        "createdAt" : "2017-05-04T17:38:26Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "571c55d3-27f1-492d-9d17-462c5fe9455e",
        "parentId" : "f44bbb61-a5cb-4fcc-8564-3fe0b3169258",
        "authorId" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "body" : "Please see our old discussion at https://github.com/kubernetes/kubernetes/pull/40148#pullrequestreview-19661586",
        "createdAt" : "2017-05-09T12:20:24Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "tags" : [
        ]
      },
      {
        "id" : "a6c1dc9c-1883-4500-81fc-8f43d7331588",
        "parentId" : "f44bbb61-a5cb-4fcc-8564-3fe0b3169258",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "Now I am thinking although reconciler is currently the only place issue those volume operations, it might not be true in the future. So it might be better to put the isAlreadyExists error back so we know what is the problem. ",
        "createdAt" : "2017-05-09T18:17:12Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "f6bd5422-9884-423e-ab42-dd183b119e43",
        "parentId" : "f44bbb61-a5cb-4fcc-8564-3fe0b3169258",
        "authorId" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "body" : "The same thought was the reason to remove the check. Please note that the check was there to actually **prevent** the logging of the error, as it was probably considered \"normal\" that it happened.\r\n\r\nBefore this PR, the reconciler would try to start the operation every 100ms, only succeeding the first time and erroring for every try that followed. This check was the reason that there was never an error message shown.\r\n\r\nNow that we have the `if rc.attacherDetacher.IsOperationPending(attachedVolume.VolumeName, \"\")` check a few lines above, this error should not happen anymore and if it does for what ever reason, it should be logged.",
        "createdAt" : "2017-05-10T13:56:49Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "tags" : [
        ]
      }
    ],
    "commit" : "06baeb33b27ae0f4d9fb38cc5f26bf5fb0468f72",
    "line" : 81,
    "diffHunk" : "@@ -1,1 +225,229 @@\t\t\t}\n\t\t\tif err != nil && !exponentialbackoff.IsExponentialBackoff(err) {\n\t\t\t\t// Ignore exponentialbackoff.IsExponentialBackoff errors, they are expected.\n\t\t\t\t// Log all other errors.\n\t\t\t\tglog.Errorf(attachedVolume.GenerateErrorDetailed(\"attacherDetacher.DetachVolume failed to start\", err).Error())"
  },
  {
    "id" : "07144ac4-2fa8-4f13-b45e-9edd0ec78f02",
    "prId" : 45346,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45346#pullrequestreview-37111058",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cdeb411a-4897-43e8-a10d-68e496dc07ee",
        "parentId" : null,
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "I might forget, is this also a bug fix or just an improvement?",
        "createdAt" : "2017-05-04T17:44:43Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "bd7b5ece-0e43-4cd3-9819-e5bd3d5b1aa0",
        "parentId" : "cdeb411a-4897-43e8-a10d-68e496dc07ee",
        "authorId" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "body" : "Please see our old discussion at https://github.com/kubernetes/kubernetes/pull/40148#pullrequestreview-18687244",
        "createdAt" : "2017-05-09T12:24:23Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "13aa6d4c-53b8-4836-97ef-bce39a1033df",
        "tags" : [
        ]
      },
      {
        "id" : "d3374059-19b5-46bc-bf61-d95629f3cd65",
        "parentId" : "cdeb411a-4897-43e8-a10d-68e496dc07ee",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "got it.",
        "createdAt" : "2017-05-09T18:15:56Z",
        "updatedAt" : "2017-05-18T04:56:36Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      }
    ],
    "commit" : "06baeb33b27ae0f4d9fb38cc5f26bf5fb0468f72",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +176,180 @@\t\t\t// double detach attempts\n\t\t\tif rc.attacherDetacher.IsOperationPending(attachedVolume.VolumeName, \"\") {\n\t\t\t\tglog.V(10).Infof(\"Operation for volume %q is already running. Can't start detach for %q\", attachedVolume.VolumeName, attachedVolume.NodeName)\n\t\t\t\tcontinue\n\t\t\t}"
  },
  {
    "id" : "f237a3fe-999b-45a0-8e79-6c3212fc10b4",
    "prId" : 36840,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/36840#pullrequestreview-8707912",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a2c3cd58-6ef3-4439-af5e-d6ba2f47bb5c",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Why lower the priority on these messages? Are they happening very frequently?\n",
        "createdAt" : "2016-11-15T21:16:40Z",
        "updatedAt" : "2016-11-17T19:14:57Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "a39bc4ae-2599-49dd-98fa-6d0307814f86",
        "parentId" : "a2c3cd58-6ef3-4439-af5e-d6ba2f47bb5c",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "yes, it prints out log for every reconciler loop\n",
        "createdAt" : "2016-11-15T22:07:05Z",
        "updatedAt" : "2016-11-17T19:14:57Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      }
    ],
    "commit" : "1b89c79e557a19b6f824796ff77283722a161f5d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +193,197 @@\t\t\tvolumeToAttach.VolumeName, volumeToAttach.NodeName) {\n\t\t\t// Volume/Node exists, touch it to reset detachRequestedTime\n\t\t\tglog.V(5).Infof(\"Volume %q/Node %q is attached--touching.\", volumeToAttach.VolumeName, volumeToAttach.NodeName)\n\t\t\trc.actualStateOfWorld.ResetDetachRequestTime(volumeToAttach.VolumeName, volumeToAttach.NodeName)\n\t\t} else {"
  },
  {
    "id" : "ff6b93a2-a5f9-4edc-9d08-d9981c8af4e8",
    "prId" : 34859,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/34859#pullrequestreview-6153565",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9fe0cf29-93d8-426a-a2de-f96ab0de0fe7",
        "parentId" : null,
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Any reason to use defer?\n",
        "createdAt" : "2016-10-26T18:47:17Z",
        "updatedAt" : "2016-10-28T16:25:23Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "960cdc46-e5df-4a4b-8e7b-769ac3161e45",
        "parentId" : "9fe0cf29-93d8-426a-a2de-f96ab0de0fe7",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "I think I tried to use the similar implementation in kubelet reconciler. Any reason defer is a concern? \n",
        "createdAt" : "2016-10-26T22:14:49Z",
        "updatedAt" : "2016-10-28T16:25:23Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "8a53cf4e-776e-4777-ac2e-55c517efd00b",
        "parentId" : "9fe0cf29-93d8-426a-a2de-f96ab0de0fe7",
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Just a little surprising to see a 2 line function with a defer :-)  If it's consistent with usage elsewhere though,  that feels right!\n",
        "createdAt" : "2016-10-27T21:54:03Z",
        "updatedAt" : "2016-10-28T16:25:23Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      }
    ],
    "commit" : "abbde4337485d0286ab51bbebff54ff02eb33694",
    "line" : 72,
    "diffHunk" : "@@ -1,1 +101,105 @@\nfunc (rc *reconciler) sync() {\n\tdefer rc.updateSyncTime()\n\trc.syncStates()\n}"
  },
  {
    "id" : "09c3ef2c-cb94-4d72-9b30-4bc3c597d159",
    "prId" : 34859,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/34859#pullrequestreview-6175958",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "81a32e35-e1ad-4b01-9329-d0ce8e05341b",
        "parentId" : null,
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Cloud providers can probably implement this more efficiently if you allow them to do a bulk query...\n",
        "createdAt" : "2016-10-26T18:48:17Z",
        "updatedAt" : "2016-10-28T16:25:23Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "2641c287-1e3a-4997-84b5-605745f75921",
        "parentId" : "81a32e35-e1ad-4b01-9329-d0ce8e05341b",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "you mean to query multiple nodes with one call?\n",
        "createdAt" : "2016-10-26T22:15:48Z",
        "updatedAt" : "2016-10-28T16:25:23Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "0ce9decd-9dee-45a5-b3da-b0d5bf093653",
        "parentId" : "81a32e35-e1ad-4b01-9329-d0ce8e05341b",
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Yes exactly ... we can add this later - I suspect we'll hit rate limits on AWS with big clusters\n",
        "createdAt" : "2016-10-27T21:54:26Z",
        "updatedAt" : "2016-10-28T16:25:23Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "096e84b8-d085-4c34-88c8-383e3f3bd7ab",
        "parentId" : "81a32e35-e1ad-4b01-9329-d0ce8e05341b",
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "(and GCE, probably!)\n",
        "createdAt" : "2016-10-27T21:54:43Z",
        "updatedAt" : "2016-10-28T16:25:23Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "4f9b2c7e-dc7a-403b-8677-edc4e4cf5d32",
        "parentId" : "81a32e35-e1ad-4b01-9329-d0ce8e05341b",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Opened https://github.com/kubernetes/kubernetes/issues/35748 for follow up\n",
        "createdAt" : "2016-10-28T01:42:44Z",
        "updatedAt" : "2016-10-28T16:25:23Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "abbde4337485d0286ab51bbebff54ff02eb33694",
    "line" : 115,
    "diffHunk" : "@@ -1,1 +112,116 @@\tvolumesPerNode := rc.actualStateOfWorld.GetAttachedVolumesPerNode()\n\tfor nodeName, volumes := range volumesPerNode {\n\t\terr := rc.attacherDetacher.VerifyVolumesAreAttached(volumes, nodeName, rc.actualStateOfWorld)\n\t\tif err != nil {\n\t\t\tglog.Errorf(\"Error in syncing states for volumes: %v\", err)"
  },
  {
    "id" : "bb8c5701-abdd-405b-8f7d-3de38d2aa373",
    "prId" : 32242,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "04a39787-f3a8-46b4-a726-62f8e96ac7c3",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Keep the `V(5)` `Attempting to start DetachVolume` message before the detach (it's useful for debugging.\n",
        "createdAt" : "2016-09-12T20:32:36Z",
        "updatedAt" : "2016-09-12T20:51:35Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "a9404d8a-2d30-4bb2-b023-37600d63054f",
        "parentId" : "04a39787-f3a8-46b4-a726-62f8e96ac7c3",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "done\n",
        "createdAt" : "2016-09-12T20:48:05Z",
        "updatedAt" : "2016-09-12T20:51:35Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      }
    ],
    "commit" : "efaceb28cce760e6be3f7d0b9abf880e92a5bf82",
    "line" : null,
    "diffHunk" : "@@ -1,1 +125,129 @@\n\t\t\t\t// Trigger detach volume which requires verifing safe to detach step\n\t\t\t\t// If timeout is true, skip verifySafeToDetach check\n\t\t\t\tglog.V(5).Infof(\"Attempting to start DetachVolume for volume %q from node %q\", attachedVolume.VolumeName, attachedVolume.NodeName)\n\t\t\t\tverifySafeToDetach := !timeout"
  }
]