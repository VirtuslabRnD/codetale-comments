[
  {
    "id" : "768c5370-bb8b-4694-ac85-6850dd7383d1",
    "prId" : 40355,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40355#pullrequestreview-21468801",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4119ecb7-523d-41cf-b7ff-c8317b8cd880",
        "parentId" : null,
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "s/tha/the/",
        "createdAt" : "2017-02-12T05:19:12Z",
        "updatedAt" : "2017-02-12T06:19:09Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "c607ff64-469f-49f3-a743-8e69d1cb2128",
        "parentId" : "4119ecb7-523d-41cf-b7ff-c8317b8cd880",
        "authorId" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "body" : "Done.",
        "createdAt" : "2017-02-13T09:44:56Z",
        "updatedAt" : "2017-02-13T09:44:57Z",
        "lastEditedBy" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "tags" : [
        ]
      }
    ],
    "commit" : "004552f8a43e0bfd138c166f586bb4686fac559c",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +26,30 @@)\n\n// WorkArgs keeps arguments that will be passed to tha function executed by the worker.\ntype WorkArgs struct {\n\tNamespacedName types.NamespacedName"
  },
  {
    "id" : "24c76151-d776-48b9-af0f-86f56b7cbe75",
    "prId" : 40355,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40355#pullrequestreview-21468887",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "860dbe9f-b957-4e28-a915-f3f0090699ab",
        "parentId" : null,
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "s/still wait/are still waiting/",
        "createdAt" : "2017-02-12T05:26:11Z",
        "updatedAt" : "2017-02-12T06:19:09Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "3a3a6816-9b37-4fe5-bfc0-acb45aa1093d",
        "parentId" : "860dbe9f-b957-4e28-a915-f3f0090699ab",
        "authorId" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "body" : "Done.",
        "createdAt" : "2017-02-13T09:45:18Z",
        "updatedAt" : "2017-02-13T09:45:18Z",
        "lastEditedBy" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "tags" : [
        ]
      }
    ],
    "commit" : "004552f8a43e0bfd138c166f586bb4686fac559c",
    "line" : 74,
    "diffHunk" : "@@ -1,1 +72,76 @@}\n\n// TimedWorkerQueue keeps a set of TimedWorkers that still wait for execution.\ntype TimedWorkerQueue struct {\n\tsync.Mutex"
  },
  {
    "id" : "b5b8e1d7-0ab5-4f87-bce7-21c85ce7b18c",
    "prId" : 40355,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40355#pullrequestreview-21469488",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aeb91435-853a-4988-a81e-05a0e573bf97",
        "parentId" : null,
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "add a comment what is the map key",
        "createdAt" : "2017-02-12T05:26:44Z",
        "updatedAt" : "2017-02-12T06:19:09Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "3254d3b4-2e30-483d-aa62-bdd294a26357",
        "parentId" : "aeb91435-853a-4988-a81e-05a0e573bf97",
        "authorId" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "body" : "Done.",
        "createdAt" : "2017-02-13T09:48:38Z",
        "updatedAt" : "2017-02-13T09:48:38Z",
        "lastEditedBy" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "tags" : [
        ]
      }
    ],
    "commit" : "004552f8a43e0bfd138c166f586bb4686fac559c",
    "line" : 77,
    "diffHunk" : "@@ -1,1 +75,79 @@type TimedWorkerQueue struct {\n\tsync.Mutex\n\tworkers  map[string]*TimedWorker\n\tworkFunc func(args *WorkArgs) error\n}"
  },
  {
    "id" : "3f6685fb-ce57-4fc3-9b9e-dbf4c21ef625",
    "prId" : 40355,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40355#pullrequestreview-21469243",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a110c0db-19a2-4f2a-b8a3-a652e988a0ea",
        "parentId" : null,
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "Why don't you delete(q.workers, key) in this case?\r\n",
        "createdAt" : "2017-02-12T05:41:50Z",
        "updatedAt" : "2017-02-12T06:19:09Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "6722d97f-b18d-401e-bac9-2b31f7571b15",
        "parentId" : "a110c0db-19a2-4f2a-b8a3-a652e988a0ea",
        "authorId" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "body" : "To avoid thrashing - it's enough to delete Pod once, so I keep the key as a way to dedup calls.",
        "createdAt" : "2017-02-13T09:47:18Z",
        "updatedAt" : "2017-02-13T09:47:18Z",
        "lastEditedBy" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "tags" : [
        ]
      }
    ],
    "commit" : "004552f8a43e0bfd138c166f586bb4686fac559c",
    "line" : 96,
    "diffHunk" : "@@ -1,1 +94,98 @@\t\tdefer q.Unlock()\n\t\tif err == nil {\n\t\t\tq.workers[key] = nil\n\t\t} else {\n\t\t\tdelete(q.workers, key)"
  },
  {
    "id" : "0eec4651-47fe-4be6-b8be-ce725becaba1",
    "prId" : 40355,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40355#pullrequestreview-21469907",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ddecd433-edba-4d9f-8706-05a7dd93d2ea",
        "parentId" : null,
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "Maybe add V(4) logging at entry to this function?",
        "createdAt" : "2017-02-12T07:01:43Z",
        "updatedAt" : "2017-02-12T07:01:43Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "b2c57de8-3cf9-4f7c-9a67-e2fe204e7a26",
        "parentId" : "ddecd433-edba-4d9f-8706-05a7dd93d2ea",
        "authorId" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "body" : "Done.",
        "createdAt" : "2017-02-13T09:50:38Z",
        "updatedAt" : "2017-02-13T09:50:38Z",
        "lastEditedBy" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "tags" : [
        ]
      }
    ],
    "commit" : "004552f8a43e0bfd138c166f586bb4686fac559c",
    "line" : 105,
    "diffHunk" : "@@ -1,1 +103,107 @@\n// AddWork adds a work to the WorkerQueue which will be executed not earlier than `fireAt`.\nfunc (q *TimedWorkerQueue) AddWork(args *WorkArgs, createdAt time.Time, fireAt time.Time) {\n\tkey := args.KeyFromWorkArgs()\n"
  },
  {
    "id" : "1473f97b-35e1-4bd1-a3fc-e3d2f78d1e5e",
    "prId" : 40355,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40355#pullrequestreview-21470083",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b7e18087-4891-48d8-bc0d-f52849c195be",
        "parentId" : null,
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "Maybe add V(4) logging at entry to this function?",
        "createdAt" : "2017-02-12T07:01:59Z",
        "updatedAt" : "2017-02-12T07:01:59Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      },
      {
        "id" : "74cf0819-c94b-4bee-8c46-28d9b1761fc0",
        "parentId" : "b7e18087-4891-48d8-bc0d-f52849c195be",
        "authorId" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "body" : "Done.",
        "createdAt" : "2017-02-13T09:51:34Z",
        "updatedAt" : "2017-02-13T09:51:34Z",
        "lastEditedBy" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "tags" : [
        ]
      }
    ],
    "commit" : "004552f8a43e0bfd138c166f586bb4686fac559c",
    "line" : 122,
    "diffHunk" : "@@ -1,1 +120,124 @@\n// CancelWork removes scheduled function execution from the queue.\nfunc (q *TimedWorkerQueue) CancelWork(key string) {\n\tq.Lock()\n\tdefer q.Unlock()"
  }
]