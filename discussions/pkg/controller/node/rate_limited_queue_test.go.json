[
  {
    "id" : "fd978e67-a3b2-4049-b49a-322ed1fa867c",
    "prId" : 32270,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0ecff91f-5e30-4cf3-ae4a-f03c054ea68c",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "If you are checking SetEq - then you probably don't need to check for equal lengths in the line above...\n",
        "createdAt" : "2016-09-08T10:17:49Z",
        "updatedAt" : "2016-09-08T10:20:59Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "5517d452-d82a-40a2-aa07-b9d942efaa20",
        "parentId" : "0ecff91f-5e30-4cf3-ae4a-f03c054ea68c",
        "authorId" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "body" : "Yeah - though the distinction was useful for debugging of the original test. I'd rather leave this as is.\n",
        "createdAt" : "2016-09-08T10:20:27Z",
        "updatedAt" : "2016-09-08T10:20:59Z",
        "lastEditedBy" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "tags" : [
        ]
      }
    ],
    "commit" : "c40a36cab05febf6aa9c8bc6fe1c549bb019cc40",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +323,327 @@\t\tt.Fatalf(\"Map %v should have length %d\", evictor.queue.set, len(setPattern))\n\t}\n\tif !CheckSetEq(setPattern, deletedMap) {\n\t\tt.Errorf(\"Invalid map. Got %v, expected %v\", deletedMap, setPattern)\n\t}"
  },
  {
    "id" : "bb4d3a0d-50ad-44fd-ba7f-928876a79211",
    "prId" : 24382,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1c2e1134-0a2b-46a1-8c81-37db2f0691ed",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "does this need a lock, or is now() only called from a single goroutine?\n",
        "createdAt" : "2016-04-18T17:42:09Z",
        "updatedAt" : "2016-04-25T00:03:20Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "5fc221e0-8c80-4983-bb2d-e4dac8fd2de9",
        "parentId" : "1c2e1134-0a2b-46a1-8c81-37db2f0691ed",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Single threaded, Try is a for {} with a rate limiter and a check.\n\nOn Mon, Apr 18, 2016 at 1:42 PM, Jordan Liggitt notifications@github.com\nwrote:\n\n> In pkg/controller/node/rate_limited_queue_test.go\n> https://github.com/kubernetes/kubernetes/pull/24382#discussion_r60101564\n> :\n> \n> > @@ -152,25 +152,58 @@ func TestTry(t *testing.T) {\n> >  }\n> > \n> >  func TestTryOrdering(t *testing.T) {\n> > -   defer func() { now = time.Now }()\n> > -   current := time.Unix(0, 0)\n> > -   delay := 0\n> > -   // the current time is incremented by 1ms every time now is invoked\n> > -   now = func() time.Time {\n> > -       if delay > 0 {\n> \n> does this need a lock, or is now() only called from a single goroutine?\n> \n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly or view it on GitHub\n> https://github.com/kubernetes/kubernetes/pull/24382/files/7245730ea5a1ecc63e0e97cc617aec2e25b4921a#r60101564\n",
        "createdAt" : "2016-04-18T18:25:17Z",
        "updatedAt" : "2016-04-25T00:03:20Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "08f136b8d9f31a28b47035318f4d3ceafee1a609",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +158,162 @@\t// the current time is incremented by 1ms every time now is invoked\n\tnow = func() time.Time {\n\t\tif delay > 0 {\n\t\t\tdelay--\n\t\t} else {"
  },
  {
    "id" : "ee38e17f-8660-4c09-9454-156a2fbdb4de",
    "prId" : 24382,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "74f23b68-8d19-4277-80af-d09e6b76f0d8",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "start at t=1 and keep the addedAt zero check below?\n",
        "createdAt" : "2016-04-18T17:43:03Z",
        "updatedAt" : "2016-04-25T00:03:20Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "01fd0543-eedc-4aac-b383-6d65ab2c5b11",
        "parentId" : "74f23b68-8d19-4277-80af-d09e6b76f0d8",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "The addedAt check isn't needed any more (the equivalent exists), and we guarantee that t=0 only matches the \"first\" entry\n",
        "createdAt" : "2016-04-18T18:25:56Z",
        "updatedAt" : "2016-04-25T00:03:20Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "08f136b8d9f31a28b47035318f4d3ceafee1a609",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +154,158 @@func TestTryOrdering(t *testing.T) {\n\tdefer func() { now = time.Now }()\n\tcurrent := time.Unix(0, 0)\n\tdelay := 0\n\t// the current time is incremented by 1ms every time now is invoked"
  }
]