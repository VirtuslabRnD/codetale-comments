[
  {
    "id" : "02026b0c-2e92-4d91-becb-486ef5f37dfe",
    "prId" : 35665,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/35665#pullrequestreview-7312996",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e10c78a4-02ca-436b-9baf-1c99f1eb4099",
        "parentId" : null,
        "authorId" : "01c14569-b640-48af-98cc-aa9dd12da7b6",
        "body" : "also check `fakeHandler.ValidateRequestCount(t, n)` here, n be the number of expected calls \n",
        "createdAt" : "2016-11-03T22:33:06Z",
        "updatedAt" : "2016-11-05T11:47:40Z",
        "lastEditedBy" : "01c14569-b640-48af-98cc-aa9dd12da7b6",
        "tags" : [
        ]
      },
      {
        "id" : "8e749b88-c3a9-4ff7-beea-c6f40eafc45c",
        "parentId" : "e10c78a4-02ca-436b-9baf-1c99f1eb4099",
        "authorId" : "f2d7a78e-606f-4060-903e-a21198d7084e",
        "body" : "Good advice but there is a limitation in `FakeHandler` that we can call ValidateRequestCount only [one time](https://github.com/kubernetes/kubernetes/blob/master/pkg/util/testing/fake_handler.go#L101) for every `FakeHandler` instance, otherwise will cause [panic](https://github.com/kubernetes/kubernetes/blob/master/pkg/util/testing/fake_handler.go#L77-L79). So, it's not easy to `ValidateRequestCount` for every case. Do you have any good ideas?\n",
        "createdAt" : "2016-11-04T03:01:40Z",
        "updatedAt" : "2016-11-05T11:47:40Z",
        "lastEditedBy" : "f2d7a78e-606f-4060-903e-a21198d7084e",
        "tags" : [
        ]
      },
      {
        "id" : "aac281b0-1569-4c9e-b8c7-f13c2f62c014",
        "parentId" : "e10c78a4-02ca-436b-9baf-1c99f1eb4099",
        "authorId" : "01c14569-b640-48af-98cc-aa9dd12da7b6",
        "body" : "what if we move the whole fakehandler part into the for loop so that each `ValidateRequestCount` uses different fakehandler instance?\n",
        "createdAt" : "2016-11-04T20:53:28Z",
        "updatedAt" : "2016-11-05T11:47:40Z",
        "lastEditedBy" : "01c14569-b640-48af-98cc-aa9dd12da7b6",
        "tags" : [
        ]
      },
      {
        "id" : "ac26bc41-29ee-4d52-a878-f6208ca5c0da",
        "parentId" : "e10c78a4-02ca-436b-9baf-1c99f1eb4099",
        "authorId" : "f2d7a78e-606f-4060-903e-a21198d7084e",
        "body" : "Yes, will do.\n",
        "createdAt" : "2016-11-05T11:50:29Z",
        "updatedAt" : "2016-11-05T11:50:29Z",
        "lastEditedBy" : "f2d7a78e-606f-4060-903e-a21198d7084e",
        "tags" : [
        ]
      }
    ],
    "commit" : "396d9592524c3daffc961c04157653a2c399c223",
    "line" : null,
    "diffHunk" : "@@ -1,1 +105,109 @@\t\tfakeHandler.ValidateRequestCount(t, tc.requests)\n\t\ttestServer.Close()\n\t}\n}\n"
  }
]