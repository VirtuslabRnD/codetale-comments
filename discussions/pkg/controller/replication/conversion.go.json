[
  {
    "id" : "4f24e3ca-f967-4a31-bac3-5083db0663b3",
    "prId" : 61367,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/61367#pullrequestreview-107174525",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cf4c55c8-9637-469b-94c4-9530aa678708",
        "parentId" : null,
        "authorId" : "300f6742-1034-4af7-99ff-0cc31a06cf58",
        "body" : "Whether we can try convert RC to RS don't through extension? :-)",
        "createdAt" : "2018-03-21T02:10:25Z",
        "updatedAt" : "2018-03-21T02:10:32Z",
        "lastEditedBy" : "300f6742-1034-4af7-99ff-0cc31a06cf58",
        "tags" : [
        ]
      },
      {
        "id" : "1672b404-4af1-4030-990c-b853d6605600",
        "parentId" : "cf4c55c8-9637-469b-94c4-9530aa678708",
        "authorId" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "body" : "@fisherxu Do you have a concern about the correctness of the code? Or is this just a comment on the fact that this looks weird?\r\n\r\nFor context on why it looks weird: The internal (unversioned) [ReplicaSet struct](https://github.com/kubernetes/kubernetes/blob/bcf517e37251cf41ecb7e1fd1f5fd23a7458fcf6/pkg/apis/extensions/types.go#L679-L692) is still in `extensions`. So to convert between `apps/v1` ReplicaSet and `core/v1` ReplicationContorller, we go via the unversioned internal `extensions` ReplicaSet.",
        "createdAt" : "2018-03-21T18:04:18Z",
        "updatedAt" : "2018-03-21T18:04:18Z",
        "lastEditedBy" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "tags" : [
        ]
      },
      {
        "id" : "363a8f93-01a2-4347-94ca-c8d39fe9e552",
        "parentId" : "cf4c55c8-9637-469b-94c4-9530aa678708",
        "authorId" : "300f6742-1034-4af7-99ff-0cc31a06cf58",
        "body" : "In fact, I have tried to bump deployment/replicaset to apps/v1 last week, but haven't dealt with the rollback problem yet :-( and so not send a PR. Then observed your PR, so great~\r\nTo this conversion, I also through  extensions in my local env. I was thinking if we can move internal RS/Deployment to apps in a follow-up PR?",
        "createdAt" : "2018-03-22T01:37:42Z",
        "updatedAt" : "2018-03-22T01:37:42Z",
        "lastEditedBy" : "300f6742-1034-4af7-99ff-0cc31a06cf58",
        "tags" : [
        ]
      },
      {
        "id" : "84c26a55-485e-4e64-9b8f-90e97254d17e",
        "parentId" : "cf4c55c8-9637-469b-94c4-9530aa678708",
        "authorId" : "300f6742-1034-4af7-99ff-0cc31a06cf58",
        "body" : "@enisoc If we need move internal RS/Deployment to apps, I can help do it in a follow-up PR :)",
        "createdAt" : "2018-03-22T01:50:04Z",
        "updatedAt" : "2018-03-22T01:50:05Z",
        "lastEditedBy" : "300f6742-1034-4af7-99ff-0cc31a06cf58",
        "tags" : [
        ]
      },
      {
        "id" : "fb5798b1-c574-452b-b40b-10be1a5e9ceb",
        "parentId" : "cf4c55c8-9637-469b-94c4-9530aa678708",
        "authorId" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "body" : "@fisherxu Sorry about overlapping with your work. Did you post somewhere that you were working on that? FYI I started Deployment in #61419 but that's currently blocked by #61433.\r\n\r\nI agree we should move the internal struct to `apps` in a separate PR. If you plan to work on that, please leave a comment on #55714 so we don't overlap. Thanks!",
        "createdAt" : "2018-03-23T17:09:49Z",
        "updatedAt" : "2018-03-23T17:09:49Z",
        "lastEditedBy" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "tags" : [
        ]
      },
      {
        "id" : "a93da202-5d75-4209-9fb8-11f65d414c68",
        "parentId" : "cf4c55c8-9637-469b-94c4-9530aa678708",
        "authorId" : "300f6742-1034-4af7-99ff-0cc31a06cf58",
        "body" : "@enisoc Has sent a PR #61755 to move the internal struct to apps, and working on the failed CI :)",
        "createdAt" : "2018-03-27T07:14:40Z",
        "updatedAt" : "2018-03-27T07:14:40Z",
        "lastEditedBy" : "300f6742-1034-4af7-99ff-0cc31a06cf58",
        "tags" : [
        ]
      }
    ],
    "commit" : "c4c6e4bbb8d3f17e2287e4a272aec53dee96b342",
    "line" : 228,
    "diffHunk" : "@@ -1,1 +284,288 @@\t\tout = new(apps.ReplicaSet)\n\t}\n\tif err := appsconversion.Convert_extensions_ReplicaSet_To_v1_ReplicaSet(&rsInternal, out, nil); err != nil {\n\t\treturn nil, fmt.Errorf(\"can't convert ReplicaSet (converted from ReplicationController %v/%v) from internal to extensions/v1beta1: %v\", rc.Namespace, rc.Name, err)\n\t}"
  },
  {
    "id" : "551d7692-d810-4703-8136-93fcb224efe6",
    "prId" : 49429,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/49429#pullrequestreview-73319704",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a12df08b-abf3-47d7-9614-72e20043821e",
        "parentId" : null,
        "authorId" : "01c14569-b640-48af-98cc-aa9dd12da7b6",
        "body" : "Do we need some unit test for conversion?",
        "createdAt" : "2017-10-24T22:44:51Z",
        "updatedAt" : "2017-11-07T22:55:56Z",
        "lastEditedBy" : "01c14569-b640-48af-98cc-aa9dd12da7b6",
        "tags" : [
        ]
      },
      {
        "id" : "8bbf8d34-31c2-45a2-9efe-6b3d0a8c22e7",
        "parentId" : "a12df08b-abf3-47d7-9614-72e20043821e",
        "authorId" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "body" : "The RC/RS conversion process itself is well tested now after #53164. The only thing left to test here would be, \"Did we call the conversion function for each object?\" For that, I think it's more meaningful to check that these shims work in context, using the RC integration tests I've just added.",
        "createdAt" : "2017-10-31T23:10:11Z",
        "updatedAt" : "2017-11-07T22:55:56Z",
        "lastEditedBy" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "tags" : [
        ]
      }
    ],
    "commit" : "97cef269bf7c2ff105071de6047388b367dc767c",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +49,53 @@\t\"k8s.io/kubernetes/pkg/controller\"\n)\n\n// informerAdapter implements ReplicaSetInformer by wrapping ReplicationControllerInformer\n// and converting objects."
  },
  {
    "id" : "2ea5b419-1862-4168-891a-eba87e58f4cd",
    "prId" : 49429,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/49429#pullrequestreview-75510147",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a32b9b06-0c19-49d2-9d09-4de13e115b23",
        "parentId" : null,
        "authorId" : "01c14569-b640-48af-98cc-aa9dd12da7b6",
        "body" : "This cannot protect us if a new api version of RS is added (e.g. v2beta1) and RS controller was switched to use that new version. However I don't expect us doing that in the near future, so this is fine. ",
        "createdAt" : "2017-11-09T01:05:05Z",
        "updatedAt" : "2017-11-09T01:06:51Z",
        "lastEditedBy" : "01c14569-b640-48af-98cc-aa9dd12da7b6",
        "tags" : [
        ]
      },
      {
        "id" : "2eba534b-9e5d-4219-8163-318ee18b897b",
        "parentId" : "a32b9b06-0c19-49d2-9d09-4de13e115b23",
        "authorId" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "body" : "I think the adoption integration test should still fail in that case, since it will look for the RC under RS storage and get NotFound. I mostly added these panics to give a more obvious error message when possible.",
        "createdAt" : "2017-11-09T16:56:03Z",
        "updatedAt" : "2017-11-09T16:56:03Z",
        "lastEditedBy" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "tags" : [
        ]
      }
    ],
    "commit" : "97cef269bf7c2ff105071de6047388b367dc767c",
    "line" : 228,
    "diffHunk" : "@@ -1,1 +226,230 @@\t// Please change conversionClient to use the new RS version instead of extensions/v1beta1,\n\t// and then return a conversionClient here.\n\tpanic(\"need to update RC/RS conversionClient for apps/v1\")\n}\n"
  }
]