[
  {
    "id" : "fa133ac4-a0ee-4ce1-a756-791c4668372e",
    "prId" : 101154,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101154#pullrequestreview-662660378",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff5be32a-7dfe-4a2d-8f70-5f6b1843ca0a",
        "parentId" : null,
        "authorId" : "b4c6bfe1-e01e-4c5b-8a69-780cd7c03249",
        "body" : "This does not seem right. If there was an error while parsing the original node.Spec.PodCIDR, shouldn't we update it (return true)? Otherwise if there ever is an error while populating this field, it will never be 'corrected'",
        "createdAt" : "2021-05-13T20:46:18Z",
        "updatedAt" : "2021-05-13T20:47:57Z",
        "lastEditedBy" : "b4c6bfe1-e01e-4c5b-8a69-780cd7c03249",
        "tags" : [
        ]
      },
      {
        "id" : "a6dac2b2-54d3-46b7-bd21-71a0679096a9",
        "parentId" : "ff5be32a-7dfe-4a2d-8f70-5f6b1843ca0a",
        "authorId" : "cc053b27-c569-47a9-93f5-96fb2e43b36d",
        "body" : "We always validate the IPs before setting node.Spec.PodCIDR and hence we should never hit this case. This is more of a redundant safety check.\r\n\r\nIf at all we hit this, there must a bigger issue which will be ignored if we overwrite the IPs (we might also hit the same error while/after overwriting too).\r\n\r\nWe need to log it at the least. Let me know.",
        "createdAt" : "2021-05-14T00:32:02Z",
        "updatedAt" : "2021-05-14T00:34:06Z",
        "lastEditedBy" : "cc053b27-c569-47a9-93f5-96fb2e43b36d",
        "tags" : [
        ]
      },
      {
        "id" : "dfdc847b-4a92-4c3e-be73-770d5391e4d3",
        "parentId" : "ff5be32a-7dfe-4a2d-8f70-5f6b1843ca0a",
        "authorId" : "cc053b27-c569-47a9-93f5-96fb2e43b36d",
        "body" : "To keep the behavior consistent with existing behavior, I am just logging it if node.Spec.PodCIDR is invalid and we will try to update it with new values.\r\n",
        "createdAt" : "2021-05-18T23:34:13Z",
        "updatedAt" : "2021-05-18T23:34:13Z",
        "lastEditedBy" : "cc053b27-c569-47a9-93f5-96fb2e43b36d",
        "tags" : [
        ]
      }
    ],
    "commit" : "a013c6a2db54c59b78de974b181586723e088246",
    "line" : 102,
    "diffHunk" : "@@ -1,1 +319,323 @@\t\treturn true, nil\n\t}\n\t_, nodePodCIDR, err := net.ParseCIDR(node.Spec.PodCIDR)\n\tif err != nil {\n\t\tklog.ErrorS(err, \"Found invalid node.Spec.PodCIDR\", \"node.Spec.PodCIDR\", node.Spec.PodCIDR)"
  },
  {
    "id" : "5ada5c39-0435-460a-8f40-bbba636cd035",
    "prId" : 101154,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101154#pullrequestreview-659397454",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eb1ef4ad-930c-48b0-bf9e-31a0cb4d94da",
        "parentId" : null,
        "authorId" : "b4c6bfe1-e01e-4c5b-8a69-780cd7c03249",
        "body" : "Same comment as node.Spec.PodCIDR.",
        "createdAt" : "2021-05-13T20:46:35Z",
        "updatedAt" : "2021-05-13T20:47:57Z",
        "lastEditedBy" : "b4c6bfe1-e01e-4c5b-8a69-780cd7c03249",
        "tags" : [
        ]
      },
      {
        "id" : "ea877176-93a0-4605-8d93-7e18ff2ea19a",
        "parentId" : "eb1ef4ad-930c-48b0-bf9e-31a0cb4d94da",
        "authorId" : "cc053b27-c569-47a9-93f5-96fb2e43b36d",
        "body" : "Replied on the other comment.",
        "createdAt" : "2021-05-14T00:33:39Z",
        "updatedAt" : "2021-05-14T00:33:39Z",
        "lastEditedBy" : "cc053b27-c569-47a9-93f5-96fb2e43b36d",
        "tags" : [
        ]
      }
    ],
    "commit" : "a013c6a2db54c59b78de974b181586723e088246",
    "line" : 108,
    "diffHunk" : "@@ -1,1 +325,329 @@\t\treturn true, nil\n\t}\n\tnodePodCIDRs, err := netutils.ParseCIDRs(node.Spec.PodCIDRs)\n\tif err != nil {\n\t\tklog.ErrorS(err, \"Found invalid node.Spec.PodCIDRs\", \"node.Spec.PodCIDRs\", node.Spec.PodCIDRs)"
  },
  {
    "id" : "4ee68e81-1a23-4544-b3ed-cc388e6e9105",
    "prId" : 59208,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/59208#pullrequestreview-105845007",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d7fea310-bd53-49e1-9830-e61736c01cc3",
        "parentId" : null,
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "The '!' seems to have caused https://github.com/kubernetes/kubernetes/issues/61481 :)",
        "createdAt" : "2018-03-21T18:08:59Z",
        "updatedAt" : "2018-03-21T18:08:59Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      }
    ],
    "commit" : "39a33b1bbd6a2d3b134a0e393ac7b67b037d737e",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +113,117 @@\t\t\tnetworkUnavailableTaint := &v1.Taint{Key: algorithm.TaintNodeNetworkUnavailable, Effect: v1.TaintEffectNoSchedule}\n\t\t\t_, cond := v1node.GetNodeCondition(&newNode.Status, v1.NodeNetworkUnavailable)\n\t\t\tif cond == nil || cond.Status != v1.ConditionFalse || !utiltaints.TaintExists(newNode.Spec.Taints, networkUnavailableTaint) {\n\t\t\t\treturn ca.AllocateOrOccupyCIDR(newNode)\n\t\t\t}"
  }
]