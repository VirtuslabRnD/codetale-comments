[
  {
    "id" : "b954ddcd-0499-4590-9e27-418cbfa06144",
    "prId" : 33593,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/33593#pullrequestreview-2863113",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7663310e-c992-497d-9f89-659091307f65",
        "parentId" : null,
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "The condition above (line 201: if len(metrics.Items) != len(podNames)) is extremely strange. I would only check in this method if metrics for all ready pods are known. I wouldn't verify unready and pending pods at all. Although this condition was not introduced by this PR, I think this PR is a good opportunity to clean it up.\n",
        "createdAt" : "2016-10-04T08:59:32Z",
        "updatedAt" : "2016-11-08T05:57:50Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "338e3137-29cd-46d2-a460-afbc8fe26080",
        "parentId" : "7663310e-c992-497d-9f89-659091307f65",
        "authorId" : "3a4b4830-dc71-4d7e-a7db-de2453284945",
        "body" : "not sure which line you're talking about here.  It might have gotten changed across a rebase?\n",
        "createdAt" : "2016-10-04T14:36:57Z",
        "updatedAt" : "2016-11-08T05:57:50Z",
        "lastEditedBy" : "3a4b4830-dc71-4d7e-a7db-de2453284945",
        "tags" : [
        ]
      },
      {
        "id" : "47dd22f1-c69a-4231-a074-767e07d73b5a",
        "parentId" : "7663310e-c992-497d-9f89-659091307f65",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "https://github.com/kubernetes/kubernetes/blob/master/pkg/controller/podautoscaler/metrics/metrics_client.go#L175\n",
        "createdAt" : "2016-10-05T08:05:37Z",
        "updatedAt" : "2016-11-08T05:57:50Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "2c66d47786465b132f9b5d1d731c4eb9f6c9d686",
    "line" : 157,
    "diffHunk" : "@@ -1,1 +102,106 @@\tif len(metrics.Items) == 0 {\n\t\treturn nil, time.Time{}, fmt.Errorf(\"no metrics returned from heapster\")\n\t}\n\n\tres := make(PodResourceInfo, len(metrics.Items))"
  },
  {
    "id" : "4b21da7f-7da1-407c-b203-1b4e8c55ab51",
    "prId" : 33593,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/33593#pullrequestreview-5648224",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8ec3069-0912-4a18-8006-da9a249988a8",
        "parentId" : null,
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "Wy are we taking timestamp for the first metric? Do we have a guarantee that all timestamps are the same?\n",
        "createdAt" : "2016-10-25T13:24:03Z",
        "updatedAt" : "2016-11-08T05:57:50Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "572cb7d7-7880-4f9a-9ad7-9a80efea8da9",
        "parentId" : "c8ec3069-0912-4a18-8006-da9a249988a8",
        "authorId" : "3a4b4830-dc71-4d7e-a7db-de2453284945",
        "body" : "It's what we do now: https://github.com/kubernetes/kubernetes/blob/master/pkg/controller/podautoscaler/metrics/metrics_client.go#L208\n",
        "createdAt" : "2016-10-25T13:27:17Z",
        "updatedAt" : "2016-11-08T05:57:50Z",
        "lastEditedBy" : "3a4b4830-dc71-4d7e-a7db-de2453284945",
        "tags" : [
        ]
      }
    ],
    "commit" : "2c66d47786465b132f9b5d1d731c4eb9f6c9d686",
    "line" : 243,
    "diffHunk" : "@@ -1,1 +126,130 @@\ttimestamp := time.Time{}\n\tif len(metrics.Items) > 0 {\n\t\ttimestamp = metrics.Items[0].Timestamp.Time\n\t}\n"
  },
  {
    "id" : "bd99fe52-27e6-453e-94eb-4509681304d2",
    "prId" : 25768,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "691ca18b-655a-410d-857e-cb38de9f0c63",
        "parentId" : null,
        "authorId" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "body" : "This will build string version of result every time. Please check the logging level if building big strings just for logging.\n",
        "createdAt" : "2016-05-17T20:07:44Z",
        "updatedAt" : "2016-05-20T17:51:09Z",
        "lastEditedBy" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "tags" : [
        ]
      },
      {
        "id" : "b285cf16-828d-41d5-b208-92f089e8475d",
        "parentId" : "691ca18b-655a-410d-857e-cb38de9f0c63",
        "authorId" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "body" : "This is what we've already had. Let's leave such optimization to follow up PRs.\n",
        "createdAt" : "2016-05-20T10:09:05Z",
        "updatedAt" : "2016-05-20T17:51:09Z",
        "lastEditedBy" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "tags" : [
        ]
      }
    ],
    "commit" : "26ad827893564bbe8e9d6404343dd2a6441598d4",
    "line" : 64,
    "diffHunk" : "@@ -1,1 +164,168 @@\t}\n\n\tglog.V(4).Infof(\"Heapster metrics result: %s\", string(resultRaw))\n\n\tmetrics := make([]metrics_api.PodMetrics, 0)"
  },
  {
    "id" : "8347eee7-9eac-4124-899f-03efbd300407",
    "prId" : 25768,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "48d59942-927f-4c3f-a3fb-1a24371ea03c",
        "parentId" : null,
        "authorId" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "body" : "can len metric be 0?\n",
        "createdAt" : "2016-05-17T20:09:00Z",
        "updatedAt" : "2016-05-20T17:51:09Z",
        "lastEditedBy" : "ab8bc7c5-233d-47c1-b03a-767fb930c021",
        "tags" : [
        ]
      },
      {
        "id" : "548704de-b08c-47dd-8cc4-059858bbd9cb",
        "parentId" : "48d59942-927f-4c3f-a3fb-1a24371ea03c",
        "authorId" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "body" : "Could be if podNames was zero as well but it doesn't seem so. You will always have pods at this point, otherwise you have bailed out earlier.\n",
        "createdAt" : "2016-05-17T20:33:11Z",
        "updatedAt" : "2016-05-20T17:51:09Z",
        "lastEditedBy" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "tags" : [
        ]
      },
      {
        "id" : "96b78c7c-fa9e-47c0-a8c6-91838913384b",
        "parentId" : "48d59942-927f-4c3f-a3fb-1a24371ea03c",
        "authorId" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "body" : "As @kargakis explained no. Especially there is a test which verifies this `TestCPUEmptyMetrics`\n",
        "createdAt" : "2016-05-20T10:10:19Z",
        "updatedAt" : "2016-05-23T07:55:46Z",
        "lastEditedBy" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "tags" : [
        ]
      }
    ],
    "commit" : "26ad827893564bbe8e9d6404343dd2a6441598d4",
    "line" : 91,
    "diffHunk" : "@@ -1,1 +191,195 @@\t}\n\n\treturn sum / int64(len(metrics)), metrics[0].Timestamp.Time, nil\n}\n"
  },
  {
    "id" : "95afe645-4823-40a7-b313-914328fe624e",
    "prId" : 15706,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f34f7eed-2fc7-4c95-9531-eb05bf420d2d",
        "parentId" : null,
        "authorId" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "body" : "Godoc?\n",
        "createdAt" : "2015-10-15T16:12:08Z",
        "updatedAt" : "2015-10-16T05:16:04Z",
        "lastEditedBy" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "tags" : [
        ]
      },
      {
        "id" : "f4efdad2-bf99-46af-aa0b-a87e66f79684",
        "parentId" : "f34f7eed-2fc7-4c95-9531-eb05bf420d2d",
        "authorId" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "body" : "Done\n",
        "createdAt" : "2015-10-15T19:19:57Z",
        "updatedAt" : "2015-10-16T05:16:04Z",
        "lastEditedBy" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "tags" : [
        ]
      }
    ],
    "commit" : "df732f061abeb8aa1b7cfca7806df5180f2531b3",
    "line" : null,
    "diffHunk" : "@@ -1,1 +49,53 @@\n// ResourceConsumption specifies consumption of a particular resource.\ntype ResourceConsumption struct {\n\tResource api.ResourceName\n\tQuantity resource.Quantity"
  },
  {
    "id" : "94be175c-860e-4978-a9a2-1647094986be",
    "prId" : 15706,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8f1a837e-7dc8-498c-963e-e8d9c8a4c217",
        "parentId" : null,
        "authorId" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "body" : "Godoc\n",
        "createdAt" : "2015-10-15T16:13:04Z",
        "updatedAt" : "2015-10-16T05:16:04Z",
        "lastEditedBy" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "tags" : [
        ]
      },
      {
        "id" : "f93b53a0-6407-49d5-8663-588d331b565d",
        "parentId" : "8f1a837e-7dc8-498c-963e-e8d9c8a4c217",
        "authorId" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "body" : "Done\n",
        "createdAt" : "2015-10-15T19:20:03Z",
        "updatedAt" : "2015-10-16T05:16:04Z",
        "lastEditedBy" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "tags" : [
        ]
      }
    ],
    "commit" : "df732f061abeb8aa1b7cfca7806df5180f2531b3",
    "line" : null,
    "diffHunk" : "@@ -1,1 +92,96 @@\n// NewHeapsterMetricsClient returns a new instance of Heapster-based implementation of MetricsClient interface.\nfunc NewHeapsterMetricsClient(client client.Interface) *HeapsterMetricsClient {\n\treturn &HeapsterMetricsClient{\n\t\tclient:              client,"
  }
]