[
  {
    "id" : "35e31072-bb55-4f22-9948-d84b0ec2ba93",
    "prId" : 39226,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/39226#pullrequestreview-15069462",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "88a63880-c7cb-4f9c-a2cf-315134a20e78",
        "parentId" : null,
        "authorId" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "body" : "Will this accept `localhost:8001path` without the `/` between host and path?\r\nWDYT of this: `\"^$|^/.*\"`\r\n",
        "createdAt" : "2017-01-03T22:23:40Z",
        "updatedAt" : "2017-01-03T22:23:40Z",
        "lastEditedBy" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "tags" : [
        ]
      },
      {
        "id" : "ab0e38ac-4f52-44f4-b855-1faf58bc9d2c",
        "parentId" : "88a63880-c7cb-4f9c-a2cf-315134a20e78",
        "authorId" : "d83924dd-d70f-4da4-95ce-d99172a9d6f1",
        "body" : "It won't, since the path and host are matched individually (see https://github.com/kubernetes/kubernetes/blob/master/pkg/kubectl/proxy_server.go#L105)\r\n\r\n(and the host and path are obtained from the request separately)\r\n\r\n",
        "createdAt" : "2017-01-04T08:19:39Z",
        "updatedAt" : "2017-01-04T08:21:26Z",
        "lastEditedBy" : "d83924dd-d70f-4da4-95ce-d99172a9d6f1",
        "tags" : [
        ]
      }
    ],
    "commit" : "c0aa2767aafa31b732d2eca72ab8348264eefa20",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +35,39 @@const (\n\tDefaultHostAcceptRE   = \"^localhost$,^127\\\\.0\\\\.0\\\\.1$,^\\\\[::1\\\\]$\"\n\tDefaultPathAcceptRE   = \"^.*\"\n\tDefaultPathRejectRE   = \"^/api/.*/pods/.*/exec,^/api/.*/pods/.*/attach\"\n\tDefaultMethodRejectRE = \"POST,PUT,PATCH\""
  },
  {
    "id" : "8ac717a6-09ec-4953-907c-f07aaee09fb4",
    "prId" : 11759,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9989776f-992d-49cd-acef-fbec6d6ba394",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Add a TODO: about looking into the proxy to see if we can fix this without always adding 100ms of latency.\n",
        "createdAt" : "2015-07-23T19:32:56Z",
        "updatedAt" : "2015-07-23T22:42:09Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c2760938296bb44382a68d5f477eb5fddd37ae3",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +42,46 @@\t// Only matters for long poll connections like the one used to watch. With an\n\t// interval of 0 the reverse proxy will buffer content sent on any connection\n\t// with transfer-encoding=chunked.\n\t// TODO: Flush after each chunk so the client doesn't suffer a 100ms latency per\n\t// watch event."
  },
  {
    "id" : "a3eb65bf-4376-4a77-ba41-9376fa9937de",
    "prId" : 9287,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "38e9d4e9-2868-4363-bfa4-d27fd9a28731",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "@brendandburns, I think the function misses a \"return\" here, doesn't it?\n",
        "createdAt" : "2015-06-18T17:21:38Z",
        "updatedAt" : "2015-06-18T17:21:38Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "4aeee946039f7e900afd2508bd8ea6940da89e93",
    "line" : 78,
    "diffHunk" : "@@ -1,1 +96,100 @@func (f *FilterServer) ServeHTTP(rw http.ResponseWriter, req *http.Request) {\n\tif f.accept(req.Method, req.URL.Path, req.Host) {\n\t\tf.delegate.ServeHTTP(rw, req)\n\t}\n\trw.WriteHeader(http.StatusForbidden)"
  },
  {
    "id" : "d9207c4e-445d-4e55-a2a5-ddfd85dd7c1f",
    "prId" : 9287,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aee3c114-46c9-4ff5-843e-f59b99f388bc",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "@brendandburns, the host string will also include the port number (\"localhost:8001\"), so it will not match the default AcceptHosts (^localhost$)\n",
        "createdAt" : "2015-06-18T17:43:24Z",
        "updatedAt" : "2015-06-18T17:43:24Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      },
      {
        "id" : "98686134-eb88-40d7-991d-94da7f09301f",
        "parentId" : "aee3c114-46c9-4ff5-843e-f59b99f388bc",
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "I'll send a patch.\n",
        "createdAt" : "2015-06-19T17:45:46Z",
        "updatedAt" : "2015-06-19T17:45:46Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "4aeee946039f7e900afd2508bd8ea6940da89e93",
    "line" : 70,
    "diffHunk" : "@@ -1,1 +88,92 @@\t\treturn false\n\t}\n\tif matchesRegexp(path, f.AcceptPaths) && matchesRegexp(host, f.AcceptHosts) {\n\t\treturn true\n\t}"
  }
]