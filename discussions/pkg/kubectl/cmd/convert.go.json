[
  {
    "id" : "3915a3c0-4eee-435a-b03a-834dc12f7a26",
    "prId" : 65542,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/65542#pullrequestreview-134994281",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41df939b-0193-4e78-8154-bb56c2fa1f18",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "Put a blank space between this and the next one. ",
        "createdAt" : "2018-07-06T12:27:30Z",
        "updatedAt" : "2018-07-12T22:12:45Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      }
    ],
    "commit" : "4446a29440ecd284f5e72a6157454a152fae2b2b",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +20,24 @@\t\"fmt\"\n\n\t\"github.com/golang/glog\"\n\t\"github.com/spf13/cobra\"\n"
  },
  {
    "id" : "8ca7fc4a-05c0-4c97-b00b-e7d65ceb27b2",
    "prId" : 11368,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e43065fd-15d2-4393-9546-c004502835b2",
        "parentId" : null,
        "authorId" : "7be32503-562e-4caa-838d-bba025e626b5",
        "body" : "Does this only work for one file?\n\nHow does/should this differ from `kubectl get`?\n",
        "createdAt" : "2015-09-05T04:25:42Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "7be32503-562e-4caa-838d-bba025e626b5",
        "tags" : [
        ]
      },
      {
        "id" : "33b28874-9bf6-4c61-aa93-15be5c5bd6e1",
        "parentId" : "e43065fd-15d2-4393-9546-c004502835b2",
        "authorId" : "7be32503-562e-4caa-838d-bba025e626b5",
        "body" : "How about we just add --local to `get` first?\n",
        "createdAt" : "2015-09-05T04:26:35Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "7be32503-562e-4caa-838d-bba025e626b5",
        "tags" : [
        ]
      },
      {
        "id" : "eb48e9fe-fb67-4cb4-8531-5e761b703537",
        "parentId" : "e43065fd-15d2-4393-9546-c004502835b2",
        "authorId" : "aa0ae875-2718-4d41-836b-db4cfbf596c8",
        "body" : "It works for directory. \nIn my mind `get` should retrieve live status from server, `--local` doesn't mean much for `get`. If I want to \"get\" resources from a local file, I can just open the file. \nAnd for `get`, it's better to keep the information unchanged. So I suggest not do convertion in `get` command to avoid confusion.\n",
        "createdAt" : "2015-09-06T03:25:10Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "aa0ae875-2718-4d41-836b-db4cfbf596c8",
        "tags" : [
        ]
      },
      {
        "id" : "e17068b5-df36-40f1-8a42-d8178dd9b371",
        "parentId" : "e43065fd-15d2-4393-9546-c004502835b2",
        "authorId" : "7be32503-562e-4caa-838d-bba025e626b5",
        "body" : "ok\n",
        "createdAt" : "2015-09-17T18:00:24Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "7be32503-562e-4caa-838d-bba025e626b5",
        "tags" : [
        ]
      }
    ],
    "commit" : "e1b88c6942bae0e42fa51a37eb0aacbb12625801",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +66,70 @@\t\t\terr := options.Complete(f, out, cmd, args)\n\t\t\tcmdutil.CheckErr(err)\n\t\t\terr = options.RunConvert()\n\t\t\tcmdutil.CheckErr(err)\n\t\t},"
  },
  {
    "id" : "ffb3518b-194d-4e9e-944e-66ab5978349c",
    "prId" : 11368,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "37c129d7-d592-4a52-abcf-90a79c81d877",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "Check to see if they explictly set `--output-version`.  If they did and we cannot honor it, we should fail instead of choosing a different level.\n",
        "createdAt" : "2015-09-17T18:32:43Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      }
    ],
    "commit" : "e1b88c6942bae0e42fa51a37eb0aacbb12625801",
    "line" : null,
    "diffHunk" : "@@ -1,1 +96,100 @@func (o *ConvertOptions) Complete(f *cmdutil.Factory, out io.Writer, cmd *cobra.Command, args []string) (err error) {\n\to.outputVersion = cmdutil.OutputVersion(cmd, latest.GroupOrDie(\"\").Version)\n\tif !registered.IsRegisteredAPIVersion(o.outputVersion) {\n\t\tcmdutil.UsageError(cmd, \"'%s' is not a registered version.\", o.outputVersion)\n\t}"
  },
  {
    "id" : "7d546b67-b776-4792-9977-8740587a763a",
    "prId" : 11368,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d8028554-2363-4be0-bea6-77480bf9045d",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "I would have expected `AsVersionedObjects` (note the 's') to preserve the kinds.  Otherwise everything comes back in a single list.  Is that what you intended?  If not, please comment it explaining why.\n",
        "createdAt" : "2015-09-18T11:52:34Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "288a702e-5e0b-4a2e-950f-2946b12503e8",
        "parentId" : "d8028554-2363-4be0-bea6-77480bf9045d",
        "authorId" : "aa0ae875-2718-4d41-836b-db4cfbf596c8",
        "body" : "I think with `AsVersionedObject` only one list will be returned. And kind info is also kept for every item. So both are fine. Only because `AsVersionedObject` doesn't need extra loop to display it, so I choose to use this one.\n",
        "createdAt" : "2015-09-19T09:02:39Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "aa0ae875-2718-4d41-836b-db4cfbf596c8",
        "tags" : [
        ]
      },
      {
        "id" : "58bcb992-a1c6-4c1e-9eb9-dd017df198bd",
        "parentId" : "d8028554-2363-4be0-bea6-77480bf9045d",
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "> I think with AsVersionedObject only one list will be returned. And kind info is also kept for every item. So both are fine. Only because AsVersionedObject doesn't need extra loop to display it, so I choose to use this one.\n\nDo `Lists` contain `Lists` properly?  I haven't checked, but if I tried to convert an entire directory, I'd be a little tweaked if my lists of elements weren't preserved as a distinct list inside of the list.\n\nTo clarify what I mean.  `dir/one-resource.yaml` and `dir/list-of-resources.yaml`.  When I call `kubectl convert dir`, I want \n\n```\nList\n    one-resource\n    List\n        list-item1\n        list-item2\n```\n\n**not**\n\n```\nList\n    one-resource\n    list-item1\n    list-item2\n```\n",
        "createdAt" : "2015-09-21T11:55:43Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "2b5e8719-111c-49f1-b054-06dc465b9986",
        "parentId" : "d8028554-2363-4be0-bea6-77480bf9045d",
        "authorId" : "aa0ae875-2718-4d41-836b-db4cfbf596c8",
        "body" : "I called `Flatten()` in the builder, so neither `AsVersionedObject` or `AsVersionedObjects` will contain nested lists. But if keeping list structure is important, I will fix it.\n",
        "createdAt" : "2015-09-22T02:46:57Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "aa0ae875-2718-4d41-836b-db4cfbf596c8",
        "tags" : [
        ]
      },
      {
        "id" : "10e39e97-b33e-44ac-a1bc-a59f528463ca",
        "parentId" : "d8028554-2363-4be0-bea6-77480bf9045d",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "For visiting, we don't need to preserve nested list (user said they wanted\nto walk lists implicitly).  In the future we could maybe  have nested, but\nI don't know what concrete reason for that (the output is always a list of\nitems)\n\nOn Sep 21, 2015, at 10:47 PM, Victor HU notifications@github.com wrote:\n\nIn pkg/kubectl/cmd/convert.go\nhttps://github.com/kubernetes/kubernetes/pull/11368#discussion_r40049339:\n\n> - if err != nil {\n> -     return err\n> - }\n>   +\n> - return nil\n>   +}\n>   +\n>   +// RunConvert implements the generic Convert command\n>   +func (o *ConvertOptions) RunConvert() error {\n>   +\n> - infos, err := o.builder.Do().Infos()\n> - if err != nil {\n> -     return err\n> - }\n>   +\n> - objects, err := resource.AsVersionedObject(infos, false, o.outputVersion)\n\nI called Flatten() in the builder, so neither AsVersionedObject or\nAsVersionedObjects will contain nested lists. But if keeping list structure\nis important, I will fix it.\n\nâ€”\nReply to this email directly or view it on GitHub\nhttps://github.com/kubernetes/kubernetes/pull/11368/files#r40049339.\n",
        "createdAt" : "2015-09-22T03:46:12Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "aff09bc0-d834-4dcc-bbf4-263e08e7112b",
        "parentId" : "d8028554-2363-4be0-bea6-77480bf9045d",
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "> For visiting, we don't need to preserve nested list (user said they wanted\n> to walk lists implicitly).  In the future we could maybe  have nested, but\n> I don't know what concrete reason for that (the output is always a list of\n> items)\n\nOk.  If its a problem in usage, we can change it later.\n",
        "createdAt" : "2015-09-22T11:51:32Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      }
    ],
    "commit" : "e1b88c6942bae0e42fa51a37eb0aacbb12625801",
    "line" : 150,
    "diffHunk" : "@@ -1,1 +148,152 @@\t}\n\n\tobjects, err := resource.AsVersionedObject(infos, false, o.outputVersion)\n\tif err != nil {\n\t\treturn err"
  },
  {
    "id" : "2c70026d-eb3e-4431-962e-cb1846d27253",
    "prId" : 11368,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3afe6ccc-265f-48f1-ace2-031dfaf3a423",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "Debugging statement?  You could use `glog` to put it out at higher trace levels.\n",
        "createdAt" : "2015-09-22T13:20:41Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "0652d74d-4421-4cf4-a36b-70bf01e04376",
        "parentId" : "3afe6ccc-265f-48f1-ace2-031dfaf3a423",
        "authorId" : "aa0ae875-2718-4d41-836b-db4cfbf596c8",
        "body" : "kubectl usually connects the server, but in this command, local is default to true. So it's a message for user to avoid possible confusion.\n",
        "createdAt" : "2015-09-22T13:59:09Z",
        "updatedAt" : "2015-10-09T02:16:02Z",
        "lastEditedBy" : "aa0ae875-2718-4d41-836b-db4cfbf596c8",
        "tags" : [
        ]
      }
    ],
    "commit" : "e1b88c6942bae0e42fa51a37eb0aacbb12625801",
    "line" : null,
    "diffHunk" : "@@ -1,1 +103,107 @@\tmapper, typer := f.Object()\n\tif o.local {\n\t\tfmt.Fprintln(out, \"running in local mode...\")\n\t\to.builder = resource.NewBuilder(mapper, typer, f.NilClientMapperForCommand())\n\t} else {"
  }
]