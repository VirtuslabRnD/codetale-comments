[
  {
    "id" : "cdea88a4-5acb-4d10-97c9-061b8bcc464f",
    "prId" : 66927,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66927#pullrequestreview-143006360",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cc52802e-b766-48d1-8b6e-b6ba56c34722",
        "parentId" : null,
        "authorId" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "body" : "nit: clientset",
        "createdAt" : "2018-08-02T22:58:14Z",
        "updatedAt" : "2018-08-02T22:58:14Z",
        "lastEditedBy" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "tags" : [
        ]
      }
    ],
    "commit" : "7923a9fd9925d3c7c5e7d27ad5e04509bc652042",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +28,32 @@\t\"strings\"\n\n\t\"k8s.io/client-go/kubernetes\"\n\trestclient \"k8s.io/client-go/rest\"\n\t\"k8s.io/kubernetes/pkg/kubectl/cmd/templates\""
  },
  {
    "id" : "e620a9f0-c680-4c34-aae0-7890e42afe59",
    "prId" : 63536,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/63536#pullrequestreview-118407975",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4a4c91b9-0737-4a5a-bac9-e778b4584c23",
        "parentId" : null,
        "authorId" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "body" : "nit: why place this package by itself?",
        "createdAt" : "2018-05-08T15:14:54Z",
        "updatedAt" : "2018-05-08T15:14:54Z",
        "lastEditedBy" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "tags" : [
        ]
      }
    ],
    "commit" : "facd04be4386f9aa6d996a4c4a30447527c6cbf5",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +35,39 @@\t\"k8s.io/kubernetes/pkg/kubectl/util/i18n\"\n\n\t\"bytes\"\n\n\t\"github.com/renstrom/dedent\""
  },
  {
    "id" : "64941264-5df7-4908-9875-c34ae0ff2d99",
    "prId" : 61298,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/61298#pullrequestreview-104779822",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6a1151c7-7404-46b1-991d-b030062760d4",
        "parentId" : null,
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "@brendanburns will prefixing `os.PathSeparator` work for you on windows? (is fileName likely to be `c:/abc`)?",
        "createdAt" : "2018-03-17T16:00:41Z",
        "updatedAt" : "2018-03-17T16:00:41Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "8a128bc7-b689-443c-b201-d0fbe7ce4328",
        "parentId" : "6a1151c7-7404-46b1-991d-b030062760d4",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "> (is fileName likely to be c:/abc)?\r\n\r\nNot with any legitimate response from the container (since we're invoking the tar command and not building tar files with absolute paths). ",
        "createdAt" : "2018-03-17T19:54:08Z",
        "updatedAt" : "2018-03-17T19:55:05Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "06ffbcd5-5005-4008-aaaa-32ed534295da",
        "parentId" : "6a1151c7-7404-46b1-991d-b030062760d4",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "Ack @liggitt thanks!",
        "createdAt" : "2018-03-17T22:16:27Z",
        "updatedAt" : "2018-03-17T22:16:27Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "d196afabc440a0620c938285cefa366cd0cfe096",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +316,320 @@// This is adapted from https://golang.org/src/net/http/fs.go#L74\nfunc clean(fileName string) string {\n\treturn path.Clean(string(os.PathSeparator) + fileName)\n}\n"
  },
  {
    "id" : "acec33a4-0380-4ce7-b205-33792cb7d5ec",
    "prId" : 58144,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/58144#pullrequestreview-89354048",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a44dbca8-a5a8-4a01-8473-2f147e95a557",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "isn't there a \"clean\" func in `os/path` ?",
        "createdAt" : "2018-01-15T10:11:57Z",
        "updatedAt" : "2018-01-15T10:11:57Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "9056aa9c-ddd4-4a96-a7a2-7f600b97dd75",
        "parentId" : "a44dbca8-a5a8-4a01-8473-2f147e95a557",
        "authorId" : "f3274321-6c89-486b-9e7f-51a105af09a9",
        "body" : "Yes, and it is used after calling this function (https://github.com/tomerf/kubernetes/blob/52f02c42e6a84a551b0f7eade38be62dd6c37cf2/pkg/kubectl/cmd/cp.go#L236).\r\nBut it only make the path canonical, it doesn't remove prefix slash.",
        "createdAt" : "2018-01-15T10:32:40Z",
        "updatedAt" : "2018-01-15T10:32:40Z",
        "lastEditedBy" : "f3274321-6c89-486b-9e7f-51a105af09a9",
        "tags" : [
        ]
      },
      {
        "id" : "8773dae0-4508-40e6-9bad-52db6ac641b2",
        "parentId" : "a44dbca8-a5a8-4a01-8473-2f147e95a557",
        "authorId" : "f3274321-6c89-486b-9e7f-51a105af09a9",
        "body" : "@sttts Is that okay?",
        "createdAt" : "2018-01-17T08:06:42Z",
        "updatedAt" : "2018-01-17T08:06:43Z",
        "lastEditedBy" : "f3274321-6c89-486b-9e7f-51a105af09a9",
        "tags" : [
        ]
      }
    ],
    "commit" : "52f02c42e6a84a551b0f7eade38be62dd6c37cf2",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +380,384 @@func getPrefix(file string) string {\n\t// tar strips the leading '/' if it's there, so we will too\n\treturn strings.TrimLeft(file, \"/\")\n}\n"
  },
  {
    "id" : "21606d0e-b3ad-4768-8fa5-3042e3b37a19",
    "prId" : 55095,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/55095#pullrequestreview-74938318",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "155c70b8-b0bb-4893-96bd-2783f17e354c",
        "parentId" : null,
        "authorId" : "3c1422a0-6358-4857-8f56-961979171514",
        "body" : "Duplicate `f.Close()` in L304 and L309?\r\n\r\nRemove L304.",
        "createdAt" : "2017-11-04T14:09:47Z",
        "updatedAt" : "2017-11-04T14:18:51Z",
        "lastEditedBy" : "3c1422a0-6358-4857-8f56-961979171514",
        "tags" : [
        ]
      },
      {
        "id" : "50695d17-0cd3-49bc-bf6f-721f13650502",
        "parentId" : "155c70b8-b0bb-4893-96bd-2783f17e354c",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "No, if we get an error we still need to close.  And you must close to guarantee the file is written to disk.",
        "createdAt" : "2017-11-07T22:53:36Z",
        "updatedAt" : "2017-11-07T22:53:37Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "b844ac44f5e08d3a80094dd8dbbcc60cdeef0e9d",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +307,311 @@\t\t\treturn err\n\t\t}\n\t\treturn f.Close()\n\t}\n\treturn nil"
  },
  {
    "id" : "8356b6d2-577e-495e-8cf6-f1b7b1cb2fb9",
    "prId" : 52465,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/52465#pullrequestreview-69232957",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f7b2797c-3f0c-4369-b63d-4a32b5133442",
        "parentId" : null,
        "authorId" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "body" : "Why not just do `prefix := path.Clean(getPrefix(src.File))` in the line above?",
        "createdAt" : "2017-10-13T13:48:53Z",
        "updatedAt" : "2017-10-13T13:48:53Z",
        "lastEditedBy" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "tags" : [
        ]
      }
    ],
    "commit" : "b1f85e2dfec6e64d8e1bc272251277df0058ab20",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +234,238 @@\t}()\n\tprefix := getPrefix(src.File)\n\tprefix = path.Clean(prefix)\n\treturn untarAll(reader, dest.File, prefix)\n}"
  },
  {
    "id" : "a55d7c34-df06-4ef0-a83f-6891dd87061b",
    "prId" : 51215,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/51215#pullrequestreview-83381309",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d0658d9e-e162-42a0-81d3-7935ebdafe64",
        "parentId" : null,
        "authorId" : "4e993b53-a2c8-452b-ac7c-716c3dc2995d",
        "body" : "it seems that this `if` block can be replaced with `dest.File = filepath.Clean( dest.File ) `",
        "createdAt" : "2017-12-14T02:16:51Z",
        "updatedAt" : "2017-12-14T02:16:51Z",
        "lastEditedBy" : "4e993b53-a2c8-452b-ac7c-716c3dc2995d",
        "tags" : [
        ]
      }
    ],
    "commit" : "2371accf0caae3b22627b1edb7c176d42878eab9",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +163,167 @@\tif strings.HasSuffix(string(dest.File[len(dest.File)-1]), \"/\") {\n\t\tdest.File = dest.File[:len(dest.File)-1]\n\t}\n\n\tif err := checkDestinationIsDir(dest, f, cmd); err == nil {"
  },
  {
    "id" : "f55d0586-b640-48ee-97ec-4a858530dcde",
    "prId" : 51215,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/51215#pullrequestreview-83381447",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "94120d23-c2e9-4040-8363-7f1511748fd2",
        "parentId" : null,
        "authorId" : "4e993b53-a2c8-452b-ac7c-716c3dc2995d",
        "body" : "I suggest using filepath.Join instead of string concat",
        "createdAt" : "2017-12-14T02:18:02Z",
        "updatedAt" : "2017-12-14T02:18:02Z",
        "lastEditedBy" : "4e993b53-a2c8-452b-ac7c-716c3dc2995d",
        "tags" : [
        ]
      }
    ],
    "commit" : "2371accf0caae3b22627b1edb7c176d42878eab9",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +168,172 @@\t\t// If no error, dest.File was found to be a directory.\n\t\t// Copy specified src into it\n\t\tdest.File = dest.File + \"/\" + path.Base(src.File)\n\t}\n"
  },
  {
    "id" : "c38fabc0-012e-470f-8276-29aa5edb5f3a",
    "prId" : 34914,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/34914#pullrequestreview-6372253",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5ba1f110-b66a-4715-b3e8-08015860cdc2",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "`tar` requirement on the pod should be explicitly specified in the description. Otherwise we'll get users complaining about it, imho. \n",
        "createdAt" : "2016-10-26T13:07:42Z",
        "updatedAt" : "2016-10-30T03:25:36Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "3530a032-fd76-48b6-a036-d9890061a5bf",
        "parentId" : "5ba1f110-b66a-4715-b3e8-08015860cdc2",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "done.\n",
        "createdAt" : "2016-10-30T21:29:13Z",
        "updatedAt" : "2016-10-30T21:29:13Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "d65757fb8853aa34074766e4145c465f632276e6",
    "line" : 140,
    "diffHunk" : "@@ -1,1 +138,142 @@\n\t// TODO: Improve error messages by first testing if 'tar' is present in the container?\n\tcmdArr := []string{\"tar\", \"xf\", \"-\"}\n\tdestDir := path.Dir(dest.File)\n\tif len(destDir) > 0 {"
  }
]