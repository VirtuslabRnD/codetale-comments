[
  {
    "id" : "81b5bf73-ee54-4828-aa9b-fcdaf391a34d",
    "prId" : 66352,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66352#pullrequestreview-138646719",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f4ed27ab-88e0-4e3a-94d1-1f447b9a4851",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "Fix the switch/case below.  \r\n\r\n@CaoShuFeng looks like you didn't add any tests to make sure that https://github.com/kubernetes/kubernetes/pull/45275 worked because this change breaks the switch/case.\r\n\r\n@soltysh need to block changes like https://github.com/kubernetes/kubernetes/pull/45275 in the future when they don't work general resources",
        "createdAt" : "2018-07-19T12:25:30Z",
        "updatedAt" : "2018-07-23T18:40:28Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      }
    ],
    "commit" : "94fbb48dfc925c077d16c1f4c3a255e47f791d2f",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +207,211 @@\tif o.Object == nil {\n\t\tbuilder := f.NewBuilder().\n\t\t\tWithScheme(scheme.Scheme, scheme.Scheme.PrioritizedVersionsAllGroups()...).\n\t\t\tNamespaceParam(o.Namespace).DefaultNamespace().\n\t\t\tSingleResourceType()"
  },
  {
    "id" : "2ad48693-3cc1-452d-a52f-5f78fd6f9b31",
    "prId" : 65545,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/65545#pullrequestreview-150163790",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5fb74930-4375-4184-b5db-206944474f45",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "Don't, just print the error you think is valuable here, eg. `selector is required`, which btw. can be done with `cmd.MarkFlagRequired` function. ",
        "createdAt" : "2018-08-28T14:52:10Z",
        "updatedAt" : "2018-08-28T14:52:22Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      }
    ],
    "commit" : "4cdcaa7f7922b5b869f8a1bd98f80cf3a1500c8e",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +197,201 @@\tcase 0:\n\t\tif len(o.Selector) == 0 {\n\t\t\treturn cmdutil.UsageErrorf(cmd, \"%s\", logsUsageErrStr)\n\t\t}\n\tcase 1:"
  },
  {
    "id" : "197a5022-5dbf-4eb2-b836-bcf706e65e03",
    "prId" : 45275,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45275#pullrequestreview-138933857",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "21ecd78b-4991-4f53-8d94-8b4321135188",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "@soltysh @juanvallejo This change breaks when run against general resources.  That is against the goals of `kubectl`\r\n\r\nIf I'd caught it before 1.11 shipped, we'd've reverted it.",
        "createdAt" : "2018-07-19T12:26:46Z",
        "updatedAt" : "2018-07-19T12:26:46Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "fd874c24-7326-4be8-94cb-3630cb107d5a",
        "parentId" : "21ecd78b-4991-4f53-8d94-8b4321135188",
        "authorId" : "b41ac763-2378-4c8a-a9bf-7a3dd4082826",
        "body" : "I am sorry for the trouble I made here, apologize.",
        "createdAt" : "2018-07-20T05:42:44Z",
        "updatedAt" : "2018-07-20T05:42:44Z",
        "lastEditedBy" : "b41ac763-2378-4c8a-a9bf-7a3dd4082826",
        "tags" : [
        ]
      }
    ],
    "commit" : "a06f0077bdaf0a5cac1a23ad1179b1c439f4003e",
    "line" : 73,
    "diffHunk" : "@@ -1,1 +250,254 @@\t\treturn nil\n\tcase *api.Pod:\n\t\treturn o.getPodLogs(t)\n\tdefault:\n\t\treturn o.getLogs(o.Object)"
  },
  {
    "id" : "dc719f2b-d4f5-43e6-adde-9c97aec9b442",
    "prId" : 40927,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40927#pullrequestreview-22741289",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "862b2859-7be6-4015-a8b9-3815ebc11d1e",
        "parentId" : null,
        "authorId" : "54f3e5e9-1cb7-407a-b12d-39bb41fa5e9e",
        "body" : "why remove this ? if a user provided an invalid input, shouldn't we prompt this ?\r\n```console\r\nunexpected logs options object \r\nSee 'logs -h' for help and examples.\r\n```",
        "createdAt" : "2017-02-20T02:44:58Z",
        "updatedAt" : "2017-02-27T12:17:52Z",
        "lastEditedBy" : "54f3e5e9-1cb7-407a-b12d-39bb41fa5e9e",
        "tags" : [
        ]
      },
      {
        "id" : "00ef45fd-ad99-4908-b7ae-30f2b7549e59",
        "parentId" : "862b2859-7be6-4015-a8b9-3815ebc11d1e",
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "All user input is verified in `Complete`, at this point we're validating the correctness of internal structures (here `LogsOptions`) before running the actual command. User has no real input on these values, thus this doesn't provide any value for him. See other commands for similarity. ",
        "createdAt" : "2017-02-20T11:21:06Z",
        "updatedAt" : "2017-02-27T12:17:52Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "2935d45c-35d4-4919-960d-3096bbefd05d",
        "parentId" : "862b2859-7be6-4015-a8b9-3815ebc11d1e",
        "authorId" : "54f3e5e9-1cb7-407a-b12d-39bb41fa5e9e",
        "body" : "I see, thanks",
        "createdAt" : "2017-02-20T11:40:39Z",
        "updatedAt" : "2017-02-27T12:17:52Z",
        "lastEditedBy" : "54f3e5e9-1cb7-407a-b12d-39bb41fa5e9e",
        "tags" : [
        ]
      }
    ],
    "commit" : "5472a5e0a591d49c14c28a69ed97200d7c3eacae",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +101,105 @@\t\tRun: func(cmd *cobra.Command, args []string) {\n\t\t\tcmdutil.CheckErr(o.Complete(f, out, cmd, args))\n\t\t\tcmdutil.CheckErr(o.Validate())\n\t\t\tcmdutil.CheckErr(o.RunLogs())\n\t\t},"
  },
  {
    "id" : "b24baeba-033f-4e85-8a1b-f8e5ef31d337",
    "prId" : 32752,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/32752#pullrequestreview-136880",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "df0d1581-1205-49c3-bc78-e1e6792f6859",
        "parentId" : null,
        "authorId" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "body" : "can you update the comment here to give some examples of what this supports. Like kubectl logs -lapp=nginx. I am guessing this will only select pods with that label. Also what happens if the pod contains multiple containers, does it show logs for all container as well ?\n",
        "createdAt" : "2016-09-15T04:43:58Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "tags" : [
        ]
      },
      {
        "id" : "6d2095ab-b8bb-4882-ab10-a6f5f6600905",
        "parentId" : "df0d1581-1205-49c3-bc78-e1e6792f6859",
        "authorId" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "body" : "If you have multiple containers, it will fail. See the discussion below.\n",
        "createdAt" : "2016-09-15T10:42:21Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "tags" : [
        ]
      }
    ],
    "commit" : "acb032fc7248f8e0c6be6f51f75119d3b0299c95",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +55,59 @@\t\t# Show all logs from pod nginx written in the last hour\n\t\tkubectl logs --since=1h nginx`)\n\n\tselectorTail int64 = 10\n)"
  },
  {
    "id" : "0232af14-335a-4e65-90c3-9c6b1c5b2df3",
    "prId" : 32752,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/32752#pullrequestreview-3465537",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "97ee8d48-6c39-4d16-8907-652de5b4b7dc",
        "parentId" : null,
        "authorId" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "body" : "is this because it will be cpu intensive for the master ?\n",
        "createdAt" : "2016-09-15T04:45:34Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "tags" : [
        ]
      },
      {
        "id" : "b680d45e-c3b2-48a1-8c4a-87117caa18b8",
        "parentId" : "97ee8d48-6c39-4d16-8907-652de5b4b7dc",
        "authorId" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "body" : "The rules stated in the issue was to disallow follow when using a selector. The concern was that you could be following more than one log which would be more an issue with your cluster and then you would also have to tag every log line.\n",
        "createdAt" : "2016-09-15T10:17:47Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "tags" : [
        ]
      },
      {
        "id" : "ce705bb7-7821-4f85-9f82-eea78dc814d8",
        "parentId" : "97ee8d48-6c39-4d16-8907-652de5b4b7dc",
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "It has to do with interleaving logs (@smarterclayton was talking about) in case when getting logs from several pods.\n",
        "createdAt" : "2016-10-10T09:12:52Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      }
    ],
    "commit" : "acb032fc7248f8e0c6be6f51f75119d3b0299c95",
    "line" : null,
    "diffHunk" : "@@ -1,1 +176,180 @@\tif len(selector) != 0 {\n\t\tif logOptions.Follow {\n\t\t\treturn cmdutil.UsageError(cmd, \"only one of follow (-f) or selector (-l) is allowed\")\n\t\t}\n\t\tif len(logOptions.Container) != 0 {"
  },
  {
    "id" : "77362533-bf1d-4a96-96c8-654e50b4571f",
    "prId" : 32752,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/32752#pullrequestreview-4370066",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "Why this code isn't part of the `LogsForObject` defined in `pkg/kubectl/cmd/util/factory.go`? \n",
        "createdAt" : "2016-10-10T09:20:42Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "a30ecee4-ed9a-4fbd-bb86-97fb7383d752",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "body" : "It can move there but I am now I have to build and return a fake Request since it would need to chain all the Pod logs in some manner.\n",
        "createdAt" : "2016-10-10T12:35:06Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "tags" : [
        ]
      },
      {
        "id" : "50ce8bde-7caf-4336-9ffd-88cc57c524fc",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "Yes please, move.\n",
        "createdAt" : "2016-10-12T09:09:58Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "9d4d6c6c-c178-456c-b402-817a695ed99e",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "body" : "Looking closer, this isn't so simple without making the request completely bogus. Most of the code would end up living inside this fake request instead of LogsForObject.\n",
        "createdAt" : "2016-10-12T09:54:41Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "tags" : [
        ]
      },
      {
        "id" : "c7e36282-cdda-49ce-a9a9-9c5c480d2e28",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "I'm not quite convinced.You have to iterate over list of Pods and get logs for each of them. You're basically doing just that in here. What I'm asking is to move that code into the other file (`pkg/kubectl/cmd/util/factory.go`) which actually invokes client calls to get logs for each container. If that is not clear lemme know, I can submit a PR against your branch with the solution.\n",
        "createdAt" : "2016-10-12T20:53:38Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "c878bdad-7cb0-4d5a-b192-2a3a076d329e",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "body" : "You asked to change LogsForObjects which is what I cannot do. I have to create a new method which I am fine with.\n",
        "createdAt" : "2016-10-12T20:57:41Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "tags" : [
        ]
      },
      {
        "id" : "11830dcf-3df7-4787-8350-a85d1c3cc272",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "Why not? I'd generally iterate over PodList in here but leave Pod log retrieval in that method. Yes moving per container retrieval would be moved to LogsForObject, in general.\n",
        "createdAt" : "2016-10-12T21:29:35Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "708467f5-1ff2-49f7-9e84-b522c2662408",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "body" : "Ok, you lost me again. It might be easier for you do just show me what you want rather than me guess. I guess I don't see how it will all work in the end.\n",
        "createdAt" : "2016-10-12T21:37:34Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "tags" : [
        ]
      },
      {
        "id" : "78736c80-7546-4a1a-bf2b-fba94d6297c0",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "I think I only now realized what you're speaking about. Still the biggest problem here is that depending on whether you use the selector or now you're getting different results. Since only `PodList` will trigger getting logs from all the containers, whereas single `Pod` will only return the first container (if none is specified). We need to make this consistent, I'm trying to come up with some reasonable solution.\n",
        "createdAt" : "2016-10-15T09:43:33Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "a03c451d-c103-4d25-8d02-5ceccdd864db",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "I've re-read the issue and all the comments on this issue and I see that @smarterclayton was clear that for this PR we should have only the current behavior (just the first container) and the followup should handle `--all-containers` flag that will solve the problem globally.\n",
        "createdAt" : "2016-10-15T09:47:10Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "2da239f9-fd30-4c4d-8e68-f6dd06454f7f",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "body" : "No problem.  Will adjust the behavior and add --all-containers.\n",
        "createdAt" : "2016-10-15T09:53:30Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "tags" : [
        ]
      },
      {
        "id" : "991e48f6-befb-4a4c-8b93-88e2e7573273",
        "parentId" : "1370fcff-9de1-40d0-8507-8c18afdbdf18",
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "My proposed changes are I've included in https://github.com/fraenkel/kubernetes/pull/1\n",
        "createdAt" : "2016-10-15T10:10:35Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      }
    ],
    "commit" : "acb032fc7248f8e0c6be6f51f75119d3b0299c95",
    "line" : null,
    "diffHunk" : "@@ -1,1 +225,229 @@// RunLogs retrieves a pod log\nfunc (o LogsOptions) RunLogs() error {\n\tswitch t := o.Object.(type) {\n\tcase *api.PodList:\n\t\tfor _, p := range t.Items {"
  },
  {
    "id" : "833298f5-70b6-4729-b4c9-53519fdd0d64",
    "prId" : 32752,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/32752#pullrequestreview-3842250",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "abecc161-7cea-4760-b9ff-38f6e2666670",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "Why using a selector would give me different behavior than without one? By default this is not set, iow. it's unlimited. I'd like this to be consistent.\n",
        "createdAt" : "2016-10-10T09:23:27Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "07c5891e-321a-4ca8-b219-3c841630d991",
        "parentId" : "abecc161-7cea-4760-b9ff-38f6e2666670",
        "authorId" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "body" : "We can allow this. I was just follow what was described in the issue. I am assuming the concern was that your selector may match pods that are not guaranteed to have the matching container. One could choose to just ignore pods that do not have the container, although the current code would display an error. So you would have different behavior either one the parsing or on the output.\n",
        "createdAt" : "2016-10-10T12:18:44Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "tags" : [
        ]
      },
      {
        "id" : "c526f7d9-e9d5-429c-aa22-b6b793b78eb8",
        "parentId" : "abecc161-7cea-4760-b9ff-38f6e2666670",
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "I missed that comment, ok, but please make it clear in the command description.\n",
        "createdAt" : "2016-10-12T09:09:43Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "838cad60-15c5-4bf9-a7a4-c022a16e5fae",
        "parentId" : "abecc161-7cea-4760-b9ff-38f6e2666670",
        "authorId" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "body" : "updated.\n",
        "createdAt" : "2016-10-12T09:58:58Z",
        "updatedAt" : "2016-10-15T10:29:35Z",
        "lastEditedBy" : "6314844c-5310-477a-96a1-0fc838ec485f",
        "tags" : [
        ]
      }
    ],
    "commit" : "acb032fc7248f8e0c6be6f51f75119d3b0299c95",
    "line" : null,
    "diffHunk" : "@@ -1,1 +182,186 @@\t\t}\n\t\tif logOptions.TailLines == nil {\n\t\t\tlogOptions.TailLines = &selectorTail\n\t\t}\n\t}"
  },
  {
    "id" : "6adb426a-a1ec-4198-926c-afa75656b7e6",
    "prId" : 31675,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "917886a4-ed50-474b-9754-5f89d0277a45",
        "parentId" : null,
        "authorId" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "body" : "logs support also replica sets and replication controllers\n",
        "createdAt" : "2016-09-01T19:34:39Z",
        "updatedAt" : "2016-09-01T19:34:39Z",
        "lastEditedBy" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1fa7ff7a89ca687476af21ff3dbc89957abc61d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +55,59 @@\nconst (\n\tlogsUsageStr = \"expected 'logs POD_NAME [CONTAINER_NAME]'.\\nPOD_NAME is a required argument for the logs command\"\n)\n"
  }
]