[
  {
    "id" : "7a3e904a-623c-45e6-8f45-9b7461d0801e",
    "prId" : 32504,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "059f25e7-28f2-4c8d-9f91-6df5f923152f",
        "parentId" : null,
        "authorId" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "body" : "This TODO refers to the error above - as stated, this will be refactored after implementing generic apiserver in Heapster.\n\nThe need of this workaround was described here: [https://github.com/kubernetes/kubernetes/pull/31510#discussion_r76408471](https://github.com/kubernetes/kubernetes/pull/31510#discussion_r76408471)\n",
        "createdAt" : "2016-09-12T16:28:54Z",
        "updatedAt" : "2016-09-12T17:20:55Z",
        "lastEditedBy" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "tags" : [
        ]
      },
      {
        "id" : "1ab096f1-2e34-4845-b1e3-488e299429df",
        "parentId" : "059f25e7-28f2-4c8d-9f91-6df5f923152f",
        "authorId" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "body" : "I see, restored these changes back, ptal\n",
        "createdAt" : "2016-09-12T17:21:12Z",
        "updatedAt" : "2016-09-12T17:21:12Z",
        "lastEditedBy" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "tags" : [
        ]
      }
    ],
    "commit" : "4787dca073b6cfdba658d7e51dd01ac6444371e3",
    "line" : null,
    "diffHunk" : "@@ -1,1 +133,137 @@\t}\n\tmetrics, err := o.Client.GetPodMetrics(o.Namespace, o.ResourceName, o.AllNamespaces, selector)\n\t// TODO: Refactor this once Heapster becomes the API server.\n\t// First we check why no metrics have been received.\n\tif len(metrics) == 0 {"
  },
  {
    "id" : "4d40379d-169c-4d6e-9f52-8f2d1b062b62",
    "prId" : 31510,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91663eca-ffb3-4cd7-b60c-f0be20f2d1af",
        "parentId" : null,
        "authorId" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "body" : "Verifying that the resources exist in the API server first lets us avoid the strange error caused by proxy (I wrote about it [here](https://github.com/kubernetes/kubernetes/issues/30818#issuecomment-242434246)).\nSo this error will be checked below - after successful verification. This actually means the case, where there are no pods matching the query and thus no metrics are found - which is a healthy situation.\n",
        "createdAt" : "2016-08-26T12:13:40Z",
        "updatedAt" : "2016-08-31T09:55:16Z",
        "lastEditedBy" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "tags" : [
        ]
      }
    ],
    "commit" : "87cba30aae13b7a7b255163d9655626af87050ae",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +129,133 @@\t\t}\n\t}\n\tmetrics, err := o.Client.GetPodMetrics(o.Namespace, o.ResourceName, o.AllNamespaces, selector)\n\t// TODO: Refactor this once Heapster becomes the API server.\n\t// First we check why no metrics have been received."
  },
  {
    "id" : "95e95ca9-cee6-4a6d-9a00-b5c25f85386a",
    "prId" : 31510,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "68fc3237-149f-4d9e-a72a-f7870c62da8f",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "This is significant enough that I think we should have an issue for it.  Since you've done work in the area, it would be nice if you could own the issue until its fixed.\n",
        "createdAt" : "2016-08-30T17:13:35Z",
        "updatedAt" : "2016-08-31T09:55:16Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "9b85a816-bd4c-4675-90ba-bfcf95fc8287",
        "parentId" : "68fc3237-149f-4d9e-a72a-f7870c62da8f",
        "authorId" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "body" : "@piosz is working on the issue with more elaboration on this matter.\n",
        "createdAt" : "2016-08-31T09:53:30Z",
        "updatedAt" : "2016-08-31T09:55:16Z",
        "lastEditedBy" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "tags" : [
        ]
      },
      {
        "id" : "f13632d5-5c22-4e4b-bba8-a312f49773b6",
        "parentId" : "68fc3237-149f-4d9e-a72a-f7870c62da8f",
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "> @piosz is working on the issue with more elaboration on this matter.\n\nCan I get a link to it here so we can chase it down later?\n",
        "createdAt" : "2016-08-31T11:54:34Z",
        "updatedAt" : "2016-08-31T11:54:34Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "4fa4d6d8-fe7f-4111-8272-e148ed556090",
        "parentId" : "68fc3237-149f-4d9e-a72a-f7870c62da8f",
        "authorId" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "body" : "Done below, #31784\n",
        "createdAt" : "2016-08-31T13:28:32Z",
        "updatedAt" : "2016-08-31T13:28:32Z",
        "lastEditedBy" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "tags" : [
        ]
      }
    ],
    "commit" : "87cba30aae13b7a7b255163d9655626af87050ae",
    "line" : 69,
    "diffHunk" : "@@ -1,1 +130,134 @@\t}\n\tmetrics, err := o.Client.GetPodMetrics(o.Namespace, o.ResourceName, o.AllNamespaces, selector)\n\t// TODO: Refactor this once Heapster becomes the API server.\n\t// First we check why no metrics have been received.\n\tif len(metrics) == 0 {"
  },
  {
    "id" : "e78589fc-d9db-4b27-819f-af778b92aa1f",
    "prId" : 31510,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "81658e8f-9574-4733-adcb-3be1eed618c3",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "Will this still be necessary after the heapster updates you indicated above?\n",
        "createdAt" : "2016-08-30T17:14:14Z",
        "updatedAt" : "2016-08-31T09:55:16Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "01795b40-990a-47d5-b3ae-7a79d5ccd47e",
        "parentId" : "81658e8f-9574-4733-adcb-3be1eed618c3",
        "authorId" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "body" : "Yes, this is related to Heapster's 'delay' in computing the metrics and not with a different API, I believe.\nSo even after the update, still for the first ~80s since pod creation there will be no metrics available, but we want to indicate that their creation is in progress (or that it failed in case the pod is not considered a newly created) - this is what I understood @vishh expected in #30826.\n",
        "createdAt" : "2016-08-31T07:57:31Z",
        "updatedAt" : "2016-08-31T09:55:16Z",
        "lastEditedBy" : "3c629542-c5a2-4812-9ac7-1afd6beacae5",
        "tags" : [
        ]
      }
    ],
    "commit" : "87cba30aae13b7a7b255163d9655626af87050ae",
    "line" : 85,
    "diffHunk" : "@@ -1,1 +146,150 @@}\n\nfunc verifyEmptyMetrics(o TopPodOptions, selector labels.Selector) error {\n\tif len(o.ResourceName) > 0 {\n\t\tpod, err := o.Client.Pods(o.Namespace).Get(o.ResourceName)"
  }
]