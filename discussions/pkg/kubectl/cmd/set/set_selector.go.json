[
  {
    "id" : "1b02a0bd-7388-4141-bca0-a5d5893f3d92",
    "prId" : 47719,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47719#pullrequestreview-46747316",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b0f94e5a-5b27-45fd-a475-8b942289659c",
        "parentId" : null,
        "authorId" : "a09f2d48-fec0-4c0d-bd81-6de7378a6ebf",
        "body" : "Should it return if err != nil here?",
        "createdAt" : "2017-06-28T05:57:32Z",
        "updatedAt" : "2017-07-07T02:43:45Z",
        "lastEditedBy" : "a09f2d48-fec0-4c0d-bd81-6de7378a6ebf",
        "tags" : [
        ]
      },
      {
        "id" : "2cb828b0-a9ad-47dc-afc5-479f643cda60",
        "parentId" : "b0f94e5a-5b27-45fd-a475-8b942289659c",
        "authorId" : "9c76f9d4-eaaa-4ca5-ab15-871535509602",
        "body" : "Done. thanks!",
        "createdAt" : "2017-06-28T06:12:00Z",
        "updatedAt" : "2017-07-07T02:43:45Z",
        "lastEditedBy" : "9c76f9d4-eaaa-4ca5-ab15-871535509602",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ba41e7285b7bf42d292d49b3fe51e6e2f53fe3a",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +117,121 @@\to.mapper = mapper\n\to.encoder = f.JSONEncoder()\n\to.resources, o.selector, err = getResourcesAndSelector(args)\n\tif err != nil {\n\t\treturn err"
  },
  {
    "id" : "26ac4c22-7b8b-414d-a8ef-f567d4629ba8",
    "prId" : 45918,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/45918#pullrequestreview-39734144",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2a8201e1-8c16-40c4-a096-b4ce73dd1897",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "This looks off.  Won't this fail `--help` on server down calls?",
        "createdAt" : "2017-05-22T13:30:42Z",
        "updatedAt" : "2017-06-13T16:57:19Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "be4f8f75-4075-48c5-8d41-a803b58e24ca",
        "parentId" : "2a8201e1-8c16-40c4-a096-b4ce73dd1897",
        "authorId" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "body" : "I am not sure what you mean by this. \r\nThe reason why `o.builder.Latest()` is in this block is because invoking this method causes visitors to make use of the [RetrieveLatest](https://github.com/kubernetes/kubernetes/blob/master/pkg/kubectl/resource/builder.go#L783) visitor function, which then attempts to [make use of the `RESTClient` for each info](https://github.com/kubernetes/kubernetes/blob/master/pkg/kubectl/resource/visitor.go#L117). Since this `RESTClient` is `nil` when running the command `local`ly ([due to the resource `ClientMapper` being decorated](https://github.com/kubernetes/kubernetes/pull/45918/files#diff-a9b5082d3df09126fbcd118712148907R157) with [DisabledClientForMapping](https://github.com/kubernetes/kubernetes/blob/master/pkg/kubectl/resource/mapper.go#L35)), not having this block results in a panic.",
        "createdAt" : "2017-05-22T21:36:57Z",
        "updatedAt" : "2017-06-13T16:57:19Z",
        "lastEditedBy" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "tags" : [
        ]
      },
      {
        "id" : "43ef04a4-6721-41c6-8b94-49bf41c0c468",
        "parentId" : "2a8201e1-8c16-40c4-a096-b4ce73dd1897",
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "I meant moving the entire block into complete instead of in run where it used to be, not this particular condition.  Seems to work locally though.",
        "createdAt" : "2017-05-23T13:04:09Z",
        "updatedAt" : "2017-06-13T16:57:19Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      }
    ],
    "commit" : "d036686185192e58bc38d16093117fba25f4ab62",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +124,128 @@\t\tFlatten()\n\n\tif !o.local {\n\t\to.builder = o.builder.\n\t\t\tResourceTypeOrNameArgs(o.all, o.resources...)."
  },
  {
    "id" : "b2cf6318-9d70-4f21-8629-73ed16445a14",
    "prId" : 39936,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/39936#pullrequestreview-16758291",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "597328cd-59ce-4a34-a11c-8f0f67248bf2",
        "parentId" : null,
        "authorId" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "body" : "In what release this example fail? Latest master branch?",
        "createdAt" : "2017-01-16T08:38:33Z",
        "updatedAt" : "2017-01-16T08:38:37Z",
        "lastEditedBy" : "7dd504ec-7e63-45b3-98f8-6eb1c683e9c2",
        "tags" : [
        ]
      },
      {
        "id" : "b4eaebc1-4d9b-4d8f-84d1-50854df9eea0",
        "parentId" : "597328cd-59ce-4a34-a11c-8f0f67248bf2",
        "authorId" : "9c76f9d4-eaaa-4ca5-ab15-871535509602",
        "body" : "@resouer In latest master branch",
        "createdAt" : "2017-01-16T08:47:02Z",
        "updatedAt" : "2017-01-16T08:47:02Z",
        "lastEditedBy" : "9c76f9d4-eaaa-4ca5-ab15-871535509602",
        "tags" : [
        ]
      }
    ],
    "commit" : "8acbbb21e115b1c6259cb18d7ac713be1ca9a77e",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +66,70 @@\tselectorExample = templates.Examples(`\n        # set the labels and selector before creating a deployment/service pair.\n        kubectl create service clusterip my-svc --clusterip=\"None\" -o yaml --dry-run | kubectl set selector --local -f - 'environment=qa' -o yaml | kubectl create -f -\n        kubectl create deployment my-dep -o yaml --dry-run | kubectl label --local -f - environment=qa -o yaml | kubectl create -f -`)\n)"
  },
  {
    "id" : "7761b23c-c60b-433f-876b-2f6837c5630c",
    "prId" : 39291,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/39291#pullrequestreview-14991442",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7aebc20e-d72e-4700-a6fb-7cad00867546",
        "parentId" : null,
        "authorId" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "body" : "Should be part of Validate",
        "createdAt" : "2017-01-02T11:42:18Z",
        "updatedAt" : "2017-01-04T02:37:07Z",
        "lastEditedBy" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "tags" : [
        ]
      },
      {
        "id" : "7c8d5bb3-0d23-4c2e-8650-df38ddaf81d9",
        "parentId" : "7aebc20e-d72e-4700-a6fb-7cad00867546",
        "authorId" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "body" : "Remove this from here.",
        "createdAt" : "2017-01-03T09:56:23Z",
        "updatedAt" : "2017-01-04T02:37:07Z",
        "lastEditedBy" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "tags" : [
        ]
      },
      {
        "id" : "88c4f0ee-68cb-4b08-8e90-3e030876591d",
        "parentId" : "7aebc20e-d72e-4700-a6fb-7cad00867546",
        "authorId" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "body" : "I think we need this.  IIUC, this is run by \"Complete\" before the \"Validate\" fn to set the resource and selector on \"o\".",
        "createdAt" : "2017-01-03T18:17:50Z",
        "updatedAt" : "2017-01-04T02:37:07Z",
        "lastEditedBy" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "tags" : [
        ]
      },
      {
        "id" : "a3977b4f-c880-41bd-aed7-17a235e8fc5e",
        "parentId" : "7aebc20e-d72e-4700-a6fb-7cad00867546",
        "authorId" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "body" : "We don't need this in Complete. The check that was added by @xilabao in Validate (`o.selector == nil`) should be enough.",
        "createdAt" : "2017-01-03T19:00:48Z",
        "updatedAt" : "2017-01-04T02:37:07Z",
        "lastEditedBy" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "tags" : [
        ]
      },
      {
        "id" : "1b3f3812-dbef-4a5f-a025-56d5f3568335",
        "parentId" : "7aebc20e-d72e-4700-a6fb-7cad00867546",
        "authorId" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "body" : "Sorry, not sure I understand.  Complete has the following line to parse the arguments which calls this function and causes the panic:\r\n\r\n`o.resources, o.selector, err = getResourcesAndSelector(args)`\r\n\r\nAre you saying this line is not needed?",
        "createdAt" : "2017-01-03T19:10:59Z",
        "updatedAt" : "2017-01-04T02:37:07Z",
        "lastEditedBy" : "47ec15eb-72b4-4618-9e01-e3b37b6bac00",
        "tags" : [
        ]
      }
    ],
    "commit" : "78a0fb1e5a1614b5bb43be61a852e43417f3ef76",
    "line" : null,
    "diffHunk" : "@@ -1,1 +218,222 @@// getResourcesAndSelector retrieves resources and the selector expression from the given args (assuming selectors the last arg)\nfunc getResourcesAndSelector(args []string) (resources []string, selector *metav1.LabelSelector, err error) {\n\tif len(args) == 0 {\n\t\treturn []string{}, nil, nil\n\t}"
  }
]