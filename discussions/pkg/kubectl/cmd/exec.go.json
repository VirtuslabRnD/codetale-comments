[
  {
    "id" : "2e95ff43-fdb9-4d41-a723-dd32b6aa7a00",
    "prId" : 66927,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66927#pullrequestreview-143006320",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "19c6b089-2f40-41f5-9b8a-c109489e307e",
        "parentId" : null,
        "authorId" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "body" : "nit: corev1client",
        "createdAt" : "2018-08-02T22:58:04Z",
        "updatedAt" : "2018-08-02T22:58:04Z",
        "lastEditedBy" : "0385dfd1-e8a7-41a8-8213-eabe697d14cd",
        "tags" : [
        ]
      }
    ],
    "commit" : "7923a9fd9925d3c7c5e7d27ad5e04509bc652042",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +27,31 @@\tcorev1 \"k8s.io/api/core/v1\"\n\tmetav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"\n\tcoreclient \"k8s.io/client-go/kubernetes/typed/core/v1\"\n\trestclient \"k8s.io/client-go/rest\"\n\t\"k8s.io/client-go/tools/remotecommand\""
  },
  {
    "id" : "80f4afe6-4ca5-427e-a680-fd27a880a01d",
    "prId" : 31675,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae5f5dfd-c372-41be-af7e-75c972346088",
        "parentId" : null,
        "authorId" : "ad267631-96d1-4bad-b913-e8d6342e65a2",
        "body" : "Is this correct? `exec` takes `--` to start the `COMMAND` section. We should make it consistent with the usage, like \n\n`expected 'exec POD -- COMMAND [args...]'.\\nPOD and COMMAND are required ...` \n\nor even use the actual usage\n\n```\nexecUsageStr = \"expected %q.\\nPOD and COMMAND are required arguments for the exec command.\"\n\n(...)\n\nreturn cmdutil.UsageError(cmd, execUsageStr, cmd.Use)\n```\n",
        "createdAt" : "2016-08-31T15:38:01Z",
        "updatedAt" : "2016-09-01T04:17:15Z",
        "lastEditedBy" : "ad267631-96d1-4bad-b913-e8d6342e65a2",
        "tags" : [
        ]
      },
      {
        "id" : "9c8947d8-2315-4b0c-8a09-5bf664b9743e",
        "parentId" : "ae5f5dfd-c372-41be-af7e-75c972346088",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "That's an option, but it's not required, it's only needed if you want to pass flags to the command that you execute `kubectl exec foo sh` works just fine.\n",
        "createdAt" : "2016-09-01T04:19:05Z",
        "updatedAt" : "2016-09-01T04:19:05Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1fa7ff7a89ca687476af21ff3dbc89957abc61d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +50,54 @@\nconst (\n\texecUsageStr = \"expected 'exec POD_NAME COMMAND [ARG1] [ARG2] ... [ARGN]'.\\nPOD_NAME and COMMAND are required arguments for the exec command\"\n)\n"
  },
  {
    "id" : "9a816e10-b6ee-4632-97cb-69c605d0203a",
    "prId" : 25273,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "44f33b8f-fb4b-46ca-b168-fcc13c2b1a89",
        "parentId" : null,
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "If I have a call that runs attach in the context of an existing command, will this goroutine ext when the terminal session exits?\n",
        "createdAt" : "2016-07-06T16:11:49Z",
        "updatedAt" : "2016-07-13T21:06:20Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "3ab00c22-eb49-4e6a-ba1f-49f99a0525d4",
        "parentId" : "44f33b8f-fb4b-46ca-b168-fcc13c2b1a89",
        "authorId" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "body" : "Yes. The goroutine stops when tty.Safe stops. (Or do you mean something else by \"in the context of an existing command\"?) \n",
        "createdAt" : "2016-07-06T16:15:47Z",
        "updatedAt" : "2016-07-13T21:06:20Z",
        "lastEditedBy" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "tags" : [
        ]
      }
    ],
    "commit" : "3b21a9901bcd48bb452d3bf1a0cddc90dae142c4",
    "line" : 118,
    "diffHunk" : "@@ -1,1 +217,221 @@\tif tty {\n\t\t// this call spawns a goroutine to monitor/update the terminal size\n\t\tsizeQueue = t.MonitorSize(t.GetSize())\n\n\t\t// unset p.Err if it was previously set because both stdout and stderr go over p.Out when tty is"
  },
  {
    "id" : "a613af10-b196-497d-b8d7-ab4439e9441b",
    "prId" : 11729,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "265ff41e-4ac4-4e5d-b09c-ce7397cb6623",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "Which interface do you actually need?\n",
        "createdAt" : "2015-07-23T11:36:45Z",
        "updatedAt" : "2015-07-24T22:14:34Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "d77871c0-b61a-4eb9-9092-9fd9e27f2ead",
        "parentId" : "265ff41e-4ac4-4e5d-b09c-ce7397cb6623",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Several, and we don't have an interface for rest client in client today\n(just in resource).  Future feature.\n\nOn Jul 23, 2015, at 7:37 AM, David Eads notifications@github.com wrote:\n\nIn pkg/kubectl/cmd/exec.go\nhttps://github.com/GoogleCloudPlatform/kubernetes/pull/11729#discussion_r35312477\n:\n\n> - tty           bool\n>   +// ExecOptions declare the arguments accepted by the Exec command\n>   +type ExecOptions struct {\n> - Namespace     string\n> - PodName       string\n> - ContainerName string\n> - Stdin         bool\n> - TTY           bool\n> - Args          []string\n>   +\n> - In  io.Reader\n> - Out io.Writer\n> - Err io.Writer\n>   +\n> - Executor RemoteExecutor\n> - Client   *client.Client\n\nWhich interface do you actually need?\n\n—\nReply to this email directly or view it on GitHub\nhttps://github.com/GoogleCloudPlatform/kubernetes/pull/11729/files#r35312477\n.\n",
        "createdAt" : "2015-07-23T13:28:38Z",
        "updatedAt" : "2015-07-24T22:14:34Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "0b5410f30fcdbb7dc6814abe277b6dbee6158b91",
    "line" : 80,
    "diffHunk" : "@@ -1,1 +99,103 @@\n\tExecutor RemoteExecutor\n\tClient   *client.Client\n\tConfig   *client.Config\n}"
  },
  {
    "id" : "77e976b5-0d61-41c5-9f89-bec1ea26d1e4",
    "prId" : 11729,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5c55d52a-1a54-403e-b1ad-cd9c8d7847e6",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "Is this just for the TLSConfig?\n",
        "createdAt" : "2015-07-23T11:38:29Z",
        "updatedAt" : "2015-07-24T22:14:34Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "099ed728-f478-499e-bdb7-8b4ce044c0b4",
        "parentId" : "5c55d52a-1a54-403e-b1ad-cd9c8d7847e6",
        "authorId" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "body" : "Yes, it's needed here: https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/client/request.go#L646\n",
        "createdAt" : "2015-07-23T14:47:22Z",
        "updatedAt" : "2015-07-24T22:14:34Z",
        "lastEditedBy" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "tags" : [
        ]
      }
    ],
    "commit" : "0b5410f30fcdbb7dc6814abe277b6dbee6158b91",
    "line" : 81,
    "diffHunk" : "@@ -1,1 +100,104 @@\tExecutor RemoteExecutor\n\tClient   *client.Client\n\tConfig   *client.Config\n}\n"
  },
  {
    "id" : "e0bcafb4-5590-4d8b-ac12-6076ec99a9bf",
    "prId" : 11729,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "385d759e-c795-49a3-b9ca-3692e0555b3d",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "I think this would be easier to read if it were structured as `else if` on the lower `if/else` block.\n",
        "createdAt" : "2015-07-23T11:49:59Z",
        "updatedAt" : "2015-07-24T22:14:34Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      }
    ],
    "commit" : "0b5410f30fcdbb7dc6814abe277b6dbee6158b91",
    "line" : 89,
    "diffHunk" : "@@ -1,1 +105,109 @@// Complete verifies command line arguments and loads data from the command environment\nfunc (p *ExecOptions) Complete(f *cmdutil.Factory, cmd *cobra.Command, argsIn []string) error {\n\tif len(p.PodName) == 0 && len(argsIn) == 0 {\n\t\treturn cmdutil.UsageError(cmd, \"POD is required for exec\")\n\t}"
  },
  {
    "id" : "d5d1e72e-dc8a-4f48-9a9e-39a9619727b1",
    "prId" : 11729,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8e6a924-f598-4a32-a49d-6d1895040d9e",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "seems like validation best left to `Validate`\n",
        "createdAt" : "2015-07-23T19:43:12Z",
        "updatedAt" : "2015-07-24T22:14:34Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "383513cc-a347-44ec-92da-ed26922c2615",
        "parentId" : "c8e6a924-f598-4a32-a49d-6d1895040d9e",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Double validates because this is specific to command behavior (Complete)\nnot usage behavior (Validate)\n\nOn Thu, Jul 23, 2015 at 3:43 PM, David Eads notifications@github.com\nwrote:\n\n> In pkg/kubectl/cmd/exec.go\n> https://github.com/GoogleCloudPlatform/kubernetes/pull/11729#discussion_r35362768\n> :\n> \n> > ```\n> >     if len(argsIn) < 1 {\n> > ```\n> > -           return \"\", \"\", nil, cmdutil.UsageError(cmd, \"COMMAND is required for exec\")\n> > -           return cmdutil.UsageError(cmd, \"COMMAND is required for exec\")\n> \n> seems like validation best left to Validate\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/GoogleCloudPlatform/kubernetes/pull/11729/files#r35362768\n> .\n\n## \n\nClayton Coleman | Lead Engineer, OpenShift\n",
        "createdAt" : "2015-07-23T20:50:54Z",
        "updatedAt" : "2015-07-24T22:14:34Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "0b5410f30fcdbb7dc6814abe277b6dbee6158b91",
    "line" : 98,
    "diffHunk" : "@@ -1,1 +111,115 @@\t\tprintDeprecationWarning(\"exec POD\", \"-p POD\")\n\t\tif len(argsIn) < 1 {\n\t\t\treturn cmdutil.UsageError(cmd, \"COMMAND is required for exec\")\n\t\t}\n\t\tp.Command = argsIn"
  },
  {
    "id" : "74e06672-ff2f-474d-bfdd-77d512ad0d4a",
    "prId" : 8604,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f593a862-aae2-4bfe-bf2f-51d116b8de6c",
        "parentId" : null,
        "authorId" : "7be32503-562e-4caa-838d-bba025e626b5",
        "body" : "Drop the `-c` if the preferred syntax omits it.\n",
        "createdAt" : "2015-05-26T22:02:18Z",
        "updatedAt" : "2015-05-27T22:47:45Z",
        "lastEditedBy" : "7be32503-562e-4caa-838d-bba025e626b5",
        "tags" : [
        ]
      },
      {
        "id" : "b1c85153-75eb-48b9-98fc-d2676cde0e60",
        "parentId" : "f593a862-aae2-4bfe-bf2f-51d116b8de6c",
        "authorId" : "7be32503-562e-4caa-838d-bba025e626b5",
        "body" : "Actually, which is the preferred syntax now, -c or no -c?\n",
        "createdAt" : "2015-05-26T22:03:55Z",
        "updatedAt" : "2015-05-27T22:47:45Z",
        "lastEditedBy" : "7be32503-562e-4caa-838d-bba025e626b5",
        "tags" : [
        ]
      },
      {
        "id" : "b61ed314-86b5-4609-89f8-c0f034957d7b",
        "parentId" : "f593a862-aae2-4bfe-bf2f-51d116b8de6c",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "I mentioned this in https://github.com/GoogleCloudPlatform/kubernetes/issues/8448#issuecomment-104093802\n\nI'd prefer to drop the `-c` but the cobra parsing makes it impossible to tell the difference between:\n\n`kubectl exec <pod> <container> -- <cmd>`\nand\n`kubectl exec <pod> --- <cmd> <arg>`\n\nSo I think we have to keep the `-c` for now.\n",
        "createdAt" : "2015-05-27T02:47:05Z",
        "updatedAt" : "2015-05-27T22:47:45Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ec4b409e1548d437bed551e259f9578d78fd0ac",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +37,41 @@\t\n// get output from running 'date' in ruby-container from pod 123456-7890\n$ kubectl exec 123456-7890 -c ruby-container date\n\n//switch to raw terminal mode, sends stdin to 'bash' in ruby-container from pod 123456-780 and sends stdout/stderr from 'bash' back to the client"
  },
  {
    "id" : "77320724-366b-4828-82df-b16abcfbddc4",
    "prId" : 8604,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cd010af1-fa7a-4be1-ba5b-baf592c54b23",
        "parentId" : null,
        "authorId" : "7be32503-562e-4caa-838d-bba025e626b5",
        "body" : "Ditto\n",
        "createdAt" : "2015-05-26T22:02:25Z",
        "updatedAt" : "2015-05-27T22:47:45Z",
        "lastEditedBy" : "7be32503-562e-4caa-838d-bba025e626b5",
        "tags" : [
        ]
      },
      {
        "id" : "6f883fcc-093e-4d56-b019-366ebd0e8fa8",
        "parentId" : "cd010af1-fa7a-4be1-ba5b-baf592c54b23",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "as above.\n",
        "createdAt" : "2015-05-27T02:47:12Z",
        "updatedAt" : "2015-05-27T22:47:45Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ec4b409e1548d437bed551e259f9578d78fd0ac",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +40,44 @@\n//switch to raw terminal mode, sends stdin to 'bash' in ruby-container from pod 123456-780 and sends stdout/stderr from 'bash' back to the client\n$ kubectl exec 123456-7890 -c ruby-container -i -t -- bash -il`\n)\n"
  },
  {
    "id" : "c988ea75-e081-40b9-8aa3-92319dc83413",
    "prId" : 8604,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "389a0040-a88d-4280-8d07-aa7710f601bb",
        "parentId" : null,
        "authorId" : "7be32503-562e-4caa-838d-bba025e626b5",
        "body" : "Ditto\n",
        "createdAt" : "2015-05-26T22:02:32Z",
        "updatedAt" : "2015-05-27T22:47:45Z",
        "lastEditedBy" : "7be32503-562e-4caa-838d-bba025e626b5",
        "tags" : [
        ]
      },
      {
        "id" : "10ae49fd-a733-4869-8299-09f4df2c4e3a",
        "parentId" : "389a0040-a88d-4280-8d07-aa7710f601bb",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "as above.\n",
        "createdAt" : "2015-05-27T02:47:20Z",
        "updatedAt" : "2015-05-27T22:47:45Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ec4b409e1548d437bed551e259f9578d78fd0ac",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +46,50 @@\tparams := &execParams{}\n\tcmd := &cobra.Command{\n\t\tUse:     \"exec POD -c CONTAINER -- COMMAND [args...]\",\n\t\tShort:   \"Execute a command in a container.\",\n\t\tLong:    \"Execute a command in a container.\","
  }
]