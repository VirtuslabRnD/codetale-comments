[
  {
    "id" : "3bb30fb9-0d5c-49f6-8fa0-cfc248e689e0",
    "prId" : 89549,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89549#pullrequestreview-385251962",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c935d8dd-e3e0-4cc1-b1ea-6ffb034fb6d7",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "cc @kubernetes/sig-instrumentation-pr-reviews @logicalhan ",
        "createdAt" : "2020-04-01T04:04:57Z",
        "updatedAt" : "2020-04-22T19:00:10Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "ae0e52d28cd26fcece361e14e5263a654b1c4a09",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +24,28 @@const kubeServiceAccountSubsystem = \"serviceaccount\"\n\nvar (\n\t// LegacyTokensTotal is the number of legacy tokens used against apiserver.\n\tlegacyTokensTotal = metrics.NewCounter("
  },
  {
    "id" : "9f7ec52d-8089-4694-b37e-10befa8bee25",
    "prId" : 89549,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/89549#pullrequestreview-391687725",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2d3c2eca-17ac-47ef-bd1f-1c19cdc7576d",
        "parentId" : null,
        "authorId" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "body" : "I think we need cumulative non-legacy tokens too right since the stale/valid counters only increment when warn after is set?",
        "createdAt" : "2020-04-10T19:56:48Z",
        "updatedAt" : "2020-04-22T19:00:10Z",
        "lastEditedBy" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "tags" : [
        ]
      },
      {
        "id" : "3f3bbbaf-d19c-47e8-a6bb-159084a84aa0",
        "parentId" : "2d3c2eca-17ac-47ef-bd1f-1c19cdc7576d",
        "authorId" : "cba1ad27-2a69-4b4d-be96-98362efd243b",
        "body" : "Well non-legacy token metric is a good reference but I'm not sure whether we need that.\r\nThe metric we really care about is legacy/stale tokens, which we could fix clients and migrate old token flow.\r\nValid token metric itself is just a reference, not that critical.\r\ntokens not legacy, not set warn-after field means the token is not injected by admission controller, thus we do not have any control of it for this safe rollout effort. this makes me think of we might not need another reference metric to watch how many non-legacy tokens in total is being used.",
        "createdAt" : "2020-04-10T22:15:04Z",
        "updatedAt" : "2020-04-22T19:00:10Z",
        "lastEditedBy" : "cba1ad27-2a69-4b4d-be96-98362efd243b",
        "tags" : [
        ]
      }
    ],
    "commit" : "ae0e52d28cd26fcece361e14e5263a654b1c4a09",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +30,34 @@\t\t\tSubsystem:      kubeServiceAccountSubsystem,\n\t\t\tName:           \"legacy_tokens_total\",\n\t\t\tHelp:           \"Cumulative legacy service account tokens used\",\n\t\t\tStabilityLevel: metrics.ALPHA,\n\t\t},"
  }
]