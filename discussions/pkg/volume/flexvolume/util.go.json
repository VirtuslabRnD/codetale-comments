[
  {
    "id" : "f59771d2-f639-4ab3-a83d-2d837ce3f86a",
    "prId" : 94916,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94916#pullrequestreview-513258467",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0c0e35f1-3123-47b9-a4d3-d7cf130827dd",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "It's possible flex volumes can use fuse right?\r\n",
        "createdAt" : "2020-10-13T17:42:40Z",
        "updatedAt" : "2020-10-13T17:42:40Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "c83b6186-53c2-40d1-b74a-3903a2512071",
        "parentId" : "0c0e35f1-3123-47b9-a4d3-d7cf130827dd",
        "authorId" : "e0218e0a-9e55-43f5-8929-04673eea9015",
        "body" : "@msau42 you mean Linux fuse file system? why is this PR related?",
        "createdAt" : "2020-10-14T01:06:30Z",
        "updatedAt" : "2020-10-14T01:06:31Z",
        "lastEditedBy" : "e0218e0a-9e55-43f5-8929-04673eea9015",
        "tags" : [
        ]
      },
      {
        "id" : "e17a5096-6c6b-4534-8da0-360abe52576c",
        "parentId" : "0c0e35f1-3123-47b9-a4d3-d7cf130827dd",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "systemd is needed to mount storage backends that spawn fuse daemons. If we think flex volumes could use fuse, then we need to keep it using systemd.",
        "createdAt" : "2020-10-14T01:21:36Z",
        "updatedAt" : "2020-10-14T01:21:37Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "e659bd94-9026-4d49-ab42-6e59f7f1be85",
        "parentId" : "0c0e35f1-3123-47b9-a4d3-d7cf130827dd",
        "authorId" : "e0218e0a-9e55-43f5-8929-04673eea9015",
        "body" : "there is still flexvolume driver that use fuse: https://github.com/Azure/kubernetes-volume-drivers/tree/master/flexvolume/blobfuse,  this will break blobfuse flexvol driver?",
        "createdAt" : "2020-10-14T01:30:43Z",
        "updatedAt" : "2020-10-14T01:30:43Z",
        "lastEditedBy" : "e0218e0a-9e55-43f5-8929-04673eea9015",
        "tags" : [
        ]
      },
      {
        "id" : "0e46788c-58cb-40d8-9b07-bfa005deebe8",
        "parentId" : "0c0e35f1-3123-47b9-a4d3-d7cf130827dd",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "`doMount` in flex volume plugin is used only to bind-mount volume into pod-local directory in case a flex driver does not implement its own `mount` call. I assume such driver implements `mountdevice` and it can use systemd as it wants there.\r\n\r\nSee `-o bind` forcefully added here:\r\nhttps://github.com/kubernetes/kubernetes/blob/442a69c3bdf6fe8e525b05887e57d89db1e2f3a5/pkg/volume/flexvolume/mounter-defaults.go#L37\r\n\r\nI think it is safe to bind mount without systemd.",
        "createdAt" : "2020-10-15T08:10:35Z",
        "updatedAt" : "2020-10-15T08:10:35Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      },
      {
        "id" : "19c49a27-0a0a-44e6-8032-159555de326e",
        "parentId" : "0c0e35f1-3123-47b9-a4d3-d7cf130827dd",
        "authorId" : "2c84effb-dadc-459a-b62c-317a38c9f24d",
        "body" : "THX @jsafrane yes bind mount not use systemd",
        "createdAt" : "2020-10-21T02:15:48Z",
        "updatedAt" : "2020-10-21T02:15:49Z",
        "lastEditedBy" : "2c84effb-dadc-459a-b62c-317a38c9f24d",
        "tags" : [
        ]
      }
    ],
    "commit" : "27cb5cf4f053c704a8be5c44021e824119b4cfc6",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +141,145 @@// It is expected that prepareForMount has been called before.\nfunc doMount(mounter mount.Interface, devicePath, deviceMountPath, fsType string, options []string) error {\n\terr := mounter.MountSensitiveWithoutSystemd(devicePath, deviceMountPath, fsType, options, nil)\n\tif err != nil {\n\t\tklog.Errorf(\"Failed to mount the volume at %s, device: %s, error: %s\", deviceMountPath, devicePath, err.Error())"
  },
  {
    "id" : "7c8bfe4c-447a-408a-83dc-ec932dfafa2d",
    "prId" : 56460,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/56460#pullrequestreview-79630661",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2fea3c80-0030-47df-b1fe-0297198c5327",
        "parentId" : null,
        "authorId" : "34f61776-88da-4b26-aa20-3c4f92530d05",
        "body" : "Is this the driver name or driver path? The method name could be more clear",
        "createdAt" : "2017-11-28T19:07:28Z",
        "updatedAt" : "2017-12-15T05:53:35Z",
        "lastEditedBy" : "34f61776-88da-4b26-aa20-3c4f92530d05",
        "tags" : [
        ]
      },
      {
        "id" : "4314e2dc-7b94-479b-a9d0-938d0db9dd59",
        "parentId" : "2fea3c80-0030-47df-b1fe-0297198c5327",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "it's the driver field",
        "createdAt" : "2017-11-28T19:38:10Z",
        "updatedAt" : "2017-12-15T05:53:35Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "61369863b244a267725f1e75803819d68eea0e0e",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +58,62 @@var notFlexVolume = fmt.Errorf(\"not a flex volume\")\n\nfunc getDriver(spec *volume.Spec) (string, error) {\n\tif spec.Volume != nil && spec.Volume.FlexVolume != nil {\n\t\treturn spec.Volume.FlexVolume.Driver, nil"
  },
  {
    "id" : "e6892a48-e951-4d20-b02d-663fa75dea71",
    "prId" : 56460,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/56460#pullrequestreview-79611025",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1c88d464-0609-46b1-b9db-be85e5e41ece",
        "parentId" : null,
        "authorId" : "34f61776-88da-4b26-aa20-3c4f92530d05",
        "body" : "Consider using named return values",
        "createdAt" : "2017-11-28T19:14:18Z",
        "updatedAt" : "2017-12-15T05:53:35Z",
        "lastEditedBy" : "34f61776-88da-4b26-aa20-3c4f92530d05",
        "tags" : [
        ]
      }
    ],
    "commit" : "61369863b244a267725f1e75803819d68eea0e0e",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +78,82 @@}\n\nfunc getSecretNameAndNamespace(spec *volume.Spec, podNamespace string) (string, string, error) {\n\tif spec.Volume != nil && spec.Volume.FlexVolume != nil {\n\t\tif spec.Volume.FlexVolume.SecretRef == nil {"
  },
  {
    "id" : "aecea15a-66fe-42bf-9887-040f5111f4c0",
    "prId" : 41804,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/41804#pullrequestreview-22969839",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c55f5255-99f1-490a-8cf4-e080d85daa52",
        "parentId" : null,
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "what if the device needs a format? Can `FormatAndMount` be called?",
        "createdAt" : "2017-02-21T14:36:42Z",
        "updatedAt" : "2017-02-25T01:18:26Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      }
    ],
    "commit" : "0d2af70e95dc25141d6d179a088b3d1af26eb206",
    "line" : 86,
    "diffHunk" : "@@ -1,1 +84,88 @@// It is expected that prepareForMount has been called before.\nfunc doMount(mounter mount.Interface, devicePath, deviceMountPath, fsType string, options []string) error {\n\terr := mounter.Mount(devicePath, deviceMountPath, fsType, options)\n\tif err != nil {\n\t\tglog.Errorf(\"Failed to mount the volume at %s, device: %s, error: %s\", deviceMountPath, devicePath, err.Error())"
  }
]