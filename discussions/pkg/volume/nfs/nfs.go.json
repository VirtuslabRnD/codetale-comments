[
  {
    "id" : "bccd5890-b045-4c6b-a993-7e136a211cdc",
    "prId" : 96844,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/96844#pullrequestreview-552061248",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "882be6f8-d392-4ff3-8a7d-e7c5dc94cc21",
        "parentId" : null,
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "just want to double check whether this is optimal timeout setting in this case..",
        "createdAt" : "2020-11-27T19:37:17Z",
        "updatedAt" : "2020-12-15T17:04:12Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "c3f9f28e-d3e3-4b6c-993a-0bdc28c122de",
        "parentId" : "882be6f8-d392-4ff3-8a7d-e7c5dc94cc21",
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "there is no 100% sure way to know the answer. We have deployed some CSI driver with this value and it appears to be working fine. Unlike block devices - NFS volumes don't have to fsync on umount, so I think it should be fine. ",
        "createdAt" : "2020-12-15T02:37:43Z",
        "updatedAt" : "2020-12-15T17:04:12Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      }
    ],
    "commit" : "95852d7b8ec6bff61f6bad456ba4a0e9ad4356e1",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +64,68 @@const (\n\tnfsPluginName  = \"kubernetes.io/nfs\"\n\tunMountTimeout = time.Minute\n)\n"
  },
  {
    "id" : "5c1c4405-4d17-4b51-ad87-2e84032b61be",
    "prId" : 75805,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/75805#pullrequestreview-235277723",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fb9d3d9b-4d59-47cd-bf25-ead0975afdde",
        "parentId" : null,
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "`NewMetricsStatFS` calls `FsInfo`. According to NFS spec, FSINFO [1] call doesn't return capacity, inode, free inodes, etc. Additionally, NFS FSSTAT call [2] doesn't return these info either. \r\n\r\nFor reference, there was an early attempt to get NFS metrics through `du` [3], but there was a performance concern\r\n\r\n\r\n1. https://www.freesoft.org/CIE/RFC/1813/39.htm\r\n2. https://www.freesoft.org/CIE/RFC/1813/38.htm\r\n3. https://github.com/kubernetes/kubernetes/pull/33468/files",
        "createdAt" : "2019-03-29T13:55:58Z",
        "updatedAt" : "2019-06-13T17:22:12Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      },
      {
        "id" : "63124591-788d-4de1-ace3-52b7de594e8f",
        "parentId" : "fb9d3d9b-4d59-47cd-bf25-ead0975afdde",
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "Can the performance problem mitigated by collecting this metric less often (or caching it..)? ",
        "createdAt" : "2019-03-29T14:34:22Z",
        "updatedAt" : "2019-06-13T17:22:12Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "0fa3cee1-5757-47a9-95d4-ebebdce921c8",
        "parentId" : "fb9d3d9b-4d59-47cd-bf25-ead0975afdde",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "`du` on NFS can take really long time (hours) on big volumes...\r\n\r\n`statfs()` returns something useful, at least with a Linux NFS server.",
        "createdAt" : "2019-03-29T15:16:01Z",
        "updatedAt" : "2019-06-13T17:22:12Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      },
      {
        "id" : "cd91c778-aaa5-4890-ba94-f509e14d6f60",
        "parentId" : "fb9d3d9b-4d59-47cd-bf25-ead0975afdde",
        "authorId" : "af542273-98a9-413b-99e0-dca24509caf9",
        "body" : "There is a thought that I can use a switch like 'EnableMetrics' to conditionally pull statfs data but then I need to add a bool flag someplace like nfs VolumeSource. If that is acceptable then I can work on it. ",
        "createdAt" : "2019-05-08T20:33:21Z",
        "updatedAt" : "2019-06-13T17:22:12Z",
        "lastEditedBy" : "af542273-98a9-413b-99e0-dca24509caf9",
        "tags" : [
        ]
      }
    ],
    "commit" : "bbc7ba8f51321a822cb4fc7b80fbdec59b7eeea7",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +149,153 @@\t\tpod:             &v1.Pod{ObjectMeta: metav1.ObjectMeta{UID: podUID}},\n\t\tplugin:          plugin,\n\t\tMetricsProvider: volume.NewMetricsStatFS(getPath(podUID, volName, plugin.host)),\n\t}}, nil\n}"
  },
  {
    "id" : "c55c835d-3790-4368-a7ec-a21eae96d8f9",
    "prId" : 55992,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/55992#pullrequestreview-80158878",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3d11929c-a2c8-4ed0-8238-1e5308c85782",
        "parentId" : null,
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "Can't we just do os.Stat(\"/path/to/whatever\") ?",
        "createdAt" : "2017-11-28T11:54:44Z",
        "updatedAt" : "2017-11-28T11:54:44Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "94a41440-3666-46b3-a76c-fdf31127b4d0",
        "parentId" : "3d11929c-a2c8-4ed0-8238-1e5308c85782",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "No, `mount.nfs` can be in a container. `exec.Run` runs the command in the right place.",
        "createdAt" : "2017-11-30T11:58:54Z",
        "updatedAt" : "2017-11-30T11:58:54Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      }
    ],
    "commit" : "3323861ed343fd4c12faeaa157da9925f51a314d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +195,199 @@\tswitch runtime.GOOS {\n\tcase \"linux\":\n\t\tif _, err := exec.Run(\"test\", \"-x\", \"/sbin/mount.nfs\"); err != nil {\n\t\t\treturn fmt.Errorf(\"Required binary /sbin/mount.nfs is missing\")\n\t\t}"
  },
  {
    "id" : "1289a6d3-7735-468e-a839-8e09f841e419",
    "prId" : 27970,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ed0e1958-1150-4795-bc8e-4810c0f1c095",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Ditto\n",
        "createdAt" : "2016-08-06T03:56:26Z",
        "updatedAt" : "2016-08-15T18:29:44Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "f19a1148db1b7584be6b6b60abaf8c0bd1503ed3",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +142,146 @@\t\tVolumeSource: api.VolumeSource{\n\t\t\tNFS: &api.NFSVolumeSource{\n\t\t\t\tPath: volumeName,\n\t\t\t},\n\t\t},"
  },
  {
    "id" : "6f7fea68-a5ac-49f6-994e-386fb9603818",
    "prId" : 16032,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1f0750ed-e67a-4ca3-bafd-d3542f1a7b11",
        "parentId" : null,
        "authorId" : "727fc82d-d969-41a4-a614-7fefce94f9a6",
        "body" : "Do you think we should make conditional compilation files so that a linux check can differ from other platforms?\n",
        "createdAt" : "2015-10-21T16:11:43Z",
        "updatedAt" : "2015-10-21T17:47:45Z",
        "lastEditedBy" : "727fc82d-d969-41a4-a614-7fefce94f9a6",
        "tags" : [
        ]
      },
      {
        "id" : "6ebaf9cb-f495-42e8-8f05-b1f5ddfc9179",
        "parentId" : "1f0750ed-e67a-4ca3-bafd-d3542f1a7b11",
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "I only tested fedora/rhel and ubuntu. This two-pass check is for platforms I haven't tested.\n",
        "createdAt" : "2015-10-21T16:19:51Z",
        "updatedAt" : "2015-10-21T17:47:45Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      },
      {
        "id" : "7b4785bf-d79c-411b-a4a9-b17b0c085766",
        "parentId" : "1f0750ed-e67a-4ca3-bafd-d3542f1a7b11",
        "authorId" : "727fc82d-d969-41a4-a614-7fefce94f9a6",
        "body" : "On OSX, for example, it's \"/sbin/mount_nfs\".\n",
        "createdAt" : "2015-10-21T16:45:42Z",
        "updatedAt" : "2015-10-21T17:47:45Z",
        "lastEditedBy" : "727fc82d-d969-41a4-a614-7fefce94f9a6",
        "tags" : [
        ]
      },
      {
        "id" : "5885e7d7-bccc-4cc0-a51d-5736adcc2cb5",
        "parentId" : "1f0750ed-e67a-4ca3-bafd-d3542f1a7b11",
        "authorId" : "727fc82d-d969-41a4-a614-7fefce94f9a6",
        "body" : "Looks good with the switch.\n",
        "createdAt" : "2015-10-21T17:24:40Z",
        "updatedAt" : "2015-10-21T17:47:45Z",
        "lastEditedBy" : "727fc82d-d969-41a4-a614-7fefce94f9a6",
        "tags" : [
        ]
      }
    ],
    "commit" : "1b3a88dc8702920576436c43ab5c08218017a39b",
    "line" : null,
    "diffHunk" : "@@ -1,1 +85,89 @@\treturn false\n}\n\nfunc (plugin *nfsPlugin) CanSupport(spec *volume.Spec) bool {\n\tif (spec.Volume != nil && spec.Volume.NFS == nil) || (spec.PersistentVolume != nil && spec.PersistentVolume.Spec.NFS == nil) {"
  },
  {
    "id" : "734428e9-95b1-43f8-86d4-448f900491c4",
    "prId" : 6809,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "85c4ede0-8eb6-448b-abd3-5757872f7360",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "no PVS for NFS?\n",
        "createdAt" : "2015-04-14T17:02:29Z",
        "updatedAt" : "2015-04-14T18:25:15Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "b77f814c-dfdf-41c2-b752-b571ab5bd970",
        "parentId" : "85c4ede0-8eb6-448b-abd3-5757872f7360",
        "authorId" : "727fc82d-d969-41a4-a614-7fefce94f9a6",
        "body" : "Same as iSCSI.  Not currently in the PSV struct.\n",
        "createdAt" : "2015-04-14T17:11:10Z",
        "updatedAt" : "2015-04-14T18:25:15Z",
        "lastEditedBy" : "727fc82d-d969-41a4-a614-7fefce94f9a6",
        "tags" : [
        ]
      },
      {
        "id" : "121b4d1a-97e5-4bd0-b809-e6f395673b2b",
        "parentId" : "85c4ede0-8eb6-448b-abd3-5757872f7360",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "OK\n",
        "createdAt" : "2015-04-14T17:20:12Z",
        "updatedAt" : "2015-04-14T18:25:15Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "e1481fb9c2c255ee0f3d5dd407f57740308194ee",
    "line" : null,
    "diffHunk" : "@@ -1,1 +52,56 @@\nfunc (plugin *nfsPlugin) CanSupport(spec *volume.Spec) bool {\n\treturn spec.VolumeSource.NFS != nil\n}\n"
  }
]