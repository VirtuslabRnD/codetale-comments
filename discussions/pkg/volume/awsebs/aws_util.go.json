[
  {
    "id" : "94f51a30-2486-4ed5-abfd-d1019c40a69c",
    "prId" : 97965,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97965#pullrequestreview-569790706",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "parentId" : null,
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "Do we have some rules like\r\n- Use uppercase for the first char of `klog.Errorf()` message\r\n- Use lowercase for the first char of `fmt.Errorf()` message\r\n\r\nlike this PR?\r\n\r\n/cc @oomichi \r\n",
        "createdAt" : "2021-01-13T20:09:31Z",
        "updatedAt" : "2021-01-13T20:09:31Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "31fe431f-6a9d-4be9-ae3d-6c2b8c22582c",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "a3d3ffda-44a9-4319-b907-d9be3a397773",
        "body" : "https://github.com/golang/go/wiki/CodeReviewComments#error-strings\r\n",
        "createdAt" : "2021-01-14T00:46:13Z",
        "updatedAt" : "2021-01-14T00:46:13Z",
        "lastEditedBy" : "a3d3ffda-44a9-4319-b907-d9be3a397773",
        "tags" : [
        ]
      },
      {
        "id" : "ac38b7cc-5ffb-47b6-9a9e-3cd2dacf39e5",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "That is only for fmt.Errorf()\r\nWhere is for klog.Errorf()?",
        "createdAt" : "2021-01-14T02:41:02Z",
        "updatedAt" : "2021-01-14T02:41:02Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "da5f0e37-2051-400e-90f0-a17e8d58435b",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "a3d3ffda-44a9-4319-b907-d9be3a397773",
        "body" : "`klog.Errorf()` is line-oriented and not combined inside other messages, so it should be capitalized (unless beginning with proper nouns or acronyms). ",
        "createdAt" : "2021-01-14T02:53:19Z",
        "updatedAt" : "2021-01-14T02:53:19Z",
        "lastEditedBy" : "a3d3ffda-44a9-4319-b907-d9be3a397773",
        "tags" : [
        ]
      },
      {
        "id" : "d452281c-5c65-4f22-868b-d5aee54b6684",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "body" : "@oomichi its standard golang convention https://github.com/golang/go/wiki/CodeReviewComments#error-strings",
        "createdAt" : "2021-01-14T03:04:57Z",
        "updatedAt" : "2021-01-14T03:04:58Z",
        "lastEditedBy" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "tags" : [
        ]
      },
      {
        "id" : "aecb8c80-6d61-49bb-ac10-160a0e02c339",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "body" : "the idea is that fmt.Errorf can return error context that can be used inside other error contexts to build full error context and in that regard the first letter being small , seems good as complete sentences in the overall context strings. for klog.Errorf(), its still just an error level logging so first letter being capital is fine",
        "createdAt" : "2021-01-14T04:22:02Z",
        "updatedAt" : "2021-01-14T04:22:03Z",
        "lastEditedBy" : "224e1088-78fe-4bdd-99d1-31be3e464996",
        "tags" : [
        ]
      },
      {
        "id" : "5a0ede4c-3d35-45f6-aba5-a242033e6dba",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "Thanks for your explanation @krmayankk @chymy \r\nAt this time, we have a lot of this kid of violation against the standard golang convention under `./pkg` like\r\n```\r\n$ grep \"klog.Warningf(\\\"[a-z]\" * -R  | wc -l\r\n114\r\n$ grep \"klog.Errorf(\\\"[a-z]\" * -R  | wc -l\r\n250\r\n$ grep \"fmt.Errorf(\\\"[A-Z]\" * -R  | wc -l\r\n571\r\n```\r\nDo we want to fix all of them?\r\nIf so, it is nice to have some hack script like hack/verify-golint.sh to block such violation anymore.\r\n",
        "createdAt" : "2021-01-14T16:32:17Z",
        "updatedAt" : "2021-01-14T16:32:17Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "112420dc-25f5-4cf1-a183-a40a67fd128a",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "statickcheck covers this kind of violation with https://staticcheck.io/docs/checks#ST1005\r\nand this k/k repo contains the check script `hack/verify-staticcheck.sh` but I am not sure why it doesn't detect places which are fixed with this PR..",
        "createdAt" : "2021-01-14T22:28:23Z",
        "updatedAt" : "2021-01-14T22:29:25Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "c02b6509-d494-426e-b019-729e7498d3b2",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "a3d3ffda-44a9-4319-b907-d9be3a397773",
        "body" : "Not all of them need to be fixed.  We need to check whether any tests require error strings to match or not.",
        "createdAt" : "2021-01-15T02:41:36Z",
        "updatedAt" : "2021-01-15T02:41:36Z",
        "lastEditedBy" : "a3d3ffda-44a9-4319-b907-d9be3a397773",
        "tags" : [
        ]
      },
      {
        "id" : "988bf2d0-e93a-4438-b741-b56fe8fbea3b",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "> We need to check whether any tests require error strings to match or not.\r\n\r\nSorry, I could not follow the above means.\r\nCould you rephrase it?\r\n\r\nI confirmed we can enable the above check by removing the following line:\r\nhttps://github.com/kubernetes/kubernetes/blob/33ee864e9272dcbd043a2782bff6c1281073c810/hack/verify-staticcheck.sh#L39\r\n\r\nBut if we need to consider what cases should be fixed or not, it would be difficult to enable the check.\r\nI'd like to see what we need to consider here.",
        "createdAt" : "2021-01-15T04:40:37Z",
        "updatedAt" : "2021-01-15T04:40:37Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "f0c28447-12c9-4cc8-9251-a96921fe2836",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "just NOTE: To enable the check, it would be better to specify `-min_confidence 0.6` in kubernetes/hack/verify-golint.sh instead of changing kubernetes/hack/verify-staticcheck.sh",
        "createdAt" : "2021-01-15T17:01:30Z",
        "updatedAt" : "2021-01-15T17:01:42Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "137eeb83-20a4-4218-bf5f-e513c13ea12b",
        "parentId" : "bb77d46e-6537-46e2-9cf7-cc0da39debf5",
        "authorId" : "a3d3ffda-44a9-4319-b907-d9be3a397773",
        "body" : "> > We need to check whether any tests require error strings to match or not.\r\n> \r\n> Sorry, I could not follow the above means.\r\n> Could you rephrase it?\r\n\r\nThis is part of the error string we found in the test.\r\n\r\n",
        "createdAt" : "2021-01-16T00:52:41Z",
        "updatedAt" : "2021-01-16T00:52:42Z",
        "lastEditedBy" : "a3d3ffda-44a9-4319-b907-d9be3a397773",
        "tags" : [
        ]
      }
    ],
    "commit" : "29b54d2f484161dfa817f6ed967d44cecce2ea36",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +116,120 @@\tif err != nil {\n\t\t// We don't really want to leak the volume here...\n\t\tklog.Errorf(\"Error building labels for new EBS volume %q: %v\", name, err)\n\t}\n"
  }
]