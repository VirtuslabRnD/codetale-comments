[
  {
    "id" : "2c5b5810-5bfc-4173-ad97-6522a18df37e",
    "prId" : 68761,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/68761#pullrequestreview-160514323",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6bf9b334-9af6-4e1b-8a66-92aeac4858a0",
        "parentId" : null,
        "authorId" : "7b403c3c-4a19-4e93-b252-11ae5c611e35",
        "body" : "The existing vsphere volume plugin already support creating/attaching/detaching/deleting block volumes. Could you explain what is the additional functionality specific to vSphere are we getting for block volumes with this PR?",
        "createdAt" : "2018-10-01T03:10:20Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "7b403c3c-4a19-4e93-b252-11ae5c611e35",
        "tags" : [
        ]
      },
      {
        "id" : "20f13f6f-4a1d-487a-87c6-cb6502148ffc",
        "parentId" : "6bf9b334-9af6-4e1b-8a66-92aeac4858a0",
        "authorId" : "c13045f9-cfc0-48e5-80df-ee48ddaa9fdc",
        "body" : "@SandeepPissay I think this PR is for raw block device support. \r\n\r\nhttps://kubernetes.io/docs/concepts/storage/persistent-volumes/#raw-block-volume-support",
        "createdAt" : "2018-10-01T17:41:48Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "c13045f9-cfc0-48e5-80df-ee48ddaa9fdc",
        "tags" : [
        ]
      },
      {
        "id" : "4d465391-8088-4394-934f-efa3339b0e6d",
        "parentId" : "6bf9b334-9af6-4e1b-8a66-92aeac4858a0",
        "authorId" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "body" : "Thanks @divyenpatel ! Yes, it is raw block volume support. I am going to modify the PR title for more clarity. @SandeepPissay ",
        "createdAt" : "2018-10-01T22:47:45Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcb3a5fac76de9492252a5f28c58e02d4e19802f",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +33,37 @@)\n\nvar _ volume.BlockVolumePlugin = &vsphereVolumePlugin{}\n\nfunc (plugin *vsphereVolumePlugin) ConstructBlockVolumeSpec(podUID types.UID, volumeName, mapPath string) (*volume.Spec, error) {"
  },
  {
    "id" : "634f51f9-2612-4773-9b8a-6261baed8d6c",
    "prId" : 68761,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/68761#pullrequestreview-169366076",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bc24125c-3557-4e0e-9633-08998fa05d62",
        "parentId" : null,
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "Add short comment why this is done.  What does globalMapPath look like?",
        "createdAt" : "2018-10-12T20:37:12Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      },
      {
        "id" : "9072f6da-daa5-4de9-8eaf-cfeb7485ae4a",
        "parentId" : "bc24125c-3557-4e0e-9633-08998fa05d62",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "Also, do you need to clean `volPath` like they do here - https://github.com/kubernetes/kubernetes/blob/38a9fc6aa240c99b17a93764fb5473bf6342ff9d/pkg/volume/vsphere_volume/vsphere_volume.go#L146",
        "createdAt" : "2018-10-12T20:43:12Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      },
      {
        "id" : "a91456c0-7c37-4f93-ab42-083a8095ab6a",
        "parentId" : "bc24125c-3557-4e0e-9633-08998fa05d62",
        "authorId" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "body" : "`globalMapPath` looks like  `plugins/kubernetes.io/{PluginName}/{DefaultKubeletVolumeDevicesDirName}/{volumeID}`\r\n\r\nThe constructed `volPath` is like `[datastore1] volumes/myDisk`",
        "createdAt" : "2018-10-29T15:31:13Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "tags" : [
        ]
      },
      {
        "id" : "7ed3bebe-9127-47f5-a2e0-49127136bf73",
        "parentId" : "bc24125c-3557-4e0e-9633-08998fa05d62",
        "authorId" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "body" : "Yes, I think space `\\\\040` needs to be trimmed.",
        "createdAt" : "2018-10-29T15:32:26Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcb3a5fac76de9492252a5f28c58e02d4e19802f",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +57,61 @@\t//   plugins/kubernetes.io/{PluginName}/{DefaultKubeletVolumeDevicesDirName}/{volumeID}\n\t//   plugins/kubernetes.io/vsphere-volume/volumeDevices/[datastore1]\\\\040volumes/myDisk\n\tvolPath := filepath.Base(globalMapPath)\n\tvolPath = strings.Replace(volPath, \"\\\\040\", \"\", -1)\n\tif len(volPath) <= 1 {"
  },
  {
    "id" : "b8efcece-c83a-40cf-8be4-6e1977bb0f36",
    "prId" : 68761,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/68761#pullrequestreview-169370091",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c287c9ca-44eb-4841-afb3-2451e9d7aec1",
        "parentId" : null,
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "If pod == nil then what happens, should this even continues ?",
        "createdAt" : "2018-10-12T20:48:55Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      },
      {
        "id" : "d6bc6629-fe3c-4307-b4a2-200d905ba146",
        "parentId" : "c287c9ca-44eb-4841-afb3-2451e9d7aec1",
        "authorId" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "body" : " If this is called via GenerateUnmapDeviceFunc(), pod is nil. Pass empty string as dummy uid since uid isn't used in the case.",
        "createdAt" : "2018-10-29T15:39:38Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcb3a5fac76de9492252a5f28c58e02d4e19802f",
    "line" : 82,
    "diffHunk" : "@@ -1,1 +80,84 @@\t// Pass empty string as dummy uid since uid isn't used in the case.\n\tvar uid types.UID\n\tif pod != nil {\n\t\tuid = pod.UID\n\t}"
  },
  {
    "id" : "0e0c8ca4-62d5-4eb8-8bff-f5ce0897cf74",
    "prId" : 68761,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/68761#pullrequestreview-172476138",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cff09988-6d4c-4d46-9d58-659c9f68cb0a",
        "parentId" : null,
        "authorId" : "c13045f9-cfc0-48e5-80df-ee48ddaa9fdc",
        "body" : "Would be good for debugging if we can print error before returning.\r\n\r\n```\r\nglog.Errorf(\"Failed to find GlobalMapPathUUID from Pod: %s with error: %+v\", podUID, err)\r\nreturn nil, err\r\n```",
        "createdAt" : "2018-11-05T22:59:27Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "c13045f9-cfc0-48e5-80df-ee48ddaa9fdc",
        "tags" : [
        ]
      },
      {
        "id" : "7ac2ab41-f75c-4488-93e0-d778d0c08f2c",
        "parentId" : "cff09988-6d4c-4d46-9d58-659c9f68cb0a",
        "authorId" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "body" : "OK",
        "createdAt" : "2018-11-07T13:01:33Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcb3a5fac76de9492252a5f28c58e02d4e19802f",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +42,46 @@\tif err != nil {\n\t\tglog.Errorf(\"Failed to find GlobalMapPathUUID from Pod: %s with error: %+v\", podUID, err)\n\t\treturn nil, err\n\t}\n\tglog.V(5).Infof(\"globalMapPathUUID: %v\", globalMapPathUUID)"
  },
  {
    "id" : "e2418368-c67b-4a2f-81b8-394becde71ff",
    "prId" : 68761,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/68761#pullrequestreview-172476189",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "efead577-68bd-48b0-943a-85c24eabbc69",
        "parentId" : null,
        "authorId" : "c13045f9-cfc0-48e5-80df-ee48ddaa9fdc",
        "body" : "log error before return.",
        "createdAt" : "2018-11-05T23:01:47Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "c13045f9-cfc0-48e5-80df-ee48ddaa9fdc",
        "tags" : [
        ]
      },
      {
        "id" : "4ae9aacd-1414-4d70-a12f-9d1570a03db1",
        "parentId" : "efead577-68bd-48b0-943a-85c24eabbc69",
        "authorId" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "body" : "Done",
        "createdAt" : "2018-11-07T13:01:41Z",
        "updatedAt" : "2018-11-07T20:16:56Z",
        "lastEditedBy" : "1ba29fa9-c74e-4deb-bbb0-a9fac81a9902",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcb3a5fac76de9492252a5f28c58e02d4e19802f",
    "line" : 92,
    "diffHunk" : "@@ -1,1 +90,94 @@\tif err != nil {\n\t\tglog.Errorf(\"Failed to get Volume source from volume Spec: %+v with error: %+v\", *spec, err)\n\t\treturn nil, err\n\t}\n\tvolPath := volumeSource.VolumePath"
  }
]