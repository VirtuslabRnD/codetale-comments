[
  {
    "id" : "810fcf30-aed9-4151-aa04-65c9bb86f077",
    "prId" : 29048,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3ffff30b-29b3-4b16-9fa8-7721e3af7af3",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "Oh I got it, it's this Attach and AttachDisk that directly fix the #28643.\n",
        "createdAt" : "2016-07-21T20:55:45Z",
        "updatedAt" : "2016-09-27T14:48:09Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "54195d590f03a544d78b4449b2fbafaa258fd6df",
    "line" : null,
    "diffHunk" : "@@ -1,1 +59,63 @@}\n\nfunc (attacher *awsElasticBlockStoreAttacher) Attach(spec *volume.Spec, nodeName types.NodeName) (string, error) {\n\tvolumeSource, readOnly, err := getVolumeSource(spec)\n\tif err != nil {"
  },
  {
    "id" : "817e618b-8a42-44bc-8c6b-82ddedfd8aa7",
    "prId" : 25888,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff857920-246d-45aa-88f9-480b7f79cf54",
        "parentId" : null,
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "Can we make a common function for this block (from the function start until here)? It's copied everywhere.\n",
        "createdAt" : "2016-05-20T13:43:58Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1e0a139243b4bc7826f760ac492e76c4bd209b9",
    "line" : 145,
    "diffHunk" : "@@ -1,1 +143,147 @@\n// FIXME: this method can be further pruned.\nfunc (attacher *awsElasticBlockStoreAttacher) MountDevice(spec *volume.Spec, devicePath string, deviceMountPath string, mounter mount.Interface) error {\n\tnotMnt, err := mounter.IsLikelyNotMountPoint(deviceMountPath)\n\tif err != nil {"
  },
  {
    "id" : "b830d808-a976-435c-8026-2b419aeedfdb",
    "prId" : 25888,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5539ae6e-37ca-413d-a787-6c923daf64c8",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Please add a `DiskIsAttached` check, This `Attach()` should NOT fail if the volume is already attached.\n",
        "createdAt" : "2016-06-07T02:39:16Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "b27fb196-e448-466c-b29c-cc9d225fd7a5",
        "parentId" : "5539ae6e-37ca-413d-a787-6c923daf64c8",
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "added to aws/openstack/rackspace\n",
        "createdAt" : "2016-06-07T15:41:03Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1e0a139243b4bc7826f760ac492e76c4bd209b9",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +59,63 @@\tif err != nil {\n\t\treturn err\n\t}\n\n\tattached, err := awsCloud.DiskIsAttached(volumeID, hostName)"
  },
  {
    "id" : "5b2750bf-ce4d-45a6-971e-c3f682381f4c",
    "prId" : 25888,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "950d756c-d025-46d4-89e7-48285663faf5",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Same comments as `Attach` above apply here to Detach.\n",
        "createdAt" : "2016-06-07T02:39:43Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "a1dcd860-4f5d-4281-8352-a6b3696609d5",
        "parentId" : "950d756c-d025-46d4-89e7-48285663faf5",
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "fixed\n",
        "createdAt" : "2016-06-07T15:40:49Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1e0a139243b4bc7826f760ac492e76c4bd209b9",
    "line" : 185,
    "diffHunk" : "@@ -1,1 +183,187 @@}\n\nfunc (detacher *awsElasticBlockStoreDetacher) Detach(deviceMountPath string, hostName string) error {\n\tvolumeID := path.Base(deviceMountPath)\n"
  },
  {
    "id" : "834a2d76-a61d-409e-84b2-0c40c188e1d0",
    "prId" : 25888,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "03cc6f94-50ec-4911-90d4-eb8036ad1939",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Same comment as Cinder. If GetDiskPath is called before the attach operation is completed, will it always return the correct value or error in some cases?\n",
        "createdAt" : "2016-06-07T03:04:30Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "9185123e-e552-4a0e-852c-1dad3bcd6ab5",
        "parentId" : "03cc6f94-50ec-4911-90d4-eb8036ad1939",
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "@saad-ali if disk is not attached yet, it should return an error. Do you want kubelet or plugin to retry in this case?\n",
        "createdAt" : "2016-06-07T14:06:47Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      },
      {
        "id" : "989934a4-a602-464c-aead-4985b6710d1f",
        "parentId" : "03cc6f94-50ec-4911-90d4-eb8036ad1939",
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "I move it to inside ticker.\n",
        "createdAt" : "2016-06-07T14:20:59Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1e0a139243b4bc7826f760ac492e76c4bd209b9",
    "line" : null,
    "diffHunk" : "@@ -1,1 +99,103 @@\t} else {\n\t\tglog.Errorf(\"GetDiskPath %q gets error %v\", volumeID, err)\n\t}\n\n\tticker := time.NewTicker(checkSleepDuration)"
  },
  {
    "id" : "a83865dc-0340-4273-a943-1c97961a755e",
    "prId" : 25888,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5dfd88e0-0420-4445-8862-fa3996bf8d96",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Please add `DiskIsAttached` check on the Detach as well for all volumes--meaning if the volume is not attached, succeed without doing anything else.\n",
        "createdAt" : "2016-06-07T18:05:29Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "f1d6a89a-0473-4219-a904-8f0b182b3558",
        "parentId" : "5dfd88e0-0420-4445-8862-fa3996bf8d96",
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "added\n",
        "createdAt" : "2016-06-07T18:55:12Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1e0a139243b4bc7826f760ac492e76c4bd209b9",
    "line" : 191,
    "diffHunk" : "@@ -1,1 +189,193 @@\tif err != nil {\n\t\treturn err\n\t}\n\tattached, err := awsCloud.DiskIsAttached(volumeID, hostName)\n\tif err != nil {"
  },
  {
    "id" : "a6c35029-a692-425c-a454-6ef4de38dc6e",
    "prId" : 25888,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2da09c92-d416-441f-a0bd-7a743c885e51",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Since you are calling `GetDiskPath` first thing inside the loop, you can remove it from here.\n",
        "createdAt" : "2016-06-07T18:15:53Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "f39d849d-52f5-494c-be5a-c58bef48652c",
        "parentId" : "2da09c92-d416-441f-a0bd-7a743c885e51",
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "I don't that call to take time away from timer. If we get the disk path on the first try, then no need to eat time from timer inside the loop.\n",
        "createdAt" : "2016-06-07T18:25:05Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      },
      {
        "id" : "ccafee24-1697-43f7-aaee-6e70d17b61f7",
        "parentId" : "2da09c92-d416-441f-a0bd-7a743c885e51",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "That's pretty messy, but ok. Just make sure to log any error.\n",
        "createdAt" : "2016-06-07T18:32:24Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1e0a139243b4bc7826f760ac492e76c4bd209b9",
    "line" : null,
    "diffHunk" : "@@ -1,1 +99,103 @@\t} else {\n\t\tglog.Errorf(\"GetDiskPath %q gets error %v\", volumeID, err)\n\t}\n\n\tticker := time.NewTicker(checkSleepDuration)"
  },
  {
    "id" : "52ed18f8-318f-42d1-8d6c-88df7ad62ca0",
    "prId" : 25888,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "00a80b41-031b-49c0-9c7f-83f68a760b68",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Log Error from GetDiskPath, if any.\n\nThis code would be cleaner like this:\n\n``` GO\nif devicePath, err := awsCloud.GetDiskPath(volumeID); err != nil {\n  // Log error\n}\nif err == nil {\n  // Verify paths...\n}\n```\n",
        "createdAt" : "2016-06-07T18:18:41Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "9e5300af-b1a4-47cb-89b2-4a4312109107",
        "parentId" : "00a80b41-031b-49c0-9c7f-83f68a760b68",
        "authorId" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "body" : "if `devicePath` is set, we don't need to call `GetDiskPath` any more. \n",
        "createdAt" : "2016-06-07T18:38:41Z",
        "updatedAt" : "2016-06-08T12:56:30Z",
        "lastEditedBy" : "a7f673a6-4b23-4df6-aa10-f123fa9dcd5f",
        "tags" : [
        ]
      }
    ],
    "commit" : "d1e0a139243b4bc7826f760ac492e76c4bd209b9",
    "line" : null,
    "diffHunk" : "@@ -1,1 +115,119 @@\t\t\t\t} else {\n\t\t\t\t\tglog.Errorf(\"GetDiskPath %q gets error %v\", volumeID, err)\n\t\t\t\t}\n\t\t\t}\n\t\t\tif devicePath != \"\" {"
  }
]