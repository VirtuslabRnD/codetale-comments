[
  {
    "id" : "bd3d6afd-7cd0-4142-86e4-8a10b6bd2063",
    "prId" : 94444,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94444#pullrequestreview-524763109",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae015edc-741f-4f34-a379-172eee007b16",
        "parentId" : null,
        "authorId" : "0244e65c-a836-449a-bdc5-e89e1afb7ab1",
        "body" : "I know this is just alpha so it's fine if you plan on tackling this later, but I think that there should be some sort of indicator to the user if they try to use a size limit in their config that's bigger than what the size limit actually is. At the very least something should be logged, though I think either the pod should be not allowed to be admitted or an event should be created.",
        "createdAt" : "2020-10-07T17:17:01Z",
        "updatedAt" : "2020-11-06T14:35:30Z",
        "lastEditedBy" : "0244e65c-a836-449a-bdc5-e89e1afb7ab1",
        "tags" : [
        ]
      },
      {
        "id" : "48cfc81f-2618-4071-aa3e-0c4943972c46",
        "parentId" : "ae015edc-741f-4f34-a379-172eee007b16",
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "@2rs2ts maybe we can throw an event.  the pod author is unlikely to have access to node logs in many contexts.  we can explore that after this lands.",
        "createdAt" : "2020-11-05T17:25:31Z",
        "updatedAt" : "2020-11-06T14:35:30Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "a91cfe5b-32d7-4694-9b36-338afb25639c",
        "parentId" : "ae015edc-741f-4f34-a379-172eee007b16",
        "authorId" : "0244e65c-a836-449a-bdc5-e89e1afb7ab1",
        "body" : ">we can explore that after this lands\r\n\r\nFine by me.\r\n\r\n>the pod author is unlikely to have access to node logs in many contexts\r\n\r\nYes, that'll be the case for most of my coworkers ðŸ˜… as a cluster admin I would want logs at a minimum because I could write a scheduled search in our log storage to detect if it happened to anybody, and reach out to them. From a user perspective, events are visible, but they don't get shoved in their face, so I think most of my colleagues would miss the event. So blocking admission would feel like the best way to make sure my users know this is happening, but as long as there's some sort of indicator, rather than this silent change, I'd be able to adopt the feature",
        "createdAt" : "2020-11-05T23:56:05Z",
        "updatedAt" : "2020-11-06T14:35:30Z",
        "lastEditedBy" : "0244e65c-a836-449a-bdc5-e89e1afb7ab1",
        "tags" : [
        ]
      }
    ],
    "commit" : "7eb37a7497ba66362270d2de9ae00fed958c60bb",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +138,142 @@\t\tvolumeSizeLimit := spec.Volume.EmptyDir.SizeLimit\n\t\t// ensure 0 < value < size\n\t\tif volumeSizeLimit.Cmp(zero) > 0 && volumeSizeLimit.Cmp(*sizeLimit) < 1 {\n\t\t\tsizeLimit = volumeSizeLimit\n\t\t}"
  },
  {
    "id" : "d643cbc9-d719-4127-a4da-19c7353b9509",
    "prId" : 94444,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94444#pullrequestreview-516673743",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "918254de-603d-44c0-a2de-b9d72c0930fc",
        "parentId" : null,
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "what do you mean in this comment?",
        "createdAt" : "2020-10-22T05:50:10Z",
        "updatedAt" : "2020-11-06T14:35:30Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "0273dc63-3008-40d2-ad68-2594cd5a755d",
        "parentId" : "918254de-603d-44c0-a2de-b9d72c0930fc",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "```\r\nsize:      The limit of allocated bytes for this tmpfs instance. The \r\n           default is half of your physical RAM without swap. If you\r\n           oversize your tmpfs instances the machine will deadlock\r\n           since the OOM handler will not be able to free that memory.\r\n```\r\nfrom: https://www.kernel.org/doc/Documentation/filesystems/tmpfs.txt",
        "createdAt" : "2020-10-26T11:11:25Z",
        "updatedAt" : "2020-11-06T14:35:30Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "7eb37a7497ba66362270d2de9ae00fed958c60bb",
    "line" : 85,
    "diffHunk" : "@@ -1,1 +318,322 @@\n\tvar options []string\n\t// Linux system default is 50% of capacity.\n\tif ed.sizeLimit != nil && ed.sizeLimit.Value() > 0 {\n\t\toptions = []string{fmt.Sprintf(\"size=%d\", ed.sizeLimit.Value())}"
  },
  {
    "id" : "3de320ed-cba2-443e-b622-631f4a92bfc9",
    "prId" : 94444,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94444#pullrequestreview-524651132",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eb2f0186-ca66-415e-a78e-d7aa3753aeaf",
        "parentId" : null,
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "is it a problem if `EmptyDir.SizeLimit` is greater than calculated size limit but pod does not get evicted until `EmptyDir.SizeLimit` in API? should eviction thresholds be updated as well?",
        "createdAt" : "2020-11-05T20:04:05Z",
        "updatedAt" : "2020-11-06T14:35:30Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "e411cdf5-22b6-4373-9190-93db7e60e3c7",
        "parentId" : "eb2f0186-ca66-415e-a78e-d7aa3753aeaf",
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "the limit is distinct from usage.\r\n\r\nthe usage will not be able to exceed allocatable memory for a pod.",
        "createdAt" : "2020-11-05T20:43:42Z",
        "updatedAt" : "2020-11-06T14:35:30Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "090581cd-acc8-459d-8f77-1655b5c7c594",
        "parentId" : "eb2f0186-ca66-415e-a78e-d7aa3753aeaf",
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "so to answer, i do not think there is a problem here.",
        "createdAt" : "2020-11-05T20:44:02Z",
        "updatedAt" : "2020-11-06T14:35:30Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      }
    ],
    "commit" : "7eb37a7497ba66362270d2de9ae00fed958c60bb",
    "line" : 88,
    "diffHunk" : "@@ -1,1 +321,325 @@\tif ed.sizeLimit != nil && ed.sizeLimit.Value() > 0 {\n\t\toptions = []string{fmt.Sprintf(\"size=%d\", ed.sizeLimit.Value())}\n\t}\n\n\tklog.V(3).Infof(\"pod %v: mounting tmpfs for volume %v\", ed.pod.UID, ed.volName)"
  },
  {
    "id" : "aaac2f5c-854f-4200-90b2-363ba2aa4a85",
    "prId" : 84051,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/84051#pullrequestreview-304201471",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "78d2aaa6-bddf-4e8b-a07e-e573894dc61b",
        "parentId" : null,
        "authorId" : "b7c04289-77b0-4d05-90b7-3bde23e2b0bf",
        "body" : "In general this looks nice, but I am not sure if I like the fact that we do pod-spec validation here and not when validating the pod spec during creating of the pod.\r\n\r\nIf we \"skip\" the validation here we can simplify the code quite a bit.\r\n\r\n\r\nCurrently it is possible to successfully schedule a pod with a huge page volume mount without a huge page request. That will successfully schedule the pod, but it will stay in `ContainerCreating` becuase mounting the volume fails:\r\n\r\n```\r\n  Warning  FailedMount  48s (x8 over 111s)  kubelet, tar       MountVolume.SetUp failed for volume \"hugepage1\" : hugePages storage requested, but there is no resource request for huge pages\r\n  Warning  FailedMount  48s (x8 over 111s)  kubelet, tar       MountVolume.SetUp failed for volume \"hugepage\" : hugePages storage requested, but there is no resource request for huge pages\r\n  Warning  FailedMount  48s (x8 over 111s)  kubelet, tar       MountVolume.SetUp failed for volume \"hugepage2\" : hugePages storage requested, but there is no resource request for huge pages\r\n```\r\n\r\nThe KEP states that pods like these are \"invalid\", not that \"their volume mounts should fail\", so i think failing during validation would be more correct.\r\n\r\nOr am I missing something?",
        "createdAt" : "2019-10-17T15:03:45Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "b7c04289-77b0-4d05-90b7-3bde23e2b0bf",
        "tags" : [
        ]
      },
      {
        "id" : "a00f4be4-4ec2-421e-b83c-8afce28f1025",
        "parentId" : "78d2aaa6-bddf-4e8b-a07e-e573894dc61b",
        "authorId" : "b7c04289-77b0-4d05-90b7-3bde23e2b0bf",
        "body" : "This is more of a discussion that something that should be fixed in the PR, so i would love some thoughts from you. :smile: ",
        "createdAt" : "2019-10-17T15:10:23Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "b7c04289-77b0-4d05-90b7-3bde23e2b0bf",
        "tags" : [
        ]
      },
      {
        "id" : "e4a69dd1-1792-4b18-aafd-738475cce0e6",
        "parentId" : "78d2aaa6-bddf-4e8b-a07e-e573894dc61b",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "@odinuge Thank you for the review. I agree with your point that validation of the pod should happen earlier. I just followed the current code in a hope that it's implemented correctly. The validation was there, I've just extended it to cover new functionality.\r\n\r\nI'll definitely look if it can be done earlier.",
        "createdAt" : "2019-10-18T08:11:59Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      },
      {
        "id" : "79a395e5-95cb-44be-9d79-090e16eb0f2e",
        "parentId" : "78d2aaa6-bddf-4e8b-a07e-e573894dc61b",
        "authorId" : "b7c04289-77b0-4d05-90b7-3bde23e2b0bf",
        "body" : "Nice.\r\n\r\nI think we can keep this now in order to make the changes here small, and move the validation in another PR.",
        "createdAt" : "2019-10-18T14:47:17Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "b7c04289-77b0-4d05-90b7-3bde23e2b0bf",
        "tags" : [
        ]
      },
      {
        "id" : "27850e28-7ead-4714-b3c9-0ccd889c1a85",
        "parentId" : "78d2aaa6-bddf-4e8b-a07e-e573894dc61b",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "sgtm. will do.",
        "createdAt" : "2019-10-19T07:55:58Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      }
    ],
    "commit" : "03ecc20b19972ecb4825ecf4ce6868bc2a45f3c0",
    "line" : 111,
    "diffHunk" : "@@ -1,1 +338,342 @@\n\t// In some rare cases init containers can also consume Huge pages\n\tfor _, container := range append(pod.Spec.Containers, pod.Spec.InitContainers...) {\n\t\t// We can take request because limit and requests must match.\n\t\tfor requestName := range container.Resources.Requests {"
  },
  {
    "id" : "eb3aef37-2b6f-4871-b00e-78b8e2a9117b",
    "prId" : 84051,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/84051#pullrequestreview-304621013",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ab28b4d8-bdc1-4ab9-a172-4529ae7a6197",
        "parentId" : null,
        "authorId" : "b7c04289-77b0-4d05-90b7-3bde23e2b0bf",
        "body" : "```suggestion\r\n\t\t// medium is: Hugepages-<size>\r\n\t\tvar err error\r\n```",
        "createdAt" : "2019-10-17T15:04:25Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "b7c04289-77b0-4d05-90b7-3bde23e2b0bf",
        "tags" : [
        ]
      },
      {
        "id" : "22b4321c-6441-41aa-b100-0dab0fac4d98",
        "parentId" : "ab28b4d8-bdc1-4ab9-a172-4529ae7a6197",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "This makes sense to me. Thanks.",
        "createdAt" : "2019-10-18T08:12:44Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      },
      {
        "id" : "1c2b4398-da13-4cb0-8437-a058e5ad6d36",
        "parentId" : "ab28b4d8-bdc1-4ab9-a172-4529ae7a6197",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "done",
        "createdAt" : "2019-10-21T14:50:02Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      }
    ],
    "commit" : "03ecc20b19972ecb4825ecf4ce6868bc2a45f3c0",
    "line" : 102,
    "diffHunk" : "@@ -1,1 +329,333 @@\tvar mediumPageSize resource.Quantity\n\tif medium != v1.StorageMediumHugePages {\n\t\t// medium is: Hugepages-<size>\n\t\tvar err error\n\t\tmediumPageSize, err = v1helper.HugePageSizeFromMedium(medium)"
  },
  {
    "id" : "7cc377ac-9403-4483-b4bf-15185a3c095a",
    "prId" : 84051,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/84051#pullrequestreview-361826197",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "is this correct? if you set up two volumes with different hugepages medium sizes, won't this short-circuit the second thinking it is already set up, when in fact it should fail because the same mount point can't be two different sizes?\r\n\r\npreviously, validation limited a pod to a single hugepages size",
        "createdAt" : "2020-02-12T17:05:32Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "be855a95-87a5-46ad-b4bf-5755d6d39cba",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "I don't think this is the case here. Pod can't have two different medium sizes huge page mediums with the same mount path. For two different mount paths this check would serve its purpose: it will prevent attempts to mount already mounted medium to the same mount path again.",
        "createdAt" : "2020-02-13T11:47:29Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      },
      {
        "id" : "86e6e546-eca2-4eff-bcaf-c251c0ab7db9",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "previously, there could only be a single hugepages size per pod, so all hugepages mounts had to agree. with this PR, that is no longer the case, correct?",
        "createdAt" : "2020-02-13T13:34:49Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "12883cce-79a2-4fa6-925b-303c2c9995d6",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "Correct, but I'm not sure I follow.\r\n\r\nFrom my understanding this check makes setupHugepages function idempotent by checking if volume is already mounted.\r\n\r\n",
        "createdAt" : "2020-02-13T14:29:49Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      },
      {
        "id" : "c79c2317-d6f0-4963-b8b9-34fd2b8bb2be",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "previously there were two aspects to be idempotent:\r\n* is it mounted\r\n* is it hugepages\r\n\r\nthere are now three aspects:\r\n* is it mounted\r\n* is it hugepages\r\n* is it the right size\r\n\r\nI don't see the size aspect represented",
        "createdAt" : "2020-02-13T14:31:21Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "cecdcf36-c742-4d2b-b058-b59fa96ed416",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "Got it eventually. Thank you for the explanations! I'll update the PR soon.",
        "createdAt" : "2020-02-14T11:53:42Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      },
      {
        "id" : "f6a8dac9-2612-4878-ade0-f814759f5283",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "Just to confirm before implementing it. I'm going to get page size for hugetlb mounts using k8s.io/utils/mount API and compare it with the emptyDir medium size. If they don't match setupHugepages should fail.",
        "createdAt" : "2020-02-14T14:42:10Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      },
      {
        "id" : "1e89d46e-4918-416f-aec4-6d013352c2f9",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "I will defer to sig-storage or sig-node folks ... this PR introduces the possibility of this conflict, so I'm not sure what the correct resolution is.",
        "createdAt" : "2020-02-14T14:44:14Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "945202d6-d2e8-41cf-bff4-4ae7ad0b34f0",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "@liggitt @derekwaynecarr I've implemented additional check in GetMountMedium function. It checks if mounted pagesize is the same as medium size. Please review. I put this change into a separate commit that it's easier to review.",
        "createdAt" : "2020-02-19T12:23:02Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      },
      {
        "id" : "b04ec44b-d717-4930-9a96-f5378b5a71a2",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "@liggitt could you please give more details about the conflict you see here? Thanks!",
        "createdAt" : "2020-02-19T23:02:52Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "a6407d57-9c64-4048-8b75-5302c8b97765",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "> previously, there could only be a single hugepages size per pod, so all hugepages mounts had to agree. with this PR, that is no longer the case, correct?",
        "createdAt" : "2020-02-19T23:05:31Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "b7a7e8e7-b7c6-4aa7-96f1-2eab62876157",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "with the additional checking added by @bart0sh, is it still an issue? \r\nMaybe we could add feature gate around this code? If feature is enabled, it could support different sizes?",
        "createdAt" : "2020-02-19T23:10:47Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "2d4026a0-3e29-4523-8e63-df0cd18f8b8f",
        "parentId" : "1b5cd6f4-6904-4a82-9484-57e1e09ff6e0",
        "authorId" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "body" : "@jingxu97 Thank you for the review!\r\n\r\nFeature gate has been already added, I believe. It's in the first commit of this PR. It's disabled by default, i.e. pods that use hugepages-<size> syntax will not pass validation.\r\n\r\nI've updated the PR so that page size is obtained from volume mount options only if requested medium uses hugepages-<size> syntax. Please have a look.",
        "createdAt" : "2020-02-20T11:26:10Z",
        "updatedAt" : "2020-02-20T11:55:48Z",
        "lastEditedBy" : "f46daf11-7000-4650-ae5b-dd25c29b4e29",
        "tags" : [
        ]
      }
    ],
    "commit" : "03ecc20b19972ecb4825ecf4ce6868bc2a45f3c0",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +292,296 @@\t// If the directory is a mountpoint with medium hugepages of the same page size,\n\t// there is no work to do since we are already in the desired state.\n\tif isMnt && v1helper.IsHugePageMedium(medium) {\n\t\t// Medium is: Hugepages\n\t\tif ed.medium == v1.StorageMediumHugePages {"
  },
  {
    "id" : "ba27a339-1936-4d77-9c9f-b7277f88a14d",
    "prId" : 66928,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66928#pullrequestreview-243948531",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1e2eba31-db09-44fa-8dca-66e8235655cc",
        "parentId" : null,
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "is anything lingering if this fails and we remove the directory?",
        "createdAt" : "2019-05-21T18:24:00Z",
        "updatedAt" : "2019-05-29T19:23:15Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "7e205c24-8827-4567-a63e-120a0a647846",
        "parentId" : "1e2eba31-db09-44fa-8dca-66e8235655cc",
        "authorId" : "4aab55a0-5299-4d58-b630-6d54a352dba8",
        "body" : "The filesystem will still know about the quota ID and associated quotas, but it won't be tied to anything.  There's nothing we can do in this circumstance, though.",
        "createdAt" : "2019-05-21T18:48:50Z",
        "updatedAt" : "2019-05-29T19:23:15Z",
        "lastEditedBy" : "4aab55a0-5299-4d58-b630-6d54a352dba8",
        "tags" : [
        ]
      },
      {
        "id" : "b1337a0e-63fa-4a0f-85b5-62fb781a6ea7",
        "parentId" : "1e2eba31-db09-44fa-8dca-66e8235655cc",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Do we have to worry about accumulating quota IDs in these error scenarios? Meaning if this happens can the accumulation cause other parts of the system to stop functioning?",
        "createdAt" : "2019-05-30T18:25:46Z",
        "updatedAt" : "2019-05-30T20:13:00Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "38753efcc758e16cb501906b9a1aabb7308a0246",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +417,421 @@func (ed *emptyDir) teardownDefault(dir string) error {\n\t// Remove any quota\n\terr := quota.ClearQuota(ed.mounter, dir)\n\tif err != nil {\n\t\tklog.Warningf(\"Warning: Failed to clear quota on %s: %v\", dir, err)"
  },
  {
    "id" : "5bffdc02-25d1-49c5-b639-7ea00d5b0622",
    "prId" : 66928,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66928#pullrequestreview-244032018",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8fd1b82d-f703-401d-86c9-46e84fb1bde8",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Something to keep in mind, if this will be supported for other ephemeral volume types (e.g. `SecretVolumes`, `ConfigMapVolumes`, etc.) in the future, those volume types do periodic \"remounting\" to ensure the data is fresh. Might be worth thinking through what happens in that case.",
        "createdAt" : "2019-05-30T18:21:26Z",
        "updatedAt" : "2019-05-30T20:13:00Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "bb3d376d-b3c6-4c41-963f-ad8f8f3ad3f0",
        "parentId" : "8fd1b82d-f703-401d-86c9-46e84fb1bde8",
        "authorId" : "4aab55a0-5299-4d58-b630-6d54a352dba8",
        "body" : "See above.",
        "createdAt" : "2019-05-30T21:10:53Z",
        "updatedAt" : "2019-05-30T21:10:53Z",
        "lastEditedBy" : "4aab55a0-5299-4d58-b630-6d54a352dba8",
        "tags" : [
        ]
      }
    ],
    "commit" : "38753efcc758e16cb501906b9a1aabb7308a0246",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +239,243 @@\tif err == nil {\n\t\tvolumeutil.SetReady(ed.getMetaDir())\n\t\tif mounterArgs.DesiredSize != nil {\n\t\t\t// Deliberately shadow the outer use of err as noted\n\t\t\t// above."
  }
]