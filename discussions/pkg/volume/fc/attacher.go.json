[
  {
    "id" : "db905b74-d985-4210-9965-1d6328de0308",
    "prId" : 101862,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101862#pullrequestreview-668724419",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "400bdb9b-1f02-4a23-8d87-2665b5220156",
        "parentId" : null,
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "So if device is unmounted - `devName` will be empty.  And then the only guarantee that exists is - polling below we have added to detach/remove device from the node? (which still will not be called on second `UnmountDevice` call afaict)\r\n\r\nIs there a risk in letting rest of the function being executed if `devName` is empty string?",
        "createdAt" : "2021-05-25T16:30:20Z",
        "updatedAt" : "2021-05-25T16:31:18Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "d6473271-bf26-433d-8827-38d979a92ee6",
        "parentId" : "400bdb9b-1f02-4a23-8d87-2665b5220156",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "If `devName` is an empty string, then the rest of this function (namely `detacher.manager.DetachDisk`) will fail and `UnmountDevice` will be retried indefinitely. Without the device name it does not make sense to even try detaching the device.\r\n\r\nThe code below is to make sure that the first `UnmountDevice` really detaches a FC volume and second attempt (with empty `devName`) is not necessary.",
        "createdAt" : "2021-05-26T08:15:04Z",
        "updatedAt" : "2021-05-26T08:15:05Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      }
    ],
    "commit" : "64e8396e300398dd0a2828c89a3e44fe90889e8c",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +173,177 @@\t\treturn nil\n\t}\n\n\tunMounter := volumeSpecToUnmounter(detacher.mounter, detacher.host)\n\t// The device is unmounted now. If UnmountDevice was retried, GetDeviceNameFromMount"
  }
]