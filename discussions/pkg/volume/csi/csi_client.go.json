[
  {
    "id" : "191d353b-998f-465e-89de-49fb4d6731bc",
    "prId" : 87818,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/87818#pullrequestreview-354171304",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a9df4f81-aab5-458b-b719-3cfe9e7a89c6",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "nit: Worth logging something here?",
        "createdAt" : "2020-02-06T02:28:27Z",
        "updatedAt" : "2020-02-06T18:58:04Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "8b37aebd-d2d9-424b-9548-5c8243a22a73",
        "parentId" : "a9df4f81-aab5-458b-b719-3cfe9e7a89c6",
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "Please take a look at the updated PR.\r\nIf there is no error, probably we don't need extra logging.",
        "createdAt" : "2020-02-06T02:42:20Z",
        "updatedAt" : "2020-02-06T18:58:04Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "871739e4df77928f42727056385e6ca009107a87",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +164,168 @@\t\t\tklog.Warningf(\"Error calling CSI NodeGetInfo(): %v\", getNodeInfoError.Error())\n\t\t}\n\t\t// Continue with exponential backoff\n\t\treturn false, nil\n\t})"
  },
  {
    "id" : "9fdea970-c7da-4de2-8a73-16f6e4196e7a",
    "prId" : 86968,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/86968#pullrequestreview-371518774",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "634b0036-4482-4353-9d06-8c02d4ac475e",
        "parentId" : null,
        "authorId" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "body" : "do we want to error if `mountOptions` are provided when `fsType == fsTypeBlockName`?",
        "createdAt" : "2020-01-13T22:44:10Z",
        "updatedAt" : "2020-07-01T16:21:33Z",
        "lastEditedBy" : "542e5d2f-2ff9-4674-ab44-78f31768e7a1",
        "tags" : [
        ]
      },
      {
        "id" : "10f95ca8-9d63-4d8c-a80a-85438b977e3a",
        "parentId" : "634b0036-4482-4353-9d06-8c02d4ac475e",
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "I don't think it should be upto `NodeExpand` call to error out if block PVs have mount options (which CSI does not support). `NodePublish` and `NodeStage` calls also silently drop the mount options for block volumes. For expansion - mount options should even more of less importance.",
        "createdAt" : "2020-03-09T20:49:35Z",
        "updatedAt" : "2020-07-01T16:21:33Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      }
    ],
    "commit" : "6342dad709626dcc6da600b33f50a29a33525868",
    "line" : 93,
    "diffHunk" : "@@ -1,1 +307,311 @@\t\t\tMount: &csipbv1.VolumeCapability_MountVolume{\n\t\t\t\tFsType:     opts.fsType,\n\t\t\t\tMountFlags: opts.mountOptions,\n\t\t\t},\n\t\t}"
  },
  {
    "id" : "31ec7d79-e851-47e5-af0d-4bcd18db0c6e",
    "prId" : 82492,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/82492#pullrequestreview-316798370",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cebbe1a1-95b2-4d4b-a01f-3386f0c32648",
        "parentId" : null,
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "How about some code like PERMISSION_DENIED, UNAUTHENTICATED?",
        "createdAt" : "2019-11-13T19:43:07Z",
        "updatedAt" : "2019-12-12T03:10:37Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "1d32776d-b26e-41a0-9cc3-44b8ec36aedf",
        "parentId" : "cebbe1a1-95b2-4d4b-a01f-3386f0c32648",
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "Elsewhere we have assumed those error codes to be \"final\" and unless CSI driver deployment is fixed, this error will keep happening.",
        "createdAt" : "2019-11-13T23:17:10Z",
        "updatedAt" : "2019-12-12T03:10:37Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "02bd6603-0d1f-41ec-ac88-c9b058ffa472",
        "parentId" : "cebbe1a1-95b2-4d4b-a01f-3386f0c32648",
        "authorId" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "body" : "Since user is not authenticated or authorized we can safely assume that the operation did not even start. If we mark a volume as uncertain, we would most probably get PERMISSION_DENIED or UNAUTHENTICATED error during Unpublish / Unstage.",
        "createdAt" : "2019-11-14T09:04:38Z",
        "updatedAt" : "2019-12-12T03:10:37Z",
        "lastEditedBy" : "8b64e744-955d-4523-a3b7-60fae9df0857",
        "tags" : [
        ]
      }
    ],
    "commit" : "ca532c6fb2c08f859eca13e0557f3b2aec9a18e0",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +637,641 @@\t}\n\tswitch st.Code() {\n\tcase codes.Canceled, // gRPC: Client Application cancelled the request\n\t\tcodes.DeadlineExceeded,  // gRPC: Timeout\n\t\tcodes.Unavailable,       // gRPC: Server shutting down, TCP connection broken - previous volume operation may be still in progress."
  },
  {
    "id" : "62c46e5d-ffe8-4645-93d4-3ddd330aafb2",
    "prId" : 76188,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76188#pullrequestreview-230039576",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "339ff9f8-f7c8-4b4e-b5ce-dd5ab012eb2f",
        "parentId" : null,
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "Can we add some unit tests for this please?",
        "createdAt" : "2019-04-24T11:07:03Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      }
    ],
    "commit" : "c511c90b597cc97492cb1d0b4363acf6922f607a",
    "line" : 124,
    "diffHunk" : "@@ -1,1 +945,949 @@\t\t}\n\n\t}\n\treturn metrics, nil\n}"
  },
  {
    "id" : "eea98bf3-36a9-4918-9b46-9e351b960a05",
    "prId" : 76188,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76188#pullrequestreview-234879157",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "acdcfa51-66f0-464f-be33-cc6a51d47418",
        "parentId" : null,
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "might as well get rid of `volumeStatsSet` variable and just return true and false from whenever applicable.",
        "createdAt" : "2019-05-06T21:11:43Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "f08df949-729a-49e5-b2f3-bd76d222f266",
        "parentId" : "acdcfa51-66f0-464f-be33-cc6a51d47418",
        "authorId" : "3eb39df2-c27a-40ed-9fab-cabae1c6353d",
        "body" : "Done. Removed `volumeStatsSet` var.",
        "createdAt" : "2019-05-08T06:09:56Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "3eb39df2-c27a-40ed-9fab-cabae1c6353d",
        "tags" : [
        ]
      }
    ],
    "commit" : "c511c90b597cc97492cb1d0b4363acf6922f607a",
    "line" : 56,
    "diffHunk" : "@@ -1,1 +877,881 @@\t\tif capability.GetRpc().GetType() == csipbv1.NodeServiceCapability_RPC_GET_VOLUME_STATS {\n\t\t\treturn true, nil\n\t\t}\n\t}\n\treturn false, nil"
  },
  {
    "id" : "962cd7b4-4560-4a67-bad0-468d7c9c6009",
    "prId" : 76188,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76188#pullrequestreview-235131639",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41a306b6-901d-41ea-b8ac-246f5427c3e0",
        "parentId" : null,
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "oddly placed new line.",
        "createdAt" : "2019-05-08T15:19:55Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "fb1d9384-b343-45af-9918-a2bd33e871e3",
        "parentId" : "41a306b6-901d-41ea-b8ac-246f5427c3e0",
        "authorId" : "3eb39df2-c27a-40ed-9fab-cabae1c6353d",
        "body" : "Done.",
        "createdAt" : "2019-05-08T15:36:22Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "3eb39df2-c27a-40ed-9fab-cabae1c6353d",
        "tags" : [
        ]
      }
    ],
    "commit" : "c511c90b597cc97492cb1d0b4363acf6922f607a",
    "line" : 97,
    "diffHunk" : "@@ -1,1 +918,922 @@\t\treturn nil, err\n\t}\n\tusages := resp.GetUsage()\n\tif usages == nil {\n\t\treturn nil, fmt.Errorf(\"failed to get usage from response. usage is nil\")"
  },
  {
    "id" : "678d812c-513b-40be-ab85-55339f276cef",
    "prId" : 76188,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76188#pullrequestreview-237020752",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "33725510-31f0-4775-aae9-ff3884fa3269",
        "parentId" : null,
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "if `usages` is nil there is no point in initializing `metrics` variable. So, I would move `if usages == nil` check before that declaration.",
        "createdAt" : "2019-05-13T17:45:14Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "c4c5d8ca-9770-4bf4-9bf5-6bb056bf8b2e",
        "parentId" : "33725510-31f0-4775-aae9-ff3884fa3269",
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "Also - IMO we should return an error if `usages` is nil because if a plugin implements this RPC call and still returns no usage information that most likely means something is incorrect.",
        "createdAt" : "2019-05-13T17:46:07Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "f4fa3ea5-b31c-49cc-adb0-c539d42bb33d",
        "parentId" : "33725510-31f0-4775-aae9-ff3884fa3269",
        "authorId" : "3eb39df2-c27a-40ed-9fab-cabae1c6353d",
        "body" : "Addressed above comments.",
        "createdAt" : "2019-05-14T04:24:32Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "3eb39df2-c27a-40ed-9fab-cabae1c6353d",
        "tags" : [
        ]
      }
    ],
    "commit" : "c511c90b597cc97492cb1d0b4363acf6922f607a",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +921,925 @@\tif usages == nil {\n\t\treturn nil, fmt.Errorf(\"failed to get usage from response. usage is nil\")\n\t}\n\tmetrics := &volume.Metrics{\n\t\tUsed:       resource.NewQuantity(int64(0), resource.BinarySI),"
  },
  {
    "id" : "b4828ed5-ac6b-4e3d-a991-050008e4ef6d",
    "prId" : 76188,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76188#pullrequestreview-672259766",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0875d0e7-af8a-4b29-b527-4dbf069cfa9e",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "How often is this called?",
        "createdAt" : "2019-05-14T17:39:03Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "e320307f-0b60-49a2-9a62-269a7aca62f0",
        "parentId" : "0875d0e7-af8a-4b29-b527-4dbf069cfa9e",
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "As often as prometheus is configured to scrap the metrics endpoint.",
        "createdAt" : "2019-05-14T19:03:41Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      },
      {
        "id" : "1487a5e1-25ba-4b60-8e59-4eea56936e4a",
        "parentId" : "0875d0e7-af8a-4b29-b527-4dbf069cfa9e",
        "authorId" : "5116ee51-afb7-4096-8406-a3bbf3d10899",
        "body" : "unable to scrap any metric for aws efs csi , not sure whether rpc call was executed or not. ",
        "createdAt" : "2021-05-31T12:23:50Z",
        "updatedAt" : "2021-05-31T12:23:50Z",
        "lastEditedBy" : "5116ee51-afb7-4096-8406-a3bbf3d10899",
        "tags" : [
        ]
      }
    ],
    "commit" : "c511c90b597cc97492cb1d0b4363acf6922f607a",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +883,887 @@\nfunc (c *csiDriverClient) NodeGetVolumeStats(ctx context.Context, volID string, targetPath string) (*volume.Metrics, error) {\n\tklog.V(4).Info(log(\"calling NodeGetVolumeStats rpc: [volid=%s, target_path=%s\", volID, targetPath))\n\tif volID == \"\" {\n\t\treturn nil, errors.New(\"missing volume id\")"
  },
  {
    "id" : "a417aa37-fc1d-4cf6-82fb-832d9663f205",
    "prId" : 76188,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76188#pullrequestreview-237442217",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f99cb785-cb63-4cea-8e0a-4588a4381100",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "This means that CSI spec added more that we don't support yet?\r\n\r\nShould it be a warning, or even Info at level 5 if we expect this to flood logs?",
        "createdAt" : "2019-05-14T18:32:40Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "f722bfa4-d5a1-46ea-af6e-88fe10b7f406",
        "parentId" : "f99cb785-cb63-4cea-8e0a-4588a4381100",
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "This should ideally never happen and if it does, it is probably an error and worth either fixing k8s or CSI driver.",
        "createdAt" : "2019-05-14T19:01:55Z",
        "updatedAt" : "2019-05-17T11:44:33Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      }
    ],
    "commit" : "c511c90b597cc97492cb1d0b4363acf6922f607a",
    "line" : 121,
    "diffHunk" : "@@ -1,1 +942,946 @@\t\t\tmetrics.InodesUsed = resource.NewQuantity(usage.GetUsed(), resource.BinarySI)\n\t\tdefault:\n\t\t\tklog.Errorf(\"unknown key %s in usage\", unit.String())\n\t\t}\n"
  },
  {
    "id" : "f0358288-ab9b-46d1-a6b6-291fef60557a",
    "prId" : 74863,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74863#pullrequestreview-211398534",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8864e365-0e29-4c6e-b64a-e78ea3871eca",
        "parentId" : null,
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "we had some discussion around rounding [here](https://github.com/kubernetes-csi/external-provisioner/issues/199). Is there a similar issue here?",
        "createdAt" : "2019-03-05T23:12:20Z",
        "updatedAt" : "2019-03-08T14:23:30Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      },
      {
        "id" : "62d6858e-780b-4e66-9158-de226159ba78",
        "parentId" : "8864e365-0e29-4c6e-b64a-e78ea3871eca",
        "authorId" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "body" : "I do not think so, because we aren't really rounding up or rounding down the values here. ",
        "createdAt" : "2019-03-06T18:30:13Z",
        "updatedAt" : "2019-03-08T14:23:30Z",
        "lastEditedBy" : "d3e684d7-edd2-4290-a8bf-e8b698c97338",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bd9ed06d34efb328ce514551e1a23d708f1e526",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +339,343 @@\t\treturn newSize, err\n\t}\n\tupdatedQuantity := resource.NewQuantity(resp.CapacityBytes, resource.BinarySI)\n\treturn *updatedQuantity, nil\n}"
  },
  {
    "id" : "b8ffb6c0-a8d1-47be-bad5-4d87ad01ef6d",
    "prId" : 74863,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74863#pullrequestreview-211573297",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0ca86d16-f8b4-4867-a550-2545c21d35af",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Where is `ControllerExpandVolume`?",
        "createdAt" : "2019-03-07T02:20:21Z",
        "updatedAt" : "2019-03-08T14:23:30Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "ce0ef03e-ff78-4161-a4e0-1944d450ec38",
        "parentId" : "0ca86d16-f8b4-4867-a550-2545c21d35af",
        "authorId" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "body" : "That's done by the external resizer",
        "createdAt" : "2019-03-07T02:23:50Z",
        "updatedAt" : "2019-03-08T14:23:30Z",
        "lastEditedBy" : "209ee091-cf29-4efa-8a1b-a98334ea3f9a",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bd9ed06d34efb328ce514551e1a23d708f1e526",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +308,312 @@}\n\nfunc (c *csiDriverClient) NodeExpandVolume(ctx context.Context, volumeID, volumePath string, newSize resource.Quantity) (resource.Quantity, error) {\n\tif c.nodeV1ClientCreator == nil {\n\t\treturn newSize, fmt.Errorf(\"version of CSI driver does not support volume expansion\")"
  },
  {
    "id" : "6e63ec8c-05cb-42a1-bc51-4ecc1f4f7d27",
    "prId" : 74863,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74863#pullrequestreview-212413663",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2dab5309-55e7-4785-b6a0-3cead15b76b0",
        "parentId" : null,
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "It would be helpful to include the negative value in the message",
        "createdAt" : "2019-03-08T18:25:23Z",
        "updatedAt" : "2019-03-08T18:30:28Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bd9ed06d34efb328ce514551e1a23d708f1e526",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +321,325 @@\n\tif newSize.Value() < 0 {\n\t\treturn newSize, errors.New(\"size can not be less than 0\")\n\t}\n"
  },
  {
    "id" : "591ba891-2fd8-4091-b5f0-bc68413117c8",
    "prId" : 74863,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74863#pullrequestreview-212413663",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "67dded88-561a-48d2-84ac-a876f001e41a",
        "parentId" : null,
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "Do we need to check that updatedQuantity is not nil?",
        "createdAt" : "2019-03-08T18:26:23Z",
        "updatedAt" : "2019-03-08T18:30:28Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bd9ed06d34efb328ce514551e1a23d708f1e526",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +339,343 @@\t\treturn newSize, err\n\t}\n\tupdatedQuantity := resource.NewQuantity(resp.CapacityBytes, resource.BinarySI)\n\treturn *updatedQuantity, nil\n}"
  },
  {
    "id" : "7cb3a982-a2e9-49b0-ac18-dd79394e476e",
    "prId" : 74863,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74863#pullrequestreview-212413663",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8f61630e-c1cb-4de5-9614-14d7eea9c7e0",
        "parentId" : null,
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "We can break out of the loop here",
        "createdAt" : "2019-03-08T18:28:40Z",
        "updatedAt" : "2019-03-08T18:30:28Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bd9ed06d34efb328ce514551e1a23d708f1e526",
    "line" : 94,
    "diffHunk" : "@@ -1,1 +687,691 @@\t\tfor _, capability := range capabilities {\n\t\t\tif capability.GetRpc().GetType() == csipbv1.NodeServiceCapability_RPC_EXPAND_VOLUME {\n\t\t\t\tnodeExpandSet = true\n\t\t\t}\n\t\t}"
  },
  {
    "id" : "15614831-266f-4180-866a-23a5266e6658",
    "prId" : 74652,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74652#pullrequestreview-212249814",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3a20c2b7-8442-4f82-b6ae-37c7b1c8cdcc",
        "parentId" : null,
        "authorId" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "body" : "I think it would be better to add some detailed comments on this struct, why it is needed and how it is used. The fix uses a quite subtle approach so I think adding comments will help others understand and might use it later.",
        "createdAt" : "2019-03-08T01:21:52Z",
        "updatedAt" : "2019-03-09T05:45:15Z",
        "lastEditedBy" : "44594ff0-8fbc-44a7-84f9-654ffd54270f",
        "tags" : [
        ]
      },
      {
        "id" : "541ca060-af3c-4946-b375-298582f46699",
        "parentId" : "3a20c2b7-8442-4f82-b6ae-37c7b1c8cdcc",
        "authorId" : "e4e7c71f-23b5-4203-b65d-3f5f3c503b64",
        "body" : "That will be better. I've added some comments.",
        "createdAt" : "2019-03-08T11:48:01Z",
        "updatedAt" : "2019-03-09T05:45:15Z",
        "lastEditedBy" : "e4e7c71f-23b5-4203-b65d-3f5f3c503b64",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa926ed6e0a3970cc2682e203c7a3f2e9568d132",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +810,814 @@}\n\n// CSI client getter with cache.\n// This provides a method to initialize CSI client with driver name and caches\n// it for later use. When CSI clients have not been discovered yet (e.g."
  },
  {
    "id" : "e4f24dad-54ca-4b1d-b50e-d45b15dafdaf",
    "prId" : 74652,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74652#pullrequestreview-213173457",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3fdc9f0c-0f20-46e7-a781-3eb7398cbd19",
        "parentId" : null,
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "Can c.csiClient be assigned directly (we have the write lock) ?",
        "createdAt" : "2019-03-12T02:28:59Z",
        "updatedAt" : "2019-03-12T02:28:59Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      },
      {
        "id" : "50b44493-95e2-4239-925b-12c6342c55ca",
        "parentId" : "3fdc9f0c-0f20-46e7-a781-3eb7398cbd19",
        "authorId" : "e4e7c71f-23b5-4203-b65d-3f5f3c503b64",
        "body" : "you mean `c.csiClient, err := newCsiDriverClient(c.driverName)`?\r\nYes, it is equal, no much difference. ",
        "createdAt" : "2019-03-12T02:43:15Z",
        "updatedAt" : "2019-03-12T02:43:15Z",
        "lastEditedBy" : "e4e7c71f-23b5-4203-b65d-3f5f3c503b64",
        "tags" : [
        ]
      },
      {
        "id" : "2061a909-85dc-4541-85eb-4538fdac74a4",
        "parentId" : "3fdc9f0c-0f20-46e7-a781-3eb7398cbd19",
        "authorId" : "e4e7c71f-23b5-4203-b65d-3f5f3c503b64",
        "body" : " there is one difference, with the second style `newCsiDriverClient(c.driverName)` must return nil client on error, with the first style we do not need make such assumption. ",
        "createdAt" : "2019-03-12T02:46:21Z",
        "updatedAt" : "2019-03-12T02:46:21Z",
        "lastEditedBy" : "e4e7c71f-23b5-4203-b65d-3f5f3c503b64",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa926ed6e0a3970cc2682e203c7a3f2e9568d132",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +835,839 @@\t\treturn c.csiClient, nil\n\t}\n\tcsi, err := newCsiDriverClient(c.driverName)\n\tif err != nil {\n\t\treturn nil, err"
  },
  {
    "id" : "5b123b38-d282-4b8f-a98c-27c623ac5dcd",
    "prId" : 72873,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/72873#pullrequestreview-197873677",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a6734f52-d320-4e29-974d-7865d9bbe0cb",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Maybe check for error explicitly instead (`getNodeInfoError == nil)? Because `nodeId` may accidentally be set even on error?\r\n\r\n```GO\r\nif getNodeInfoError == nil {\r\n  return true, nil\r\n}\r\n```",
        "createdAt" : "2019-01-28T23:27:39Z",
        "updatedAt" : "2019-01-30T02:14:55Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "84af8b0a-4032-44e5-80e2-63e087f8017d",
        "parentId" : "a6734f52-d320-4e29-974d-7865d9bbe0cb",
        "authorId" : "f8f9446d-82d7-43cf-88d1-cecfb048866d",
        "body" : "The reason I didn't check for error is because I thought we wanted to retry if we got back an error (unless it's a terminal error)?",
        "createdAt" : "2019-01-29T23:54:20Z",
        "updatedAt" : "2019-01-30T02:14:55Z",
        "lastEditedBy" : "f8f9446d-82d7-43cf-88d1-cecfb048866d",
        "tags" : [
        ]
      },
      {
        "id" : "6deb647b-37d2-4f96-a0f7-50dd6a5c4bcb",
        "parentId" : "a6734f52-d320-4e29-974d-7865d9bbe0cb",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Yes we do want to retry if we get an error except on terminal errors. But we should check the error instead of the result to handle the case mentioned above. That said, not a huge deal since we can see that `nodeGetInfo...` doesn't return non-empty nodeID with non-nil err (at least for now), and this code will be removed in the future.",
        "createdAt" : "2019-01-30T02:01:06Z",
        "updatedAt" : "2019-01-30T02:14:55Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "1f822030a4cc8014f90797b7eafd9f555e9dbf52",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +196,200 @@\t\t\tnodeID, maxVolumePerNode, accessibleTopology, getNodeInfoError = c.nodeGetInfoV0(ctx)\n\t\t}\n\t\tif nodeID != \"\" {\n\t\t\treturn true, nil\n\t\t}"
  },
  {
    "id" : "46154a46-ccce-4b4b-9ab9-be0f548c6020",
    "prId" : 72873,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/72873#pullrequestreview-197873677",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "76b9dd8b-d384-4f5a-b589-c2b5f9d75764",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Should this be `true` instead of false, meaning condition is satisfied don't retry?\r\n\r\nAlso nit: comment on what's happening here (e.g. `kubelet plugin registration service not implemented is a terminal error, no need to retry`).",
        "createdAt" : "2019-01-28T23:29:38Z",
        "updatedAt" : "2019-01-30T02:14:55Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "a13d3c69-5bbf-49c9-99cc-2439eaf6dc7a",
        "parentId" : "76b9dd8b-d384-4f5a-b589-c2b5f9d75764",
        "authorId" : "f8f9446d-82d7-43cf-88d1-cecfb048866d",
        "body" : "I think it can be either true or false here, because the exponential backoff will stop retrying if err is not nil:\r\n```\r\nfunc ExponentialBackoff(backoff Backoff, condition ConditionFunc) error {\r\n\tfor backoff.Steps > 0 {\r\n\t\tif ok, err := condition(); err != nil || ok {\r\n\t\t\treturn err\r\n\t\t}\r\n```\r\n I can change it to true if it makes it more readable ",
        "createdAt" : "2019-01-30T00:00:53Z",
        "updatedAt" : "2019-01-30T02:14:55Z",
        "lastEditedBy" : "f8f9446d-82d7-43cf-88d1-cecfb048866d",
        "tags" : [
        ]
      },
      {
        "id" : "764518a1-180d-48ea-ade7-9bf0f3f78192",
        "parentId" : "76b9dd8b-d384-4f5a-b589-c2b5f9d75764",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Oh, you're right, `ConditionFunc returns true if the condition is satisfied, or an error if the loop should be aborted.` This is fine.",
        "createdAt" : "2019-01-30T01:55:16Z",
        "updatedAt" : "2019-01-30T02:14:55Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "1f822030a4cc8014f90797b7eafd9f555e9dbf52",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +201,205 @@\t\t// kubelet plugin registration service not implemented is a terminal error, no need to retry\n\t\tif strings.Contains(getNodeInfoError.Error(), \"no handler registered for plugin type\") {\n\t\t\treturn false, getNodeInfoError\n\t\t}\n\t\t// Continue with exponential backoff"
  },
  {
    "id" : "edc92e3c-39f5-4982-9337-59a22c4411c6",
    "prId" : 72873,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/72873#pullrequestreview-197873677",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e646565f-8898-4e6a-9315-8a99e6107225",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Return `getNodeInfoError` instead of nil?",
        "createdAt" : "2019-01-28T23:34:52Z",
        "updatedAt" : "2019-01-30T02:14:55Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "bea85f75-46e1-41b7-96a3-a7808d66994c",
        "parentId" : "e646565f-8898-4e6a-9315-8a99e6107225",
        "authorId" : "f8f9446d-82d7-43cf-88d1-cecfb048866d",
        "body" : "If we return `getNodeInfoError` here then the exponential backoff will stop retrying. We want to keep trying if `getNodeInfoError` is not a terminal error",
        "createdAt" : "2019-01-30T00:03:11Z",
        "updatedAt" : "2019-01-30T02:14:55Z",
        "lastEditedBy" : "f8f9446d-82d7-43cf-88d1-cecfb048866d",
        "tags" : [
        ]
      },
      {
        "id" : "8498bfca-2510-490e-b4bc-2b8a11a15511",
        "parentId" : "e646565f-8898-4e6a-9315-8a99e6107225",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Yep you're right!",
        "createdAt" : "2019-01-30T01:56:23Z",
        "updatedAt" : "2019-01-30T02:14:55Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "1f822030a4cc8014f90797b7eafd9f555e9dbf52",
    "line" : 56,
    "diffHunk" : "@@ -1,1 +204,208 @@\t\t}\n\t\t// Continue with exponential backoff\n\t\treturn false, nil\n\t})\n"
  },
  {
    "id" : "9fdedbb8-4914-4c56-bed2-a1c082c3b7fa",
    "prId" : 72873,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/72873#pullrequestreview-198904092",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e60d334b-08ae-454c-a7e1-59bb89647327",
        "parentId" : null,
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "Is it possible to extract the string into a constant which is used by this and csi_client.go ?",
        "createdAt" : "2019-01-31T21:29:13Z",
        "updatedAt" : "2019-01-31T21:29:13Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      },
      {
        "id" : "26f41723-8e01-4113-b7f4-912ad1706cc9",
        "parentId" : "e60d334b-08ae-454c-a7e1-59bb89647327",
        "authorId" : "f8f9446d-82d7-43cf-88d1-cecfb048866d",
        "body" : "@tedyu good point! Thanks for pointing it out!",
        "createdAt" : "2019-02-01T02:20:02Z",
        "updatedAt" : "2019-02-01T02:20:03Z",
        "lastEditedBy" : "f8f9446d-82d7-43cf-88d1-cecfb048866d",
        "tags" : [
        ]
      }
    ],
    "commit" : "1f822030a4cc8014f90797b7eafd9f555e9dbf52",
    "line" : 52,
    "diffHunk" : "@@ -1,1 +200,204 @@\t\t}\n\t\t// kubelet plugin registration service not implemented is a terminal error, no need to retry\n\t\tif strings.Contains(getNodeInfoError.Error(), \"no handler registered for plugin type\") {\n\t\t\treturn false, getNodeInfoError\n\t\t}"
  },
  {
    "id" : "54c6346b-b689-4e74-a4c7-4ffa582928b4",
    "prId" : 71314,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/71314#pullrequestreview-177483260",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6cfdd904-13ad-41b0-8b76-592d3cc068d0",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "it's not obvious to me why client construction would care about how a driver was discovered... is this coupling incidental or inherent?",
        "createdAt" : "2018-11-21T22:03:32Z",
        "updatedAt" : "2018-11-22T02:37:40Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "fabae9ee-fc51-43cd-a039-d2734251bd7a",
        "parentId" : "6cfdd904-13ad-41b0-8b76-592d3cc068d0",
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Before the kubelet device plugin registration mechanism existed (when CSI was alpha), the paths to sockets were deterministicly  generated based on driver name instead of discovered. If someone runs with kubelet plugin registration disabled, we fall back that that ancient way of finding the plugin. ",
        "createdAt" : "2018-11-21T23:14:55Z",
        "updatedAt" : "2018-11-22T02:37:40Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "73785418-c9d8-42b5-96fb-aa5964c2fd48",
        "parentId" : "6cfdd904-13ad-41b0-8b76-592d3cc068d0",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "ok",
        "createdAt" : "2018-11-22T02:07:23Z",
        "updatedAt" : "2018-11-22T02:37:40Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "a7c5582bba94432e1e3a02c78723a516731d2608",
    "line" : 122,
    "diffHunk" : "@@ -1,1 +139,143 @@\taddr := fmt.Sprintf(csiAddrTemplate, driverName)\n\trequiresV0Client := true\n\tif utilfeature.DefaultFeatureGate.Enabled(features.KubeletPluginsWatcher) {\n\t\tvar existingDriver csiDriver\n\t\tdriverExists := false"
  },
  {
    "id" : "9512d460-7533-4f5b-bc81-507713c92bb9",
    "prId" : 67110,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/67110#pullrequestreview-145353616",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "07c004cb-aa7a-4849-9ae7-2175b154238b",
        "parentId" : null,
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "I would suggest the creation of a data transfer type to be used as return value for this instead of a multiple param. For instance\r\n```go\r\ntype nodeInfo struct{\r\n    nodeID string\r\n    maxVolPerNode int64\r\n    topology csipb.Topology\r\n}\r\n```",
        "createdAt" : "2018-08-10T17:58:21Z",
        "updatedAt" : "2018-08-10T18:03:21Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      },
      {
        "id" : "44db67f8-fdec-464e-9f85-883ade7afa8c",
        "parentId" : "07c004cb-aa7a-4849-9ae7-2175b154238b",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "That way, if nodeInfo grows, only the type is updated, not the signature for method `NodeGetInfo`",
        "createdAt" : "2018-08-10T17:59:35Z",
        "updatedAt" : "2018-08-10T18:03:21Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      },
      {
        "id" : "9c948fe2-1bba-4e58-b033-67fa0657c1ef",
        "parentId" : "07c004cb-aa7a-4849-9ae7-2175b154238b",
        "authorId" : "34f61776-88da-4b26-aa20-3c4f92530d05",
        "body" : "Ideally we could do this for params and return types for other functions in the interface too, but maybe it could be done in a separate PR.",
        "createdAt" : "2018-08-10T18:33:01Z",
        "updatedAt" : "2018-08-10T18:33:01Z",
        "lastEditedBy" : "34f61776-88da-4b26-aa20-3c4f92530d05",
        "tags" : [
        ]
      }
    ],
    "commit" : "7fa120c18c361fe7374a21497f70293d454e5d55",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +81,85 @@}\n\nfunc (c *csiDriverClient) NodeGetInfo(ctx context.Context) (\n\tnodeID string,\n\tmaxVolumePerNode int64,"
  },
  {
    "id" : "f1ef5c04-8e77-46ad-9fbf-b2070615c518",
    "prId" : 64519,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64519#pullrequestreview-124948332",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "62cee37b-f16c-483c-b598-40b35658950e",
        "parentId" : null,
        "authorId" : "6c37c694-3f72-4ff3-ac3a-5fbddf4d5796",
        "body" : "What  about defining  `network` as a const at the top of the file? I think it would be more visible. ",
        "createdAt" : "2018-05-30T21:40:43Z",
        "updatedAt" : "2018-06-01T03:06:14Z",
        "lastEditedBy" : "6c37c694-3f72-4ff3-ac3a-5fbddf4d5796",
        "tags" : [
        ]
      },
      {
        "id" : "f5324578-9cc9-48ac-8139-2c1460a5fbdf",
        "parentId" : "62cee37b-f16c-483c-b598-40b35658950e",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "ok\r\n",
        "createdAt" : "2018-05-30T21:52:54Z",
        "updatedAt" : "2018-06-01T03:06:14Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      },
      {
        "id" : "d04fcda1-5b41-4b38-bd61-19afca4277eb",
        "parentId" : "62cee37b-f16c-483c-b598-40b35658950e",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "I thought about it, the value for network does not need to be global since it should always be \"unix\" and is only used when constructing the connection in that method.",
        "createdAt" : "2018-05-31T19:43:27Z",
        "updatedAt" : "2018-06-01T03:06:14Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      }
    ],
    "commit" : "d6d396215eeaf252cc5e3e9c713fa40a7fb241e6",
    "line" : 185,
    "diffHunk" : "@@ -1,1 +257,261 @@\t}\n\n\tnetwork := \"unix\"\n\taddr := fmt.Sprintf(csiAddrTemplate, driverName)\n\tglog.V(4).Infof(log(\"creating new gRPC connection for [%s://%s]\", network, addr))"
  },
  {
    "id" : "26850bbd-0289-4c80-88c7-f67ccfd55a55",
    "prId" : 64519,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64519#pullrequestreview-125036411",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5c600a2e-cad2-4209-b752-67aaf0c77025",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Add a struct interface implementation check:\r\n\r\nvar _ csiClient = &csiDriverClient{}",
        "createdAt" : "2018-05-31T18:54:28Z",
        "updatedAt" : "2018-06-01T03:06:14Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "e8290c34-56fd-486a-a63c-fa6f1ac96a47",
        "parentId" : "5c600a2e-cad2-4209-b752-67aaf0c77025",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "Done",
        "createdAt" : "2018-06-01T03:06:43Z",
        "updatedAt" : "2018-06-01T03:06:43Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      }
    ],
    "commit" : "d6d396215eeaf252cc5e3e9c713fa40a7fb241e6",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +62,66 @@\n// csiClient encapsulates all csi-plugin methods\ntype csiDriverClient struct {\n\tdriverName string\n\tnodeClient csipb.NodeClient"
  },
  {
    "id" : "8f6b990c-4db0-4a4d-a960-eb6474586624",
    "prId" : 64519,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64519#pullrequestreview-124951841",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ed96b755-4c6d-4f07-b910-a93c0e25373a",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "nit: as a general rule of thumb never call `new` anything inside of a method implementing business logic. That encodes the creation of a dependency with the business logic making it harder to test just the business logic.\r\n\r\nInstead, have the dependency either passed in as a parameter (with an interface type) or make the method creating the external dependency another interface method (i.e. a new `NewGrpcConnection()` method in the `csiClient interface`). That way it makes it easy to create a fake of the dependency for testing.\r\n\r\nYou don't have to do this now. Can do it in a follow up PR.",
        "createdAt" : "2018-05-31T19:01:23Z",
        "updatedAt" : "2018-06-01T03:06:14Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "5e8bffde-dd70-4a82-8b9f-7d4f601d8d9f",
        "parentId" : "ed96b755-4c6d-4f07-b910-a93c0e25373a",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "Ok I will take a look at that.",
        "createdAt" : "2018-05-31T19:09:53Z",
        "updatedAt" : "2018-06-01T03:06:14Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      },
      {
        "id" : "d9d7b45c-668b-4021-972c-27e626f5fc47",
        "parentId" : "ed96b755-4c6d-4f07-b910-a93c0e25373a",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "i looked at your suggestion. While agree, I even had an impl that injected the connection. However, the `grpc.ClientConn` type (created with newGrpcCon) is a struct value which complicates mocking it.  So, I kept it simple.  But I agree.",
        "createdAt" : "2018-05-31T19:53:55Z",
        "updatedAt" : "2018-06-01T03:06:14Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      }
    ],
    "commit" : "d6d396215eeaf252cc5e3e9c713fa40a7fb241e6",
    "line" : 67,
    "diffHunk" : "@@ -1,1 +94,98 @@\t}\n\n\tconn, err := newGrpcConn(c.driverName)\n\tif err != nil {\n\t\treturn err"
  },
  {
    "id" : "0502b786-f54f-41ba-a7d3-45ffa9b96fcd",
    "prId" : 64519,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64519#pullrequestreview-125248897",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91402502-7c88-4faa-8149-77d9556a8d51",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "nit: return the interface (`csiClient`) not the struct",
        "createdAt" : "2018-06-01T16:54:35Z",
        "updatedAt" : "2018-06-01T16:56:23Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "692329ee-53e9-4b4a-8f5b-7812c33cb4d8",
        "parentId" : "91402502-7c88-4faa-8149-77d9556a8d51",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "You are right.  I missed that.",
        "createdAt" : "2018-06-01T17:16:42Z",
        "updatedAt" : "2018-06-01T17:16:42Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      }
    ],
    "commit" : "d6d396215eeaf252cc5e3e9c713fa40a7fb241e6",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +69,73 @@var _ csiClient = &csiDriverClient{}\n\nfunc newCsiDriverClient(driverName string) *csiDriverClient {\n\tc := &csiDriverClient{driverName: driverName}\n\treturn c"
  },
  {
    "id" : "3c0a77e8-5849-4d50-b117-75c53671117e",
    "prId" : 60115,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/60115#pullrequestreview-99157618",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41177ec0-f76a-4ba1-9b78-263139826502",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Pass in secret (`node_stage_secrets` field). It is specified on the Kubernetes side in the `NodeStageSecretRef` in `CSIPersistentVolumeSource`.\r\n\r\nExamples here:\r\nhttps://github.com/kubernetes/kubernetes/pull/60118\r\nhttps://github.com/kubernetes/kubernetes/pull/60382",
        "createdAt" : "2018-02-25T22:00:55Z",
        "updatedAt" : "2018-02-26T22:51:03Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "cbd18965fd9c3d1a0bbfaa3de57eb9115337aad3",
    "line" : 69,
    "diffHunk" : "@@ -1,1 +196,200 @@\t}\n\n\treq := &csipb.NodeStageVolumeRequest{\n\t\tVolumeId:          volID,\n\t\tPublishInfo:       publishInfo,"
  },
  {
    "id" : "dad71b44-4bb7-4ea1-ab9a-8893acb18345",
    "prId" : 58888,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/58888#pullrequestreview-92816722",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ea399b42-f99d-4e77-8b06-56e0bb4419ac",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Put a TODO or open an issue to change `uint32` to `int32` once we move to CSI v0.2 (https://github.com/container-storage-interface/spec/pull/176).",
        "createdAt" : "2018-01-31T06:29:45Z",
        "updatedAt" : "2018-01-31T06:36:52Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      }
    ],
    "commit" : "4abcb122966701b0b705ccd28041fd94dcd4c21e",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +123,127 @@\t// then check only the major number.\n\tfor _, v := range vers {\n\t\tif ver.GetMajor() == uint32(0) &&\n\t\t\t(ver.GetMajor() == v.GetMajor() && ver.GetMinor() == v.GetMinor()) {\n\t\t\tsupported = true"
  },
  {
    "id" : "b69a6850-f7e6-48d6-a2ab-f98dbce2a613",
    "prId" : 54529,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/54529#pullrequestreview-77400058",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9e7d5934-81a9-4b92-951d-2b05b9de18c3",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "nit: add comments defining expected behavior of each method and purpose of interface.",
        "createdAt" : "2017-11-16T01:30:58Z",
        "updatedAt" : "2017-11-22T01:22:10Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "d3d3db76-2913-401c-9c10-f38977bbae3a",
        "parentId" : "9e7d5934-81a9-4b92-951d-2b05b9de18c3",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "Will make a note to add more documentation.  Again, this may get done later given tight timeline.",
        "createdAt" : "2017-11-17T10:55:40Z",
        "updatedAt" : "2017-11-22T01:22:10Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      }
    ],
    "commit" : "e489629895ffa82eb7cd8281f0a2b7e788a29812",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +33,37 @@type csiClient interface {\n\tAssertSupportedVersion(ctx grpctx.Context, ver *csipb.Version) error\n\tNodePublishVolume(\n\t\tctx grpctx.Context,\n\t\tvolumeid string,"
  },
  {
    "id" : "28831016-df26-4c83-b266-8a04aabede93",
    "prId" : 54529,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/54529#pullrequestreview-77399621",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "36e77e69-f7df-4b69-9d47-3fb31227d466",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "Create a sub-package for client: `csi/client` and expose the interface and constructor as public methods of the package. Keep the rest of it as private to the new package. Have the plugin import the new package.",
        "createdAt" : "2017-11-16T01:38:15Z",
        "updatedAt" : "2017-11-22T01:22:10Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "96b624b3-8391-4533-8916-224ef1912028",
        "parentId" : "36e77e69-f7df-4b69-9d47-3fb31227d466",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "@saad-ali agreed.  I will make a note, but in the interest of time, I will punt down for later.",
        "createdAt" : "2017-11-17T10:53:43Z",
        "updatedAt" : "2017-11-22T01:22:10Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      }
    ],
    "commit" : "e489629895ffa82eb7cd8281f0a2b7e788a29812",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +15,19 @@*/\n\npackage csi\n\nimport ("
  },
  {
    "id" : "b40d5791-98ff-4035-8a76-d6091aa2dca8",
    "prId" : 54529,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/54529#pullrequestreview-78129444",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e651cdaf-cbc7-49db-be07-6a9dbb31dc87",
        "parentId" : null,
        "authorId" : "8e448017-7838-493d-a424-33cada0da657",
        "body" : "This check is very strict right now, put a TODO to make it more lenient (i.e. allow for version skew).",
        "createdAt" : "2017-11-21T05:51:39Z",
        "updatedAt" : "2017-11-22T01:22:10Z",
        "lastEditedBy" : "8e448017-7838-493d-a424-33cada0da657",
        "tags" : [
        ]
      },
      {
        "id" : "181ac6ee-b66c-4c55-8f07-9be77138f782",
        "parentId" : "e651cdaf-cbc7-49db-be07-6a9dbb31dc87",
        "authorId" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "body" : "Ok will do",
        "createdAt" : "2017-11-21T14:46:13Z",
        "updatedAt" : "2017-11-22T01:22:11Z",
        "lastEditedBy" : "54b8eb75-28dd-421d-a52b-63bf897147a9",
        "tags" : [
        ]
      }
    ],
    "commit" : "e489629895ffa82eb7cd8281f0a2b7e788a29812",
    "line" : 94,
    "diffHunk" : "@@ -1,1 +92,96 @@// This test should be done early during the storage operation flow to avoid\n// unnecessary calls later.\nfunc (c *csiDriverClient) AssertSupportedVersion(ctx grpctx.Context, ver *csipb.Version) error {\n\tif c.versionAsserted {\n\t\tif !c.versionSupported {"
  }
]