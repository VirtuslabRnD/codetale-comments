[
  {
    "id" : "fe579a73-3b33-4b70-babe-78b262106b7f",
    "prId" : 2161,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/2161#pullrequestreview-328491175",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1fd109a6-0228-48e1-ba7c-09272ecd28e8",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "Question, was there a reason not to use `TRAVIS_COMMIT_RANGE`? Sometimes we merge PRs into branches other than master (e.g. release branches like `branch-1.4`), so it might be safest to not assume that we should diff `master` & `HEAD` & use `TRAVIS_COMMIT_RANGE` instead.",
        "createdAt" : "2019-12-05T20:53:40Z",
        "updatedAt" : "2019-12-05T20:53:40Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      },
      {
        "id" : "a15b7986-2f8f-4a36-850f-a1749125ee11",
        "parentId" : "1fd109a6-0228-48e1-ba7c-09272ecd28e8",
        "authorId" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "body" : "Makes sense, though will have to use `${TRAVIS_COMMIT_RANGE/.../..}` instead according to [this Travis issue](https://github.com/travis-ci/travis-ci/issues/4596).",
        "createdAt" : "2019-12-06T21:37:57Z",
        "updatedAt" : "2019-12-06T21:37:57Z",
        "lastEditedBy" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "tags" : [
        ]
      },
      {
        "id" : "7f994ee6-2293-4570-9e1d-cccae128472a",
        "parentId" : "1fd109a6-0228-48e1-ba7c-09272ecd28e8",
        "authorId" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "body" : "There's also this issue posted by someone in the link:\r\n> Note: there's a further underlying problem here that crops up for long-lived feature branches not rebased onto master. Travis uses a shallow clone with a default depth of 50. If the shallow clone doesn't include the originating commit where the feature branch diverged, then `$TRAVIS_COMMIT_RANGE` will always include the full repository ancestry of the feature branch going back to the first commit. Both double dot and triple dot commit ranges are predicated on having the full repository ancestry.\r\n\r\nDo you think this would be an issue regarding our repository? This would mean that features branches with more than 50 commits would always trigger the nightly tests. The poster also posted the following workaround which we could put in our script:\r\n```\r\nbefore_script:\r\n  - OLDEST_SHARED=`git log --format=%H $TRAVIS_COMMIT_RANGE | tail -n1`\r\n  - OLDEST_COMMIT=`git log --format=%H | tail -n1`\r\n  - if [ $OLDEST_SHARED == $OLDEST_COMMIT ]; then git fetch --unshallow; fi\r\n```",
        "createdAt" : "2019-12-06T21:42:30Z",
        "updatedAt" : "2019-12-06T21:47:56Z",
        "lastEditedBy" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "tags" : [
        ]
      },
      {
        "id" : "4220192c-20c7-4c15-93a1-76ef5daee2ab",
        "parentId" : "1fd109a6-0228-48e1-ba7c-09272ecd28e8",
        "authorId" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "body" : "After offline discussion, we decided that using `master..HEAD` was ok for now since PRs for release branches are rare and it wouldn't hurt to run nightly tests for them. ",
        "createdAt" : "2019-12-06T22:26:01Z",
        "updatedAt" : "2019-12-06T22:26:01Z",
        "lastEditedBy" : "e71c4958-9dfb-45f1-bc0b-6dd7ac6aef54",
        "tags" : [
        ]
      }
    ],
    "commit" : "29a9c89f88d41232f994138ca7f169ffd8137fc9",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +16,20 @@        # CHANGED_FILES detects whether or not files related to the nightly build are changed.\n        # True is so that the command returns a 0 exit code whether or not CHANGED_FILES is empty.\n        - CHANGED_FILES=$(git diff --name-only master..HEAD | grep \"tests/examples\\|examples\") || true;\n        - if [[ \"$TRAVIS_EVENT_TYPE\" == \"cron\" || ! -z \"$CHANGED_FILES\" ]]; then\n            INSTALL_LARGE_PYTHON_DEPS=true source ./travis/install-common-deps.sh;"
  },
  {
    "id" : "337d92a1-00e6-4ea1-9371-43c61c64b503",
    "prId" : 1726,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1726#pullrequestreview-273531814",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3a43daf7-3dad-405e-b375-0465001f1181",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "Use double-quotes & backslashes to allow newlines in YAML value without them being converted to spaces, as per https://yaml-multiline.info/",
        "createdAt" : "2019-08-12T07:06:12Z",
        "updatedAt" : "2019-08-12T17:56:36Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      }
    ],
    "commit" : "4076ab72e4fa9e9e8d0a651a09760f302441c4dd",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +116,120 @@  email:\n    recipients:\n    - secure: \"UFN6LLWRASxILSKY/hD5ugxP78Bhuq58X4H0ar6BnNl6SS70bhJFbJFuvkWBoLHAhydV876h2nBZLfTUCvf3\\\n      RyOz4nvkGfRaFH3ZUnseSZSSXydFOixYjk+byDy7sjzjTKuqtQu2WKqZxT8cdtP2lWc7y/LPlLBR4cYKjQZZZWIGKef/Q\\\n      JuHp50HwLq3LKqAsg9EpukBqkfxncDItvr2Fis9krRgc288BZkwQh+G5S9WNFY1Bu7G60bzfbOJJYTV3TQPnPpaMh+IsG\\"
  },
  {
    "id" : "f6e52380-fd0f-4a30-9f39-66fddabcb8ee",
    "prId" : 1097,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/1097#pullrequestreview-224161564",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bde53fea-5c1e-4928-ac0d-d41feb6e2c09",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "These Python test steps have been moved into `./travis/run-small-python-tests.sh` & `./travis/run-large-python-tests.sh`",
        "createdAt" : "2019-04-09T01:53:20Z",
        "updatedAt" : "2019-04-30T01:37:37Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      }
    ],
    "commit" : "6c3e820d30b3a69c89e8b514bd8d6ba22aff2935",
    "line" : 105,
    "diffHunk" : "@@ -1,1 +79,83 @@    fi\n\nscript:\n  - if [[ \"$TRAVIS_BUILD_STAGE_NAME\" == \"Small\" ]]; then\n      ./travis/run-small-python-tests.sh && ./test-generate-protos.sh;"
  },
  {
    "id" : "7f693f47-d107-4b49-b638-876c4716b7fc",
    "prId" : 475,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/475#pullrequestreview-155309714",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae883f84-a3cd-4f16-a581-38f3e526ba24",
        "parentId" : null,
        "authorId" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "body" : "Moved invoking the linter earlier on so that we can detect build failures sooner (i.e. it's kinda annoying to go through the hassle of building the SageMaker docker container only for linter failures to fail the build)",
        "createdAt" : "2018-09-13T23:32:55Z",
        "updatedAt" : "2018-09-14T00:40:11Z",
        "lastEditedBy" : "bd3067fd-855b-4bd1-898d-ca29199fd092",
        "tags" : [
        ]
      }
    ],
    "commit" : "ddaf00410338b1fe7841f29f66434c8f170dded8",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +77,81 @@  - sudo unzip /travis-install/protoc.zip -d /usr\nscript:\n  - ./lint.sh\n  - sudo ./test-generate-protos.sh\n  - pip list"
  },
  {
    "id" : "c0ec90d5-d242-49e8-9e48-23ad11c6b925",
    "prId" : 298,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/298#pullrequestreview-146306633",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7d87cab6-4dae-42a8-920c-2725b916862e",
        "parentId" : null,
        "authorId" : "b2c1789f-eaaf-4ce0-9ad7-695c9467c3cc",
        "body" : "I moved the Python lint earlier here to make it fail faster",
        "createdAt" : "2018-08-14T17:36:25Z",
        "updatedAt" : "2018-08-14T17:36:25Z",
        "lastEditedBy" : "b2c1789f-eaaf-4ce0-9ad7-695c9467c3cc",
        "tags" : [
        ]
      },
      {
        "id" : "eea8af86-d3b1-4cc4-aca7-966185cd56fa",
        "parentId" : "7d87cab6-4dae-42a8-920c-2725b916862e",
        "authorId" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "body" : "Do you mean to run `lint.sh` before and after this?",
        "createdAt" : "2018-08-15T01:25:06Z",
        "updatedAt" : "2018-08-15T01:25:06Z",
        "lastEditedBy" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "tags" : [
        ]
      },
      {
        "id" : "34f592c2-ce75-41cc-b1a5-e784336fd347",
        "parentId" : "7d87cab6-4dae-42a8-920c-2725b916862e",
        "authorId" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "body" : "Ahh, one is cd'd. I see.",
        "createdAt" : "2018-08-15T01:26:13Z",
        "updatedAt" : "2018-08-15T01:26:13Z",
        "lastEditedBy" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "tags" : [
        ]
      }
    ],
    "commit" : "69b0be5bbecd8468f0b2e7224ed1c1a259793acd",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +47,51 @@  - mlflow sagemaker build-and-push-container --no-push --mlflow-home .\n  - ./lint.sh\n  - pytest --cov=mlflow --verbose --large\n  - cd mlflow/server/js\n  - npm i"
  }
]