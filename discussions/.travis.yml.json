[
  {
    "id" : "6d7e8fb6-6222-40b4-af17-58eb8b9230e7",
    "prId" : 3393,
    "prUrl" : "https://github.com/apache/airflow/pull/3393#pullrequestreview-148239179",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bd6b7a86-c348-46ba-a2b8-8cbbf1b23858",
        "parentId" : null,
        "authorId" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "body" : "One small nit, if we use the `docker` service on Travis, we get docker-compose for free: https://docs.travis-ci.com/user/docker/",
        "createdAt" : "2018-08-20T08:27:35Z",
        "updatedAt" : "2018-08-20T09:22:59Z",
        "lastEditedBy" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "tags" : [
        ]
      },
      {
        "id" : "87becb14-bd11-4246-943f-6a99e4cf0fd8",
        "parentId" : "bd6b7a86-c348-46ba-a2b8-8cbbf1b23858",
        "authorId" : "2aa388e9-6fe5-4c02-8af7-e8ebfa6408d5",
        "body" : "@Fokko Ah yeah, docker-compose. There's a reason for this. \r\n\r\nIn earlier versions of this PR, the build logs were massive, because, by default, docker-compose shows ascii progress bars when downloading docker images. These progress bars don't render properly in TravisCI (it becomes like 100 lines per progress bar). The only way to disable this is to [set the docker-compose log-level to `ERROR`](https://github.com/apache/incubator-airflow/pull/3393/files#diff-354f30a63fb0907d4ad57269548329e3R55).\r\n\r\nThis change was only added in docker-compose [1.20.0](https://github.com/docker/compose/blob/master/CHANGELOG.md#all-formats-1). The TravisCI version is very old (1.4 if I remember correctly).",
        "createdAt" : "2018-08-20T11:36:21Z",
        "updatedAt" : "2018-08-20T11:37:21Z",
        "lastEditedBy" : "2aa388e9-6fe5-4c02-8af7-e8ebfa6408d5",
        "tags" : [
        ]
      },
      {
        "id" : "39c14ba3-2e5b-4eae-a883-e511c3cd6ddb",
        "parentId" : "bd6b7a86-c348-46ba-a2b8-8cbbf1b23858",
        "authorId" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "body" : "üëç Makes sense to me",
        "createdAt" : "2018-08-21T20:33:47Z",
        "updatedAt" : "2018-08-21T20:33:48Z",
        "lastEditedBy" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "tags" : [
        ]
      }
    ],
    "commit" : "4c60adbe083c832145b4c7b2d0e123a8001342bc",
    "line" : 90,
    "diffHunk" : "@@ -1,1 +46,50 @@install:\n  # Use recent docker-compose version\n  - sudo rm /usr/local/bin/docker-compose\n  - curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname -s`-`uname -m` > docker-compose\n  - chmod +x docker-compose"
  },
  {
    "id" : "5d25cb9d-cb6c-47f2-bc2f-9fbf110a12a6",
    "prId" : 3393,
    "prUrl" : "https://github.com/apache/airflow/pull/3393#pullrequestreview-150410854",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7800989d-58a5-48eb-89a1-fc543bae7414",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "@gerardo I am currently updating the Airflow CI to point to 3.6 instead of python 3.5 \r\n\r\nBut the way Python Version is passed using this environment variable, can you help me figure out how this can be achieved?",
        "createdAt" : "2018-08-28T18:55:16Z",
        "updatedAt" : "2018-08-28T18:55:16Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "c2be5501-6bc8-47d8-b475-9a17f29c7c74",
        "parentId" : "7800989d-58a5-48eb-89a1-fc543bae7414",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Also, we need to keep in mind that in future we would need to test both Python3.6 and Python3.7",
        "createdAt" : "2018-08-28T18:56:03Z",
        "updatedAt" : "2018-08-28T18:56:04Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "17ab7cc8-739c-41ef-b3fd-a5866ab4e91f",
        "parentId" : "7800989d-58a5-48eb-89a1-fc543bae7414",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "https://github.com/apache/incubator-airflow/pull/3815",
        "createdAt" : "2018-08-28T19:45:13Z",
        "updatedAt" : "2018-08-28T19:45:13Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "dff2844c-0c34-472b-925a-ad336ba72265",
        "parentId" : "7800989d-58a5-48eb-89a1-fc543bae7414",
        "authorId" : "2aa388e9-6fe5-4c02-8af7-e8ebfa6408d5",
        "body" : "@kaxil give we're using tox for this, it should be a matter of just adding/updating the runtimes inside the tox file [here](https://github.com/apache/incubator-airflow/blob/master/tox.ini#L20) and [here](https://github.com/apache/incubator-airflow/blob/master/tox.ini#L40) and then pass the desired python version through the Travis script as we do now.\r\n\r\nThere's an extra check inside the [run-ci script](https://github.com/apache/incubator-airflow/blob/master/scripts/ci/run-ci.sh#L29) to use the correct pip binary (pip vs pip3), but this shouldn't be affected, as that only cares about the mayor version.",
        "createdAt" : "2018-08-29T05:56:22Z",
        "updatedAt" : "2018-08-29T05:56:22Z",
        "lastEditedBy" : "2aa388e9-6fe5-4c02-8af7-e8ebfa6408d5",
        "tags" : [
        ]
      }
    ],
    "commit" : "4c60adbe083c832145b4c7b2d0e123a8001342bc",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +30,34 @@    - TOX_ENV=py27-backend_sqlite\n    - TOX_ENV=py27-backend_postgres\n    - TOX_ENV=py35-backend_mysql PYTHON_VERSION=3\n    - TOX_ENV=py35-backend_sqlite PYTHON_VERSION=3\n    - TOX_ENV=py35-backend_postgres PYTHON_VERSION=3"
  },
  {
    "id" : "be867905-a545-4de9-9b84-3acb0ebc08dc",
    "prId" : 4732,
    "prUrl" : "https://github.com/apache/airflow/pull/4732#pullrequestreview-212654468",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "13455864-9ece-4133-9b01-f23c0edbebfc",
        "parentId" : null,
        "authorId" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "body" : "We're already running xenial, right?",
        "createdAt" : "2019-03-10T13:23:45Z",
        "updatedAt" : "2019-03-11T17:30:07Z",
        "lastEditedBy" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "tags" : [
        ]
      },
      {
        "id" : "ec96c85a-df39-439b-a7aa-e588285d93a8",
        "parentId" : "13455864-9ece-4133-9b01-f23c0edbebfc",
        "authorId" : "9a5e8348-c065-464c-a412-d4070cbed6ea",
        "body" : "Yep, looks like that change got through after I submitted this. I just updated this patch so that it just drops the deprecated `sudo` flag from travis.",
        "createdAt" : "2019-03-11T04:01:36Z",
        "updatedAt" : "2019-03-11T17:30:07Z",
        "lastEditedBy" : "9a5e8348-c065-464c-a412-d4070cbed6ea",
        "tags" : [
        ]
      }
    ],
    "commit" : "af4c0e78510d51de88b90bf263433ae1b7b70703",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +17,21 @@# under the License.\n#\ndist: xenial\nlanguage: python\npython:"
  },
  {
    "id" : "457185ad-2893-4499-aff8-422f03bb0ba2",
    "prId" : 5840,
    "prUrl" : "https://github.com/apache/airflow/pull/5840#pullrequestreview-276239304",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "70690ef0-9f75-45e8-9131-ff01cd9a8dfe",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Would not that make debugging failures difficult?",
        "createdAt" : "2019-08-16T15:05:52Z",
        "updatedAt" : "2019-08-16T15:05:52Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "4f1e7a81-6036-4e68-b415-5c87ff3cf9f4",
        "parentId" : "70690ef0-9f75-45e8-9131-ff01cd9a8dfe",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "It's mostly for diagnostic messages that were useful at the beginning to see if everything is fine. It's always the question of noise vs. debuggability :(. \r\n\r\nI think I wanted to see the output and decide if it is good to merge this one. I think also when we move to GitLab we will be able to send the verbose output to files and store them as artifacts in GitLab. It's all prepared to do so. ",
        "createdAt" : "2019-08-16T16:00:58Z",
        "updatedAt" : "2019-08-16T16:00:58Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "93f877c5-ecfc-48c7-a618-15d750a5e36f",
        "parentId" : "70690ef0-9f75-45e8-9131-ff01cd9a8dfe",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "@kaxil -> take a look at the output. It's fine. We are still using `set +x` in the actual tests so we have very detailed information but in static check SILENT flag will make it much nicer to see the result of static checks directly. It looks good for me now to merge it.",
        "createdAt" : "2019-08-17T03:20:28Z",
        "updatedAt" : "2019-08-17T03:20:28Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "3d21c333-aba4-49fc-ac89-481219c095c2",
        "parentId" : "70690ef0-9f75-45e8-9131-ff01cd9a8dfe",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Yeah. It gets really clumsy without it (we see all files that are checked) so we better merge it. ",
        "createdAt" : "2019-08-17T14:27:53Z",
        "updatedAt" : "2019-08-17T14:27:58Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "1a72216f-756f-42b2-91fa-6a532191e355",
        "parentId" : "70690ef0-9f75-45e8-9131-ff01cd9a8dfe",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "üëç",
        "createdAt" : "2019-08-17T14:36:07Z",
        "updatedAt" : "2019-08-17T14:36:07Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      }
    ],
    "commit" : "63369b9c803ea98aacc7948899865fb968137068",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +23,27 @@    - BUILD_ID=${TRAVIS_BUILD_ID}\n    - AIRFLOW_CONTAINER_MOUNT_HOST_VOLUMES=\"false\"\n    - AIRFLOW_CI_SILENT=\"true\"\n    - CI=\"true\"\npython: \"3.6\""
  },
  {
    "id" : "a42c8e6f-bcab-491b-ad8f-e2e027d275bc",
    "prId" : 7832,
    "prUrl" : "https://github.com/apache/airflow/pull/7832#pullrequestreview-383446665",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27ff6d20-c28f-4d7c-a1f6-041531463ba0",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Should we build the image every time? ",
        "createdAt" : "2020-03-29T15:20:52Z",
        "updatedAt" : "2020-04-02T15:48:31Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "846d3121-df8b-453b-ae61-d3be3c72f663",
        "parentId" : "27ff6d20-c28f-4d7c-a1f6-041531463ba0",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Yes. The old rule is that the only way you can test if something works is to run it often. I believe in running everything we want to keep working via CI environment. This run will be rather fast usually (2-3 minutes) as it will be using cache once we push the image to dockerhub.",
        "createdAt" : "2020-03-29T19:36:20Z",
        "updatedAt" : "2020-04-02T15:48:31Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "314f91951dac0478daa4f1cce4d3275954fc44a1",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +164,168 @@      script: ./scripts/ci/ci_build_production_image.sh\n      before_install:\n        - echo\ninstall: skip\nbefore_install:"
  },
  {
    "id" : "6205047e-d681-43c3-b643-7023c0a1d3d1",
    "prId" : 7841,
    "prUrl" : "https://github.com/apache/airflow/pull/7841#pullrequestreview-382712248",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b4e6ee3-b7e9-4935-bc6d-2683ecf923a6",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Why such strange name?",
        "createdAt" : "2020-03-25T08:02:18Z",
        "updatedAt" : "2020-03-27T12:06:19Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "3e546dde-076e-4fc0-b831-784b0985d9c8",
        "parentId" : "3b4e6ee3-b7e9-4935-bc6d-2683ecf923a6",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "It's not strange. It's MAJOR+MINOR version. PYTHON_VERSION is by default set in this image to 3.6.9 (so full PYTHON_VERSION) and what we really need here just MAJOR/MINOR.",
        "createdAt" : "2020-03-27T09:50:19Z",
        "updatedAt" : "2020-03-27T12:06:19Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "630e0607-6cbb-4889-93dc-540fc594b0c2",
        "parentId" : "3b4e6ee3-b7e9-4935-bc6d-2683ecf923a6",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Are you OK with it @turbaszek ?",
        "createdAt" : "2020-03-27T09:50:31Z",
        "updatedAt" : "2020-03-27T12:06:19Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "524539857359ea8699d81a359fffc95e1e96b181",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +42,46 @@      script: ./scripts/ci/ci_run_all_static_checks.sh\n      env: >-\n        PYTHON_MAJOR_MINOR_VERSION=3.6\n        AIRFLOW_MOUNT_SOURCE_DIR_FOR_STATIC_CHECKS=\"true\"\n        SKIP=pylint-tests"
  },
  {
    "id" : "88abbafa-048d-4bdd-8238-81612f45492c",
    "prId" : 7845,
    "prUrl" : "https://github.com/apache/airflow/pull/7845#pullrequestreview-379759221",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "012998b3-b2d0-4598-a32a-a2545d77d4a5",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "sry, what are we skipping here?",
        "createdAt" : "2020-03-23T19:24:26Z",
        "updatedAt" : "2020-03-23T19:24:27Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "3cdd3591-9939-4015-9082-cd6350a83099",
        "parentId" : "012998b3-b2d0-4598-a32a-a2545d77d4a5",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Sorry that was quick. I had no time for explanation. I realized our build started to take long time.... and it turned out Travis is trying to be smart and when it sees requirements.txt it tries to install it automatically in the host...\r\n\r\nThat's what we are skipping :).",
        "createdAt" : "2020-03-23T19:30:04Z",
        "updatedAt" : "2020-03-23T19:30:04Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "b574c3bb-00b4-4e37-a2e6-cff6490562e9",
        "parentId" : "012998b3-b2d0-4598-a32a-a2545d77d4a5",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "got it",
        "createdAt" : "2020-03-23T19:32:11Z",
        "updatedAt" : "2020-03-23T19:32:11Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "dd4762dd-b099-40c2-8af9-0d4ef2ab52fd",
        "parentId" : "012998b3-b2d0-4598-a32a-a2545d77d4a5",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : ":man_facepalming: ",
        "createdAt" : "2020-03-23T19:34:54Z",
        "updatedAt" : "2020-03-23T19:34:55Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "85e631509bf7af61b3549526eb06ca0145bd44bb",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +150,154 @@      stage: test\n      script: ./scripts/ci/ci_prepare_and_test_backport_packages.sh\ninstall: skip\nbefore_install:\n  - ./scripts/ci/ci_before_install.sh"
  }
]