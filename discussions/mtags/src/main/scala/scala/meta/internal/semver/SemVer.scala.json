[
  {
    "id" : "2f11fe14-8c7f-49f1-89b4-3bcfc2e700e1",
    "prId" : 2264,
    "prUrl" : "https://github.com/scalameta/metals/pull/2264#pullrequestreview-540131103",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cc667445-a128-4eab-8433-12b4c86c9928",
        "parentId" : null,
        "authorId" : "9cdd9387-08db-4d42-9b6d-ceaa233cadd5",
        "body" : "Sorry, I think I gave a wrong hint...\r\nHow about comparing versions with different pre-release versions? The following test should pass, but I guess it fails now.\r\n \r\n```\r\n    assert(\r\n      SemVer.isLaterScalaVersion(\"3.0.0-M1\", \"3.0.0-RC1\")\r\n    )\r\n```\r\n\r\nWe have to compare `releaseCandidate` and `milestone` simultaneously.\r\nOr store the label (like `RC` or `M` part) to `Version` and compare those labels by ASCII sort order (this would be a more generic implementation).\r\n\r\n```scala\r\n  case class Version(\r\n      major: Int,\r\n      minor: Int,\r\n      patch: Int,\r\n      preRelease: Option[(String, Int)], // something like this?\r\n  ) \r\n```\r\n\r\n> Identifiers with letters or hyphens are compared lexically in ASCII sort order.\r\n> https://semver.org/#spec-item-11",
        "createdAt" : "2020-11-27T12:15:02Z",
        "updatedAt" : "2020-11-27T14:42:44Z",
        "lastEditedBy" : "9cdd9387-08db-4d42-9b6d-ceaa233cadd5",
        "tags" : [
        ]
      },
      {
        "id" : "6db8a812-99bb-4a9f-9542-a01b742049dd",
        "parentId" : "cc667445-a128-4eab-8433-12b4c86c9928",
        "authorId" : "f252b48f-54a9-478d-8bbb-85f01e5c28e7",
        "body" : "ach, righ!. Every time I think I got it right, there are still edge cases. I will add tests for that too and try figure it out. Good catch.",
        "createdAt" : "2020-11-27T13:36:32Z",
        "updatedAt" : "2020-11-27T14:42:44Z",
        "lastEditedBy" : "f252b48f-54a9-478d-8bbb-85f01e5c28e7",
        "tags" : [
        ]
      },
      {
        "id" : "ed511625-ea1d-4695-adea-eba03f29e761",
        "parentId" : "cc667445-a128-4eab-8433-12b4c86c9928",
        "authorId" : "f252b48f-54a9-478d-8bbb-85f01e5c28e7",
        "body" : "Added additional check:\r\n```scala\r\n      // 3.0.0-RC1 > 3.0.0-M1\r\n      this.releaseCandidate.isDefined && that.milestone.isDefined ||\r\n```",
        "createdAt" : "2020-11-27T14:43:06Z",
        "updatedAt" : "2020-11-27T14:43:06Z",
        "lastEditedBy" : "f252b48f-54a9-478d-8bbb-85f01e5c28e7",
        "tags" : [
        ]
      },
      {
        "id" : "c77bbb50-55d1-4777-a9fc-a89ed7556f64",
        "parentId" : "cc667445-a128-4eab-8433-12b4c86c9928",
        "authorId" : "84490516-a7af-4f7f-9947-360c279c4400",
        "body" : "lol so many checks. Great job on figuring these out.",
        "createdAt" : "2020-11-27T18:08:38Z",
        "updatedAt" : "2020-11-27T18:09:11Z",
        "lastEditedBy" : "84490516-a7af-4f7f-9947-360c279c4400",
        "tags" : [
        ]
      },
      {
        "id" : "1f948ad2-896e-43a3-807f-75614ada1398",
        "parentId" : "cc667445-a128-4eab-8433-12b4c86c9928",
        "authorId" : "f252b48f-54a9-478d-8bbb-85f01e5c28e7",
        "body" : "Yeah, that's why I was not keen on options at first. But I think with the comments it's not that bad. And I added a lot of tests :sweat_smile: ",
        "createdAt" : "2020-11-27T18:20:08Z",
        "updatedAt" : "2020-11-27T18:20:08Z",
        "lastEditedBy" : "f252b48f-54a9-478d-8bbb-85f01e5c28e7",
        "tags" : [
        ]
      }
    ],
    "commit" : "ebff9647fa554cc267882722df8ff7f1a60d894e",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +23,27 @@      comparePreRelease(that, (v: Version) => v.releaseCandidate) ||\n      // 3.0.0-M2 > 3.0.0-M1\n      comparePreRelease(that, (v: Version) => v.milestone)\n\n    }"
  },
  {
    "id" : "f4414029-496c-4254-8b32-59caed2cd721",
    "prId" : 1584,
    "prUrl" : "https://github.com/scalameta/metals/pull/1584#pullrequestreview-387699789",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "90e530e4-c0e1-44fe-920c-77878a13310b",
        "parentId" : null,
        "authorId" : "d66a6438-cedf-4b6c-bfdf-ceff0a38786d",
        "body" : "I refactored this to support a slightly more general use case.\r\n\r\nWe still compare versions only by x.y.z, ignoring any other following modifier. This has some edge cases such as `1.0.0+1` being equal to `1.0.0-SNAPSHOT` and `1.0.0+56-abcdefg`, but it still covers all our uses cases for now",
        "createdAt" : "2020-04-04T13:33:29Z",
        "updatedAt" : "2020-04-08T10:30:38Z",
        "lastEditedBy" : "d66a6438-cedf-4b6c-bfdf-ceff0a38786d",
        "tags" : [
        ]
      }
    ],
    "commit" : "ba70749edb494f6da26064369a549085fcb87161",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +24,28 @@  def isCompatibleVersion(minimumVersion: String, version: String): Boolean = {\n    Version.fromString(version) >= Version.fromString(minimumVersion)\n  }\n}"
  },
  {
    "id" : "da1b4c65-8660-4dc9-9172-7b5961a0952d",
    "prId" : 1256,
    "prUrl" : "https://github.com/scalameta/metals/pull/1256#pullrequestreview-338623715",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f292824e-43b1-4e1e-8815-db71521f154a",
        "parentId" : null,
        "authorId" : "f252b48f-54a9-478d-8bbb-85f01e5c28e7",
        "body" : "Fixed it to work with `1.4.0-RC` etc. and snapshot versions.",
        "createdAt" : "2020-01-06T12:46:54Z",
        "updatedAt" : "2020-01-06T12:46:54Z",
        "lastEditedBy" : "f252b48f-54a9-478d-8bbb-85f01e5c28e7",
        "tags" : [
        ]
      }
    ],
    "commit" : "5221982e1605895d70c5abd22174e1406e1e0efb",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +6,10 @@\n    def splitVersion(v: String) =\n      v.replaceAll(\"(-|\\\\+).+$\", \"\").split('.')\n\n    (splitVersion(minimumVersion), splitVersion(version)) match {"
  }
]