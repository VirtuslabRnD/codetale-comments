[
  {
    "id" : "bd304e8a-78db-4cb0-9333-e379e7bf70f1",
    "prId" : 8265,
    "prUrl" : "https://github.com/apache/airflow/pull/8265#pullrequestreview-423454895",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2cb64c67-7220-4ecf-bff0-215fde2fbbc6",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Why we rename this test file?",
        "createdAt" : "2020-06-03T09:05:50Z",
        "updatedAt" : "2020-06-03T17:43:26Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "f0cbbd85-8509-4140-94f1-c48dd93c39d5",
        "parentId" : "2cb64c67-7220-4ecf-bff0-215fde2fbbc6",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "We moved it. Now all tests that require KinD cluster are not run in CI image. They are run externally in virtualenv created on host and the core \"airflow\" there is deployed to the Kind Cluster in the form of slightly modified Production Image. \r\n\r\nThe unit tests there are literally just \"clients\" to run the actual Pods and Dags in the Airflow installed in the cluster so we do not need the whole CI environment for those tests (and makes it also faster and easier to run on the CI. \r\n\r\nThis way you only need to run `./breeze kind-cluster deploy` to deploy Airflow to Kind Cluster (using production image as a base). I tried to describe it in the TESTING.rst but I will add some more information and possibly a chart showing the architecture.",
        "createdAt" : "2020-06-03T11:11:32Z",
        "updatedAt" : "2020-06-03T17:43:26Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "c30513b9-b5cb-450d-a251-71a13ef88f81",
        "parentId" : "2cb64c67-7220-4ecf-bff0-215fde2fbbc6",
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Hm, still not sure if we should keep tests in two separate directories. On the other hand, I know projects that have e2e tests separately so it can make sense...",
        "createdAt" : "2020-06-03T11:16:23Z",
        "updatedAt" : "2020-06-03T17:43:26Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "e5f24dc4-ae57-4079-8fd0-5ce0bd503b52",
        "parentId" : "2cb64c67-7220-4ecf-bff0-215fde2fbbc6",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Yeah. I thouhgt about using markers, but I think those are very special kind of tests -not even system tests. They literally expect Airflow/Kubernetes to be running elsewhere.",
        "createdAt" : "2020-06-03T11:20:30Z",
        "updatedAt" : "2020-06-03T17:43:26Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "b7ab2df048187d91d334b2331b7687696202c16b",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +18,22 @@import re\nimport time\nimport unittest\nfrom subprocess import check_call, check_output\n"
  }
]