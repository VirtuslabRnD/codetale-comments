[
  {
    "id" : "a3b9ed89-18eb-4d8f-8277-5821acb1f11a",
    "prId" : 17824,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/17824#pullrequestreview-434365961",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8d0e1c7d-eaea-4aea-9938-bb35fad89e2b",
        "parentId" : null,
        "authorId" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "body" : "I think we should open the business hour for online agents only, am I right?\r\nLet's say a big company has 3k agents, but only 10 are online, it doesn't make sense to open the business hours for offline agents, right?\r\n",
        "createdAt" : "2020-06-19T22:23:50Z",
        "updatedAt" : "2020-06-21T02:22:01Z",
        "lastEditedBy" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "tags" : [
        ]
      }
    ],
    "commit" : "b5f3cc8614208cf6979b1ef9448845bc5c4e863c",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +303,307 @@\topenAgentsBusinessHours(businessHourIds) {\n\t\tconst query = {\n\t\t\troles: 'livechat-agent',\n\t\t};\n"
  },
  {
    "id" : "f0217c36-794f-4562-b41e-df3b5d0816cf",
    "prId" : 17824,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/17824#pullrequestreview-434365961",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "69823589-58cf-45aa-845f-b67d96e3cde5",
        "parentId" : null,
        "authorId" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "body" : "I think we should close the business hour for online agents only, am I right?\r\nLet's say a big company has 3k agents, but only 10 are online, it doesn't make sense to close the business hours for offline agents, right?\r\n",
        "createdAt" : "2020-06-19T22:24:07Z",
        "updatedAt" : "2020-06-21T02:22:01Z",
        "lastEditedBy" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "tags" : [
        ]
      }
    ],
    "commit" : "b5f3cc8614208cf6979b1ef9448845bc5c4e863c",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +318,322 @@\t}\n\n\tcloseAgentsBusinessHours(businessHourIds) {\n\t\tconst query = {\n\t\t\troles: 'livechat-agent',"
  },
  {
    "id" : "2eb45de1-542c-47be-891f-b1fabadd6315",
    "prId" : 17824,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/17824#pullrequestreview-434365961",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "56e118ee-c678-4737-8c21-d86fd9eb8021",
        "parentId" : null,
        "authorId" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "body" : "Maybe only update online agents, am I right?",
        "createdAt" : "2020-06-19T22:24:41Z",
        "updatedAt" : "2020-06-21T02:22:01Z",
        "lastEditedBy" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "tags" : [
        ]
      }
    ],
    "commit" : "b5f3cc8614208cf6979b1ef9448845bc5c4e863c",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +332,336 @@\t}\n\n\tupdateLivechatStatusBasedOnBusinessHours() {\n\t\tconst query = {\n\t\t\t$or: [{ openBusinessHours: { $exists: false } }, { openBusinessHours: { $size: 0 } }],"
  }
]