[
  {
    "id" : "b3b9d5b3-cd9c-4276-bf6f-ddfbc5f9e318",
    "prId" : 22188,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/22188#pullrequestreview-672496687",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "43cfe16c-f074-4c68-919c-3ab6e996da12",
        "parentId" : null,
        "authorId" : "34fde88b-e8d3-4125-af3a-0d4cc8bd83a8",
        "body" : "I remember other `get` queries rely on `teamMain` to not exists on rooms which are not the main. Can you verify if this change would affect something else? \r\n",
        "createdAt" : "2021-05-28T16:33:12Z",
        "updatedAt" : "2021-05-28T17:54:15Z",
        "lastEditedBy" : "34fde88b-e8d3-4125-af3a-0d4cc8bd83a8",
        "tags" : [
        ]
      },
      {
        "id" : "5f582d30-5d57-4bae-af83-6a0980ec4e16",
        "parentId" : "43cfe16c-f074-4c68-919c-3ab6e996da12",
        "authorId" : "300e6b86-7e45-416a-b277-55c605417b9b",
        "body" : "`unsetTeamIdOfRooms` is only called by `teams.delete` and now by the new `teams.convertToChannel` endpoint. This change just assures that none of the team's rooms are going to remain as its main channel after it is deleted or converted to a channel.\r\n\r\nSo in practical terms, when a team is being **deleted** this new line isn't going to have any effects (since the teamMain must be deleted within the team). And when a team is being **converted** to a channel, it just assures that its main channel is not going to remain as the teamMain of a nonexistent team.\r\n\r\nThen I think this wouldn't affect anything else but these two endpoints ðŸ™‚ ",
        "createdAt" : "2021-05-31T18:54:27Z",
        "updatedAt" : "2021-05-31T18:54:27Z",
        "lastEditedBy" : "300e6b86-7e45-416a-b277-55c605417b9b",
        "tags" : [
        ]
      }
    ],
    "commit" : "76fee2f75b97ac5b75f5514bb17a038341f3826b",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +208,212 @@\t\t\t\tteamId: '',\n\t\t\t\tteamDefault: '',\n\t\t\t\tteamMain: '',\n\t\t\t},\n\t\t};"
  },
  {
    "id" : "f11551c8-4ad3-4ee9-8a1e-38c6e4afc383",
    "prId" : 21327,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/21327#pullrequestreview-623284622",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aae79d2a-180c-4d65-b368-d25a8aecb31d",
        "parentId" : null,
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "please move `...query` one line up, so we can make sure the `query` doesn't override our `teamId` filter",
        "createdAt" : "2021-03-29T14:27:56Z",
        "updatedAt" : "2021-03-29T14:52:43Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      }
    ],
    "commit" : "8736322b7fdeeb2211d08f39f504788c321e05af",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +112,116 @@\tfindByTeamId(teamId, options = {}, query = {}) {\n\t\tconst myQuery = {\n\t\t\t...query,\n\t\t\tteamId,\n\t\t\tteamMain: {"
  }
]