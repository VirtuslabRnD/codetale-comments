[
  {
    "id" : "2d7d2162-5e82-458e-8ea5-97a442d1beb7",
    "prId" : 15512,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/15512#pullrequestreview-308058866",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "796c0231-29b8-4a10-9026-4e2a1c37bd15",
        "parentId" : null,
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "either remove the `allowed` here or remove it from the `if` below\r\n```suggestion\r\n\tconst deleteOwn = uid === userId && hasPermission('delete-own-message');\r\n```",
        "createdAt" : "2019-10-28T18:18:07Z",
        "updatedAt" : "2019-10-28T18:21:27Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      },
      {
        "id" : "6bb05247-be90-4428-b2c1-545da385f49b",
        "parentId" : "796c0231-29b8-4a10-9026-4e2a1c37bd15",
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "I'm skipping one hasPermission, if you are allowed any messages you are already allowed to edit your own messages... we save 3~4 finds on the database...",
        "createdAt" : "2019-10-28T18:26:29Z",
        "updatedAt" : "2019-10-28T18:26:30Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      }
    ],
    "commit" : "3ea17366cd6f460ddf0a1678b35825719639ad43",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +20,24 @@\tconst allowed = hasPermission('delete-message', rid);\n\n\tconst deleteOwn = allowed || (uid === userId && hasPermission('delete-own-message'));\n\tif (!allowed && !deleteOwn) {\n\t\treturn false;"
  }
]