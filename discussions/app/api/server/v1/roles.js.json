[
  {
    "id" : "e8f7a4d9-5744-47ea-9976-c6b1d6dcecff",
    "prId" : 22279,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/22279#pullrequestreview-684327778",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "79ca3390-6a94-4fe4-967f-2cca959d2333",
        "parentId" : null,
        "authorId" : "ee641223-e33e-44d0-b778-4ca93f51e302",
        "body" : "`roleData.mandatory2fa` needs to be declared on the check's schema for it to be a valid param (first line of the method).",
        "createdAt" : "2021-06-08T04:38:38Z",
        "updatedAt" : "2021-06-08T04:42:16Z",
        "lastEditedBy" : "ee641223-e33e-44d0-b778-4ca93f51e302",
        "tags" : [
        ]
      },
      {
        "id" : "7ae864c0-8de9-41b7-bb1a-3674b97952b5",
        "parentId" : "79ca3390-6a94-4fe4-967f-2cca959d2333",
        "authorId" : "ee641223-e33e-44d0-b778-4ca93f51e302",
        "body" : "You're still using a param here that the endpoint won't accept (mandatory2fa). ",
        "createdAt" : "2021-06-15T17:59:33Z",
        "updatedAt" : "2021-06-15T18:01:04Z",
        "lastEditedBy" : "ee641223-e33e-44d0-b778-4ca93f51e302",
        "tags" : [
        ]
      }
    ],
    "commit" : "5160d5438107d98a60d15ad496c144a668ce281b",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +61,65 @@\t\t}\n\n\t\tconst roleId = Roles.createWithRandomId(roleData.name, roleData.scope, roleData.description, false, roleData.mandatory2fa);\n\n\t\tif (settings.get('UI_DisplayRoles')) {"
  },
  {
    "id" : "10f13d53-8492-4801-b823-d82edc7c830a",
    "prId" : 22279,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/22279#pullrequestreview-678582399",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ea29ad3a-b630-4f0b-80c1-7e46e43134cf",
        "parentId" : null,
        "authorId" : "ee641223-e33e-44d0-b778-4ca93f51e302",
        "body" : "no option to update the `mandatory2fa` attribute?",
        "createdAt" : "2021-06-08T04:39:13Z",
        "updatedAt" : "2021-06-08T04:42:16Z",
        "lastEditedBy" : "ee641223-e33e-44d0-b778-4ca93f51e302",
        "tags" : [
        ]
      },
      {
        "id" : "dea4c248-064f-4f33-9a06-7e45155f3a1d",
        "parentId" : "ea29ad3a-b630-4f0b-80c1-7e46e43134cf",
        "authorId" : "1904127a-988f-4340-a923-cec022c3681b",
        "body" : "I thought the `mandatory2FA` should not be updated by the user via the API as the `roles.create` also doesn't have this parameter, my bad! I'll fix it, thanks for noticing.",
        "createdAt" : "2021-06-08T14:18:11Z",
        "updatedAt" : "2021-06-08T14:18:11Z",
        "lastEditedBy" : "1904127a-988f-4340-a923-cec022c3681b",
        "tags" : [
        ]
      }
    ],
    "commit" : "5160d5438107d98a60d15ad496c144a668ce281b",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +137,141 @@\t\t});\n\n\t\tconst roleData = {\n\t\t\troleId: this.bodyParams.roleId,\n\t\t\tname: this.bodyParams.name,"
  },
  {
    "id" : "33b2d225-86be-439d-b9e9-8c34d9dcfa83",
    "prId" : 22279,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/22279#pullrequestreview-678078963",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f417a682-b36e-41a0-bf06-54fefa89e1fa",
        "parentId" : null,
        "authorId" : "ee641223-e33e-44d0-b778-4ca93f51e302",
        "body" : "the update should also throw an error if the user is trying to modify a protected role.",
        "createdAt" : "2021-06-08T04:41:56Z",
        "updatedAt" : "2021-06-08T04:42:16Z",
        "lastEditedBy" : "ee641223-e33e-44d0-b778-4ca93f51e302",
        "tags" : [
        ]
      }
    ],
    "commit" : "5160d5438107d98a60d15ad496c144a668ce281b",
    "line" : 81,
    "diffHunk" : "@@ -1,1 +150,154 @@\t\t\tthrow new Meteor.Error('error-invalid-roleId', 'This role does not exist');\n\t\t}\n\n\t\tif (role.protected) {\n\t\t\tthrow new Meteor.Error('error-role-protected', 'Role is protected');"
  }
]