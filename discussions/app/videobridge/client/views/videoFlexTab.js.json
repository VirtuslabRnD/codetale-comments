[
  {
    "id" : "149ea93f-2f8f-4f1f-8329-87ffa42039b1",
    "prId" : 17481,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/17481#pullrequestreview-470669574",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d734c140-ee74-4289-a9d2-40fc221b467f",
        "parentId" : null,
        "authorId" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "body" : "isn't this backwards?  If the setting is enabled you want to hash right? ",
        "createdAt" : "2020-06-30T22:20:29Z",
        "updatedAt" : "2020-08-03T14:19:40Z",
        "lastEditedBy" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "tags" : [
        ]
      },
      {
        "id" : "ccf61edc-c455-4efa-8501-6560531ebada",
        "parentId" : "d734c140-ee74-4289-a9d2-40fc221b467f",
        "authorId" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "body" : "@geekgonecrazy If it's enabled, we want the hash yes; the hash is actually that `settings.get('uniqueID') + rid` so it's fine. ",
        "createdAt" : "2020-07-01T14:49:58Z",
        "updatedAt" : "2020-08-03T14:19:40Z",
        "lastEditedBy" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "tags" : [
        ]
      },
      {
        "id" : "1306b3bd-a92a-467d-b3b2-b4058207b93e",
        "parentId" : "d734c140-ee74-4289-a9d2-40fc221b467f",
        "authorId" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "body" : "Right.. but it’s working in reverse.  If hash set it’s not hashing.. and if hash is false then it is hashing.  ",
        "createdAt" : "2020-07-21T04:52:54Z",
        "updatedAt" : "2020-08-03T14:19:40Z",
        "lastEditedBy" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "tags" : [
        ]
      },
      {
        "id" : "d164413d-2177-4f58-8ed5-a684de638392",
        "parentId" : "d734c140-ee74-4289-a9d2-40fc221b467f",
        "authorId" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "body" : "@geekgonecrazy  No it's not working in reverse. As said, the hash is actually produced by this `settings.get('uniqueID') + rid`. Give it a try and you'll see.\r\nNonetheless it made me try it again just to make sure I was not going crazy and I noticed a bug introduced by https://github.com/RocketChat/Rocket.Chat/commit/7db530c259#diff-6056610957cb6ad7c1d79a04eb6fc424R133 : in case jwt isn't enabled it adds \"false\" at the end of the jitsi url (in place of `queryString`) so I added this commit https://github.com/RocketChat/Rocket.Chat/pull/17481/commits/437b5e83c8bb4d97a4e86c7ec5f512af3fe4c5fb to this PR in order to fix it. At least time was not wasted!",
        "createdAt" : "2020-07-23T13:08:50Z",
        "updatedAt" : "2020-08-03T14:19:40Z",
        "lastEditedBy" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "tags" : [
        ]
      },
      {
        "id" : "33f96e7f-5ad1-4dc0-8f8e-9600ea33cd98",
        "parentId" : "d734c140-ee74-4289-a9d2-40fc221b467f",
        "authorId" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "body" : "Meanwhile https://github.com/RocketChat/Rocket.Chat/pull/18430 fixed that `false` bug as well (using another way), my last commit was in conflict, so I rebased on top of `develop` and removed my last commit. Would be happy to get another review @geekgonecrazy  :) thank you!",
        "createdAt" : "2020-08-03T14:22:33Z",
        "updatedAt" : "2020-08-03T14:22:33Z",
        "lastEditedBy" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "tags" : [
        ]
      },
      {
        "id" : "fec09ffc-0f73-4da7-90f7-408c667c0084",
        "parentId" : "d734c140-ee74-4289-a9d2-40fc221b467f",
        "authorId" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "body" : "Please @geekgonecrazy or maybe @rodrigok ? or even @engelgabriel ? maybe one of you can review this little piece of code ? :) thank you so much!",
        "createdAt" : "2020-08-17T18:00:18Z",
        "updatedAt" : "2020-08-17T18:00:19Z",
        "lastEditedBy" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "tags" : [
        ]
      },
      {
        "id" : "8fe981bb-5d6e-45d5-9cdc-64263681d854",
        "parentId" : "d734c140-ee74-4289-a9d2-40fc221b467f",
        "authorId" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "body" : "Ah.. I think I misunderstood intent.  I thought this was making the feature more obscure but you are suggesting making an option to not obscure",
        "createdAt" : "2020-08-17T18:12:31Z",
        "updatedAt" : "2020-08-17T18:12:31Z",
        "lastEditedBy" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "tags" : [
        ]
      },
      {
        "id" : "da4b35db-6d04-415a-8f84-f018b5618240",
        "parentId" : "d734c140-ee74-4289-a9d2-40fc221b467f",
        "authorId" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "body" : "@geekgonecrazy  yes :) any blocker for approval ? :) ",
        "createdAt" : "2020-08-19T17:02:25Z",
        "updatedAt" : "2020-08-19T17:02:25Z",
        "lastEditedBy" : "fa94597c-ab01-455b-b8f1-99ec443562d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "01e0a087042aeb56f3ec2f0b4008407082a1a556",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +113,117 @@\t\t\tconst domain = settings.get('Jitsi_Domain');\n\t\t\tlet rname;\n\t\t\tif (settings.get('Jitsi_URL_Room_Hash')) {\n\t\t\t\trname = settings.get('uniqueID') + rid;\n\t\t\t} else {"
  },
  {
    "id" : "66e151f9-eb79-4770-9bb8-c1747ba5298d",
    "prId" : 16601,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/16601#pullrequestreview-398791424",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c3c84534-1592-4631-aa61-f43a8f617722",
        "parentId" : null,
        "authorId" : "30dbcbf1-44e7-451f-a44c-020b81236a16",
        "body" : "So if there's a bug somewhere in the interface that keeps triggering new Jitsi Video calls, we've now not fixed that issue but slowed it down?\r\n\r\nI'm automatically creating a new Jitsi video call every morning apparently and I have no idea why. Unsure about the RocketChat version we're running though, will have to ask about that.",
        "createdAt" : "2020-04-23T06:25:35Z",
        "updatedAt" : "2020-04-23T06:25:39Z",
        "lastEditedBy" : "30dbcbf1-44e7-451f-a44c-020b81236a16",
        "tags" : [
        ]
      }
    ],
    "commit" : "39993fb013c7c14cf57025cde64009d1f56a3b11",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +61,65 @@\t\t\tconst { jitsiTimeout } = Rooms.findOne({ _id: rid }, { fields: { jitsiTimeout: 1 }, reactive: false });\n\n\t\t\tif (jitsiTimeout && (TimeSync.serverTime(), - new Date(jitsiTimeout) + CONSTANTS.TIMEOUT < CONSTANTS.DEBOUNCE)) {\n\t\t\t\treturn;\n\t\t\t}"
  }
]