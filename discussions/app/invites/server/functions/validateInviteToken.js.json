[
  {
    "id" : "9a2317e4-aed0-48ba-86b0-11fa85a1ddaf",
    "prId" : 15933,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/15933#pullrequestreview-329846161",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "63c11e39-42e1-44dd-9fc5-fcd52368f8ee",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "Could return the room and the inviteData here and reuse it at `app/invites/server/functions/useInviteToken.js`",
        "createdAt" : "2019-12-10T12:50:24Z",
        "updatedAt" : "2019-12-21T21:41:38Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "70baff34-67e4-4c70-bd1a-be85c612c09b",
        "parentId" : "63c11e39-42e1-44dd-9fc5-fcd52368f8ee",
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "currently this function is used on the endpoint of the same same, I actually thinks it should be used more often (to validate the token everywhere) so instead of return a `{ valid: false }` object, this function could return a `boolean`..\r\n\r\nthe room and invite objects could be received via param.",
        "createdAt" : "2019-12-10T13:50:11Z",
        "updatedAt" : "2019-12-21T21:41:38Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      }
    ],
    "commit" : "307f0e18f9a7c586732a0210b8594c0476925320",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +29,33 @@\t\tinviteData,\n\t\troom,\n\t};\n};"
  },
  {
    "id" : "9f16262c-671a-467d-b940-ef15b0d2fad3",
    "prId" : 15933,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/15933#pullrequestreview-329822652",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a5f37091-f55a-47a2-b9ed-75c120b2c9a7",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "Shouldn't validate if the token expired already or exceeded the usage?",
        "createdAt" : "2019-12-10T13:13:33Z",
        "updatedAt" : "2019-12-21T21:41:38Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "307f0e18f9a7c586732a0210b8594c0476925320",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +12,16 @@\t\tthrow new Meteor.Error('error-invalid-token', 'The invite token is invalid.', { method: 'validateInviteToken', field: 'token' });\n\t}\n\n\tconst room = Rooms.findOneById(inviteData.rid, { fields: { _id: 1, name: 1, fname: 1, t: 1 } });\n\tif (!room) {"
  }
]