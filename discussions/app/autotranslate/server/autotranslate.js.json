[
  {
    "id" : "a583952f-94b4-46aa-8cac-75502ec11c3a",
    "prId" : 12174,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/12174#pullrequestreview-260991096",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fbac3cf7-351f-44c7-b3d7-c368694c7b1d",
        "parentId" : null,
        "authorId" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "body" : "```suggestion\r\n\r\n\t\t// Get Auto Translate Active flag\r\n```",
        "createdAt" : "2019-07-11T22:51:07Z",
        "updatedAt" : "2019-08-10T09:25:58Z",
        "lastEditedBy" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "tags" : [
        ]
      }
    ],
    "commit" : "d11b43c5aa8cf7818e3d0b3dfb30514d7095590c",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +61,65 @@\t\tthis.supportedLanguages = {};\n\n\t\t// Get Auto Translate Active flag\n\t\tsettings.get('AutoTranslate_Enabled', (key, value) => {\n\t\t\tthis.autoTranslateEnabled = value;"
  },
  {
    "id" : "1a924446-b70f-47ed-9482-c2880373e2f3",
    "prId" : 12174,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/12174#pullrequestreview-260991096",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "db551b19-ddba-4249-8145-bbefcc836567",
        "parentId" : null,
        "authorId" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "body" : "```suggestion\r\n\r\n\t\t/** Register the active service provider on the 'AfterSaveMessage' callback.\r\n```",
        "createdAt" : "2019-07-11T22:51:19Z",
        "updatedAt" : "2019-08-10T09:25:58Z",
        "lastEditedBy" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "tags" : [
        ]
      }
    ],
    "commit" : "d11b43c5aa8cf7818e3d0b3dfb30514d7095590c",
    "line" : 76,
    "diffHunk" : "@@ -1,1 +66,70 @@\t\t});\n\n\t\t/** Register the active service provider on the 'AfterSaveMessage' callback.\n\t\t *  So the registered provider will be invoked when a message is saved.\n\t\t *  All the other inactive service provider must be deactivated."
  },
  {
    "id" : "5e2c2230-5cef-4214-bcf8-580f25c2b384",
    "prId" : 12174,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/12174#pullrequestreview-260991096",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bea6e45b-7ab8-40ba-b851-df23dc4469f0",
        "parentId" : null,
        "authorId" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "body" : "```suggestion\r\n\r\n\t\t// Some parsers (e. g. Marked) wrap the complete message in a <p> - this is unnecessary and should be ignored with respect to translations\r\n```",
        "createdAt" : "2019-07-11T22:51:31Z",
        "updatedAt" : "2019-08-10T09:25:58Z",
        "lastEditedBy" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "tags" : [
        ]
      }
    ],
    "commit" : "d11b43c5aa8cf7818e3d0b3dfb30514d7095590c",
    "line" : 106,
    "diffHunk" : "@@ -1,1 +156,160 @@\t\tmessage = Markdown.parseMessageNotEscaped(message);\n\n\t\t// Some parsers (e. g. Marked) wrap the complete message in a <p> - this is unnecessary and should be ignored with respect to translations\n\t\tconst regexWrappedParagraph = new RegExp('^\\s*<p>|<\\/p>\\s*$', 'gm');\n\t\tmessage.msg = message.msg.replace(regexWrappedParagraph, '');"
  },
  {
    "id" : "ddb70c84-8778-4543-9836-b9b0a74dd416",
    "prId" : 12174,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/12174#pullrequestreview-260991096",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "05fc7336-bb4f-43bb-bbc3-c0e56cfa9e82",
        "parentId" : null,
        "authorId" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "body" : "```suggestion\r\n\r\n\t\t\t\t\tconst translations = this._translateMessage(targetMessage, targetLanguages);\r\n```",
        "createdAt" : "2019-07-11T22:52:02Z",
        "updatedAt" : "2019-08-10T09:25:58Z",
        "lastEditedBy" : "beb0c9ad-a917-4bb6-948e-12669fdc6784",
        "tags" : [
        ]
      }
    ],
    "commit" : "d11b43c5aa8cf7818e3d0b3dfb30514d7095590c",
    "line" : 162,
    "diffHunk" : "@@ -1,1 +238,242 @@\t\t\t\t\ttargetMessage = this.tokenize(targetMessage);\n\n\t\t\t\t\tconst translations = this._translateMessage(targetMessage, targetLanguages);\n\t\t\t\t\tif (!_.isEmpty(translations)) {\n\t\t\t\t\t\tMessages.addTranslations(message._id, translations, TranslationProviderRegistry._activeProvider);"
  },
  {
    "id" : "630a59fe-009e-4180-aee8-4abc5c1060ce",
    "prId" : 12174,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/12174#pullrequestreview-260991383",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "37fdea43-b3be-410b-8437-99cc8ae9fa70",
        "parentId" : null,
        "authorId" : "08341c92-9d32-4db9-b11e-644bd64f0c85",
        "body" : "This is a normal registry-pattern: this class allows to register providers which implement a particular interface (inherit from a base class)",
        "createdAt" : "2019-07-11T22:53:50Z",
        "updatedAt" : "2019-08-10T09:25:58Z",
        "lastEditedBy" : "08341c92-9d32-4db9-b11e-644bd64f0c85",
        "tags" : [
        ]
      }
    ],
    "commit" : "d11b43c5aa8cf7818e3d0b3dfb30514d7095590c",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +13,17 @@ * register,load and also returns the active provider.\n */\nexport class TranslationProviderRegistry {\n\t/**\n\t * Registers the translation provider into the registry."
  },
  {
    "id" : "1c556113-7a76-4723-8f56-5ad64cdc2e3c",
    "prId" : 12174,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/12174#pullrequestreview-260991383",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f539c804-293a-4060-bf01-2030c113812e",
        "parentId" : null,
        "authorId" : "08341c92-9d32-4db9-b11e-644bd64f0c85",
        "body" : "This class holds the generic parts of what was the google translate earlier on (escaping, persistence of translations etc). The Google specific parts (which URLs to call etc.) has been factored out.",
        "createdAt" : "2019-07-11T22:55:37Z",
        "updatedAt" : "2019-08-10T09:25:58Z",
        "lastEditedBy" : "08341c92-9d32-4db9-b11e-644bd64f0c85",
        "tags" : [
        ]
      }
    ],
    "commit" : "d11b43c5aa8cf7818e3d0b3dfb30514d7095590c",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +51,55 @@ * @class\n */\nexport class AutoTranslate {\n\t/**\n\t * Encapsulate the api key and provider settings."
  }
]