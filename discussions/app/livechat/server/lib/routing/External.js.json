[
  {
    "id" : "f7ee733f-221c-487a-9271-0f88c156fe75",
    "prId" : 15003,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/15003#pullrequestreview-274662511",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d4b5e8f0-d6b5-444b-a0c3-12b72d8f187a",
        "parentId" : null,
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "why we are running 10 times, if at the first error we break the loop?",
        "createdAt" : "2019-08-14T00:45:14Z",
        "updatedAt" : "2019-08-21T01:16:00Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      },
      {
        "id" : "27ed2843-e775-4268-ae16-1bc12a731104",
        "parentId" : "d4b5e8f0-d6b5-444b-a0c3-12b72d8f187a",
        "authorId" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "body" : "Yes.. This is the same code we had before this refactoring, but I agree with you that we can improve it even more.",
        "createdAt" : "2019-08-14T04:27:51Z",
        "updatedAt" : "2019-08-21T01:16:00Z",
        "lastEditedBy" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "tags" : [
        ]
      }
    ],
    "commit" : "e7b42ce517c5cf56db20be1a34db96036eac8480",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +43,47 @@\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Error requesting agent from external queue.', e);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}"
  },
  {
    "id" : "35d02699-78b4-4b2e-86b5-bc6b99c3562e",
    "prId" : 15003,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/15003#pullrequestreview-274662574",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27416705-2235-43c7-8796-7a41f004281a",
        "parentId" : null,
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "seem to be a good opportunity to create a helper/method",
        "createdAt" : "2019-08-14T00:45:54Z",
        "updatedAt" : "2019-08-21T01:16:00Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      },
      {
        "id" : "1c17cb7a-a7a5-4bd6-a8e4-09e3bd8fe068",
        "parentId" : "27416705-2235-43c7-8796-7a41f004281a",
        "authorId" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "body" : "Yes.. This is the same code we had before this refactoring, but I agree with you that we can improve it even more.",
        "createdAt" : "2019-08-14T04:28:16Z",
        "updatedAt" : "2019-08-21T01:16:00Z",
        "lastEditedBy" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "tags" : [
        ]
      }
    ],
    "commit" : "e7b42ce517c5cf56db20be1a34db96036eac8480",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@\t\tfor (let i = 0; i < 10; i++) {\n\t\t\ttry {\n\t\t\t\tconst queryString = department ? `?departmentId=${ department }` : '';\n\t\t\t\tconst result = HTTP.call('GET', `${ settings.get('Livechat_External_Queue_URL') }${ queryString }`, {\n\t\t\t\t\theaders: {"
  },
  {
    "id" : "e5904dbe-4118-4d41-9298-9898d2791bca",
    "prId" : 15003,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/15003#pullrequestreview-274662591",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "747096e2-287e-4684-89f7-cf1e5a815423",
        "parentId" : null,
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "what about use a config instead a static number?",
        "createdAt" : "2019-08-14T00:46:28Z",
        "updatedAt" : "2019-08-21T01:16:00Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      },
      {
        "id" : "57fe8ce0-45aa-4a1a-982b-9952fe71d8ac",
        "parentId" : "747096e2-287e-4684-89f7-cf1e5a815423",
        "authorId" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "body" : "Yes.. This is the same code we had before this refactoring, but I agree with you that we can improve it even more.",
        "createdAt" : "2019-08-14T04:28:23Z",
        "updatedAt" : "2019-08-21T01:16:00Z",
        "lastEditedBy" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "tags" : [
        ]
      }
    ],
    "commit" : "e7b42ce517c5cf56db20be1a34db96036eac8480",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +20,24 @@\n\tgetNextAgent(department) {\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\ttry {\n\t\t\t\tconst queryString = department ? `?departmentId=${ department }` : '';"
  }
]