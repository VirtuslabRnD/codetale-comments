[
  {
    "id" : "cda2cacd-5b44-4905-a86b-dc9f42e3455a",
    "prId" : 20945,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/20945#pullrequestreview-613594644",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f3b7e4ae-22af-4eb4-8dba-e1cb6b3a94f6",
        "parentId" : null,
        "authorId" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "body" : "Why exporting the method?\r\nYou just need to import `QueueManager` file and call the method from the class.",
        "createdAt" : "2021-03-16T17:27:41Z",
        "updatedAt" : "2021-03-22T21:41:12Z",
        "lastEditedBy" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "tags" : [
        ]
      },
      {
        "id" : "221eb1ef-6be5-4225-8390-9bc75b5627ef",
        "parentId" : "f3b7e4ae-22af-4eb4-8dba-e1cb6b3a94f6",
        "authorId" : "2491d7cd-a9b5-4520-8c24-7c13b370f008",
        "body" : "Actually this was a mistake, I'd just exported this class to do a local testing of this method, however forgot to revert back the change. However now its fixed.",
        "createdAt" : "2021-03-16T18:30:23Z",
        "updatedAt" : "2021-03-22T21:41:12Z",
        "lastEditedBy" : "2491d7cd-a9b5-4520-8c24-7c13b370f008",
        "tags" : [
        ]
      }
    ],
    "commit" : "7bc2b4fc84b7d76861f797aa2fabd970bdab2255",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +8,12 @@\n\nexport const queueInquiry = async (room, inquiry, defaultAgent) => {\n\tconst inquiryAgent = RoutingManager.delegateAgent(defaultAgent, inquiry);\n\tawait callbacks.run('livechat.beforeRouteChat', inquiry, inquiryAgent);"
  },
  {
    "id" : "470aa557-e42f-4759-a9fe-da5ef7cb7455",
    "prId" : 16618,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/16618#pullrequestreview-362126079",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dc734475-227b-49c6-b7f6-c533153cc849",
        "parentId" : null,
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "is this the only place that needs to be changed? or should all places that call `Livechat.online` be changed to call `checkServiceStatus` instead?",
        "createdAt" : "2020-02-20T17:23:15Z",
        "updatedAt" : "2020-02-20T17:54:01Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      },
      {
        "id" : "8d0e1b82-8b64-4af9-b9b7-d025fa9404b7",
        "parentId" : "dc734475-227b-49c6-b7f6-c533153cc849",
        "authorId" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "body" : "Yes, I got your point, I thought the same when I made this change.\r\nThe fact is we can't replace all of the calls for `Livechat.online` with  `checkServiceStatus` because when the first method checks the service status, we don't have the extra info, such as `guest`, `agent`, etc. We only have that information when a new Omnichannel room is requested, but all requests for a new room will pass through that part of the code, though.",
        "createdAt" : "2020-02-20T18:18:04Z",
        "updatedAt" : "2020-02-20T18:18:04Z",
        "lastEditedBy" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "tags" : [
        ]
      }
    ],
    "commit" : "bf720cb7102f7eac4d82357bae7eabb7a5feced7",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +19,23 @@\t\t}));\n\n\t\tif (!checkServiceStatus({ guest, agent })) {\n\t\t\tthrow new Meteor.Error('no-agent-online', 'Sorry, no online agents');\n\t\t}"
  }
]