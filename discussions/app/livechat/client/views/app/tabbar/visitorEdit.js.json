[
  {
    "id" : "56082b14-fe54-41c7-8c5e-921d24fa1cd0",
    "prId" : 15840,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/15840#pullrequestreview-334119870",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff73ad3b-a878-44be-a292-90564799eddb",
        "parentId" : null,
        "authorId" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "body" : "I have a suggestion about the process of saving custom fields in both `Visitor` or `Department` scope:\r\nWhat do you think of adding a new field(optional) on the `Custom Field` configuration, allowing to define a `regex validation`?\r\nThen, you just need to check if a `custom field` has a validation(regex) or not(If so, run the validation(s) before saving(server-side).\r\n ",
        "createdAt" : "2019-12-06T19:19:57Z",
        "updatedAt" : "2020-01-10T16:03:59Z",
        "lastEditedBy" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "tags" : [
        ]
      },
      {
        "id" : "0d398b9e-17a3-406a-835a-8153f7c851c4",
        "parentId" : "ff73ad3b-a878-44be-a292-90564799eddb",
        "authorId" : "d3dac423-3c66-46da-8f40-7aff6cbe11ef",
        "body" : "Ok! I will add",
        "createdAt" : "2019-12-09T04:48:46Z",
        "updatedAt" : "2020-01-10T16:03:59Z",
        "lastEditedBy" : "d3dac423-3c66-46da-8f40-7aff6cbe11ef",
        "tags" : [
        ]
      },
      {
        "id" : "fa3d9d46-1f2e-4959-89d7-544704491f3c",
        "parentId" : "ff73ad3b-a878-44be-a292-90564799eddb",
        "authorId" : "d3dac423-3c66-46da-8f40-7aff6cbe11ef",
        "body" : "Hey @renatobecker! I added a regex validation for custom fields and rebased the branch",
        "createdAt" : "2019-12-18T14:47:33Z",
        "updatedAt" : "2020-01-10T16:03:59Z",
        "lastEditedBy" : "d3dac423-3c66-46da-8f40-7aff6cbe11ef",
        "tags" : [
        ]
      },
      {
        "id" : "5ce59313-8476-4599-a2ed-54ab374f8ea6",
        "parentId" : "ff73ad3b-a878-44be-a292-90564799eddb",
        "authorId" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "body" : "> Hey @renatobecker! I added a regex validation for custom fields and rebased the branch\r\n\r\nAwesome! I'm gonna review this PR right now.\r\nThank you in advance.",
        "createdAt" : "2019-12-18T16:56:09Z",
        "updatedAt" : "2020-01-10T16:03:59Z",
        "lastEditedBy" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "tags" : [
        ]
      }
    ],
    "commit" : "9e7705a1cdf4b325b3855468a79ea91e5a455ebb",
    "line" : 81,
    "diffHunk" : "@@ -1,1 +152,156 @@\t\tuserData.email = event.currentTarget.elements.email.value;\n\t\tuserData.phone = event.currentTarget.elements.phone.value;\n\t\tuserData.livechatData = {};\n\t\t$('[data-visitorLivechatData=true]').each(function() {\n\t\t\tuserData.livechatData[this.name] = $(this).val() || '';"
  },
  {
    "id" : "13f738f5-c001-4da1-8abd-d1c33828276d",
    "prId" : 14736,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/14736#pullrequestreview-276181302",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1fd16c9f-b9d0-4e67-960a-add6315059a0",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "```suggestion\r\n\t\treturn hasRole(Meteor.userId(), ['admin', 'livechat-manager']) && (Array.isArray(availableUserTags) && (availableUserTags.length === 0 || availableUserTags.indexOf(tag) > -1));\r\n```",
        "createdAt" : "2019-08-16T20:37:39Z",
        "updatedAt" : "2019-08-21T03:12:00Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "0b4b1b73-db37-4da1-9c79-4c265d322524",
        "parentId" : "1fd16c9f-b9d0-4e67-960a-add6315059a0",
        "authorId" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "body" : "If the logged user is an `admin` or `manager`, the next check is not necessary.",
        "createdAt" : "2019-08-16T21:39:43Z",
        "updatedAt" : "2019-08-21T03:12:00Z",
        "lastEditedBy" : "409df6ab-3b03-4605-a9f9-90ba7bb0018e",
        "tags" : [
        ]
      }
    ],
    "commit" : "cd755d9f3577d53ebe1918ba4d71e23ef786f4d2",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +48,52 @@\n\tcanRemoveTag(availableUserTags, tag) {\n\t\treturn hasRole(Meteor.userId(), ['admin', 'livechat-manager']) || (Array.isArray(availableUserTags) && (availableUserTags.length === 0 || availableUserTags.indexOf(tag) > -1));\n\t},\n});"
  }
]