[
  {
    "id" : "73f1656b-3223-48ee-b006-890c2bd8b005",
    "prId" : 15768,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/15768#pullrequestreview-316160445",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "69122e49-1631-457a-80a0-3fdacebf22f5",
        "parentId" : null,
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "instead  of insert a new lib and hash all the message, what do you think about just use your fields here? we inserted that cache to skip some computations (usually, we just need update a message if the `_updatedAt ` changes), believe there are some fields we dont want to invalidate the message...",
        "createdAt" : "2019-11-13T00:46:35Z",
        "updatedAt" : "2019-11-13T00:47:35Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      },
      {
        "id" : "69dcfbd4-36b3-4c3f-a675-0457a9d95ab4",
        "parentId" : "69122e49-1631-457a-80a0-3fdacebf22f5",
        "authorId" : "f3208e63-5742-414c-9222-b3512fbd7d86",
        "body" : "@ggazzo imho by using additional fields for example `translations` in this case would add complexity to the cache key and will not have any difference since the cache will be invalidated after 500ms. At least i cannot imagine where exactly additional keys will be beneficial.",
        "createdAt" : "2019-11-13T10:58:13Z",
        "updatedAt" : "2019-11-13T11:02:50Z",
        "lastEditedBy" : "f3208e63-5742-414c-9222-b3512fbd7d86",
        "tags" : [
        ]
      },
      {
        "id" : "150dd5ca-77cc-48bc-a198-be6f7d180445",
        "parentId" : "69122e49-1631-457a-80a0-3fdacebf22f5",
        "authorId" : "f3208e63-5742-414c-9222-b3512fbd7d86",
        "body" : "If your concern lies around adding a new lib, then how about using [cypto](https://nodejs.org/docs/v0.6.18/api/crypto.html#crypto_crypto_createhash_algorithm)?\r\n",
        "createdAt" : "2019-11-13T11:00:52Z",
        "updatedAt" : "2019-11-13T11:01:13Z",
        "lastEditedBy" : "f3208e63-5742-414c-9222-b3512fbd7d86",
        "tags" : [
        ]
      }
    ],
    "commit" : "7674c6a5e4b1fefae84ea2f6522ecf6f7f922e71",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +34,38 @@\treturn (Array.isArray(tokens) ? tokens.reverse() : [])\n\t\t.reduce((html, { token, text }) => html.replace(token, () => text), html);\n}, 500, (message) => md5(JSON.stringify(message)));"
  }
]