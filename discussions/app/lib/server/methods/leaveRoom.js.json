[
  {
    "id" : "3f8bc8d9-3c2d-4e32-bf64-2424c9cdfc1a",
    "prId" : 16753,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/16753#pullrequestreview-367601811",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6e1c02cf-04a3-4832-a3aa-721e2d1166ad",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "We could pass the userId as a third parameter and check for the permissions there as well when userId is provided.",
        "createdAt" : "2020-03-01T16:04:07Z",
        "updatedAt" : "2020-03-17T19:18:10Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "4a96410e-b499-434d-a899-9e07d44e3458",
        "parentId" : "6e1c02cf-04a3-4832-a3aa-721e2d1166ad",
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "we could.. but it's not how this method works... its more like a static checking , to avoid fibers, collections and more logic inside... if you are suggesting this improve there are a LOT OF MORE work to do where.... my intention on this PR is make more explicit the ifs... room.t !== 'd' doesn't make much sense... BUT !room.canChangeXValue(asda)",
        "createdAt" : "2020-03-02T23:20:50Z",
        "updatedAt" : "2020-03-17T19:18:11Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      }
    ],
    "commit" : "28df0548b1d5c745511441a18974476d51f221a3",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +18,22 @@\t\tconst user = Meteor.user();\n\n\t\tif (!roomTypes.getConfig(room.t).allowMemberAction(room, RoomMemberActions.LEAVE)) {\n\t\t\tthrow new Meteor.Error('error-not-allowed', 'Not allowed', { method: 'leaveRoom' });\n\t\t}"
  }
]