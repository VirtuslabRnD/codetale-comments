[
  {
    "id" : "ab4aee12-7549-4f6c-85c9-8752fb8d0607",
    "prId" : 22726,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/22726#pullrequestreview-156326512",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6eca2b37-0b57-4ee3-a613-e1fe54e0d7ac",
        "parentId" : null,
        "authorId" : "51189123-86a2-400a-9762-6816882b6f12",
        "body" : "Changing the default argument is an API change.  Could you explain why you are doing this?",
        "createdAt" : "2018-09-18T02:52:43Z",
        "updatedAt" : "2018-11-18T11:01:10Z",
        "lastEditedBy" : "51189123-86a2-400a-9762-6816882b6f12",
        "tags" : [
        ]
      },
      {
        "id" : "71234947-c26b-4f11-b0e1-bc978e4633ba",
        "parentId" : "6eca2b37-0b57-4ee3-a613-e1fe54e0d7ac",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "I think that the only public method of `HTMLFormatter` should be `write_result()`.\r\n\r\nThe other methods are currently a mix of private and public. There does not seem to be any consistency.\r\n\r\nIf `write_tr` should be private, the API change would not be an issue. The `indent_delta` is not left to the default by any calls in the current implementation. `indent_delta=0` would be a cleaner default.\r\n\r\nFollowing on from the discussion regarding making `indent` a stateful entity rather than leaving it as a parameter to individual methods: The `write_tr` method accesses the `bold_rows` instance variable. The value should probably be passed through the method's `nindex_levels` parameter which was probably the intention of adding that parameter to the method.\r\n\r\nThe other HTML formatting methods `write`, `write_th`, `write_td` and `_write_cell` do not access instance variables with the exception that `write` needs access to `elements` which effectively the output buffer.\r\n",
        "createdAt" : "2018-09-18T11:04:34Z",
        "updatedAt" : "2018-11-18T11:01:10Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "2a02cb74-ece9-4752-b8eb-9918b6bc640b",
        "parentId" : "6eca2b37-0b57-4ee3-a613-e1fe54e0d7ac",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "Also should have said: the use of `bold_rows` in `write_tr` is why I stopped refactoring at that point for the moment. I'm not sure how many changes should be in one PR.\r\n\r\nI've added some additional tests, but not all paths can be tested until the fixes for #22655 have been implemented.",
        "createdAt" : "2018-09-18T11:24:37Z",
        "updatedAt" : "2018-11-18T11:01:10Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "3e66f346-3f1a-43d7-8f1c-e77eca4ad8df",
        "parentId" : "6eca2b37-0b57-4ee3-a613-e1fe54e0d7ac",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "yeah this is ok, as its internal. I agree its less that clear what is external / internal (and we don't usually use _ prefixed). If you want to indicate in the doc-string of an external API would be ok.",
        "createdAt" : "2018-09-18T11:50:15Z",
        "updatedAt" : "2018-11-18T11:01:10Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      }
    ],
    "commit" : "0905033f860a65fc1a178aadacf0faf31ed3c20f",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +79,83 @@                   .format(start=start_tag, rs=rs, kind=kind), indent)\n\n    def write_tr(self, line, indent=0, indent_delta=0, header=False,\n                 align=None, tags=None, nindex_levels=0):\n        if tags is None:"
  },
  {
    "id" : "f52e0596-85b4-412f-8e6d-65f28e5f9027",
    "prId" : 24651,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/24651#pullrequestreview-189635163",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1564e51b-7acc-4d91-934b-b9b524a756ec",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "can you add a class doc-string / comment here and for ``HTMLFormatter`` to describe the differences.",
        "createdAt" : "2019-01-06T16:00:48Z",
        "updatedAt" : "2019-01-06T16:39:22Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b0e24edf1bab9bb4db5a2d4b46f52ba5a9ee160",
    "line" : 117,
    "diffHunk" : "@@ -1,1 +486,490 @@    DataFrame._repr_html_() and DataFrame.to_html(notebook=True)\n    \"\"\"\n\n    def write_style(self):\n        # We use the \"scoped\" attribute here so that the desired"
  },
  {
    "id" : "4a06e937-eb0e-4e48-956c-86ad2542d83f",
    "prId" : 24841,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/24841#pullrequestreview-198085258",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "this is an api change yes?",
        "createdAt" : "2019-01-19T21:42:26Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "c5851568-bd82-439d-959f-ddd3efeee782",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "not at the moment, but probably needs to be if we want to have the option to truncate html output.\r\n\r\nit is a change of behavior though. whether the current behavior is considered a bug or not.",
        "createdAt" : "2019-01-19T21:46:14Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "a09e6cd4-2df8-4b8f-9249-ee0e742baa6d",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "sorry, that's what I meant, this will *not* truncate by-default (but it IS truncating now)",
        "createdAt" : "2019-01-19T21:47:57Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "7f0e4086-2c12-4b96-95b9-de42bbd93c68",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "yes for to_html() only.\r\n\r\nthe behavior is unchanged for _repr_html_() (a.k.a. to_html(notebook=True) see #23820",
        "createdAt" : "2019-01-19T21:55:22Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "c50c6558-c703-4293-a5bd-ddde5a5b92e2",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "i was thinking that a change to the api should be part of this PR see https://github.com/pandas-dev/pandas/issues/17004#issuecomment-455821028.\r\n\r\nbut if we consider `display.max_colwidth` as a _display_ option and `to_html()` as _output_ then i think it is safe to consider #17004 as a bug and leave any api changes out of this PR.\r\n\r\nthis makes sense considering https://github.com/pandas-dev/pandas/pull/24840#issuecomment-455825159 regarding RC and api changes",
        "createdAt" : "2019-01-20T09:52:26Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "e0e2680c-1dc3-4123-9d6b-385b56d8db81",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "body" : "Should we wait for 0.24.1 on this?",
        "createdAt" : "2019-01-20T19:38:25Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "tags" : [
        ]
      },
      {
        "id" : "e7bc8731-24c1-48cf-a924-771514fc13ac",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "considering `display.max_rows` and `display.max_columns` are not used for `to_html(max_rows=None, max_cols=None)` then i see no reason why using the`display.max_colwidth` in `to_html()` as a default should not be labelled as a bug and rectified as soon as.\r\n\r\nchanging the api to _allow_ `display.max_colwidth` to be used in `to_html()` should be considered an enhancement and can wait for a later release.\r\n\r\n",
        "createdAt" : "2019-01-21T09:45:11Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "1e12bf20-967f-403c-968f-534fe2a00ef7",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "@simonjayhawkins this *does* respect the max_colwith now, this is an API change here. \r\n\r\ndoes your test fail w/o the code change?",
        "createdAt" : "2019-01-21T13:25:02Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "021bec68-6d89-40e8-91c3-69f061a40e23",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "> this _does_ respect the max_colwith now, this is an API change here\r\n\r\n@jreback  i'm confused! by _now_ do you mean in the master _now_ or with the changes _now_?\r\n\r\n`display.max_rows` and `display.max_columns` are not used as default values in `to_html()`, so why should `display.max_colwidth` be used by default?\r\n\r\nit _is_ a change of behaviour, granted. it is a bug fix. it is not a change to the api.\r\n\r\n\r\n",
        "createdAt" : "2019-01-21T14:46:58Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "892299bb-806a-41ef-8cdb-3dc07a8987e2",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "yes the `test_ignore_display_max_colwidth` test will fail. the `test_display_max_colwidth` test is a regression test to check that the notebook display is unaffected by the change. this test passes with and without the code changes.",
        "createdAt" : "2019-01-21T14:53:57Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "c2714094-10d4-4fd3-97d8-1fb1df9db720",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "body" : "While this is a bug fix, it'll change the behavior, in a way that I think is possibly to large for the RC.\r\n\r\nI'd recommend waiting for 0.24.1.\r\n",
        "createdAt" : "2019-01-21T14:58:16Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "tags" : [
        ]
      },
      {
        "id" : "7aba2524-7ea2-4356-b5f8-c888a3926d1d",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "@TomAugspurger \r\n\r\n> I'd recommend waiting for 0.24.1\r\n\r\nOK. so what's involved. just leave the PR open?",
        "createdAt" : "2019-01-22T11:12:21Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "5bcba0e2-d4ed-4959-b3b4-4a64c9926347",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "body" : "Yeah, the release note can be moved to whatsnew/v0.24.1.rst",
        "createdAt" : "2019-01-22T12:25:19Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "tags" : [
        ]
      },
      {
        "id" : "5e975a4c-0de7-42e5-80d3-2b96c7afff9e",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "@TomAugspurger if you want to include this in 0.24.1, is there anything else for me to do here? or would it be best to flag this as 0.25?",
        "createdAt" : "2019-01-29T13:41:01Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "adb9a1b5-c20a-4fb3-8ede-c1b28691fe2d",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "body" : "Let's see what happens to https://github.com/pandas-dev/pandas/issues/24949.\r\n\r\nI'm hopefully doing a 0.24.1 in the next day or two that's essentially just regression fixes. If we go with that, then this would be appropriate for 0.24.2 (sorry for bumping it repeatedly).\r\n\r\nWe don't have a 0.24.2.rst yet, but I'll make one if we plan to do a 0.24.1 release soon.",
        "createdAt" : "2019-01-29T14:15:17Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "tags" : [
        ]
      },
      {
        "id" : "cf9d4317-2fc1-43b9-8734-6c2c6f8280f0",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "if its not an api change, why wouldn't this go in 0.24.1 then?",
        "createdAt" : "2019-01-30T13:12:31Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "b776b6fb-a7f9-424e-b85f-19b1d70f9836",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "> if its not an api change, why wouldn't this go in 0.24.1 then?\r\n\r\n@jreback: i've now got doubts in my mind whether this change could interfere with the `formatter` parameter of `to_html` or with the styler. i've not yet gone back to check whether this is potentially a problem and whether there are tests to cover this. so I would be more comfortable if it was deferred to 0.24.2 or 0.25.",
        "createdAt" : "2019-01-30T13:24:47Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      },
      {
        "id" : "4c6c932a-9638-4680-ada8-522d9c8f8732",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "0.24.2 is the *same* as 0.24.1 in that its meant for bug fixes. If its an api change then its 0.25, which is what I marked, can you move the whatsnew note.",
        "createdAt" : "2019-01-30T13:30:18Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "54bea892-cc5f-48bb-aba0-0500bb4656aa",
        "parentId" : "424ff177-d5a6-4959-971e-497dbfdb8043",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "> 0.24.2 is the _same_ as 0.24.1 in that its meant for bug fixes. If its an api change then its 0.25, which is what I marked, can you move the whatsnew note.\r\n\r\n@jreback: sorry that i'm creating unnecessary confusion. my understanding is that 0.24.1 is for regressions only. this PR is a bug fix and being concerned about potentially introducing a new regression, would prefer to see it go in 0.24.2.\r\n\r\nThe mention of 0.25 is because the fix could be seen as an unexpected change for a users perspective. This PR is not an api change.",
        "createdAt" : "2019-01-30T13:50:09Z",
        "updatedAt" : "2019-02-10T21:43:02Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "cd63aa5645e1bd008014217410cd1e243c7c476e",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +321,325 @@        self.write('</thead>', indent)\n\n    def _get_formatted_values(self):\n        with option_context('display.max_colwidth', 999999):\n            fmt_values = {i: self.fmt._format_col(i)"
  },
  {
    "id" : "52b8d78e-656c-4ed1-83aa-4f83f8159d01",
    "prId" : 24841,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/24841#pullrequestreview-209155727",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "afefb8ef-b2ef-439a-8070-404b85af55fe",
        "parentId" : null,
        "authorId" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "body" : "Can just use `None` here",
        "createdAt" : "2019-02-28T00:16:12Z",
        "updatedAt" : "2019-02-28T00:16:21Z",
        "lastEditedBy" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "tags" : [
        ]
      },
      {
        "id" : "a2d65578-1217-4272-b461-13cb1b8a773d",
        "parentId" : "afefb8ef-b2ef-439a-8070-404b85af55fe",
        "authorId" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "body" : "would seem logical, but raises:\r\n\r\n`ValueError: Value must have type '<class 'int'>'`\r\n\r\nthere is a bug/feature where values less than 4 are ignored, see #16097 but that would be more of a hack than using 999999, though would work with strings of length greater than 999999 chars ðŸ˜€ ",
        "createdAt" : "2019-02-28T15:57:09Z",
        "updatedAt" : "2019-02-28T15:57:10Z",
        "lastEditedBy" : "554ba0f6-6e6a-40c3-98e0-1a6cc4a8e1c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "cd63aa5645e1bd008014217410cd1e243c7c476e",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +322,326 @@\n    def _get_formatted_values(self):\n        with option_context('display.max_colwidth', 999999):\n            fmt_values = {i: self.fmt._format_col(i)\n                          for i in range(self.ncols)}"
  }
]