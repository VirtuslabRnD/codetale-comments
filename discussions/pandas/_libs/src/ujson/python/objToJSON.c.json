[
  {
    "id" : "51eaa9d3-3386-4d8d-8da1-4c1a287adc26",
    "prId" : 17289,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/17289#pullrequestreview-57382264",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "93f023c2-7a8e-41c1-9e9e-dbfc01d5b15f",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "so you shouldn't need this here either",
        "createdAt" : "2017-08-19T21:56:55Z",
        "updatedAt" : "2017-08-20T22:25:17Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "73348d4e-ec35-45e3-9964-db2c2dbc06e8",
        "parentId" : "93f023c2-7a8e-41c1-9e9e-dbfc01d5b15f",
        "authorId" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "body" : "Getting rid of it would be great.  Neither @jorisvandenbossche nor I know how to call `obj.total_seconds()` in C, and are not inclined to guess.  If there's a quick answer I'll edit.",
        "createdAt" : "2017-08-19T23:07:59Z",
        "updatedAt" : "2017-08-20T22:25:17Z",
        "lastEditedBy" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "tags" : [
        ]
      },
      {
        "id" : "8bd5e083-bf20-4654-b292-e95e4d3925c3",
        "parentId" : "93f023c2-7a8e-41c1-9e9e-dbfc01d5b15f",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "look in the CPython source code",
        "createdAt" : "2017-08-20T13:44:22Z",
        "updatedAt" : "2017-08-20T22:25:17Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "78562375-6f3d-4b9c-a5bc-96a8b279419b",
        "parentId" : "93f023c2-7a8e-41c1-9e9e-dbfc01d5b15f",
        "authorId" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "body" : "> look in the CPython source code\r\n\r\nMy attempts so far have resulted in test failures and segfaults.  Having me spend more time futzing with C benefits no one.  If you don't like the PR as it is, feel free to close.",
        "createdAt" : "2017-08-20T18:57:30Z",
        "updatedAt" : "2017-08-20T22:25:17Z",
        "lastEditedBy" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "tags" : [
        ]
      },
      {
        "id" : "306fed7b-2ba0-4466-8053-37f96abb0f30",
        "parentId" : "93f023c2-7a8e-41c1-9e9e-dbfc01d5b15f",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "well this is reducing some code which is nice. but leaving a loose end. If you want to make an issue for this loose end I would accept. (and add a comment in the code as well).",
        "createdAt" : "2017-08-20T19:51:54Z",
        "updatedAt" : "2017-08-20T22:25:17Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "5b38388e-3b62-4218-a9e7-5eb72f2e406c",
        "parentId" : "93f023c2-7a8e-41c1-9e9e-dbfc01d5b15f",
        "authorId" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "body" : "There is no public c api for getting total seconds from a timedelta object (only for days, seconds, microseconds -> https://docs.python.org/3.3/c-api/datetime.html#PyDateTime_DELTA_GET_DAYS, which also is only new in python 3). So through the c-api this is not possible.\r\n\r\nBut, I suppose we can just get the python attribute `total_seconds` without using the c-api ? (or is that only possible in cython ?). \r\n@jbrockmendel does `npy_int64 days = get_long_attr(td, \"total_seconds\");` work?\r\n\r\nOtherwise, I would just merge this as it is a net improvement",
        "createdAt" : "2017-08-20T20:02:41Z",
        "updatedAt" : "2017-08-20T22:25:17Z",
        "lastEditedBy" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "tags" : [
        ]
      },
      {
        "id" : "d7703541-4583-4d89-8733-250d47d44462",
        "parentId" : "93f023c2-7a8e-41c1-9e9e-dbfc01d5b15f",
        "authorId" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "body" : "Just pushed a comment suggesting it be removed.\r\n\r\n\r\n> does `npy_int64 days = get_long_attr(td, \"total_seconds\");` work?\r\n\r\n@jorisvandenbossche I didn't try that specifically because `total_seconds` is a nullary method.  What I tried (and failed) was several variants of `PyObject_CallMethod`\r\n",
        "createdAt" : "2017-08-20T20:56:21Z",
        "updatedAt" : "2017-08-20T22:25:17Z",
        "lastEditedBy" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "2d2c549e0034b6d80f97ada2e0b205d86a414357",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +339,343 @@}\n\nnpy_float64 total_seconds(PyObject *td) {\n  // Python 2.6 compat\n  // TODO(anyone): remove this legacy workaround with a more"
  }
]