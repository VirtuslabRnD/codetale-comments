[
  {
    "id" : "3673e2a4-7aee-466f-88d0-7ca55fceaff6",
    "prId" : 22283,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/22283#pullrequestreview-148490085",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2476d909-badf-443b-a9f0-29feb7a44bce",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "do these make any perf diffs?",
        "createdAt" : "2018-08-22T12:37:11Z",
        "updatedAt" : "2018-09-05T13:43:43Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "1d76cb19-7241-46ba-8f2b-afa51232f98f",
        "parentId" : "2476d909-badf-443b-a9f0-29feb7a44bce",
        "authorId" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "body" : "cython makes this substitution on its own",
        "createdAt" : "2018-08-22T13:50:03Z",
        "updatedAt" : "2018-09-05T13:43:43Z",
        "lastEditedBy" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "tags" : [
        ]
      }
    ],
    "commit" : "3300de17dac9bbc77b32a88465b961b114c38f88",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +132,136 @@    for i in range(length):\n        v = arr[i]\n        if isinstance(v, str):\n            l = PyString_GET_SIZE(v)\n        elif isinstance(v, bytes):"
  },
  {
    "id" : "3f7b4e25-927b-45a3-bb73-a80dfdd80fed",
    "prId" : 23880,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/23880#pullrequestreview-178037220",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff5f046c-60d2-4461-adae-41727889819a",
        "parentId" : null,
        "authorId" : "51189123-86a2-400a-9762-6816882b6f12",
        "body" : "Hmm...that's not very encouraging to read.  Let's revert the initialization on `N` here until more substantive testing can be performed to prove this out.",
        "createdAt" : "2018-11-24T01:16:36Z",
        "updatedAt" : "2018-11-24T03:36:48Z",
        "lastEditedBy" : "51189123-86a2-400a-9762-6816882b6f12",
        "tags" : [
        ]
      },
      {
        "id" : "f1c7cd9a-7cea-4b38-85c5-b5be6f96dd0d",
        "parentId" : "ff5f046c-60d2-4461-adae-41727889819a",
        "authorId" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "body" : "This comment isnâ€™t new, just moved from a few lines down.",
        "createdAt" : "2018-11-24T01:31:34Z",
        "updatedAt" : "2018-11-24T03:36:48Z",
        "lastEditedBy" : "adf621f1-4745-479a-a1fc-dc14046a3f4b",
        "tags" : [
        ]
      },
      {
        "id" : "292c5b4d-9326-416b-af28-270d08088fe4",
        "parentId" : "ff5f046c-60d2-4461-adae-41727889819a",
        "authorId" : "51189123-86a2-400a-9762-6816882b6f12",
        "body" : "Ah...gotcha.   I didn't realize ðŸ˜‚ ",
        "createdAt" : "2018-11-24T01:44:09Z",
        "updatedAt" : "2018-11-24T03:36:48Z",
        "lastEditedBy" : "51189123-86a2-400a-9762-6816882b6f12",
        "tags" : [
        ]
      }
    ],
    "commit" : "b4beaed0219ac54b74a5840fd54ee89981fc4550",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +37,41 @@    writer : object\n    \"\"\"\n    # In crude testing, N>100 yields little marginal improvement\n    cdef:\n        Py_ssize_t i, j, k = len(data_index), N = 100, ncols = len(cols)"
  },
  {
    "id" : "16740951-550c-4abc-9240-e76e4d328877",
    "prId" : 23880,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/23880#pullrequestreview-178059538",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b48e06f0-b27d-4ba8-8ea9-7469b4921194",
        "parentId" : null,
        "authorId" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "body" : "Do we stand to gain anything by being more explicit about the type of the ndarrays here?",
        "createdAt" : "2018-11-24T15:46:04Z",
        "updatedAt" : "2018-11-24T15:46:23Z",
        "lastEditedBy" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "tags" : [
        ]
      },
      {
        "id" : "896c816c-ac31-4161-800d-a876c231d4f9",
        "parentId" : "b48e06f0-b27d-4ba8-8ea9-7469b4921194",
        "authorId" : "eb0b5a98-1084-4e61-8414-5fb19728b91f",
        "body" : "I wasn't able to find a type for these ndarrays that passes the test suite. Should be okay as is. ",
        "createdAt" : "2018-11-24T19:03:23Z",
        "updatedAt" : "2018-11-24T19:03:23Z",
        "lastEditedBy" : "eb0b5a98-1084-4e61-8414-5fb19728b91f",
        "tags" : [
        ]
      }
    ],
    "commit" : "b4beaed0219ac54b74a5840fd54ee89981fc4550",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +23,27 @@@cython.boundscheck(False)\n@cython.wraparound(False)\ndef write_csv_rows(list data, ndarray data_index,\n                   Py_ssize_t nlevels, ndarray cols, object writer):\n    \"\"\""
  },
  {
    "id" : "584254eb-a5b8-45bf-aefd-bdcf863b207c",
    "prId" : 25103,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/25103#pullrequestreview-284776669",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "08a54987-db03-45a4-80ef-a856e15eff35",
        "parentId" : null,
        "authorId" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "body" : "Do we even need this any more? Not an expert with the C API but from what I'm reading PyBytes_* is just an alias for PyString_* anyway:\r\n\r\nhttps://docs.python.org/2/c-api/string.html",
        "createdAt" : "2019-04-10T15:23:25Z",
        "updatedAt" : "2019-09-10T00:01:44Z",
        "lastEditedBy" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "tags" : [
        ]
      },
      {
        "id" : "98aba199-7d87-4aa4-9ea7-c673823e9992",
        "parentId" : "08a54987-db03-45a4-80ef-a856e15eff35",
        "authorId" : "6ffce110-7961-4697-9c6a-c42fabe6d651",
        "body" : "Good point. Spent some 10 minutes looking at the Python 3 docs, but not very experienced with the C API, so can't really confirm if that's necessary.\r\n\r\nThe code in this `if/else` statement is present in [master in another function](https://github.com/pandas-dev/pandas/blob/e02ec8f89a743cc56a79e660b7be850448d15f61/pandas/_libs/writers.pyx#L128-L136). In this pull request I moved it to this other function to re-use it.",
        "createdAt" : "2019-04-11T05:13:15Z",
        "updatedAt" : "2019-09-10T00:01:44Z",
        "lastEditedBy" : "6ffce110-7961-4697-9c6a-c42fabe6d651",
        "tags" : [
        ]
      },
      {
        "id" : "06b8e2a7-1249-4b13-99ad-e3f79f5b43e4",
        "parentId" : "08a54987-db03-45a4-80ef-a856e15eff35",
        "authorId" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "body" : "I think this should actually be PyUnicode_GET_LENGTH ; PyString is part of the old Python2 interface and there may be some compat provided by Cython best I think safer to use latest and greatest API:\r\n\r\nhttps://docs.python.org/3/howto/cporting.html#str-unicode-unification\r\n\r\nhttps://docs.python.org/3/c-api/unicode.html#c.PyUnicode_GET_LENGTH",
        "createdAt" : "2019-09-05T16:38:47Z",
        "updatedAt" : "2019-09-10T00:01:44Z",
        "lastEditedBy" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "tags" : [
        ]
      },
      {
        "id" : "560690ad-b736-4cf9-9838-86f9f818b56f",
        "parentId" : "08a54987-db03-45a4-80ef-a856e15eff35",
        "authorId" : "6ffce110-7961-4697-9c6a-c42fabe6d651",
        "body" : "@WillAyd build is passing now :tada:  first I fixed the code without moving to `PyUnicode_GET_LENGTH`, and CI approved it. Then I changed in [this last commit](https://github.com/pandas-dev/pandas/pull/25103/commits/75246bebe144e8ec5cae3a3593062dc727728bb2) to use `PyUnicode_GET_LENGTH`. I never used it before, so hope it was the right way to add it.\r\n\r\n- moved what's new to the new file, removing changes from the previous one (we had two releases since this PR was submitted, great work!)\r\n- fixed formatting issues\r\n- used `PyUnicode_GET_LENGTH`\r\n\r\nShould be ready for review again.",
        "createdAt" : "2019-09-06T10:15:03Z",
        "updatedAt" : "2019-09-10T00:01:44Z",
        "lastEditedBy" : "6ffce110-7961-4697-9c6a-c42fabe6d651",
        "tags" : [
        ]
      }
    ],
    "commit" : "10f67ab161253712e000ea871f65b3911fc0632d",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +134,138 @@        Py_ssize_t l = 0\n\n    if isinstance(val, str):\n        l = PyUnicode_GET_SIZE(val)\n    elif isinstance(val, bytes):"
  }
]