[
  {
    "id" : "93a29d3d-704e-4db4-9623-f81c8196c3ca",
    "prId" : 17143,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/17143#pullrequestreview-53758295",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b34c1012-e7c5-4633-96c3-ceb86466655e",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "need to add this in setup.py as well",
        "createdAt" : "2017-08-02T10:29:51Z",
        "updatedAt" : "2017-08-03T21:53:10Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      }
    ],
    "commit" : "b41b713eece90dd8a0de36884d02ddb632ec8b3c",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@# -*- coding: utf-8 -*-\n# pylint: disable=W0102\n"
  },
  {
    "id" : "8360c384-fcd4-462a-a697-c0623845b09c",
    "prId" : 17143,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/17143#pullrequestreview-54235550",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "I wouldn't pass fastpath, that's not really a public option.",
        "createdAt" : "2017-08-03T20:57:19Z",
        "updatedAt" : "2017-08-03T21:53:10Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "f6f748bf-6462-43d2-af63-640dad220299",
        "parentId" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "authorId" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "body" : "If you don't use fastpath, it does not preserve the Block type. Eg:\r\n\r\n```\r\nIn [53]: block = CustomBlock(values, placement=slice(0, 3))\r\n\r\nIn [54]: s = pd.Series(block, index=pd.RangeIndex(3), fastpath=True)\r\n\r\nIn [55]: s._data._block\r\nOut[55]: CustomBlock: 3 dtype: int64\r\n\r\nIn [56]: s = pd.Series(block, index=pd.RangeIndex(3))\r\n\r\nIn [57]: s._data._block\r\nOut[57]: ObjectBlock: 3 dtype: object\r\n```\r\n\r\nThe reason is that we don't check for `isinstance(data, Block)` in the Series `__init__.py` (we do for `isinstance(data, SingleBlockManager)` in the non-fastpath code path. \r\n\r\nFor that reason I am also using the fastpath in GeoPandas.",
        "createdAt" : "2017-08-03T21:06:09Z",
        "updatedAt" : "2017-08-03T21:53:10Z",
        "lastEditedBy" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "tags" : [
        ]
      },
      {
        "id" : "5d2168a9-21e4-46ca-8033-57a709065ddb",
        "parentId" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "hmm, that looks like a bug. if you change that does it break anything else? (could be followup as well)",
        "createdAt" : "2017-08-03T21:09:07Z",
        "updatedAt" : "2017-08-03T21:53:10Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "14f6aa78-fc00-4860-bd26-6857dfb3c72b",
        "parentId" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "authorId" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "body" : "In general it has proven a bit difficult to construct Series and DataFrame objects from given blocks, without re-creating the blocks (eg in Series, the block gets converted to array, which is then passed to SingleBlockManager, which does not preserve the block type)",
        "createdAt" : "2017-08-03T21:11:10Z",
        "updatedAt" : "2017-08-03T21:53:10Z",
        "lastEditedBy" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "tags" : [
        ]
      },
      {
        "id" : "5220c016-da08-4ea0-a835-29df36a57633",
        "parentId" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "you generally need to give it a SingleBkockManger or BlockManager\r\n\r\nblocks are a lower level item\r\nand Series/DataFrame don't/shouldn't know about these ",
        "createdAt" : "2017-08-03T21:15:24Z",
        "updatedAt" : "2017-08-03T21:53:10Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "9ea33c6b-2fa2-486a-be72-75bacd8f3fa2",
        "parentId" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "authorId" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "body" : "yes, that's fine. But slightly change my comment: it has also proven to be difficult to add a block to a BlockManager with preserving the block type.\r\n\r\nOnce we have a BlockManager, it's indeed simply passing it to DataFrame(..) to get a df. That's what we do to create dataframes, I should probably take the same approach to create SingleBlockManager for the series case instead of using that fastpath.",
        "createdAt" : "2017-08-03T21:20:24Z",
        "updatedAt" : "2017-08-03T21:53:10Z",
        "lastEditedBy" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "tags" : [
        ]
      },
      {
        "id" : "6b6d5ddd-56b6-4f14-a134-0e343c8ecf55",
        "parentId" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "why is it hard to add a Block to BM\r\nsomething is wrong if it's hard",
        "createdAt" : "2017-08-03T21:49:18Z",
        "updatedAt" : "2017-08-03T21:53:10Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "be575aa1-974c-45b4-9316-e8be4f4ea5c6",
        "parentId" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "authorId" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "body" : "you have Block.set and Block.insert methods to add things to a Block, but those also do not preserve the block you pass",
        "createdAt" : "2017-08-03T21:52:53Z",
        "updatedAt" : "2017-08-03T21:53:10Z",
        "lastEditedBy" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "tags" : [
        ]
      },
      {
        "id" : "1b8ca5f3-f7ab-43fa-8bd5-070252197e53",
        "parentId" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "authorId" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "body" : "See here for a work around that I now use in the geopandas refactor branch: https://github.com/geopandas/geopandas/pull/467#issuecomment-319421369 \r\nBasically it is constructing a dataframe, taking the blocks and axes out of it, append a Block to the blocks, and a value to the column axis, and create a new Block from those.\r\n\r\n(but given the length of code in Block.insert/set, this is maybe actually a simple way)\r\n",
        "createdAt" : "2017-08-03T21:57:22Z",
        "updatedAt" : "2017-08-03T21:57:22Z",
        "lastEditedBy" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "tags" : [
        ]
      },
      {
        "id" : "88c13823-5229-4789-ad0e-46a0215cd056",
        "parentId" : "2979c2ec-3ff8-4c0c-9e0f-de4e1db0a365",
        "authorId" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "body" : "BTW, I added a commit with an attempt to remove the usage of fastpath",
        "createdAt" : "2017-08-03T22:00:30Z",
        "updatedAt" : "2017-08-03T22:00:30Z",
        "lastEditedBy" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "tags" : [
        ]
      }
    ],
    "commit" : "b41b713eece90dd8a0de36884d02ddb632ec8b3c",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +18,22 @@\n    # series\n    block = CustomBlock(values, placement=slice(0, 3))\n\n    s = pd.Series(SingleBlockManager(block, pd.RangeIndex(3)))"
  },
  {
    "id" : "05713171-2099-4c28-a384-2b3086631885",
    "prId" : 17728,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/17728#pullrequestreview-67861714",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "02545d52-13d0-4aad-83ce-6860c60f6981",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "can you add the issue number here",
        "createdAt" : "2017-10-08T16:22:09Z",
        "updatedAt" : "2017-10-10T23:27:16Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      }
    ],
    "commit" : "bb5a100b314d7f19dda19bfb5ef0889ac3dd5e36",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +42,46 @@\n\ndef test_concat_series():\n    # GH17728\n    values = np.arange(3, dtype='int64')"
  }
]