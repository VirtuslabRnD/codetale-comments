[
  {
    "id" : "ba22c458-fc21-4f93-b818-4fc24c3cd1a3",
    "prId" : 15838,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/15838#pullrequestreview-29833083",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6ba84c04-5246-4658-8754-05ecd1c891d9",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "cc @martindurant",
        "createdAt" : "2017-03-29T17:43:28Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "0c9188c2-8ebc-405b-8685-18ccda03aa50",
        "parentId" : "6ba84c04-5246-4658-8754-05ecd1c891d9",
        "authorId" : "91bd3e12-470c-4417-ac08-5f387012a9be",
        "body" : "If a column has object dtype, there are a few encoding options. Most typical is UTF8 for strings, but 'infer' will guess from the values; the only way to encode mixed types like this would be JSON or BSON. ",
        "createdAt" : "2017-03-29T17:58:16Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "91bd3e12-470c-4417-ac08-5f387012a9be",
        "tags" : [
        ]
      },
      {
        "id" : "81da86d1-93e3-4e94-88af-609bc65e4c57",
        "parentId" : "6ba84c04-5246-4658-8754-05ecd1c891d9",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "is this done at the user level?",
        "createdAt" : "2017-03-29T18:04:11Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "1978d19e-c0a6-4f63-8c69-c244bf0c7c60",
        "parentId" : "6ba84c04-5246-4658-8754-05ecd1c891d9",
        "authorId" : "91bd3e12-470c-4417-ac08-5f387012a9be",
        "body" : "Yes, the user can specify the \"object_encoding\" keyword to fastparquet.writer.write. A value of \"infer\" will default to JSON representation only for dicts and lists (as guessed from the first ten values) - perhaps it should be for all types that are not str or bytes?",
        "createdAt" : "2017-03-29T18:07:25Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "91bd3e12-470c-4417-ac08-5f387012a9be",
        "tags" : [
        ]
      },
      {
        "id" : "59b48cf3-6bd8-4ad6-89fe-a59dee659ede",
        "parentId" : "6ba84c04-5246-4658-8754-05ecd1c891d9",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "I see you have *lots* of options in ``fastparquet.write``. since I don't want to duplicate them at all! maybe just pass thru to you directly. going to think about this.",
        "createdAt" : "2017-03-29T18:08:38Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "67809c0b-6bf2-4604-9955-2760b03e55e7",
        "parentId" : "6ba84c04-5246-4658-8754-05ecd1c891d9",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "added passing thru kwargs, so this should be easy to test",
        "createdAt" : "2017-03-29T20:24:37Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      }
    ],
    "commit" : "f553a5fbce80b98c4a55bd6469859e8f8922b162",
    "line" : 358,
    "diffHunk" : "@@ -1,1 +356,360 @@        self.check_error_on_write(df, fp, ValueError)\n\n        # mixed\n        df = pd.DataFrame({'a': ['a', 1, 2.0]})\n        self.check_error_on_write(df, fp, ValueError)"
  },
  {
    "id" : "ee8381a4-a586-402f-9e0f-9292ab1b19ad",
    "prId" : 15838,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/15838#pullrequestreview-32537151",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2bc8a97e-c52b-493d-acbc-f66484be1b62",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "cc @martindurant this warning is odd btw.",
        "createdAt" : "2017-03-29T17:43:44Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "12c14463-86ec-4548-9611-7dab291249cb",
        "parentId" : "2bc8a97e-c52b-493d-acbc-f66484be1b62",
        "authorId" : "91bd3e12-470c-4417-ac08-5f387012a9be",
        "body" : "Parquet does not store timezone information (except maybe in specialized key-value metadata), so this would amount to a silent loss of data.",
        "createdAt" : "2017-03-29T18:00:20Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "91bd3e12-470c-4417-ac08-5f387012a9be",
        "tags" : [
        ]
      },
      {
        "id" : "be433f19-4aa1-4281-a323-a5423d5664f5",
        "parentId" : "2bc8a97e-c52b-493d-acbc-f66484be1b62",
        "authorId" : "55206695-bb42-4d72-886f-f5370a77363e",
        "body" : "We should create a spec document for \"Python metadata\" (that we can implement in either library) to store as key-value metadata so that we can persist anything that does not fit into the format as is",
        "createdAt" : "2017-03-29T19:05:59Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "55206695-bb42-4d72-886f-f5370a77363e",
        "tags" : [
        ]
      },
      {
        "id" : "be79b395-996a-4f1b-9b5e-84d53fb84075",
        "parentId" : "2bc8a97e-c52b-493d-acbc-f66484be1b62",
        "authorId" : "87ae8b7b-5811-4dca-9610-338ff52f130d",
        "body" : "The to_stata function warns when it writes things that won't load back the same way or when it's changing things - I think that'd also be very cool, and there could be a strict_mode=True that will raise exceptions instead.",
        "createdAt" : "2017-04-13T02:35:20Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "87ae8b7b-5811-4dca-9610-338ff52f130d",
        "tags" : [
        ]
      },
      {
        "id" : "b70f8a9b-0ee2-483c-ae76-0330a0f74276",
        "parentId" : "2bc8a97e-c52b-493d-acbc-f66484be1b62",
        "authorId" : "87ae8b7b-5811-4dca-9610-338ff52f130d",
        "body" : "Aside from this, it'd be very helpful from an interop perspective to know what things are parquet-native and thus readable from another application, vs what things are pandas-only.",
        "createdAt" : "2017-04-13T02:45:16Z",
        "updatedAt" : "2017-08-01T22:28:31Z",
        "lastEditedBy" : "87ae8b7b-5811-4dca-9610-338ff52f130d",
        "tags" : [
        ]
      }
    ],
    "commit" : "f553a5fbce80b98c4a55bd6469859e8f8922b162",
    "line" : 372,
    "diffHunk" : "@@ -1,1 +370,374 @@\n        # warns on the coercion\n        with catch_warnings(record=True):\n            self.check_round_trip(df, fp, df.astype('datetime64[ns]'),\n                                  compression=None)"
  },
  {
    "id" : "6ad2843b-7519-4340-b11d-65b36fc9a445",
    "prId" : 18216,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/18216#pullrequestreview-76437598",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b087c485-8fbe-4575-a712-a775fe73e7c1",
        "parentId" : null,
        "authorId" : "43286cbe-b727-4437-8153-2f8d73977f69",
        "body" : "I would refactor this helper function to have the following signature:\r\n\r\ndef check_round_trip(self, df, engine, expected=None, write_kwargs=None, read_kwargs=None)\r\n\r\n",
        "createdAt" : "2017-11-14T09:26:33Z",
        "updatedAt" : "2017-11-14T13:47:15Z",
        "lastEditedBy" : "43286cbe-b727-4437-8153-2f8d73977f69",
        "tags" : [
        ]
      },
      {
        "id" : "4b61c548-cde3-429b-a153-71446d42b299",
        "parentId" : "b087c485-8fbe-4575-a712-a775fe73e7c1",
        "authorId" : "baa0ca18-cc19-4991-8297-4dd7a454cdd6",
        "body" : "Yeah, this is definitly the way to go.\r\nTests until now only worked because pyarrow.parquet.write_table ignores extra kwargs, and the fastparquet implementation did not pass kwargs through to the write method - else the tests would have failed on the  (read-only) parameter columns already.",
        "createdAt" : "2017-11-14T13:24:08Z",
        "updatedAt" : "2017-11-14T13:47:15Z",
        "lastEditedBy" : "baa0ca18-cc19-4991-8297-4dd7a454cdd6",
        "tags" : [
        ]
      }
    ],
    "commit" : "edbd937dc3e642fd497315bb86e929985a4e5bb5",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +189,193 @@                to_parquet(df, path, engine, compression=None)\n\n    def check_round_trip(self, df, engine, expected=None,\n                         write_kwargs=None, read_kwargs=None):\n        if write_kwargs is None:"
  },
  {
    "id" : "d9e700f8-757e-4434-a5ab-15c4fd14c3e0",
    "prId" : 18662,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/18662#pullrequestreview-82094665",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ba5ed25a-1989-43cd-ac05-348934d5ff03",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "can remove this after we change the dep (@dhirschfeld PR)",
        "createdAt" : "2017-12-08T02:16:29Z",
        "updatedAt" : "2017-12-08T08:47:15Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "9f92a1da-e56c-4a03-b05b-c5345a706264",
        "parentId" : "ba5ed25a-1989-43cd-ac05-348934d5ff03",
        "authorId" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "body" : "yep. For the rest any comments?",
        "createdAt" : "2017-12-08T08:47:38Z",
        "updatedAt" : "2017-12-08T08:47:38Z",
        "lastEditedBy" : "cc7022b2-2831-4c63-a4da-d18b0d342508",
        "tags" : [
        ]
      }
    ],
    "commit" : "6161f656f6cf27441bec3bd6da6ed0c0f15d37fa",
    "line" : 109,
    "diffHunk" : "@@ -1,1 +333,337 @@        # additional supported types for pyarrow\n        import pyarrow\n        if LooseVersion(pyarrow.__version__) >= LooseVersion('0.7.0'):\n            df['datetime_tz'] = pd.date_range('20130101', periods=3,\n                                              tz='Europe/Brussels')"
  }
]