[
  {
    "id" : "572a2f24-0d55-4c64-a25c-724ab42fbdd1",
    "prId" : 25693,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/25693#pullrequestreview-214864926",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "222ef2dd-69ba-4ec2-b969-9484d3af8ca2",
        "parentId" : null,
        "authorId" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "body" : "For my curiosity, what was the old order for various python versions?",
        "createdAt" : "2019-03-14T21:29:59Z",
        "updatedAt" : "2019-03-18T17:16:55Z",
        "lastEditedBy" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "tags" : [
        ]
      },
      {
        "id" : "b151fbfb-e2ef-45a4-94f2-f92ab793f631",
        "parentId" : "222ef2dd-69ba-4ec2-b969-9484d3af8ca2",
        "authorId" : "851a6d4e-e0c5-475a-a532-fd33a2a93062",
        "body" : "Index(['max', 'mean', 'min', 'ohlc', 'sum'], dtype='object'). This would have been the result in all python versions previous to the changes I made in concat (#25224). After the changes, this would have been the return for the versions below Python 3.6, and the order observed in this PR for 3.6 and above. This is why we converted dicts to OrderedDicts in the aggregation functions, to ensure that result would be consistent in all versions.",
        "createdAt" : "2019-03-15T04:44:56Z",
        "updatedAt" : "2019-03-18T17:16:55Z",
        "lastEditedBy" : "851a6d4e-e0c5-475a-a532-fd33a2a93062",
        "tags" : [
        ]
      }
    ],
    "commit" : "6690b00ae6d7c1111d716419bdfbb8d505f1e563",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +313,317 @@    result = res.columns.levels[1]\n\n    expected = pd.Index(['sum', 'max', 'mean', 'ohlc', 'min'])\n\n    tm.assert_index_equal(result, expected)"
  },
  {
    "id" : "deb31b72-303c-493c-89b6-06c9a2fe92a8",
    "prId" : 26359,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/26359#pullrequestreview-238129405",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "efd8e2d8-bd41-4405-beef-0503692f4871",
        "parentId" : null,
        "authorId" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "body" : "Can we add test coverage for a value that exceeds the upper limit of an int64?",
        "createdAt" : "2019-05-13T20:02:29Z",
        "updatedAt" : "2019-05-16T18:40:21Z",
        "lastEditedBy" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "tags" : [
        ]
      },
      {
        "id" : "8a8166ab-5e9d-42a7-9857-01e7b53d0c60",
        "parentId" : "efd8e2d8-bd41-4405-beef-0503692f4871",
        "authorId" : "093d4877-be84-4d27-a655-b3adee9eed25",
        "body" : "It's not immediately clear to me what we would be testing for in that case. Issue #26310 is basically that there is some method `f` such that `f(x) != f(y)`, even though `x == y`, when `x` is of type `np.int64` and `y` is of type `np.uint64`.\r\n\r\nIf the value of `y` would exceed the upper limit of `np.int64` you couldn't represent it as an `np.int64` (?) and I'm not sure how you could pick `x` in that case to produce the above situation.\r\n\r\nIf I have misunderstood, please elaborate.",
        "createdAt" : "2019-05-14T17:58:52Z",
        "updatedAt" : "2019-05-16T18:40:21Z",
        "lastEditedBy" : "093d4877-be84-4d27-a655-b3adee9eed25",
        "tags" : [
        ]
      },
      {
        "id" : "5ee1d3c1-6a60-42ec-9db3-dce3504bd1ec",
        "parentId" : "efd8e2d8-bd41-4405-beef-0503692f4871",
        "authorId" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "body" : "The problem here is going to be with unsigned integers in the range of 2**63 through 2**64-1 (range where uint64 exceeds int64). I'm not sure if that would even work with these agg functions and don't want to open up a Pandora's box here but if that doesn't work we might just need to reword the whatsnew",
        "createdAt" : "2019-05-14T19:19:27Z",
        "updatedAt" : "2019-05-16T18:40:21Z",
        "lastEditedBy" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "tags" : [
        ]
      },
      {
        "id" : "10f5c7b4-1774-43e2-b792-9b9f9a024061",
        "parentId" : "efd8e2d8-bd41-4405-beef-0503692f4871",
        "authorId" : "093d4877-be84-4d27-a655-b3adee9eed25",
        "body" : "I suggest rewording whatsnew here and dealing with that in another pull request. What do you think @WillAyd? How would you like the whatsnew to be worded?",
        "createdAt" : "2019-05-15T05:15:56Z",
        "updatedAt" : "2019-05-16T18:40:21Z",
        "lastEditedBy" : "093d4877-be84-4d27-a655-b3adee9eed25",
        "tags" : [
        ]
      },
      {
        "id" : "1ea20616-a696-42f4-b3e7-99570602f858",
        "parentId" : "efd8e2d8-bd41-4405-beef-0503692f4871",
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "hmm, input uint64's *should* work with your code change, but @mahepe ok to make an issue about this.",
        "createdAt" : "2019-05-16T00:20:49Z",
        "updatedAt" : "2019-05-16T18:40:21Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      }
    ],
    "commit" : "ce22d54829b18d1fd6496c97083909b98783de81",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +325,329 @@    df.x = df.x.astype(dtype)\n    result = df.groupby('y').agg({'x': how})\n    result.x = result.x.astype(np.int64)\n    tm.assert_frame_equal(result, expected, check_exact=True)"
  },
  {
    "id" : "2b237137-2527-4129-a2e4-ee5f5fd97dc9",
    "prId" : 26359,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/26359#pullrequestreview-237402360",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3eecea77-af7d-4d1b-92cd-936110d14f13",
        "parentId" : null,
        "authorId" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "body" : "Just out of curiosity how did you select these methods? The issue would cover more than just these right?\r\n\r\nJust asking as at some point we should probably add a shared fixture for the different aggregation / transformation methods. Probably a separate PR but just curious if this subset is intentional",
        "createdAt" : "2019-05-13T20:05:54Z",
        "updatedAt" : "2019-05-16T18:40:21Z",
        "lastEditedBy" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "tags" : [
        ]
      },
      {
        "id" : "7e941d51-6494-4f1f-bf3e-28ae7bb23194",
        "parentId" : "3eecea77-af7d-4d1b-92cd-936110d14f13",
        "authorId" : "093d4877-be84-4d27-a655-b3adee9eed25",
        "body" : "This subset is not intentional.\r\n\r\nI tried to select a set that would satisfy the requests by the other reviewer. Since this PR alters a pretty generic method, I'm sure you could test for a way larger set of methods. It's just that I don't know the codebase well enough to design such tests.",
        "createdAt" : "2019-05-14T17:44:28Z",
        "updatedAt" : "2019-05-16T18:40:21Z",
        "lastEditedBy" : "093d4877-be84-4d27-a655-b3adee9eed25",
        "tags" : [
        ]
      }
    ],
    "commit" : "ce22d54829b18d1fd6496c97083909b98783de81",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +317,321 @@\n@pytest.mark.parametrize('dtype', [np.int64, np.uint64])\n@pytest.mark.parametrize('how', ['first', 'last', 'min',\n                                 'max', 'mean', 'median'])\ndef test_uint64_type_handling(dtype, how):"
  },
  {
    "id" : "418dd217-5495-436c-813a-953a3e76916a",
    "prId" : 26399,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/26399#pullrequestreview-238469126",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6f075980-c33f-4d6d-9080-048790ff701e",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "is a tuple required? I would say yes, otherwise should raise",
        "createdAt" : "2019-05-16T00:00:08Z",
        "updatedAt" : "2019-05-29T13:32:50Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      },
      {
        "id" : "fe48fb25-3e0f-48f6-96d5-0e3c69fd31d1",
        "parentId" : "6f075980-c33f-4d6d-9080-048790ff701e",
        "authorId" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "body" : "Yes (this test is asserting that we raise when the values aren't 2-tuples.)",
        "createdAt" : "2019-05-16T15:25:36Z",
        "updatedAt" : "2019-05-29T13:32:50Z",
        "lastEditedBy" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "tags" : [
        ]
      }
    ],
    "commit" : "25dca1ae55918302e6541f5650ced279a48af381",
    "line" : 96,
    "diffHunk" : "@@ -1,1 +405,409 @@        with pytest.raises(TypeError, match=match):\n            grouped.agg(foo=1)\n\n        with pytest.raises(TypeError, match=match):\n            grouped.agg()"
  },
  {
    "id" : "e845d346-4f82-4f6b-9710-62af4689d056",
    "prId" : 26399,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/26399#pullrequestreview-238124606",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "561d3691-e23c-4c1e-9f0d-208da1068b94",
        "parentId" : null,
        "authorId" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "body" : "can you test for a non-found column (KeyError) with a nice message",
        "createdAt" : "2019-05-16T00:00:37Z",
        "updatedAt" : "2019-05-29T13:32:50Z",
        "lastEditedBy" : "7086d5c0-382b-4c41-b70d-144a07643f71",
        "tags" : [
        ]
      }
    ],
    "commit" : "25dca1ae55918302e6541f5650ced279a48af381",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +409,413 @@            grouped.agg()\n\n        with pytest.raises(TypeError, match=match):\n            grouped.agg(a=('B', 'max'), b=(1, 2, 3))\n"
  },
  {
    "id" : "ac315611-e3b9-4987-bd1e-ee0d4660f9c0",
    "prId" : 26399,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/26399#pullrequestreview-238170881",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "511bce33-2051-404a-a378-63234336421f",
        "parentId" : null,
        "authorId" : "6375e888-43ef-4fba-928c-affe0957c74b",
        "body" : "In order for this test to cover more ground, could we include a third test with all possible _aggfunc_ types in the test?\r\n\r\nSomething like:\r\n\r\n```python\r\n        #earlier: from functools import partial\r\n        p98 = partial(np.percentile, q=98)\r\n        result = df.groupby('group').agg(\r\n            b_min=(\"B\", \"min\"),                         # string aggfunc\r\n            a_min=(\"A\", min),                           # built-in\r\n            a_average=(\"A\", np.mean),                   # numpy function\r\n            a_p98=(\"A\", p98),                           # partial function\r\n            b_p98=(\"B\", lambda x: np.percentile(x, 98)) # lambda function\r\n        )\r\n```",
        "createdAt" : "2019-05-16T04:12:14Z",
        "updatedAt" : "2019-05-29T13:32:50Z",
        "lastEditedBy" : "6375e888-43ef-4fba-928c-affe0957c74b",
        "tags" : [
        ]
      }
    ],
    "commit" : "25dca1ae55918302e6541f5650ced279a48af381",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +368,372 @@                                 'a_min', 'b_max', 'b_min']]\n        tm.assert_frame_equal(result, expected)\n\n    def test_agg_relabel_non_identifier(self):\n        df = pd.DataFrame({\"group\": ['a', 'a', 'b', 'b'],"
  },
  {
    "id" : "96572ae5-1deb-4d24-ab12-0233790bf76e",
    "prId" : 26399,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/26399#pullrequestreview-238474694",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f69df7f9-3654-4f53-b379-6b96884187bb",
        "parentId" : null,
        "authorId" : "6375e888-43ef-4fba-928c-affe0957c74b",
        "body" : "Why doesn't this work? These are not lambda functions. Do you mean that the (\"selected colname\", \"aggfunc `__name__`\") pairs must be all unique?",
        "createdAt" : "2019-05-16T04:14:37Z",
        "updatedAt" : "2019-05-29T13:32:50Z",
        "lastEditedBy" : "6375e888-43ef-4fba-928c-affe0957c74b",
        "tags" : [
        ]
      },
      {
        "id" : "7786befd-1ac1-4752-b6df-c9cd10001ada",
        "parentId" : "f69df7f9-3654-4f53-b379-6b96884187bb",
        "authorId" : "6375e888-43ef-4fba-928c-affe0957c74b",
        "body" : "I'd like to add, that ideally:\r\n* the (\"selected colname\", \"aggfunc `__name__`\") pairs should **not** have to be all unique\r\n* the (\"renamed dest col\", \"selected colname\", \"aggfunc `__name__`\") pairs **must** be all unique\r\n\r\nIf the above holds, then using multiple lambdas and/or multiple partials based on the same base function would work and this would solve the issues mentioned in the initial post of #18366.\r\n\r\nI suppose that this implementation-related limitation is the one you were referring to at the end of your comment in https://github.com/pandas-dev/pandas/issues/18366#issuecomment-492784947",
        "createdAt" : "2019-05-16T05:14:00Z",
        "updatedAt" : "2019-05-29T13:32:50Z",
        "lastEditedBy" : "6375e888-43ef-4fba-928c-affe0957c74b",
        "tags" : [
        ]
      },
      {
        "id" : "9960b05b-4263-456a-b49f-1663f92250ac",
        "parentId" : "f69df7f9-3654-4f53-b379-6b96884187bb",
        "authorId" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "body" : "> Do you mean that the (\"selected colname\", \"aggfunc __name__\") pairs must be all unique?\r\n\r\nYes. This could perhaps be relaxed in the future.",
        "createdAt" : "2019-05-16T15:34:18Z",
        "updatedAt" : "2019-05-29T13:32:50Z",
        "lastEditedBy" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "tags" : [
        ]
      }
    ],
    "commit" : "25dca1ae55918302e6541f5650ced279a48af381",
    "line" : 75,
    "diffHunk" : "@@ -1,1 +384,388 @@        df = pd.DataFrame({\"A\": [0, 0, 1, 1], \"B\": [1, 2, 3, 4]})\n        with pytest.raises(SpecificationError, match=\"Function names\"):\n            df.groupby(\"A\").agg(a=(\"A\", \"min\"), b=(\"A\", \"min\"))\n\n    def test_agg_relabel_with_level(self):"
  },
  {
    "id" : "bc597f11-a516-4faf-b2f9-1707fbdcdb14",
    "prId" : 28428,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/28428#pullrequestreview-289047494",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b32ebf84-b6f2-4ae6-885f-ac4ab240cd94",
        "parentId" : null,
        "authorId" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "body" : "Is this duplicating an existing test?",
        "createdAt" : "2019-09-16T21:05:57Z",
        "updatedAt" : "2019-12-03T14:45:01Z",
        "lastEditedBy" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "tags" : [
        ]
      },
      {
        "id" : "d136f38b-b0ee-466b-a938-52efdcff358e",
        "parentId" : "b32ebf84-b6f2-4ae6-885f-ac4ab240cd94",
        "authorId" : "826346de-4250-468b-bca4-1f6bdaf861b8",
        "body" : "emm, you mean the name of the test? or the test itself? I dont think it's duplicating an existing test, at least i look up the tests and corresponding error message, this doesn't seem to be a duplicate to me. @TomAugspurger ",
        "createdAt" : "2019-09-17T06:44:29Z",
        "updatedAt" : "2019-12-03T14:45:01Z",
        "lastEditedBy" : "826346de-4250-468b-bca4-1f6bdaf861b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "8eaeceeb02a2d7d7f780887a32e3bea1a922a17b",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +354,358 @@\n\ndef test_func_duplicates_raises():\n    # GH28426\n    msg = \"Function names\""
  },
  {
    "id" : "2598ebb5-9918-4e10-ae1e-f2f4c48067bd",
    "prId" : 28428,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/28428#pullrequestreview-289074586",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2221a607-b189-45eb-a5c1-956895e8a1b8",
        "parentId" : null,
        "authorId" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "body" : "Can you also add a test using `functools.partial` as in the original issue?",
        "createdAt" : "2019-09-16T21:06:39Z",
        "updatedAt" : "2019-12-03T14:45:01Z",
        "lastEditedBy" : "21b82015-4bfc-4f74-bfca-586973dad2cd",
        "tags" : [
        ]
      },
      {
        "id" : "9a8d4756-f1bf-4fe3-8819-e8020a59980d",
        "parentId" : "2221a607-b189-45eb-a5c1-956895e8a1b8",
        "authorId" : "826346de-4250-468b-bca4-1f6bdaf861b8",
        "body" : "genius!! really have sharp eyes!! this will not raise an error, but will produce wrong result, detailed result is pushed! It seems not as easy as directly removing error message, might be inappropriate for Series agg, I will debug a bit and let you know in details. @TomAugspurger ",
        "createdAt" : "2019-09-17T07:13:45Z",
        "updatedAt" : "2019-12-03T14:45:01Z",
        "lastEditedBy" : "826346de-4250-468b-bca4-1f6bdaf861b8",
        "tags" : [
        ]
      },
      {
        "id" : "6cbb1ed1-51a9-43b1-a933-aefc72ef075a",
        "parentId" : "2221a607-b189-45eb-a5c1-956895e8a1b8",
        "authorId" : "826346de-4250-468b-bca4-1f6bdaf861b8",
        "body" : "this might come down to having named aggregation in Series? i need time to look deeper in code base. Will update later.",
        "createdAt" : "2019-09-17T07:46:13Z",
        "updatedAt" : "2019-12-03T14:45:01Z",
        "lastEditedBy" : "826346de-4250-468b-bca4-1f6bdaf861b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "8eaeceeb02a2d7d7f780887a32e3bea1a922a17b",
    "line" : 52,
    "diffHunk" : "@@ -1,1 +458,462 @@        )\n        tm.assert_frame_equal(grouped, expected)\n\n        quant50 = functools.partial(np.percentile, q=50)\n        quant70 = functools.partial(np.percentile, q=70)"
  },
  {
    "id" : "a2e0c0f8-631d-41b1-a0c0-0bac65eeed57",
    "prId" : 29504,
    "prUrl" : "https://github.com/pandas-dev/pandas/pull/29504#pullrequestreview-315110483",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8948f3bb-e657-4252-a390-557fae0e3a3b",
        "parentId" : null,
        "authorId" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "body" : "Can you split this and the test below into two separate tests? Seem to be testing different things",
        "createdAt" : "2019-11-11T19:24:40Z",
        "updatedAt" : "2019-11-11T19:49:52Z",
        "lastEditedBy" : "5e8c5ef2-940b-436e-9c5f-98ae5460128c",
        "tags" : [
        ]
      },
      {
        "id" : "a30180d5-e5ae-4488-8734-58387a33baea",
        "parentId" : "8948f3bb-e657-4252-a390-557fae0e3a3b",
        "authorId" : "826346de-4250-468b-bca4-1f6bdaf861b8",
        "body" : "thanks for your comment, will split!",
        "createdAt" : "2019-11-11T19:33:14Z",
        "updatedAt" : "2019-11-11T19:49:52Z",
        "lastEditedBy" : "826346de-4250-468b-bca4-1f6bdaf861b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "7e138de68c2b608b17c225c4c4eabd4001856093",
    "line" : 63,
    "diffHunk" : "@@ -1,1 +555,559 @@    df.columns = pd.MultiIndex.from_tuples([(\"x\", \"group\"), (\"y\", \"A\"), (\"y\", \"B\")])\n\n    with pytest.raises(KeyError, match=\"does not exist\"):\n        df.groupby((\"x\", \"group\")).agg(a=((\"Y\", \"a\"), \"max\"))\n"
  }
]