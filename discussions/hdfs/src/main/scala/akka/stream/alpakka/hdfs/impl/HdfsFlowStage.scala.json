[
  {
    "id" : "70b1015f-29e8-4592-8ebf-d9694b77cb19",
    "prId" : 965,
    "prUrl" : "https://github.com/akka/alpakka/pull/965#pullrequestreview-130029586",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "555d884f-bf50-45ce-8a42-76335cf77d41",
        "parentId" : null,
        "authorId" : "8173970f-6a3f-4891-8394-179e8251af2d",
        "body" : "As the underlying writing abstraction is `java.io.OutputStream` which is blocking, we have to signal to the Akka Stream materializer that it should materialize HdfsFlowStage to a separate dispatcher. This allows other parts of the stream to continue uninpacted when this stage is going to block a thread during writing operations.\r\n\r\nTherefore add the following here:\r\n```\r\noverride def initialAttributes: Attributes =\r\n  super.initialAttributes and ActorAttributes.IODispatcher\r\n```",
        "createdAt" : "2018-06-18T15:04:20Z",
        "updatedAt" : "2018-06-26T17:31:22Z",
        "lastEditedBy" : "8173970f-6a3f-4891-8394-179e8251af2d",
        "tags" : [
        ]
      },
      {
        "id" : "77b93ee3-5f13-482c-a618-365c6322301d",
        "parentId" : "555d884f-bf50-45ce-8a42-76335cf77d41",
        "authorId" : "31100a65-2558-4cdf-b242-3f4f19af02a4",
        "body" : "Thank you for this comment. While I was running it, i was also profiling the app. I guess this is a nice improvement.",
        "createdAt" : "2018-06-19T15:24:40Z",
        "updatedAt" : "2018-06-26T17:31:22Z",
        "lastEditedBy" : "31100a65-2558-4cdf-b242-3f4f19af02a4",
        "tags" : [
        ]
      }
    ],
    "commit" : "c809a0b5a18f18be3614576b3a02d602424a3269",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +31,35 @@\n  override val shape: FlowShape[HdfsWriteMessage[I, C], OutgoingMessage[C]] = FlowShape(in, out)\n\n  override protected def initialAttributes: Attributes =\n    super.initialAttributes and ActorAttributes.IODispatcher"
  }
]