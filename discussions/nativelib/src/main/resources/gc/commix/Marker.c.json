[
  {
    "id" : "c02b3077-1a73-4f31-bdef-107277f499b3",
    "prId" : 1423,
    "prUrl" : "https://github.com/scala-native/scala-native/pull/1423#pullrequestreview-198998113",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41ac4f26-9f8a-4153-bebf-30c1200b68d9",
        "parentId" : null,
        "authorId" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "body" : "Needs a comment somewhere around here to explain the gray packets and how they are managed. ",
        "createdAt" : "2019-02-01T10:22:31Z",
        "updatedAt" : "2019-07-17T09:53:34Z",
        "lastEditedBy" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "tags" : [
        ]
      }
    ],
    "commit" : "9349177c2456e08c91598c5a158c63a30876a4e0",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +9,13 @@#include \"GCThread.h\"\n#include <sched.h>\n\nextern word_t *__modules;\nextern int __modules_size;"
  },
  {
    "id" : "35a7c8a0-59ee-4107-b24d-4f7bd890f168",
    "prId" : 1423,
    "prUrl" : "https://github.com/scala-native/scala-native/pull/1423#pullrequestreview-198998113",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fd559c45-38c8-4438-8b7b-6b1d62dcc8d8",
        "parentId" : null,
        "authorId" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "body" : "I'd move the two branches of this if into two helper methods `Marker_markArrayObject` and `Marker_markRegularObject`. ",
        "createdAt" : "2019-02-01T10:24:17Z",
        "updatedAt" : "2019-07-17T09:53:34Z",
        "lastEditedBy" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "tags" : [
        ]
      }
    ],
    "commit" : "9349177c2456e08c91598c5a158c63a30876a4e0",
    "line" : 249,
    "diffHunk" : "@@ -1,1 +247,251 @@    while (!GreyPacket_IsEmpty(in)) {\n        Object *object = GreyPacket_Pop(in);\n        if (Object_IsArray(object)) {\n            if (object->rtti->rt.id == __object_array_id) {\n                objectsTraced += Marker_markObjectArray(heap, stats, object,"
  },
  {
    "id" : "083b912a-fa1f-4037-8dbc-dde3c701fd89",
    "prId" : 1423,
    "prUrl" : "https://github.com/scala-native/scala-native/pull/1423#pullrequestreview-198998113",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8811573a-cb5e-4971-b823-72ee6708cfe3",
        "parentId" : null,
        "authorId" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "body" : "1. Needs a comment with motivation for not using all threads at once. \r\n2. Some of thread management boilerplate probably belongs to non-marker module (i.e. gcthread module).",
        "createdAt" : "2019-02-01T10:30:44Z",
        "updatedAt" : "2019-07-17T09:53:34Z",
        "lastEditedBy" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "tags" : [
        ]
      }
    ],
    "commit" : "9349177c2456e08c91598c5a158c63a30876a4e0",
    "line" : 323,
    "diffHunk" : "@@ -1,1 +321,325 @@}\n\nvoid Marker_MarkAndScale(Heap *heap, Stats *stats) {\n    GreyPacket *in = Marker_takeFullPacket(heap, stats);\n    GreyPacket *out = NULL;"
  },
  {
    "id" : "b026a3d5-c7bd-46f7-901d-467fca0270c8",
    "prId" : 1423,
    "prUrl" : "https://github.com/scala-native/scala-native/pull/1423#pullrequestreview-201537440",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2f7b3499-b4b9-4847-90dd-7befdcaded0e",
        "parentId" : null,
        "authorId" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "body" : "Needs more details. Especially around:\r\n1. Work balancing: array splitting, packet splitting (including explanation of the constants).\r\n2. Synchronization: only on taking/returning packets from the pool, but need to mention that marking naturally doesn't require fine-grain synchronization. ",
        "createdAt" : "2019-02-08T11:34:45Z",
        "updatedAt" : "2019-07-17T09:53:34Z",
        "lastEditedBy" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "tags" : [
        ]
      },
      {
        "id" : "cc2a2638-b798-47ba-a021-10d48811ef57",
        "parentId" : "2f7b3499-b4b9-4847-90dd-7befdcaded0e",
        "authorId" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "body" : "Also just a brief mention of how roots are handled and how/when are threads spin up/down would be good as well.",
        "createdAt" : "2019-02-08T11:35:32Z",
        "updatedAt" : "2019-07-17T09:53:34Z",
        "lastEditedBy" : "0f96d83b-618e-4d06-9aeb-e1d46fa92077",
        "tags" : [
        ]
      }
    ],
    "commit" : "9349177c2456e08c91598c5a158c63a30876a4e0",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +35,39 @@// packet list. Similarly, when the \"out\" packet get full, marker gets another\n// empty packet and pushes the full one on the full packet list.\n// Marking is done when all the packets are empty and in the empty packet list.\n//\n// An object can have different number of outgoing pointers. Therefore, the number"
  }
]