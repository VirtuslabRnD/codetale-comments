[
  {
    "id" : "7034ea0f-ffb3-47f0-94d1-65a8c990071b",
    "prId" : 39747,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/39747#pullrequestreview-418665528",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "30112079-66d3-4b9f-b8d6-12c8511f4e46",
        "parentId" : null,
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "Why do we need to minus one here? It's already done in `gen`.",
        "createdAt" : "2020-05-22T19:46:52Z",
        "updatedAt" : "2020-07-14T03:15:39Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      },
      {
        "id" : "065482f9-0407-4768-ac28-bb5898f9b85a",
        "parentId" : "30112079-66d3-4b9f-b8d6-12c8511f4e46",
        "authorId" : "e8354fab-5d0f-42e9-8505-c920c048702a",
        "body" : "The original `minus` is not in `gen`, it's the format function in the loop of `Distribution`: https://github.com/tensorflow/tensorflow/blob/2b2df19f4b2a249821611e98786262585b57bebe/tensorflow/core/lib/random/random_distributions.h#L126.\r\n\r\nKey optimization of this PR is to move the `minus` out of the loop so that it can be vectorized.",
        "createdAt" : "2020-05-25T08:33:19Z",
        "updatedAt" : "2020-07-14T03:15:39Z",
        "lastEditedBy" : "e8354fab-5d0f-42e9-8505-c920c048702a",
        "tags" : [
        ]
      },
      {
        "id" : "8c4766eb-fe89-4af8-b0e0-3449ccb846c3",
        "parentId" : "30112079-66d3-4b9f-b8d6-12c8511f4e46",
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "I see it now. I think I misread between `Uint16toBfloat16/InternalUint16toBfloat16` and `Uint32toFloat/InternalUint32toFloat` at the time. ",
        "createdAt" : "2020-05-26T21:03:50Z",
        "updatedAt" : "2020-07-14T03:15:39Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "bbecc1f667623ff1fbf914cd07f34a0abff64e88",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +80,84 @@      Tensor;\n  auto tensor_result = Tensor(&result[0], kResultElementCount);\n  tensor_result = tensor_result - typename Distribution::ResultElementType(1.0);\n  return result;\n}"
  }
]