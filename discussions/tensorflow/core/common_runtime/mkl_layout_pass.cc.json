[
  {
    "id" : "842fb282-8491-4000-a525-d3c18a70e3e4",
    "prId" : 42710,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/42710#pullrequestreview-478869942",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8858378-6a90-496b-addd-e9a6c5e1270e",
        "parentId" : null,
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "Do you think we can make `native` an op attribute instead of a separate op? For example, instead of the graph rewrite pass rewriting a node to either `_MklConv2DWithBias` or `_MklNativeConv2DWithBias`, we only have `_MklConv2DWithBias` and the graph rewrite pass sets a `native` attribute based on the layout instead. And the kernel implementation can just read the attribute instead of relying on the `bool` template parameter.\r\n\r\nSince the 2.4 branch cut is coming soon and you probably already have other in-progress PRs done this way, I'm also fine with the current approach for now and reconsidering after 2.4.",
        "createdAt" : "2020-08-28T23:27:24Z",
        "updatedAt" : "2020-08-31T22:14:05Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      },
      {
        "id" : "211597d6-b99c-4954-827e-252daae7bb23",
        "parentId" : "c8858378-6a90-496b-addd-e9a6c5e1270e",
        "authorId" : "25745d2d-fe01-49de-975c-879c043e0b34",
        "body" : "I remember we have tired that before. The problem is _MklNative* ops are used in both graph and eager modes. Eager runtime always checks for # of inputs and outputs to match the op def. Since we have twice as the number of inputs/outputs with the current ops, the check would fail. What do you think?",
        "createdAt" : "2020-08-31T18:13:29Z",
        "updatedAt" : "2020-08-31T22:14:05Z",
        "lastEditedBy" : "25745d2d-fe01-49de-975c-879c043e0b34",
        "tags" : [
        ]
      },
      {
        "id" : "008e8285-379a-4fd8-a42f-a0ce292d77d0",
        "parentId" : "c8858378-6a90-496b-addd-e9a6c5e1270e",
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "Ah. I forgot about that. This is fine then. We can try eliminating the MKL second tensors in the new TFRT+MLIR stack. Thank you for the clarification!",
        "createdAt" : "2020-08-31T19:04:52Z",
        "updatedAt" : "2020-08-31T22:14:05Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "dfacc5140112125282e33b4f8f6c155a3edee3bd",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +301,305 @@    csinfo_.mkl_fused_depthwise_conv2d = \"_MklFusedDepthwiseConv2dNative\";\n    csinfo_.mkl_fused_matmul = \"_MklFusedMatMul\";\n    csinfo_.mkl_native_conv2d_with_bias = \"_MklNativeConv2DWithBias\";\n    csinfo_.mkl_native_fused_batch_norm_ex = \"_MklNativeFusedBatchNormEx\";\n    csinfo_.mkl_native_fused_conv2d = \"_MklNativeFusedConv2D\";"
  },
  {
    "id" : "5437d942-3366-47f5-904a-f76ed5e32678",
    "prId" : 38016,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/38016#pullrequestreview-412220150",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "88951b4d-a2dc-4473-8331-9a049f863a13",
        "parentId" : null,
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "Just curious. What does Ex mean here?",
        "createdAt" : "2020-05-13T17:17:02Z",
        "updatedAt" : "2020-05-14T02:50:45Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      },
      {
        "id" : "5be668ff-b33c-4b19-96da-a3cdff51bce9",
        "parentId" : "88951b4d-a2dc-4473-8331-9a049f863a13",
        "authorId" : "b290c238-d054-4554-ad7a-c1f31856dbbc",
        "body" : "I have no idea :( It is defined in remapper.cc.",
        "createdAt" : "2020-05-14T02:48:56Z",
        "updatedAt" : "2020-05-14T02:50:45Z",
        "lastEditedBy" : "b290c238-d054-4554-ad7a-c1f31856dbbc",
        "tags" : [
        ]
      },
      {
        "id" : "56b838e6-609e-4395-b01c-4593aa78a296",
        "parentId" : "88951b4d-a2dc-4473-8331-9a049f863a13",
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "I see. Thank you!",
        "createdAt" : "2020-05-14T22:09:00Z",
        "updatedAt" : "2020-05-14T22:16:53Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "cde93f014c5b42800d3a43ffea53001ccc635e29",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +269,273 @@    csinfo_.fused_batch_norm = \"FusedBatchNorm\";\n    csinfo_.fused_batch_norm_grad = \"FusedBatchNormGrad\";\n    csinfo_.fused_batch_norm_ex = \"_FusedBatchNormEx\";\n    csinfo_.fused_batch_norm_v2 = \"FusedBatchNormV2\";\n    csinfo_.fused_batch_norm_grad_v2 = \"FusedBatchNormGradV2\";"
  }
]