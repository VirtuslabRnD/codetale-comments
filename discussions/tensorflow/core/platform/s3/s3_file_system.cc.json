[
  {
    "id" : "9383ea72-eb57-479b-8784-54768a934bae",
    "prId" : 39124,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/39124#pullrequestreview-405198982",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e1387014-cf7e-4c6e-b541-20bf28735ad4",
        "parentId" : null,
        "authorId" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "body" : "I think it would be better to get the temp directory from the environment (Env::GetTempDirectories or environment variables) but that's optional for now and can be done in a later PR.",
        "createdAt" : "2020-05-04T15:31:09Z",
        "updatedAt" : "2020-05-05T01:10:35Z",
        "lastEditedBy" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "tags" : [
        ]
      },
      {
        "id" : "8a8f3513-85b7-4db2-9ab9-6f5408c221d5",
        "parentId" : "e1387014-cf7e-4c6e-b541-20bf28735ad4",
        "authorId" : "702bb900-8991-4c2e-8fcb-419ec6a2d5ad",
        "body" : "I think we should not invest too much time on this detail, as we will switch to `s3_filesystem_plugins` soon",
        "createdAt" : "2020-05-04T17:24:34Z",
        "updatedAt" : "2020-05-05T01:10:35Z",
        "lastEditedBy" : "702bb900-8991-4c2e-8fcb-419ec6a2d5ad",
        "tags" : [
        ]
      },
      {
        "id" : "00057ca4-acb5-4009-86b3-207d4e0c1e9d",
        "parentId" : "e1387014-cf7e-4c6e-b541-20bf28735ad4",
        "authorId" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "body" : "Totally agree. Thank you",
        "createdAt" : "2020-05-04T17:33:00Z",
        "updatedAt" : "2020-05-05T01:10:35Z",
        "lastEditedBy" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "24fafc09247564ded4f0b083613afb5bfb3f8b53",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +279,283 @@        sync_needed_(true),\n        outfile_(Aws::MakeShared<Aws::Utils::TempFile>(\n            kS3FileSystemAllocationTag, kS3TempFileTemplate,\n            std::ios_base::binary | std::ios_base::trunc | std::ios_base::in |\n                std::ios_base::out)) {}"
  },
  {
    "id" : "269a7629-c56b-4fb0-b8b9-d5440dd8e89c",
    "prId" : 36354,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/36354#pullrequestreview-362228674",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "36aca4ce-f4a1-4ea7-a14d-a6dc0593fee8",
        "parentId" : null,
        "authorId" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "body" : "Instead of `1` we should use one of the constants to make this readable",
        "createdAt" : "2020-02-19T19:45:00Z",
        "updatedAt" : "2020-02-26T01:59:05Z",
        "lastEditedBy" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "tags" : [
        ]
      },
      {
        "id" : "485947e7-d185-44c5-a2a8-e23581e8b883",
        "parentId" : "36aca4ce-f4a1-4ea7-a14d-a6dc0593fee8",
        "authorId" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "body" : "Will do, pending the discussion here: https://github.com/tensorflow/tensorflow/pull/36352#discussion_r382237079",
        "createdAt" : "2020-02-20T20:37:51Z",
        "updatedAt" : "2020-02-26T01:59:05Z",
        "lastEditedBy" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "tags" : [
        ]
      },
      {
        "id" : "edf3baa3-d534-4cef-a22c-f3457e22512c",
        "parentId" : "36aca4ce-f4a1-4ea7-a14d-a6dc0593fee8",
        "authorId" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "body" : "Let's keep them both as they are",
        "createdAt" : "2020-02-20T20:57:05Z",
        "updatedAt" : "2020-02-26T01:59:05Z",
        "lastEditedBy" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "fc3fdb47e622a77767bdf39b666825c9f3ffc800",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +227,231 @@  Status Read(uint64 offset, size_t n, StringPiece* result,\n              char* scratch) const override {\n    VLOG(1) << \"ReadFilefromS3 s3://\" << bucket_ << \"/\" << object_ << \" from \" << offset << \" for n:\" << n;\n    Aws::S3::Model::GetObjectRequest getObjectRequest;\n    getObjectRequest.WithBucket(bucket_.c_str()).WithKey(object_.c_str());"
  },
  {
    "id" : "9b04d4fd-3113-4568-a472-1f872f1ee997",
    "prId" : 36353,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/36353#pullrequestreview-351793288",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3fb95158-bffa-4350-87c3-47378fafd713",
        "parentId" : null,
        "authorId" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "body" : "This metadata was missing earlier. Added this to the stats result",
        "createdAt" : "2020-01-31T21:38:39Z",
        "updatedAt" : "2020-02-24T22:30:43Z",
        "lastEditedBy" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "tags" : [
        ]
      }
    ],
    "commit" : "af9e81b32e6da6d8e11f660cf4b96f8b1a9fe7bf",
    "line" : 96,
    "diffHunk" : "@@ -1,1 +602,606 @@      stats->length = 0;\n      stats->is_directory = 1;\n      stats->mtime_nsec = listObjects[0].GetLastModified().Millis() * 1e6;\n      found = true;\n    }"
  },
  {
    "id" : "0fc4daa8-f11b-4653-bd05-67dfc3f79a37",
    "prId" : 36353,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/36353#pullrequestreview-363754081",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e7bd0c53-ae1e-4832-acc6-10a64490e7e2",
        "parentId" : null,
        "authorId" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "body" : "Merged a fix for a bug when reading files, which treats error as end of file. This was earlier a separate PR: https://github.com/tensorflow/tensorflow/pull/36389 . Merging it here to save some time and effort into getting another PR in. ",
        "createdAt" : "2020-02-24T22:41:47Z",
        "updatedAt" : "2020-02-24T22:41:47Z",
        "lastEditedBy" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "tags" : [
        ]
      }
    ],
    "commit" : "af9e81b32e6da6d8e11f660cf4b96f8b1a9fe7bf",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +233,237 @@    if (!getObjectOutcome.IsSuccess()) {\n      auto error = getObjectOutcome.GetError();\n      if (error.GetResponseCode() == Aws::Http::HttpResponseCode::REQUESTED_RANGE_NOT_SATISFIABLE) {\n        n = 0;\n        *result = StringPiece(scratch, n);"
  },
  {
    "id" : "01867772-c9ab-44ba-9c8c-22ce479de727",
    "prId" : 36352,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/36352#pullrequestreview-362222505",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8aac9890-2ef3-4d48-a717-54d4428a4715",
        "parentId" : null,
        "authorId" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "body" : "Let's use a constant instead of `1` in `VLOG`",
        "createdAt" : "2020-02-19T21:23:34Z",
        "updatedAt" : "2020-02-21T00:02:33Z",
        "lastEditedBy" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "tags" : [
        ]
      },
      {
        "id" : "b167acab-f7c2-4199-bdd5-9e8ea2b4b1cc",
        "parentId" : "8aac9890-2ef3-4d48-a717-54d4428a4715",
        "authorId" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "body" : "Just to clarify, do you want me to change 1 to a higher number? \r\n\r\nOr use a constant variable instead of the number 1? VLOG(1), VLOG(2), etc is actually consistent with usage in the current codebase. If we want to use a constant variable I don't see good options for constants which already exist (as the INFO, WARNING, ERROR constants would be unintuitive as they go in the opposite direction 0->1->2). I can create new constants specific to this file. \r\n\r\nPlease let me know what do you want me to do. ",
        "createdAt" : "2020-02-20T20:22:28Z",
        "updatedAt" : "2020-02-21T00:02:33Z",
        "lastEditedBy" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "tags" : [
        ]
      },
      {
        "id" : "348f9cc1-6331-4a6c-b940-613f587ce192",
        "parentId" : "8aac9890-2ef3-4d48-a717-54d4428a4715",
        "authorId" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "body" : "There should be some work to replace 0/1/2 with INFO/WARNING/ERROR to make these less unintuitive. I would prefer to use the names here but we can also merge this as it is and fix at a later time.",
        "createdAt" : "2020-02-20T20:49:15Z",
        "updatedAt" : "2020-02-21T00:02:33Z",
        "lastEditedBy" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "40cb9181f9c93a58471ed668fb1760717ff9baad",
    "line" : 118,
    "diffHunk" : "@@ -1,1 +297,301 @@           retries++ < kUploadRetries) {\n      // if multipart upload was used, only the failed parts will be re-sent\n      VLOG(1) << \"Retrying Upload of s3://\" << bucket_ << \"/\" << object_\n              << \" after failure. Current retry count:\" << retries;\n      transfer_manager_.get()->RetryUpload(outfile_, handle);"
  },
  {
    "id" : "9d47b232-d2ed-49a9-824f-2437fd32fdc4",
    "prId" : 36352,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/36352#pullrequestreview-361447218",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0d8e58b1-efd9-4695-a78b-bbf75dee64c3",
        "parentId" : null,
        "authorId" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "body" : "Let's add an extra empty line above this one",
        "createdAt" : "2020-02-19T21:25:57Z",
        "updatedAt" : "2020-02-21T00:02:33Z",
        "lastEditedBy" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "40cb9181f9c93a58471ed668fb1760717ff9baad",
    "line" : 124,
    "diffHunk" : "@@ -1,1 +303,307 @@    }\n\n    if (handle->GetStatus() != Aws::Transfer::TransferStatus::COMPLETED) {\n      auto error = handle->GetLastError();\n      if (error.GetResponseCode() == Aws::Http::HttpResponseCode::FORBIDDEN) {"
  },
  {
    "id" : "a33f16e2-e664-414c-9829-66b6228b806e",
    "prId" : 36352,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/36352#pullrequestreview-362322112",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "af468486-3878-49f5-872f-6e086efb5c74",
        "parentId" : null,
        "authorId" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "body" : "Will update this snippet to use the methods I defined in a different PR, to whichever PR goes in second.",
        "createdAt" : "2020-02-21T00:03:44Z",
        "updatedAt" : "2020-02-21T00:03:45Z",
        "lastEditedBy" : "4ad7dbe4-1229-4648-9aea-72da96758a35",
        "tags" : [
        ]
      }
    ],
    "commit" : "40cb9181f9c93a58471ed668fb1760717ff9baad",
    "line" : 126,
    "diffHunk" : "@@ -1,1 +305,309 @@    if (handle->GetStatus() != Aws::Transfer::TransferStatus::COMPLETED) {\n      auto error = handle->GetLastError();\n      if (error.GetResponseCode() == Aws::Http::HttpResponseCode::FORBIDDEN) {\n        return errors::FailedPrecondition(\"AWS Credentials have not been set properly. \"\n                                          \"Unable to access the specified S3 location\");"
  }
]