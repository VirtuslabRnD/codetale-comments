[
  {
    "id" : "e8c721ef-c0d2-4fd1-a0ad-e56bd6e72ed2",
    "prId" : 41733,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/41733#pullrequestreview-511971992",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "23790544-b55c-4206-ada7-25d6ac7218de",
        "parentId" : null,
        "authorId" : "2561fcb0-e706-401c-9b70-ae56e2e5c0f7",
        "body" : "Could you comment this class?",
        "createdAt" : "2020-10-19T02:52:43Z",
        "updatedAt" : "2020-11-02T19:31:20Z",
        "lastEditedBy" : "2561fcb0-e706-401c-9b70-ae56e2e5c0f7",
        "tags" : [
        ]
      },
      {
        "id" : "8da4919d-edbe-4f73-a59f-39199548c5d3",
        "parentId" : "23790544-b55c-4206-ada7-25d6ac7218de",
        "authorId" : "f3620dcd-5b8a-4e86-9a0d-9464f44720b3",
        "body" : "Will do",
        "createdAt" : "2020-10-19T17:01:02Z",
        "updatedAt" : "2020-11-02T19:31:20Z",
        "lastEditedBy" : "f3620dcd-5b8a-4e86-9a0d-9464f44720b3",
        "tags" : [
        ]
      }
    ],
    "commit" : "bbb3cb142ef9c105816ab42ef70617396c7c7d5c",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +43,47 @@// adding and removing the log sinks, as well as handling sending log messages \n// to all the registered log sinks.\nclass TFLogSinks {\n  public:\n    // Gets the TFLogSinks instance. This is the entry point for using this class."
  },
  {
    "id" : "c5c0e935-d2a6-4248-b6e6-db09ba2d619d",
    "prId" : 41733,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/41733#pullrequestreview-512050365",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "34fbbdb6-07ae-46d1-9c27-b9ed926df54b",
        "parentId" : null,
        "authorId" : "2561fcb0-e706-401c-9b70-ae56e2e5c0f7",
        "body" : "```\r\nabsl::LogSeverity::kInfo:\r\n  sev = 'I';\r\n  break;\r\n\r\ndefault:\r\n  assert(false && \"Unknown logging severity\");\r\n  sev = '?';\r\n  break;\r\n```",
        "createdAt" : "2020-10-19T07:19:03Z",
        "updatedAt" : "2020-11-02T19:31:20Z",
        "lastEditedBy" : "2561fcb0-e706-401c-9b70-ae56e2e5c0f7",
        "tags" : [
        ]
      },
      {
        "id" : "defe9eb8-c792-4388-bf03-33d3577f3d1d",
        "parentId" : "34fbbdb6-07ae-46d1-9c27-b9ed926df54b",
        "authorId" : "f3620dcd-5b8a-4e86-9a0d-9464f44720b3",
        "body" : "will do",
        "createdAt" : "2020-10-19T18:32:36Z",
        "updatedAt" : "2020-11-02T19:31:20Z",
        "lastEditedBy" : "f3620dcd-5b8a-4e86-9a0d-9464f44720b3",
        "tags" : [
        ]
      }
    ],
    "commit" : "bbb3cb142ef9c105816ab42ef70617396c7c7d5c",
    "line" : 331,
    "diffHunk" : "@@ -1,1 +534,538 @@        break;\n\n    default:\n      assert(false && \"Unknown logging severity\");\n      sev = '?';"
  },
  {
    "id" : "fc140574-6084-4063-b0cb-b6d73daeebc7",
    "prId" : 41733,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/41733#pullrequestreview-521925764",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "77f82493-5a0e-4fa0-9130-8754fd304cc9",
        "parentId" : null,
        "authorId" : "2561fcb0-e706-401c-9b70-ae56e2e5c0f7",
        "body" : "Let's call `TFLogSinks::Add` instead of pushing directly.",
        "createdAt" : "2020-10-29T19:44:28Z",
        "updatedAt" : "2020-11-02T19:31:20Z",
        "lastEditedBy" : "2561fcb0-e706-401c-9b70-ae56e2e5c0f7",
        "tags" : [
        ]
      },
      {
        "id" : "2ab21dbb-c8b6-45da-b666-47d4ac4fe1ee",
        "parentId" : "77f82493-5a0e-4fa0-9130-8754fd304cc9",
        "authorId" : "f3620dcd-5b8a-4e86-9a0d-9464f44720b3",
        "body" : "I disagree, `TFLogSinks::Add` does a whole lot more than just pushing back a log sink. Since this is the constructor, we know that it's thread safe and there are no sinks, or messages in the queue.",
        "createdAt" : "2020-11-02T19:19:52Z",
        "updatedAt" : "2020-11-02T19:31:20Z",
        "lastEditedBy" : "f3620dcd-5b8a-4e86-9a0d-9464f44720b3",
        "tags" : [
        ]
      }
    ],
    "commit" : "bbb3cb142ef9c105816ab42ef70617396c7c7d5c",
    "line" : 166,
    "diffHunk" : "@@ -1,1 +369,373 @@#ifndef NO_DEFAULT_LOGGER\n  static TFDefaultLogSink default_sink;\n  sinks_.push_back(&default_sink);\n#endif\n}"
  },
  {
    "id" : "a8ac7e40-24c3-46ac-a1b9-9f2cfce9ada1",
    "prId" : 7197,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/7197#pullrequestreview-19831794",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f74907b9-89bf-4c72-8d1e-b559789b0ad6",
        "parentId" : null,
        "authorId" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "body" : "Gah, just realized this format should be %05d or something like that. Otherwise 1s + 1 microsecond becomes 1.1s.",
        "createdAt" : "2017-02-02T16:28:06Z",
        "updatedAt" : "2017-02-02T16:28:36Z",
        "lastEditedBy" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "tags" : [
        ]
      },
      {
        "id" : "ec392338-4424-43af-88f1-185acb064349",
        "parentId" : "f74907b9-89bf-4c72-8d1e-b559789b0ad6",
        "authorId" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "body" : "I mean %06d.",
        "createdAt" : "2017-02-02T16:44:33Z",
        "updatedAt" : "2017-02-02T16:44:33Z",
        "lastEditedBy" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "tags" : [
        ]
      }
    ],
    "commit" : "63b44ecd3a43121a46c7888fae34b2563ac41418",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +87,91 @@\n  // TODO(jeff,sanjay): Replace this with something that logs through the env.\n  fprintf(stderr, \"%s.%d: %c %s:%d] %s\\n\", time_buffer, micros_remainder,\n\t  \"IWEF\"[severity_], fname_, line_, str().c_str());\n}"
  },
  {
    "id" : "ff91456a-2c5c-4539-9820-dcd44971e2b9",
    "prId" : 6375,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/6375#pullrequestreview-13895488",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b731cd7e-0f52-47b9-a4ec-eebf3ec19266",
        "parentId" : null,
        "authorId" : "1836b116-1c54-4d2e-8c7f-d83e825237ef",
        "body" : "Oh, we need to add a TODO here that this currently doesn't work for values not in [1,2,3], so VLOG(4) statements will never print.\r\n\r\nIdeally, we'd use safe_strto32 in core/lib/strings/numbers.h, but we don't want to add that dependency into the platform logging library since it would bring in StringPiece and a bunch of other code, so we'd need some simple, sanitizing version of string to integer.  I don't know, maybe std::stoi could be used here safely.\r\n",
        "createdAt" : "2016-12-21T01:26:05Z",
        "updatedAt" : "2016-12-21T04:34:53Z",
        "lastEditedBy" : "1836b116-1c54-4d2e-8c7f-d83e825237ef",
        "tags" : [
        ]
      },
      {
        "id" : "48255285-3314-42a2-b609-d870a318f26c",
        "parentId" : "b731cd7e-0f52-47b9-a4ec-eebf3ec19266",
        "authorId" : "a66a8cd7-1553-4363-bfa9-34713c5a680f",
        "body" : "@vrv, Yeah agree, I noticed this implementation I thought it was by design.\r\n\r\nstd::stoi doesn't look safe since it throws exception when input is wrong, see http://en.cppreference.com/w/cpp/string/basic_string/stol.\r\n\r\nCan we use atol instead, it returns 0 on error, looks like what we want. \r\n\r\nThoughts?\r\n\r\n\r\n\r\n",
        "createdAt" : "2016-12-21T02:54:21Z",
        "updatedAt" : "2016-12-21T04:34:53Z",
        "lastEditedBy" : "a66a8cd7-1553-4363-bfa9-34713c5a680f",
        "tags" : [
        ]
      },
      {
        "id" : "00d55026-a37a-45c5-af67-66ec98fd60bd",
        "parentId" : "b731cd7e-0f52-47b9-a4ec-eebf3ec19266",
        "authorId" : "a66a8cd7-1553-4363-bfa9-34713c5a680f",
        "body" : "Use std::istringstream should work, tested with positive / negative cases. Updated patch to use istringstream and also addressed your above comment: https://github.com/tensorflow/tensorflow/pull/6375#discussion-diff-93358241R43.\r\n\r\nPlease see: https://github.com/tensorflow/tensorflow/pull/6375/commits/62d0d71811ef1716e5798178999a383fd369edea\r\n\r\nPlease let me know your thoughts, thanks!",
        "createdAt" : "2016-12-21T03:04:57Z",
        "updatedAt" : "2016-12-21T04:34:53Z",
        "lastEditedBy" : "a66a8cd7-1553-4363-bfa9-34713c5a680f",
        "tags" : [
        ]
      },
      {
        "id" : "da3a8d86-117e-4e8c-9f7b-a87260d1f476",
        "parentId" : "b731cd7e-0f52-47b9-a4ec-eebf3ec19266",
        "authorId" : "1836b116-1c54-4d2e-8c7f-d83e825237ef",
        "body" : "That looks fine too -- let's run a test to see if it passes on all configurations.",
        "createdAt" : "2016-12-21T03:41:19Z",
        "updatedAt" : "2016-12-21T04:34:53Z",
        "lastEditedBy" : "1836b116-1c54-4d2e-8c7f-d83e825237ef",
        "tags" : [
        ]
      }
    ],
    "commit" : "6952e9fcbecf4f620b2e424066db6f3c8f399731",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +111,115 @@\nint64 MinVLogLevelFromEnv() {\n  const char* tf_env_var_val = getenv(\"TF_CPP_MIN_VLOG_LEVEL\");\n  return LogLevelStrToInt(tf_env_var_val);\n}"
  }
]