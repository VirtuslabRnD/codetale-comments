[
  {
    "id" : "1a64bc13-7750-4a4f-8697-355568a35c3d",
    "prId" : 49314,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/49314#pullrequestreview-680059335",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fdebddac-ef54-425a-83c1-c13d4763fa8f",
        "parentId" : null,
        "authorId" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "body" : "I think we should keep the `windows` label here?",
        "createdAt" : "2021-06-09T16:43:00Z",
        "updatedAt" : "2021-06-09T16:44:12Z",
        "lastEditedBy" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "tags" : [
        ]
      },
      {
        "id" : "2df54627-7bb9-4143-81c7-a76e8dfb4524",
        "parentId" : "fdebddac-ef54-425a-83c1-c13d4763fa8f",
        "authorId" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "body" : "Maybe it's better to use multiple `select`s if these are removed because of confusing labels?",
        "createdAt" : "2021-06-09T16:43:59Z",
        "updatedAt" : "2021-06-09T16:44:12Z",
        "lastEditedBy" : "9f15379f-126a-430d-93cb-7cc21488adf2",
        "tags" : [
        ]
      },
      {
        "id" : "7d2d8e0c-d963-4f39-8a76-bc978e8a5dbe",
        "parentId" : "fdebddac-ef54-425a-83c1-c13d4763fa8f",
        "authorId" : "04d6768a-662f-42f5-9152-0bb9c7d64855",
        "body" : "@mihaimaruseac The `windows` and `with_tpu_support` was removed was to match the similar settings above in gcs (line 661-668):\r\n```\r\nselect({\r\n        clean_dep(\"//tensorflow:android\"): [],\r\n        clean_dep(\"//tensorflow:ios\"): [],\r\n        clean_dep(\"//tensorflow:linux_s390x\"): [],\r\n        clean_dep(\"//tensorflow:no_gcp_support\"): [],\r\n        \"//conditions:default\": [\r\n            \"//tensorflow/core/platform/cloud:gcs_file_system\",\r\n        ],\r\n    }) \r\n```\r\n\r\nand s3 settings below (line 677-line 685):\r\n```\r\n    }) + select({\r\n        clean_dep(\"//tensorflow:android\"): [],\r\n        clean_dep(\"//tensorflow:ios\"): [],\r\n        clean_dep(\"//tensorflow:linux_s390x\"): [],\r\n        clean_dep(\"//tensorflow:no_aws_support\"): [],\r\n        \"//conditions:default\": [\r\n            clean_dep(\"//tensorflow/core/platform/s3:s3_file_system\"),\r\n        ],\r\n    })\r\n```\r\n\r\nI actually think maybe we can just simplify and use 2-way select of:\r\n```\r\nselect({\r\n        clean_dep(\"//tensorflow:no_hdfs_support\"): [],\r\n        \"//conditions:default\": [\r\n            clean_dep(\"//tensorflow/core/platform/hadoop:hadoop_file_system\"),\r\n        ],\r\n    }) \r\n```\r\n\r\nMaybe I can give it a try?",
        "createdAt" : "2021-06-09T19:25:56Z",
        "updatedAt" : "2021-06-09T19:25:56Z",
        "lastEditedBy" : "04d6768a-662f-42f5-9152-0bb9c7d64855",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcdeebd632414426904b3364391f5b1765afcc99",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +668,672 @@        ],\n    }) + select({\n        clean_dep(\"//tensorflow:no_hdfs_support\"): [],\n        \"//conditions:default\": [\n            clean_dep(\"//tensorflow/core/platform/hadoop:hadoop_file_system\"),"
  },
  {
    "id" : "e30025ba-4523-46f5-ad70-9faea124f0b3",
    "prId" : 38959,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/38959#pullrequestreview-402876065",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "edd05c47-68d3-4341-b8a9-053ad654351d",
        "parentId" : null,
        "authorId" : "47966c70-ca9e-4f42-9f8b-165f9cd3ebaa",
        "body" : "can't you just remove the \"//tensorflow:windows\" entry and it'll fall through to default?",
        "createdAt" : "2020-04-29T17:17:34Z",
        "updatedAt" : "2020-04-29T17:17:34Z",
        "lastEditedBy" : "47966c70-ca9e-4f42-9f8b-165f9cd3ebaa",
        "tags" : [
        ]
      }
    ],
    "commit" : "95368cb9bebd36e1a59adef120283dac5acbf66e",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +639,643 @@        clean_dep(\"//tensorflow:ios\"): [],\n        clean_dep(\"//tensorflow:linux_s390x\"): [],\n        clean_dep(\"//tensorflow:windows\"): [\n            \"//tensorflow/core/platform/cloud:gcs_file_system\",\n        ],"
  },
  {
    "id" : "766b8e14-0b0e-4d0d-a470-a09cdc482f14",
    "prId" : 19443,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/19443#pullrequestreview-124096143",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cca65415-1860-48d7-970f-c1f02cd4fb7f",
        "parentId" : null,
        "authorId" : "28fabc34-a1ac-4aba-988b-9c9e03232122",
        "body" : "@meteorcloudy PTAL for windows.",
        "createdAt" : "2018-05-29T17:33:58Z",
        "updatedAt" : "2018-05-29T17:35:15Z",
        "lastEditedBy" : "28fabc34-a1ac-4aba-988b-9c9e03232122",
        "tags" : [
        ]
      }
    ],
    "commit" : "4174063e6d9e1706f36aa55556401c8d23649b25",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +75,79 @@        # works. Windows has issues with cython_binary so skip PYTHON_BIN_PATH.\n        cmd = \"PYTHONHASHSEED=0 \" + select({\n            \"@bazel_tools//src/conditions:windows\": \"\",\n            \"//conditions:default\": \"$${PYTHON_BIN_PATH} \",\n        }) + \"$(location @cython//:cython_binary) --cplus $(SRCS) --output-file $(OUTS)\","
  },
  {
    "id" : "f6d4d1d6-8d1b-4365-9883-01070f441ba5",
    "prId" : 5961,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/5961#pullrequestreview-10845480",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f8cc9eaa-d9ea-4b15-b588-24590590f2a6",
        "parentId" : null,
        "authorId" : "28fabc34-a1ac-4aba-988b-9c9e03232122",
        "body" : "@vit-stepanovs @guschmue @mrry did you also run into a problem with this file?\r\nAre we skipping posix/test.cc in our cmake build, too?",
        "createdAt" : "2016-11-30T19:24:36Z",
        "updatedAt" : "2016-11-30T19:30:40Z",
        "lastEditedBy" : "28fabc34-a1ac-4aba-988b-9c9e03232122",
        "tags" : [
        ]
      },
      {
        "id" : "ff6d5b7d-e057-4df1-8884-e6289143ed43",
        "parentId" : "f8cc9eaa-d9ea-4b15-b588-24590590f2a6",
        "authorId" : "5dee3e52-2371-46cb-b60c-52819cddc5d7",
        "body" : "windows/test.cc file is introduced in https://github.com/tensorflow/tensorflow/commit/91359470eb2c940733497f2bc6b6e23e3b8d76ef\r\nSo I guess it is needed by cmake?",
        "createdAt" : "2016-11-30T19:31:49Z",
        "updatedAt" : "2016-11-30T19:31:50Z",
        "lastEditedBy" : "5dee3e52-2371-46cb-b60c-52819cddc5d7",
        "tags" : [
        ]
      },
      {
        "id" : "62c6a255-e5e5-4540-be4d-aa9c25a90dd7",
        "parentId" : "f8cc9eaa-d9ea-4b15-b588-24590590f2a6",
        "authorId" : "59b8a32a-2445-44cc-abca-8ceefb5e647f",
        "body" : "I think we include all *_tests.cc and won't pickup the posix/test.cc.\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_tests.cmake#L217",
        "createdAt" : "2016-11-30T19:37:02Z",
        "updatedAt" : "2016-11-30T19:40:41Z",
        "lastEditedBy" : "59b8a32a-2445-44cc-abca-8ceefb5e647f",
        "tags" : [
        ]
      },
      {
        "id" : "ba337812-97a9-4ae6-85eb-e4988fab6720",
        "parentId" : "f8cc9eaa-d9ea-4b15-b588-24590590f2a6",
        "authorId" : "5dee3e52-2371-46cb-b60c-52819cddc5d7",
        "body" : "I think the same logic in CMake build is here:\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_tests.cmake#L204",
        "createdAt" : "2016-11-30T20:49:00Z",
        "updatedAt" : "2016-11-30T20:49:06Z",
        "lastEditedBy" : "5dee3e52-2371-46cb-b60c-52819cddc5d7",
        "tags" : [
        ]
      }
    ],
    "commit" : "68172c8e584fb1ffd85287e674231bddca78a10e",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +160,164 @@        ],\n      \"//conditions:default\" : [\n          \"platform/posix/test.cc\",\n        ],\n    })"
  }
]