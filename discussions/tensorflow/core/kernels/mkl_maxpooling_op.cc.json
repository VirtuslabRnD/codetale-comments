[
  {
    "id" : "990fa079-ab81-4a39-a738-603906175644",
    "prId" : 31090,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/31090#pullrequestreview-267956377",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8e65937a-035e-4163-b63f-f2eca7db43b0",
        "parentId" : null,
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "Just curious, why don't we need this for `int8` too?",
        "createdAt" : "2019-07-26T23:55:37Z",
        "updatedAt" : "2019-07-27T16:03:29Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      },
      {
        "id" : "530bf582-cda8-41ae-a2fe-a34df9ed6b86",
        "parentId" : "8e65937a-035e-4163-b63f-f2eca7db43b0",
        "authorId" : "a6e3f10f-d7ac-4c17-a58a-edcaece160f6",
        "body" : "Int8/Quantized version of MKL MaxPooling Op does not have that extra workspace tensor defined. For some reason, this workspace tensor is unique to MaxPooling FP32 op. @yiqianglee can help clarify please.",
        "createdAt" : "2019-07-27T06:10:13Z",
        "updatedAt" : "2019-07-27T16:03:29Z",
        "lastEditedBy" : "a6e3f10f-d7ac-4c17-a58a-edcaece160f6",
        "tags" : [
        ]
      },
      {
        "id" : "6c6981d5-f3b9-4717-8655-717023df20b4",
        "parentId" : "8e65937a-035e-4163-b63f-f2eca7db43b0",
        "authorId" : "d9e8a88b-b3d1-4660-80af-7c08081d71c2",
        "body" : "Workspace as second output tensor only happen on MklMaxPooling's OP definition, in MklQuantizeMaxPool, it doesn't need workspace tensor (because workspace tensor is used by MaxPool's backward op, int8 is inference only).\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/nn_ops.cc#L2168\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/mkl_nn_ops.cc#L120",
        "createdAt" : "2019-07-27T08:37:52Z",
        "updatedAt" : "2019-07-27T16:03:29Z",
        "lastEditedBy" : "d9e8a88b-b3d1-4660-80af-7c08081d71c2",
        "tags" : [
        ]
      },
      {
        "id" : "09517127-fc9f-4a32-806e-a421a79708a3",
        "parentId" : "8e65937a-035e-4163-b63f-f2eca7db43b0",
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "Thank you for the explanation! ",
        "createdAt" : "2019-07-29T18:20:10Z",
        "updatedAt" : "2019-07-29T18:20:52Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "64f954a9a3b9c9ea1026ee5466e4f7dca11d1c2c",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +92,96 @@        // Because Quantized MaxPooling does not have backward pass\n        // Therefore no workspace, which is used to help backward pass in MKL\n        if (!int8_forward_inference) {\n          const int kOutputWorkspaceIndex = 1;\n          // output_ws_tensor is not really used, so using output_dims_mkl_order"
  },
  {
    "id" : "227ae06b-4843-4d83-bd34-62a27951a700",
    "prId" : 19403,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/19403#pullrequestreview-138220517",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9f5eb9b1-bd06-4195-a9c3-c2d43c3087de",
        "parentId" : null,
        "authorId" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "body" : "Should we have a util for allocating an empty output tensor? It seems like a reasonably common pattern.",
        "createdAt" : "2018-07-17T20:54:13Z",
        "updatedAt" : "2018-07-31T15:47:59Z",
        "lastEditedBy" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "tags" : [
        ]
      },
      {
        "id" : "2563163d-cbac-4c55-87dd-a09bd2f2184d",
        "parentId" : "9f5eb9b1-bd06-4195-a9c3-c2d43c3087de",
        "authorId" : "d9e8a88b-b3d1-4660-80af-7c08081d71c2",
        "body" : "Done by code change.",
        "createdAt" : "2018-07-18T12:02:06Z",
        "updatedAt" : "2018-07-31T15:47:59Z",
        "lastEditedBy" : "d9e8a88b-b3d1-4660-80af-7c08081d71c2",
        "tags" : [
        ]
      }
    ],
    "commit" : "6fdc6be324df7e3f7e3162e161ef4e869bd888fb",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +536,540 @@      this->GetOutputDims(pool_params, &output_dims_mkl_order);\n\n      // If input is an empty tensor, allocate an empty output tensor and return\n      if (input_tensor.NumElements() == 0) {\n        const int kOutputIndex = 0;"
  }
]