[
  {
    "id" : "a91322ed-c907-48e8-9c66-5f09081bc939",
    "prId" : 50333,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/50333#pullrequestreview-710431294",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "55c5ddb7-f185-457a-af26-4a7f32bc0bfe",
        "parentId" : null,
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "Nit: Can't we set `filter_dims` directly? Same for other places. \r\nIf you agree, we can just add a TODO and do it later in a separate PR (to keep this one focused on enabling group conv).\r\n```suggestion\r\n        filter_dims.resize(5);\r\n        filter_dims[MKL_GROUP_FILTER_DIM_G] = group_count;\r\n        filter_dims[MKL_GROUP_FILTER_DIM_O] = filter_out_depth / group_count;\r\n        filter_dims[MKL_GROUP_FILTER_DIM_I] = filter_in_depth;\r\n        filter_dims[MKL_GROUP_FILTER_DIM_H] = filter_rows;\r\n        filter_dims[MKL_GROUP_FILTER_DIM_W] = filter_cols;\r\n```",
        "createdAt" : "2021-07-12T17:59:00Z",
        "updatedAt" : "2021-07-19T23:29:53Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      },
      {
        "id" : "6afe1792-0180-4ae0-aedc-e7b409ed63ba",
        "parentId" : "55c5ddb7-f185-457a-af26-4a7f32bc0bfe",
        "authorId" : "b290c238-d054-4554-ad7a-c1f31856dbbc",
        "body" : "Thanks for review. Yes, we can directly set `filter_dims` to remove redundant vector copy. Also I have added a TODO and will submit another PR.",
        "createdAt" : "2021-07-20T10:39:37Z",
        "updatedAt" : "2021-07-20T10:39:38Z",
        "lastEditedBy" : "b290c238-d054-4554-ad7a-c1f31856dbbc",
        "tags" : [
        ]
      }
    ],
    "commit" : "84c98ffbb19c334a51d6d3ac0bc2d79e796faa99",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +249,253 @@        mkldnn_sizes[MKL_GROUP_FILTER_DIM_I] = filter_in_depth;\n        mkldnn_sizes[MKL_GROUP_FILTER_DIM_H] = filter_rows;\n        mkldnn_sizes[MKL_GROUP_FILTER_DIM_W] = filter_cols;\n\n        *filter_dims = mkldnn_sizes;"
  }
]