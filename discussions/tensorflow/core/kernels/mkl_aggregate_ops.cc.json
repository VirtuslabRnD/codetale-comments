[
  {
    "id" : "e3c2128f-86fd-4049-a8a4-121256ad5266",
    "prId" : 13021,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/13021#pullrequestreview-64066528",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8d8559ec-eb56-4cbd-8cea-4350d9664f82",
        "parentId" : null,
        "authorId" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "body" : "This condition should be \r\n\r\nif (input1_in_mkl_format || input2_in_mkl_format) {\r\n\r\n\r\nTo be the opposite of line 81.",
        "createdAt" : "2017-09-19T23:00:35Z",
        "updatedAt" : "2017-09-20T16:48:48Z",
        "lastEditedBy" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "tags" : [
        ]
      },
      {
        "id" : "680572c7-3fdf-4fcc-b059-723ee5df37f9",
        "parentId" : "8d8559ec-eb56-4cbd-8cea-4350d9664f82",
        "authorId" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "body" : "@agramesh1 are you going to address this one? I think you'll leak memory otherwise.",
        "createdAt" : "2017-09-20T15:48:46Z",
        "updatedAt" : "2017-09-20T16:48:48Z",
        "lastEditedBy" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "tags" : [
        ]
      },
      {
        "id" : "36cf37d8-3473-4531-808d-8481b66b1e0b",
        "parentId" : "8d8559ec-eb56-4cbd-8cea-4350d9664f82",
        "authorId" : "9b0158dd-3756-4550-a296-8feed43e3881",
        "body" : "@rmlarsen this part is the opposite of line 173 and 182, only in the case that input 1 and input 2 are not in mkl format, we will need to allocate the array. so we will release the buffer only in the case these two are not in mkl format. Thank you ~ please let me know if you have any suggestions. :)",
        "createdAt" : "2017-09-20T16:45:58Z",
        "updatedAt" : "2017-09-20T16:48:48Z",
        "lastEditedBy" : "9b0158dd-3756-4550-a296-8feed43e3881",
        "tags" : [
        ]
      },
      {
        "id" : "c53651c9-9be3-48e8-97ec-4f74b7cfa968",
        "parentId" : "8d8559ec-eb56-4cbd-8cea-4350d9664f82",
        "authorId" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "body" : "haha, I guess I didn't look at the fully expanded view :-) Thanks for pointing that out.",
        "createdAt" : "2017-09-20T18:09:03Z",
        "updatedAt" : "2017-09-20T18:09:03Z",
        "lastEditedBy" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b199df4fe36f8752fe9c1771f3edc3f73f0b794",
    "line" : 144,
    "diffHunk" : "@@ -1,1 +258,262 @@      bool input2_in_mkl_format = input2_shape.IsMklTensor();\n      dnnDelete_F32(Eltwise);\n      if (!input1_in_mkl_format || !input2_in_mkl_format) {\n         delete [] in_sizes;\n         delete [] in_strides;"
  }
]