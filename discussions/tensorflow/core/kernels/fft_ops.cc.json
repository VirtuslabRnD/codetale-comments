[
  {
    "id" : "b16d42ac-962b-42df-93c3-a8b1fc522105",
    "prId" : 9029,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/9029#pullrequestreview-31444369",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "012db2b6-490e-4ebb-92e6-21b020735aec",
        "parentId" : null,
        "authorId" : "cc5917cc-8b3a-4cd1-8383-a0b8bab80572",
        "body" : "Sorry for nitpicking, can you go through the comments here and add periods? Our style guide prefers punctuation:\r\nhttps://google.github.io/styleguide/cppguide.html#Punctuation,_Spelling_and_Grammar",
        "createdAt" : "2017-04-06T23:13:51Z",
        "updatedAt" : "2017-05-17T11:28:15Z",
        "lastEditedBy" : "cc5917cc-8b3a-4cd1-8383-a0b8bab80572",
        "tags" : [
        ]
      }
    ],
    "commit" : "e6da919d85a75ba32258b3e578d8dbe0dd49188e",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +34,38 @@namespace tensorflow {\n\nclass FFTBase : public OpKernel {\n public:\n  explicit FFTBase(OpKernelConstruction* ctx) : OpKernel(ctx) {}"
  },
  {
    "id" : "e7b7d235-e872-465a-9aea-fc7d6f272a6b",
    "prId" : 9029,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/9029#pullrequestreview-38471124",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3ca086a2-bc83-494c-b123-ffa5ed800eed",
        "parentId" : null,
        "authorId" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "body" : "this conditional include should go at the top of the file\r\n",
        "createdAt" : "2017-05-16T16:59:54Z",
        "updatedAt" : "2017-05-17T11:28:15Z",
        "lastEditedBy" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "tags" : [
        ]
      },
      {
        "id" : "9d1531db-b574-42c5-87d5-70a4a33fc2c8",
        "parentId" : "3ca086a2-bc83-494c-b123-ffa5ed800eed",
        "authorId" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "body" : "(this fails because you are including this inside namespace tensorflow.",
        "createdAt" : "2017-05-16T17:05:18Z",
        "updatedAt" : "2017-05-17T11:28:15Z",
        "lastEditedBy" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "tags" : [
        ]
      },
      {
        "id" : "dd38bb14-17c7-46fd-a272-67fdbec659e0",
        "parentId" : "3ca086a2-bc83-494c-b123-ffa5ed800eed",
        "authorId" : "a709924c-9e01-4bdb-b2b5-ef2f20579a3e",
        "body" : "Ok, given that there is both CPU and GPU code, would the following work?\r\n\r\n```cpp\r\nnamespace tensorflow {\r\n// CPU stuff\r\n}\r\n\r\n#if GOOGLE_CUDA\r\n#include \"tensorflow/core/platform/stream_executor.h\"\r\n\r\nnamespace tensorflow {\r\n// GPU stuff\r\n}\r\n#endif\r\n```",
        "createdAt" : "2017-05-16T17:19:20Z",
        "updatedAt" : "2017-05-17T11:28:15Z",
        "lastEditedBy" : "a709924c-9e01-4bdb-b2b5-ef2f20579a3e",
        "tags" : [
        ]
      },
      {
        "id" : "99c20b10-9a0f-4880-b839-5eb49ed5f227",
        "parentId" : "3ca086a2-bc83-494c-b123-ffa5ed800eed",
        "authorId" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "body" : "It would, but you still need to put the include at the top of the file.\r\n\r\n```\r\n// regular includes ...\r\n#if GOOGLE_CUDA\r\n#include \"tensorflow/core/platform/stream_executor.h\"\r\n#endif  // GOOGLE_CUDA\r\n\r\nnamespace tensorflow {\r\n// CPU stuff\r\n\r\n#if GOOGLE_CUDA\r\n// GPU stuff\r\n#endif  // GOOGLE_CUDA\r\n\r\n}  // namespace tensorflow\r\n```",
        "createdAt" : "2017-05-16T18:20:56Z",
        "updatedAt" : "2017-05-17T11:28:15Z",
        "lastEditedBy" : "0ba8fb18-637a-4ab3-a7c8-cd971823fe45",
        "tags" : [
        ]
      }
    ],
    "commit" : "e6da919d85a75ba32258b3e578d8dbe0dd49188e",
    "line" : 115,
    "diffHunk" : "@@ -1,1 +164,168 @@                        FFTCPU<true, true, 3>);\n\n#if GOOGLE_CUDA\n\nnamespace {"
  }
]