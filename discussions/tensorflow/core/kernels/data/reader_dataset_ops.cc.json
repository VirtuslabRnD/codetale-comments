[
  {
    "id" : "b337fd0d-c66e-410d-aad1-8d77f517b76f",
    "prId" : 21861,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/21861#pullrequestreview-153600679",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "65f9b0e9-e5c4-4d97-a893-c039d99c4fce",
        "parentId" : null,
        "authorId" : "5f311952-9020-4294-a943-21cbd17dde41",
        "body" : "The logic in here might be clearer if you divided `Iterator` into two classes (`UncompressedIterator` and `GzipCompressedIterator`) that each contain the relevant implementations for `GetNextInternal()` and `RestoreInternal()`.",
        "createdAt" : "2018-09-10T00:52:23Z",
        "updatedAt" : "2018-11-06T04:02:09Z",
        "lastEditedBy" : "5f311952-9020-4294-a943-21cbd17dde41",
        "tags" : [
        ]
      }
    ],
    "commit" : "b3f02c5c030a1d3d2ca84c7b2d50740beb69eb9a",
    "line" : 131,
    "diffHunk" : "@@ -1,1 +524,528 @@          if (buffered_input_stream_) {\n            const int64 current_pos = buffered_input_stream_->Tell();\n            if (dataset()->compression_type_ == \"\") {\n              DCHECK_GE(file_pos_limit_, 0);\n              if (current_pos < file_pos_limit_) {"
  }
]