[
  {
    "id" : "aad7a18d-2f74-4783-a0ee-69c96fe9f28a",
    "prId" : 25496,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/25496#pullrequestreview-200724627",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b7ca9f4c-08a1-4a92-9f24-9616b97a2e40",
        "parentId" : null,
        "authorId" : "2a8db88d-c925-4270-871e-79c6b27c2fdb",
        "body" : "It seems that there is no place using the `output_shapes` attr. Do we need to validate that the shapes of the \"components\" tensors match the \"output_shapes\" attr?",
        "createdAt" : "2019-02-06T08:33:19Z",
        "updatedAt" : "2019-03-15T00:27:55Z",
        "lastEditedBy" : "2a8db88d-c925-4270-871e-79c6b27c2fdb",
        "tags" : [
        ]
      },
      {
        "id" : "63dc66a5-e62b-4fc0-8cca-40d13bea390d",
        "parentId" : "b7ca9f4c-08a1-4a92-9f24-9616b97a2e40",
        "authorId" : "b4c739be-8aba-4687-9314-60b582f3b6d6",
        "body" : "The `output_shapes` attr is used for the shape inference of the IteratorGetNext method (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/dataset_ops.cc#L522), so we should make sure the inputs are compatible with the attr.",
        "createdAt" : "2019-02-06T18:10:36Z",
        "updatedAt" : "2019-03-15T00:27:55Z",
        "lastEditedBy" : "b4c739be-8aba-4687-9314-60b582f3b6d6",
        "tags" : [
        ]
      }
    ],
    "commit" : "18f90d1adc9131de89f8e5793b1f6eb8441227b0",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +40,44 @@    OP_REQUIRES_OK(ctx,\n                   VerifyTypesMatch((*output)->output_dtypes(), output_types_));\n    OP_REQUIRES_OK(ctx, VerifyShapesCompatible((*output)->output_shapes(),\n                                               output_shapes_));\n  }"
  }
]