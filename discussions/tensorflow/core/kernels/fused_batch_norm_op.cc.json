[
  {
    "id" : "965eafea-abed-43c0-9e8b-050cfd5af190",
    "prId" : 49277,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/49277#pullrequestreview-680277085",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a5fbb35e-bdda-4c91-96fd-8a9f39abbd55",
        "parentId" : null,
        "authorId" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "body" : "BTW can this op be cleanly converted to XLA or is too much information lost already at this stage?",
        "createdAt" : "2021-06-10T01:56:05Z",
        "updatedAt" : "2021-06-10T02:06:26Z",
        "lastEditedBy" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "tags" : [
        ]
      }
    ],
    "commit" : "290070fba0521d1cf8aad2cf491d7f5a58390f79",
    "line" : 220,
    "diffHunk" : "@@ -1,1 +1649,1653 @@};\n\ntemplate <typename Device, typename T, typename U>\nclass FusedBatchNormGradOpEx : public FusedBatchNormGradOpBase<Device, T, U> {\n  static constexpr bool kWithSideInputAndActivation = true;"
  },
  {
    "id" : "16c9db92-67f9-4369-9a35-33c756094fe6",
    "prId" : 49277,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/49277#pullrequestreview-683392866",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "13f2f01f-c45a-4f12-be64-a745bb84888c",
        "parentId" : null,
        "authorId" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "body" : "Ideally, this op would be a separate commit, with tests and XLA lowering.",
        "createdAt" : "2021-06-10T01:56:22Z",
        "updatedAt" : "2021-06-10T02:06:26Z",
        "lastEditedBy" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "tags" : [
        ]
      },
      {
        "id" : "9977db82-dcee-4b34-a59a-99a5e341fac5",
        "parentId" : "13f2f01f-c45a-4f12-be64-a745bb84888c",
        "authorId" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "body" : "(and tests of XLA lowering)",
        "createdAt" : "2021-06-10T01:56:32Z",
        "updatedAt" : "2021-06-10T02:06:26Z",
        "lastEditedBy" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "tags" : [
        ]
      },
      {
        "id" : "dae77e50-177d-4b63-b299-a8d305fcc7e4",
        "parentId" : "13f2f01f-c45a-4f12-be64-a745bb84888c",
        "authorId" : "8df6b2a7-a5b8-4771-8241-49fd7ff5a2aa",
        "body" : "I think originally we separate the PR to two commits for (1) Add _FusedBatchNormGradEx op (This is with the test on this new op.) and (2) Add remapper support. I merged them together in one commit in this PR since I think they have been reviewed and approved.\r\nFor the XLA lowering, our XLA team plans to add this op to their allowlist. Probably another PR. For this PR, we simply don't remap to this new op when XLA is detected to avoid XLA seeing it. ",
        "createdAt" : "2021-06-14T22:04:36Z",
        "updatedAt" : "2021-06-14T22:04:36Z",
        "lastEditedBy" : "8df6b2a7-a5b8-4771-8241-49fd7ff5a2aa",
        "tags" : [
        ]
      }
    ],
    "commit" : "290070fba0521d1cf8aad2cf491d7f5a58390f79",
    "line" : 222,
    "diffHunk" : "@@ -1,1 +1651,1655 @@template <typename Device, typename T, typename U>\nclass FusedBatchNormGradOpEx : public FusedBatchNormGradOpBase<Device, T, U> {\n  static constexpr bool kWithSideInputAndActivation = true;\n\n public:"
  },
  {
    "id" : "9c805ec0-9778-4682-b2cf-c56db45e5b72",
    "prId" : 13388,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/13388#pullrequestreview-72588624",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9f9fc394-cadc-4c91-9b7a-1eeab3be0b1b",
        "parentId" : null,
        "authorId" : "05c2b6c1-8a55-4dc9-ae76-02172416ea90",
        "body" : "In case you missed it before: Also add tests to normalization_test.py, layers_test.py, and CPU tests to nn_fused_batchnorm_test.py.",
        "createdAt" : "2017-10-16T18:32:15Z",
        "updatedAt" : "2017-11-08T17:01:09Z",
        "lastEditedBy" : "05c2b6c1-8a55-4dc9-ae76-02172416ea90",
        "tags" : [
        ]
      },
      {
        "id" : "5e790630-75c6-40f1-aa06-716e96bfb5af",
        "parentId" : "9f9fc394-cadc-4c91-9b7a-1eeab3be0b1b",
        "authorId" : "8ff4e099-8cf6-4348-9db7-45b9bc9150c1",
        "body" : "Sorry, I had missed it. Tests included in latest commit.",
        "createdAt" : "2017-10-27T18:15:55Z",
        "updatedAt" : "2017-11-08T17:01:09Z",
        "lastEditedBy" : "8ff4e099-8cf6-4348-9db7-45b9bc9150c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "8755a4305af31c18f1a4bc3b0cf4cbb875027156",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +52,56 @@                  const Tensor& estimated_variance_input, U epsilon,\n                  Tensor* y_output, Tensor* batch_mean_output,\n                  Tensor* batch_var_output, Tensor* saved_mean_output,\n                  Tensor* saved_var_output, TensorFormat tensor_format,\n                  bool is_training) {"
  }
]