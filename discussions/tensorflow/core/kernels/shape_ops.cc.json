[
  {
    "id" : "5796c332-abdd-413d-9f30-592d750e9f35",
    "prId" : 46167,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/46167#pullrequestreview-620200406",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "85494e43-52aa-41d2-8aee-736a8568db93",
        "parentId" : null,
        "authorId" : "f2c430b6-a81f-46f2-bc7c-ce489778ad99",
        "body" : "@penpornk and @jzhoulon , I think we can add the `int32 ` kernel implementations of other ops like Binary and Unary ops too in a similar way to `DEVICE_DEFAULT`. What do you guys think? If you agree I can send a PR.",
        "createdAt" : "2021-03-23T03:21:20Z",
        "updatedAt" : "2021-03-24T01:58:47Z",
        "lastEditedBy" : "f2c430b6-a81f-46f2-bc7c-ce489778ad99",
        "tags" : [
        ]
      },
      {
        "id" : "49bb4d8b-7677-45ed-8b2f-fd0288c66916",
        "parentId" : "85494e43-52aa-41d2-8aee-736a8568db93",
        "authorId" : "0fa85d2b-d37c-423a-902d-562beed7cb04",
        "body" : "I think it is a good idea to make them as DEVICE_DEFAULT for those kernels use HostMemory and cpu kernels.",
        "createdAt" : "2021-03-24T03:15:43Z",
        "updatedAt" : "2021-03-24T03:15:43Z",
        "lastEditedBy" : "0fa85d2b-d37c-423a-902d-562beed7cb04",
        "tags" : [
        ]
      },
      {
        "id" : "9e8b6780-4bbc-4535-91a7-c54676bcf1bd",
        "parentId" : "85494e43-52aa-41d2-8aee-736a8568db93",
        "authorId" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "body" : "We can try. I don't know if I'll be able to get it in in time though. Setting `DEVICE_DEFAULT` for kernels can affect applications and might break some tests. I'm actually looking at some of the tests this PR breaks right now.",
        "createdAt" : "2021-03-24T03:45:16Z",
        "updatedAt" : "2021-03-24T03:45:16Z",
        "lastEditedBy" : "72acf7f0-6473-4b57-a71f-2a44410818c5",
        "tags" : [
        ]
      },
      {
        "id" : "f4401757-9f88-4cb9-9a9d-5df6db35414f",
        "parentId" : "85494e43-52aa-41d2-8aee-736a8568db93",
        "authorId" : "0c80c58d-848d-4658-a5f7-8f6242f492a4",
        "body" : "Maybe broken tests are caused by colocation problem by some  device type? Due to colocation, `DEVICE_DEFALUT` data types should better be a subset of all registered device types' intersection.",
        "createdAt" : "2021-03-24T06:01:30Z",
        "updatedAt" : "2021-03-24T06:01:30Z",
        "lastEditedBy" : "0c80c58d-848d-4658-a5f7-8f6242f492a4",
        "tags" : [
        ]
      },
      {
        "id" : "b6c01632-b836-404e-bd33-69414b74a83f",
        "parentId" : "85494e43-52aa-41d2-8aee-736a8568db93",
        "authorId" : "f2c430b6-a81f-46f2-bc7c-ce489778ad99",
        "body" : "Thanks @penpornk for taking a look. Please let us know if its feasible. ",
        "createdAt" : "2021-03-24T20:26:22Z",
        "updatedAt" : "2021-03-24T20:26:22Z",
        "lastEditedBy" : "f2c430b6-a81f-46f2-bc7c-ce489778ad99",
        "tags" : [
        ]
      }
    ],
    "commit" : "ecd0dd3ece22f0bfa80b52e1ecf78fa20c860261",
    "line" : 56,
    "diffHunk" : "@@ -1,1 +161,165 @@#endif  // GOOGLE_CUDA || TENSORFLOW_USE_ROCM\n\n#define REGISTER_DEFAULT_KERNEL(type)                            \\\n  REGISTER_KERNEL_BUILDER(Name(\"ShapeN\")                         \\\n                              .Device(DEVICE_DEFAULT)            \\"
  }
]