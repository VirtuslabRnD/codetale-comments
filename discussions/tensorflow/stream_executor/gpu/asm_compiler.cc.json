[
  {
    "id" : "43a7f9ee-795b-4474-baab-9d7e6420a622",
    "prId" : 44712,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/44712#pullrequestreview-528281446",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5fb06ca6-87aa-43ee-a2e5-41d124fca2b6",
        "parentId" : null,
        "authorId" : "23268ae6-07df-4999-9478-4a39951fd87f",
        "body" : "Just curious: Would this work on windows? And if not, is there a way to make it work? Not in this PR but in general.",
        "createdAt" : "2020-11-10T08:38:19Z",
        "updatedAt" : "2020-11-11T02:04:59Z",
        "lastEditedBy" : "23268ae6-07df-4999-9478-4a39951fd87f",
        "tags" : [
        ]
      },
      {
        "id" : "51c6d766-f0a1-4e68-94a7-3884fb6b28ef",
        "parentId" : "5fb06ca6-87aa-43ee-a2e5-41d124fca2b6",
        "authorId" : "80b3505d-f76d-48ab-b8fe-fe7925204b98",
        "body" : "I do not know.\r\n\r\nROCm, and hence ROCm TF,  is currently only supported on the Linux platform, so I have had the need to look into whether or not this will work on Windows. The `clang-offload-bundler` utility being used here, is from the standard llvm install, so there is nothing ROCm specific about the utility itself.",
        "createdAt" : "2020-11-11T02:12:14Z",
        "updatedAt" : "2020-11-11T02:12:15Z",
        "lastEditedBy" : "80b3505d-f76d-48ab-b8fe-fe7925204b98",
        "tags" : [
        ]
      },
      {
        "id" : "d630ed1f-9abc-4788-878f-2eaa8569120f",
        "parentId" : "5fb06ca6-87aa-43ee-a2e5-41d124fca2b6",
        "authorId" : "23268ae6-07df-4999-9478-4a39951fd87f",
        "body" : "Thanks for the reply. Makes sense, lets leave it at linux for now then.",
        "createdAt" : "2020-11-11T12:33:09Z",
        "updatedAt" : "2020-11-11T12:33:09Z",
        "lastEditedBy" : "23268ae6-07df-4999-9478-4a39951fd87f",
        "tags" : [
        ]
      },
      {
        "id" : "2d8eb419-0a68-471b-9cd2-130e5110b559",
        "parentId" : "5fb06ca6-87aa-43ee-a2e5-41d124fca2b6",
        "authorId" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "body" : "`clang-offload-bundler` itself is a platform independent tool. It aggregates several binary objects for different architectures into one binary blob.\r\n\r\nIt does require a host-side object be inside the bundled blob. As we normally only produce GPU binaries in XLA or MLIR path, we populate a dummy host object just to tame `clang-offload-bundler`.\r\n\r\nAs ROCm runs strictly on the Linux platform, the current implementation from @deven-amd shall suffice for now.",
        "createdAt" : "2020-11-11T15:34:00Z",
        "updatedAt" : "2020-11-11T15:34:00Z",
        "lastEditedBy" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "bdc8061f5b5557811b3908f87394834dc483f8b2",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +356,360 @@\n  inputs_list << \"/dev/null\";\n  targets_list << \"host-x86_64-unknown-linux\";\n\n  // Write images to temporary files."
  },
  {
    "id" : "6e973be2-ded2-4e74-b5a2-aed3413125eb",
    "prId" : 44486,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/44486#pullrequestreview-550714804",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c1fd6363-dbcf-4a04-80fb-eb9974998598",
        "parentId" : null,
        "authorId" : "db119d71-0485-413b-9ea8-fd044b814e31",
        "body" : "This shouldn't be a hard error. Do `TF_ASSIGN_OR_RETURN(const std::vector<uint8>& compiled, it->second);` instead.",
        "createdAt" : "2020-11-18T21:22:58Z",
        "updatedAt" : "2020-12-12T12:08:47Z",
        "lastEditedBy" : "db119d71-0485-413b-9ea8-fd044b814e31",
        "tags" : [
        ]
      },
      {
        "id" : "b62aef46-0ff5-48e1-baa0-c1fb953cdf27",
        "parentId" : "c1fd6363-dbcf-4a04-80fb-eb9974998598",
        "authorId" : "3f151bdd-d977-41de-bd46-eda63002cbc5",
        "body" : "Fixed, thank you",
        "createdAt" : "2020-11-19T09:28:31Z",
        "updatedAt" : "2020-12-12T12:08:47Z",
        "lastEditedBy" : "3f151bdd-d977-41de-bd46-eda63002cbc5",
        "tags" : [
        ]
      },
      {
        "id" : "74b2cc94-06e0-4b9c-90de-c247f320de28",
        "parentId" : "c1fd6363-dbcf-4a04-80fb-eb9974998598",
        "authorId" : "3f151bdd-d977-41de-bd46-eda63002cbc5",
        "body" : "Had to rollback to the first version since TF_ASSIGN_OR_RETURN is apparently moving the StatusOr value, which is unwanted in this particular case.",
        "createdAt" : "2020-12-12T12:09:41Z",
        "updatedAt" : "2020-12-12T12:09:41Z",
        "lastEditedBy" : "3f151bdd-d977-41de-bd46-eda63002cbc5",
        "tags" : [
        ]
      }
    ],
    "commit" : "8b35d402a8d9fba5ab8a053300c2493106e0dff9",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +134,138 @@  }\n\n  const std::vector<uint8>& compiled = it->second.ValueOrDie();\n  return absl::MakeSpan(compiled);\n}"
  },
  {
    "id" : "bd941eff-0de1-43cf-9589-2e6a75597ab2",
    "prId" : 44486,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/44486#pullrequestreview-534227585",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "20fbe3a1-2ae1-466d-be17-073bf19bf70e",
        "parentId" : null,
        "authorId" : "db119d71-0485-413b-9ea8-fd044b814e31",
        "body" : "This should order after `CHECK(it != ptx_cache.end())`.",
        "createdAt" : "2020-11-18T21:25:39Z",
        "updatedAt" : "2020-12-12T12:08:47Z",
        "lastEditedBy" : "db119d71-0485-413b-9ea8-fd044b814e31",
        "tags" : [
        ]
      },
      {
        "id" : "ffb9bfbb-13af-4166-8887-7046ba57aa19",
        "parentId" : "20fbe3a1-2ae1-466d-be17-073bf19bf70e",
        "authorId" : "3f151bdd-d977-41de-bd46-eda63002cbc5",
        "body" : "Fixed, thank you",
        "createdAt" : "2020-11-19T09:28:33Z",
        "updatedAt" : "2020-12-12T12:08:47Z",
        "lastEditedBy" : "3f151bdd-d977-41de-bd46-eda63002cbc5",
        "tags" : [
        ]
      }
    ],
    "commit" : "8b35d402a8d9fba5ab8a053300c2493106e0dff9",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +130,134 @@  // entry to avoid value moving introduced by TF_ASSIGN_OR_RETURN.\n\n  if (TF_PREDICT_FALSE(!it->second.ok())) {\n    return it->second.status();\n  }"
  }
]