[
  {
    "id" : "89f88697-600a-4fbc-8958-a1ceec3756c3",
    "prId" : 21509,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/21509#pullrequestreview-147724729",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "261152d4-8724-4304-bf7b-8de9ef242721",
        "parentId" : null,
        "authorId" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "body" : "So instead of training a tree and getting something, can you hardcode the tree you want to receive\r\nLike this\r\n\r\n tree_ensemble_config = boosted_trees_pb2.TreeEnsemble()\r\n text_format.Merge(\r\n          \"\"\"\r\n        trees {\r\n          nodes {\r\n            leaf {\r\n              scalar: 15\r\n            }\r\n          }\r\n        }\r\n        tree_weights: 0.1\r\n        tree_metadata: {\r\n          num_layers_grown: 0}\r\n      \"\"\", tree_ensemble_config)\r\n\r\n     and then write it to the checkpoint under the appropriate name",
        "createdAt" : "2018-08-13T21:17:18Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "tags" : [
        ]
      },
      {
        "id" : "f092a643-63a1-4d56-addf-613a1add1422",
        "parentId" : "261152d4-8724-4304-bf7b-8de9ef242721",
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "Most of comments have been resolved. I'll update test cases later, because I don't find a easy way to replace contents of checkpoint for now. Do you have any advice? Thanks.",
        "createdAt" : "2018-08-17T06:39:32Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      },
      {
        "id" : "0e3aacfb-8c29-4752-a942-03571615f745",
        "parentId" : "261152d4-8724-4304-bf7b-8de9ef242721",
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "Fixed it.",
        "createdAt" : "2018-08-19T04:29:35Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      },
      {
        "id" : "b52edaff-e449-4469-a602-5ceb8d5f2d86",
        "parentId" : "261152d4-8724-4304-bf7b-8de9ef242721",
        "authorId" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "body" : "Pardon have not seen it before. Looks like u figured it out in create fake checkpoint :)",
        "createdAt" : "2018-08-20T18:42:20Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "046c74c8e7c68aaa726977dd6e8a2523f854f9cc",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +583,587 @@    num_steps = 100\n    # Train for a few steps, and validate final checkpoint.\n    est.train(input_fn, steps=num_steps)\n\n    feature_names_expected = ['f_0_bucketized',"
  },
  {
    "id" : "8e19fb46-5ab2-423f-abc8-c643b74c66a5",
    "prId" : 21509,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/21509#pullrequestreview-148324252",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7afe1f60-69d0-408c-b0e6-e41237cfa542",
        "parentId" : null,
        "authorId" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "body" : "could you add leaves for consistency. This tree is just made of the splits",
        "createdAt" : "2018-08-20T18:44:42Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "tags" : [
        ]
      },
      {
        "id" : "6c441cf5-942b-46f3-980c-a2a67344ae10",
        "parentId" : "7afe1f60-69d0-408c-b0e6-e41237cfa542",
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "I add a test for full ensemble proto (with leaves) `testFeatureImportancesWithFullTrees`, and leave other test cases clean. Is it ok?",
        "createdAt" : "2018-08-21T06:22:49Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      },
      {
        "id" : "f64b45ef-2d9d-45a0-bd30-10ab01122263",
        "parentId" : "7afe1f60-69d0-408c-b0e6-e41237cfa542",
        "authorId" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "body" : "It is impossible to get the splits without leaves. Lets add the leaves for consistency. Here and in the next test with the tree weights",
        "createdAt" : "2018-08-21T19:26:19Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "tags" : [
        ]
      },
      {
        "id" : "fe5d14c7-5640-4099-b30e-757203087be8",
        "parentId" : "7afe1f60-69d0-408c-b0e6-e41237cfa542",
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "Fine.",
        "createdAt" : "2018-08-22T03:48:01Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "046c74c8e7c68aaa726977dd6e8a2523f854f9cc",
    "line" : 493,
    "diffHunk" : "@@ -1,1 +735,739 @@          }\n          nodes {\n            bucketized_split {\n              feature_id: 2\n              left_id: 3"
  },
  {
    "id" : "3956edde-167e-4ec5-93a4-859fa4503903",
    "prId" : 21509,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/21509#pullrequestreview-148337265",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "334397b6-635f-4598-a803-4b0ce1cd236d",
        "parentId" : null,
        "authorId" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "body" : "ditto, leaves",
        "createdAt" : "2018-08-21T19:32:58Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "tags" : [
        ]
      },
      {
        "id" : "f140d6bd-32e8-44f6-ae56-e548f46efc41",
        "parentId" : "334397b6-635f-4598-a803-4b0ce1cd236d",
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "done.",
        "createdAt" : "2018-08-22T05:33:41Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "046c74c8e7c68aaa726977dd6e8a2523f854f9cc",
    "line" : 121,
    "diffHunk" : "@@ -1,1 +1051,1055 @@              scalar: 3.34\n            }\n          }\n          nodes {\n            leaf {"
  },
  {
    "id" : "92f558c5-a4a2-44f0-81bf-7de7a1c69213",
    "prId" : 21509,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/21509#pullrequestreview-149101877",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8b74cdf5-912b-40e7-94f1-031a91c1ebcb",
        "parentId" : null,
        "authorId" : "f5982009-3c94-43a6-9cb6-ff5840d81d70",
        "body" : "is there a shorter but still readable way to represent a tree?\r\nwe can use that to shorten the unit tests.\r\nI personally don't have the answer. that's why i'm okay with current solution.",
        "createdAt" : "2018-08-22T20:37:02Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "f5982009-3c94-43a6-9cb6-ff5840d81d70",
        "tags" : [
        ]
      },
      {
        "id" : "ced1d103-a918-4d32-907e-f0df94711b2c",
        "parentId" : "8b74cdf5-912b-40e7-94f1-031a91c1ebcb",
        "authorId" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "body" : "Alternatively you can just construct the proto in a cycle, eg add the nodes etc. I know it is lengthy, but this way you get the idea of the structure with one glance",
        "createdAt" : "2018-08-22T20:40:18Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "9a148c2a-91ac-4721-9fab-01f08ed322f8",
        "tags" : [
        ]
      },
      {
        "id" : "c9c157c2-6fce-4f1f-a3cd-7b0fc1493081",
        "parentId" : "8b74cdf5-912b-40e7-94f1-031a91c1ebcb",
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "I prefer to use tree_ensembel_text. It's indeed a little lengthy, however it improves readability and is less bug-prone.",
        "createdAt" : "2018-08-23T09:39:44Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      },
      {
        "id" : "7a1db8f7-2984-4a9a-9829-c038282df67d",
        "parentId" : "8b74cdf5-912b-40e7-94f1-031a91c1ebcb",
        "authorId" : "f5982009-3c94-43a6-9cb6-ff5840d81d70",
        "body" : "ok with me.",
        "createdAt" : "2018-08-23T21:18:45Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "f5982009-3c94-43a6-9cb6-ff5840d81d70",
        "tags" : [
        ]
      }
    ],
    "commit" : "046c74c8e7c68aaa726977dd6e8a2523f854f9cc",
    "line" : 443,
    "diffHunk" : "@@ -1,1 +983,987 @@        max_depth=1)\n\n    tree_ensemble_text = \"\"\"\n        trees {\n          nodes {"
  },
  {
    "id" : "fb36b84d-ec2b-4cc8-ae69-baa13f75b02a",
    "prId" : 21509,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/21509#pullrequestreview-148849502",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cce7fc62-3ce8-4863-82f3-77c001a8deec",
        "parentId" : null,
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "@ispirmustafa @nataliaponomareva This test case is created for `_generate_feature_name_mapping`",
        "createdAt" : "2018-08-23T10:30:31Z",
        "updatedAt" : "2018-09-19T22:45:29Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "046c74c8e7c68aaa726977dd6e8a2523f854f9cc",
    "line" : 534,
    "diffHunk" : "@@ -1,1 +1074,1078 @@                              'continuous_bucketized',\n                              'categorical_indicator:good']\n\n    feature_names, importances = est.experimental_feature_importances(\n        normalize=False)"
  }
]