[
  {
    "id" : "3624fb52-e7e8-4b4e-9280-f60de08a3dd9",
    "prId" : 25796,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/25796#pullrequestreview-207096621",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ce91f8e9-67e8-4a1e-90e4-8ce41a268d0e",
        "parentId" : null,
        "authorId" : "1223b96d-efd5-4254-9e4f-f359308f8df2",
        "body" : "This will get constant folded and the second self.evaluate() will return identical values. You should turn this into a Variable.",
        "createdAt" : "2019-02-22T05:56:36Z",
        "updatedAt" : "2019-02-22T06:00:02Z",
        "lastEditedBy" : "1223b96d-efd5-4254-9e4f-f359308f8df2",
        "tags" : [
        ]
      },
      {
        "id" : "a35b152d-408b-43ba-b79f-09bc86799d8a",
        "parentId" : "ce91f8e9-67e8-4a1e-90e4-8ce41a268d0e",
        "authorId" : "39e3aa8c-a3d1-45a2-8300-9bf553814b31",
        "body" : "Maybe I'm not understanding. The output of each instance of this op can, should, and will be the same between the first and second `self.evaluate()` in each test. I think there's no problem with the constant being folded.",
        "createdAt" : "2019-02-22T20:54:58Z",
        "updatedAt" : "2019-02-22T20:54:58Z",
        "lastEditedBy" : "39e3aa8c-a3d1-45a2-8300-9bf553814b31",
        "tags" : [
        ]
      },
      {
        "id" : "bf96d4e3-90b8-4e3e-9ad8-469c788dada6",
        "parentId" : "ce91f8e9-67e8-4a1e-90e4-8ce41a268d0e",
        "authorId" : "39e3aa8c-a3d1-45a2-8300-9bf553814b31",
        "body" : "Hey Christian, I wanted to make sure about this, so I played with constants and variables in a test script. In the way these tests are intended to work, constant and variable would do the same thing. The advantages of constant over variable are: (1) we don't need to run the variable initializer; and (2) constant is a better description of them as being constant. Every time `_random_data_op()` is called, it should add a constant op to the graph, and that constant op should evaluate the same way on every run of the graph.\r\n\r\nHere is the output from my script:\r\n```\r\nCONSTANTS (seed=123)\r\n  VALUES FROM RUN 1:\r\n    OP 1\r\n      [[ 0.393 -0.428]\r\n       [-0.546  0.103]]\r\n    OP 2\r\n      [[ 0.439 -0.154]\r\n       [ 0.962  0.370]]\r\n  VALUES FROM RUN 2:\r\n    OP 1\r\n      [[ 0.393 -0.428]\r\n       [-0.546  0.103]]\r\n    OP 2\r\n      [[ 0.439 -0.154]\r\n       [ 0.962  0.370]]\r\n\r\nVARIABLES (seed=123)\r\n  VALUES FROM RUN 1:\r\n    OP 1\r\n      [[ 0.393 -0.428]\r\n       [-0.546  0.103]]\r\n    OP 2\r\n      [[ 0.439 -0.154]\r\n       [ 0.962  0.370]]\r\n  VALUES FROM RUN 2:\r\n    OP 1\r\n      [[ 0.393 -0.428]\r\n       [-0.546  0.103]]\r\n    OP 2\r\n      [[ 0.439 -0.154]\r\n       [ 0.962  0.370]]\r\n```",
        "createdAt" : "2019-02-23T00:33:29Z",
        "updatedAt" : "2019-02-23T00:35:18Z",
        "lastEditedBy" : "39e3aa8c-a3d1-45a2-8300-9bf553814b31",
        "tags" : [
        ]
      },
      {
        "id" : "a64750aa-4b90-4f75-bce0-502ba92964aa",
        "parentId" : "ce91f8e9-67e8-4a1e-90e4-8ce41a268d0e",
        "authorId" : "1223b96d-efd5-4254-9e4f-f359308f8df2",
        "body" : "You are right, thanks for the explanation.",
        "createdAt" : "2019-02-23T05:36:39Z",
        "updatedAt" : "2019-02-23T05:36:39Z",
        "lastEditedBy" : "1223b96d-efd5-4254-9e4f-f359308f8df2",
        "tags" : [
        ]
      }
    ],
    "commit" : "33d0415f99d3f0d799be319c5a521921bdbc7c01",
    "line" : 50,
    "diffHunk" : "@@ -1,1 +48,52 @@    # np.random.random_sample can properly interpret either tf.TensorShape or\n    # namedtuple as a list.\n    return constant_op.constant(2 * np.random.random_sample(shape) - 1,\n                                dtype=dtypes.float32)\n"
  },
  {
    "id" : "594e7428-eb1b-4803-a5bd-16218c31cbac",
    "prId" : 25796,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/25796#pullrequestreview-207023159",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "afa8a837-ed69-4099-85c6-6053f2962e9d",
        "parentId" : null,
        "authorId" : "1223b96d-efd5-4254-9e4f-f359308f8df2",
        "body" : "Please import entire module and then do collections.namedtuple below.",
        "createdAt" : "2019-02-22T05:57:56Z",
        "updatedAt" : "2019-02-22T06:00:02Z",
        "lastEditedBy" : "1223b96d-efd5-4254-9e4f-f359308f8df2",
        "tags" : [
        ]
      },
      {
        "id" : "d8a6521a-4f78-42d9-996c-f434523bbb2c",
        "parentId" : "afa8a837-ed69-4099-85c6-6053f2962e9d",
        "authorId" : "39e3aa8c-a3d1-45a2-8300-9bf553814b31",
        "body" : "Agreed. Thanks for catching that.",
        "createdAt" : "2019-02-22T20:55:35Z",
        "updatedAt" : "2019-02-22T20:55:35Z",
        "lastEditedBy" : "39e3aa8c-a3d1-45a2-8300-9bf553814b31",
        "tags" : [
        ]
      }
    ],
    "commit" : "33d0415f99d3f0d799be319c5a521921bdbc7c01",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +20,24 @@\nimport os\nfrom collections import namedtuple\nimport numpy as np\n"
  },
  {
    "id" : "b2d92b7d-1f69-4e99-a918-67ef9e690052",
    "prId" : 25796,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/25796#pullrequestreview-207025090",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "be29fd28-f7c2-47fe-a5ad-16f3967eec08",
        "parentId" : null,
        "authorId" : "1223b96d-efd5-4254-9e4f-f359308f8df2",
        "body" : "Sort alphabetically.",
        "createdAt" : "2019-02-22T05:58:11Z",
        "updatedAt" : "2019-02-22T06:00:02Z",
        "lastEditedBy" : "1223b96d-efd5-4254-9e4f-f359308f8df2",
        "tags" : [
        ]
      },
      {
        "id" : "44db28dd-db11-49a4-b5c3-f7e209694b34",
        "parentId" : "be29fd28-f7c2-47fe-a5ad-16f3967eec08",
        "authorId" : "39e3aa8c-a3d1-45a2-8300-9bf553814b31",
        "body" : "Got it. Thanks.",
        "createdAt" : "2019-02-22T21:00:41Z",
        "updatedAt" : "2019-02-22T21:00:42Z",
        "lastEditedBy" : "39e3aa8c-a3d1-45a2-8300-9bf553814b31",
        "tags" : [
        ]
      }
    ],
    "commit" : "33d0415f99d3f0d799be319c5a521921bdbc7c01",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +27,31 @@from tensorflow.python.framework import test_util\nfrom tensorflow.python.platform import test\nfrom tensorflow.python.ops import nn_ops\n\n# The TF_CUDNN_DETERMINISTIC flag disables autotuning of cuDNN algorithms and"
  }
]