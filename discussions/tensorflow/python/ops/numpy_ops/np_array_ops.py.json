[
  {
    "id" : "44de1ad0-2267-4155-8c40-ab23aa908241",
    "prId" : 42539,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/42539#pullrequestreview-482109203",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5b8d3e81-73df-4095-8951-99c722616446",
        "parentId" : null,
        "authorId" : "bf3c6dbf-8943-4c2e-8740-5dc2e2a10001",
        "body" : "After your change above, this should not happen. `x` will **always** be a Tensor. You can move this above the `asarray` call, since I think it makes sense as an optimization. ",
        "createdAt" : "2020-09-03T18:03:43Z",
        "updatedAt" : "2020-09-08T23:47:00Z",
        "lastEditedBy" : "bf3c6dbf-8943-4c2e-8740-5dc2e2a10001",
        "tags" : [
        ]
      },
      {
        "id" : "565c09e6-0b25-494f-adfc-0f8360ca6f06",
        "parentId" : "5b8d3e81-73df-4095-8951-99c722616446",
        "authorId" : "9a27944f-59c3-4f9d-bd67-6a0c11b92f97",
        "body" : "Great idea!",
        "createdAt" : "2020-09-03T18:42:15Z",
        "updatedAt" : "2020-09-08T23:47:00Z",
        "lastEditedBy" : "9a27944f-59c3-4f9d-bd67-6a0c11b92f97",
        "tags" : [
        ]
      }
    ],
    "commit" : "fcfe64be4ca16c98b6e4a480c3207a3d9c3648e5",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +567,571 @@    raise NotImplementedError(\"axis argument is not supported in the current \"\n                              \"`np.size` implementation\")\n  if isinstance(x, (int, float, np.int32, np.int64,\n                    np.float32, np.float64)):\n    return 1"
  },
  {
    "id" : "00650d53-bbf6-4094-bfa0-103104ab487f",
    "prId" : 42539,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/42539#pullrequestreview-482080226",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "509157cc-3c7d-4f5f-b719-900099942fc7",
        "parentId" : null,
        "authorId" : "bf3c6dbf-8943-4c2e-8740-5dc2e2a10001",
        "body" : "This still doesn't handle Tensors with partially defined shapes. \r\n\r\nx.shape returns a [TensorShape](https://www.tensorflow.org/api_docs/python/tf/TensorShape). If the shape [is_fully_defined](https://www.tensorflow.org/api_docs/python/tf/TensorShape#is_fully_defined), then the code as written works OK, but that is not guaranteed. If the shape isn't fully defined, you'll have to call the corresponding TensorFlow [size](https://www.tensorflow.org/api_docs/python/tf/size) function, and return that as a result. ",
        "createdAt" : "2020-09-03T18:07:24Z",
        "updatedAt" : "2020-09-08T23:47:00Z",
        "lastEditedBy" : "bf3c6dbf-8943-4c2e-8740-5dc2e2a10001",
        "tags" : [
        ]
      }
    ],
    "commit" : "fcfe64be4ca16c98b6e4a480c3207a3d9c3648e5",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +572,576 @@  x = asarray(x).data\n  if x.shape.is_fully_defined():\n    return prod(tuple(x.shape))\n  else:\n    return np_utils.tensor_to_ndarray(array_ops.size_v2(x))"
  },
  {
    "id" : "69db8347-a61d-408f-aba0-c5cf61abc0f7",
    "prId" : 42539,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/42539#pullrequestreview-482228629",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a8486046-0fbf-4e35-995f-24c84c2d6168",
        "parentId" : null,
        "authorId" : "bf3c6dbf-8943-4c2e-8740-5dc2e2a10001",
        "body" : "I think this `else` can be removed - `asarray` will raise an error if something not-compatible is passed in. ",
        "createdAt" : "2020-09-03T21:54:43Z",
        "updatedAt" : "2020-09-08T23:47:00Z",
        "lastEditedBy" : "bf3c6dbf-8943-4c2e-8740-5dc2e2a10001",
        "tags" : [
        ]
      }
    ],
    "commit" : "fcfe64be4ca16c98b6e4a480c3207a3d9c3648e5",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +573,577 @@  if x.shape.is_fully_defined():\n    return prod(tuple(x.shape))\n  else:\n    return np_utils.tensor_to_ndarray(array_ops.size_v2(x))\n"
  }
]