[
  {
    "id" : "ca6223c2-182c-402f-9f75-f3ebca2a7250",
    "prId" : 2468,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "329ed579-451e-4ffd-93e6-23cf3fbe9d7e",
        "parentId" : null,
        "authorId" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "body" : "@vrv I submitted a new pull request, is that what you mean?  Thanks a lot!\n",
        "createdAt" : "2016-06-20T05:26:30Z",
        "updatedAt" : "2016-07-10T08:06:29Z",
        "lastEditedBy" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "tags" : [
        ]
      },
      {
        "id" : "eb73fdc2-e5c6-4f6b-ae39-565c6a076838",
        "parentId" : "329ed579-451e-4ffd-93e6-23cf3fbe9d7e",
        "authorId" : "1836b116-1c54-4d2e-8c7f-d83e825237ef",
        "body" : "Hm, I don't see a new pull request! :(\n",
        "createdAt" : "2016-07-09T23:15:38Z",
        "updatedAt" : "2016-07-10T08:06:29Z",
        "lastEditedBy" : "1836b116-1c54-4d2e-8c7f-d83e825237ef",
        "tags" : [
        ]
      },
      {
        "id" : "b8fb03fc-338f-4c87-b383-849cd6d33269",
        "parentId" : "329ed579-451e-4ffd-93e6-23cf3fbe9d7e",
        "authorId" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "body" : "@vrv oops, i meant as a force push...\n\nIs this what you mean by moving the decay rate outside?\n\nThanks!\n\nOn Sat, Jul 9, 2016, 4:17 PM Vijay Vasudevan notifications@github.com\nwrote:\n\n> In tensorflow/python/training/learning_rate_decay_test.py\n> https://github.com/tensorflow/tensorflow/pull/2468#discussion_r70173417:\n> \n> > -                            decayed_lr.eval())\n> > -        add.op.run()\n> >   +\n> > -  def testStaircase(self):\n> > -    initial_lr = 0.1\n> > -    k = 10\n> > -    decay_rate = 0.96\n> > -    step = state_ops.variable_op([], dtypes.int32)\n> > -    assign_step = state_ops.assign(step, 0)\n> > -    increment_step = state_ops.assign_add(step, 1)\n> > -    decayed_lr = learning_rate_decay.natural_exp_decay(initial_lr,\n> > -                                                       step,\n> > -                                                       k,\n> > -                                                       decay_rate,\n> > -                                                       staircase=True)\n> > -    with self.test_session():\n> \n> Hm, I don't see a new pull request! :(\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/tensorflow/tensorflow/pull/2468/files/8de656676ff49aebd3fa9e592a839127b33da93c#r70173417,\n> or mute the thread\n> https://github.com/notifications/unsubscribe/ADzDDPoLNnwggieV1kg_Cu4iRJlFWvsVks5qUCv9gaJpZM4IkGgi\n> .\n",
        "createdAt" : "2016-07-09T23:27:46Z",
        "updatedAt" : "2016-07-10T08:06:29Z",
        "lastEditedBy" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "tags" : [
        ]
      },
      {
        "id" : "3a17c481-9345-4bb8-9e03-6dd1aab05092",
        "parentId" : "329ed579-451e-4ffd-93e6-23cf3fbe9d7e",
        "authorId" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "body" : "@vrv let me check the code again..   I think i didn't change it for all of\nthe tests, but only for test_staircase..  I'll get back to you when i am\nback on my laptop.\n\nOn Sat, Jul 9, 2016, 4:27 PM Alan Wu alan.c.wu@gmail.com wrote:\n\n> @vrv oops, i meant as a force push...\n> \n> Is this what you mean by moving the decay rate outside?\n> \n> Thanks!\n> \n> On Sat, Jul 9, 2016, 4:17 PM Vijay Vasudevan notifications@github.com\n> wrote:\n> \n> > In tensorflow/python/training/learning_rate_decay_test.py\n> > https://github.com/tensorflow/tensorflow/pull/2468#discussion_r70173417\n> > :\n> > \n> > > -                            decayed_lr.eval())\n> > > -        add.op.run()\n> > >   +\n> > > -  def testStaircase(self):\n> > > -    initial_lr = 0.1\n> > > -    k = 10\n> > > -    decay_rate = 0.96\n> > > -    step = state_ops.variable_op([], dtypes.int32)\n> > > -    assign_step = state_ops.assign(step, 0)\n> > > -    increment_step = state_ops.assign_add(step, 1)\n> > > -    decayed_lr = learning_rate_decay.natural_exp_decay(initial_lr,\n> > > -                                                       step,\n> > > -                                                       k,\n> > > -                                                       decay_rate,\n> > > -                                                       staircase=True)\n> > > -    with self.test_session():\n> > \n> > Hm, I don't see a new pull request! :(\n> > \n> > —\n> > You are receiving this because you authored the thread.\n> > Reply to this email directly, view it on GitHub\n> > https://github.com/tensorflow/tensorflow/pull/2468/files/8de656676ff49aebd3fa9e592a839127b33da93c#r70173417,\n> > or mute the thread\n> > https://github.com/notifications/unsubscribe/ADzDDPoLNnwggieV1kg_Cu4iRJlFWvsVks5qUCv9gaJpZM4IkGgi\n> > .\n",
        "createdAt" : "2016-07-09T23:37:04Z",
        "updatedAt" : "2016-07-10T08:06:29Z",
        "lastEditedBy" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "tags" : [
        ]
      },
      {
        "id" : "ed913274-4f22-42a6-b59b-9e6d979b4006",
        "parentId" : "329ed579-451e-4ffd-93e6-23cf3fbe9d7e",
        "authorId" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "body" : "@vrv apolgies for the confusion.\n\nOn Sat, Jul 9, 2016, 4:36 PM Alan Wu alan.c.wu@gmail.com wrote:\n\n> @vrv let me check the code again..   I think i didn't change it for all of\n> the tests, but only for test_staircase..  I'll get back to you when i am\n> back on my laptop.\n> \n> On Sat, Jul 9, 2016, 4:27 PM Alan Wu alan.c.wu@gmail.com wrote:\n> \n> > @vrv oops, i meant as a force push...\n> > \n> > Is this what you mean by moving the decay rate outside?\n> > \n> > Thanks!\n> > \n> > On Sat, Jul 9, 2016, 4:17 PM Vijay Vasudevan notifications@github.com\n> > wrote:\n> > \n> > > In tensorflow/python/training/learning_rate_decay_test.py\n> > > https://github.com/tensorflow/tensorflow/pull/2468#discussion_r70173417\n> > > :\n> > > \n> > > > -                            decayed_lr.eval())\n> > > > -        add.op.run()\n> > > >   +\n> > > > -  def testStaircase(self):\n> > > > -    initial_lr = 0.1\n> > > > -    k = 10\n> > > > -    decay_rate = 0.96\n> > > > -    step = state_ops.variable_op([], dtypes.int32)\n> > > > -    assign_step = state_ops.assign(step, 0)\n> > > > -    increment_step = state_ops.assign_add(step, 1)\n> > > > -    decayed_lr = learning_rate_decay.natural_exp_decay(initial_lr,\n> > > > -                                                       step,\n> > > > -                                                       k,\n> > > > -                                                       decay_rate,\n> > > > -                                                       staircase=True)\n> > > > -    with self.test_session():\n> > > \n> > > Hm, I don't see a new pull request! :(\n> > > \n> > > —\n> > > You are receiving this because you authored the thread.\n> > > Reply to this email directly, view it on GitHub\n> > > https://github.com/tensorflow/tensorflow/pull/2468/files/8de656676ff49aebd3fa9e592a839127b33da93c#r70173417,\n> > > or mute the thread\n> > > https://github.com/notifications/unsubscribe/ADzDDPoLNnwggieV1kg_Cu4iRJlFWvsVks5qUCv9gaJpZM4IkGgi\n> > > .\n",
        "createdAt" : "2016-07-09T23:53:25Z",
        "updatedAt" : "2016-07-10T08:06:29Z",
        "lastEditedBy" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "tags" : [
        ]
      },
      {
        "id" : "dcef00f7-798d-47c1-a3d6-cb249a396ded",
        "parentId" : "329ed579-451e-4ffd-93e6-23cf3fbe9d7e",
        "authorId" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "body" : "@vrv please try this and let me know if there are any problems!  Thanks for your patience in dealing with this PR.\n",
        "createdAt" : "2016-07-10T08:08:11Z",
        "updatedAt" : "2016-07-10T08:08:11Z",
        "lastEditedBy" : "d92cb667-ff0d-4a2c-ab39-a51077e178e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "5c1b0390fe539244c1cc71b301be1364309b6aa4",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +248,252 @@                                                       decay_rate,\n                                                       staircase=True)\n    with self.test_session():\n      assign_step.op.run()\n      for i in range(k+1):"
  },
  {
    "id" : "d651d78f-360e-4133-a8b9-00fa90b5bd70",
    "prId" : 2442,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ffd15878-2e72-4816-9e78-c9d6f44cd0ea",
        "parentId" : null,
        "authorId" : "5f311952-9020-4294-a943-21cbd17dde41",
        "body" : "Can you add some tests for error conditions (e.g. mismatched types in the list of boundaries, values)?\n",
        "createdAt" : "2016-05-20T19:28:37Z",
        "updatedAt" : "2016-05-24T17:50:20Z",
        "lastEditedBy" : "5f311952-9020-4294-a943-21cbd17dde41",
        "tags" : [
        ]
      }
    ],
    "commit" : "917f3a71e2fa81257423109480d4a419fdeb9ac4",
    "line" : null,
    "diffHunk" : "@@ -1,1 +107,111 @@        boundaries, values = [-1.0, 1.0], [1.0, 2, 3]\n        pc = learning_rate_decay.piecewise_constant(x, boundaries, values)\n\n\nif __name__ == \"__main__\":"
  }
]