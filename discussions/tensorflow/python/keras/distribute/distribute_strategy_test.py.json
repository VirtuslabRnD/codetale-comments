[
  {
    "id" : "d4cbcf1b-9fa0-4ad1-ae43-7c28eba5f40d",
    "prId" : 42350,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/42350#pullrequestreview-470101372",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3ccbdfb3-4a8b-451e-bb6a-7e55c1636b93",
        "parentId" : null,
        "authorId" : "2861a495-42d5-4ac3-b543-23cf14c0a980",
        "body" : "This seems scary -- ideally we should be able to run dense layers in TF32 without noticing right?\r\n\r\nHow much would we have to adjust the tolerances here to have this pass?",
        "createdAt" : "2020-08-15T07:32:27Z",
        "updatedAt" : "2020-08-25T17:30:10Z",
        "lastEditedBy" : "2861a495-42d5-4ac3-b543-23cf14c0a980",
        "tags" : [
        ]
      },
      {
        "id" : "c9ce7f32-a7e3-40a9-9b9b-4e18cc6ccd1c",
        "parentId" : "3ccbdfb3-4a8b-451e-bb6a-7e55c1636b93",
        "authorId" : "05c2b6c1-8a55-4dc9-ae76-02172416ea90",
        "body" : "The test with the highest difference has a 2.74553895e-06 absolute difference and a 0.00026148 relative difference. These differences are very small and are expected with tf32 so I am not worried. The differences occur because some tests run with a Strategy using the CPU, and are compared to not using a Strategy (which runs on the GPU by default).",
        "createdAt" : "2020-08-17T20:48:33Z",
        "updatedAt" : "2020-08-25T17:30:10Z",
        "lastEditedBy" : "05c2b6c1-8a55-4dc9-ae76-02172416ea90",
        "tags" : [
        ]
      },
      {
        "id" : "94a662c3-5e60-454b-b572-43c5a20d4dc3",
        "parentId" : "3ccbdfb3-4a8b-451e-bb6a-7e55c1636b93",
        "authorId" : "2861a495-42d5-4ac3-b543-23cf14c0a980",
        "body" : "Can we adjust the tolerances instead?  3e-6 seems like a reasonable tolerance.",
        "createdAt" : "2020-08-18T05:32:50Z",
        "updatedAt" : "2020-08-25T17:30:10Z",
        "lastEditedBy" : "2861a495-42d5-4ac3-b543-23cf14c0a980",
        "tags" : [
        ]
      },
      {
        "id" : "e76a32fa-fa06-468e-98fc-0dcd7dccc9dc",
        "parentId" : "3ccbdfb3-4a8b-451e-bb6a-7e55c1636b93",
        "authorId" : "05c2b6c1-8a55-4dc9-ae76-02172416ea90",
        "body" : "I think it's better to disable TF32, as if someone modifies this test or adds new test methods, they won't have to worry about setting the tolerances to pass with Ampere.",
        "createdAt" : "2020-08-19T03:35:41Z",
        "updatedAt" : "2020-08-25T17:30:10Z",
        "lastEditedBy" : "05c2b6c1-8a55-4dc9-ae76-02172416ea90",
        "tags" : [
        ]
      }
    ],
    "commit" : "355d6b55b2919e6842b82fff91fd81fdb37ca32f",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +1607,1611 @@\n@testing_utils.run_all_without_tensor_float_32(\n    'Uses Dense layers, which call matmul')\nclass TestDistributionStrategyWithKerasModels(test.TestCase,\n                                              parameterized.TestCase):"
  }
]