[
  {
    "id" : "25982dd3-d8a5-4b28-a6ab-d5881bc1732b",
    "prId" : 49313,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/49313#pullrequestreview-709993419",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c2717f82-727f-4625-aa34-72020865b1bd",
        "parentId" : null,
        "authorId" : "203062e3-cc6c-4775-baa1-b30b3a85ba23",
        "body" : "Why is this needed? Does `TfLiteInterpreterOptionsAddDelegate` from `c_api.h` not work? (I want to minimize the new things we add to support this)",
        "createdAt" : "2021-07-12T20:17:46Z",
        "updatedAt" : "2021-07-12T20:26:38Z",
        "lastEditedBy" : "203062e3-cc6c-4775-baa1-b30b3a85ba23",
        "tags" : [
        ]
      },
      {
        "id" : "3d2c057c-160e-4a91-8e78-c541daf11a06",
        "parentId" : "c2717f82-727f-4625-aa34-72020865b1bd",
        "authorId" : "28a54f80-7f2d-44d7-9284-b544d4aff1d0",
        "body" : "@srjoglekar246 \r\nI exposed this method for `gl_delegate.h`. `TfLiteGpuDelegateBindBufferToTensor` needs to be called before `TfLiteInterpreterModifyGraphWithDelegate`.\r\n\r\nhttps://github.com/tensorflow/tensorflow/blob/b1bd64aacd5e7a6a918cd8b8557dc9ce23e011bc/tensorflow/lite/delegates/gpu/gl_delegate.h#L115-L121\r\n\r\nThe order of process on gl_delegate:\r\n 1. Make an interpreter to get model input/output's shape\r\n 2. Create OpenGL SSBO and bind it with the GPU delegate\r\n 3. Call `TfLiteInterpreterModifyGraphWithDelegate`\r\n",
        "createdAt" : "2021-07-19T21:00:31Z",
        "updatedAt" : "2021-07-19T21:00:32Z",
        "lastEditedBy" : "28a54f80-7f2d-44d7-9284-b544d4aff1d0",
        "tags" : [
        ]
      },
      {
        "id" : "de6ae0c4-8d7b-4443-b85f-db6cb3530fec",
        "parentId" : "c2717f82-727f-4625-aa34-72020865b1bd",
        "authorId" : "203062e3-cc6c-4775-baa1-b30b3a85ba23",
        "body" : "Aah...you are right. Maybe add a note in the docstrings that users should prefer to use `TfLiteInterpreterOptionsAddDelegate` unless absolutely required (like for this use-case)",
        "createdAt" : "2021-07-19T21:03:05Z",
        "updatedAt" : "2021-07-19T21:03:05Z",
        "lastEditedBy" : "203062e3-cc6c-4775-baa1-b30b3a85ba23",
        "tags" : [
        ]
      },
      {
        "id" : "11d8ec3a-ae25-48d5-9852-5463128da301",
        "parentId" : "c2717f82-727f-4625-aa34-72020865b1bd",
        "authorId" : "28a54f80-7f2d-44d7-9284-b544d4aff1d0",
        "body" : "Added a note in 8f99d6b85fe3e198db8ab60315a3db5aff68d8c7",
        "createdAt" : "2021-07-19T21:26:23Z",
        "updatedAt" : "2021-07-19T21:26:23Z",
        "lastEditedBy" : "28a54f80-7f2d-44d7-9284-b544d4aff1d0",
        "tags" : [
        ]
      }
    ],
    "commit" : "8f99d6b85fe3e198db8ab60315a3db5aff68d8c7",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +171,175 @@/// 3. kTfLiteError: Unexpected/runtime failure.\n/// WARNING: This is an experimental API and subject to change.\nTFL_CAPI_EXPORT extern TfLiteStatus TfLiteInterpreterModifyGraphWithDelegate(\n    const TfLiteInterpreter* interpreter, TfLiteDelegate* delegate);\n"
  }
]