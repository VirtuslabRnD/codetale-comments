[
  {
    "id" : "c18c2238-5d90-4a30-9545-ad6e659d0cb9",
    "prId" : 3935,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6f3e19aa-e217-47df-9fe4-423573c10ee4",
        "parentId" : null,
        "authorId" : "5f311952-9020-4294-a943-21cbd17dde41",
        "body" : "Add an `else:` block to this statement that raises an exception if `FLAGS.job_name` is not set, or unknown.\n",
        "createdAt" : "2016-08-27T16:15:25Z",
        "updatedAt" : "2016-09-08T09:52:28Z",
        "lastEditedBy" : "5f311952-9020-4294-a943-21cbd17dde41",
        "tags" : [
        ]
      },
      {
        "id" : "5de12b78-ff2e-4399-8ae4-fbfc6004d173",
        "parentId" : "6f3e19aa-e217-47df-9fe4-423573c10ee4",
        "authorId" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "body" : "Sure thing, that will be more robust and security\n",
        "createdAt" : "2016-08-28T01:51:19Z",
        "updatedAt" : "2016-09-08T09:52:28Z",
        "lastEditedBy" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa18b64322020939d36b30114e74622754f99f88",
    "line" : null,
    "diffHunk" : "@@ -1,1 +118,122 @@  if FLAGS.job_name == \"ps\":\n    server.join()\n  elif FLAGS.job_name == \"worker\":\n    is_chief = (FLAGS.task_index == 0)\n    if FLAGS.num_gpus > 0:"
  },
  {
    "id" : "ba7f07ca-5338-4179-a618-b35916f9a5ce",
    "prId" : 3935,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7a6bc6fe-c59e-4e2f-8037-23714479c042",
        "parentId" : null,
        "authorId" : "5f311952-9020-4294-a943-21cbd17dde41",
        "body" : "This `if FLAGS.sync_replicas:` block can be combined with the one below (on L158&ndash;164).\n",
        "createdAt" : "2016-08-27T16:15:30Z",
        "updatedAt" : "2016-09-08T09:52:28Z",
        "lastEditedBy" : "5f311952-9020-4294-a943-21cbd17dde41",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa18b64322020939d36b30114e74622754f99f88",
    "line" : null,
    "diffHunk" : "@@ -1,1 +171,175 @@        else:\n          replicas_to_aggregate = FLAGS.replicas_to_aggregate\n\n        opt = tf.train.SyncReplicasOptimizer(\n            opt,"
  },
  {
    "id" : "d59dc381-4d56-48c3-8119-3f7bfcbbdf8a",
    "prId" : 3935,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aa3fd5d0-5322-4b45-97f8-0db545a693ca",
        "parentId" : null,
        "authorId" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "body" : "Check if the `FLAGS.job_name` and `FLAGS.task_index` are available\n",
        "createdAt" : "2016-08-28T03:39:29Z",
        "updatedAt" : "2016-09-08T09:52:28Z",
        "lastEditedBy" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa18b64322020939d36b30114e74622754f99f88",
    "line" : null,
    "diffHunk" : "@@ -1,1 +94,98 @@    sys.exit(0)\n\n  if FLAGS.job_name is None or FLAGS.job_name == \"\":\n    raise ValueError(\"Must specify an explicit `job_name`\")\n  if FLAGS.task_index is None or FLAGS.task_index ==\"\":"
  },
  {
    "id" : "e7da314a-708f-49d8-8189-99d68b0db2be",
    "prId" : 3935,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "55457646-ae4a-4786-864a-f264a1046570",
        "parentId" : null,
        "authorId" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "body" : "Get the `num_workers` from `worker_hosts` and delete the redundant flags `num_workers`\n",
        "createdAt" : "2016-08-28T03:40:42Z",
        "updatedAt" : "2016-09-08T09:52:28Z",
        "lastEditedBy" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa18b64322020939d36b30114e74622754f99f88",
    "line" : null,
    "diffHunk" : "@@ -1,1 +108,112 @@  # Get the number of workers \n  num_workers = len(worker_spec)\n\n  cluster = tf.train.ClusterSpec({\n      \"ps\": ps_spec,"
  },
  {
    "id" : "0a874de2-bb0b-45f9-b58e-6e61eaabdaf3",
    "prId" : 3935,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4c79a51d-0167-4f13-8c4a-6bae8c4caa05",
        "parentId" : null,
        "authorId" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "body" : "Support to use `/CPU:0` when setting `num_gpus=0`\n",
        "createdAt" : "2016-08-28T03:41:52Z",
        "updatedAt" : "2016-09-08T09:52:28Z",
        "lastEditedBy" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa18b64322020939d36b30114e74622754f99f88",
    "line" : 266,
    "diffHunk" : "@@ -1,1 +130,134 @@      # Just allocate the CPU to worker server\n      cpu = 0\n      worker_device = \"/job:worker/task:%d/cpu:%d\" % (FLAGS.task_index, cpu)\n    # The device setter will automatically place Variables ops on separate\n    # parameter servers (ps). The non-Variable ops will be placed on the workers."
  },
  {
    "id" : "ef74974f-951c-4f0a-b3eb-90b4c403f530",
    "prId" : 3935,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7c7ed043-1b83-493f-993e-2efe946640f9",
        "parentId" : null,
        "authorId" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "body" : "Check if `num_gpus == num_workers` when `num_gpus>0`\n",
        "createdAt" : "2016-08-28T03:42:33Z",
        "updatedAt" : "2016-09-08T09:52:28Z",
        "lastEditedBy" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa18b64322020939d36b30114e74622754f99f88",
    "line" : null,
    "diffHunk" : "@@ -1,1 +122,126 @@    if FLAGS.num_gpus > 0:\n      if FLAGS.num_gpus < num_workers:\n        raise ValueError(\"number of gpus is less than number of workers\")\n      # Avoid gpu allocation conflict: now allocate task_num -> #gpu \n      # for each worker in the corresponding machine"
  },
  {
    "id" : "78bd9683-a9a8-43e7-a5dc-43ef261d9f1e",
    "prId" : 3935,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e6208e0f-bd90-4bf9-a722-2a710455d137",
        "parentId" : null,
        "authorId" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "body" : "Combine `if FLAGS.sync_replica` statement to `SyncReplicasOptimizer` block\n",
        "createdAt" : "2016-08-28T03:44:11Z",
        "updatedAt" : "2016-09-08T09:52:28Z",
        "lastEditedBy" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa18b64322020939d36b30114e74622754f99f88",
    "line" : null,
    "diffHunk" : "@@ -1,1 +168,172 @@      if FLAGS.sync_replicas:\n        if FLAGS.replicas_to_aggregate is None:\n          replicas_to_aggregate = num_workers\n        else:\n          replicas_to_aggregate = FLAGS.replicas_to_aggregate"
  },
  {
    "id" : "5fe1bc3e-6d4f-41a4-b697-c9ac8072c852",
    "prId" : 3935,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0a82216b-6be3-48ee-ab0d-c10a2f0c9eb1",
        "parentId" : null,
        "authorId" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "body" : "`num_gpu` -> `num_gpus` and delete flags `num_workers`\n",
        "createdAt" : "2016-08-28T03:51:09Z",
        "updatedAt" : "2016-09-08T09:52:28Z",
        "lastEditedBy" : "8a0c7fb9-7e9e-4fb9-912b-3dda65aff0ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa18b64322020939d36b30114e74622754f99f88",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +59,63 @@flags.DEFINE_integer(\"num_gpus\", 1,\n                     \"Total number of gpus for each machine.\"\n                     \"If you don't use GPU, please set it to '0'\")\nflags.DEFINE_integer(\"replicas_to_aggregate\", None,\n                     \"Number of replicas to aggregate before parameter update\""
  }
]