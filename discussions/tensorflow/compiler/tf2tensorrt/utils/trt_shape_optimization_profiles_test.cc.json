[
  {
    "id" : "033e26cc-72c3-4456-895b-41ec945e90e0",
    "prId" : 48414,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/48414#pullrequestreview-650660790",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "84960734-a198-4d8e-8de4-3aad72cef8fc",
        "parentId" : null,
        "authorId" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "body" : "This API is not available in TRT 5.\r\nThere are other similar errors when running the test with TRT 5:\r\n\r\nthird_party/tensorflow/compiler/tf2tensorrt/utils/trt_shape_optimization_profiles_test.cc:122:41: error: no member named 'getOptimizationProfile' in 'nvinfer1::IExecutionContext'\r\n    int prof_idx = exec_contexts_[idx]->getOptimizationProfile();\r\n                   ~~~~~~~~~~~~~~~~~~~~~^\r\nthird_party/tensorflow/compiler/tf2tensorrt/utils/trt_shape_optimization_profiles_test.cc:126:34: error: no member named 'OptProfileSelector' in namespace 'nvinfer1'\r\n          j, prof_idx, nvinfer1::OptProfileSelector::kMIN);\r\n                       ~~~~~~~~~~^\r\nthird_party/tensorflow/compiler/tf2tensorrt/utils/trt_shape_optimization_profiles_test.cc:125:36: error: no member named 'getProfileDimensions' in 'nvinfer1::ICudaEngine'; did you mean 'getBindingDimensions'?\r\n      nvinfer1::Dims min = engine->getProfileDimensions(\r\n                                   ^~~~~~~~~~~~~~~~~~~~\r\n                                   getBindingDimensions\r\nblaze-out/k8-cuda101-opt/bin/third_party/tensorrt/_virtual_includes/nv_infer_static_cuda_10_1/third_party/tensorrt/NvInfer.h:4985:18: note: 'getBindingDimensions' declared here\r\n    virtual Dims getBindingDimensions(int bindingIndex) const = 0;\r\n                 ^\r\nthird_party/tensorflow/compiler/tf2tensorrt/utils/trt_shape_optimization_profiles_test.cc:128:34: error: no member named 'OptProfileSelector' in namespace 'nvinfer1'\r\n          j, prof_idx, nvinfer1::OptProfileSelector::kMAX);\r\n                       ~~~~~~~~~~^\r\nthird_party/tensorflow/compiler/tf2tensorrt/utils/trt_shape_optimization_profiles_test.cc:127:36: error: no member named 'getProfileDimensions' in 'nvinfer1::ICudaEngine'; did you mean 'getBindingDimensions'?\r\n      nvinfer1::Dims max = engine->getProfileDimensions(\r\n                                   ^~~~~~~~~~~~~~~~~~~~\r\n                                   getBindingDimensions\r\nblaze-out/k8-cuda101-opt/bin/third_party/tensorrt/_virtual_includes/nv_infer_static_cuda_10_1/third_party/tensorrt/NvInfer.h:4985:18: note: 'getBindingDimensions' declared here\r\n    virtual Dims getBindingDimensions(int bindingIndex) const = 0;\r\n                 ^\r\nthird_party/tensorflow/compiler/tf2tensorrt/utils/trt_shape_optimization_profiles_test.cc:130:34: error: no member named 'OptProfileSelector' in namespace 'nvinfer1'\r\n          j, prof_idx, nvinfer1::OptProfileSelector::kOPT);\r\n                       ~~~~~~~~~~^\r\nthird_party/tensorflow/compiler/tf2tensorrt/utils/trt_shape_optimization_profiles_test.cc:129:36: error: no member named 'getProfileDimensions' in 'nvinfer1::ICudaEngine'; did you mean 'getBindingDimensions'?\r\n      nvinfer1::Dims opt = engine->getProfileDimensions(\r\n                                   ^~~~~~~~~~~~~~~~~~~~\r\n                                   getBindingDimensions\r\nblaze-out/k8-cuda101-opt/bin/third_party/tensorrt/_virtual_includes/nv_infer_static_cuda_10_1/third_party/tensorrt/NvInfer.h:4985:18: note: 'getBindingDimensions' declared here\r\n    virtual Dims getBindingDimensions(int bindingIndex) const = 0;\r\n",
        "createdAt" : "2021-04-15T17:56:17Z",
        "updatedAt" : "2021-04-15T17:56:24Z",
        "lastEditedBy" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "tags" : [
        ]
      },
      {
        "id" : "ff9e0210-0a09-44e7-8904-edde3367d855",
        "parentId" : "84960734-a198-4d8e-8de4-3aad72cef8fc",
        "authorId" : "c5cb8841-0e3d-4435-b088-7d6beb78afd5",
        "body" : "I have added an ifdef to guard the TRT6+ API calls.",
        "createdAt" : "2021-05-03T19:38:30Z",
        "updatedAt" : "2021-05-03T19:39:11Z",
        "lastEditedBy" : "c5cb8841-0e3d-4435-b088-7d6beb78afd5",
        "tags" : [
        ]
      }
    ],
    "commit" : "ef46a8d0fa47b88ebad310f7042d9f5d8ed6e106",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +121,125 @@    if (idx < 0) return;\n#if IS_TRT_VERSION_GE(6, 0, 0, 0)\n    int prof_idx = exec_contexts_[idx]->getOptimizationProfile();\n    ASSERT_GE(prof_idx, 0);\n    for (int j = 0; j < dimvec.size(); j++) {"
  },
  {
    "id" : "cb5ec84c-85a6-4eec-83cb-1f6e01fdceb1",
    "prId" : 45588,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/45588#pullrequestreview-581613790",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c5ed1b63-313e-4c58-a1f3-54eb850025c7",
        "parentId" : null,
        "authorId" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "body" : "This last line check EXPECT_EQ(-1, profile.GetProfileNumber(shape_vec)) in this test fail when I ran the test. I couldn't put a comment next to that line, so putting it here.",
        "createdAt" : "2021-02-02T17:48:37Z",
        "updatedAt" : "2021-02-09T21:48:20Z",
        "lastEditedBy" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "tags" : [
        ]
      }
    ],
    "commit" : "f5c929ca8c65ae42cb449481adb25b4d994b8b5e",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +124,128 @@\nTEST_F(TrtShapeOptimizationProfileTest, Static) {\n  // Network with static input shape.\n  nvinfer1::Dims3 dims(8, 8, 10);\n  DefineNetwork(network_.get(), dims);"
  },
  {
    "id" : "f6631f83-2c4b-4d04-a94b-613abeed7492",
    "prId" : 36660,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/36660#pullrequestreview-359358298",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fa4e1c89-8e5f-4a49-9130-fa742a3f52bb",
        "parentId" : null,
        "authorId" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "body" : "This doesn't work for TRT5",
        "createdAt" : "2020-02-14T17:17:29Z",
        "updatedAt" : "2020-02-18T14:09:52Z",
        "lastEditedBy" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "tags" : [
        ]
      },
      {
        "id" : "099d01d6-9cd1-41bc-9e31-c4d6e428488a",
        "parentId" : "fa4e1c89-8e5f-4a49-9130-fa742a3f52bb",
        "authorId" : "c5cb8841-0e3d-4435-b088-7d6beb78afd5",
        "body" : "You are right, I have corrected this. ",
        "createdAt" : "2020-02-15T18:37:10Z",
        "updatedAt" : "2020-02-18T14:09:52Z",
        "lastEditedBy" : "c5cb8841-0e3d-4435-b088-7d6beb78afd5",
        "tags" : [
        ]
      }
    ],
    "commit" : "003afb8eadf5dd4a2bb91d927b420b7df9a0a312",
    "line" : 123,
    "diffHunk" : "@@ -1,1 +121,125 @@  const uint32_t flags_ =\n      1U << static_cast<int>(\n          nvinfer1::NetworkDefinitionCreationFlag::kEXPLICIT_BATCH);\n#endif\n};"
  }
]