[
  {
    "id" : "259c43a7-f39c-4171-b2e7-efbf25fbccb7",
    "prId" : 40545,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/40545#pullrequestreview-595797585",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "72350934-f19b-468e-b9a5-957253f9d5b2",
        "parentId" : null,
        "authorId" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "body" : "Would this be better?\r\n// The tensor values for the inputs with shape-tensor-compatible shapes. \r\nstd::vector<std::vector<absl::optional<nvinfer1::dims>>>> maybe_shape_tensor_values;",
        "createdAt" : "2021-02-12T20:23:33Z",
        "updatedAt" : "2021-03-09T22:29:02Z",
        "lastEditedBy" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "tags" : [
        ]
      },
      {
        "id" : "83e68a1b-50a3-4155-a620-a18dfcc5288e",
        "parentId" : "72350934-f19b-468e-b9a5-957253f9d5b2",
        "authorId" : "c5cb8841-0e3d-4435-b088-7d6beb78afd5",
        "body" : "No. It is only a \"maybe\", until we construct the network. Afterwards we [query the network](https://github.com/tfeher/tensorflow/blob/3cd66abebb2033ed6e8986c32d1b25ec5aec7505/tensorflow/compiler/tf2tensorrt/utils/trt_shape_optimization_profiles.cc#L319) for a definitive answer on which input are shape value input. \r\n\r\nSimilarly, if the engine is loaded from file, then we query the ICudaEngine, and that also gives a concrete answer. \r\n\r\nSo once the conversion is done, `input_shape_values_` stores values for actual shape tensors.",
        "createdAt" : "2021-02-22T23:59:23Z",
        "updatedAt" : "2021-03-09T22:29:02Z",
        "lastEditedBy" : "c5cb8841-0e3d-4435-b088-7d6beb78afd5",
        "tags" : [
        ]
      }
    ],
    "commit" : "47ef8f0dc44b84032bb2cc5401c84a3afe3dd6f2",
    "line" : 160,
    "diffHunk" : "@@ -1,1 +243,247 @@  // tensor is not compatible with a TRT shape tensor then an empty shape is\n  // stored.\n  std::vector<std::vector<nvinfer1::Dims>> input_shape_values_;\n\n  // Shape values present in the current inference call."
  }
]