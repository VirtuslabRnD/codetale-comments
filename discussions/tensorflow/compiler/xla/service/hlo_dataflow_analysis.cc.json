[
  {
    "id" : "a9cac8ea-2ff3-4e43-b39e-7a63f85202eb",
    "prId" : 46614,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/46614#pullrequestreview-575836662",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "61335ad5-3538-4e76-9ee0-88a30df3f904",
        "parentId" : null,
        "authorId" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "body" : "What do you think about rewriting this function using HLO matchers? (cf. pattern_matcher.h and the files which use it), it seems like it could be a lot smaller and a lot more readable?",
        "createdAt" : "2021-01-25T19:38:35Z",
        "updatedAt" : "2021-02-11T19:48:12Z",
        "lastEditedBy" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "tags" : [
        ]
      },
      {
        "id" : "7adc00a6-bd26-48ab-9d81-526a1e7531c5",
        "parentId" : "61335ad5-3538-4e76-9ee0-88a30df3f904",
        "authorId" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "body" : "Just took a look of pattern_matcher.h. It appears not a good fit here, because the ROOT Tuple instruction has a variable number of operands. It seems the pattern_matcher does not work well in this case?",
        "createdAt" : "2021-01-25T21:48:54Z",
        "updatedAt" : "2021-02-11T19:48:12Z",
        "lastEditedBy" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa4e5ca6ca53bd8d209e7fddf7a5b54a20a69d06",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +130,134 @@}\n\nbool IsSliceInputFusion(const HloInstruction& unnested_hlo) {\n  if (!unnested_hlo.IsInputFusion()) {\n    return false;"
  },
  {
    "id" : "b511647a-0926-4fee-8957-64c58dd32bc6",
    "prId" : 46614,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/46614#pullrequestreview-588149358",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "84f28149-2fa3-43f6-ad34-0e6606201da3",
        "parentId" : null,
        "authorId" : "f5c553cb-d123-4eb4-9f6d-9a715871f6eb",
        "body" : "Move this if to before the sort?",
        "createdAt" : "2021-01-27T22:18:49Z",
        "updatedAt" : "2021-02-11T19:48:12Z",
        "lastEditedBy" : "f5c553cb-d123-4eb4-9f6d-9a715871f6eb",
        "tags" : [
        ]
      },
      {
        "id" : "1b8cc7b3-2cd4-436a-8e37-3e3780bee15c",
        "parentId" : "84f28149-2fa3-43f6-ad34-0e6606201da3",
        "authorId" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "body" : "Done.",
        "createdAt" : "2021-02-10T23:30:26Z",
        "updatedAt" : "2021-02-11T19:48:12Z",
        "lastEditedBy" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa4e5ca6ca53bd8d209e7fddf7a5b54a20a69d06",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +172,176 @@  }\n  // Verify that each operand to the concat is reversed by a slice.\n  if (users.size() != concat.operand_count() ||\n      concat.operand_count() != concat.unique_operands().size()) {\n    return absl::optional<ConcatUsageInfo>();"
  }
]