[
  {
    "id" : "03b19a00-539d-4981-9b91-d2292c5738a8",
    "prId" : 29205,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/29205#pullrequestreview-244378834",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "79da5738-a350-45eb-b2ca-0146fbd8739a",
        "parentId" : null,
        "authorId" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "body" : "Would you please modify this existing comment:\r\n// (1) candidate has the same opcode as the operation_on_slices.\r\nTo something like this?\r\n// (1) candidate has the same opcode and result element type as operation_on_slices. The check for same result element type is necessary because kConvert can produce different result element types for the same input element type.",
        "createdAt" : "2019-05-31T15:39:58Z",
        "updatedAt" : "2019-06-01T01:27:25Z",
        "lastEditedBy" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "tags" : [
        ]
      }
    ],
    "commit" : "8894b9253f91da37819907750b9b656ea689f6e1",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +86,90 @@  }\n\n  if (candidate->opcode() != operation_on_slices->opcode() ||\n      operation_on_slices->shape().element_type() !=\n          candidate->shape().element_type()) {"
  },
  {
    "id" : "599cbaa7-dab6-487c-aa61-e3db1da5307a",
    "prId" : 27271,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/27271#pullrequestreview-231410225",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a3db6a28-7234-4370-b322-c63a39cd9c75",
        "parentId" : null,
        "authorId" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "body" : "I don't think the call to absl::make_optional is needed.",
        "createdAt" : "2019-04-26T21:51:18Z",
        "updatedAt" : "2019-04-29T15:53:56Z",
        "lastEditedBy" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "tags" : [
        ]
      },
      {
        "id" : "5452f0af-4e6f-4553-9e33-642d9730debd",
        "parentId" : "a3db6a28-7234-4370-b322-c63a39cd9c75",
        "authorId" : "d51fcd43-72df-4db9-8517-1b03c5685ceb",
        "body" : "my bazel is 0.22.0, if the make_optional is removed, it will cause below error.\r\n\r\nerror: no match for ternary 'operator?:' (operand types are 'bool', 'std::vector<xla::HloInstruction*>', and 'absl::internal::identity_t<absl::nullopt_t> {aka const absl::nullopt_t}')\r\n       (peer_operations) : absl::nullopt;",
        "createdAt" : "2019-04-27T05:48:00Z",
        "updatedAt" : "2019-04-29T15:53:56Z",
        "lastEditedBy" : "d51fcd43-72df-4db9-8517-1b03c5685ceb",
        "tags" : [
        ]
      }
    ],
    "commit" : "09c8ae4d56bdb5224c748911c1f807ae1cfa992e",
    "line" : 158,
    "diffHunk" : "@@ -1,1 +156,160 @@\n  return ShouldReplace(slice_sources, peer_operations) ?\n      absl::make_optional(peer_operations) : absl::nullopt;\n}\n"
  },
  {
    "id" : "64229cd5-7257-4125-b9d1-90ccbfcae248",
    "prId" : 27271,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/27271#pullrequestreview-231338691",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fac2e504-dadc-481a-a8fd-5cd987a0ec03",
        "parentId" : null,
        "authorId" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "body" : "The variable names here are very confusing to me.  Can we rename  new_user to operation_on_slice_source, and also change NewUser to operation_on_slice_source in the VLOG?\r\n",
        "createdAt" : "2019-04-26T22:14:11Z",
        "updatedAt" : "2019-04-29T15:53:56Z",
        "lastEditedBy" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "tags" : [
        ]
      }
    ],
    "commit" : "09c8ae4d56bdb5224c748911c1f807ae1cfa992e",
    "line" : 169,
    "diffHunk" : "@@ -1,1 +167,171 @@  const Shape shape = slice_sources[0]->shape();\n  PrimitiveType element_type = operation_on_slices[0]->shape().element_type();\n  Shape new_shape = ShapeUtil::ChangeElementType(shape, element_type);\n\n  HloComputation* computation = operation_on_slices[0]->parent();"
  },
  {
    "id" : "bb399034-f341-49e1-9158-f6b4077e4310",
    "prId" : 27271,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/27271#pullrequestreview-231749610",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c89402c5-2d4b-46dd-8f3a-ce358e521e7e",
        "parentId" : null,
        "authorId" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "body" : "s/Generates/Generate/",
        "createdAt" : "2019-04-29T05:17:33Z",
        "updatedAt" : "2019-04-29T15:53:56Z",
        "lastEditedBy" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "tags" : [
        ]
      },
      {
        "id" : "d6a08f92-6672-4920-814a-cd609fce80a6",
        "parentId" : "c89402c5-2d4b-46dd-8f3a-ce358e521e7e",
        "authorId" : "d51fcd43-72df-4db9-8517-1b03c5685ceb",
        "body" : "done",
        "createdAt" : "2019-04-29T15:38:45Z",
        "updatedAt" : "2019-04-29T15:53:56Z",
        "lastEditedBy" : "d51fcd43-72df-4db9-8517-1b03c5685ceb",
        "tags" : [
        ]
      }
    ],
    "commit" : "09c8ae4d56bdb5224c748911c1f807ae1cfa992e",
    "line" : 166,
    "diffHunk" : "@@ -1,1 +164,168 @@Status SinkSlices(const std::vector<HloInstruction*>& slice_sources,\n    const std::vector<HloInstruction*>& operation_on_slices) {\n  // Generates operation on slice source.\n  const Shape shape = slice_sources[0]->shape();\n  PrimitiveType element_type = operation_on_slices[0]->shape().element_type();"
  },
  {
    "id" : "1dfa076b-f66d-41bb-bc99-f6059982a67c",
    "prId" : 27271,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/27271#pullrequestreview-231559975",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ef09ccad-f980-4211-b6f7-ee2946c69ec2",
        "parentId" : null,
        "authorId" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "body" : "Change this comment to:\r\nIf we can find a group of elementwise operations on similar slices that\r\n meet condition 2~4, return such a group of operations including the current operation.",
        "createdAt" : "2019-04-29T05:30:00Z",
        "updatedAt" : "2019-04-29T15:53:56Z",
        "lastEditedBy" : "90c49754-7917-45e3-8dd2-8e09527f3d4c",
        "tags" : [
        ]
      },
      {
        "id" : "92f3bdf1-6ec1-47e3-bd01-cb9dfb9dbbf9",
        "parentId" : "ef09ccad-f980-4211-b6f7-ee2946c69ec2",
        "authorId" : "d51fcd43-72df-4db9-8517-1b03c5685ceb",
        "body" : "It is the same as before",
        "createdAt" : "2019-04-29T08:28:30Z",
        "updatedAt" : "2019-04-29T15:53:56Z",
        "lastEditedBy" : "d51fcd43-72df-4db9-8517-1b03c5685ceb",
        "tags" : [
        ]
      }
    ],
    "commit" : "09c8ae4d56bdb5224c748911c1f807ae1cfa992e",
    "line" : 255,
    "diffHunk" : "@@ -1,1 +253,257 @@        continue;\n      }\n      // If we can find a group of elementwise operations on similar slices that\n      // meet condition 2~4, return such a group of operations including the\n      // current operation."
  }
]