[
  {
    "id" : "b34a59d9-3f47-405d-8257-d34420af0f9c",
    "prId" : 37260,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/37260#pullrequestreview-369029114",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dc9e7769-caa5-43f2-ab43-c30ea7a1059d",
        "parentId" : null,
        "authorId" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "body" : "In general, do you think this is better tested on ptxas level or an LLVM level or both?",
        "createdAt" : "2020-03-04T17:13:23Z",
        "updatedAt" : "2020-03-30T21:10:31Z",
        "lastEditedBy" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "tags" : [
        ]
      },
      {
        "id" : "d9a7e999-22a6-4768-bed5-17e434e9edba",
        "parentId" : "dc9e7769-caa5-43f2-ab43-c30ea7a1059d",
        "authorId" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "body" : "If we test on the LLVM level, the test might also \"just work\" for AMD (though I understand that having this conversation is ironical)",
        "createdAt" : "2020-03-04T17:14:01Z",
        "updatedAt" : "2020-03-30T21:10:31Z",
        "lastEditedBy" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "tags" : [
        ]
      },
      {
        "id" : "75b3330e-ae1e-4b7f-a16f-6cb0caf5e076",
        "parentId" : "dc9e7769-caa5-43f2-ab43-c30ea7a1059d",
        "authorId" : "f5c553cb-d123-4eb4-9f6d-9a715871f6eb",
        "body" : "There is a conceptual problem here. Some of the vectorization are done in the NVPTX/AMD back-end, not inside LLVM optimization. This is related to the LLVM changes I did that was in the NVPTX back-end.\r\nSo I do not see how this can be tested at the LLVM IR level without a big overhaul of LLVM. ",
        "createdAt" : "2020-03-04T18:41:15Z",
        "updatedAt" : "2020-03-30T21:10:31Z",
        "lastEditedBy" : "f5c553cb-d123-4eb4-9f6d-9a715871f6eb",
        "tags" : [
        ]
      },
      {
        "id" : "3e3012f1-1478-4e50-9ce4-d21ad19eaf4c",
        "parentId" : "dc9e7769-caa5-43f2-ab43-c30ea7a1059d",
        "authorId" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "body" : "OK makes sense.",
        "createdAt" : "2020-03-04T18:44:59Z",
        "updatedAt" : "2020-03-30T21:10:31Z",
        "lastEditedBy" : "46fa9a61-9f6f-4ecb-a276-f19713d630df",
        "tags" : [
        ]
      }
    ],
    "commit" : "40759ec97aca9b1870c9827829c18e8121b554a1",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +60,64 @@  if (cc_major >= 6) {\n    expected_ptx = R\"(\nCHECK: ld.global.nc.v2.f32\nCHECK: ld.global.nc.v2.f32\nCHECK: ld.global.nc.v2.f32"
  }
]