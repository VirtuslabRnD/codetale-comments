[
  {
    "id" : "fad80fa7-2ea5-4ff0-812b-1411d2ce9c29",
    "prId" : 34882,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/34882#pullrequestreview-331636169",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "361083de-b88c-4c8c-aee1-ff164fbc495d",
        "parentId" : null,
        "authorId" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "body" : "All tests are RunAndCompare integration tests. Integration tests have their spot, but it's a good idea to have unit tests too. Please test the pass you are adding in isolation at the HLO level, i.e. pass in an HLO test fixture and verify the output is the HLO you expected. Please also test cases in which you choose not to fuse, e.g. to avoid cycles.",
        "createdAt" : "2019-12-11T14:47:24Z",
        "updatedAt" : "2020-01-31T23:59:02Z",
        "lastEditedBy" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "tags" : [
        ]
      },
      {
        "id" : "a776a757-b2bb-48a4-93f8-384670feb4ed",
        "parentId" : "361083de-b88c-4c8c-aee1-ff164fbc495d",
        "authorId" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "body" : "Agreed.",
        "createdAt" : "2019-12-12T00:18:19Z",
        "updatedAt" : "2020-01-31T23:59:02Z",
        "lastEditedBy" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "tags" : [
        ]
      },
      {
        "id" : "60c2340b-95f3-4c7c-93f2-1478692d2ec4",
        "parentId" : "361083de-b88c-4c8c-aee1-ff164fbc495d",
        "authorId" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "body" : "Added.",
        "createdAt" : "2019-12-13T02:24:07Z",
        "updatedAt" : "2020-01-31T23:59:02Z",
        "lastEditedBy" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "tags" : [
        ]
      }
    ],
    "commit" : "4fc98209952114b68b2eaacc542cff87f193aa8b",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +39,43 @@namespace op = xla::testing::opcode_matchers;\n\nclass HorizontalFusionTest : public HloTestBase {};\n\nTEST_F(HorizontalFusionTest, BasicTest) {"
  },
  {
    "id" : "95474da4-17bd-4e95-8f0d-c5aaf1416d2f",
    "prId" : 34882,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/34882#pullrequestreview-335034879",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff9dc314-5ab1-4e47-af23-1bc624ca6b02",
        "parentId" : null,
        "authorId" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "body" : "HLO text allows comments starting with //.\r\nPlease add a comment why horizontal fusion will not happen here.",
        "createdAt" : "2019-12-19T14:22:42Z",
        "updatedAt" : "2020-01-31T23:59:02Z",
        "lastEditedBy" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "tags" : [
        ]
      },
      {
        "id" : "de847880-e9c9-460e-a63f-fd38ebfe9646",
        "parentId" : "ff9dc314-5ab1-4e47-af23-1bc624ca6b02",
        "authorId" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "body" : "That is cool. In hlo text comments added.",
        "createdAt" : "2019-12-20T02:05:30Z",
        "updatedAt" : "2020-01-31T23:59:02Z",
        "lastEditedBy" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "tags" : [
        ]
      }
    ],
    "commit" : "4fc98209952114b68b2eaacc542cff87f193aa8b",
    "line" : 98,
    "diffHunk" : "@@ -1,1 +96,100 @@   arg.1 = f16[123]{0} parameter(0)\n   arg.2 = f16[123]{0} parameter(1)\n   ROOT mul.1 = f16[123]{0} multiply(arg.1, arg.2)\n }\n"
  },
  {
    "id" : "5449a76a-0349-493b-afcb-e04f7a485f10",
    "prId" : 34882,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/34882#pullrequestreview-335034879",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c1f25656-6aeb-4472-aa5c-c0704311d2ee",
        "parentId" : null,
        "authorId" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "body" : "HLO matchers provide a convenient way to capture test expectations at the HLO level. Please add such expectations to your tests. Whoever breaks one of your tests going forward will have an easier time figuring out what's wrong if test expectations are not only given RunFileCheck or RunAndCompare-style.\r\n\r\nFor example: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/compiler/xla/service/gpu/multi_output_fusion_test.cc#L73",
        "createdAt" : "2019-12-19T14:29:45Z",
        "updatedAt" : "2020-01-31T23:59:02Z",
        "lastEditedBy" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "tags" : [
        ]
      },
      {
        "id" : "f9e52a41-adb9-4fea-b7b7-116475df2e63",
        "parentId" : "c1f25656-6aeb-4472-aa5c-c0704311d2ee",
        "authorId" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "body" : "That is cool. Updated.",
        "createdAt" : "2019-12-20T02:05:08Z",
        "updatedAt" : "2020-01-31T23:59:02Z",
        "lastEditedBy" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "tags" : [
        ]
      }
    ],
    "commit" : "4fc98209952114b68b2eaacc542cff87f193aa8b",
    "line" : 75,
    "diffHunk" : "@@ -1,1 +73,77 @@  EXPECT_TRUE(GpuHorizontalFusion().Run(module.get()).ValueOrDie());\n  EXPECT_TRUE(HloDCE().Run(module.get()).ValueOrDie());\n\n  const HloInstruction* entry_root =\n      module->entry_computation()->root_instruction();"
  },
  {
    "id" : "3c50f4f2-27a0-4ad3-a41c-eaec2085a632",
    "prId" : 34882,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/34882#pullrequestreview-349107656",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fb91918c-3b4e-4ce4-8927-91f9bf462a7f",
        "parentId" : null,
        "authorId" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "body" : "`grad_ms_eps_rsq` is unused. Can the line be removed or just the local variable?",
        "createdAt" : "2020-01-17T13:38:37Z",
        "updatedAt" : "2020-01-31T23:59:02Z",
        "lastEditedBy" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "tags" : [
        ]
      },
      {
        "id" : "563bae60-23ee-49d4-ab8f-12d1d2928b39",
        "parentId" : "fb91918c-3b4e-4ce4-8927-91f9bf462a7f",
        "authorId" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "body" : "Fixed. The wiring was not as intended. My oversight.",
        "createdAt" : "2020-01-28T03:04:33Z",
        "updatedAt" : "2020-01-31T23:59:02Z",
        "lastEditedBy" : "04e5d7bd-a136-4f0a-9cb0-0e56fd16cec3",
        "tags" : [
        ]
      }
    ],
    "commit" : "4fc98209952114b68b2eaacc542cff87f193aa8b",
    "line" : 338,
    "diffHunk" : "@@ -1,1 +336,340 @@    auto ms_eps_rsq = builder.AddInstruction(\n        HloInstruction::CreateUnary(shape, HloOpcode::kRsqrt, ms_eps));\n    auto grad_ms_eps_rsq = builder.AddInstruction(HloInstruction::CreateBinary(\n        shape, HloOpcode::kMultiply, grad, ms_eps_rsq));\n    auto mom_2nd_term = builder.AddInstruction(HloInstruction::CreateBinary("
  }
]