[
  {
    "id" : "b6097114-95c1-4ede-bcf2-20cb9ad09dd6",
    "prId" : 50153,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/50153#pullrequestreview-695789223",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c33dcb71-7513-4e5b-9cdb-5c3ec269d78c",
        "parentId" : null,
        "authorId" : "68fac570-a499-4a66-bf20-f8f2cbebf597",
        "body" : "Please add \"//tensorflow/compiler/xla/service:hlo_casting_utils\",",
        "createdAt" : "2021-06-30T07:34:51Z",
        "updatedAt" : "2021-06-30T08:06:16Z",
        "lastEditedBy" : "68fac570-a499-4a66-bf20-f8f2cbebf597",
        "tags" : [
        ]
      }
    ],
    "commit" : "250bced1fae220caa31efc9e64537aeed042bbf2",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +1121,1125 @@    deps = [\n        \"//tensorflow/compiler/xla:shape_util\",\n        \"//tensorflow/compiler/xla/service:hlo\",\n        \"//tensorflow/compiler/xla/service:hlo_casting_utils\",\n        \"//tensorflow/compiler/xla/service:hlo_dce\","
  },
  {
    "id" : "c182a572-2cdc-4a51-ba15-311e6f191515",
    "prId" : 50153,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/50153#pullrequestreview-695789223",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e23314e3-6288-4f41-96eb-1c76e2496fc6",
        "parentId" : null,
        "authorId" : "68fac570-a499-4a66-bf20-f8f2cbebf597",
        "body" : "Please add \"@com_google_absl//absl/types:span\", and \"//tensorflow/compiler/xla/service:hlo_dce\",",
        "createdAt" : "2021-06-30T07:37:11Z",
        "updatedAt" : "2021-06-30T08:06:16Z",
        "lastEditedBy" : "68fac570-a499-4a66-bf20-f8f2cbebf597",
        "tags" : [
        ]
      }
    ],
    "commit" : "250bced1fae220caa31efc9e64537aeed042bbf2",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +1137,1141 @@    deps = [\n        \":fusion_bitcast_lift\",\n        \"//tensorflow/compiler/xla/service:hlo_parser\",\n        \"//tensorflow/compiler/xla/tests:filecheck\",\n        \"//tensorflow/compiler/xla/tests:hlo_test_base\","
  },
  {
    "id" : "53f6b1e2-cbbe-407f-ab9a-fd86bccb53f1",
    "prId" : 30660,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/30660#pullrequestreview-270818223",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6e99ecdb-5f1f-4db5-ad03-aaa1f4283b11",
        "parentId" : null,
        "authorId" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "body" : "Please pull in gpu_compiler.h and gpu_compiler.cc as hdrs and srcs here, respectively, plus the required deps. This way you only need to add what nvptx_compiler and amdgpu_compiler need in addition to the common things.",
        "createdAt" : "2019-07-31T10:04:37Z",
        "updatedAt" : "2019-08-05T16:45:03Z",
        "lastEditedBy" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "tags" : [
        ]
      },
      {
        "id" : "1cfbd68d-df9d-446d-8c94-548fd8aba42f",
        "parentId" : "6e99ecdb-5f1f-4db5-ad03-aaa1f4283b11",
        "authorId" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "body" : "@thomasjoerg `nvptx_compiler` and `amdgpu_compiler` are subclasses of `gpu_compiler`. doing so would cause trigger cyclical dependency and fails bazel.",
        "createdAt" : "2019-07-31T15:12:20Z",
        "updatedAt" : "2019-08-05T16:45:03Z",
        "lastEditedBy" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "tags" : [
        ]
      },
      {
        "id" : "3a196fe9-7492-4c82-aba8-fa6eac1dfecb",
        "parentId" : "6e99ecdb-5f1f-4db5-ad03-aaa1f4283b11",
        "authorId" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "body" : "@thomasjoerg I've addressed your other feedback and submitted a new version. For this particular request (keep `gpu_compiler.*` in `gpu_compiler` target), actually it was my original intention but then I ran into bazel detecting cyclical dependency and failed. I'll give it another try but could you give additional hints on this?",
        "createdAt" : "2019-07-31T15:26:31Z",
        "updatedAt" : "2019-08-05T16:45:03Z",
        "lastEditedBy" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "tags" : [
        ]
      },
      {
        "id" : "1243ddfb-45ea-472a-811a-3155caa11d97",
        "parentId" : "6e99ecdb-5f1f-4db5-ad03-aaa1f4283b11",
        "authorId" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "body" : "@thomasjoerg I'm not quite sure how to fix bazel dependency here, and have reverted my changes so `gpu_compiler.cc` and `gpu_compiler.h` are in `nvptx_compiler_impl` and `amdgpu_compiler_impl`.\r\n",
        "createdAt" : "2019-07-31T16:33:36Z",
        "updatedAt" : "2019-08-05T16:45:03Z",
        "lastEditedBy" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "tags" : [
        ]
      },
      {
        "id" : "bc441899-22d6-48a5-b6e8-1e84abe1c507",
        "parentId" : "6e99ecdb-5f1f-4db5-ad03-aaa1f4283b11",
        "authorId" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "body" : "Where does the cyclic dependency get introduced? Both, nvptx_compiler and amdgpu_compiler would depend on gpu_compiler, but the opposite should not be true, is it? Maybe I'm missing something. Do you still have the Bazel error output around?",
        "createdAt" : "2019-08-02T09:58:59Z",
        "updatedAt" : "2019-08-05T16:45:03Z",
        "lastEditedBy" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "tags" : [
        ]
      },
      {
        "id" : "7928e43f-f737-42c3-94bf-c20381b44f49",
        "parentId" : "6e99ecdb-5f1f-4db5-ad03-aaa1f4283b11",
        "authorId" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "body" : "let me try reconstruct them. i forfeited several difference approaches. ",
        "createdAt" : "2019-08-02T14:42:17Z",
        "updatedAt" : "2019-08-05T16:45:03Z",
        "lastEditedBy" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "tags" : [
        ]
      },
      {
        "id" : "3503be1e-6f5b-4fc5-8e5c-ee5ef96cc5a5",
        "parentId" : "6e99ecdb-5f1f-4db5-ad03-aaa1f4283b11",
        "authorId" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "body" : "@thomasjoerg I have to admit I'm not well versed in bazel. I finally came up with a version which builds.",
        "createdAt" : "2019-08-02T19:22:16Z",
        "updatedAt" : "2019-08-05T16:45:03Z",
        "lastEditedBy" : "0d1f2cd3-123c-44ec-b1f1-cbab0f4281ac",
        "tags" : [
        ]
      },
      {
        "id" : "02b71fdc-789f-4710-b84e-0604417ea62b",
        "parentId" : "6e99ecdb-5f1f-4db5-ad03-aaa1f4283b11",
        "authorId" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "body" : "Thanks for giving it another try. I wonder whether we can further reduce usage of `if_xxxx_is_configured` in the BUILD file. I'll import this PR, take a look, and report back.",
        "createdAt" : "2019-08-05T14:50:39Z",
        "updatedAt" : "2019-08-05T16:45:03Z",
        "lastEditedBy" : "3c76b64e-5fbc-43db-843d-8c0f62dadcab",
        "tags" : [
        ]
      }
    ],
    "commit" : "b6c226447895cf22905c08d6d7a7ef0ac022e0c5",
    "line" : 93,
    "diffHunk" : "@@ -1,1 +983,987 @@cc_library(\n    name = \"gpu_compiler\",\n    deps = if_cuda_is_configured([\n        \":nvptx_compiler\",\n    ]) + if_rocm_is_configured(["
  }
]