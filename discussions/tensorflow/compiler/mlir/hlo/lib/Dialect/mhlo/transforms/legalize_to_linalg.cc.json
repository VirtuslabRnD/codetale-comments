[
  {
    "id" : "19510781-5046-4f85-bdcb-95b8d7d6336c",
    "prId" : 50489,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/50489#pullrequestreview-701554546",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d2133fdc-dae1-4ff9-9c57-ee27b6cbbf6d",
        "parentId" : null,
        "authorId" : "966201e9-acff-4a6c-a46b-141fd80665af",
        "body" : "nit: We don't need the namespace",
        "createdAt" : "2021-07-01T21:03:08Z",
        "updatedAt" : "2021-07-01T21:32:09Z",
        "lastEditedBy" : "966201e9-acff-4a6c-a46b-141fd80665af",
        "tags" : [
        ]
      },
      {
        "id" : "a41e946f-83b5-41ef-8526-36ed6f9c10be",
        "parentId" : "d2133fdc-dae1-4ff9-9c57-ee27b6cbbf6d",
        "authorId" : "8614115a-8a3d-42f7-9f42-9c167a3aef52",
        "body" : "Since smallsetvector is not part of \"mlir/Support/LLVM.h\", we still need to use the llvm:: namespace. \r\nI can also add \"using llvm:: SmallSetVector\", on top of the file to remove the namespace. Any thoughts? :) ",
        "createdAt" : "2021-07-07T01:58:25Z",
        "updatedAt" : "2021-07-07T01:58:25Z",
        "lastEditedBy" : "8614115a-8a3d-42f7-9f42-9c167a3aef52",
        "tags" : [
        ]
      },
      {
        "id" : "cb25cd4d-f754-47be-a0d8-c24019fb95d2",
        "parentId" : "d2133fdc-dae1-4ff9-9c57-ee27b6cbbf6d",
        "authorId" : "966201e9-acff-4a6c-a46b-141fd80665af",
        "body" : "Ah, I did not know that. Let's keep it this way, sorry for the bad suggestion",
        "createdAt" : "2021-07-08T00:54:52Z",
        "updatedAt" : "2021-07-08T01:49:11Z",
        "lastEditedBy" : "966201e9-acff-4a6c-a46b-141fd80665af",
        "tags" : [
        ]
      }
    ],
    "commit" : "1e1070c2bb99f41cc3ed8bea28dfdc20634d94be",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +236,240 @@SmallVector<StringRef, 3> GetEinsumLoopsAttrs(\n    const llvm::SmallSetVector<StringRef, 4>& input_ind,\n    const llvm::SmallSetVector<StringRef, 4>& reduction_dims) {\n  SmallVector<StringRef, 3> res;\n  for (StringRef dim : input_ind) {"
  },
  {
    "id" : "a05afacc-e1de-4088-b655-03f233862c16",
    "prId" : 50489,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/50489#pullrequestreview-708815700",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7e85897f-a761-4755-b10c-8008b7b23053",
        "parentId" : null,
        "authorId" : "79b78984-b8e9-4fc7-aa98-92198b35ecca",
        "body" : "The PR is getting reverted because of a MSAN failure here. It may be that batch_rank_vec is empty so providing `batch_rank_vec.begin()+1` is UB.",
        "createdAt" : "2021-07-17T00:39:41Z",
        "updatedAt" : "2021-07-17T00:39:47Z",
        "lastEditedBy" : "79b78984-b8e9-4fc7-aa98-92198b35ecca",
        "tags" : [
        ]
      },
      {
        "id" : "744bea37-c044-4884-a1e9-5941000c9052",
        "parentId" : "7e85897f-a761-4755-b10c-8008b7b23053",
        "authorId" : "8614115a-8a3d-42f7-9f42-9c167a3aef52",
        "body" : "@joker-eph Is there a way I can recreate the MSAN test? ",
        "createdAt" : "2021-07-17T01:18:20Z",
        "updatedAt" : "2021-07-17T01:18:20Z",
        "lastEditedBy" : "8614115a-8a3d-42f7-9f42-9c167a3aef52",
        "tags" : [
        ]
      },
      {
        "id" : "f5cf441a-baf4-4689-a1ed-129bfd6eaa8c",
        "parentId" : "7e85897f-a761-4755-b10c-8008b7b23053",
        "authorId" : "8614115a-8a3d-42f7-9f42-9c167a3aef52",
        "body" : "@joker-eph I added a check in my fork [here](https://github.com/raikonenfnu/tensorflow/commit/4545360ef435b14bd2d487971d67b21b8ebc9635#diff-5f608b167d4dc35b869c40a5dafb3457312227aa75a1b1525fd9831ab831d58aR506). Should I open a new PR then?\r\n",
        "createdAt" : "2021-07-17T01:20:53Z",
        "updatedAt" : "2021-07-17T01:20:53Z",
        "lastEditedBy" : "8614115a-8a3d-42f7-9f42-9c167a3aef52",
        "tags" : [
        ]
      },
      {
        "id" : "3a2fdb9a-2cf6-4c1b-a835-468ecd677e52",
        "parentId" : "7e85897f-a761-4755-b10c-8008b7b23053",
        "authorId" : "79b78984-b8e9-4fc7-aa98-92198b35ecca",
        "body" : "Yes you need a new pull-request",
        "createdAt" : "2021-07-17T01:22:56Z",
        "updatedAt" : "2021-07-17T01:22:56Z",
        "lastEditedBy" : "79b78984-b8e9-4fc7-aa98-92198b35ecca",
        "tags" : [
        ]
      },
      {
        "id" : "a456560e-e76e-4e4d-bbf5-3528c1c709d5",
        "parentId" : "7e85897f-a761-4755-b10c-8008b7b23053",
        "authorId" : "8614115a-8a3d-42f7-9f42-9c167a3aef52",
        "body" : "@joker-eph sounds good! I made a new PR [here](https://github.com/tensorflow/tensorflow/pull/50811). Should I also change the name of the PR?",
        "createdAt" : "2021-07-17T01:27:09Z",
        "updatedAt" : "2021-07-17T01:27:10Z",
        "lastEditedBy" : "8614115a-8a3d-42f7-9f42-9c167a3aef52",
        "tags" : [
        ]
      }
    ],
    "commit" : "1e1070c2bb99f41cc3ed8bea28dfdc20634d94be",
    "line" : 280,
    "diffHunk" : "@@ -1,1 +503,507 @@  bool batch_has_equal_rank = true;\n  if (!std::equal(batch_rank_vec.begin() + 1, batch_rank_vec.end(),\n                  batch_rank_vec.begin()) &&\n      batch_rank_vec.size() > 1)\n    batch_has_equal_rank = false;"
  }
]