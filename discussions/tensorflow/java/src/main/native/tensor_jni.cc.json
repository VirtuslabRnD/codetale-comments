[
  {
    "id" : "5d57318e-d32a-4623-b2a4-7e50ce4a909b",
    "prId" : 6577,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/6577#pullrequestreview-15597658",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "157abe51-a157-4bfb-94a9-6e8e39d14a58",
        "parentId" : null,
        "authorId" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "body" : "Most of this is duplicated in `allocateNDArray`, perhaps structure this so that the code isn't duplicated (`allocateNDArray` can call `allocate` after determining the byte size). Though, see comment above about `allocate` and `allocateForStrings`.",
        "createdAt" : "2017-01-08T04:20:41Z",
        "updatedAt" : "2017-01-29T23:34:08Z",
        "lastEditedBy" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "tags" : [
        ]
      }
    ],
    "commit" : "5efc0f25336d5f3b5b5c82ab8d13e5929c3ba894",
    "line" : null,
    "diffHunk" : "@@ -1,1 +221,225 @@                                                            jlongArray shape,\n                                                            jlong sizeInBytes) {\n  int num_dims = static_cast<int>(env->GetArrayLength(shape));\n  jlong* dims = nullptr;\n  if (num_dims > 0) {"
  }
]