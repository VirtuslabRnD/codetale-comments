[
  {
    "id" : "3115ada0-6728-445b-8d63-58dd341932c8",
    "prId" : 11251,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/11251#pullrequestreview-49392405",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8f0d88ae-4184-4ec8-b9a5-dc0f461d0ff1",
        "parentId" : null,
        "authorId" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "body" : "My recommendation would be to do away with this script and instead have `tftypes.pl` just generate all the files, always. No flags, no options - it generates all files in place. Thoughts?",
        "createdAt" : "2017-07-12T01:57:55Z",
        "updatedAt" : "2017-07-12T23:42:42Z",
        "lastEditedBy" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "tags" : [
        ]
      },
      {
        "id" : "12ee1540-55b6-47a7-93ad-38fbf09086a9",
        "parentId" : "8f0d88ae-4184-4ec8-b9a5-dc0f461d0ff1",
        "authorId" : "8bbe6504-29e1-4018-993f-7ca0e4ee5955",
        "body" : "I think if you're actually changing the types, it's very handy to be able to generate one file at a time as you debug it. That functionality could be supported but at the cost of making the script more complex; I think it's useful to keep tftypes.pl as simple as possible.",
        "createdAt" : "2017-07-12T05:02:42Z",
        "updatedAt" : "2017-07-12T23:42:42Z",
        "lastEditedBy" : "8bbe6504-29e1-4018-993f-7ca0e4ee5955",
        "tags" : [
        ]
      },
      {
        "id" : "78b8d641-ebdf-4ffa-8430-21c93c15a73c",
        "parentId" : "8f0d88ae-4184-4ec8-b9a5-dc0f461d0ff1",
        "authorId" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "body" : "My concern is that the code generation process is more layers for someone who needs to make a change to sift through. Removing option handling form `tftypes.pl` would make it simpler for both a reader and an editor IMHO. One could always use source control to restore unexpected changes to generated files. \r\n\r\nSo I believe we agree in keeping `tftypes.pl` as simple as possible, we just have a slight disagreement on what makes it so :). That said, happy to defer to you for now (and will possibly revisit when redoing this in Python)",
        "createdAt" : "2017-07-12T05:46:32Z",
        "updatedAt" : "2017-07-12T23:42:42Z",
        "lastEditedBy" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "tags" : [
        ]
      },
      {
        "id" : "b795405f-fd5f-48cb-a637-21432ffcdb42",
        "parentId" : "8f0d88ae-4184-4ec8-b9a5-dc0f461d0ff1",
        "authorId" : "8bbe6504-29e1-4018-993f-7ca0e4ee5955",
        "body" : "I like this idea of rolling this together when it's moved to Python (or Java).",
        "createdAt" : "2017-07-12T06:01:53Z",
        "updatedAt" : "2017-07-15T01:37:14Z",
        "lastEditedBy" : "8bbe6504-29e1-4018-993f-7ca0e4ee5955",
        "tags" : [
        ]
      }
    ],
    "commit" : "1020ee116d2bf99bc90e95730a8431fb001fbb40",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@#!/usr/bin/perl\n#\n# Copyright 2017 The TensorFlow Authors. All Rights Reserved."
  },
  {
    "id" : "b5f1e6f7-8b67-40b4-8bfc-08422c79f964",
    "prId" : 11251,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/11251#pullrequestreview-49577447",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cc9046be-a5fe-4159-8430-bb2d1215ce5f",
        "parentId" : null,
        "authorId" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "body" : "I'm not going to try and convince you that it's okay to not generate `Tensors.java` :). IIUC, these will be simple one-line wrappers and the generation provides little value (other than automating the rank of the array).\r\n\r\nBut anyway, we can talk about that later :)",
        "createdAt" : "2017-07-12T16:54:29Z",
        "updatedAt" : "2017-07-12T23:42:42Z",
        "lastEditedBy" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "tags" : [
        ]
      },
      {
        "id" : "a55fbe4f-30c0-4e0e-8a31-ec33214ea162",
        "parentId" : "cc9046be-a5fe-4159-8430-bb2d1215ce5f",
        "authorId" : "8bbe6504-29e1-4018-993f-7ca0e4ee5955",
        "body" : "I have checked in TFType.java.",
        "createdAt" : "2017-07-12T17:01:41Z",
        "updatedAt" : "2017-07-12T23:42:42Z",
        "lastEditedBy" : "8bbe6504-29e1-4018-993f-7ca0e4ee5955",
        "tags" : [
        ]
      },
      {
        "id" : "edc9417d-68d3-46bd-be0a-f0bc76fe82eb",
        "parentId" : "cc9046be-a5fe-4159-8430-bb2d1215ce5f",
        "authorId" : "8bbe6504-29e1-4018-993f-7ca0e4ee5955",
        "body" : "The value of Tensors (which doesn't really exist in this PR) is that it provides real static checking that Tensor does not. Tensor.create leads to run-time checking. Unfortunately statically checking this requires duplicating all creators for all ranks we want to support, because Java does not support rank polymorphism. Note that Constant and Variable ops will want to work similarly.",
        "createdAt" : "2017-07-12T17:09:44Z",
        "updatedAt" : "2017-07-12T23:42:42Z",
        "lastEditedBy" : "8bbe6504-29e1-4018-993f-7ca0e4ee5955",
        "tags" : [
        ]
      },
      {
        "id" : "dd9e5a5d-140b-4a40-83d5-e2d0ced007dc",
        "parentId" : "cc9046be-a5fe-4159-8430-bb2d1215ce5f",
        "authorId" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "body" : "I meant it will be okay to not _generate_ `Tensors.java`, but instead have it written by hand. We'll talk :).",
        "createdAt" : "2017-07-12T18:23:59Z",
        "updatedAt" : "2017-07-12T23:42:42Z",
        "lastEditedBy" : "ff531721-78ce-45aa-b6a0-b9f2e664f0c2",
        "tags" : [
        ]
      }
    ],
    "commit" : "1020ee116d2bf99bc90e95730a8431fb001fbb40",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +38,42 @@\nsystem(\"perl $dir/tftypes.pl -t $rsrc/tftypes.csv $pkg/types\");\n# system(\"perl $dir/tftypes.pl -c $rsrc/tftypes.csv $rsrc/Tensors.java.tmpl > $pkg/op/Tensors.java\");"
  }
]