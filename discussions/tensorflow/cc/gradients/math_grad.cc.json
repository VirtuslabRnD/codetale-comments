[
  {
    "id" : "c097b0d1-76cb-4862-80ea-c1761fb573c7",
    "prId" : 12872,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/12872#pullrequestreview-62270235",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5152a7dc-cb7e-447d-84b7-a432517318d3",
        "parentId" : null,
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "It seems that some platforms don't have M_PI,  I found `pi` is wrote as below in some files of tensorflow:\r\n\r\n```c++\r\n  const double pi = std::atan(1) * 4;\r\n```",
        "createdAt" : "2017-09-11T10:32:43Z",
        "updatedAt" : "2017-10-05T02:07:18Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      },
      {
        "id" : "3abd88e9-97ba-4a80-bb5f-162bba58ae4c",
        "parentId" : "5152a7dc-cb7e-447d-84b7-a432517318d3",
        "authorId" : "c8f2b008-60f4-4709-b654-47bc9a7795a2",
        "body" : "If you can use constexpr that's better.",
        "createdAt" : "2017-09-11T17:57:47Z",
        "updatedAt" : "2017-10-05T02:07:18Z",
        "lastEditedBy" : "c8f2b008-60f4-4709-b654-47bc9a7795a2",
        "tags" : [
        ]
      },
      {
        "id" : "067b261c-6335-4e0f-8d9c-2feba5eb8816",
        "parentId" : "5152a7dc-cb7e-447d-84b7-a432517318d3",
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "I just wonder whether an unified solution exists for `pi`.",
        "createdAt" : "2017-09-12T09:44:48Z",
        "updatedAt" : "2017-10-05T02:07:18Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      },
      {
        "id" : "17df022e-16c4-484c-85ee-cbb0a6f955d6",
        "parentId" : "5152a7dc-cb7e-447d-84b7-a432517318d3",
        "authorId" : "14aeda60-1d22-483b-b189-c9d735472826",
        "body" : "Looks like quite a lot of code uses M_PI. I would just use that for now; if we run into the issue that M_PI is missing in the future we can come up with a more permanent solution. Thanks.",
        "createdAt" : "2017-09-12T21:22:02Z",
        "updatedAt" : "2017-10-05T02:07:18Z",
        "lastEditedBy" : "14aeda60-1d22-483b-b189-c9d735472826",
        "tags" : [
        ]
      }
    ],
    "commit" : "dbceda103f61ca2c1431483d8f5c664c3af1da7b",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +704,708 @@               std::vector<Output>* grad_outputs) {\n  auto grad = grad_inputs[0];\n  auto two_over_root_pi = Cast(scope, Const(scope, 2 / std::sqrt(M_PI)),\n                               grad.type());\n  Scope grad_scope = scope.WithControlDependencies(grad);"
  },
  {
    "id" : "498c34a8-92d6-45a3-a0e6-68c964c73c4c",
    "prId" : 12872,
    "prUrl" : "https://github.com/tensorflow/tensorflow/pull/12872#pullrequestreview-64494033",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2c354f49-3c1a-4e41-a756-c63a04f7dbce",
        "parentId" : null,
        "authorId" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "body" : "Hi, @suharshs , `WithControlDependencies` is added as suggested. Could you take a check? By the way, I correct the same mistake (we should use `grad_scope` below) of `TanhGrad` and `SigmoidGrad`.",
        "createdAt" : "2017-09-22T06:46:29Z",
        "updatedAt" : "2017-10-05T02:07:18Z",
        "lastEditedBy" : "576d94d0-8049-4273-a3d0-f373713532c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "dbceda103f61ca2c1431483d8f5c664c3af1da7b",
    "line" : 49,
    "diffHunk" : "@@ -1,1 +713,717 @@                Exp(grad_scope, Neg(grad_scope, Square(grad_scope, x))));\n  grad_outputs->push_back(dx);\n  return grad_scope.status();\n}\nREGISTER_GRADIENT_OP(\"Erf\", ErfGrad);"
  }
]