[
  {
    "id" : "1d87cb66-4979-4cb9-93a3-e4cff66cc8d8",
    "prId" : 1667,
    "prUrl" : "https://github.com/akka/alpakka/pull/1667#pullrequestreview-345158666",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e676014a-a65d-46dc-8c63-7741dd6cc39a",
        "parentId" : null,
        "authorId" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "body" : "Is there any risk the `checkpointer` could be `null` here?",
        "createdAt" : "2020-01-13T10:19:43Z",
        "updatedAt" : "2020-01-20T12:17:58Z",
        "lastEditedBy" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "tags" : [
        ]
      },
      {
        "id" : "074125d6-6dd8-49e3-873d-aa1f785d907c",
        "parentId" : "e676014a-a65d-46dc-8c63-7741dd6cc39a",
        "authorId" : "8e64a77f-00da-49a9-b7e1-56433ff651fd",
        "body" : "No, the `checkpointer` is gonna be referenced as soon as the `ShardProcessor` starts processing records (`processRecords` method is invoked). `checkpointer` reference can change but the variable is never de-referenced.",
        "createdAt" : "2020-01-20T09:04:06Z",
        "updatedAt" : "2020-01-20T12:17:58Z",
        "lastEditedBy" : "8e64a77f-00da-49a9-b7e1-56433ff651fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "149ca8800e0398e43b16ad447b161be2452ca40d",
    "line" : 79,
    "diffHunk" : "@@ -1,1 +77,81 @@      extends CommittableRecord(record, batchData, shardData) {\n    private def checkpoint(): Unit = {\n      checkpointer.checkpoint(record.sequenceNumber(), record.subSequenceNumber())\n      if (lastRecord) lastRecordSemaphore.release()\n    }"
  }
]