[
  {
    "id" : "75a9ba7f-3504-4baa-9c50-959ca0eed1db",
    "prId" : 8301,
    "prUrl" : "https://github.com/redis/redis/pull/8301#pullrequestreview-564585009",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d365c02c-5a44-4cbc-88a8-ed0b1cda3d29",
        "parentId" : null,
        "authorId" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "body" : "Would be nice to refactor these two functions so the intent is clearer (since they're almost the same). It's probably worth merging this fix in though.",
        "createdAt" : "2021-01-08T21:06:59Z",
        "updatedAt" : "2021-01-08T21:20:10Z",
        "lastEditedBy" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "tags" : [
        ]
      },
      {
        "id" : "f36127f3-a7a2-408e-a745-10e25584f08d",
        "parentId" : "d365c02c-5a44-4cbc-88a8-ed0b1cda3d29",
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "i actually see no reason why we can't always use the one with the `while`",
        "createdAt" : "2021-01-08T21:12:20Z",
        "updatedAt" : "2021-01-08T21:20:10Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      }
    ],
    "commit" : "156c4960e12f8e1b1bdea9e0ece56c11bf6df7e2",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +129,133 @@    size_t cow_size;\n\n    /* Drain the pipe and update child info so that we get the final message. */\n    while (readChildInfo(&process_type, &on_exit, &cow_size)) {\n        updateChildInfo(process_type, on_exit, cow_size);"
  },
  {
    "id" : "b9dd55f4-8941-4704-aaae-288897ed2835",
    "prId" : 8974,
    "prUrl" : "https://github.com/redis/redis/pull/8974#pullrequestreview-714291508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d53ee3f4-339d-4fd8-8a35-90efda0e9627",
        "parentId" : null,
        "authorId" : "98e31153-705f-4299-a152-78c428055d23",
        "body" : "Hi @oranagra For the log, i think maybe users collect CoW info by this log, I break old format, WDYT? And currently I am not satisfied with current description, do you have advise?",
        "createdAt" : "2021-07-23T12:10:08Z",
        "updatedAt" : "2021-07-23T12:10:08Z",
        "lastEditedBy" : "98e31153-705f-4299-a152-78c428055d23",
        "tags" : [
        ]
      },
      {
        "id" : "ed3ddd1e-b941-41e7-844f-0f410e704a9b",
        "parentId" : "d53ee3f4-339d-4fd8-8a35-90efda0e9627",
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "i don't think we need to retain backward compatibility with log messages.\r\nmaybe ins some special cases like redis fails to start up due to bind address being used and such, in case someone (like our tests) attempts to resolve that and retry.\r\n\r\nBut breaking this log message won't result in any actual problem, just missing metrics, and the right way to extract these metrics is from INFO (always has been)",
        "createdAt" : "2021-07-25T08:32:54Z",
        "updatedAt" : "2021-07-25T08:38:04Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      }
    ],
    "commit" : "9960985886855c05e027ab9ebf3cb312bf739b18",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +99,103 @@        int cow_info = (info_type != CHILD_INFO_TYPE_CURRENT_INFO);\n        if (cow || cow_info) {\n            serverLog(cow_info ? LL_NOTICE : LL_VERBOSE,\n                      \"Fork CoW for %s: current %zu MB, peak %zu MB, average %llu MB\",\n                      pname, cow>>20, peak_cow>>20, (sum_cow/update_count)>>20);"
  },
  {
    "id" : "4c110022-eebf-4a2a-8292-fa9e44224283",
    "prId" : 8974,
    "prUrl" : "https://github.com/redis/redis/pull/8974#pullrequestreview-714892712",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dd09e931-43c0-43e4-9c27-4361326f9b37",
        "parentId" : null,
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : ":scream:",
        "createdAt" : "2021-07-26T05:19:03Z",
        "updatedAt" : "2021-07-26T05:33:34Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      },
      {
        "id" : "2b4c9516-28e3-45bc-827c-8f02ebd58134",
        "parentId" : "dd09e931-43c0-43e4-9c27-4361326f9b37",
        "authorId" : "98e31153-705f-4299-a152-78c428055d23",
        "body" : "ðŸ˜€",
        "createdAt" : "2021-07-26T14:10:15Z",
        "updatedAt" : "2021-07-26T14:10:15Z",
        "lastEditedBy" : "98e31153-705f-4299-a152-78c428055d23",
        "tags" : [
        ]
      }
    ],
    "commit" : "9960985886855c05e027ab9ebf3cb312bf739b18",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +101,105 @@            serverLog(cow_info ? LL_NOTICE : LL_VERBOSE,\n                      \"Fork CoW for %s: current %zu MB, peak %zu MB, average %llu MB\",\n                      pname, cow>>20, peak_cow>>20, (sum_cow/update_count)>>20);\n        }\n    }"
  },
  {
    "id" : "aa5e5483-1883-4837-aabe-149929d330da",
    "prId" : 8974,
    "prUrl" : "https://github.com/redis/redis/pull/8974#pullrequestreview-714291508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16a45ccc-5a04-400d-928c-b8e27f8ff12e",
        "parentId" : null,
        "authorId" : "98e31153-705f-4299-a152-78c428055d23",
        "body" : "Hi @oranagra For the log, i think maybe users collect CoW info by this log, I break old format, WDYT? And currently I am not satisfied with current description, do you have advise?",
        "createdAt" : "2021-07-23T12:10:08Z",
        "updatedAt" : "2021-07-23T12:10:08Z",
        "lastEditedBy" : "98e31153-705f-4299-a152-78c428055d23",
        "tags" : [
        ]
      },
      {
        "id" : "6d744fee-1cb6-42a4-8852-cd3d1745b29f",
        "parentId" : "16a45ccc-5a04-400d-928c-b8e27f8ff12e",
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "i don't think we need to retain backward compatibility with log messages.\r\nmaybe ins some special cases like redis fails to start up due to bind address being used and such, in case someone (like our tests) attempts to resolve that and retry.\r\n\r\nBut breaking this log message won't result in any actual problem, just missing metrics, and the right way to extract these metrics is from INFO (always has been)",
        "createdAt" : "2021-07-25T08:32:54Z",
        "updatedAt" : "2021-07-25T08:38:04Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      }
    ],
    "commit" : "9960985886855c05e027ab9ebf3cb312bf739b18",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +99,103 @@        int cow_info = (info_type != CHILD_INFO_TYPE_CURRENT_INFO);\n        if (cow || cow_info) {\n            serverLog(cow_info ? LL_NOTICE : LL_VERBOSE,\n                      \"Fork CoW for %s: current %zu MB, peak %zu MB, average %llu MB\",\n                      pname, cow>>20, peak_cow>>20, (sum_cow/update_count)>>20);"
  },
  {
    "id" : "6572a859-3fbc-49a5-b9bb-dff454bbb12a",
    "prId" : 8974,
    "prUrl" : "https://github.com/redis/redis/pull/8974#pullrequestreview-714892712",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "06dca702-9757-4174-a7b4-e6e140daa3e2",
        "parentId" : null,
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : ":scream:",
        "createdAt" : "2021-07-26T05:19:03Z",
        "updatedAt" : "2021-07-26T05:33:34Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      },
      {
        "id" : "5ff4d8e1-2700-487c-8ae7-397a7b104997",
        "parentId" : "06dca702-9757-4174-a7b4-e6e140daa3e2",
        "authorId" : "98e31153-705f-4299-a152-78c428055d23",
        "body" : "ðŸ˜€",
        "createdAt" : "2021-07-26T14:10:15Z",
        "updatedAt" : "2021-07-26T14:10:15Z",
        "lastEditedBy" : "98e31153-705f-4299-a152-78c428055d23",
        "tags" : [
        ]
      }
    ],
    "commit" : "9960985886855c05e027ab9ebf3cb312bf739b18",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +101,105 @@            serverLog(cow_info ? LL_NOTICE : LL_VERBOSE,\n                      \"Fork CoW for %s: current %zu MB, peak %zu MB, average %llu MB\",\n                      pname, cow>>20, peak_cow>>20, (sum_cow/update_count)>>20);\n        }\n    }"
  },
  {
    "id" : "024ef05d-0566-4fc2-98d0-febee5121474",
    "prId" : 8974,
    "prUrl" : "https://github.com/redis/redis/pull/8974#pullrequestreview-714291508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "974100b0-e606-4cf1-a9fe-3eda0e7f36cb",
        "parentId" : null,
        "authorId" : "98e31153-705f-4299-a152-78c428055d23",
        "body" : "Hi @oranagra For the log, i think maybe users collect CoW info by this log, I break old format, WDYT? And currently I am not satisfied with current description, do you have advise?",
        "createdAt" : "2021-07-23T12:10:08Z",
        "updatedAt" : "2021-07-23T12:10:08Z",
        "lastEditedBy" : "98e31153-705f-4299-a152-78c428055d23",
        "tags" : [
        ]
      },
      {
        "id" : "f6b4c92a-03dd-43d5-a865-dd567587f8da",
        "parentId" : "974100b0-e606-4cf1-a9fe-3eda0e7f36cb",
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "i don't think we need to retain backward compatibility with log messages.\r\nmaybe ins some special cases like redis fails to start up due to bind address being used and such, in case someone (like our tests) attempts to resolve that and retry.\r\n\r\nBut breaking this log message won't result in any actual problem, just missing metrics, and the right way to extract these metrics is from INFO (always has been)",
        "createdAt" : "2021-07-25T08:32:54Z",
        "updatedAt" : "2021-07-25T08:38:04Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      }
    ],
    "commit" : "9960985886855c05e027ab9ebf3cb312bf739b18",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +99,103 @@        int cow_info = (info_type != CHILD_INFO_TYPE_CURRENT_INFO);\n        if (cow || cow_info) {\n            serverLog(cow_info ? LL_NOTICE : LL_VERBOSE,\n                      \"Fork CoW for %s: current %zu MB, peak %zu MB, average %llu MB\",\n                      pname, cow>>20, peak_cow>>20, (sum_cow/update_count)>>20);"
  },
  {
    "id" : "9b3f5566-16d5-49af-9d0f-a9e5a74cfe58",
    "prId" : 8974,
    "prUrl" : "https://github.com/redis/redis/pull/8974#pullrequestreview-714892712",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c445b0b3-a8e2-440e-be05-9d9dd41f22a0",
        "parentId" : null,
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : ":scream:",
        "createdAt" : "2021-07-26T05:19:03Z",
        "updatedAt" : "2021-07-26T05:33:34Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      },
      {
        "id" : "8b40514e-01e0-4126-9ae3-282805ffc118",
        "parentId" : "c445b0b3-a8e2-440e-be05-9d9dd41f22a0",
        "authorId" : "98e31153-705f-4299-a152-78c428055d23",
        "body" : "ðŸ˜€",
        "createdAt" : "2021-07-26T14:10:15Z",
        "updatedAt" : "2021-07-26T14:10:15Z",
        "lastEditedBy" : "98e31153-705f-4299-a152-78c428055d23",
        "tags" : [
        ]
      }
    ],
    "commit" : "9960985886855c05e027ab9ebf3cb312bf739b18",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +101,105 @@            serverLog(cow_info ? LL_NOTICE : LL_VERBOSE,\n                      \"Fork CoW for %s: current %zu MB, peak %zu MB, average %llu MB\",\n                      pname, cow>>20, peak_cow>>20, (sum_cow/update_count)>>20);\n        }\n    }"
  }
]