[
  {
    "id" : "9a22e217-097c-40ab-ad6a-a03f1b5836af",
    "prId" : 8319,
    "prUrl" : "https://github.com/redis/redis/pull/8319#pullrequestreview-567770965",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "04c92d57-9bee-4c95-bd0b-c55194da619d",
        "parentId" : null,
        "authorId" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "body" : "Would you mind documenting why it's +1, since that isn't that obvious?",
        "createdAt" : "2021-01-13T16:54:50Z",
        "updatedAt" : "2021-01-13T23:20:27Z",
        "lastEditedBy" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "tags" : [
        ]
      },
      {
        "id" : "57baa386-acfb-48dc-a703-21f6dd194419",
        "parentId" : "04c92d57-9bee-4c95-bd0b-c55194da619d",
        "authorId" : "42639af3-3704-49ab-a357-f8541ddab2c3",
        "body" : "Hi, @madolson, It is because that next of that part, there is a code add 1 more into slave,  when \r\n if (!sentinelAddrIsEqual(newaddr,master->addr)). Thanks.",
        "createdAt" : "2021-01-13T17:32:52Z",
        "updatedAt" : "2021-01-13T23:20:27Z",
        "lastEditedBy" : "42639af3-3704-49ab-a357-f8541ddab2c3",
        "tags" : [
        ]
      },
      {
        "id" : "a236e167-0cab-4aac-950e-55263f48f316",
        "parentId" : "04c92d57-9bee-4c95-bd0b-c55194da619d",
        "authorId" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "body" : ":D I meant put a comment in the code. ",
        "createdAt" : "2021-01-13T19:46:57Z",
        "updatedAt" : "2021-01-13T23:20:27Z",
        "lastEditedBy" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "tags" : [
        ]
      },
      {
        "id" : "1290df87-92c8-4d65-9468-cd038c905aa6",
        "parentId" : "04c92d57-9bee-4c95-bd0b-c55194da619d",
        "authorId" : "11a7c5f7-8b3b-4afb-90de-02a11f3a6cb8",
        "body" : "@madolson applied. Thanks.",
        "createdAt" : "2021-01-13T23:21:26Z",
        "updatedAt" : "2021-01-13T23:21:26Z",
        "lastEditedBy" : "11a7c5f7-8b3b-4afb-90de-02a11f3a6cb8",
        "tags" : [
        ]
      },
      {
        "id" : "c3b95e65-8753-411f-b2ec-eea0a99d15e8",
        "parentId" : "04c92d57-9bee-4c95-bd0b-c55194da619d",
        "authorId" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "body" : "Thanks!",
        "createdAt" : "2021-01-14T00:42:49Z",
        "updatedAt" : "2021-01-14T00:42:50Z",
        "lastEditedBy" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "tags" : [
        ]
      }
    ],
    "commit" : "f2cc6e558c849e1a5401cb1637574ad4d1368100",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +1527,1531 @@     * and It can add old master 1 more slave. \n     * so It allocates dictSize(master->slaves) + 1          */\n    slaves = zmalloc(sizeof(sentinelAddr*)*(dictSize(master->slaves) + 1));\n    \n    /* Don't include the one having the address we are switching to. */"
  },
  {
    "id" : "c1196a20-2ae2-4085-aec9-068345ee3135",
    "prId" : 8282,
    "prUrl" : "https://github.com/redis/redis/pull/8282#pullrequestreview-564855589",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b900372f-53fd-4828-9cec-3b28bc4c238d",
        "parentId" : null,
        "authorId" : "351cea45-3d66-4827-bbfb-0a2c2c79b24b",
        "body" : "If we provide functionality of changing sentinel-user and sentinel-pass at run time, the instance won't resend the auth unless the link is down, therefore the cmd link with other sentinel instances will still be authenticated with old user, maybe we need to set a flag and explicitly calling sentinelSendAuthIfNeeded for all connections again.",
        "createdAt" : "2021-01-05T16:06:12Z",
        "updatedAt" : "2021-01-26T19:51:28Z",
        "lastEditedBy" : "351cea45-3d66-4827-bbfb-0a2c2c79b24b",
        "tags" : [
        ]
      },
      {
        "id" : "cf47ef62-dee5-41e6-9d60-89a92bc182a7",
        "parentId" : "b900372f-53fd-4828-9cec-3b28bc4c238d",
        "authorId" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "body" : "That makes sense, but maybe we need to completely drop the connections. Otherwise, if authentication fails we remain connected with the old credentials.",
        "createdAt" : "2021-01-10T11:43:27Z",
        "updatedAt" : "2021-01-26T19:51:28Z",
        "lastEditedBy" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d3eeaae50ec517cf5d5a7b80984da51627f8b67",
    "line" : 464,
    "diffHunk" : "@@ -1,1 +3160,3164 @@            goto badfmt;\n        sentinel.announce_port = numval;\n    } else if (!strcasecmp(o->ptr, \"sentinel-user\")) {\n        sdsfree(sentinel.sentinel_auth_user);\n        sentinel.sentinel_auth_user = sdsnew(val->ptr);"
  },
  {
    "id" : "63500b68-19e9-488f-bac3-3d35450a6a6d",
    "prId" : 8282,
    "prUrl" : "https://github.com/redis/redis/pull/8282#pullrequestreview-570587987",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9b2b9467-4ced-491d-a1f6-39a2c9faa208",
        "parentId" : null,
        "authorId" : "351cea45-3d66-4827-bbfb-0a2c2c79b24b",
        "body" : "deny-scripts-reconfig can also be set here IMHO.",
        "createdAt" : "2021-01-14T06:04:59Z",
        "updatedAt" : "2021-01-26T19:51:28Z",
        "lastEditedBy" : "351cea45-3d66-4827-bbfb-0a2c2c79b24b",
        "tags" : [
        ]
      },
      {
        "id" : "85a2e013-c9a6-4fcf-af91-12ad83223594",
        "parentId" : "9b2b9467-4ced-491d-a1f6-39a2c9faa208",
        "authorId" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "body" : "@hwware I did not include it as it seems to be used as a way to prevent arbitrary scripts from being configured through the command interface rather than the config file. Making it configurable online will practically make it useless, no?",
        "createdAt" : "2021-01-14T20:18:56Z",
        "updatedAt" : "2021-01-26T19:51:28Z",
        "lastEditedBy" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "tags" : [
        ]
      },
      {
        "id" : "7ebba98b-4341-4898-8391-151a02545a57",
        "parentId" : "9b2b9467-4ced-491d-a1f6-39a2c9faa208",
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "i agree, we don't want to allow this one to be set at runtime.",
        "createdAt" : "2021-01-18T15:25:14Z",
        "updatedAt" : "2021-01-26T19:51:28Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d3eeaae50ec517cf5d5a7b80984da51627f8b67",
    "line" : 472,
    "diffHunk" : "@@ -1,1 +3168,3172 @@        sentinel.sentinel_auth_pass = sdsnew(val->ptr);\n        drop_conns = 1;\n    } else {\n        addReplyErrorFormat(c, \"Invalid argument '%s' to SENTINEL CONFIG SET\",\n                            (char *) o->ptr);"
  },
  {
    "id" : "2ce25386-21b0-4269-abcd-cd9817754b99",
    "prId" : 8282,
    "prUrl" : "https://github.com/redis/redis/pull/8282#pullrequestreview-570734611",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f22d3373-0aab-4ebf-8bf5-bc81fcb30e7a",
        "parentId" : null,
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "i'm curious, is this change doing something or just a cleanup?",
        "createdAt" : "2021-01-18T15:53:21Z",
        "updatedAt" : "2021-01-26T19:51:28Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      },
      {
        "id" : "6bee2302-f86d-469c-b512-2c6ef7a9d3ce",
        "parentId" : "f22d3373-0aab-4ebf-8bf5-bc81fcb30e7a",
        "authorId" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "body" : "It does, in the past `hostname` was necessarily an IP address but that's no longer the case.",
        "createdAt" : "2021-01-18T19:19:32Z",
        "updatedAt" : "2021-01-26T19:51:28Z",
        "lastEditedBy" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d3eeaae50ec517cf5d5a7b80984da51627f8b67",
    "line" : 175,
    "diffHunk" : "@@ -1,1 +1285,1289 @@    /* For slaves use ip:port as name. */\n    if (flags & SRI_SLAVE) {\n        anetFormatAddr(slavename, sizeof(slavename), addr->ip, port);\n        name = slavename;\n    }"
  }
]