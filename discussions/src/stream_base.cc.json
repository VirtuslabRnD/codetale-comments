[
  {
    "id" : "e38356b2-183a-4a41-8035-5393bf88d7f3",
    "prId" : 13187,
    "prUrl" : "https://github.com/nodejs/node/pull/13187#pullrequestreview-40108950",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "33362a49-340f-4378-9718-39f7ef52d249",
        "parentId" : null,
        "authorId" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "body" : "nit: I’d really just write `/ 2`, it’s clearer and the resulting code will be the same",
        "createdAt" : "2017-05-24T10:54:36Z",
        "updatedAt" : "2017-05-26T08:30:19Z",
        "lastEditedBy" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "tags" : [
        ]
      },
      {
        "id" : "ae19cfeb-6733-497c-a059-c5931c727112",
        "parentId" : "33362a49-340f-4378-9718-39f7ef52d249",
        "authorId" : "c5f34109-f61d-4540-9a67-e4a5494934e5",
        "body" : "That's copied from before these changes. It's also similar to what was already being used in js.",
        "createdAt" : "2017-05-24T15:03:56Z",
        "updatedAt" : "2017-05-26T08:30:19Z",
        "lastEditedBy" : "c5f34109-f61d-4540-9a67-e4a5494934e5",
        "tags" : [
        ]
      },
      {
        "id" : "487c700d-f231-463d-93b2-456b2c482e50",
        "parentId" : "33362a49-340f-4378-9718-39f7ef52d249",
        "authorId" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "body" : "Yeah, but in JS that has a different meaning. ¯\\\\\\_(ツ)_/¯ If you want to keep it it’s fine.",
        "createdAt" : "2017-05-24T18:17:01Z",
        "updatedAt" : "2017-05-26T08:30:19Z",
        "lastEditedBy" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "tags" : [
        ]
      }
    ],
    "commit" : "01a1022857ac29d2dae3eba288fb14ff4815f4d8",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +107,111 @@    count = chunks->Length();\n  else\n    count = chunks->Length() >> 1;\n\n  MaybeStackBuffer<uv_buf_t, 16> bufs(count);"
  },
  {
    "id" : "e54cd251-fb36-45b0-917e-3a3d002b4250",
    "prId" : 13187,
    "prUrl" : "https://github.com/nodejs/node/pull/13187#pullrequestreview-40120067",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "34d0a778-ce22-4ad7-8a54-d33042eeb533",
        "parentId" : null,
        "authorId" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "body" : "nit: `chunk->IsUint8Array()`",
        "createdAt" : "2017-05-24T10:59:33Z",
        "updatedAt" : "2017-05-26T08:30:19Z",
        "lastEditedBy" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "tags" : [
        ]
      },
      {
        "id" : "c7760892-954f-455f-848b-f7459ec86679",
        "parentId" : "34d0a778-ce22-4ad7-8a54-d33042eeb533",
        "authorId" : "c5f34109-f61d-4540-9a67-e4a5494934e5",
        "body" : "This was also copied from before these changes. I think changing it to check for a more general type is outside the scope of this PR.",
        "createdAt" : "2017-05-24T15:04:54Z",
        "updatedAt" : "2017-05-26T08:30:19Z",
        "lastEditedBy" : "c5f34109-f61d-4540-9a67-e4a5494934e5",
        "tags" : [
        ]
      },
      {
        "id" : "81a41ca5-72b3-403d-911f-6ee99319f465",
        "parentId" : "34d0a778-ce22-4ad7-8a54-d33042eeb533",
        "authorId" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "body" : "> I think changing it to check for a more general type is outside the scope of this PR.\r\n\r\nIt’s literally the same thing, just inlined. :)",
        "createdAt" : "2017-05-24T18:16:32Z",
        "updatedAt" : "2017-05-26T08:30:19Z",
        "lastEditedBy" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "tags" : [
        ]
      },
      {
        "id" : "730efd5e-8a0f-44a4-8b6e-5c30b1a40b5c",
        "parentId" : "34d0a778-ce22-4ad7-8a54-d33042eeb533",
        "authorId" : "c5f34109-f61d-4540-9a67-e4a5494934e5",
        "body" : "Actually `HasInstance()` in [master](https://github.com/nodejs/node/blob/28ddac2ec285b950a17bc42d7c79c329c8573c9e/src/node_buffer.cc#L202) and [v8.x](https://github.com/nodejs/node/blob/28ddac2ec285b950a17bc42d7c79c329c8573c9e/src/node_buffer.cc#L202) use `IsArrayBufferView()` while [v7.x](https://github.com/nodejs/node/blob/59f71f5661ec5557368d490d2b18ec335298f05d/src/node_buffer.cc#L177) and [v6.x](https://github.com/nodejs/node/blob/c33933eb6dab5d02df7f70432f607a4bf3e50179/src/node_buffer.cc#L188) use `IsUint8Array()`. Ideally this could be backported more easily if we kept `HasInstance()`?",
        "createdAt" : "2017-05-24T18:56:26Z",
        "updatedAt" : "2017-05-26T08:30:19Z",
        "lastEditedBy" : "c5f34109-f61d-4540-9a67-e4a5494934e5",
        "tags" : [
        ]
      },
      {
        "id" : "b4c12d2e-3058-40a1-ad96-75c6cc22f78c",
        "parentId" : "34d0a778-ce22-4ad7-8a54-d33042eeb533",
        "authorId" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "body" : "Oh, right, we made that switch. Idc, you can also keep `Buffer::HasInstance`.",
        "createdAt" : "2017-05-24T18:58:17Z",
        "updatedAt" : "2017-05-26T08:30:19Z",
        "lastEditedBy" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "tags" : [
        ]
      }
    ],
    "commit" : "01a1022857ac29d2dae3eba288fb14ff4815f4d8",
    "line" : 66,
    "diffHunk" : "@@ -1,1 +126,130 @@      Local<Value> chunk = chunks->Get(i * 2);\n\n      if (Buffer::HasInstance(chunk))\n        continue;\n        // Buffer chunk, no additional storage required"
  }
]