[
  {
    "id" : "bd913f54-9e09-4192-bf66-eff8e0d8d14b",
    "prId" : 36808,
    "prUrl" : "https://github.com/microsoft/TypeScript/pull/36808#pullrequestreview-363688822",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d51909c7-278a-4aa3-b4af-c0adf6bfe493",
        "parentId" : null,
        "authorId" : "2b0d3f17-3eae-4173-ad8a-73c9440bf608",
        "body" : "can you explain what this does?",
        "createdAt" : "2020-02-19T18:43:26Z",
        "updatedAt" : "2020-02-24T20:58:39Z",
        "lastEditedBy" : "2b0d3f17-3eae-4173-ad8a-73c9440bf608",
        "tags" : [
        ]
      },
      {
        "id" : "c481ce00-d00e-4890-a56e-9e7e4921ff08",
        "parentId" : "d51909c7-278a-4aa3-b4af-c0adf6bfe493",
        "authorId" : "cb16561c-58c1-4f0a-a738-613be01155c9",
        "body" : "This ensures when isProgramUptodate is checked, we get latest snapshot so the change in the file is reflected correctly (eg. sometimes when reading from file because of watcher, the change in version and text is lazy to ensure we dont change version of scriptshot if file changed but its content didnt - esp happens a lot with file open and close)",
        "createdAt" : "2020-02-24T20:46:45Z",
        "updatedAt" : "2020-02-24T20:58:39Z",
        "lastEditedBy" : "cb16561c-58c1-4f0a-a738-613be01155c9",
        "tags" : [
        ]
      }
    ],
    "commit" : "252ba7f1cdb847d0bb936c16593c7cd23143c912",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +559,563 @@        getLatestVersion() {\n            // Ensure we have updated snapshot to give back latest version\n            this.textStorage.getSnapshot();\n            return this.textStorage.getVersion();\n        }"
  },
  {
    "id" : "8275aad1-aaba-4530-b41f-9feaf7773ca1",
    "prId" : 26420,
    "prUrl" : "https://github.com/microsoft/TypeScript/pull/26420#pullrequestreview-146243607",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3e75dca0-9ede-4ede-98ca-81a1c2909db1",
        "parentId" : null,
        "authorId" : "fda8894a-88d1-42dd-a55e-7a8592225c11",
        "body" : "Doesn't that defeat the original purpose of detecting MPEG TS files? ",
        "createdAt" : "2018-08-14T04:12:57Z",
        "updatedAt" : "2018-08-14T04:13:07Z",
        "lastEditedBy" : "fda8894a-88d1-42dd-a55e-7a8592225c11",
        "tags" : [
        ]
      },
      {
        "id" : "f1197256-7db2-409b-a5f3-704ed5e07ae7",
        "parentId" : "3e75dca0-9ede-4ede-98ca-81a1c2909db1",
        "authorId" : "cb16561c-58c1-4f0a-a738-613be01155c9",
        "body" : "The purpose of change wasnt to detect mpeg file but to detect large json/js minified files. (eg. #24762 had minified js file which failed to parse/bind)",
        "createdAt" : "2018-08-14T20:43:25Z",
        "updatedAt" : "2018-08-14T20:43:25Z",
        "lastEditedBy" : "cb16561c-58c1-4f0a-a738-613be01155c9",
        "tags" : [
        ]
      }
    ],
    "commit" : "7e117f27073aec9ab2d0794035940429aa5edcb0",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +167,171 @@            const fileName = tempFileName || this.fileName;\n            const getText = () => text === undefined ? (text = this.host.readFile(fileName) || \"\") : text;\n            // Only non typescript files have size limitation\n            if (!hasTypeScriptFileExtension(this.fileName)) {\n                const fileSize = this.host.getFileSize ? this.host.getFileSize(fileName) : getText().length;"
  },
  {
    "id" : "385ec931-29a9-4776-a32f-c4b07db1707e",
    "prId" : 23283,
    "prUrl" : "https://github.com/microsoft/TypeScript/pull/23283#pullrequestreview-110955580",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "38f798ea-ed31-4e3f-98c1-42107cfd605d",
        "parentId" : null,
        "authorId" : "cb16561c-58c1-4f0a-a738-613be01155c9",
        "body" : "This function returns a copy, so it is ok to modify .. So no need to clone unlike defaultPreferences... I am not sure how many times we call these configure function to say if its ok to clone the object (esp with such a big set of properties) ",
        "createdAt" : "2018-04-09T23:07:31Z",
        "updatedAt" : "2018-04-10T18:07:05Z",
        "lastEditedBy" : "cb16561c-58c1-4f0a-a738-613be01155c9",
        "tags" : [
        ]
      },
      {
        "id" : "2092042f-2b6e-484a-91e7-b04b9804f010",
        "parentId" : "38f798ea-ed31-4e3f-98c1-42107cfd605d",
        "authorId" : "39105c25-586e-496a-9515-4fce35443a7c",
        "body" : "Done.",
        "createdAt" : "2018-04-10T18:19:55Z",
        "updatedAt" : "2018-04-10T18:19:55Z",
        "lastEditedBy" : "39105c25-586e-496a-9515-4fce35443a7c",
        "tags" : [
        ]
      }
    ],
    "commit" : "980f5341ccc5c13e35a88c1038c926f8756ea2df",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +397,401 @@            if (formatSettings) {\n                if (!this.formatSettings) {\n                    this.formatSettings = getDefaultFormatCodeSettings(this.host);\n                    assign(this.formatSettings, formatSettings);\n                }"
  },
  {
    "id" : "bc5a3d38-441d-48ce-a491-85580a566eb9",
    "prId" : 22151,
    "prUrl" : "https://github.com/microsoft/TypeScript/pull/22151#pullrequestreview-101740785",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "71ee8b98-bd87-434d-8a09-c1dc174055a1",
        "parentId" : null,
        "authorId" : "59507247-4932-40ea-95c5-8eabb0b1de63",
        "body" : "Should `this.pendingReloadFromDisk` be set to false here or in a callee after the reload completes?",
        "createdAt" : "2018-03-06T19:15:01Z",
        "updatedAt" : "2018-03-06T19:15:06Z",
        "lastEditedBy" : "59507247-4932-40ea-95c5-8eabb0b1de63",
        "tags" : [
        ]
      },
      {
        "id" : "564b9faa-ced6-46b1-9db3-95c5d16a5136",
        "parentId" : "71ee8b98-bd87-434d-8a09-c1dc174055a1",
        "authorId" : "cb16561c-58c1-4f0a-a738-613be01155c9",
        "body" : "It does get set whenever the text is reloaded into the script info. (https://github.com/Microsoft/TypeScript/pull/22151/files#diff-f56eebffea5b0d2286bb5998c67920e9L78)",
        "createdAt" : "2018-03-06T19:20:34Z",
        "updatedAt" : "2018-03-06T19:20:35Z",
        "lastEditedBy" : "cb16561c-58c1-4f0a-a738-613be01155c9",
        "tags" : [
        ]
      },
      {
        "id" : "67629151-9dca-4cbb-8e7f-6335d1d5e641",
        "parentId" : "71ee8b98-bd87-434d-8a09-c1dc174055a1",
        "authorId" : "59507247-4932-40ea-95c5-8eabb0b1de63",
        "body" : "Missed that. Thanks!",
        "createdAt" : "2018-03-06T22:22:41Z",
        "updatedAt" : "2018-03-06T22:22:41Z",
        "lastEditedBy" : "59507247-4932-40ea-95c5-8eabb0b1de63",
        "tags" : [
        ]
      }
    ],
    "commit" : "08ab6eb42dddee1f501998445046653de5aa4eab",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +178,182 @@\n            // If there is pending reload from the disk then, reload the text\n            if (this.pendingReloadFromDisk) {\n                this.reloadWithFileText();\n            }"
  }
]