[
  {
    "id" : "33fc5c57-db36-457c-99b0-c04ae77db1cb",
    "prId" : 9080,
    "prUrl" : "https://github.com/redis/redis/pull/9080#pullrequestreview-684110633",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "46b4c38d-4c66-494a-bca3-86b25e9d4232",
        "parentId" : null,
        "authorId" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "body" : "migrateCloseTimedoutSockets is only run in serverCron, but it could just be moved to the clusterCron so we don't need to expose it. ",
        "createdAt" : "2021-06-14T03:42:22Z",
        "updatedAt" : "2021-06-14T06:04:48Z",
        "lastEditedBy" : "3ca74ed4-ec73-427d-88cb-0c084b679a52",
        "tags" : [
        ]
      },
      {
        "id" : "df7a6644-34d5-47fb-b239-75dfb7c3fb93",
        "parentId" : "46b4c38d-4c66-494a-bca3-86b25e9d4232",
        "authorId" : "42355b05-6d27-48a8-8dec-4ebfa0c25ee7",
        "body" : "Sure -- will do",
        "createdAt" : "2021-06-14T07:14:59Z",
        "updatedAt" : "2021-06-14T07:14:59Z",
        "lastEditedBy" : "42355b05-6d27-48a8-8dec-4ebfa0c25ee7",
        "tags" : [
        ]
      },
      {
        "id" : "4899b282-d1fe-452f-b0b5-6b54c7cf510f",
        "parentId" : "46b4c38d-4c66-494a-bca3-86b25e9d4232",
        "authorId" : "42355b05-6d27-48a8-8dec-4ebfa0c25ee7",
        "body" : "(it would mean calling clusterCron every iteration and using run_with_period internally there -- but I think that's a good thing)",
        "createdAt" : "2021-06-14T07:16:58Z",
        "updatedAt" : "2021-06-14T07:16:59Z",
        "lastEditedBy" : "42355b05-6d27-48a8-8dec-4ebfa0c25ee7",
        "tags" : [
        ]
      },
      {
        "id" : "3e576f32-425b-4ea8-a51f-099c2d4a2b54",
        "parentId" : "46b4c38d-4c66-494a-bca3-86b25e9d4232",
        "authorId" : "42355b05-6d27-48a8-8dec-4ebfa0c25ee7",
        "body" : "Actually - I take this back.\r\nMIGRATE can be used regardless of OSS cluster being enabled or not -- so calling its cleanup from within the clusterCron makes less sense.\r\nEventually we should probably move all the migrate code out of cluster.c since it's orthogonal to the clustering implementation.... (migrate.[c.h]?)",
        "createdAt" : "2021-06-15T14:46:50Z",
        "updatedAt" : "2021-06-15T14:46:50Z",
        "lastEditedBy" : "42355b05-6d27-48a8-8dec-4ebfa0c25ee7",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa5d8ee995cef45614d6d9dc1eccc7db0d5fa337",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +294,298 @@int clusterRedirectBlockedClientIfNeeded(client *c);\nvoid clusterRedirectClient(client *c, clusterNode *n, int hashslot, int error_code);\nvoid migrateCloseTimedoutSockets(void);\nint verifyClusterConfigWithData(void);\nunsigned long getClusterConnectionsCount(void);"
  }
]