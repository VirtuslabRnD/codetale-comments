[
  {
    "id" : "aef92044-3521-40d3-ac6c-b1b0974a11dc",
    "prId" : 23676,
    "prUrl" : "https://github.com/nodejs/node/pull/23676#pullrequestreview-164861712",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d5066a80-9278-4b2b-93b0-cb4844c13a8a",
        "parentId" : null,
        "authorId" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "body" : "Can you add a comment similar to the one for `GetCurrentEventLoop()`?",
        "createdAt" : "2018-10-15T19:31:19Z",
        "updatedAt" : "2018-10-20T21:48:42Z",
        "lastEditedBy" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "tags" : [
        ]
      },
      {
        "id" : "474539a1-568f-4d72-a1e8-99047745f997",
        "parentId" : "d5066a80-9278-4b2b-93b0-cb4844c13a8a",
        "authorId" : "fddd17a1-db3e-437b-b13d-dbc1e3cd32c8",
        "body" : "done!",
        "createdAt" : "2018-10-15T19:33:47Z",
        "updatedAt" : "2018-10-20T21:48:42Z",
        "lastEditedBy" : "fddd17a1-db3e-437b-b13d-dbc1e3cd32c8",
        "tags" : [
        ]
      }
    ],
    "commit" : "0feb21fb028deaad69ec028c14aafe4ccd823cf2",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +267,271 @@\n// This may return nullptr if context is not associated with a Node instance.\nNODE_EXTERN Environment* GetCurrentEnvironment(v8::Local<v8::Context> context);\n\n// This returns the MultiIsolatePlatform used in the main thread of Node.js."
  },
  {
    "id" : "cced54fe-4f64-4dff-acaa-560853b984d6",
    "prId" : 23676,
    "prUrl" : "https://github.com/nodejs/node/pull/23676#pullrequestreview-164931015",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3c7c1a00-828b-4782-98b2-b0cb1155d94d",
        "parentId" : null,
        "authorId" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "body" : "A question: What is the benefit of this without the `Environment` class declaration, which is internal?\r\nhttps://github.com/nodejs/node/blob/1a2cf6696fa59c9723c423c4ff4c1167ab82155c/src/env.h#L25",
        "createdAt" : "2018-10-15T19:54:07Z",
        "updatedAt" : "2018-10-20T21:48:42Z",
        "lastEditedBy" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "tags" : [
        ]
      },
      {
        "id" : "b0709996-0215-4f36-a0fe-9996f7527ee8",
        "parentId" : "3c7c1a00-828b-4782-98b2-b0cb1155d94d",
        "authorId" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "body" : "For one, you can test whether the current Context is a Node.js one or not, which is what electron does, I think.\r\n\r\nSecondly, `Environment` would be the most reasonable target to improve the embedder API on, even if the class itself is not public. There are a couple of existing functions that take is as an argument, for example.",
        "createdAt" : "2018-10-15T19:57:03Z",
        "updatedAt" : "2018-10-20T21:48:42Z",
        "lastEditedBy" : "c8ef07ae-30f6-4919-9aa8-bf0160bbd4a0",
        "tags" : [
        ]
      },
      {
        "id" : "5dd3f110-225d-445c-9a29-154ffa2cfc61",
        "parentId" : "3c7c1a00-828b-4782-98b2-b0cb1155d94d",
        "authorId" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "body" : "The only caveat is that we need forward declarations:\r\nhttps://github.com/nodejs/node/blob/0a90f943abe30a75078933f3b982de0096a4a569/src/node.h#L216-L219\r\n(And they are exposed to internal code as well ü§∑‚Äç‚ôÇÔ∏è)",
        "createdAt" : "2018-10-15T23:07:17Z",
        "updatedAt" : "2018-10-20T21:48:42Z",
        "lastEditedBy" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "tags" : [
        ]
      },
      {
        "id" : "160b9795-2547-4665-b42b-65ec3f5229db",
        "parentId" : "3c7c1a00-828b-4782-98b2-b0cb1155d94d",
        "authorId" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "body" : "Now that I think of it, this might be way part of the reason I'm having trouble \"embedded\" node into node in https://github.com/nodejs/node/pull/23439.\r\nI think that somehow we are violating the ODR...",
        "createdAt" : "2018-10-15T23:10:32Z",
        "updatedAt" : "2018-10-20T21:48:42Z",
        "lastEditedBy" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "tags" : [
        ]
      }
    ],
    "commit" : "0feb21fb028deaad69ec028c14aafe4ccd823cf2",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +267,271 @@\n// This may return nullptr if context is not associated with a Node instance.\nNODE_EXTERN Environment* GetCurrentEnvironment(v8::Local<v8::Context> context);\n\n// This returns the MultiIsolatePlatform used in the main thread of Node.js."
  }
]