[
  {
    "id" : "8591f5fa-9c61-4105-84c4-6affdfcfa589",
    "prId" : 1642,
    "prUrl" : "https://github.com/akka/alpakka/pull/1642#pullrequestreview-225199605",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e05a018a-7bd1-40b7-8b82-6cce0c701efe",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "Can you please explain why we need this patience config? Is there a way to avoid it? I’m not overly concerned, but we’ve not had to use such config so far. ",
        "createdAt" : "2019-04-10T19:32:58Z",
        "updatedAt" : "2019-04-10T21:45:56Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      },
      {
        "id" : "f7e9d42e-e26e-42ae-a1bd-2b487449220b",
        "parentId" : "e05a018a-7bd1-40b7-8b82-6cce0c701efe",
        "authorId" : "022997fb-c01d-49d8-ba07-a8ccf2c61423",
        "body" : "The reason is that the test is using 1 second keep alive parameter so using default PatienceConfig of 150 milliseconds as max value is not enough for the ping timeout to be triggered. Therefore I'm adding 3 seconds max time before I see the stream failing because of the ping timeout or failing otherwise. ",
        "createdAt" : "2019-04-10T20:05:29Z",
        "updatedAt" : "2019-04-10T21:45:56Z",
        "lastEditedBy" : "022997fb-c01d-49d8-ba07-a8ccf2c61423",
        "tags" : [
        ]
      },
      {
        "id" : "a059beaf-7457-46ff-87f1-a6ce26b56894",
        "parentId" : "e05a018a-7bd1-40b7-8b82-6cce0c701efe",
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "How about reducing the ping timeout instead?",
        "createdAt" : "2019-04-10T20:29:51Z",
        "updatedAt" : "2019-04-10T21:45:56Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "49375326f44449a100ad73600fa5ae953c2bc61b",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +1519,1523 @@      // A longer patience config implicit is provided since minimum client's keep alive time is 1 second, so default\n      // 150 millis is not enough for the ping request timeout to be triggered and verify the stream fails as expected.\n      implicit val patienceConfig = PatienceConfig(scaled(Span(3000, Millis)), scaled(Span(15, Millis)))\n\n      val session = ActorMqttServerSession(settings)"
  },
  {
    "id" : "1125db44-3161-47d2-a221-aaf9a63bd5cf",
    "prId" : 1577,
    "prUrl" : "https://github.com/akka/alpakka/pull/1577#pullrequestreview-213753375",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f7830ea6-c33d-44d3-8ca3-02d41074bc84",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "The `result` wasn't being used, so I removed it.",
        "createdAt" : "2019-03-13T04:12:24Z",
        "updatedAt" : "2019-07-01T06:16:48Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "e096ddb829373b5b523313c9d34a0e4cb9474e79",
    "line" : 69,
    "diffHunk" : "@@ -1,1 +1409,1413 @@          })\n          .toMat(Sink.ignore)(Keep.left)\n          .run()\n\n      val connectBytes = connect.encode(ByteString.newBuilder).result()"
  },
  {
    "id" : "eb558d6c-353d-4d24-a259-c9dd1e31ec14",
    "prId" : 1561,
    "prUrl" : "https://github.com/akka/alpakka/pull/1561#pullrequestreview-211206867",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c47530e2-9eee-4913-b3fb-e9928afd3965",
        "parentId" : null,
        "authorId" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "body" : "This indicates some error in an MQTT graph stage - I haven't gone deeper, yet.\r\ncc @huntc ",
        "createdAt" : "2019-03-06T10:43:11Z",
        "updatedAt" : "2019-03-11T10:44:33Z",
        "lastEditedBy" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "tags" : [
        ]
      },
      {
        "id" : "0faa1de8-f46f-40fb-8154-40ba4eda2763",
        "parentId" : "c47530e2-9eee-4913-b3fb-e9928afd3965",
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "Thanks! I shall look at this first thing. ",
        "createdAt" : "2019-03-06T12:40:54Z",
        "updatedAt" : "2019-03-11T10:44:33Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "2f2ff30fd70fdff3e613f14833815e5655075318",
    "line" : 245,
    "diffHunk" : "@@ -1,1 +798,802 @@      //   7   │ 2019-03-06 11:28:23,035 ERROR [mqtt-spec-akka.actor.default-dispatcher-3] [akka.actor.OneForOneStrategy]  56 (of class java.lang.Integer)\n      //   8   │ scala.MatchError: 56 (of class java.lang.Integer)\n      //   9   │     at akka.stream.impl.fusing.GraphInterpreter.$anonfun$toSnapshot$4(GraphInterpreter.scala:662)\n      server.reply(connAckBytes) // It doesn't matter what the message is - our test machinery here just wants a reply\n      server.expectMsg(publishDupBytes)"
  },
  {
    "id" : "007d3bab-5617-4439-b91c-27b1f55f9462",
    "prId" : 1506,
    "prUrl" : "https://github.com/akka/alpakka/pull/1506#pullrequestreview-204639552",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5e50eab8-453e-439f-99a7-1cdb9165b85e",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "Why this change?",
        "createdAt" : "2019-02-15T20:02:01Z",
        "updatedAt" : "2019-02-20T09:25:26Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      },
      {
        "id" : "e347c9ab-627a-4e1d-86b6-985d4560cfe5",
        "parentId" : "5e50eab8-453e-439f-99a7-1cdb9165b85e",
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "I see this issue remains also: https://github.com/akka/akka/issues/26305",
        "createdAt" : "2019-02-15T20:08:30Z",
        "updatedAt" : "2019-02-20T09:25:26Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      },
      {
        "id" : "30c57ca3-00c0-41de-ab57-87607c4a8f54",
        "parentId" : "5e50eab8-453e-439f-99a7-1cdb9165b85e",
        "authorId" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "body" : "Yes, that is the reason. I think this solution is the best for now.",
        "createdAt" : "2019-02-18T06:54:13Z",
        "updatedAt" : "2019-02-20T09:25:26Z",
        "lastEditedBy" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "tags" : [
        ]
      }
    ],
    "commit" : "1652bfff2111d68e2931b156535b7957cfa7df41",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +55,59 @@              .join(pipeToServer)\n          )\n          .toMat(Sink.seq)(Keep.both)\n          .run()\n"
  },
  {
    "id" : "057a0b41-ff45-455e-b42f-a93a05d45333",
    "prId" : 1414,
    "prUrl" : "https://github.com/akka/alpakka/pull/1414#pullrequestreview-191961817",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6c71db51-139b-4f61-a65c-370cb84fa7f7",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "This is the test that confirms the PR fix.",
        "createdAt" : "2019-01-13T06:21:10Z",
        "updatedAt" : "2019-01-14T06:41:27Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa4ba4c275adbbf65910355a0c36ab7398019986",
    "line" : 153,
    "diffHunk" : "@@ -1,1 +1351,1355 @@    }\n\n    \"produce a duplicate publish on the server given two client connections\" in {\n      val serverSession = ActorMqttServerSession(settings.withReceivePubAckRecTimeout(10.millis))\n"
  },
  {
    "id" : "3a570a80-9875-461f-9d88-481947971746",
    "prId" : 1414,
    "prUrl" : "https://github.com/akka/alpakka/pull/1414#pullrequestreview-191962511",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f8030e5c-a656-4ca3-995e-e47a19aed8c2",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "Additional test - nothing directly to do with the problem being solved by the PR",
        "createdAt" : "2019-01-13T06:54:57Z",
        "updatedAt" : "2019-01-14T06:41:27Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa4ba4c275adbbf65910355a0c36ab7398019986",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +168,172 @@    }\n\n    \"Subscribe and stash any subsequent subscriptions\" in {\n      val session = ActorMqttClientSession(settings)\n"
  },
  {
    "id" : "8b8ce936-2302-48c0-9c12-109ff3f8559b",
    "prId" : 1414,
    "prUrl" : "https://github.com/akka/alpakka/pull/1414#pullrequestreview-191962516",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e1c440c1-8faa-426f-b664-80a5a83cf042",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "Additional test - nothing directly to do with the problem being solved by the PR",
        "createdAt" : "2019-01-13T06:55:05Z",
        "updatedAt" : "2019-01-14T06:41:27Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa4ba4c275adbbf65910355a0c36ab7398019986",
    "line" : 64,
    "diffHunk" : "@@ -1,1 +945,949 @@    }\n\n    \"receive two subscriptions for the same topic\" in {\n      val session = ActorMqttServerSession(settings)\n"
  },
  {
    "id" : "2635709a-7882-4456-8ac5-5e584c05e466",
    "prId" : 1414,
    "prUrl" : "https://github.com/akka/alpakka/pull/1414#pullrequestreview-191962520",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a4a4ba6a-16f5-4ed5-aed5-efd34b65a52e",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "Clarification of this test",
        "createdAt" : "2019-01-13T06:55:24Z",
        "updatedAt" : "2019-01-14T06:41:27Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa4ba4c275adbbf65910355a0c36ab7398019986",
    "line" : 144,
    "diffHunk" : "@@ -1,1 +1282,1286 @@    reconnectTest(explicitDisconnect = false)\n\n    \"consume a duplicate publish on the server\" in {\n      val session = ActorMqttServerSession(settings)\n"
  },
  {
    "id" : "4d03c73c-ac83-470c-8f04-f977f4dcb901",
    "prId" : 1394,
    "prUrl" : "https://github.com/akka/alpakka/pull/1394#pullrequestreview-187288043",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "79f2f526-5b28-4ed8-aa88-a5dff197e3c4",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "Prior to the kill switch change, the stream would not complete and this new assertion would fail. The kill switch ensures that the stream completes.",
        "createdAt" : "2018-12-21T06:54:39Z",
        "updatedAt" : "2018-12-21T06:54:40Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "787a0152f85263b04b2c0fb8f595dd6cf5cdff73",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +202,206 @@      server.expectMsg(disconnectBytes)\n\n      result.futureValue shouldBe Done\n    }\n"
  },
  {
    "id" : "5c88f9df-9d15-49f3-84d6-d27ad25ef8b4",
    "prId" : 1387,
    "prUrl" : "https://github.com/akka/alpakka/pull/1387#pullrequestreview-186458995",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "659de44a-37a0-4a93-8dac-f25fbb899771",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "This and the next test are changed so that we don't complete the stream prematurely. Now that we process the connection being lost this and the next test would fail without these changes (and rightly so).",
        "createdAt" : "2018-12-19T09:43:58Z",
        "updatedAt" : "2018-12-20T12:15:55Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "c45c4a8b09a62da364968a2e629a743241925c8f",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +106,110 @@      val (client, result) =\n        Source\n          .queue[Command[String]](1, OverflowStrategy.fail)\n          .via(\n            Mqtt"
  },
  {
    "id" : "3e0300df-3d99-43b6-a2bf-0dd72ada0048",
    "prId" : 1387,
    "prUrl" : "https://github.com/akka/alpakka/pull/1387#pullrequestreview-186459351",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9c0159e1-4964-4018-9938-660680e63d7c",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "We no longer require a result and thus the `head`.",
        "createdAt" : "2018-12-19T09:44:42Z",
        "updatedAt" : "2018-12-20T12:15:55Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "c45c4a8b09a62da364968a2e629a743241925c8f",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +1063,1067 @@              publishReceived.success(Done)\n          })\n          .toMat(Sink.ignore)(Keep.left)\n          .run()\n"
  },
  {
    "id" : "a04b520d-83aa-479b-9b61-c92f8e7d888d",
    "prId" : 1387,
    "prUrl" : "https://github.com/akka/alpakka/pull/1387#pullrequestreview-186974356",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "df3c11cb-ee5d-4387-89ed-978f1227a9ce",
        "parentId" : null,
        "authorId" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "body" : "This test principally represents what the PR is about.",
        "createdAt" : "2018-12-20T12:31:16Z",
        "updatedAt" : "2018-12-20T12:31:16Z",
        "lastEditedBy" : "c82885b6-397c-46ac-bd34-8b847b9fcd87",
        "tags" : [
        ]
      }
    ],
    "commit" : "c45c4a8b09a62da364968a2e629a743241925c8f",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +203,207 @@    }\n\n    \"disconnect when connection lost\" in {\n      val session = ActorMqttClientSession(settings)\n"
  }
]