[
  {
    "id" : "7f76c965-2398-49bb-92f5-0df9b9699793",
    "prId" : 2234,
    "prUrl" : "https://github.com/scala-native/scala-native/pull/2234#pullrequestreview-645290579",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1d6b2bbe-b043-4b64-811d-be2eb6f2c0ba",
        "parentId" : null,
        "authorId" : "19a5939c-9a4f-4d42-a7b3-56f0d7513d13",
        "body" : "Since `findNativePaths` is used only here, maybe we can move this to `Filter` as a private method? ",
        "createdAt" : "2021-04-20T12:59:52Z",
        "updatedAt" : "2021-04-29T02:26:46Z",
        "lastEditedBy" : "19a5939c-9a4f-4d42-a7b3-56f0d7513d13",
        "tags" : [
        ]
      },
      {
        "id" : "0772d8aa-b82e-4390-a0a7-8f64f159cb87",
        "parentId" : "1d6b2bbe-b043-4b64-811d-be2eb6f2c0ba",
        "authorId" : "7993fb77-2703-437b-8884-a8af6767e218",
        "body" : "This will move all the filtering code to Filter which I think makes sense.",
        "createdAt" : "2021-04-21T17:23:01Z",
        "updatedAt" : "2021-04-29T02:26:46Z",
        "lastEditedBy" : "7993fb77-2703-437b-8884-a8af6767e218",
        "tags" : [
        ]
      },
      {
        "id" : "f6167387-da2a-4a07-99cd-5e70fa81218a",
        "parentId" : "1d6b2bbe-b043-4b64-811d-be2eb6f2c0ba",
        "authorId" : "7993fb77-2703-437b-8884-a8af6767e218",
        "body" : "This is still an open question. I need to do some dependency analysis but if we move filtering code to `Filter`, all the filtering code except the jar stuff would move to filter.",
        "createdAt" : "2021-04-27T02:27:18Z",
        "updatedAt" : "2021-04-29T02:26:46Z",
        "lastEditedBy" : "7993fb77-2703-437b-8884-a8af6767e218",
        "tags" : [
        ]
      }
    ],
    "commit" : "2e294b920d4f7af1ab73dbbaff51400a55f3e7e9",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +72,76 @@          .map { NativeLib.unpackNativeCode }\n          .map { destPath =>\n            val paths = NativeLib.findNativePaths(workdir, destPath)\n            val (projPaths, projConfig) =\n              Filter.filterNativelib(fconfig, linked, destPath, paths)"
  },
  {
    "id" : "b3f6ae28-dcb4-43c7-a71e-3e0279296149",
    "prId" : 2154,
    "prUrl" : "https://github.com/scala-native/scala-native/pull/2154#pullrequestreview-703306873",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3791bbcc-b068-4a5e-8056-7ed4b7a97738",
        "parentId" : null,
        "authorId" : "7993fb77-2703-437b-8884-a8af6767e218",
        "body" : "I am not super excited about this because we are changing the build for such a specific purpose unless there are other specific use cases in mind.\r\n\r\nRefactoring out the \"findAndCompileNativeSources\" is good but perhaps instead of using `fold` for the special case you could have `match` / `case` with `None` being first as the normal case and then hiding the body of the `fold` in another method.\r\n\r\nI think this would be more readable and show intent better. Also, I think that the `// compile generated ll` should go first in that block before the \"findAndCompileNativeSources\". It logically follows closer to the code just above.\r\n\r\nWDYT?",
        "createdAt" : "2021-06-18T18:28:08Z",
        "updatedAt" : "2021-06-18T18:28:08Z",
        "lastEditedBy" : "7993fb77-2703-437b-8884-a8af6767e218",
        "tags" : [
        ]
      },
      {
        "id" : "494170a2-a4f3-4507-a708-411b02fd8112",
        "parentId" : "3791bbcc-b068-4a5e-8056-7ed4b7a97738",
        "authorId" : "19a5939c-9a4f-4d42-a7b3-56f0d7513d13",
        "body" : "You're right, I've replaced it with a proper match.\r\n I think this change might be useful for us in other aspects, eg. we can try to add some elements of incremental compilation to our build, for now, it can be just native sources, not much, but it still might save a few seconds. ",
        "createdAt" : "2021-07-09T18:39:16Z",
        "updatedAt" : "2021-07-09T18:39:16Z",
        "lastEditedBy" : "19a5939c-9a4f-4d42-a7b3-56f0d7513d13",
        "tags" : [
        ]
      }
    ],
    "commit" : "f5ac124e78610dfb4e4c24a1e25f6b6c7af9a863",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +53,57 @@   */\n  def build(config: Config, outpath: Path)(implicit scope: Scope): Path =\n    config.logger.time(\"Total\") {\n      val fclasspath = NativeLib.filterClasspath(config.classPath)\n      val fconfig = config.withClassPath(fclasspath)"
  }
]