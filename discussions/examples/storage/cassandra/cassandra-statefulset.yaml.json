[
  {
    "id" : "2a2df37c-1afe-495c-95f2-0c681c05e677",
    "prId" : 39199,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/39199#pullrequestreview-52295650",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27755ed1-e461-47f5-b9ce-fa0f91b3720c",
        "parentId" : null,
        "authorId" : "a3510663-0951-4c28-b03a-87a72e2e394f",
        "body" : "This has been merged ages ago but isn't it better to call nodetool drain? It should stop accepting new data and flush on disk.\r\n\r\ncc @chrislovecnm @jondubois",
        "createdAt" : "2017-07-26T08:09:21Z",
        "updatedAt" : "2017-07-26T08:09:21Z",
        "lastEditedBy" : "a3510663-0951-4c28-b03a-87a72e2e394f",
        "tags" : [
        ]
      },
      {
        "id" : "f05d8572-31f6-425b-916f-6f8fd21d857a",
        "parentId" : "27755ed1-e461-47f5-b9ce-fa0f91b3720c",
        "authorId" : "2b3a3bfa-1182-4aa2-8ad5-692e715c5a7a",
        "body" : "Good idea, nodetool drain is better to ensure all data have been flushed",
        "createdAt" : "2017-07-26T08:40:53Z",
        "updatedAt" : "2017-07-26T08:40:53Z",
        "lastEditedBy" : "2b3a3bfa-1182-4aa2-8ad5-692e715c5a7a",
        "tags" : [
        ]
      },
      {
        "id" : "8b17d67d-bd49-4e37-94d5-b4e91f5a5c7d",
        "parentId" : "27755ed1-e461-47f5-b9ce-fa0f91b3720c",
        "authorId" : "a3510663-0951-4c28-b03a-87a72e2e394f",
        "body" : "I have opened https://github.com/kubernetes/kubernetes/pull/49618 to fix this\r\n",
        "createdAt" : "2017-07-26T08:55:17Z",
        "updatedAt" : "2017-07-26T08:55:17Z",
        "lastEditedBy" : "a3510663-0951-4c28-b03a-87a72e2e394f",
        "tags" : [
        ]
      }
    ],
    "commit" : "c165e9084ff0710ec54095d69c86eb3594f2f0f9",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +38,42 @@          preStop:\n            exec:\n              command: [\"/bin/sh\", \"-c\", \"PID=$(pidof java) && kill $PID && while ps -p $PID > /dev/null; do sleep 1; done\"]\n        env:\n          - name: MAX_HEAP_SIZE"
  }
]