[
  {
    "id" : "dccd0292-ad32-4dfc-a2b9-fa89bb3fc73a",
    "prId" : 13169,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8890a4c-3f59-405b-9e83-94d5b47ff839",
        "parentId" : null,
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "please explain what this tbz is somewhere\n",
        "createdAt" : "2015-08-26T01:34:53Z",
        "updatedAt" : "2015-09-25T21:50:51Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      },
      {
        "id" : "6f390f29-c7d6-4913-bf9f-2ee761c2fa54",
        "parentId" : "c8890a4c-3f59-405b-9e83-94d5b47ff839",
        "authorId" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "body" : "FYI: It's a snapshot of a mysql data dir similar to what you'd get from a regular mysql data dir bootstrap, but with some preconfigured users for Vitess. This is because Vitess is designed to assume responsibility for access control, and then all connections to actual mysqld are the same user, which allows for connection pooling.\n\nI'll try to find a good place to add this as a comment.\n",
        "createdAt" : "2015-08-26T02:10:53Z",
        "updatedAt" : "2015-09-25T21:50:51Z",
        "lastEditedBy" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "tags" : [
        ]
      }
    ],
    "commit" : "cc45d293e215b9c7c528f7dcde86c2eef59a732e",
    "line" : 108,
    "diffHunk" : "@@ -1,1 +106,110 @@          -db-config-filtered-dbname vt_{{keyspace}}\n          -db-config-filtered-charset utf8\n          -bootstrap_archive mysql-db-dir_10.0.13-MariaDB.tbz\" vitess\n        # The bootstrap archive above contains an empty mysql data dir\n        # with user permissions set up as required by Vitess. The archive is"
  },
  {
    "id" : "d262ce4c-781f-4fac-aa78-2c523090f43e",
    "prId" : 13169,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "807be95b-4861-41e0-bec8-9d6fe699cf93",
        "parentId" : null,
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "for my own education, when this pod gets whacked and restarted and admin would have to run CopySchemaShard? if so, please document this somewhere as it is one of the first things that trips people when managing data via hostpath. \n",
        "createdAt" : "2015-08-26T01:38:23Z",
        "updatedAt" : "2015-09-25T21:50:51Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      },
      {
        "id" : "dd948bc2-b748-480c-926d-9f004a0532b5",
        "parentId" : "807be95b-4861-41e0-bec8-9d6fe699cf93",
        "authorId" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "body" : "If a pod gets restarted with an empty hostpath, it's supposed to restore from the latest backup. We have a backup/restore system that works on network mounts, but our Kubernetes example doesn't have that configured right now. We plan to add it soon, probably by dealing directly with GCS/S3, since we don't see a good way to dynamically request access to a particular network mount from inside a pod (I believe it would have to already be mounted into every node?).\n",
        "createdAt" : "2015-08-26T02:06:31Z",
        "updatedAt" : "2015-09-25T21:50:51Z",
        "lastEditedBy" : "97dce74b-9a86-4bd2-812f-a7a70df47473",
        "tags" : [
        ]
      },
      {
        "id" : "05f630b8-f8dc-4caf-99e7-8d1ed880e540",
        "parentId" : "807be95b-4861-41e0-bec8-9d6fe699cf93",
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "Hmm, so basically this won't do what it says on the tin (transparently replicate/shard mysql data) because of limitations in the kubernetes api, which is ok, as long as it's surfaced somewhere. Just adding a limitations section, or a wishlist at the end/in your docs is fine too. \n\nThe kubernetes api is very much a wip, @saad-ali might be able to comment\n",
        "createdAt" : "2015-08-26T17:05:47Z",
        "updatedAt" : "2015-09-25T21:50:51Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      }
    ],
    "commit" : "cc45d293e215b9c7c528f7dcde86c2eef59a732e",
    "line" : 118,
    "diffHunk" : "@@ -1,1 +116,120 @@    - name: syslog\n      hostPath: {path: /dev/log}\n    - name: vtdataroot\n      emptyDir: {}\n"
  }
]