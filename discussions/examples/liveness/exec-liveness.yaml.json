[
  {
    "id" : "c74dd7b0-74d5-46fd-878d-cd9466d427e6",
    "prId" : 8200,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0cea506b-19af-4198-a1d6-dd459d49f2b2",
        "parentId" : null,
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "Just to clarify, the initialDelaySeconds is 15, meaning kubelet would only start probing the container after 15 seconds. By that time, the file `/tmp/health` should have been removed, so the probing _always_ fails. In other words, it doesn't matter whether we create the file or not.\n",
        "createdAt" : "2015-05-14T18:37:28Z",
        "updatedAt" : "2015-05-14T23:41:49Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "8bbcd2cf-c24e-4db5-9035-5baf4a5c6137",
        "parentId" : "0cea506b-19af-4198-a1d6-dd459d49f2b2",
        "authorId" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "body" : "Thats a good point.\nDo we want to create the file then?\nOr we could decrease the initialDelaySeconds or increase the sleep time to be more then initialDelaySeconds\n",
        "createdAt" : "2015-05-15T17:38:23Z",
        "updatedAt" : "2015-05-15T17:38:23Z",
        "lastEditedBy" : "f2369046-26b1-4b8c-a8cd-5671ab22066c",
        "tags" : [
        ]
      },
      {
        "id" : "ab7b3f53-307a-4adb-bb75-78e84571464a",
        "parentId" : "0cea506b-19af-4198-a1d6-dd459d49f2b2",
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "This line helps the reader to realize that `/tmp/health` does not exist, so let's keep it as it is.\n\nI think it's fine to let the health check always fail as it is now. In README we explain that the timing makes the health check always fail.\n",
        "createdAt" : "2015-05-15T18:09:22Z",
        "updatedAt" : "2015-05-15T18:09:22Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "2dcecf1f6574a178e343d09a595841faf79f26fc",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +10,14 @@    - /bin/sh\n    - -c\n    - echo ok > /tmp/health; sleep 10; rm -rf /tmp/health; sleep 600\n    image: gcr.io/google_containers/busybox\n    livenessProbe:"
  }
]