[
  {
    "id" : "1fd7c29f-a4ed-4bcf-a9e0-a23201b6b4ac",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "07c715f4-8179-4514-a3a8-47ee00548fd6",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "I'd use a guard instead.",
        "createdAt" : "2018-09-19T19:09:51Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +19,23 @@    batteryChannel.setMethodCallHandler({\n      (call: FlutterMethodCall, result: FlutterResult) -> Void in\n      if \"getBatteryLevel\" == call.method {\n        self.receiveBatteryLevel(result: result)\n      } else {"
  },
  {
    "id" : "0087e944-4ee3-499f-aec5-5316a490ba19",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2431fa6d-d014-43ca-b6f0-9e9fb4088421",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "Another good candidate for guard.",
        "createdAt" : "2018-09-19T19:10:34Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 50,
    "diffHunk" : "@@ -1,1 +35,39 @@    let device = UIDevice.current\n    device.isBatteryMonitoringEnabled = true\n    if device.batteryState == UIDeviceBatteryState.unknown {\n      result(FlutterError(code: \"UNAVAILABLE\",\n                          message: \"Battery info unavailable\","
  },
  {
    "id" : "d75d2ae4-0bb9-4a40-ad1a-cc894aad7b96",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8dcf8718-97b1-4360-aa1e-c66970130534",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "You can drop the `UIDeviceBatteryState`s from the cases. And I'd just put `UIDevice.current.batteryState` as the switch's value instead of a local variable. You don't use it again.",
        "createdAt" : "2018-09-19T19:13:25Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 92,
    "diffHunk" : "@@ -1,1 +68,72 @@    let state = UIDevice.current.batteryState\n    switch state {\n    case UIDeviceBatteryState.full:\n      eventSink!(\"charging\")\n    case UIDeviceBatteryState.charging:"
  },
  {
    "id" : "4b7292d0-0b83-4ce8-863c-3b98d8d30e75",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b28d49cc-07b0-482f-8b21-347282a4597b",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "You can drop `UIDeviceBatteryState`",
        "createdAt" : "2018-09-19T19:14:28Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 50,
    "diffHunk" : "@@ -1,1 +35,39 @@    let device = UIDevice.current\n    device.isBatteryMonitoringEnabled = true\n    if device.batteryState == UIDeviceBatteryState.unknown {\n      result(FlutterError(code: \"UNAVAILABLE\",\n                          message: \"Battery info unavailable\","
  },
  {
    "id" : "62d4f66d-0a92-455a-8bc1-81a3d7ab961c",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fe8a6df4-8c5a-4eae-af4a-56c666f70018",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "More candidates for the const enum.",
        "createdAt" : "2018-09-19T19:18:57Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +36,40 @@    device.isBatteryMonitoringEnabled = true\n    if device.batteryState == UIDeviceBatteryState.unknown {\n      result(FlutterError(code: \"UNAVAILABLE\",\n                          message: \"Battery info unavailable\",\n                          details: nil))"
  },
  {
    "id" : "22a74365-5ecb-471e-bae3-1f4b700d2863",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2df12ccf-54a1-4e5a-8de0-bd3372bc08f3",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "Use guard instead.",
        "createdAt" : "2018-09-19T19:19:17Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 85,
    "diffHunk" : "@@ -1,1 +62,66 @@\n  private func sendBatteryStateEvent() {\n    if eventSink == nil {\n      return\n    }"
  },
  {
    "id" : "a0403abd-0660-4df0-bda8-6100db04851a",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a36eebac-962b-433c-af87-ed874f707af2",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "Some would say it's better to give the eventSink parameter a different argument label so it can be differentiated from the property with the same name. Then you could drop `self` too.",
        "createdAt" : "2018-09-19T19:21:48Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +46,50 @@  public func onListen(withArguments arguments: Any?,\n                       eventSink: @escaping FlutterEventSink) -> FlutterError? {\n    self.eventSink = eventSink\n    UIDevice.current.isBatteryMonitoringEnabled = true\n    sendBatteryStateEvent()"
  },
  {
    "id" : "91805aca-8ee0-4428-8b80-536802f486dd",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "068b9459-6100-424e-8ae9-951b2f6f0a92",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "Don't use an implicitly unwrapped `eventSink`. You can have a guard let above to make sure it's there.",
        "createdAt" : "2018-09-19T19:22:59Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 99,
    "diffHunk" : "@@ -1,1 +71,75 @@      eventSink!(\"charging\")\n    case UIDeviceBatteryState.charging:\n      eventSink!(\"charging\")\n    case UIDeviceBatteryState.unplugged:\n      eventSink!(\"discharging\")"
  },
  {
    "id" : "e3b37b60-55e8-4521-b535-044d841c9332",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2fff528e-d73e-4e9b-a034-d20025d73b9e",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "Const enum candidate",
        "createdAt" : "2018-09-19T19:23:22Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +26,30 @@    })\n\n    let chargingChannel = FlutterEventChannel(name: \"samples.flutter.io/charging\",\n                                              binaryMessenger: controller)\n    chargingChannel.setStreamHandler(self)"
  },
  {
    "id" : "c3c78417-9b4d-4556-8055-efa333d77f3b",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "23773f65-85fb-43d9-956c-af27a844d335",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "Would be better to avoid the `as!` by having an if let or guard let.",
        "createdAt" : "2018-09-19T19:24:28Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +14,18 @@    didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {\n    GeneratedPluginRegistrant.register(with: self)\n    let controller: FlutterViewController = window?.rootViewController as! FlutterViewController\n    let batteryChannel = FlutterMethodChannel(name: \"samples.flutter.io/battery\",\n                                              binaryMessenger: controller)"
  },
  {
    "id" : "dad051a8-1f65-466f-9cde-9407b55503bb",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3606fd0c-7f2f-4ca4-aeec-ef489a68e768",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "Const enum candidate.",
        "createdAt" : "2018-09-19T19:24:46Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 95,
    "diffHunk" : "@@ -1,1 +69,73 @@    switch state {\n    case UIDeviceBatteryState.full:\n      eventSink!(\"charging\")\n    case UIDeviceBatteryState.charging:\n      eventSink!(\"charging\")"
  },
  {
    "id" : "994fd131-a496-42f9-a9f0-a0425e2ab697",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a129467c-7e0e-4fe9-bb40-5864dcaf14ea",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "Create a private enum for these strings and call that (like a const.)",
        "createdAt" : "2018-09-19T19:24:52Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +15,19 @@    GeneratedPluginRegistrant.register(with: self)\n    let controller: FlutterViewController = window?.rootViewController as! FlutterViewController\n    let batteryChannel = FlutterMethodChannel(name: \"samples.flutter.io/battery\",\n                                              binaryMessenger: controller)\n    batteryChannel.setMethodCallHandler({"
  },
  {
    "id" : "dbb116a0-ad73-4d0b-9c95-976885023b30",
    "prId" : 21712,
    "prUrl" : "https://github.com/flutter/flutter/pull/21712#pullrequestreview-156978031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d9fdf21e-a59b-4394-84f3-5b10f350e284",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "Const enum candidate.",
        "createdAt" : "2018-09-19T19:25:22Z",
        "updatedAt" : "2018-09-19T22:16:05Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c1ed94b7991ad17e9d3f1d3bfa15ce9cbcb5ad",
    "line" : 109,
    "diffHunk" : "@@ -1,1 +75,79 @@      eventSink!(\"discharging\")\n    default:\n      eventSink!(FlutterError(code: \"UNAVAILABLE\",\n                              message: \"Charging status unavailable\",\n                              details: nil))"
  },
  {
    "id" : "1c94d023-8bbf-4155-a68c-c909daee4b22",
    "prId" : 22318,
    "prUrl" : "https://github.com/flutter/flutter/pull/22318#pullrequestreview-159261811",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c4a7a9a6-7e96-44cb-819c-76d1c3d6b425",
        "parentId" : null,
        "authorId" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "body" : "This looks so good this way!",
        "createdAt" : "2018-09-27T02:13:14Z",
        "updatedAt" : "2018-09-27T19:39:10Z",
        "lastEditedBy" : "209f805a-621a-40dd-b493-fb897c4b0bcb",
        "tags" : [
        ]
      }
    ],
    "commit" : "cdfa3d0061e77fff6e6b5921865bd6c2c2f33ea3",
    "line" : 80,
    "diffHunk" : "@@ -1,1 +77,81 @@  }\n\n  private func sendBatteryStateEvent() {\n    guard let eventSink = eventSink else {\n      return"
  }
]