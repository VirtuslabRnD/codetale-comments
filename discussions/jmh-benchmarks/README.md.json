[
  {
    "id" : "39c77166-cd25-493b-9de1-4406cfb1f5e6",
    "prId" : 9129,
    "prUrl" : "https://github.com/apache/kafka/pull/9129#pullrequestreview-477010025",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fefa18d8-5945-4b35-8fb7-d22039b8a8b3",
        "parentId" : null,
        "authorId" : "6c4430fc-3795-49d6-9c36-cf6aa694824e",
        "body" : "Suggested addition:\r\n\r\n### Using JMH GC profiler\r\n\r\nIt's good practice to run your benchmark with -prof gc to measure the allocation rate for your code:\r\n\r\n      ./jmh-benchmarks/jmh.sh -prof gc\r\n\r\nOf particular importance is the \"norm\" alloc rates, which measure the allocations per operation rather than allocations per second which can increase when you have made your code faster.",
        "createdAt" : "2020-08-27T19:08:30Z",
        "updatedAt" : "2020-12-11T01:53:24Z",
        "lastEditedBy" : "6c4430fc-3795-49d6-9c36-cf6aa694824e",
        "tags" : [
        ]
      },
      {
        "id" : "36c4ebd5-0d61-4d36-8269-0fb84f326120",
        "parentId" : "fefa18d8-5945-4b35-8fb7-d22039b8a8b3",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Will add.",
        "createdAt" : "2020-08-27T19:16:26Z",
        "updatedAt" : "2020-12-11T01:53:24Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f5cd4d92a82f350454360fd22ad3b1d5858826f",
    "line" : 52,
    "diffHunk" : "@@ -1,1 +49,53 @@\n    ./jmh-benchmarks/jmh.sh -prof async:help\n\n### Using JMH GC profiler\n"
  },
  {
    "id" : "2bbed8be-8b7d-435a-bb85-fb473ee7e718",
    "prId" : 9129,
    "prUrl" : "https://github.com/apache/kafka/pull/9129#pullrequestreview-549746784",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9db96614-d29d-493a-9a3b-9e907544f133",
        "parentId" : null,
        "authorId" : "6c4430fc-3795-49d6-9c36-cf6aa694824e",
        "body" : "Could we include a short section here about what should be put into a PR that has been benchmarked?\r\n\r\nI'm thinking:\r\n1. Benchmark comparisons for the code before and after the change.\r\n1. `-prof gc` results.\r\n2. An example async profile from at least one run.",
        "createdAt" : "2020-12-10T17:32:58Z",
        "updatedAt" : "2020-12-11T01:53:24Z",
        "lastEditedBy" : "6c4430fc-3795-49d6-9c36-cf6aa694824e",
        "tags" : [
        ]
      },
      {
        "id" : "0b6984da-6d58-48a0-95e4-aaa02a444bb2",
        "parentId" : "9db96614-d29d-493a-9a3b-9e907544f133",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Good idea. We should also link from the contributor docs.",
        "createdAt" : "2020-12-10T17:48:09Z",
        "updatedAt" : "2020-12-11T01:53:24Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "fdc7b94e-43df-4249-bbee-3d2226c92ef5",
        "parentId" : "9db96614-d29d-493a-9a3b-9e907544f133",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "I will do this in a separate PR since it's a bit unrelated to the original goal of this PR and it may take a few iterations to get right.",
        "createdAt" : "2020-12-11T01:53:54Z",
        "updatedAt" : "2020-12-11T01:53:55Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f5cd4d92a82f350454360fd22ad3b1d5858826f",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +65,69 @@    java -jar <kafka-repo-dir>/jmh-benchmarks/build/libs/kafka-jmh-benchmarks-all.jar -f2 LRUCacheBenchmark\n\n### Writing benchmarks\n\nFor help in writing correct JMH tests, the best place to start is the [sample code](https://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/) provided"
  }
]