[
  {
    "id" : "5f498f66-f355-463d-a1e5-7d1a6a735939",
    "prId" : 9901,
    "prUrl" : "https://github.com/apache/kafka/pull/9901#pullrequestreview-580985650",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99a4c000-1dbf-404f-b670-1597d43dbdef",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Not sure what the intention of of the logic here. It seems that we skip the snapshotting for slightly less than 10% of the time?",
        "createdAt" : "2021-02-02T01:27:15Z",
        "updatedAt" : "2021-02-02T05:06:53Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "6bb778a8-dd6c-4e1a-b014-b41f1c3212b0",
        "parentId" : "99a4c000-1dbf-404f-b670-1597d43dbdef",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "the intention is to have each snapshot have around 10-13 entries on average",
        "createdAt" : "2021-02-02T01:42:18Z",
        "updatedAt" : "2021-02-02T05:06:53Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      },
      {
        "id" : "bec1a581-4e71-496f-8aff-34d407e83c1e",
        "parentId" : "99a4c000-1dbf-404f-b670-1597d43dbdef",
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Hmm, does the code achieve this? It seem that at least 2/3 of the iterations will trigger the creation of a new snapshot?",
        "createdAt" : "2021-02-02T02:52:41Z",
        "updatedAt" : "2021-02-02T05:06:53Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "fcd165c1-801d-4093-a76a-79446f0f0f96",
        "parentId" : "99a4c000-1dbf-404f-b670-1597d43dbdef",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "oh, sorry, I put the snapshot creation / deleting in the wrong branch of the \"if\"",
        "createdAt" : "2021-02-02T04:58:12Z",
        "updatedAt" : "2021-02-02T05:06:53Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "42a34b3b008bc3b65b17d79c8e2c4dd4de9b4f95",
    "line" : 78,
    "diffHunk" : "@@ -1,1 +76,80 @@        for (int i = 0; i < NUM_ENTRIES; i++) {\n            int key = (int) (0xffffffff & ((i * 2862933555777941757L) + 3037000493L));\n            if (j > 10 && key % 3 == 0) {\n                snapshotRegistry.deleteSnapshotsUpTo(epoch - 1000);\n                snapshotRegistry.createSnapshot(epoch);"
  }
]