[
  {
    "id" : "07516e89-fe45-4f62-9380-9f0f7c329ca3",
    "prId" : 66371,
    "prUrl" : "https://github.com/ansible/ansible/pull/66371#pullrequestreview-343460999",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bcc578b7-5d8a-4b83-8ac4-dbf31e9a222d",
        "parentId" : null,
        "authorId" : "659587dc-b401-4c91-aa40-a8a932100545",
        "body" : "codeblock nag",
        "createdAt" : "2020-01-15T19:41:12Z",
        "updatedAt" : "2020-01-21T17:23:33Z",
        "lastEditedBy" : "659587dc-b401-4c91-aa40-a8a932100545",
        "tags" : [
        ]
      }
    ],
    "commit" : "108ce8d92daae2d26b45440dfef7496024a40bce",
    "line" : 393,
    "diffHunk" : "@@ -1,1 +299,303 @@\n.. code-block:: yaml\n\n    # roles/myapp/meta/main.yml\n    ---"
  },
  {
    "id" : "0a1bbf9c-5baf-459f-a4fa-4416b4b2f4c0",
    "prId" : 66371,
    "prUrl" : "https://github.com/ansible/ansible/pull/66371#pullrequestreview-343460999",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "661db0f7-17dd-40cc-a597-9e7e5b3a6435",
        "parentId" : null,
        "authorId" : "659587dc-b401-4c91-aa40-a8a932100545",
        "body" : "```suggestion\r\nThe client :ref:`ansible-galaxy` is included in Ansible. The Galaxy client allows you to download roles from Ansible Galaxy, and also provides an excellent default framework for creating your own roles.\r\n```",
        "createdAt" : "2020-01-15T19:53:19Z",
        "updatedAt" : "2020-01-21T17:23:33Z",
        "lastEditedBy" : "659587dc-b401-4c91-aa40-a8a932100545",
        "tags" : [
        ]
      }
    ],
    "commit" : "108ce8d92daae2d26b45440dfef7496024a40bce",
    "line" : 539,
    "diffHunk" : "@@ -1,1 +423,427 @@`Ansible Galaxy <https://galaxy.ansible.com>`_ is a free site for finding, downloading, rating, and reviewing all kinds of community-developed Ansible roles and can be a great way to get a jumpstart on your automation projects.\n\nThe client ``ansible-galaxy`` is included in Ansible. The Galaxy client allows you to download roles from Ansible Galaxy, and also provides an excellent default framework for creating your own roles.\n\nRead the `Ansible Galaxy documentation <https://galaxy.ansible.com/docs/>`_ page for more information"
  },
  {
    "id" : "3e11754a-1fc0-44df-865f-8c6611cc774d",
    "prId" : 68183,
    "prUrl" : "https://github.com/ansible/ansible/pull/68183#pullrequestreview-382531796",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aed1e693-4675-49cd-9b48-dcdc32f9efbd",
        "parentId" : null,
        "authorId" : "659587dc-b401-4c91-aa40-a8a932100545",
        "body" : "```suggestion\r\nAnsible treats duplicate role dependencies like duplicate roles listed under ``roles:``: Ansible only executes role dependencies once, even if defined multiple times, unless the parameters (including tags or when clause) defined on the role are different for each definition. If two roles in a playbook both list a third role as a dependency, Ansible only runs that role dependency once, unless you pass different parameters or use ``allow_duplicates: true`` in the dependent (third) role. See :ref:`Galaxy role dependencies <galaxy_dependencies>` for more details.\r\n```",
        "createdAt" : "2020-03-26T20:51:21Z",
        "updatedAt" : "2020-03-26T20:52:42Z",
        "lastEditedBy" : "659587dc-b401-4c91-aa40-a8a932100545",
        "tags" : [
        ]
      },
      {
        "id" : "d0e851cb-9950-4b9e-9985-b6313faa098f",
        "parentId" : "aed1e693-4675-49cd-9b48-dcdc32f9efbd",
        "authorId" : "845d7ece-f7ad-4537-b3ee-84f6cef9d9d2",
        "body" : "> unless the parameters (including tags or when clause)\r\n\r\nIMO, that conflates parameters with tags and when clause.\r\n\r\nSadly, it's not well defined in the Ansible docs, but the word \"parameters\" is always used to describe the `vars` passed into a role (see the [Roles docs](https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse_roles.html)). And the way the word \"parameters\" is used in most programming languages more closely matches how the `vars` works than the tags or when clause.\r\n\r\nThen again, I okay with the wording either way. It's more important for the docs to clarify that vars, tags and when are considered in de-duplication than being strict about whether tags/when are parameters or not. I'm just pedantic enough to raise the distinction :-)",
        "createdAt" : "2020-03-27T01:46:45Z",
        "updatedAt" : "2020-03-27T01:46:45Z",
        "lastEditedBy" : "845d7ece-f7ad-4537-b3ee-84f6cef9d9d2",
        "tags" : [
        ]
      }
    ],
    "commit" : "31caa209e3835e66edac77b161284205e773c075",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +323,327 @@----------------------------------------\n\nAnsible treats duplicate role dependencies like duplicate roles listed under ``roles:``: Ansible only executes role dependencies once, even if defined multiple times, unless the parameters, tags, or when clause defined on the role are different for each definition. If two roles in a playbook both list a third role as a dependency, Ansible only runs that role dependency once, unless you pass different parameters, tags, when clause, or use ``allow_duplicates: true`` in the dependent (third) role. See :ref:`Galaxy role dependencies <galaxy_dependencies>` for more details.\n\nFor example, a role named ``car`` depends on a role named ``wheel`` as follows:"
  },
  {
    "id" : "310242e8-c72f-4dff-95bf-56bd6fc3ab0a",
    "prId" : 73152,
    "prUrl" : "https://github.com/ansible/ansible/pull/73152#pullrequestreview-589815078",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "181bf4e6-3e11-4ccb-b298-cf5ac07c5830",
        "parentId" : null,
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "One thing I have noticed is that default values get set properly for the purpose of validation, but they don't make their way back to the role. This can be fixed later.",
        "createdAt" : "2021-02-12T19:58:47Z",
        "updatedAt" : "2021-02-12T20:29:40Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "5d2631bc-d2f8-48fb-a9e1-200aa20a5c53",
        "parentId" : "181bf4e6-3e11-4ccb-b298-cf5ac07c5830",
        "authorId" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "body" : "I think I got myself confused on what we discussed about this. I had to go back and refresh my memory.\r\n\r\nLong term, it'd be nice to have the default value come from the argument spec, but we are not going to change that now. Default role values still come from `defaults/main.yml` within the role.\r\n\r\nWe should just add a note that this field is for documentation only (`ansible-doc -t role [myrole]`) and doesn't set default role variables.",
        "createdAt" : "2021-02-12T20:21:55Z",
        "updatedAt" : "2021-02-12T20:29:40Z",
        "lastEditedBy" : "2f8132dc-12f8-44dc-8b97-1cf4c1616b68",
        "tags" : [
        ]
      },
      {
        "id" : "29ce5074-4f42-463e-a9d4-62ea41a329f2",
        "parentId" : "181bf4e6-3e11-4ccb-b298-cf5ac07c5830",
        "authorId" : "af2d6e2a-7e69-40a5-acbd-ee141feb19f6",
        "body" : "Right. We intended to research adding this behavior later on.",
        "createdAt" : "2021-02-12T20:25:15Z",
        "updatedAt" : "2021-02-12T20:29:40Z",
        "lastEditedBy" : "af2d6e2a-7e69-40a5-acbd-ee141feb19f6",
        "tags" : [
        ]
      },
      {
        "id" : "fee7cc11-63c7-4abe-aae3-01b476fa7532",
        "parentId" : "181bf4e6-3e11-4ccb-b298-cf5ac07c5830",
        "authorId" : "af2d6e2a-7e69-40a5-acbd-ee141feb19f6",
        "body" : "Added clarification in the docs.",
        "createdAt" : "2021-02-12T20:30:22Z",
        "updatedAt" : "2021-02-12T20:30:22Z",
        "lastEditedBy" : "af2d6e2a-7e69-40a5-acbd-ee141feb19f6",
        "tags" : [
        ]
      }
    ],
    "commit" : "b7cdc44f1430253cf9f04bc0d9899d02895a2218",
    "line" : 63,
    "diffHunk" : "@@ -1,1 +316,320 @@        :default:\n\n           * If ``required`` is false/missing, ``default`` may be specified (assumed 'null' if missing).\n           * Ensure that the default value in the docs matches the default value in the code. The actual\n             default for the role variable will always come from ``defaults/main.yml``."
  }
]