[
  {
    "id" : "7949027e-407e-414c-b66d-44c1d9b8b514",
    "prId" : 32518,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f0093d2c-620d-4901-8bab-adb8c791c0a4",
        "parentId" : null,
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "Isn't this a chicken-egg supposition.  /cc @mikedanese \n",
        "createdAt" : "2016-09-12T20:38:09Z",
        "updatedAt" : "2016-09-22T19:06:47Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "5391e130-6a57-4c09-9434-479466073ce8",
        "parentId" : "f0093d2c-620d-4901-8bab-adb8c791c0a4",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "Nope, you don't need to call the kubelet API to bootstrap an apiserver with a kubelet\n",
        "createdAt" : "2016-09-12T20:40:38Z",
        "updatedAt" : "2016-09-22T19:06:47Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "b626a82c65cd7a8960a847e8d049ad38a9501226",
    "line" : 49,
    "diffHunk" : "@@ -1,1 +47,51 @@This proposal assumes the existence of:\n\n* a functioning API server\n* the SubjectAccessReview and TokenReview APIs\n"
  },
  {
    "id" : "50aa8f93-e5c2-4299-90b6-748eca059992",
    "prId" : 32518,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2facbe16-918e-4cc4-91b9-c89c91b5e852",
        "parentId" : null,
        "authorId" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "body" : "The webhook authenticator requires giving a full URL path of the token review, which is different from a normal kubeconfig which takes the base path. E.g. if we use the webhook authenticator we can't reuse the `--kubeconfig` flag.\n\nMaybe drop (or address) this detail?\n",
        "createdAt" : "2016-09-12T20:40:05Z",
        "updatedAt" : "2016-09-22T19:06:47Z",
        "lastEditedBy" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "tags" : [
        ]
      },
      {
        "id" : "e52b5eb8-4e85-4f64-bcb3-d144c43290e2",
        "parentId" : "2facbe16-918e-4cc4-91b9-c89c91b5e852",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "I'm currently refactoring the authenticator to allow constructing it with a `client.TokenReviewInterface`, which the kubelet would have, pointing at the configured API server.\n",
        "createdAt" : "2016-09-12T21:20:25Z",
        "updatedAt" : "2016-09-22T19:06:47Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "699a3886-ef47-4f3b-b6eb-2a4d8024295b",
        "parentId" : "2facbe16-918e-4cc4-91b9-c89c91b5e852",
        "authorId" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "body" : ":+1: cool, thanks\n",
        "createdAt" : "2016-09-12T21:23:48Z",
        "updatedAt" : "2016-09-22T19:06:47Z",
        "lastEditedBy" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "b626a82c65cd7a8960a847e8d049ad38a9501226",
    "line" : 88,
    "diffHunk" : "@@ -1,1 +86,90 @@`TokenReview` API calls to the API server.\n\nThe kubelet will reuse the webhook authenticator already used by the API server, configured\nto call the API server using the connection information already provided to the kubelet.\n"
  },
  {
    "id" : "7644855d-a42d-4dcb-b77e-edc159827287",
    "prId" : 32518,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bacf589d-b02e-4513-9a67-0839a564b917",
        "parentId" : null,
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "I know this is in use in various places, is this the first time this is part of Kube?\n",
        "createdAt" : "2016-09-13T04:19:57Z",
        "updatedAt" : "2016-09-22T19:06:47Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "45e4d4f9-6d49-4855-b3f4-94f5cee2f301",
        "parentId" : "bacf589d-b02e-4513-9a67-0839a564b917",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "part of https://github.com/kubernetes/kubernetes/pull/32386 for the apiserver\n",
        "createdAt" : "2016-09-13T04:21:41Z",
        "updatedAt" : "2016-09-22T19:06:47Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "b626a82c65cd7a8960a847e8d049ad38a9501226",
    "line" : 97,
    "diffHunk" : "@@ -1,1 +95,99 @@### Anonymous\n\nAdd a new `--anonymous-auth=[true|false]` option to the kubelet.\nWhen true, requests to the secure port that are not rejected by other configured\nauthentication methods are treated as anonymous requests, and given a username"
  },
  {
    "id" : "b0f074b0-4fec-4730-a91e-35e3ee5124de",
    "prId" : 32518,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/32518#pullrequestreview-2759298",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "996eaca3-24e0-49fc-8c45-fac92eebca6a",
        "parentId" : null,
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "Is a bearer token method really necessary?  Are there many scenarios for users accessing the Kubelet API or can we lock this down even further?\n",
        "createdAt" : "2016-09-26T17:41:39Z",
        "updatedAt" : "2016-09-26T17:44:07Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      },
      {
        "id" : "58ec427c-ca56-4854-b112-919ff6bb6c17",
        "parentId" : "996eaca3-24e0-49fc-8c45-fac92eebca6a",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "in openshift, we've been able to eliminate the unsecured kubelet port, and have heapster gather stats and metrics data using a service account token against the secured kubelet port\n",
        "createdAt" : "2016-09-26T17:49:50Z",
        "updatedAt" : "2016-09-26T17:49:50Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "87cf27b5-25ee-4180-9c9e-2e4a1d7c6152",
        "parentId" : "996eaca3-24e0-49fc-8c45-fac92eebca6a",
        "authorId" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "body" : "Yeah, I'm for this particular part of the proposal staying in. Being able to centrally administer what has access to these endpoints is great. And the tooling around issuance and revocation of service accounts is much more built out than our PKI and CRL infrastructure.\n",
        "createdAt" : "2016-10-04T17:10:05Z",
        "updatedAt" : "2016-10-04T17:10:06Z",
        "lastEditedBy" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "b626a82c65cd7a8960a847e8d049ad38a9501226",
    "line" : 82,
    "diffHunk" : "@@ -1,1 +80,84 @@`--kubelet-client-key` options in order to make authenticated requests to the kubelet.\n\n### Bearer token\n\nAdd a new `--authentication-token-webhook=[true|false]` option to the kubelet."
  },
  {
    "id" : "b710b906-20cf-4684-805b-4d3b4732dd16",
    "prId" : 32518,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/32518#pullrequestreview-2760437",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dd70ab7f-d6dc-4bd0-86be-6899fa70b276",
        "parentId" : null,
        "authorId" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "body" : "Possible new resources for the SubjectAccessReview?\n",
        "createdAt" : "2016-10-04T17:11:11Z",
        "updatedAt" : "2016-10-04T17:11:11Z",
        "lastEditedBy" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "tags" : [
        ]
      },
      {
        "id" : "d33c56f8-b4ab-426a-a181-05bfc75ea1f5",
        "parentId" : "dd70ab7f-d6dc-4bd0-86be-6899fa70b276",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "no API changes are needed to support the SubjectAccessReviews the kubelet would submit (it would express the checks in `verb` and `group/version/resource/subresource/name` terms)\n",
        "createdAt" : "2016-10-04T17:16:24Z",
        "updatedAt" : "2016-10-04T17:16:24Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "b626a82c65cd7a8960a847e8d049ad38a9501226",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +58,62 @@## API Changes\n\nNone\n\n## Kubelet Authentication"
  },
  {
    "id" : "082d2f70-fa17-485d-b32d-58c72194e802",
    "prId" : 32518,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/32518#pullrequestreview-3388734",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "83b9006a-aef7-4756-a2d6-bb459a97c9db",
        "parentId" : null,
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "Quick comment -- any place where we have a CA certificate we should support a bundle or a set of certificates.  Otherwise it is almost impossible to do key rotation.\n\nWe should also make sure that we plan to have this stuff driven by component configs.\n",
        "createdAt" : "2016-10-07T22:20:07Z",
        "updatedAt" : "2016-10-07T22:20:42Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      },
      {
        "id" : "9a6f0377-78d1-46af-8b30-b2e2c41563ad",
        "parentId" : "83b9006a-aef7-4756-a2d6-bb459a97c9db",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "Agree. File could be a bundle, just like the API server. Also, we'd hook up the CRL bits here as soon as we have them worked out for the apiserver authenticator. \n",
        "createdAt" : "2016-10-07T22:25:23Z",
        "updatedAt" : "2016-10-07T22:25:23Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "b626a82c65cd7a8960a847e8d049ad38a9501226",
    "line" : 74,
    "diffHunk" : "@@ -1,1 +72,76 @@### x509 client certificate\n\nAdd a new `--client-ca-file=[file]` option to the kubelet.\nWhen started with this option, the kubelet authenticates incoming requests using x509\nclient certificates, validated against the root certificates in the provided bundle."
  }
]