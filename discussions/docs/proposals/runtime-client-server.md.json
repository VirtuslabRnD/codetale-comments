[
  {
    "id" : "96722fd1-a42e-44a9-86b2-6469d1d54936",
    "prId" : 17048,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e24e7d5b-d80d-4b81-99c4-022af20d4724",
        "parentId" : null,
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "Might want to have a short description of why \"protobuf\"+\"grpc\" was chosen\n",
        "createdAt" : "2016-06-14T18:26:35Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "e81ad300-2e15-4f01-88a0-fb9347fa2e31",
        "parentId" : "e24e7d5b-d80d-4b81-99c4-022af20d4724",
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "Already done.\n",
        "createdAt" : "2016-06-21T00:33:58Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "e12044518ec395b4d20a43eb546adf9ddf0525bb",
    "line" : null,
    "diffHunk" : "@@ -1,1 +47,51 @@- improve code maintainability\n\n## Proposed design\n\n**Design of client/server container runtime**"
  },
  {
    "id" : "046d0144-78b8-472d-b715-483ca00d1fe0",
    "prId" : 17048,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "76f7ce5b-4cfd-475b-877b-103419bf1c97",
        "parentId" : null,
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "Should add a section about API versioning and the upgrade (of runtime and kubelet) story.\n",
        "createdAt" : "2016-06-14T21:49:10Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      }
    ],
    "commit" : "e12044518ec395b4d20a43eb546adf9ddf0525bb",
    "line" : null,
    "diffHunk" : "@@ -1,1 +221,225 @@\nTo facilitate switching current container runtime (e.g. `docker` or `rkt`) to new runtime API, `KubeletGenericRuntimeManager` will provide a plugin mechanism allowing to specify local implementation or gRPC implementation.\n\n## Community Discussion\n"
  },
  {
    "id" : "c54302cb-0c95-489c-bc5b-ef1d56400d74",
    "prId" : 17048,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6e5324ff-72ae-4d31-958b-7eacf2ebdfe6",
        "parentId" : null,
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "I think image management should be separate from the remote runtime API.\n\nI should be able to plug-in a remote runtime and still use the existing kubelet image management.\n\nif we want to plug-in alternate image managers, it should be separated IMHO\n\n/cc @philips @vishh \n",
        "createdAt" : "2016-06-22T14:07:01Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "2f0e1d90-25fd-4d96-bf1e-00322ab18a2f",
        "parentId" : "6e5324ff-72ae-4d31-958b-7eacf2ebdfe6",
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "I suspect longer term, we will want to distinguish image puller from runner, so I am happier if this proposal lets you specify the endpoint that does image pulling separately from the endpoint that does running of container, and if the same endpoint implements both, we can just set both flags the same.\n",
        "createdAt" : "2016-06-22T15:31:32Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "0729b411-41e3-4e4e-a852-2bb58b57700d",
        "parentId" : "6e5324ff-72ae-4d31-958b-7eacf2ebdfe6",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "Images and container operations are already separated into two services in this PR. Whether we expose two different endpoints is less important imo because the runtime needs to be aware of the image puller in today's api. \n",
        "createdAt" : "2016-06-22T23:42:39Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "8bd3ef22-3a39-4dbe-b086-74ad7524e974",
        "parentId" : "6e5324ff-72ae-4d31-958b-7eacf2ebdfe6",
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "ok.  Maybe we can note the future intent to separate.\n",
        "createdAt" : "2016-06-25T03:07:33Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "996d852e-3cf9-4938-8548-babebecc07a7",
        "parentId" : "6e5324ff-72ae-4d31-958b-7eacf2ebdfe6",
        "authorId" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "body" : "+1 for supporting separate clients for image and container lifecycle management.\n",
        "createdAt" : "2016-06-29T00:07:13Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "tags" : [
        ]
      }
    ],
    "commit" : "e12044518ec395b4d20a43eb546adf9ddf0525bb",
    "line" : null,
    "diffHunk" : "@@ -1,1 +62,66 @@- conforms to kubelet's [Runtime](../../pkg/kubelet/container/runtime.go#L58) interface\n- manage Pods and Containers lifecycle according to kubelet policies\n- call remote runtime's API to perform specific pod, container or image operations\n\nA simple workflow of invoking remote runtime API on starting a Pod with two containers can be shown:"
  },
  {
    "id" : "3847089a-cc8d-407d-a382-31381a0d621f",
    "prId" : 17048,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6d3bc82a-25ed-4909-a8ad-be648293a5a7",
        "parentId" : null,
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "I will want to charge the image pull to the pod level cgroup.\n\nI need the ability to associate an image pull to a pod sandbox.\n\n/cc @vishh per our chat.\n",
        "createdAt" : "2016-06-24T18:37:22Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "2ea418c1-f339-4564-9d60-32fdaaffe063",
        "parentId" : "6d3bc82a-25ed-4909-a8ad-be648293a5a7",
        "authorId" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "body" : "This RPC should also include the PodSandboxConfig or better PodSandboxState\n",
        "createdAt" : "2016-06-29T00:13:54Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "tags" : [
        ]
      },
      {
        "id" : "4e2b9ac3-11b6-4b92-ab8b-f9a1feff0d71",
        "parentId" : "6d3bc82a-25ed-4909-a8ad-be648293a5a7",
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "@vishh will do.\n",
        "createdAt" : "2016-06-29T00:50:20Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "e12044518ec395b4d20a43eb546adf9ddf0525bb",
    "line" : 188,
    "diffHunk" : "@@ -1,1 +186,190 @@    rpc ImageStatus(ImageStatusRequest) returns (ImageStatusResponse) {}\n    // PullImage pulls a image with authentication config.\n    rpc PullImage(PullImageRequest) returns (PullImageResponse) {}\n    // RemoveImage removes the image.\n    rpc RemoveImage(RemoveImageRequest) returns (RemoveImageResponse) {}"
  },
  {
    "id" : "f847211a-e824-4045-a1f9-43ce8e21ef24",
    "prId" : 17048,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "818a75f2-01af-4203-adf8-7ca5d1ed2e3f",
        "parentId" : null,
        "authorId" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "body" : "Consider adding the workflow for deleting pods as well.\n",
        "createdAt" : "2016-06-29T00:08:08Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "tags" : [
        ]
      },
      {
        "id" : "2c75873c-6f9f-4575-989c-931781fdff89",
        "parentId" : "818a75f2-01af-4203-adf8-7ca5d1ed2e3f",
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "@vishh Will do\n",
        "createdAt" : "2016-06-29T00:43:17Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "e12044518ec395b4d20a43eb546adf9ddf0525bb",
    "line" : null,
    "diffHunk" : "@@ -1,1 +132,136 @@   |                              +<------------------------------+\n   |                              |                               |\n   | <-------Success--------------+                               |\n   |                              |                               |\n   +                              +                               +"
  },
  {
    "id" : "a609e57d-a0c5-4a14-b656-b5f05f7de285",
    "prId" : 17048,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2b56d157-0f26-4865-8e44-bd8f77f5533a",
        "parentId" : null,
        "authorId" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "body" : "List explicitly what the runtime is expected to do in each of these phases. For example, what should the runtime do if there are running containers in this case? \n",
        "createdAt" : "2016-06-29T00:12:18Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "c4b970b3-3b9c-4773-bc9b-f8d005b15fd1",
        "tags" : [
        ]
      },
      {
        "id" : "e6282165-64db-4c0c-a476-6257792b6a3f",
        "parentId" : "2b56d157-0f26-4865-8e44-bd8f77f5533a",
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "@vishh Thanks. Will do.\n",
        "createdAt" : "2016-06-29T00:39:08Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "e12044518ec395b4d20a43eb546adf9ddf0525bb",
    "line" : null,
    "diffHunk" : "@@ -1,1 +155,159 @@    // DeletePodSandbox deletes the sandbox. If there are any running containers in the\n    // sandbox, they should be force deleted.\n    rpc DeletePodSandbox(DeletePodSandboxRequest) returns (DeletePodSandboxResponse) {}\n    // PodSandboxStatus returns the Status of the PodSandbox.\n    rpc PodSandboxStatus(PodSandboxStatusRequest) returns (PodSandboxStatusResponse) {}"
  },
  {
    "id" : "880aeaba-82fa-41ef-9dad-a197a3a21f87",
    "prId" : 17048,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3bc4020d-ae71-4bd0-8187-004d05558f49",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "it would be informative if this example included multiple containers.\n",
        "createdAt" : "2016-07-08T04:50:44Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "ae19eed0-7b80-470e-b7ba-297f717db71d",
        "parentId" : "3bc4020d-ae71-4bd0-8187-004d05558f49",
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "Y, will do. Thanks.\n",
        "createdAt" : "2016-07-08T05:30:26Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      },
      {
        "id" : "72af7677-a377-4abf-b36d-c67fdf926971",
        "parentId" : "3bc4020d-ae71-4bd0-8187-004d05558f49",
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "@thockin Added multiple containers, PTAL.\n",
        "createdAt" : "2016-07-08T06:23:23Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      },
      {
        "id" : "8c4132af-13d2-4b0b-8739-1c462abf8b51",
        "parentId" : "3bc4020d-ae71-4bd0-8187-004d05558f49",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "I don't see that - did you push?\n",
        "createdAt" : "2016-07-08T07:10:31Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "75a8fc87-d326-48c3-aa5e-00f2c6bbf969",
        "parentId" : "3bc4020d-ae71-4bd0-8187-004d05558f49",
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "Yes, it is in another commit. check\nhttps://github.com/kubernetes/kubernetes/pull/17048/files#diff-822f0e081c10d8b83d7c2ad1391d55f7R69\n\n2016-07-08 15:11 GMT+08:00 Tim Hockin notifications@github.com:\n\n> In docs/proposals/runtime-client-server.md\n> https://github.com/kubernetes/kubernetes/pull/17048#discussion_r70033915\n> :\n> \n> > -   +                              +                               +\n> > -   |                              |                               |\n> > -   +---------SyncPod------------->+                               |\n> > -   |                              |                               |\n> > -   |                              +---- Create PodSandbox ------->+\n> > -   |                              |                               |\n> > -   |                              XXXXXXXXXXXX                    |\n> > -   |                              |          X                    |\n> > -   |                              |    NetworkPlugin.             |\n> > -   |                              |       SetupPod                |\n> > -   |                              |          X                    |\n> > -   |                              XXXXXXXXXXXX                    |\n> > -   |                              |                               |\n> > -   |                              +<------------------------------+\n> > -   |                              +----    Pull image    -------->+\n> > -   |                              +<------------------------------+\n> \n> I don't see that - did you push?\n> \n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> https://github.com/kubernetes/kubernetes/pull/17048/files/8219903aa0560ac0c25504963e295c227fb49967#r70033915,\n> or mute the thread\n> https://github.com/notifications/unsubscribe/AApTHckv5pswnYGaidkhK544Wnt811-jks5qTfgVgaJpZM4GfQ_B\n> .\n",
        "createdAt" : "2016-07-08T07:17:22Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "e12044518ec395b4d20a43eb546adf9ddf0525bb",
    "line" : null,
    "diffHunk" : "@@ -1,1 +84,88 @@   |                              +<------------------------------+\n   |                              +----    Pull image1   -------->+\n   |                              +<------------------------------+\n   |                              +---- Create container1 ------->+\n   |                              +<------------------------------+"
  },
  {
    "id" : "55223faf-e46f-4073-8b6d-138bd027d1bd",
    "prId" : 17048,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6e0c0adf-05a8-4a04-9bc2-29fec89f5ebe",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "We should have some discussion about the role of network plugins in all of this. It has been pretty muddy thus far (@freehan).\n\nOption 1) we expect all RemoteRuntimes to NOT set up networking at all and let us do it.  This means even more esoteric runtimes have to defer to us.\n\nOption 2) we expect all RemoteRuntimes to handle networking, in which case the very notion of a network plugin should be removed from the RuntimeManager, and the API may have to grow some network functions.\n",
        "createdAt" : "2016-07-08T04:55:13Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "a18fd10c-1c24-45fd-86ff-0521586e460d",
        "parentId" : "6e0c0adf-05a8-4a04-9bc2-29fec89f5ebe",
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "This PR assumes container's networking is processed by kubelet network plugin (as is shown on above workflow).\n\nBut agree with more discussion on it, and it's better to open another issue for this. (I opened one at [here](https://github.com/kubernetes/kubernetes/issues/28667))\n",
        "createdAt" : "2016-07-08T06:02:31Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      },
      {
        "id" : "5b31dd18-0134-4b3c-be1a-5357f278c7e9",
        "parentId" : "6e0c0adf-05a8-4a04-9bc2-29fec89f5ebe",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "I'm uncomfortable with a design doc spread across 5 different issues - can we re-converge before being done with this proposal?\n",
        "createdAt" : "2016-07-08T07:09:17Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "a1a287e4-e4d8-41e6-aa4d-435a76f79ce4",
        "parentId" : "6e0c0adf-05a8-4a04-9bc2-29fec89f5ebe",
        "authorId" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "body" : "@thockin: Sorry for this, @yujuhong is preparing a document tracking the whole things about the container runtime interface, I think she will publish it when it is ready.\n",
        "createdAt" : "2016-07-08T07:20:11Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "0df1da34-610c-4ce5-b0cf-bbda668bf9c1",
        "tags" : [
        ]
      },
      {
        "id" : "694530cc-5088-4316-b212-f10e0e898312",
        "parentId" : "6e0c0adf-05a8-4a04-9bc2-29fec89f5ebe",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "I've discussed with @freehan a couple of times last week about the options we have for handling network plugins. I don't think a _final_ decision has been made. \n\n> I'm uncomfortable with a design doc spread across 5 different issues - can we re-converge before being done with this proposal?\n\nThe API is by no means final, and many issues need to be worked out along the way. It's sometimes easier to open up separate issues to discuss specific topics. Otherwise, it's hard to follow a thread of discussion on one PR.\n",
        "createdAt" : "2016-07-11T17:59:29Z",
        "updatedAt" : "2016-07-12T01:17:34Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      }
    ],
    "commit" : "e12044518ec395b4d20a43eb546adf9ddf0525bb",
    "line" : null,
    "diffHunk" : "@@ -1,1 +77,81 @@   |                              XXXXXXXXXXXX                    |\n   |                              |          X                    |\n   |                              |    NetworkPlugin.             |\n   |                              |       SetupPod                |\n   |                              |          X                    |"
  }
]