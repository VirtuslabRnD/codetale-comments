[
  {
    "id" : "77e578d9-2fce-42b6-a716-eb33017cac09",
    "prId" : 10413,
    "prUrl" : "https://github.com/apache/airflow/pull/10413#pullrequestreview-471027693",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2af4e48e-9120-4dd9-a5de-62b7b5a6d58e",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Can you also add example for PostgresSQL?",
        "createdAt" : "2020-08-19T23:20:29Z",
        "updatedAt" : "2020-09-08T23:59:53Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "68cbd3b73f0723e0a106e64ddd142a7358880374",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +55,59 @@will use to access this database.\n\nExample, for **MySQL**:\n\n.. code-block:: sql"
  },
  {
    "id" : "75396483-1377-4bf6-91e5-f716b5044ec5",
    "prId" : 10413,
    "prUrl" : "https://github.com/apache/airflow/pull/10413#pullrequestreview-471062649",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "829c6002-f9e0-4012-a421-0340dd97b6d6",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "```suggestion\r\n.. code-block:: sql\r\n\r\n```",
        "createdAt" : "2020-08-20T01:11:54Z",
        "updatedAt" : "2020-09-08T23:59:53Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "68cbd3b73f0723e0a106e64ddd142a7358880374",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +57,61 @@Example, for **MySQL**:\n\n.. code-block:: sql\n   CREATE DATABASE airflow CHARACTER SET utf8 COLLATE utf8_unicode_ci;\n   CREATE USER 'airflow' IDENTIFIED BY 'airflow';"
  },
  {
    "id" : "af51bf15-d8c9-4de8-8411-f66482334747",
    "prId" : 10413,
    "prUrl" : "https://github.com/apache/airflow/pull/10413#pullrequestreview-471062689",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "491a0826-13e3-4a7c-a7b7-c6e6ec3000bb",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "```suggestion\r\n.. code-block:: sql\r\n\r\n```",
        "createdAt" : "2020-08-20T01:12:01Z",
        "updatedAt" : "2020-09-08T23:59:53Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "68cbd3b73f0723e0a106e64ddd142a7358880374",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +64,68 @@Example, for **Postgres**:\n\n.. code-block:: sql\n   CREATE DATABASE airflow;\n   CREATE USER airflow WITH PASSWORD 'airflow';"
  },
  {
    "id" : "37f7b116-f10f-4172-a52c-9a17178e098b",
    "prId" : 10413,
    "prUrl" : "https://github.com/apache/airflow/pull/10413#pullrequestreview-471062784",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4507347a-a40f-4a6c-af4d-c1ab325d90c4",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "```suggestion\r\n`The pg_hba.conf File <https://www.postgresql.org/docs/current/auth-pg-hba-conf.html>`__\r\n```",
        "createdAt" : "2020-08-20T01:12:23Z",
        "updatedAt" : "2020-09-08T23:59:53Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "68cbd3b73f0723e0a106e64ddd142a7358880374",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +72,76 @@``airflow`` user to the database access control list; and to reload\nthe database configuration to load your change. See\n[The pg_hba.conf File](https://www.postgresql.org/docs/current/auth-pg-hba-conf.html)\nin the Postgres documentation to learn more.\n"
  },
  {
    "id" : "15462f97-a3bd-4b05-b310-44544e9db1e4",
    "prId" : 10413,
    "prUrl" : "https://github.com/apache/airflow/pull/10413#pullrequestreview-471063031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "803e61d3-5e22-4987-b406-6a0c7083f608",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "```suggestion\r\nYou should then also change the ``executor`` option in the ``[core]`` option to use ``LocalExecutor``, an executor that can parallelize task instances locally.\r\n```",
        "createdAt" : "2020-08-20T01:13:18Z",
        "updatedAt" : "2020-09-08T23:59:53Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "68cbd3b73f0723e0a106e64ddd142a7358880374",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +85,89 @@--------------------------------------------\n\nYou should then also change the \"executor\" option in the ``[core]`` option to use \"LocalExecutor\", an executor that can parallelize task instances locally.\n\nInitialize the database"
  },
  {
    "id" : "a52bf696-f4b3-4587-b40b-11c5b84453c6",
    "prId" : 10413,
    "prUrl" : "https://github.com/apache/airflow/pull/10413#pullrequestreview-471289745",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a45b4cbf-7252-4575-8717-b51c420827dd",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "```suggestion\r\n   CREATE DATABASE airflow CHARACTER SET utf8_mb3 COLLATE utf8_unicode_ci;\r\n```\r\nAdditionally  we must add section that describes how to configure Airflow with mysql `utf8_mb4`. \r\n\r\nAirflow will not work without additional configuration with `utf8_mb4` character set. The index size in few tables is too large for it (maximum index size in 5.7 and 8.0 is 3072 characters and we are exceeding the limit if we use utf8_mb4 - each character in `utf8mb4` is 4 bytes rather than 3 bytes in `utf8_mb3`): https://dev.mysql.com/doc/refman/8.0/en/innodb-limits.html.\r\n\r\nThis is true for MySQL 5.7 but also remains a problem in MySQL 8, even if we do not officially support it (yet). Additionally: in MySQL 8 `utf8_mb3` is  deprecated and `utf8_mb4` is default when `utf8` is used: https://mysqlserverteam.com/mysql-8-0-when-to-use-utf8mb3-over-utf8mb4/\r\n\r\nThere is a change I implemented that allows using `utf8mb4` character set but it requires special configuration of Airflow: https://github.com/apache/airflow/pull/7570/files\r\n\r\nHow it works - you need to set `sql_engine_collation_for_ids` parameter in the configuration of Airflow to `utf8_mb3` if the whole database is `utf8_mb4`. This will switch all the long columns that are used in indexes to use `utf8_mb3`, so the index for those columns does not exceed the maximum index size.\r\n\r\nHopefully, in MySQL 9 (or 10?) they will further increase the index size ¯\\_(ツ)_/¯",
        "createdAt" : "2020-08-20T06:46:33Z",
        "updatedAt" : "2020-09-08T23:59:53Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "68cbd3b73f0723e0a106e64ddd142a7358880374",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +58,62 @@\n.. code-block:: sql\n   CREATE DATABASE airflow CHARACTER SET utf8 COLLATE utf8_unicode_ci;\n   CREATE USER 'airflow' IDENTIFIED BY 'airflow';\n   GRANT ALL PRIVILEGES ON airflow.* TO 'airflow';"
  },
  {
    "id" : "57801884-caaa-44f3-8439-f52e5c066364",
    "prId" : 10413,
    "prUrl" : "https://github.com/apache/airflow/pull/10413#pullrequestreview-478036865",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7b6d10f3-bd8d-41da-8fad-daca25c05398",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "```suggestion\r\nYou should then also change the ``executor`` option in the ``[core]`` section to  ``LocalExecutor``. an executor that can parallelize task instances locally.\r\n```",
        "createdAt" : "2020-08-28T21:32:06Z",
        "updatedAt" : "2020-09-08T23:59:53Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "68cbd3b73f0723e0a106e64ddd142a7358880374",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +85,89 @@--------------------------------------------\n\nYou should then also change the \"executor\" option in the ``[core]`` option to use \"LocalExecutor\", an executor that can parallelize task instances locally.\n\nInitialize the database"
  },
  {
    "id" : "5eff8b2a-3c76-47a1-af90-1f963db2e2b5",
    "prId" : 10413,
    "prUrl" : "https://github.com/apache/airflow/pull/10413#pullrequestreview-478816417",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b00ea792-6f91-41cd-8fd7-3352e12e82ca",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "```suggestion\r\n\r\n\r\nIf you would like to use `utf8mb4` encoding, you need to add an additional configuration option `sql_engine_collation_for_ids` set to `utf8mb3_general_ci` - otherwise index sizes of some Airflow tables will exceed maximum index size allowed in MySQL.\r\n\r\n```\r\n\r\nI still we need to add this :).",
        "createdAt" : "2020-08-29T15:00:09Z",
        "updatedAt" : "2020-09-08T23:59:53Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "2571197a-2f80-48d8-868c-60374079e145",
        "parentId" : "b00ea792-6f91-41cd-8fd7-3352e12e82ca",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "My bad with single backticks :(",
        "createdAt" : "2020-08-31T17:46:58Z",
        "updatedAt" : "2020-09-08T23:59:53Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "68cbd3b73f0723e0a106e64ddd142a7358880374",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +61,65 @@   CREATE USER 'airflow' IDENTIFIED BY 'airflow';\n   GRANT ALL PRIVILEGES ON airflow.* TO 'airflow';\n\nExample, for **Postgres**:\n"
  },
  {
    "id" : "1d4dc954-5694-4b52-b4f0-5c871535bb10",
    "prId" : 10413,
    "prUrl" : "https://github.com/apache/airflow/pull/10413#pullrequestreview-485237213",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99066d0f-e202-4058-a55c-1a8489f94606",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "It would be ideal to mention the configuration about environment variables here, because this option is configured this way, but I can do it in a separate PR.",
        "createdAt" : "2020-09-09T09:51:00Z",
        "updatedAt" : "2020-09-09T09:51:00Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "12c1c3a5-6b92-4dfa-a92a-10b49106205f",
        "parentId" : "99066d0f-e202-4058-a55c-1a8489f94606",
        "authorId" : "b10ed571-b9ea-4962-bf68-0bce5791e1df",
        "body" : "Okay, thank you very much!  :)",
        "createdAt" : "2020-09-09T17:17:00Z",
        "updatedAt" : "2020-09-09T17:17:01Z",
        "lastEditedBy" : "b10ed571-b9ea-4962-bf68-0bce5791e1df",
        "tags" : [
        ]
      }
    ],
    "commit" : "68cbd3b73f0723e0a106e64ddd142a7358880374",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +80,84 @@Once you've setup your database to host Airflow, you'll need to alter the\nSqlAlchemy connection string located in ``sql_alchemy_conn`` option in ``[core]`` section in your configuration file\n``$AIRFLOW_HOME/airflow.cfg``.\n\nConfigure a worker that supports parallelism"
  },
  {
    "id" : "5750b07d-8560-42f8-ac15-13a2e1595479",
    "prId" : 10832,
    "prUrl" : "https://github.com/apache/airflow/pull/10832#pullrequestreview-485068240",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0d87b8d3-f55a-4337-97b4-8e0f198ac21c",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Can you revert it?",
        "createdAt" : "2020-09-09T14:00:52Z",
        "updatedAt" : "2020-09-09T14:32:05Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "763955e0-d168-407f-8df7-e8b49e9ce413",
        "parentId" : "0d87b8d3-f55a-4337-97b4-8e0f198ac21c",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Oh. We have second bug in this docs. Can you look at 76 line? It uses markdown syntax.",
        "createdAt" : "2020-09-09T14:04:08Z",
        "updatedAt" : "2020-09-09T14:32:05Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "eadeeecd-cb9b-4103-a323-980d70191852",
        "parentId" : "0d87b8d3-f55a-4337-97b4-8e0f198ac21c",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "> pg_hba is \"tokenized\" to \"hba\", and I've chosen to ignore it in just this file to avoid typos elsewhere creeping in",
        "createdAt" : "2020-09-09T14:24:02Z",
        "updatedAt" : "2020-09-09T14:32:05Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "00359b33-2465-4770-89d2-32ca585a3c15",
        "parentId" : "0d87b8d3-f55a-4337-97b4-8e0f198ac21c",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "I read it later. However, I am concerned about the error on line 76 now.",
        "createdAt" : "2020-09-09T14:26:04Z",
        "updatedAt" : "2020-09-09T14:32:05Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "3ec35607-9493-4e95-a168-a228762c5bbd",
        "parentId" : "0d87b8d3-f55a-4337-97b4-8e0f198ac21c",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "I was thinking that a three character word was a higher risk of letting a typo somewhere else through -- so didn't want to allow it globally",
        "createdAt" : "2020-09-09T14:27:58Z",
        "updatedAt" : "2020-09-09T14:32:05Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "f0585ab35af1a709c66faba37d16488ebe0022e6",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +99,103 @@.. spelling::\n\n     hba"
  },
  {
    "id" : "09d3c5db-fb7e-438f-b7b1-38011593971a",
    "prId" : 10832,
    "prUrl" : "https://github.com/apache/airflow/pull/10832#pullrequestreview-485041575",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9db6c0eb-daac-4bc4-ac97-453edffc94be",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "We use https://github.com/apache/airflow/blob/master/docs/spelling_wordlist.txt to maintain list of exception",
        "createdAt" : "2020-09-09T14:02:04Z",
        "updatedAt" : "2020-09-09T14:32:05Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "f0585ab35af1a709c66faba37d16488ebe0022e6",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +99,103 @@.. spelling::\n\n     hba"
  }
]