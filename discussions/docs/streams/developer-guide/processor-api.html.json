[
  {
    "id" : "a24d6345-0b3f-44be-bb72-b37c5c0b5827",
    "prId" : 4456,
    "prUrl" : "https://github.com/apache/kafka/pull/4456#pullrequestreview-93413555",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f010f1ae-de94-4635-a7e5-baf541275cd6",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "The types don't align. Using `Stores` you get plain `byte[]`/`byte[]` stores:\r\n```\r\n        StoreBuilder<KeyValueStore<byte[], byte[]>> a = Stores.keyValueStoreBuilder(\r\n            Stores.persistentKeyValueStore(\"name\"),\r\n            Serdes.ByteArray(),\r\n            Serdes.ByteArray()\r\n        );\r\n```",
        "createdAt" : "2018-01-30T23:51:44Z",
        "updatedAt" : "2018-02-01T19:45:51Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "08ed9633-19c1-4364-a5e8-b191546d4788",
        "parentId" : "f010f1ae-de94-4635-a7e5-baf541275cd6",
        "authorId" : "9699dd81-efb9-40ce-9b93-2f923bcee57a",
        "body" : "Yeah, but here I'm using the `Serdes.String()` and `Serdes.Long()` to create the StoreBuilder<KeyValueStore<String, Long>>, is there sth. wrong with this ?\r\n```\r\nStoreBuilder<KeyValueStore<String, Long>> countStoreSupplier = Stores.keyValueStoreBuilder(\r\n  Stores.persistentKeyValueStore(\"persistent-counts\"),\r\n  Serdes.String(),\r\n  Serdes.Long());\r\nKeyValueStore<String, Long> countStore = countStoreSupplier.build();\r\n```",
        "createdAt" : "2018-01-31T12:19:58Z",
        "updatedAt" : "2018-02-01T19:45:51Z",
        "lastEditedBy" : "9699dd81-efb9-40ce-9b93-2f923bcee57a",
        "tags" : [
        ]
      },
      {
        "id" : "7d485130-b17a-4525-94d7-1af313949117",
        "parentId" : "f010f1ae-de94-4635-a7e5-baf541275cd6",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "`Stores.persistentKeyValueStore(\"persistent-counts\")` returns a `KeyValueBytesStoreSupplier` that extends `StoreSupplier<KeyValueStore<Bytes, byte[]>>` -- thus, the types are fixed.\r\n\r\nIf you want to have a String/Long store, you cannot use `Stores.persistentKeyValueStore(\"persistent-counts\")` but need implement your own `StoreSupplier` with corresponding types.\r\n\r\nI am fine either way -- but the example code should compile :) It think it's best if you code the example first and than c&p the code into the docs -- this ensures you get everything right.",
        "createdAt" : "2018-01-31T18:55:41Z",
        "updatedAt" : "2018-02-01T19:45:51Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "4bd93bdc-eb06-4d8a-96fd-d9e539d32c22",
        "parentId" : "f010f1ae-de94-4635-a7e5-baf541275cd6",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "I think I have to revert my comment here... The example works as you describe it. Got confused... Sorry.",
        "createdAt" : "2018-02-01T00:10:12Z",
        "updatedAt" : "2018-02-01T19:45:51Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "e56f88f1-6af4-47fa-8b79-3674c221ce46",
        "parentId" : "f010f1ae-de94-4635-a7e5-baf541275cd6",
        "authorId" : "9699dd81-efb9-40ce-9b93-2f923bcee57a",
        "body" : "np @mjsax in fact, actually I should have run it before putting into docs, that's true and it's just because I see we are doing like this everywhere ... xD\r\nAnd for `KeyValueBytesStoreSupplier`, seems it always provides a `byte[]/byte[]` store for metering purpose in `InnerMeteredKeyValueStore` ? shall we also change `{@link org.apache.kafka.streams.processor.StateStoreSupplier}` [here](https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/state/internals/InnerMeteredKeyValueStore.java#L58) to `{@link org.apache.kafka.streams.state.StoreSupplier}` as the first one is deprecated ?",
        "createdAt" : "2018-02-01T13:22:44Z",
        "updatedAt" : "2018-02-01T19:45:51Z",
        "lastEditedBy" : "9699dd81-efb9-40ce-9b93-2f923bcee57a",
        "tags" : [
        ]
      },
      {
        "id" : "400c62c5-bbdb-4d21-9f61-8945c25ce451",
        "parentId" : "f010f1ae-de94-4635-a7e5-baf541275cd6",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Yes, internally, it must always be a `Byte/byte[]` store, if you use the `StoreBuilder` -- this allows us to wrap the store with caching and logging.\r\n\r\nYes, please update the other JavaDoc, too (it's internal only, but still good to update).",
        "createdAt" : "2018-02-01T18:26:56Z",
        "updatedAt" : "2018-02-01T19:45:51Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "ba77db1f-e02e-4115-b3ef-3131af2c9223",
        "parentId" : "f010f1ae-de94-4635-a7e5-baf541275cd6",
        "authorId" : "9699dd81-efb9-40ce-9b93-2f923bcee57a",
        "body" : "@mjsax done.",
        "createdAt" : "2018-02-01T19:47:07Z",
        "updatedAt" : "2018-02-01T19:47:07Z",
        "lastEditedBy" : "9699dd81-efb9-40ce-9b93-2f923bcee57a",
        "tags" : [
        ]
      }
    ],
    "commit" : "ab182d1bc96dfe7d889ae2daca299b95588d8940",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +219,223 @@    <span class=\"n\">Serdes</span><span class=\"o\">.</span><span class=\"na\">String</span><span class=\"o\">(),</span>\n    <span class=\"n\">Serdes</span><span class=\"o\">.</span><span class=\"na\">Long</span><span class=\"o\">());</span>\n<span class=\"n\">KeyValueStore</span><span class=\"o\">&lt;</span><span class=\"n\">String</span><span class=\"o\">,</span> <span class=\"n\">Long</span><span class=\"o\">&gt;</span> <span class=\"n\">countStore</span> <span class=\"o\">=</span> <span class=\"n\">countStoreSupplier</span><span class=\"o\">.</span><span class=\"na\">build</span><span class=\"o\">();</span>\n</pre></div>\n                            </div>"
  },
  {
    "id" : "7e05aebc-2979-42d0-bb61-1e0e244f8ebe",
    "prId" : 4456,
    "prUrl" : "https://github.com/apache/kafka/pull/4456#pullrequestreview-92764961",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2e82b792-8179-4fc6-b9ce-3deaf7a8f959",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "as above.",
        "createdAt" : "2018-01-30T23:52:16Z",
        "updatedAt" : "2018-02-01T19:45:51Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "ab182d1bc96dfe7d889ae2daca299b95588d8940",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +248,252 @@    <span class=\"n\">Serdes</span><span class=\"o\">.</span><span class=\"na\">String</span><span class=\"o\">(),</span>\n    <span class=\"n\">Serdes</span><span class=\"o\">.</span><span class=\"na\">Long</span><span class=\"o\">());</span>\n<span class=\"n\">KeyValueStore</span><span class=\"o\">&lt;</span><span class=\"n\">String</span><span class=\"o\">,</span> <span class=\"n\">Long</span><span class=\"o\">&gt;</span> <span class=\"n\">countStore</span> <span class=\"o\">=</span> <span class=\"n\">countStoreSupplier</span><span class=\"o\">.</span><span class=\"na\">build</span><span class=\"o\">();</span>\n</pre></div>\n                            </div>"
  },
  {
    "id" : "ac08717a-974c-4ba4-aaea-74488956f724",
    "prId" : 5128,
    "prUrl" : "https://github.com/apache/kafka/pull/5128#pullrequestreview-125766593",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "986cbc35-e75e-4868-85e5-4b373d0ef464",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Why skip `id9` and use `id10` here?",
        "createdAt" : "2018-06-03T18:24:40Z",
        "updatedAt" : "2018-06-04T22:04:57Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "f8126b7a-ea17-4363-8bd5-e885f6b019df",
        "parentId" : "986cbc35-e75e-4868-85e5-4b373d0ef464",
        "authorId" : "f58052af-021e-47d1-bcb5-e22f46383a12",
        "body" : "`id9` is already used by: \r\n\r\n```\r\n                <li><a class=\"reference internal\" href=\"#unit-testing-processors\" id=\"id9\">Unit Testing Processors</a></li>\r\n```",
        "createdAt" : "2018-06-04T21:53:38Z",
        "updatedAt" : "2018-06-04T22:04:57Z",
        "lastEditedBy" : "f58052af-021e-47d1-bcb5-e22f46383a12",
        "tags" : [
        ]
      },
      {
        "id" : "687edbef-cce5-4194-8f0d-4445f0c914e0",
        "parentId" : "986cbc35-e75e-4868-85e5-4b373d0ef464",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Ah I see, thanks.",
        "createdAt" : "2018-06-04T22:38:27Z",
        "updatedAt" : "2018-06-04T22:38:28Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "f7461502b300c54b3a14cf2860ebcc10ab3c0c1d",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +54,58 @@                </li>\n                <li><a class=\"reference internal\" href=\"#connecting-processors-and-state-stores\" id=\"id8\">Connecting Processors and State Stores</a></li>\n                <li><a class=\"reference internal\" href=\"#accessing-processor-context\" id=\"id10\">Accessing Processor Context</a></li>\n            </ul>\n        </div>"
  },
  {
    "id" : "90d91cb3-9e6b-4945-9786-ec5d024b61f4",
    "prId" : 5796,
    "prUrl" : "https://github.com/apache/kafka/pull/5796#pullrequestreview-164943388",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8f0d8483-433e-4a0c-a04c-3acb8126116d",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Is this intentional?",
        "createdAt" : "2018-10-15T20:16:53Z",
        "updatedAt" : "2018-10-16T00:20:58Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "49c5c4b9-3da5-41f7-96bb-76bd5f1c6f02",
        "parentId" : "8f0d8483-433e-4a0c-a04c-3acb8126116d",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Yes. Fixed the indention.",
        "createdAt" : "2018-10-16T00:15:44Z",
        "updatedAt" : "2018-10-16T00:20:58Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "533af8cc7bb1b99d0062c9d4486df0777f1e2a9b",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +367,371 @@            <div class=\"highlight-java\"><div class=\"highlight\"><pre><span></span><span class=\"n\">public void process(String key, String value) {</span>\n\n    <span class=\"c1\">// add a header to the elements</span>\n    <span class=\"n\">context()</span><span class=\"o\">.</span><span class=\"na\">headers</span><span class=\"o\">()</span><span class=\"o\">.</span><span class=\"na\">add</span><span class=\"o\">.</span><span class=\"o\">(</span><span class=\"s\">&quot;key&quot;</span><span class=\"o\">,</span> <span class=\"s\">&quot;key&quot;</span>\n<span class=\"o\">}</span>"
  }
]