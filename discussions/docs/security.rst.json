[
  {
    "id" : "1cbf0850-729c-45d4-b087-1535922223b6",
    "prId" : 4166,
    "prUrl" : "https://github.com/apache/airflow/pull/4166#pullrequestreview-174399031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "149aa8e7-4d60-40d1-bcaa-7657eadefecd",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "The CLI option should probably be avoided as it would show up in `ps` output.\r\n\r\nIs it also the raw password, or is it the salted/hashed output from `htpasswrd` or similar?",
        "createdAt" : "2018-11-13T11:09:59Z",
        "updatedAt" : "2018-11-13T11:09:59Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "93e80abe-c070-495c-b4a5-988e73de7358",
        "parentId" : "149aa8e7-4d60-40d1-bcaa-7657eadefecd",
        "authorId" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "body" : "Nice point! It’s raw password though.\r\n\r\nThe reason I would like to use to “argue” is that this is how Flower itself works (please refer to Flower doc https://flower.readthedocs.io/en/latest/auth.html).\r\n\r\nNo matter if we’re running Flower for Airflow or other Celery project, as long as we’re using this http basic authentication, everything will be exposed in ps output.\r\n\r\nI think we are assuming that nobody except Admin or Op should have access to the server or pod running Flower process, then ps output is also somehow safe.",
        "createdAt" : "2018-11-13T11:19:43Z",
        "updatedAt" : "2018-11-13T11:19:43Z",
        "lastEditedBy" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "tags" : [
        ]
      },
      {
        "id" : "d14e850b-95f3-497b-b950-6c33dd9d7091",
        "parentId" : "149aa8e7-4d60-40d1-bcaa-7657eadefecd",
        "authorId" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "body" : "In addition, actually both options provided here (specifying the Flower auth details as an CLI argument, or a configuration item in `airflow.cfg`) will expose the details in `ps` output, given eventually the Flower process is launched by `os.execvp` (https://github.com/apache/incubator-airflow/blob/6097f829ac5a4442180018ed56fa1b695badb131/airflow/bin/cli.py#L1299-L1300)\r\n\r\nBut as shared, this is how this Flower basic authentication works (while implementing OAuth for Flower in Airflow scenario is not really necessary. Not mentioning the Flower in Airflow is \"streaking\" at this moment)",
        "createdAt" : "2018-11-13T14:44:10Z",
        "updatedAt" : "2018-11-13T14:44:11Z",
        "lastEditedBy" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "tags" : [
        ]
      },
      {
        "id" : "0f7d2ba4-3cdd-4714-9211-0b82756566ca",
        "parentId" : "149aa8e7-4d60-40d1-bcaa-7657eadefecd",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Fair point.",
        "createdAt" : "2018-11-13T14:47:55Z",
        "updatedAt" : "2018-11-13T14:47:55Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "9ca6b19bc4e5cd3c210673b914f7a5d775b50349",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +416,420 @@.. code-block:: bash\n\n    airflow flower --basic_auth=user1:password1,user2:password2\n\n.. code-block:: bash"
  }
]