[
  {
    "id" : "9ab845f9-5403-4b11-a85b-8a1d80ea78b3",
    "prId" : 21123,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/21123#pullrequestreview-616915531",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "106148d2-1225-4a76-a592-50ed387a453f",
        "parentId" : null,
        "authorId" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "body" : "I realized `roomOpen` is always returning `false` and, from my tests, I noticed `room` object is not returning `servedBy` property, so the `if` statements will always be `false` if the user is not a `livechat-manager`.",
        "createdAt" : "2021-03-19T21:19:31Z",
        "updatedAt" : "2021-03-23T22:20:46Z",
        "lastEditedBy" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "tags" : [
        ]
      },
      {
        "id" : "f2598c8d-d291-4b66-ac91-e0257a4f5bf4",
        "parentId" : "106148d2-1225-4a76-a592-50ed387a453f",
        "authorId" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "body" : "@rafaelblink an alternative here is to call `canAccessRoom` method.",
        "createdAt" : "2021-03-20T14:14:10Z",
        "updatedAt" : "2021-03-23T22:20:47Z",
        "lastEditedBy" : "e286e399-a847-4b77-8052-d1ba61e04074",
        "tags" : [
        ]
      }
    ],
    "commit" : "44f3c1b3bc60223d5cde6f89d46d8243b320130e",
    "line" : 165,
    "diffHunk" : "@@ -1,1 +163,167 @@\tconst hasManagerRole = useRole('livechat-manager');\n\n\tconst roomOpen = room && room.open && ((room.servedBy && room.servedBy._id === uid) || hasManagerRole);\n\n\tconst canForwardGuest = usePermission('transfer-livechat-guest');"
  }
]