[
  {
    "id" : "25ae757b-2aa3-4422-b49d-69adc0ed5679",
    "prId" : 6570,
    "prUrl" : "https://github.com/root-project/root/pull/6570#pullrequestreview-509432608",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7c06b527-37b4-4f17-bf63-3887900140cb",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "@pcanal, instead of checking for a `TMemFile` here, would there be a way to check for a file on disk and revert the condition? For example, if `file` is a `TDirectoryFile`. The question is really for which of the classes below it makes sense to call `ChangeFile()`?\r\n```bash\r\n$ git grep -o 'class T.*File.*public T.*File'\r\ndcache/inc/TDCacheFile.h:class TDCacheFile : public TFile\r\ngfal/inc/TGFALFile.h:class TGFALFile : public TFile\r\nio/inc/ROOT/TBufferMerger.hxx:class TBufferMergerFile : public TMemFile\r\nio/inc/TFile.h:class TFile : public TDirectoryFile\r\nio/inc/TMemFile.h:class TMemFile : public TFile\r\nio/inc/TZIPFile.h:class TZIPFile : public TArchiveFile\r\nmpi/inc/TMPIFile.h:class TMPIFile : public TMemFile\r\nsql/inc/TSQLFile.h:class TSQLFile final : public TFile\r\nxml/inc/TXMLFile.h:class TXMLFile final : public TFile\r\n```\r\nI guess that `TMemFile` correctly also catches `TMPIFile` as needing to ignore the call, but it's not clear to me that `TGFALFile` or `TDCacheFile`, for example, would want to make the call.",
        "createdAt" : "2020-10-08T09:15:41Z",
        "updatedAt" : "2020-11-05T10:11:02Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "1d93203f-b5f3-4048-b6af-115e9e6a514b",
        "parentId" : "7c06b527-37b4-4f17-bf63-3887900140cb",
        "authorId" : "82ce2c80-31ff-4f7b-91f0-fff78777d7f9",
        "body" : "The original issue and the new one described in #6640 are addressed in the PR, if you think the solution should be modified I'm open to discussion :smile: .",
        "createdAt" : "2020-10-15T14:19:51Z",
        "updatedAt" : "2020-11-05T10:11:02Z",
        "lastEditedBy" : "82ce2c80-31ff-4f7b-91f0-fff78777d7f9",
        "tags" : [
        ]
      }
    ],
    "commit" : "f7e7fbbcad5c3920f7ea3328897c982d848d7f85",
    "line" : 70,
    "diffHunk" : "@@ -1,1 +4712,4716 @@            // Changing file clashes with the design of TMemFile and derivates, see #6523.\n            if (!(dynamic_cast<TMemFile *>(file)))\n               ChangeFile(file);\n\n   return nerror == 0 ? nbytes : -1;"
  }
]