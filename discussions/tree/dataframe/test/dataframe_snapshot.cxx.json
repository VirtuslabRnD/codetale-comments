[
  {
    "id" : "fa221717-12a2-400d-9217-983071267ac5",
    "prId" : 5603,
    "prUrl" : "https://github.com/root-project/root/pull/5603#pullrequestreview-428720924",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e81fcf21-50c6-434c-81eb-b5d70a7a9f7d",
        "parentId" : null,
        "authorId" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "body" : "Indentation got messed up here.\r\n```suggestion\r\n\tROOT::RDataFrame df(3);\r\n\tauto snap_df = df.Define(\"i\", \"Int{-1};\").Define(\"x\", [] { return 1; }).Snapshot(\"t\", fname);\r\n```",
        "createdAt" : "2020-06-11T08:51:37Z",
        "updatedAt" : "2020-06-11T08:58:46Z",
        "lastEditedBy" : "ec1903c5-44e7-4fb1-bee9-25de61836fba",
        "tags" : [
        ]
      },
      {
        "id" : "3d11ab4e-7ff9-4bf3-87c7-e2e4d9ecb788",
        "parentId" : "e81fcf21-50c6-434c-81eb-b5d70a7a9f7d",
        "authorId" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "body" : "ah good catch, thanks",
        "createdAt" : "2020-06-11T08:57:27Z",
        "updatedAt" : "2020-06-11T08:58:46Z",
        "lastEditedBy" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "tags" : [
        ]
      }
    ],
    "commit" : "17dba85e34500d5b2a63b83be1dd7838a56f54f2",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +713,717 @@   gInterpreter->Declare(\"struct Int { int x; };\");\n   ROOT::RDataFrame df(3);\n   auto snap_df = df.Define(\"i\", \"Int{-1};\").Define(\"x\", [] { return 1; }).Snapshot(\"t\", fname);\n   EXPECT_EQ(snap_df->Sum<int>(\"x\").GetValue(), 3); // prints -3 if the wrong \"x\" is written out\n   EXPECT_EQ(snap_df->Sum<int>(\"i.x\").GetValue(), -3);"
  },
  {
    "id" : "a1869fbf-35c8-4d7d-899e-a2c3f7047d02",
    "prId" : 8753,
    "prUrl" : "https://github.com/root-project/root/pull/8753#pullrequestreview-717766317",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e3674c19-05ac-49d3-bef1-4729339486e4",
        "parentId" : null,
        "authorId" : "82ce2c80-31ff-4f7b-91f0-fff78777d7f9",
        "body" : "I was a bit confused at first because the tree with friend only shows the entries from the \"x\" column of the main one, instead RDF can disambiguate the friend column by prepending the name of the friend tree\r\n```\r\nroot [0] const auto fname1 = \"treewithfriendsmt1.root\";\r\nroot [1] const auto fname2 = \"treewithfriendsmt2.root\";\r\nroot [2] TFile file(fname1);\r\nroot [3] auto tree = file.Get<TTree>(\"t\");\r\nroot [4] TFile file2(fname2);\r\nroot [5] auto tree2 = file2.Get<TTree>(\"t\");\r\nroot [6] tree->AddFriend(tree2);\r\nroot [9] tree->Scan(\"*\")\r\n************************\r\n*    Row   *       x.x *\r\n************************\r\n*        0 *        42 *\r\n*        1 *        42 *\r\n*        2 *        42 *\r\n*        3 *        42 *\r\n*        4 *        42 *\r\n*        5 *        42 *\r\n*        6 *        42 *\r\n*        7 *        42 *\r\n*        8 *        42 *\r\n*        9 *        42 *\r\n************************\r\nroot [10] ROOT::RDataFrame df(*tree);\r\nroot [11] df.Display()->Print()\r\nx  | t.x | \r\n42 | 0   | \r\n42 | 0   | \r\n42 | 0   | \r\n42 | 0   | \r\n42 | 0   | \r\n```\r\nSo effectively this is testing that the Snapshot can correctly select the main \"x\" column and not the befriended \"t.x\" one, right? ",
        "createdAt" : "2021-07-28T21:40:17Z",
        "updatedAt" : "2021-07-28T21:42:36Z",
        "lastEditedBy" : "82ce2c80-31ff-4f7b-91f0-fff78777d7f9",
        "tags" : [
        ]
      },
      {
        "id" : "3f447762-4e28-4c52-bba9-8c6f3546131f",
        "parentId" : "e3674c19-05ac-49d3-bef1-4729339486e4",
        "authorId" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "body" : "that's correct!",
        "createdAt" : "2021-07-29T07:37:34Z",
        "updatedAt" : "2021-07-29T07:37:34Z",
        "lastEditedBy" : "f2c15ca6-f995-45d3-a26d-40d002e52d07",
        "tags" : [
        ]
      }
    ],
    "commit" : "41c0d429c07f26c4435f0bac4dafe21445ad1481",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +1011,1015 @@   auto df_out = df.Snapshot<int>(\"t\", outfname, {\"x\"});\n   EXPECT_EQ(df_out->Max<int>(\"x\").GetValue(), 42);\n   EXPECT_EQ(df_out->GetColumnNames(), std::vector<std::string>{\"x\"});\n\n   ROOT::DisableImplicitMT();"
  }
]