[
  {
    "id" : "a00176c2-66df-4d78-ba78-3ea28b77be1e",
    "prId" : 2436,
    "prUrl" : "https://github.com/root-project/root/pull/2436#pullrequestreview-158068733",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c7f16aad-13da-4ed8-91d7-1a267a8d5073",
        "parentId" : null,
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "I don't understand, how does this add libcrypto?",
        "createdAt" : "2018-09-24T06:26:48Z",
        "updatedAt" : "2018-09-24T06:26:48Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "94dd3a4c-f767-4c79-a988-f9f9d5420b51",
        "parentId" : "c7f16aad-13da-4ed8-91d7-1a267a8d5073",
        "authorId" : "c130f90f-ce87-4bc5-a2bd-7b1b93d94515",
        "body" : "This was the only place where it said LIBRARIES ${OPENSSL_LIBRARIES} without BUILTINS OPENSSL. You should always have both. ${OPENSSL_LIBRARIES} provides libssl and libcrypto when the system libraries are used, BUILTINS OPENSSL provides libssl and libcrypto when the builtin openssl is used. Having {OPENSSL_LIBRARIES} without BUILTINS OPENSSL is inconsistent.\r\n",
        "createdAt" : "2018-09-24T06:41:13Z",
        "updatedAt" : "2018-09-24T06:41:13Z",
        "lastEditedBy" : "c130f90f-ce87-4bc5-a2bd-7b1b93d94515",
        "tags" : [
        ]
      },
      {
        "id" : "e2877a0a-550f-4552-9efd-c9dbafbdfab6",
        "parentId" : "c7f16aad-13da-4ed8-91d7-1a267a8d5073",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "I updated the builtin for OpenSSL, so that having `BUILTINS OPENSSL` would not be necessary anymore. Is there a way I can reproduce the error you see? See, for example, commits  65bbb7652f6294e74d328f3bc8adf6690d1e9967 and 3787d16a54f3b626812d0b5c412d002c1784031c, and take a look at the log for `builtins/openssl` in  ROOT for more details. If some configuration doesn't work for you, I'd like to fix the `CMakeLists.txt` for builtin OpenSSL. Eventually, I want the `BUILTINS` option to disappear from the build system. The dependencies should be there by default regardless if a package is builtin or not.",
        "createdAt" : "2018-09-24T08:13:56Z",
        "updatedAt" : "2018-09-24T08:13:56Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      },
      {
        "id" : "5d70d3a5-6011-4d30-ae97-965e4d51acff",
        "parentId" : "c7f16aad-13da-4ed8-91d7-1a267a8d5073",
        "authorId" : "c130f90f-ce87-4bc5-a2bd-7b1b93d94515",
        "body" : "The change here was just for consistency.\r\nThe change needed to fix the link error was the change in the rule for compiling libSrvAuth.so in net/rpdutils/CMakeLists.txt. After the change that made the dependency on openssl in libNet private, this dependency is no longer inherited by SrvAuth by declaring DEPENDENCIES Net. And since SrvAuth uses openssl directly the linking started to fail.",
        "createdAt" : "2018-09-24T08:38:10Z",
        "updatedAt" : "2018-09-24T08:38:11Z",
        "lastEditedBy" : "c130f90f-ce87-4bc5-a2bd-7b1b93d94515",
        "tags" : [
        ]
      },
      {
        "id" : "3e6d66db-c8ee-4e05-9817-a9c00071605f",
        "parentId" : "c7f16aad-13da-4ed8-91d7-1a267a8d5073",
        "authorId" : "c130f90f-ce87-4bc5-a2bd-7b1b93d94515",
        "body" : "The undefined references come from globus.cxx.o, so in order to reproduce you need to configure using -Dglobus:BOOL=ON.",
        "createdAt" : "2018-09-24T08:50:56Z",
        "updatedAt" : "2018-09-24T08:50:56Z",
        "lastEditedBy" : "c130f90f-ce87-4bc5-a2bd-7b1b93d94515",
        "tags" : [
        ]
      },
      {
        "id" : "3fcee85a-048f-4aef-a5b7-ac6cbca62a02",
        "parentId" : "c7f16aad-13da-4ed8-91d7-1a267a8d5073",
        "authorId" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "body" : "Thanks. I will try with this configuration and fix the problem. The `BUILTINS` option will gradually go away, so I don't want to add it back if it's not needed.",
        "createdAt" : "2018-09-24T11:53:46Z",
        "updatedAt" : "2018-09-24T11:53:46Z",
        "lastEditedBy" : "a66b5f61-1206-4ddd-b280-befb0005276f",
        "tags" : [
        ]
      }
    ],
    "commit" : "40ffee7443df59a9702be993839fe6d7c3a6c1f1",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +6,10 @@ROOT_EXECUTABLE(rootd *.cxx ${CMAKE_SOURCE_DIR}/core/clib/src/strlcpy.c\n  LIBRARIES rpdutil rsa ${GLOBUS_LIBRARIES} ${OPENSSL_LIBRARIES}\n  BUILTINS OPENSSL)\n\ninclude_directories(${CMAKE_CURRENT_SOURCE_DIR}/../rpdutils/res)"
  }
]