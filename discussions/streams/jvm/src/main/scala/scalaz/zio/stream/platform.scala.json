[
  {
    "id" : "b958b0cd-1d7b-4b23-969f-6fd5042a7842",
    "prId" : 870,
    "prUrl" : "https://github.com/zio/zio/pull/870#pullrequestreview-241718273",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9be3ba17-c694-4869-b21d-c8530cf8982c",
        "parentId" : null,
        "authorId" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "body" : "`effectBlocking(is.close()).option.unit`, maybe? I am not sure if it's better to die on close of the stream or just ignore the error and continue.",
        "createdAt" : "2019-05-19T07:27:12Z",
        "updatedAt" : "2019-06-01T13:09:28Z",
        "lastEditedBy" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "tags" : [
        ]
      },
      {
        "id" : "cfd8cd12-19b0-427f-82e0-e56141e1eeba",
        "parentId" : "9be3ba17-c694-4869-b21d-c8530cf8982c",
        "authorId" : "4f7a0777-ad97-4424-aa99-3fcea1de6a97",
        "body" : "Hmm not sure either. But dying here can be circumvented by the user by sandboxing; swallowing the error cannot.",
        "createdAt" : "2019-05-24T12:45:00Z",
        "updatedAt" : "2019-06-01T13:09:28Z",
        "lastEditedBy" : "4f7a0777-ad97-4424-aa99-3fcea1de6a97",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed2745605238271d7ba6a40478784ce1bf1e532d",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +19,23 @@    ZStreamChunk {\n      ZStream.unfoldM(()) { _ =>\n        effectBlocking {\n          val buf       = Array.ofDim[Byte](chunkSize)\n          val bytesRead = is.read(buf)"
  },
  {
    "id" : "87a6aef6-7d2b-47bc-b1ae-d3725e2ec6fa",
    "prId" : 870,
    "prUrl" : "https://github.com/zio/zio/pull/870#pullrequestreview-239224361",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9946b107-316a-46a8-9281-1606fc89116e",
        "parentId" : null,
        "authorId" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "body" : "👍 ",
        "createdAt" : "2019-05-19T07:27:43Z",
        "updatedAt" : "2019-06-01T13:09:28Z",
        "lastEditedBy" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed2745605238271d7ba6a40478784ce1bf1e532d",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +20,24 @@      ZStream.unfoldM(()) { _ =>\n        effectBlocking {\n          val buf       = Array.ofDim[Byte](chunkSize)\n          val bytesRead = is.read(buf)\n"
  },
  {
    "id" : "90c5e999-0bc0-416a-86c8-c7ff5a6f2d92",
    "prId" : 870,
    "prUrl" : "https://github.com/zio/zio/pull/870#pullrequestreview-242051609",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0b542551-2be8-4b66-9c7c-6360f593f60c",
        "parentId" : null,
        "authorId" : "cc8bc8c4-90ec-4817-908a-529be81ef42a",
        "body" : "```suggestion\r\n          if (bytesRead <= 0) None\r\n```",
        "createdAt" : "2019-05-26T09:09:34Z",
        "updatedAt" : "2019-06-01T13:09:28Z",
        "lastEditedBy" : "cc8bc8c4-90ec-4817-908a-529be81ef42a",
        "tags" : [
        ]
      },
      {
        "id" : "ec9f955f-040b-4f13-bbd9-7070668b6388",
        "parentId" : "0b542551-2be8-4b66-9c7c-6360f593f60c",
        "authorId" : "4f7a0777-ad97-4424-aa99-3fcea1de6a97",
        "body" : "Hmm @regiskuckaertz I'm not sure that's accurate as the javadoc says that `-1` is the sentinel.",
        "createdAt" : "2019-05-26T19:07:03Z",
        "updatedAt" : "2019-06-01T13:09:28Z",
        "lastEditedBy" : "4f7a0777-ad97-4424-aa99-3fcea1de6a97",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed2745605238271d7ba6a40478784ce1bf1e532d",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +23,27 @@          val bytesRead = is.read(buf)\n\n          if (bytesRead < 0) None\n          else if (0 < bytesRead && bytesRead < buf.length) Some((Chunk.fromArray(buf).take(buf.length), ()))\n          else Some((Chunk.fromArray(buf), ()))"
  },
  {
    "id" : "949f35b5-a742-4df0-ab5a-5709fb489b79",
    "prId" : 870,
    "prUrl" : "https://github.com/zio/zio/pull/870#pullrequestreview-243995327",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1a02f2c2-1926-483d-95cd-a14b815715a6",
        "parentId" : null,
        "authorId" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "body" : "Can you do `.refineOrDie { case e : IOException => e }`?",
        "createdAt" : "2019-05-30T19:48:40Z",
        "updatedAt" : "2019-06-01T13:09:28Z",
        "lastEditedBy" : "fb116aef-1bf2-4605-9639-255437a2e564",
        "tags" : [
        ]
      },
      {
        "id" : "f7bef9e9-9d21-456c-af76-7b2b481df842",
        "parentId" : "1a02f2c2-1926-483d-95cd-a14b815715a6",
        "authorId" : "4f7a0777-ad97-4424-aa99-3fcea1de6a97",
        "body" : "Right! Good point.",
        "createdAt" : "2019-05-30T19:52:29Z",
        "updatedAt" : "2019-06-01T13:09:28Z",
        "lastEditedBy" : "4f7a0777-ad97-4424-aa99-3fcea1de6a97",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed2745605238271d7ba6a40478784ce1bf1e532d",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +51,55 @@      }.refineOrDie {\n        case e: IOException => e\n      }\n    }\n}"
  }
]