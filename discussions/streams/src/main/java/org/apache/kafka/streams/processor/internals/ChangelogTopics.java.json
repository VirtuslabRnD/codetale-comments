[
  {
    "id" : "0579ab22-2e08-4ce6-a68b-a3655c93cb6d",
    "prId" : 10163,
    "prUrl" : "https://github.com/apache/kafka/pull/10163#pullrequestreview-602206034",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "57828e51-48bc-435e-b1d2-253b4943a6be",
        "parentId" : null,
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "Is there a specific reason we need to make an explicit call to `setup()` rather than just doing this in the constructor? I'm always worried we'll end up forgetting to call `setup` again after some refactoring and someone will waste a day debugging their code because they tried to use a `Changelogs` object before/without first calling `setup()`",
        "createdAt" : "2021-02-26T20:44:29Z",
        "updatedAt" : "2021-03-02T13:27:25Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      },
      {
        "id" : "5d7e984a-1162-4baa-b342-8966d9645d5f",
        "parentId" : "57828e51-48bc-435e-b1d2-253b4943a6be",
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "I agree with you and if I remember correctly you brought this up also on my change that introduces `RepartitionTopics`. Once we have the explicit user initialisation as described in KIP-698, we need to distinguish between setting up the broker-side state for Streams and verifying the the broker-side change. That requires changes in the `InternalTopicManager`. Currently, I could not separate this two concerns and left both in the setup method. Moving forward I will put everything that can be initialized in the constructor to avoid the mistakes you refer to. Consider the state of this class a temporary situation that will be soon fixed.",
        "createdAt" : "2021-03-02T12:58:22Z",
        "updatedAt" : "2021-03-02T13:27:25Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      },
      {
        "id" : "3513683d-ddaa-40d9-9468-935db63ca0d3",
        "parentId" : "57828e51-48bc-435e-b1d2-253b4943a6be",
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "Sounds good ðŸ™‚ ",
        "createdAt" : "2021-03-02T19:52:21Z",
        "updatedAt" : "2021-03-02T19:52:22Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      }
    ],
    "commit" : "f47043f770db767a35759d2b0062e2a196e475a0",
    "line" : 57,
    "diffHunk" : "@@ -1,1 +55,59 @@    }\n\n    public void setup() {\n        // add tasks to state change log topic subscribers\n        final Map<String, InternalTopicConfig> changelogTopicMetadata = new HashMap<>();"
  }
]