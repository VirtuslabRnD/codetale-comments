[
  {
    "id" : "6cf6cf26-3f34-4014-82d4-2a16862b90f2",
    "prId" : 6170,
    "prUrl" : "https://github.com/apache/kafka/pull/6170#pullrequestreview-194292572",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9f294474-6b1d-4a82-a384-14f9d74dc506",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "This replaces old class `Segments`",
        "createdAt" : "2019-01-18T21:37:34Z",
        "updatedAt" : "2019-01-25T17:41:55Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "b99f1d6b48fa56018464e5a547cb7c834b261d6c",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@ * Manages the {@link KeyValueSegment}s that are used by the {@link RocksDBSegmentedBytesStore}\n */\nclass KeyValueSegments extends AbstractSegments<KeyValueSegment> {\n\n    KeyValueSegments(final String name, final long retentionPeriod, final long segmentInterval) {"
  },
  {
    "id" : "f4dcca3d-96c3-40cc-8043-e31a4fb135e9",
    "prId" : 6170,
    "prUrl" : "https://github.com/apache/kafka/pull/6170#pullrequestreview-194410620",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "28f97230-07dc-41db-b1b8-3e042d97f75e",
        "parentId" : null,
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "nit: I'm wondering if this would be easier to read\r\n```java\r\nif(segments.put(segmentId, newSegment)!= null){\r\n  throw new IllegalStateException(\"KeyValueSegment already exists. Possible concurrent access.\");\r\n}\r\n```\r\nHowever, this is highly opinated ",
        "createdAt" : "2019-01-20T21:43:59Z",
        "updatedAt" : "2019-01-25T17:41:55Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      }
    ],
    "commit" : "b99f1d6b48fa56018464e5a547cb7c834b261d6c",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +34,38 @@        } else {\n            final KeyValueSegment newSegment = new KeyValueSegment(segmentName(segmentId), name, segmentId);\n\n            if (segments.put(segmentId, newSegment) != null) {\n                throw new IllegalStateException(\"KeyValueSegment already exists. Possible concurrent access.\");"
  },
  {
    "id" : "828b4ea3-4263-449f-b882-31a154465d26",
    "prId" : 7209,
    "prUrl" : "https://github.com/apache/kafka/pull/7209#pullrequestreview-274691863",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2113e427-612c-46a4-b146-950770f25a96",
        "parentId" : null,
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "The same recorder instance is passed to the RocksDB store instance of each segment.",
        "createdAt" : "2019-08-14T06:44:01Z",
        "updatedAt" : "2019-08-26T11:09:34Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "347191422f0bdce0112e46b0df597b41245d4861",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +42,46 @@        } else {\n            final KeyValueSegment newSegment =\n                new KeyValueSegment(segmentName(segmentId), name, segmentId, metricsRecorder);\n\n            if (segments.put(segmentId, newSegment) != null) {"
  }
]