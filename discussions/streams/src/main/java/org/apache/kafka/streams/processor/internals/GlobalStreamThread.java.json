[
  {
    "id" : "0864865e-0cc1-477c-b0b8-1ddbae79acef",
    "prId" : 7416,
    "prUrl" : "https://github.com/apache/kafka/pull/7416#pullrequestreview-296481476",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2f47c2f1-dd72-4626-84ff-f36b4eeb116f",
        "parentId" : null,
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "We seem to use `StreamsMetricsImpl` in several places, would it be better to accept a type `StreamsMetrics` and cast it internally to `StreamsMetricsImpl`? Same comment applies to here and elsewhere.  I might be missing some context here though.",
        "createdAt" : "2019-10-01T15:56:54Z",
        "updatedAt" : "2019-10-04T08:23:54Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      },
      {
        "id" : "19810cb2-3d10-41e9-8ca1-40c03935d3dc",
        "parentId" : "2f47c2f1-dd72-4626-84ff-f36b4eeb116f",
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "`StreamsMetrics` is our public interface to interact with metrics. `StreamsMetricsImpl` is our internal implementation that also has methods to create our built-in metrics. As far as I know, we pass `StreamsMetricsImpl` only to internal objects where we need the methods for built-in metrics. A Streams user would only see the `StreamsMetrics` interface. Said that, I think it is fine as it is.",
        "createdAt" : "2019-10-02T10:14:34Z",
        "updatedAt" : "2019-10-04T08:23:54Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      },
      {
        "id" : "9ad3f714-b913-456e-b2c4-be62189a4b9c",
        "parentId" : "2f47c2f1-dd72-4626-84ff-f36b4eeb116f",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "My two cents: it's better not to cast. If we need the \"internal interface\" (i.e., Impl) here, then we should simply declare that fact in the parameter type. Then, the calling code would always know it has to pass an Impl, and we wouldn't ever get surprise ClassCastExceptions in tests or runtime code.",
        "createdAt" : "2019-10-02T19:47:52Z",
        "updatedAt" : "2019-10-04T08:23:54Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "ab3c0436cf659dd6f76b2b6b5360d327bad385bb",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +179,183 @@                              final StateDirectory stateDirectory,\n                              final long cacheSizeBytes,\n                              final StreamsMetricsImpl streamsMetrics,\n                              final Time time,\n                              final String threadClientId,"
  }
]