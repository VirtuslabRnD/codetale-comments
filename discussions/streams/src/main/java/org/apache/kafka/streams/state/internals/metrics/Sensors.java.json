[
  {
    "id" : "899f30fe-cdf3-45d1-b82d-9a503a8ec8da",
    "prId" : 5450,
    "prUrl" : "https://github.com/apache/kafka/pull/5450#pullrequestreview-142918894",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c5a88195-8195-4fce-9544-0f745d4cf0fd",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Just creating a place where all the state stores can access this method without exposing it to the whole code base.",
        "createdAt" : "2018-08-02T18:45:13Z",
        "updatedAt" : "2018-08-03T22:17:02Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "b590af4726d2e4fc3bf1186676f6f9015388cd3e",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +25,29 @@import static org.apache.kafka.streams.processor.internals.metrics.StreamsMetricsImpl.addInvocationRateAndCount;\n\npublic final class Sensors {\n    \n    private Sensors() {}"
  },
  {
    "id" : "da29b1a8-1c2c-4b7c-aab1-c31782a1b442",
    "prId" : 5795,
    "prUrl" : "https://github.com/apache/kafka/pull/5795#pullrequestreview-175623696",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f9eac43f-35ca-4bf2-9db4-257822887fc6",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "In the KIP, I erroneously proposed to make this a node-level sensor. It should be a store-level sensor instead. I'm proposing to update the KIP if you all agree.",
        "createdAt" : "2018-10-16T19:38:12Z",
        "updatedAt" : "2018-11-27T01:22:02Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "9802f492-76fd-4619-ba54-c4a40b779064",
        "parentId" : "f9eac43f-35ca-4bf2-9db4-257822887fc6",
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "Yeah, that makes sense to me. +1",
        "createdAt" : "2018-10-19T23:24:14Z",
        "updatedAt" : "2018-11-27T01:22:02Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      },
      {
        "id" : "a87e4396-7b32-4bd2-9bdd-1080250b4e14",
        "parentId" : "f9eac43f-35ca-4bf2-9db4-257822887fc6",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "+1",
        "createdAt" : "2018-11-15T01:49:41Z",
        "updatedAt" : "2018-11-27T01:22:02Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "21bea5e6-4f86-40e5-acf2-6f1986bd84f2",
        "parentId" : "f9eac43f-35ca-4bf2-9db4-257822887fc6",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "This is not newly introduced in this PR but: although we call it `stream-buffer-metrics` where the `buffer-id` is the store-name, BUT the store name could be an auto-generated name. Note for the named cache we call it `stream-record-cache-metrics` but the cache name is the store name, and hence we have the same issue.\r\n\r\nBut here we use the store.name which would be `KTABLE-SUPPRESS-XXXX-store` if it is auto generated, maybe it's less confusing to use the processor-name instead which would be `KTABLE-SUPPRESS-XXX` if it is auto generated. Note even if `Suppressed.name()` is specified as `XYZ` with store.name() we still set the buffer-id as `XYZ-store` instead.",
        "createdAt" : "2018-11-15T02:00:33Z",
        "updatedAt" : "2018-11-27T01:22:02Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "d873aade-0ebd-43d9-bb58-8675ae289249",
        "parentId" : "f9eac43f-35ca-4bf2-9db4-257822887fc6",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "I think it's good to be aware of this, but it seems like reporting the store name is the right thing to do here.\r\n\r\nNote that the buffer in this case *is* the store for the suppression processor. So, using the processor name instead of the full store name would be more analogous to doing the same thing for a K/V Store.\r\n\r\nAs written, the metrics that are specific to the buffer (aka store) will be tagged with a name that matches the name of that component when you describe the topology.\r\n\r\nDoes that seem right, or have I missed your point?",
        "createdAt" : "2018-11-16T01:03:41Z",
        "updatedAt" : "2018-11-27T01:22:02Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "bd8806c91d24ee933ce6e1ab8972e725bf42ef12",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +75,79 @@        );\n\n        final String metricsGroup = \"stream-buffer-metrics\";\n\n        final Map<String, String> tags = metrics.tagMap("
  }
]