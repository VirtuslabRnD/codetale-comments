[
  {
    "id" : "57b6ee05-2c8b-42d9-833c-0229db3c60a3",
    "prId" : 4508,
    "prUrl" : "https://github.com/apache/kafka/pull/4508#pullrequestreview-93502430",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "136bbccc-a4c7-463c-aa9f-8ab2398975dd",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "This is intentional which is a bug fix that gets exposed when adding the unit tests.",
        "createdAt" : "2018-02-02T02:09:46Z",
        "updatedAt" : "2018-02-06T01:08:20Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "38e41829-358e-4ebe-829c-af81c191cdc8",
        "parentId" : "136bbccc-a4c7-463c-aa9f-8ab2398975dd",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "In KIP-182 refactoring, for in-memory-lru store we have changed the layering such that this class will embed the `MemoryNavigableLRUCache ` as its inner directly, and the old class is deprecated; however we forgot to add the same logic to register the listener, and hence flushing will not send tombstones to downstream.",
        "createdAt" : "2018-02-02T02:15:01Z",
        "updatedAt" : "2018-02-06T01:08:20Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "98b78ecd73a08d76506318623561b797d1659c49",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +47,51 @@                    inner.name())));\n\n        // if the inner store is an LRU cache, add the eviction listener to log removed record\n        if (inner instanceof MemoryLRUCache) {\n            ((MemoryLRUCache<Bytes, byte[]>) inner).whenEldestRemoved(new MemoryLRUCache.EldestEntryRemovalListener<Bytes, byte[]>() {"
  }
]