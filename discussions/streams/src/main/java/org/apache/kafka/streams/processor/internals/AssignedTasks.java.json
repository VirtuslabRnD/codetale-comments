[
  {
    "id" : "cdb94347-53dd-4825-b483-dc4830ce9b2c",
    "prId" : 4544,
    "prUrl" : "https://github.com/apache/kafka/pull/4544#pullrequestreview-99410907",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "54ecf865-b4ca-401c-a52b-ac4f887b9c7a",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "This is also intentional: to be consistent with other scenarios, when commit fails with TaskMigratedException we also throw it immediately than waiting for the who iteration to complete. cc @mjsax ",
        "createdAt" : "2018-02-24T01:21:42Z",
        "updatedAt" : "2018-02-26T22:53:32Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "7f97756e-18d9-4c1c-9bcd-782c17163503",
        "parentId" : "54ecf865-b4ca-401c-a52b-ac4f887b9c7a",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Ack.",
        "createdAt" : "2018-02-26T18:21:34Z",
        "updatedAt" : "2018-02-26T22:53:32Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c08097b3c0a5a569bf05b1872460a6f282786a12",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +378,382 @@                }\n                it.remove();\n                throw e;\n            } catch (final RuntimeException t) {\n                log.error(\"Failed to {} {} {} due to the following error:\","
  },
  {
    "id" : "13bd0ffd-e2ba-4524-9e3b-a44a0df72e82",
    "prId" : 5657,
    "prUrl" : "https://github.com/apache/kafka/pull/5657#pullrequestreview-156027752",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2b5df316-6262-408f-be2e-ce8d595b7c6d",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Some additional type improvements (if we agree to do this, we would need a follow up PR to do this in `2.0` and `trunk`, too)",
        "createdAt" : "2018-09-15T00:39:27Z",
        "updatedAt" : "2018-09-18T01:50:45Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "e9195c5c-0951-4ccb-8de8-08f98af2101b",
        "parentId" : "2b5df316-6262-408f-be2e-ce8d595b7c6d",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "LGTM, as only active tasks can be restoring tasks. Are you suggesting to make this more strict to prevent potential bugs?",
        "createdAt" : "2018-09-17T16:44:15Z",
        "updatedAt" : "2018-09-18T01:50:45Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "4fe29e9e-798c-405f-b080-d07e35a5792a",
        "parentId" : "2b5df316-6262-408f-be2e-ce8d595b7c6d",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Yes. IMHO, if we can improve type safety we should do it -- also, for newcomers it's easier to read the code.",
        "createdAt" : "2018-09-17T17:09:20Z",
        "updatedAt" : "2018-09-18T01:50:45Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "317e534d50cb26c93dda69261d51295817f9c6a9",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +51,55 @@    private Map<TaskId, Task> running = new ConcurrentHashMap<>();\n    private Map<TopicPartition, Task> runningByPartition = new HashMap<>();\n    private Map<TopicPartition, StreamTask> restoringByPartition = new HashMap<>();\n    private int committed = 0;\n"
  },
  {
    "id" : "73bc1d74-340d-436b-85d1-d6d4f2da83fa",
    "prId" : 7463,
    "prUrl" : "https://github.com/apache/kafka/pull/7463#pullrequestreview-298552464",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1e45eb96-de59-4bec-80be-4eaf69834a8a",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "side cleanup: return type is never used.",
        "createdAt" : "2019-10-08T06:24:21Z",
        "updatedAt" : "2019-10-10T01:02:23Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c47dfc79b0b4a8238e7bdc8707ee9ca32ff324ea",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +253,257 @@    }\n\n    private void closeUnclean(final T task) {\n        log.info(\"Try to close {} {} unclean.\", task.getClass().getSimpleName(), task.id());\n        try {"
  },
  {
    "id" : "c8130c6f-dba0-436f-b127-8f5bf45cad3b",
    "prId" : 7463,
    "prUrl" : "https://github.com/apache/kafka/pull/7463#pullrequestreview-299773921",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b524dae9-b3ee-4c12-8f76-a2bd9bb0549c",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "This is new -- we need to initialize the task after we created it.",
        "createdAt" : "2019-10-10T01:05:21Z",
        "updatedAt" : "2019-10-10T01:05:21Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c47dfc79b0b4a8238e7bdc8707ee9ca32ff324ea",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +69,73 @@            try {\n                final T task = entry.getValue();\n                task.initializeMetadata();\n                if (!task.initializeStateStores()) {\n                    log.debug(\"Transitioning {} {} to restoring\", taskTypeName, entry.getKey());"
  }
]