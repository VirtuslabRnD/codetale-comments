[
  {
    "id" : "1b457ef2-c65c-41a8-8fc0-1603b5562c94",
    "prId" : 10755,
    "prUrl" : "https://github.com/apache/kafka/pull/10755#pullrequestreview-669329853",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "67e603ca-8ff9-4876-af24-04d51685205b",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Should we make this protected and add a internal \"impl\" class? (And also mark as non-public so we can eventually move to an interface?)",
        "createdAt" : "2021-05-26T01:27:01Z",
        "updatedAt" : "2021-05-26T01:28:31Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "b6db8432-d3e4-4a35-b9ee-980648d311be",
        "parentId" : "67e603ca-8ff9-4876-af24-04d51685205b",
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "Well, we would still need a public constructor no matter what even with an internal impl class. I'll add a comment to clarify that it's not intended for public use and maybe file a followup ticket to migrate this to an interface in case someone wants to get into that",
        "createdAt" : "2021-05-26T02:07:25Z",
        "updatedAt" : "2021-05-26T02:07:25Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      },
      {
        "id" : "bdc18141-f2dd-49e1-bb00-22e9f099ed04",
        "parentId" : "67e603ca-8ff9-4876-af24-04d51685205b",
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "https://issues.apache.org/jira/browse/KAFKA-12849",
        "createdAt" : "2021-05-26T02:31:18Z",
        "updatedAt" : "2021-05-26T02:31:18Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      },
      {
        "id" : "6ceeaae5-1005-4163-bbf1-7cf458fd14d7",
        "parentId" : "67e603ca-8ff9-4876-af24-04d51685205b",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "> Well, we would still need a public constructor\r\n\r\nWhy can't we make it `protected`.",
        "createdAt" : "2021-05-26T06:46:15Z",
        "updatedAt" : "2021-05-26T06:46:15Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "11456c1d-9652-4e44-954a-dac1826a5228",
        "parentId" : "67e603ca-8ff9-4876-af24-04d51685205b",
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "I meant it seems like we should need it as long as TaskMetadata continues to be a public class, ie if we take away the constructor then we've essentially all but made it into an interface already -- which was not what was agreed on in KIP-740, and I don't want to drag this out further if there is any pushback...\r\n\r\nImo it's sufficient to just leave the constructor as `public` but not present it as a public API, and leave the rest for the KIP for [KAFKA-12849](https://issues.apache.org/jira/browse/KAFKA-12849). It's a simple KIP so I'm optimistic someone new to kafka may want to pick it up ðŸ™‚ \r\n\r\nAll that said I don't feel too strongly (in fact I agree with you) so I can be convinced if you do",
        "createdAt" : "2021-05-26T16:28:04Z",
        "updatedAt" : "2021-05-26T16:28:04Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      },
      {
        "id" : "b1bd9620-1707-4a3f-b204-48cdbea8871a",
        "parentId" : "67e603ca-8ff9-4876-af24-04d51685205b",
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "In fact we already got a bite on  KAFKA-12849 -- if it's all the same to you then I'd prefer to just let this be handled by that KIP. Assuming we get it in by 3.0 then there won't ever be a new public constructor published for TaskMetadata",
        "createdAt" : "2021-05-26T17:05:49Z",
        "updatedAt" : "2021-05-26T17:05:49Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      },
      {
        "id" : "67340eb2-3226-415f-8a70-d09a9ae42e9a",
        "parentId" : "67e603ca-8ff9-4876-af24-04d51685205b",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Works for me. Thanks for the details.",
        "createdAt" : "2021-05-26T17:14:57Z",
        "updatedAt" : "2021-05-26T17:14:58Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "1bcb66fdb63a9f7d1fb054121e3da3c1b303d3f1",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +54,58 @@\n    // For internal use -- not a public API\n    public TaskMetadata(final TaskId taskId,\n                        final Set<TopicPartition> topicPartitions,\n                        final Map<TopicPartition, Long> committedOffsets,"
  },
  {
    "id" : "ca7721f8-b814-42e4-ae43-912fdaa15685",
    "prId" : 10840,
    "prUrl" : "https://github.com/apache/kafka/pull/10840#pullrequestreview-678454022",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "153f68be-011d-4a7f-b169-55c5906acd54",
        "parentId" : null,
        "authorId" : "57e5aebe-6b6e-42ba-91fa-921189a7cab6",
        "body" : "This reverts TaskMetadata to the state before KIP-740. As this TaskMetadata is deprecated, no need to do any type change here.",
        "createdAt" : "2021-06-08T12:34:23Z",
        "updatedAt" : "2021-06-08T12:38:17Z",
        "lastEditedBy" : "57e5aebe-6b6e-42ba-91fa-921189a7cab6",
        "tags" : [
        ]
      }
    ],
    "commit" : "8defa04aa99a56d2b5fc05ae2732617a448937c3",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +33,37 @@public class TaskMetadata {\n\n    private final String taskId;\n\n    private final Set<TopicPartition> topicPartitions;"
  },
  {
    "id" : "9012374f-6a8b-4614-be2a-b97b4f996aa5",
    "prId" : 10840,
    "prUrl" : "https://github.com/apache/kafka/pull/10840#pullrequestreview-690379023",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "591dcd0c-115e-4711-8402-d504ea65cedd",
        "parentId" : null,
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "nit: If we deprecate the class, we do not need to deprecate the constructor anymore, right?",
        "createdAt" : "2021-06-23T08:52:10Z",
        "updatedAt" : "2021-06-23T09:46:30Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "8defa04aa99a56d2b5fc05ae2732617a448937c3",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +30,34 @@ * @deprecated since 3.0, use {@link org.apache.kafka.streams.TaskMetadata} instead.\n */\n@Deprecated\npublic class TaskMetadata {\n"
  }
]