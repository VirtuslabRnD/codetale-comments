[
  {
    "id" : "ae1d455d-cd5d-44ec-9af9-2f6413e8b3e3",
    "prId" : 5682,
    "prUrl" : "https://github.com/apache/kafka/pull/5682#pullrequestreview-160366562",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "02ce8001-9d42-4b9e-97fd-b2b5d754991c",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Add `@throws` to JavaDoc for `IllegalArgumentException`",
        "createdAt" : "2018-09-30T21:11:43Z",
        "updatedAt" : "2018-10-04T14:34:18Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "a42892c1-afe7-4458-9a0a-27a39b779503",
        "parentId" : "02ce8001-9d42-4b9e-97fd-b2b5d754991c",
        "authorId" : "fe0be475-2786-4ac9-8152-c07fa363b977",
        "body" : "Fixed.",
        "createdAt" : "2018-10-01T15:57:09Z",
        "updatedAt" : "2018-10-04T14:34:19Z",
        "lastEditedBy" : "fe0be475-2786-4ac9-8152-c07fa363b977",
        "tags" : [
        ]
      }
    ],
    "commit" : "5210f9fff117c695cb1f3024c94eff7f49599a6a",
    "line" : 122,
    "diffHunk" : "@@ -1,1 +226,230 @@     */\n    @SuppressWarnings({\"deprecation\"}) // removing segments from Windows will fix this\n    public JoinWindows grace(final Duration afterWindowEnd) throws IllegalArgumentException {\n        ApiUtils.validateMillisecondDuration(afterWindowEnd, \"afterWindowEnd\");\n        if (afterWindowEnd.toMillis() < 0) {"
  },
  {
    "id" : "68d65e65-30ef-4a23-a995-ecb4021ab890",
    "prId" : 5954,
    "prUrl" : "https://github.com/apache/kafka/pull/5954#pullrequestreview-179088237",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f6d5e245-a30b-448b-817c-d1a2c5499c92",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "This might be controversial. I change it, to reuse the return type of `ApiUtils.validateMillisecondDuration`. (Similar in other XxxWindows classes).\r\n\r\nThoughts? ",
        "createdAt" : "2018-11-27T23:14:20Z",
        "updatedAt" : "2018-12-11T09:51:36Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "63f8f201-41fa-4098-8973-a7c442444c31",
        "parentId" : "f6d5e245-a30b-448b-817c-d1a2c5499c92",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "It is fine to me.",
        "createdAt" : "2018-11-28T01:28:21Z",
        "updatedAt" : "2018-12-11T09:51:36Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c9c692fa9804850c0cdd372d825db005bf3851f8",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +78,82 @@    public final long afterMs;\n\n    private final long graceMs;\n\n    private JoinWindows(final long beforeMs,"
  },
  {
    "id" : "3aa83e00-910d-4c67-9802-a128cf528b14",
    "prId" : 6664,
    "prUrl" : "https://github.com/apache/kafka/pull/6664#pullrequestreview-233293681",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b48c4851-8030-4a8c-a241-0f26eb3e9872",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "But grace and retention are two different things.\r\n\r\nIn fact, I just had another conversation about this issue, and it seem we need to fix this by allowing people to specify  a retention time IMHO. Not sure if we need to add a `Materialized` parameter or add `Joined#withRetention()` that we use to specify serdes etc.",
        "createdAt" : "2019-05-02T13:42:59Z",
        "updatedAt" : "2019-05-02T13:45:58Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "1c11eecc-0df7-4e96-83f2-b31bc27251e1",
        "parentId" : "b48c4851-8030-4a8c-a241-0f26eb3e9872",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Thanks, @mjsax . I think the ticket author is the same person you were talking with. He (later on) included a snippet of a chat with you.\r\n\r\nI think join windows are a little confusing because we tried to share the logic of windowed aggregations, but it's actually different.\r\n\r\nFor windowed aggregation, grace period defines how long after the window ends it will accept late-arriving records and update the results. The retention time defines how long we keep the state of the window in storage. Clearly, the retention time must be at least big enough to support the updates that may happen during the grace period, but it could be much larger, to support Interactive Queries even after the window is closed to updates.\r\n\r\nJoin windows are a little bit different, because they are not queriable. Therefore, there is no reason to have any retention beyond the grace period. This is also why there's no `Materialized` parameter. The state for the join is purely bookeeping, not a \"materialized view\" in the data processing sense.",
        "createdAt" : "2019-05-02T20:23:16Z",
        "updatedAt" : "2019-05-02T20:23:16Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "ee613c0c-79ba-48ea-9fb5-005ee73086e3",
        "parentId" : "b48c4851-8030-4a8c-a241-0f26eb3e9872",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "The report included the additional issue, that the `gracePeriod()` and neither deprecated `until()` is forwarded as changelog configuration though. Can we include a fix for this on this ticket?",
        "createdAt" : "2019-05-02T20:43:24Z",
        "updatedAt" : "2019-05-02T20:43:24Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "7d53b4f4-6a0d-45f0-9284-ca9c9d07cb1d",
        "parentId" : "b48c4851-8030-4a8c-a241-0f26eb3e9872",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "If grace period isn't specified, then we should be forwarding the `until` aka `maintainMs` through. In his case, though, he was specifying grace period, so we were using it.\r\n\r\nI think his bug report is partly based on a flawed understanding of what he should expect to see, but it's possible there's a real bug somewhere. I'm waiting to see what he says next.",
        "createdAt" : "2019-05-02T21:04:00Z",
        "updatedAt" : "2019-05-02T21:04:00Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "ae55d3e7-cd28-4b5f-a1f2-6ac650f0be58",
        "parentId" : "b48c4851-8030-4a8c-a241-0f26eb3e9872",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "I agree that for JoinWindows it is not necessary to let users specify retention since the underlying stores would not be queryable at all.\r\n\r\nAnd with `until` specified, the retention of the store, as well as the total \"joinable\" processing period, should be join-window + grace-period.",
        "createdAt" : "2019-05-03T00:33:16Z",
        "updatedAt" : "2019-05-03T00:33:17Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "5b2b4ae4a70e0f66adda62cccc21c438c488ea0e",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +247,251 @@     * @return itself\n     * @throws IllegalArgumentException if {@code durationMs} is smaller than the window size\n     * @deprecated since 2.1. Use {@link JoinWindows#grace(Duration)} instead.\n     */\n    @Override"
  }
]