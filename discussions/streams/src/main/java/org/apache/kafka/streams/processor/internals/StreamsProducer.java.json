[
  {
    "id" : "e671bb6f-8af3-4a5f-b257-02c72e387cd7",
    "prId" : 8213,
    "prUrl" : "https://github.com/apache/kafka/pull/8213#pullrequestreview-368886901",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "579cd1e5-0df3-4452-85cc-f7574868839f",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "This is a bit on the side, but there was some wacky stuff going on in here, and afaict, the only purpose of all the nullable fields was to allow including the task id in exception messages. Do we really need to do that? If so, I'll just add the logContext to the exception message instead, since it already has the task id in it.",
        "createdAt" : "2020-03-03T22:29:33Z",
        "updatedAt" : "2020-03-05T18:59:47Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "45f630e0-8fef-44db-a301-ac467f6b73f2",
        "parentId" : "579cd1e5-0df3-4452-85cc-f7574868839f",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Actually the `logContext.logPrefix()` should have the format of `stream-thread [%s] task [%s]` already, so all the log4j entries are good. For exception messages, we can just get the `prefix` and then encode that into the exception message.",
        "createdAt" : "2020-03-03T23:28:14Z",
        "updatedAt" : "2020-03-05T18:59:47Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "f948ba23-aeb4-4fa6-b68a-c0d76d992ef1",
        "parentId" : "579cd1e5-0df3-4452-85cc-f7574868839f",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Yep, that's what I was thinking. I'll go ahead and do it.",
        "createdAt" : "2020-03-04T15:40:54Z",
        "updatedAt" : "2020-03-05T18:59:47Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "2eb596b0721bcf1908d19f811d96e5121ca4e41d",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +61,65 @@                           final boolean eosEnabled,\n                           final LogContext logContext,\n                           final String applicationId) {\n        log = logContext.logger(getClass());\n        logPrefix = logContext.logPrefix().trim();"
  },
  {
    "id" : "e188bee5-d25d-4205-bb2e-6545354fbaf1",
    "prId" : 8218,
    "prUrl" : "https://github.com/apache/kafka/pull/8218#pullrequestreview-372438062",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cb4233e5-c713-4740-a6b0-b9c52f931ae1",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Avoid redundant logging.",
        "createdAt" : "2020-03-11T02:22:35Z",
        "updatedAt" : "2020-03-19T08:49:21Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b03a487a518756f7c9acd1f3177b12b407867d5",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +74,78 @@\n    private String formatException(final String message) {\n        return message + \" [\" + logPrefix + \"]\";\n    }\n"
  },
  {
    "id" : "ae14160a-b9e6-49fb-a5f1-c7248f5f6011",
    "prId" : 8218,
    "prUrl" : "https://github.com/apache/kafka/pull/8218#pullrequestreview-372438202",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2476fa28-f72f-458e-bde6-07baf0f4f0f1",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Side cleanup: All those method can actually be package private.",
        "createdAt" : "2020-03-11T02:23:06Z",
        "updatedAt" : "2020-03-19T08:49:21Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b03a487a518756f7c9acd1f3177b12b407867d5",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +80,84 @@     * @throws IllegalStateException if EOS is disabled\n     */\n    void initTransaction() {\n        if (!eosEnabled) {\n            throw new IllegalStateException(formatException(\"EOS is disabled\"));"
  }
]