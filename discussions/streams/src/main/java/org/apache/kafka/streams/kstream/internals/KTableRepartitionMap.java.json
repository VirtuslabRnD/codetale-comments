[
  {
    "id" : "a6b3552d-33ce-4b82-828e-67e3589e7b52",
    "prId" : 6725,
    "prUrl" : "https://github.com/apache/kafka/pull/6725#pullrequestreview-239073291",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4c976e52-0e48-42b8-936d-7bfcb9e87728",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "If there was no mapping for the key upstream, should we just return null?",
        "createdAt" : "2019-05-15T20:24:10Z",
        "updatedAt" : "2019-05-17T20:08:46Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "9ffb2a02-e739-4c98-bdf3-23793023a53f",
        "parentId" : "4c976e52-0e48-42b8-936d-7bfcb9e87728",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Not sure if I can follow. If `valueAndTimestamp == null`, we effectively call ` mapper.apply(key, null))`. If `mapper` returns `null`, `make()` will return `null` (and it does not matter which timestamp we pass into `make` as it's ignored anyway). If `mapper` does not return `null`, we need to put a timestamp: if `valueAndTimestamp` has a timestamp we use it, otherwise we fall back to `context.timestamp()`.\r\n\r\nDoes this make sense?",
        "createdAt" : "2019-05-16T13:46:53Z",
        "updatedAt" : "2019-05-17T20:08:46Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "7369d4f5-fe9c-4557-92df-1cf644b4e9bf",
        "parentId" : "4c976e52-0e48-42b8-936d-7bfcb9e87728",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Yeah, this was my same mistake about the behavior of `make`. Sorry for the confusion.",
        "createdAt" : "2019-05-17T18:13:06Z",
        "updatedAt" : "2019-05-17T20:08:46Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "768ffcc9-3b94-4fca-a33b-730494456c49",
        "parentId" : "4c976e52-0e48-42b8-936d-7bfcb9e87728",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "No need to apologize. Reviewing is asking questions and raising concerns :) ",
        "createdAt" : "2019-05-17T18:28:25Z",
        "updatedAt" : "2019-05-17T20:08:46Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "83c943c3a45322e9a5b5d05557227dbb86fcbc2f",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +122,126 @@            return ValueAndTimestamp.make(\n                mapper.apply(key, getValueOrNull(valueAndTimestamp)),\n                valueAndTimestamp == null ? context.timestamp() : valueAndTimestamp.timestamp());\n        }\n"
  }
]