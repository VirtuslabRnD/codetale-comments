[
  {
    "id" : "67c89b5b-ed03-4dd0-9e9f-8a098110b880",
    "prId" : 6149,
    "prUrl" : "https://github.com/apache/kafka/pull/6149#pullrequestreview-196196991",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b963ac3c-82d8-4ca4-bc79-aa91832c9439",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Out of scope of this: we should consider have a KIP in the next release to refactor APIs of config setters as:\r\n\r\n```\r\npublic interface RocksDBConfigSetter {\r\n\r\n    /**\r\n     * Set the rocks db options for the provided storeName.\r\n     * \r\n     * @param storeName     the name of the store being configured\r\n     * @param options       the Rocks DB options\r\n     * @param configs       the configuration supplied to {@link org.apache.kafka.streams.StreamsConfig}\r\n     */\r\n    void setConfig(final String storeName, final DBOptions dbOptions, final ColumnFamilyOptions cfOptions, final Map<String, Object> configs);\r\n}\r\n```\r\n\r\nAnd then we can choose to call the other constructor of \r\n\r\n```\r\npublic Options(final DBOptions dbOptions,\r\n      final ColumnFamilyOptions columnFamilyOptions) {..}\r\n```",
        "createdAt" : "2019-01-23T20:04:41Z",
        "updatedAt" : "2019-01-30T17:46:21Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "551ef759-5b5e-4598-9c9a-7fe0a94f238d",
        "parentId" : "b963ac3c-82d8-4ca4-bc79-aa91832c9439",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Sure. Can you please create a Jira for tracking? Otherwise it might get dropped.",
        "createdAt" : "2019-01-24T18:43:28Z",
        "updatedAt" : "2019-01-30T17:46:21Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "3a84ecd2-07e9-4c3d-8b2e-f81bc85d3538",
        "parentId" : "b963ac3c-82d8-4ca4-bc79-aa91832c9439",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "https://issues.apache.org/jira/browse/KAFKA-7869",
        "createdAt" : "2019-01-24T18:59:50Z",
        "updatedAt" : "2019-01-30T17:46:21Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "88e573ccb6b6121f755461444c6ad90cf17d9d1d",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +53,57 @@ * This class do the translation between generic {@link Options} into {@link DBOptions} and {@link ColumnFamilyOptions}.\n */\nclass RocksDBGenericOptionsToDbOptionsColumnFamilyOptionsAdapter extends Options {\n    private final DBOptions dbOptions;\n    private final ColumnFamilyOptions columnFamilyOptions;"
  },
  {
    "id" : "3d953a39-29dd-4348-8cd6-a859e3c7a676",
    "prId" : 6149,
    "prUrl" : "https://github.com/apache/kafka/pull/6149#pullrequestreview-196192211",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f52f639b-b1d4-4d97-b301-8b9d43796f62",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Looked at https://github.com/facebook/rocksdb/blob/master/options/options.cc#L367 there seems no code for setting memtable config here.\r\n\r\nI'd suggest we just mimic the code here instead of following the FAQ since that page may well obsoleted.",
        "createdAt" : "2019-01-23T20:11:12Z",
        "updatedAt" : "2019-01-30T17:46:21Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "f7f874fe-32fa-4bf3-a71b-93e587381609",
        "parentId" : "f52f639b-b1d4-4d97-b301-8b9d43796f62",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Ack. Will update the comment accordingly.",
        "createdAt" : "2019-01-24T18:49:01Z",
        "updatedAt" : "2019-01-30T17:46:21Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "88e573ccb6b6121f755461444c6ad90cf17d9d1d",
    "line" : 118,
    "diffHunk" : "@@ -1,1 +116,120 @@        // (2) is done via bulk-loading API\n        // (3) skipping because, not done in actual PrepareForBulkLoad() code in https://github.com/facebook/rocksdb/blob/master/options/options.cc\n        //columnFamilyOptions.setMemTableConfig(new VectorMemTableConfig());\n        // (4-5) below:\n        dbOptions.setMaxBackgroundFlushes(4);"
  },
  {
    "id" : "c0966be5-d9ef-4143-830e-e28bfb8832da",
    "prId" : 6743,
    "prUrl" : "https://github.com/apache/kafka/pull/6743#pullrequestreview-238352492",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4669406e-3774-4087-ab79-44d09782f09e",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Nice one!",
        "createdAt" : "2019-05-16T12:16:20Z",
        "updatedAt" : "2019-05-16T12:19:41Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "5d7a7e3972be20e82ce31e6b522f931d04f9ce57",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +491,495 @@    @Override\n    public Options setWalTtlSeconds(final long walTtlSeconds) {\n        LOG.warn(\"option walTtlSeconds will be ignored: Streams does not expose RocksDB ttl functionality\");\n        dbOptions.setWalTtlSeconds(walTtlSeconds);\n        return this;"
  },
  {
    "id" : "ad302848-53c8-4d70-80ee-56f782099f85",
    "prId" : 7483,
    "prUrl" : "https://github.com/apache/kafka/pull/7483#pullrequestreview-301590601",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bda45183-ae93-4296-a928-6b0bc39a8f41",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Need to make this public to allow `KafkaStreams` to use the helper method.",
        "createdAt" : "2019-10-14T23:42:17Z",
        "updatedAt" : "2019-10-14T23:42:18Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "07769af5eeca7e9cc35580637706882528c77cc7",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +57,61 @@ * This class do the translation between generic {@link Options} into {@link DBOptions} and {@link ColumnFamilyOptions}.\n */\npublic class RocksDBGenericOptionsToDbOptionsColumnFamilyOptionsAdapter extends Options {\n    private final DBOptions dbOptions;\n    private final ColumnFamilyOptions columnFamilyOptions;"
  },
  {
    "id" : "b13eada3-44eb-4644-b08e-9289843474cd",
    "prId" : 9498,
    "prUrl" : "https://github.com/apache/kafka/pull/9498#pullrequestreview-518234470",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3cf9deaf-2f66-4646-b1c2-15bac522c729",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Are there any ordering constraints to call the three `close` methods?",
        "createdAt" : "2020-10-27T23:35:15Z",
        "updatedAt" : "2020-10-27T23:57:13Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "859e86b7-dedf-4e3f-902a-2b2e0ff79139",
        "parentId" : "3cf9deaf-2f66-4646-b1c2-15bac522c729",
        "authorId" : "5b2b5fa0-0fb4-4e52-a4f9-9d4318b5ae5d",
        "body" : "I don't think it matters in this case as the parent's Options handle isn't actually used. Still, I've maintained the inverse of the initialization order here.",
        "createdAt" : "2020-10-27T23:42:24Z",
        "updatedAt" : "2020-10-27T23:57:13Z",
        "lastEditedBy" : "5b2b5fa0-0fb4-4e52-a4f9-9d4318b5ae5d",
        "tags" : [
        ]
      },
      {
        "id" : "7f192267-8f85-4e1d-b79c-8f1c96774365",
        "parentId" : "3cf9deaf-2f66-4646-b1c2-15bac522c729",
        "authorId" : "5b2b5fa0-0fb4-4e52-a4f9-9d4318b5ae5d",
        "body" : "updated the comment",
        "createdAt" : "2020-10-27T23:58:25Z",
        "updatedAt" : "2020-10-27T23:58:25Z",
        "lastEditedBy" : "5b2b5fa0-0fb4-4e52-a4f9-9d4318b5ae5d",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed00b5793a30f93da1cd68eb731c004de459e49e",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +1398,1402 @@        columnFamilyOptions.close();\n        // close super last since we initialized it first\n        super.close();\n    }\n}"
  }
]