[
  {
    "id" : "8c93775a-f7b5-414f-9cbe-497babe228ac",
    "prId" : 6725,
    "prUrl" : "https://github.com/apache/kafka/pull/6725#pullrequestreview-239164325",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "628327a5-6485-456a-9b1a-fa1597a065ed",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "nit: to be consistent and also easier reading for others, we could do the same pattern like above classes, i.e. not initialize the value, just assign within the if-else.",
        "createdAt" : "2019-05-17T23:04:11Z",
        "updatedAt" : "2019-05-17T23:21:25Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "83c943c3a45322e9a5b5d05557227dbb86fcbc2f",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +86,90 @@            final T oldAgg = getValueOrNull(oldAggAndTimestamp);\n            final T intermediateAgg;\n            long newTimestamp = context().timestamp();\n\n            // first try to remove the old value"
  },
  {
    "id" : "5bcaa0cb-01bf-40b5-a2a0-ac08b31e3537",
    "prId" : 6725,
    "prUrl" : "https://github.com/apache/kafka/pull/6725#pullrequestreview-239206420",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d3722452-e1be-43ae-91cc-a2d27c1241ab",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "I found this logic is a bit hard to read, eventually it means `if (oldValue != null || newValue != null) we always check if oldAggAndTimestamp should be updated`.\r\n\r\nCould we just extract this part independently for reading purposes?",
        "createdAt" : "2019-05-17T23:05:20Z",
        "updatedAt" : "2019-05-17T23:21:26Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "a85e4903-0c1f-4c4f-b4f1-5c245ebb0e2b",
        "parentId" : "d3722452-e1be-43ae-91cc-a2d27c1241ab",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Not sure if I can follow. Can you elaborate?",
        "createdAt" : "2019-05-18T17:31:57Z",
        "updatedAt" : "2019-05-18T17:31:57Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "83c943c3a45322e9a5b5d05557227dbb86fcbc2f",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +107,111 @@\n                newAgg = add.apply(key, value.newValue, initializedAgg);\n                if (oldAggAndTimestamp != null) {\n                    newTimestamp = Math.max(context().timestamp(), oldAggAndTimestamp.timestamp());\n                }"
  }
]