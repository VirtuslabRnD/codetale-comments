[
  {
    "id" : "76550449-ee18-408e-9f57-07262dfb4fb0",
    "prId" : 6186,
    "prUrl" : "https://github.com/apache/kafka/pull/6186#pullrequestreview-216484004",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "26bf1673-f7bf-4c93-9c9a-82699a7bb85c",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Just to clarify there's no logic changes from the existing RocksDBSegmentedBytesStore, but just extract it out right (if yes I'll skip reviewing this file)? ",
        "createdAt" : "2019-03-18T18:01:46Z",
        "updatedAt" : "2019-03-20T06:33:16Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "59bc6fb8-a813-426d-ad20-fbf44705ce1d",
        "parentId" : "26bf1673-f7bf-4c93-9c9a-82699a7bb85c",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Yes. It's the same code.",
        "createdAt" : "2019-03-20T00:39:26Z",
        "updatedAt" : "2019-03-20T06:35:47Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "39578f44d576e1839048f1b2432411729cb50172",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +44,48 @@import static org.apache.kafka.streams.processor.internals.metrics.StreamsMetricsImpl.addInvocationRateAndCount;\n\npublic class AbstractRocksDBSegmentedBytesStore<S extends Segment> implements SegmentedBytesStore {\n    private static final Logger LOG = LoggerFactory.getLogger(AbstractRocksDBSegmentedBytesStore.class);\n    private final String name;"
  },
  {
    "id" : "c384f6eb-8b44-4bc4-80d1-3bc45ee45875",
    "prId" : 6186,
    "prUrl" : "https://github.com/apache/kafka/pull/6186#pullrequestreview-216546006",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "42faebd2-2c20-4629-a8aa-bcc152328eb3",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "This is the bug fix -- in the original code, the record was added to the batch directly (ie, to default CF) -- we know delegate this to the segment that can decide to which CF the record is added.",
        "createdAt" : "2019-03-20T06:35:13Z",
        "updatedAt" : "2019-03-20T06:35:13Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "39578f44d576e1839048f1b2432411729cb50172",
    "line" : 262,
    "diffHunk" : "@@ -1,1 +260,264 @@                try {\n                    final WriteBatch batch = writeBatchMap.computeIfAbsent(segment, s -> new WriteBatch());\n                    segment.addToBatch(record, batch);\n                } catch (final RocksDBException e) {\n                    throw new ProcessorStateException(\"Error restoring batch to store \" + this.name, e);"
  }
]