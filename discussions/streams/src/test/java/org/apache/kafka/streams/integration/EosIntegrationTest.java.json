[
  {
    "id" : "be894a95-7147-4f43-a4ba-1b16e343c727",
    "prId" : 5488,
    "prUrl" : "https://github.com/apache/kafka/pull/5488#pullrequestreview-146572515",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f1d2412c-cac5-4dd6-9d74-77fbbe2a04d0",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Why do we want do disable caching for this test now? This seems to be a change in the test itself rather a set setup change?",
        "createdAt" : "2018-08-14T22:33:33Z",
        "updatedAt" : "2018-08-15T03:19:02Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "605dc98d-f7a9-422a-8e2d-81c351a63d0b",
        "parentId" : "f1d2412c-cac5-4dd6-9d74-77fbbe2a04d0",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "I'm actually not changing the behavior :) The original `getStreamsConfig()` with did lots of hard-coded customization here: https://github.com/apache/kafka/pull/5488/files/f5d72d7579b31fc6bc793767161f0312457a29db#diff-483f89729093ad48aa4b2451decc095eL48\r\n\r\nWhich I've removed, the motivation is to keep the util functions more intuitive: now we have a few overloads which all calls the underlying\r\n\r\n```\r\nProperties getStreamsConfig(final String applicationId,\r\n                                               final String bootstrapServers,\r\n                                               final String keySerdeClassName,\r\n                                              final String valueSerdeClassName,\r\n                                              final Properties additional)\r\n```\r\n\r\nwhich does not make any customization any more. And because of that I moved all the customizations in the caller.",
        "createdAt" : "2018-08-15T03:17:53Z",
        "updatedAt" : "2018-08-15T03:19:02Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "b154859f-0301-49a4-a3d1-0d9a411d6de1",
        "parentId" : "f1d2412c-cac5-4dd6-9d74-77fbbe2a04d0",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Ack. Thanks for clarification.",
        "createdAt" : "2018-08-15T18:52:22Z",
        "updatedAt" : "2018-08-15T18:52:22Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "7550e3eb5eeb926254dc8822bd9ea87502592a93",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +165,169 @@                        {\n                            put(StreamsConfig.PROCESSING_GUARANTEE_CONFIG, StreamsConfig.EXACTLY_ONCE);\n                            put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\n                            put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 100);\n                            put(StreamsConfig.consumerPrefix(ConsumerConfig.MAX_POLL_RECORDS_CONFIG), 1);"
  },
  {
    "id" : "bad12132-334c-40de-b8fa-953d4d535693",
    "prId" : 5488,
    "prUrl" : "https://github.com/apache/kafka/pull/5488#pullrequestreview-146276872",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0be7cdbe-3107-450f-a949-a29f2834a68c",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "as above? (more below -- don't put comment each time)",
        "createdAt" : "2018-08-14T22:33:44Z",
        "updatedAt" : "2018-08-15T03:19:02Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "7550e3eb5eeb926254dc8822bd9ea87502592a93",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +254,258 @@                    {\n                        put(StreamsConfig.PROCESSING_GUARANTEE_CONFIG, StreamsConfig.EXACTLY_ONCE);\n                        put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\n                        put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 100);\n                        put(ConsumerConfig.METADATA_MAX_AGE_CONFIG, \"1000\");"
  },
  {
    "id" : "7424ad28-8aa3-464e-b44a-2429e29588b8",
    "prId" : 6057,
    "prUrl" : "https://github.com/apache/kafka/pull/6057#pullrequestreview-189558839",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b9b78d57-a812-4f25-b109-bd099ebe7c78",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Do we need to relax this declaration?",
        "createdAt" : "2019-01-03T16:32:03Z",
        "updatedAt" : "2019-01-08T21:43:22Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "26418eca-4210-41c8-84a3-b0ecd8cc9cb4",
        "parentId" : "b9b78d57-a812-4f25-b109-bd099ebe7c78",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "@mjsax justified this in other PRs... Since the exceptions are unexpected, and they would cause the tests to fail if they happened anyway, detailed throws declarations just pollute the test method declarations.",
        "createdAt" : "2019-01-04T23:01:12Z",
        "updatedAt" : "2019-01-08T21:43:22Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b2bbee8f3e973aef20b83a20ddbd2e40194c51a",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +100,104 @@\n    @Before\n    public void createTopics() throws Exception {\n        applicationId = \"appId-\" + ++testNumber;\n        CLUSTER.deleteTopicsAndWait("
  },
  {
    "id" : "bb8fa1b9-2e55-425f-b19e-8b36f9660731",
    "prId" : 6057,
    "prUrl" : "https://github.com/apache/kafka/pull/6057#pullrequestreview-189085060",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "35e3001e-a20a-4786-acbc-4270c7fe1ed5",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "same comment as before.",
        "createdAt" : "2019-01-03T16:43:53Z",
        "updatedAt" : "2019-01-08T21:43:22Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b2bbee8f3e973aef20b83a20ddbd2e40194c51a",
    "line" : 457,
    "diffHunk" : "@@ -1,1 +684,688 @@\n    private List<KeyValue<Long, Long>> readResult(final int numberOfRecords,\n                                                  final String groupId) throws Exception {\n        if (groupId != null) {\n            return IntegrationTestUtils.waitUntilMinKeyValueRecordsReceived("
  },
  {
    "id" : "fb993b3a-ce31-4430-bcc2-fdcbc3c89b86",
    "prId" : 6057,
    "prUrl" : "https://github.com/apache/kafka/pull/6057#pullrequestreview-189218827",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b0d7a95-af03-412d-afed-dc7eb5e04296",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Why we want to generalize the exception to throw?",
        "createdAt" : "2019-01-03T18:10:45Z",
        "updatedAt" : "2019-01-08T21:43:22Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "d7bf380b-15b9-44d3-95d0-332c6a593381",
        "parentId" : "3b0d7a95-af03-412d-afed-dc7eb5e04296",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Because it's the error case -- nobody is supposed to catch any exception and the test fails anyway. This is the way I was taught to write unit tests with good code style.",
        "createdAt" : "2019-01-03T23:06:19Z",
        "updatedAt" : "2019-01-08T21:43:22Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b2bbee8f3e973aef20b83a20ddbd2e40194c51a",
    "line" : 457,
    "diffHunk" : "@@ -1,1 +684,688 @@\n    private List<KeyValue<Long, Long>> readResult(final int numberOfRecords,\n                                                  final String groupId) throws Exception {\n        if (groupId != null) {\n            return IntegrationTestUtils.waitUntilMinKeyValueRecordsReceived("
  },
  {
    "id" : "456a2693-78c6-434a-9c68-c45db98c1505",
    "prId" : 8040,
    "prUrl" : "https://github.com/apache/kafka/pull/8040#pullrequestreview-355527004",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "38b8522c-9f64-4d9d-b379-d8faf3b19e2b",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "I improve this test a little bit, adding more conditions.",
        "createdAt" : "2020-02-08T03:31:16Z",
        "updatedAt" : "2020-02-11T03:10:50Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "944fe8ec3720a43d895669f340184d025c880708",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +154,158 @@\n            assertThat(committedOffset, equalTo(consumerPosition));\n            assertThat(committedOffset, equalTo(endOffset));\n        }\n    }"
  },
  {
    "id" : "b50ee703-368a-4901-906d-32f8497e8f25",
    "prId" : 8331,
    "prUrl" : "https://github.com/apache/kafka/pull/8331#pullrequestreview-379934452",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ba1ab2ca-4a3c-4d5c-b81d-5ea2404c18a7",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "could be named as `processingMode`",
        "createdAt" : "2020-03-23T20:29:03Z",
        "updatedAt" : "2020-03-30T21:41:00Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "69b9e52d-e3f7-4b5a-b184-8000d1402037",
        "parentId" : "ba1ab2ca-4a3c-4d5c-b81d-5ea2404c18a7",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "I called it `eosConfig` because it's string, and because \"at-least-once\" is not a valid config for this case.",
        "createdAt" : "2020-03-24T01:05:19Z",
        "updatedAt" : "2020-03-30T21:41:00Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c01468233fc24b2deb017a7bdf80dc2c644d92fc",
    "line" : 111,
    "diffHunk" : "@@ -1,1 +205,209 @@                                   final String outputTopic,\n                                   final boolean inputTopicTransactional,\n                                   final String eosConfig) throws Exception {\n        final StreamsBuilder builder = new StreamsBuilder();\n        final KStream<Long, Long> input = builder.stream(inputTopic);"
  },
  {
    "id" : "3c688910-89b2-400b-ae9a-a968c4f894d3",
    "prId" : 8331,
    "prUrl" : "https://github.com/apache/kafka/pull/8331#pullrequestreview-382288950",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9e944a6d-b26e-47d5-9759-8a01eda97f7e",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "I realized that the test setup was actually incorrect. We try to use a unique `application.id` per test method and with parallel test execution the variable cannot be `static`",
        "createdAt" : "2020-03-26T18:20:37Z",
        "updatedAt" : "2020-03-30T21:41:00Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c01468233fc24b2deb017a7bdf80dc2c644d92fc",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +99,103 @@    );\n\n    private String applicationId;\n    private final static int NUM_TOPIC_PARTITIONS = 2;\n    private final static String CONSUMER_GROUP_ID = \"readCommitted\";"
  },
  {
    "id" : "32127bb7-7496-4e2f-9053-50622d53838b",
    "prId" : 8331,
    "prUrl" : "https://github.com/apache/kafka/pull/8331#pullrequestreview-382289184",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91336ab2-fe75-49cc-800d-76f3f7480115",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Make this `static` and atomic for parallel test execution",
        "createdAt" : "2020-03-26T18:20:55Z",
        "updatedAt" : "2020-03-30T21:41:00Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c01468233fc24b2deb017a7bdf80dc2c644d92fc",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +116,120 @@    private Throwable uncaughtException;\n\n    private static final AtomicInteger TEST_NUMBER = new AtomicInteger(0);\n\n    @Parameters(name = \"{0}\")"
  }
]