[
  {
    "id" : "affd5f29-5568-424d-84d0-f612be7f3de5",
    "prId" : 8213,
    "prUrl" : "https://github.com/apache/kafka/pull/8213#pullrequestreview-369883380",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "12e60b7f-9b77-4a58-91ec-ee2508eb9dcf",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "I was wondering what's the standard for using `assertThat` vs `assertTrue`? Do we have a convention to follow?",
        "createdAt" : "2020-03-05T17:23:05Z",
        "updatedAt" : "2020-03-05T18:59:47Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "cbe0f8e2-053e-49e2-85c6-3b7ed036fff3",
        "parentId" : "12e60b7f-9b77-4a58-91ec-ee2508eb9dcf",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "`assertThat` is nicer in general, but it doesn't really matter. In this case, IDEA offered to translate, and I was already changing a lot of assertions, so I just accepted the translation. ",
        "createdAt" : "2020-03-05T20:17:38Z",
        "updatedAt" : "2020-03-05T20:17:38Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "2eb596b0721bcf1908d19f811d96e5121ca4e41d",
    "line" : 251,
    "diffHunk" : "@@ -1,1 +245,249 @@    public void shouldForwardRecordButNotCommitOnEosSend() {\n        eosStreamsProducer.send(record, null);\n        assertThat(eosMockProducer.transactionInFlight(), is(true));\n        assertThat(eosMockProducer.history().isEmpty(), is(true));\n        assertThat(eosMockProducer.uncommittedRecords().size(), is(1));"
  },
  {
    "id" : "dd502ca1-7cb7-4cb0-971a-d00b72e766ea",
    "prId" : 8331,
    "prUrl" : "https://github.com/apache/kafka/pull/8331#pullrequestreview-379104439",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2d9208dd-e3cd-40d6-b1e1-71aeb2152905",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "If the `StreamsProducer` flag would not be reset, this call would not be made below in `eosBetaStreamsProducer.initTransaction();`",
        "createdAt" : "2020-03-23T02:49:10Z",
        "updatedAt" : "2020-03-30T21:41:00Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c01468233fc24b2deb017a7bdf80dc2c644d92fc",
    "line" : 691,
    "diffHunk" : "@@ -1,1 +822,826 @@        eosBetaStreamsProducer.resetProducer(producer);\n\n        producer.initTransactions();\n        expectLastCall();\n        replay(producer);"
  },
  {
    "id" : "b450b401-cd2c-48f9-8f69-8bfc410de73c",
    "prId" : 8331,
    "prUrl" : "https://github.com/apache/kafka/pull/8331#pullrequestreview-384226227",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8bee31f9-5596-4161-bc09-eaf9aa96dd28",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "I feel we could actually simplify the test by calling `streamsProducer.kafkaProducer()` every time for the check for the internal producer, instead of keeping a reference here, as the `eosAlphaMockProducer` and `eosAlphaMockProducer` look quite similar.",
        "createdAt" : "2020-03-23T20:49:02Z",
        "updatedAt" : "2020-03-30T21:41:00Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "fe95750f-3efd-4679-9de4-887969c88a8a",
        "parentId" : "8bee31f9-5596-4161-bc09-eaf9aa96dd28",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Can you elaborate? I don't understand how this would simplify the test? For example:\r\n```\r\n// existing code\r\n    @Test\r\n    public void shouldInitTxOnEos() {\r\n        assertThat(eosAlphaMockProducer.transactionInitialized(), is(true));\r\n    }\r\n\r\n// new code\r\n    @Test\r\n    public void shouldInitTxOnEos() {\r\n        assertThat(eosAlphaStreamsProducer.kafkaProducer().transactionInitialized(), is(true));\r\n    }\r\n```\r\n\r\nWhy is the new code simpler? In fact, it looks more complex to me?",
        "createdAt" : "2020-03-24T01:13:00Z",
        "updatedAt" : "2020-03-30T21:41:00Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "24a9d2ea-0890-4660-9171-7a09b94f704b",
        "parentId" : "8bee31f9-5596-4161-bc09-eaf9aa96dd28",
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "It's simplified because we have a clear mapping from eosAlphaStreamsProducer to its corresponding internal producer, which in the existing code reader always has to build this mapping manually by checking the initialization code.",
        "createdAt" : "2020-03-25T20:28:54Z",
        "updatedAt" : "2020-03-30T21:41:00Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "974fce0c-3fc0-4106-b319-4d5f417cd907",
        "parentId" : "8bee31f9-5596-4161-bc09-eaf9aa96dd28",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Seem rather subjective. I me it's obvious that one needs to read the test setup code to understand the test.",
        "createdAt" : "2020-03-30T21:00:02Z",
        "updatedAt" : "2020-03-30T21:41:01Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c01468233fc24b2deb017a7bdf80dc2c644d92fc",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +80,84 @@        new StreamsProducer(nonEosMockProducer, AT_LEAST_ONCE, logContext);\n\n    private final MockProducer<byte[], byte[]> eosAlphaMockProducer = new MockProducer<>(\n        cluster, true, new DefaultPartitioner(), byteArraySerializer, byteArraySerializer);\n    private final StreamsProducer eosAlphaStreamsProducer ="
  },
  {
    "id" : "7eb40788-c707-4e94-941c-c8a5e0441deb",
    "prId" : 8331,
    "prUrl" : "https://github.com/apache/kafka/pull/8331#pullrequestreview-384229067",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eadc94c9-3126-4d03-a762-74efcea5fc65",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "Why do we only have one error handling test for eos-beta?",
        "createdAt" : "2020-03-25T20:37:45Z",
        "updatedAt" : "2020-03-30T21:41:00Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "d7f4cd79-f86b-491f-a656-3ea7ff17aaee",
        "parentId" : "eadc94c9-3126-4d03-a762-74efcea5fc65",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Because there is no eos-alpha specific error case.",
        "createdAt" : "2020-03-30T21:04:23Z",
        "updatedAt" : "2020-03-30T21:41:01Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c01468233fc24b2deb017a7bdf80dc2c644d92fc",
    "line" : 700,
    "diffHunk" : "@@ -1,1 +831,835 @@    }\n\n    // error handling tests\n\n    @Test"
  }
]