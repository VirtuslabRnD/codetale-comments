[
  {
    "id" : "8c08f292-ef46-4338-911e-ef2ef1613f1a",
    "prId" : 4880,
    "prUrl" : "https://github.com/apache/kafka/pull/4880#pullrequestreview-112992083",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6e53f313-d269-4441-97c8-c4409fe6dada",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "To make it more rigid: we can pass a valid end point string, and then check that the field is still `null` below.",
        "createdAt" : "2018-04-17T18:56:26Z",
        "updatedAt" : "2018-04-17T20:51:18Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "dcf82de4-d7e5-4be3-84f5-cd05778b4573",
        "parentId" : "6e53f313-d269-4441-97c8-c4409fe6dada",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Ack",
        "createdAt" : "2018-04-17T20:48:34Z",
        "updatedAt" : "2018-04-17T20:51:18Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "0e762d6e1f24dc67a738950aa75264801b98a27f",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +57,61 @@    @Test\n    public void shouldEncodeAndDecodeVersion1() {\n        final SubscriptionInfo info = new SubscriptionInfo(1, processId, activeTasks, standbyTasks, IGNORED_USER_ENDPOINT);\n        final SubscriptionInfo expectedInfo = new SubscriptionInfo(1, SubscriptionInfo.UNKNOWN, processId, activeTasks, standbyTasks, null);\n        assertEquals(expectedInfo, SubscriptionInfo.decode(info.encode()));"
  },
  {
    "id" : "b1899a31-5fe0-4440-a10e-d11743d70684",
    "prId" : 7248,
    "prUrl" : "https://github.com/apache/kafka/pull/7248#pullrequestreview-279256804",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "826cac76-c606-4604-8d73-2f765b8f7d5d",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "I exploded the assertions because what we were doing before was an abuse of the class's equality method to try and get a \"short cut\" to writing these tests.\r\n\r\nMaking the assertions explicitly improves our confidence about what we're testing, and also lets us simplify `SubscriptionInfo`, which had some special concessions to allow us to construct the \"expected\" version of the object.",
        "createdAt" : "2019-08-23T23:57:24Z",
        "updatedAt" : "2019-10-29T21:04:35Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "e4d6ae101dee1bb04c4a267771e3f9ac6ec347eb",
    "line" : 71,
    "diffHunk" : "@@ -1,1 +95,99 @@        assertEquals(activeTasks, decoded.prevTasks());\n        assertEquals(standbyTasks, decoded.standbyTasks());\n        assertNull(decoded.userEndPoint());\n    }\n"
  },
  {
    "id" : "0f3029ae-3b70-4548-a0d1-aab7d9c8e65c",
    "prId" : 7248,
    "prUrl" : "https://github.com/apache/kafka/pull/7248#pullrequestreview-279256804",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7f9835fd-8628-4fce-b9b2-c183d07b1360",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Added these (symmetric) tests to ensure that the generated class and the old hand-coded class generate the same binary format.",
        "createdAt" : "2019-08-23T23:58:12Z",
        "updatedAt" : "2019-10-29T21:04:35Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "e4d6ae101dee1bb04c4a267771e3f9ac6ec347eb",
    "line" : 75,
    "diffHunk" : "@@ -1,1 +99,103 @@\n    @Test\n    public void generatedVersion1ShouldBeDecodableByLegacyLogic() {\n        final SubscriptionInfo info = new SubscriptionInfo(\n            1,"
  },
  {
    "id" : "493cbc66-7bb6-4025-8e1d-3d5deb95c3a0",
    "prId" : 7248,
    "prUrl" : "https://github.com/apache/kafka/pull/7248#pullrequestreview-279256804",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c38bb320-0be5-483a-a797-fd8adecda453",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Versions 3 and 4 are the same, so I collapsed the test cases using a for loop.",
        "createdAt" : "2019-08-23T23:58:46Z",
        "updatedAt" : "2019-10-29T21:04:35Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "e4d6ae101dee1bb04c4a267771e3f9ac6ec347eb",
    "line" : 190,
    "diffHunk" : "@@ -1,1 +203,207 @@\n    @Test\n    public void shouldEncodeAndDecodeVersion3And4() {\n        for (int version = 3; version <= 4; version++) {\n            final SubscriptionInfo info = new SubscriptionInfo("
  },
  {
    "id" : "68f274c4-9a5b-4cd8-b05b-306fb1fdda03",
    "prId" : 7248,
    "prUrl" : "https://github.com/apache/kafka/pull/7248#pullrequestreview-308234938",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9666e1aa-f9e8-471f-91e1-04a89b4ea559",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Good call.",
        "createdAt" : "2019-10-29T02:19:30Z",
        "updatedAt" : "2019-10-29T21:04:35Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "e4d6ae101dee1bb04c4a267771e3f9ac6ec347eb",
    "line" : 262,
    "diffHunk" : "@@ -1,1 +272,276 @@    @Test\n    public void shouldEncodeAndDecodeVersion5() {\n        final SubscriptionInfo info = new SubscriptionInfo(5, LATEST_SUPPORTED_VERSION, processId, activeTasks, standbyTasks, \"localhost:80\");\n        assertEquals(info, SubscriptionInfo.decode(info.encode()));\n    }"
  },
  {
    "id" : "f456d933-dac7-4ecd-8764-7a2316ed07d5",
    "prId" : 7537,
    "prUrl" : "https://github.com/apache/kafka/pull/7537#pullrequestreview-302893981",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5cfba4e3-4f32-4d01-accd-121f62d9abe9",
        "parentId" : null,
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "Just a missing test I noticed",
        "createdAt" : "2019-10-16T21:40:03Z",
        "updatedAt" : "2019-10-16T22:53:46Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      }
    ],
    "commit" : "a43f0886022b671db87353f60867cb8b61d47c50",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +87,91 @@\n    @Test\n    public void shouldEncodeAndDecodeVersion5() {\n        final SubscriptionInfo info = new SubscriptionInfo(5, processId, activeTasks, standbyTasks, \"localhost:80\");\n        final SubscriptionInfo expectedInfo = new SubscriptionInfo(5, LATEST_SUPPORTED_VERSION, processId, activeTasks, standbyTasks, \"localhost:80\");"
  },
  {
    "id" : "63941553-0e52-4d40-9496-ff519e02e573",
    "prId" : 7649,
    "prUrl" : "https://github.com/apache/kafka/pull/7649#pullrequestreview-312012808",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d0517153-b44c-4761-bc56-9e6c7451a573",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "We didn't change the method name when we added version 5. Since we're about to add a non-legacy version 6, this method won't get renamed again.\r\n\r\n",
        "createdAt" : "2019-11-05T20:17:45Z",
        "updatedAt" : "2019-11-05T20:19:39Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "67332057d2a55db34ae464d47427f51ef787d802",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +234,238 @@\n    @Test\n    public void generatedVersion3To5ShouldDecodeLegacyFormat() {\n        for (int version = 3; version <= 5; version++) {\n            final LegacySubscriptionInfoSerde info = new LegacySubscriptionInfoSerde("
  },
  {
    "id" : "c421e6dc-7c2f-4040-9274-e904ede2e531",
    "prId" : 8246,
    "prUrl" : "https://github.com/apache/kafka/pull/8246#pullrequestreview-372708595",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "29bbad6f-9a7b-437f-821d-25e51c3f588a",
        "parentId" : null,
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "req: I am missing a unit test for `version >= 7`.",
        "createdAt" : "2020-03-11T13:56:13Z",
        "updatedAt" : "2020-03-13T22:09:33Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "a757918bbbf7c4b27aa29720e540a5603f890b1e",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +316,320 @@\n    @Test\n    public void shouldConvertTaskSetsToTaskOffsetSumMapWithOlderSubscription() {\n        final Map<TaskId, Long> expectedOffsetSumsMap = mkMap(\n            mkEntry(new TaskId(0, 0), Task.LATEST_OFFSET),"
  },
  {
    "id" : "0f5e6fab-4172-4eb7-a949-567f3ef32efe",
    "prId" : 9383,
    "prUrl" : "https://github.com/apache/kafka/pull/9383#pullrequestreview-504273313",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "efb6a367-6ce6-4bac-af5b-dccdd15a5dc0",
        "parentId" : null,
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "Can you add a test like this for the new version 8?",
        "createdAt" : "2020-10-07T21:33:44Z",
        "updatedAt" : "2020-10-16T15:33:01Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      }
    ],
    "commit" : "382125a3d709568f8d62ac76300e79730e7b64d6",
    "line" : 110,
    "diffHunk" : "@@ -1,1 +303,307 @@\n    @Test\n    public void shouldEncodeAndDecodeVersion7() {\n        final SubscriptionInfo info =\n            new SubscriptionInfo(7, LATEST_SUPPORTED_VERSION, UUID_1, \"localhost:80\", TASK_OFFSET_SUMS, IGNORED_UNIQUE_FIELD);"
  },
  {
    "id" : "504e4356-0187-4b9d-b5f8-dc5ee1d45a6b",
    "prId" : 9383,
    "prUrl" : "https://github.com/apache/kafka/pull/9383#pullrequestreview-504273313",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8c7e692c-6a28-4007-a843-fff0b9c59cfa",
        "parentId" : null,
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "I think we should also add a test to make sure that if you pass in a `uniqueField` to the SubscriptionInfo but the `usedVersion` is less than 8, that it does not actually encode this field.",
        "createdAt" : "2020-10-07T21:41:13Z",
        "updatedAt" : "2020-10-16T15:33:01Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      }
    ],
    "commit" : "382125a3d709568f8d62ac76300e79730e7b64d6",
    "line" : 134,
    "diffHunk" : "@@ -1,1 +327,331 @@                .encode());\n        assertThat(info.taskOffsetSums(), is(TASK_OFFSET_SUMS));\n    }\n\n    @Test"
  }
]