[
  {
    "id" : "afa10199-6019-4207-8d87-f493ef6835e7",
    "prId" : 9629,
    "prUrl" : "https://github.com/apache/kafka/pull/9629#pullrequestreview-536841532",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d4c6bc5e-cae1-45b9-8915-1a4fd06d9b00",
        "parentId" : null,
        "authorId" : "d520dc4e-6bae-4b0b-90d6-4c0a1cabb518",
        "body" : "We should wait for the `uncaughtExceptionHandler` got called before waiting for the streams state change.",
        "createdAt" : "2020-11-20T14:49:19Z",
        "updatedAt" : "2020-11-24T04:29:44Z",
        "lastEditedBy" : "d520dc4e-6bae-4b0b-90d6-4c0a1cabb518",
        "tags" : [
        ]
      },
      {
        "id" : "ec4f17a1-3da5-4610-9873-d14268110f70",
        "parentId" : "d4c6bc5e-cae1-45b9-8915-1a4fd06d9b00",
        "authorId" : "e4e906b3-d01a-4fe6-ad3e-ccca19a6df5c",
        "body" : "The order is not really that important here, either way works",
        "createdAt" : "2020-11-23T21:02:18Z",
        "updatedAt" : "2020-11-24T04:29:44Z",
        "lastEditedBy" : "e4e906b3-d01a-4fe6-ad3e-ccca19a6df5c",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b6d0a2d285b5b7fc0a9a8474712870f6f7a767e",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +124,128 @@            TestUtils.waitForCondition(() -> counter.get() == 2, DEFAULT_DURATION.toMillis(), \"Handler was called 2nd time\");\n            // the stream should now turn into ERROR state after 2 threads are dead\n            waitForApplicationState(Collections.singletonList(kafkaStreams), KafkaStreams.State.ERROR, DEFAULT_DURATION);\n\n            assertThat(processorValueCollector.size(), equalTo(2));"
  },
  {
    "id" : "9036f51e-28b1-4cf8-a53c-980c3ca7ae20",
    "prId" : 9697,
    "prUrl" : "https://github.com/apache/kafka/pull/9697#pullrequestreview-549774824",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cb4269f1-5d7d-4bcc-b910-704fdefb5db2",
        "parentId" : null,
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "A test is missing for a global stream thread that calls the uncaught exception handler.",
        "createdAt" : "2020-12-10T15:48:03Z",
        "updatedAt" : "2020-12-11T16:43:34Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      },
      {
        "id" : "7742933f-78ae-4e4e-9174-39cd913a0ed7",
        "parentId" : "cb4269f1-5d7d-4bcc-b910-704fdefb5db2",
        "authorId" : "e4e906b3-d01a-4fe6-ad3e-ccca19a6df5c",
        "body" : "added",
        "createdAt" : "2020-12-11T03:21:23Z",
        "updatedAt" : "2020-12-11T16:43:34Z",
        "lastEditedBy" : "e4e906b3-d01a-4fe6-ad3e-ccca19a6df5c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6e96114cf6a213ba4424958a049e846d44b14107",
    "line" : 158,
    "diffHunk" : "@@ -1,1 +277,281 @@        }\n    }\n}"
  },
  {
    "id" : "faa9ee75-c459-4233-b211-a0b226f674ca",
    "prId" : 9720,
    "prUrl" : "https://github.com/apache/kafka/pull/9720#pullrequestreview-549586323",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "216464b0-5b1b-4eec-b0b5-9c7d899e38b7",
        "parentId" : null,
        "authorId" : "e4e906b3-d01a-4fe6-ad3e-ccca19a6df5c",
        "body" : "When the client is shutdown it now goes to ERROR",
        "createdAt" : "2020-12-10T23:41:41Z",
        "updatedAt" : "2021-01-21T22:43:31Z",
        "lastEditedBy" : "e4e906b3-d01a-4fe6-ad3e-ccca19a6df5c",
        "tags" : [
        ]
      }
    ],
    "commit" : "e235b62f67fd1b2ab2323750f748e28ad87f9a98",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +146,150 @@\n            produceMessages(0L, inputTopic, \"A\");\n            waitForApplicationState(Collections.singletonList(kafkaStreams), KafkaStreams.State.ERROR, DEFAULT_DURATION);\n\n            assertThat(processorValueCollector.size(), equalTo(1));"
  },
  {
    "id" : "fead727e-9df0-4ae5-a7ea-6113979ec8cd",
    "prId" : 9720,
    "prUrl" : "https://github.com/apache/kafka/pull/9720#pullrequestreview-561170803",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27fd572e-5613-4d26-849d-ff001473687b",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Should we add a metric check to verify that the thread count is zero?",
        "createdAt" : "2020-12-23T00:13:51Z",
        "updatedAt" : "2021-01-21T22:43:32Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "468f05be-03ba-4766-b517-e8ea1e35131c",
        "parentId" : "27fd572e-5613-4d26-849d-ff001473687b",
        "authorId" : "e4e906b3-d01a-4fe6-ad3e-ccca19a6df5c",
        "body" : "We can but we should be able to see that with `counter` that the 2 threads already failed",
        "createdAt" : "2021-01-04T17:45:02Z",
        "updatedAt" : "2021-01-21T22:43:32Z",
        "lastEditedBy" : "e4e906b3-d01a-4fe6-ad3e-ccca19a6df5c",
        "tags" : [
        ]
      }
    ],
    "commit" : "e235b62f67fd1b2ab2323750f748e28ad87f9a98",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +130,134 @@            TestUtils.waitForCondition(() -> counter.get() == 2, DEFAULT_DURATION.toMillis(), \"Handler was called 2nd time\");\n            // there is no threads running but the client is still in running\n            waitForApplicationState(Collections.singletonList(kafkaStreams), KafkaStreams.State.RUNNING, DEFAULT_DURATION);\n\n            assertThat(processorValueCollector.size(), equalTo(2));"
  }
]