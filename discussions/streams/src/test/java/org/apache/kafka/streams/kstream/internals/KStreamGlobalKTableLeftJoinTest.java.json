[
  {
    "id" : "6d2adb2f-5926-48c8-88e5-af492dd74fa4",
    "prId" : 4832,
    "prUrl" : "https://github.com/apache/kafka/pull/4832#pullrequestreview-115898527",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b8787c85-b3d5-4047-b55d-9d4b31a9751a",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Ah! So this usage of the `@Before` method is more sensible, since there are several inter-related stateful objects that need to be wired together before each test and \"reset\" in between each test.\r\n\r\nIt looks like we were missing the tear down, though. Instead, we just abandon the old value to the garbage collector. Maybe we should add the missing `@After` and close everything we created?\r\n\r\nIt's a bit besides your code, but I think the test would be easier to read if everything that could be local is local. For example, I don't see any usage of the builder outside of `setUp`.",
        "createdAt" : "2018-04-26T18:45:55Z",
        "updatedAt" : "2018-04-26T19:12:59Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "e419ef3b-0b57-4d13-b30d-f8d071405a37",
        "parentId" : "b8787c85-b3d5-4047-b55d-9d4b31a9751a",
        "authorId" : "796fe0a1-c8b6-4b8f-a416-408b76bf799e",
        "body" : "Yes, there's really no reason for the builder to be outside of `@Before`, since it is only used to instantiate the test driver. I'll clean in up.",
        "createdAt" : "2018-04-27T11:02:23Z",
        "updatedAt" : "2018-04-27T11:02:23Z",
        "lastEditedBy" : "796fe0a1-c8b6-4b8f-a416-408b76bf799e",
        "tags" : [
        ]
      }
    ],
    "commit" : "bc5df4c3ba297c3fe2933b2adcb7ee623da698b3",
    "line" : 66,
    "diffHunk" : "@@ -1,1 +85,89 @@        props.setProperty(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n\n        driver = new TopologyTestDriver(builder.build(), props);\n    }\n"
  }
]