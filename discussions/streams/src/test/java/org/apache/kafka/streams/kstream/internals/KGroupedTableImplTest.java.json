[
  {
    "id" : "915dbf43-95b9-4441-a625-fcb5a4a52aea",
    "prId" : 4832,
    "prUrl" : "https://github.com/apache/kafka/pull/4832#pullrequestreview-115690115",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8abad8b-bb3b-495c-b309-f781f20bb30c",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Please see my earlier comments about ditching `Before` and `After` and moving the property definitions to the field declaration and the driver to a local variable.",
        "createdAt" : "2018-04-26T18:34:27Z",
        "updatedAt" : "2018-04-26T19:12:58Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "bc5df4c3ba297c3fe2933b2adcb7ee623da698b3",
    "line" : 66,
    "diffHunk" : "@@ -1,1 +83,87 @@            driver.close();\n        }\n        driver = null;\n    }\n"
  },
  {
    "id" : "08096fc0-9480-45cd-8315-4e8766e2cb23",
    "prId" : 5096,
    "prUrl" : "https://github.com/apache/kafka/pull/5096#pullrequestreview-124522548",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6ac76f95-f68e-4d9c-a8a1-2f8b17bc05c3",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "This is an interesting issue and I am wondering who we could address it... Any thoughts?",
        "createdAt" : "2018-05-30T05:10:12Z",
        "updatedAt" : "2018-06-05T23:33:19Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "5bf075e0-0f65-427d-968c-4667ee6cce0e",
        "parentId" : "6ac76f95-f68e-4d9c-a8a1-2f8b17bc05c3",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "What issue are you referring to?",
        "createdAt" : "2018-05-30T05:21:19Z",
        "updatedAt" : "2018-06-05T23:33:19Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "511f34e7-7ba4-4d30-b3a4-dac6a724898e",
        "parentId" : "6ac76f95-f68e-4d9c-a8a1-2f8b17bc05c3",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "The issue is, that a calling `getStateStore` wraps a `KeyValueStore` not in `KeyValueStoreFacade` but in a `StateStoreFacade` and thus, casing to `KayValueStore` fails...\r\n\r\nI have some ideas how we could tackle this, but wanted to hear your thoughts first.",
        "createdAt" : "2018-05-30T15:06:39Z",
        "updatedAt" : "2018-06-05T23:33:19Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "c9a3fe22-f39c-42e4-bd66-e83e762e7287",
        "parentId" : "6ac76f95-f68e-4d9c-a8a1-2f8b17bc05c3",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "I see.\r\n\r\nI'm wondering if we really need the store facade: as I mentioned in another comment, if we only want to allow `puts` before the starting of the topology, but not after records being processed, then just setting the record context in `TopologyTestDriver` constructor should be sufficient.",
        "createdAt" : "2018-05-30T17:58:12Z",
        "updatedAt" : "2018-06-05T23:33:19Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "a1ff0f5ba20df728f7e3a524462c8c717e4bc222",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +200,204 @@        try (final TopologyTestDriver driver = new TopologyTestDriver(builder.build(), props)) {\n            assertReduced(results, topic, driver);\n            final KeyValueStore<String, Integer> reduce = driver.getKeyValueStore(\"reduce\");\n            assertThat(reduce.get(\"A\"), equalTo(5));\n            assertThat(reduce.get(\"B\"), equalTo(6));"
  }
]