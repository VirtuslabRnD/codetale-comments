[
  {
    "id" : "42ddefab-a1f6-4d8d-8c9e-9b3af93b43f4",
    "prId" : 4554,
    "prUrl" : "https://github.com/apache/kafka/pull/4554#pullrequestreview-98351501",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ec4348b7-1448-426f-8590-29b3f5162217",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Should messageCounter be `volatile`? Not sure if this callback happens in the same or a different thread? \\cc @guozhangwang ",
        "createdAt" : "2018-02-20T21:26:13Z",
        "updatedAt" : "2018-02-21T22:16:01Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "d0e202d9-ac7b-4cc7-9b30-c7df07744fab",
        "parentId" : "ec4348b7-1448-426f-8590-29b3f5162217",
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "Ack, adding as I think callback happens on different thread",
        "createdAt" : "2018-02-21T20:38:59Z",
        "updatedAt" : "2018-02-21T22:16:01Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      }
    ],
    "commit" : "790b39f5cfa5781cf80c01032f1835f3dd58d069",
    "line" : 88,
    "diffHunk" : "@@ -1,1 +86,90 @@                                        // message == org.apache.kafka.common.errors.TimeoutException: Expiring 4 record(s) for data-0: 30004 ms has passed since last attempt plus backoff time\n                                        final int expired = Integer.parseInt(exception.getMessage().split(\" \")[2]);\n                                        messageCounter -= expired;\n                                    } catch (final Exception ignore) {\n                                    }"
  }
]