[
  {
    "id" : "5fc83345-4e18-4dda-97a2-a8aef7ba0cfb",
    "prId" : 4793,
    "prUrl" : "https://github.com/apache/kafka/pull/4793#pullrequestreview-114049494",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5b5f83d4-779d-429e-9c66-dd541b8ef3b7",
        "parentId" : null,
        "authorId" : "0c73d886-f3da-4107-8045-92d8e3c8fb75",
        "body" : "Does it make sense to store compiled pattern so that the matching can be checked quicker ?",
        "createdAt" : "2018-04-20T15:15:55Z",
        "updatedAt" : "2018-04-20T15:15:55Z",
        "lastEditedBy" : "0c73d886-f3da-4107-8045-92d8e3c8fb75",
        "tags" : [
        ]
      },
      {
        "id" : "d5c3721f-ec27-4f9e-bd65-96cddbdc44a3",
        "parentId" : "5b5f83d4-779d-429e-9c66-dd541b8ef3b7",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Not sure. This is only testing code.",
        "createdAt" : "2018-04-20T16:33:18Z",
        "updatedAt" : "2018-04-20T16:33:18Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "ca939959-bb6d-47af-be0c-e6a6b990e72f",
        "parentId" : "5b5f83d4-779d-429e-9c66-dd541b8ef3b7",
        "authorId" : "0c73d886-f3da-4107-8045-92d8e3c8fb75",
        "body" : "To my understanding, some users would base their code on this driver code.",
        "createdAt" : "2018-04-20T16:37:58Z",
        "updatedAt" : "2018-04-20T16:37:58Z",
        "lastEditedBy" : "0c73d886-f3da-4107-8045-92d8e3c8fb75",
        "tags" : [
        ]
      },
      {
        "id" : "9d75886a-29cf-4763-9798-a181e25cd35a",
        "parentId" : "5b5f83d4-779d-429e-9c66-dd541b8ef3b7",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Well, but wouldn't this be testing code they write... What usage would `KStreamTestDriver` have in production code?\r\n\r\nBtw: `KStreamTestDriver` will be removed shortly anyway as we now have `TopologyTestDriver` as public test-driver class.",
        "createdAt" : "2018-04-20T16:46:00Z",
        "updatedAt" : "2018-04-20T16:46:00Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "7ae919388471d5c9ab5a3a6c62dd63443ae0bb2c",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +188,192 @@        if (topicNode == null) {\n            for (final String sourceTopic : topology.sourceTopics()) {\n                if (Pattern.compile(sourceTopic).matcher(topicName).matches()) {\n                    return topology.source(sourceTopic);\n                }"
  },
  {
    "id" : "04238996-d576-4b2e-9d2c-316ee48e92a8",
    "prId" : 4832,
    "prUrl" : "https://github.com/apache/kafka/pull/4832#pullrequestreview-115898953",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "82d6c84a-88a0-499b-ae02-e96ad064200c",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Thanks; do you mind adding a comment recommending to use TopologyTestDriver instead, just to help out new devs coming to the project?",
        "createdAt" : "2018-04-26T19:06:02Z",
        "updatedAt" : "2018-04-26T19:13:00Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "7427c11f-0bd6-428c-b6df-eab2a2c113ee",
        "parentId" : "82d6c84a-88a0-499b-ae02-e96ad064200c",
        "authorId" : "796fe0a1-c8b6-4b8f-a416-408b76bf799e",
        "body" : "Yes, I'll add it.",
        "createdAt" : "2018-04-27T11:04:11Z",
        "updatedAt" : "2018-04-27T11:04:11Z",
        "lastEditedBy" : "796fe0a1-c8b6-4b8f-a416-408b76bf799e",
        "tags" : [
        ]
      }
    ],
    "commit" : "bc5df4c3ba297c3fe2933b2adcb7ee623da698b3",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +45,49 @@import java.util.regex.Pattern;\n\n@Deprecated\npublic class KStreamTestDriver extends ExternalResource {\n"
  },
  {
    "id" : "d30b0218-ebca-4613-b66c-6638ec7e4480",
    "prId" : 4917,
    "prUrl" : "https://github.com/apache/kafka/pull/4917#pullrequestreview-115618672",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f1d3d65e-cd54-4906-88b7-f3d355755e71",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "If store.init throws an exception, it fails the tests, but doesn't tell you why. I added this after a fair amount of debugging revealed that this line was throwing. WDYT about leaving it in?",
        "createdAt" : "2018-04-23T22:23:38Z",
        "updatedAt" : "2018-04-26T15:11:24Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "c36010c7-0f22-4f46-8e2a-0b2dcacf4740",
        "parentId" : "f1d3d65e-cd54-4906-88b7-f3d355755e71",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "When will an exception be thrown? Note that we are going to remove `KStreamTestDriver` soon.",
        "createdAt" : "2018-04-24T20:52:11Z",
        "updatedAt" : "2018-04-26T15:11:24Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "d0e47415-cecd-41f4-9958-9eaf85ad0c8f",
        "parentId" : "f1d3d65e-cd54-4906-88b7-f3d355755e71",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "The particular exception I ran into was trying to register duplicate metrics, related to the cache name not being split correctly.\r\n\r\nEither way; It was handy to have this here, so I wanted to give you the option of leaving it in place. ",
        "createdAt" : "2018-04-25T14:04:27Z",
        "updatedAt" : "2018-04-26T15:11:24Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "fcb3c877-4710-4421-9031-122bd2d8c5db",
        "parentId" : "f1d3d65e-cd54-4906-88b7-f3d355755e71",
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "Seems reasonable to me. But this raises a secondary thought will we be keeping `KStreamTestDriver` with the release of our new testing utils? ",
        "createdAt" : "2018-04-25T15:51:10Z",
        "updatedAt" : "2018-04-26T15:11:25Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      },
      {
        "id" : "681435f7-5e3c-45c8-9d1e-e4d7472402dd",
        "parentId" : "f1d3d65e-cd54-4906-88b7-f3d355755e71",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Sounds reasonable to me. Is there a similar issue with `TopologyTestDriver` as well?",
        "createdAt" : "2018-04-25T22:08:41Z",
        "updatedAt" : "2018-04-26T15:11:25Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "a5d52691-58f3-4419-ad2f-1052f1f9f480",
        "parentId" : "f1d3d65e-cd54-4906-88b7-f3d355755e71",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Possibly. I'll take a look.",
        "createdAt" : "2018-04-25T22:17:33Z",
        "updatedAt" : "2018-04-26T15:11:25Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "40fee888-6f95-4314-ad88-3f66a6c3f866",
        "parentId" : "f1d3d65e-cd54-4906-88b7-f3d355755e71",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "@bbejeck There is a ticket underway to use TopologyTestDriver in our internal tests (https://issues.apache.org/jira/browse/KAFKA-6474), but it's not clear at this point whether we will actually be able to remove KStreamTestDriver without polluting TopologyTestDriver.",
        "createdAt" : "2018-04-25T22:18:54Z",
        "updatedAt" : "2018-04-26T15:11:25Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "6f11239a-4e8e-4d63-9f5c-b62147934569",
        "parentId" : "f1d3d65e-cd54-4906-88b7-f3d355755e71",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "@guozhangwang , `TopologyTestDriver` uses the same store initialization code path that `KafkaStreams` does, so I'll leave it alone for now. If there's a visibility problem, we'll surely find out.",
        "createdAt" : "2018-04-26T15:07:45Z",
        "updatedAt" : "2018-04-26T15:11:25Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "613a2e2a113646978725340b1500f491115e3d31",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +153,157 @@                new RuntimeException(\"Fatal exception initializing store.\", e).printStackTrace();\n                throw e;\n            }\n        }\n"
  }
]