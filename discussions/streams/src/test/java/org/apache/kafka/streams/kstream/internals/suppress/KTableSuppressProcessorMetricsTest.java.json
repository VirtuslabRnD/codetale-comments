[
  {
    "id" : "bb4904e1-6bc6-448d-822a-11f844fd3ac9",
    "prId" : 5795,
    "prUrl" : "https://github.com/apache/kafka/pull/5795#pullrequestreview-164397891",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "668b2c8d-0c9c-482d-8715-0242f0f8d933",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "I did the metrics in a separate file to keep related tests together for readability.\r\n\r\nI'm aware there are a lot of repeated strings in the metric names, but it is on purpose: it's the only place in the code where you can visually confirm that the metrics we're measuring conform to the ones we document.",
        "createdAt" : "2018-10-12T20:33:00Z",
        "updatedAt" : "2018-11-27T01:22:02Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "bd8806c91d24ee933ce6e1ab8972e725bf42ef12",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +42,46 @@\n@SuppressWarnings(\"PointlessArithmeticExpression\")\npublic class KTableSuppressProcessorMetricsTest {\n    private static final long ARBITRARY_LONG = 5L;\n"
  },
  {
    "id" : "be334b2c-fee6-4cb2-b778-0710d82e0efb",
    "prId" : 5795,
    "prUrl" : "https://github.com/apache/kafka/pull/5795#pullrequestreview-175610730",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1a5874b9-7cb3-491e-a93d-8f0d6f9b122a",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Is this rate value be time-dependent (I remember we saw some issues with it if the test runs too slowly), to be non-zero in some edge cases?",
        "createdAt" : "2018-11-15T02:05:42Z",
        "updatedAt" : "2018-11-27T01:22:02Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "fc8e31d7-c063-4d64-88c8-9143b3cc1772",
        "parentId" : "1a5874b9-7cb3-491e-a93d-8f0d6f9b122a",
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "IIRC, rate metrics are time-dependent, but I think that this particular comparison is pretty safe for a mock processor unit test.",
        "createdAt" : "2018-11-15T23:58:02Z",
        "updatedAt" : "2018-11-27T01:22:02Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "bd8806c91d24ee933ce6e1ab8972e725bf42ef12",
    "line" : 184,
    "diffHunk" : "@@ -1,1 +182,186 @@            final Map<MetricName, ? extends Metric> metrics = context.metrics().metrics();\n\n            verifyMetric(metrics, EVICTION_RATE_METRIC, greaterThan(0.0));\n            verifyMetric(metrics, EVICTION_TOTAL_METRIC, is(1.0));\n            verifyMetric(metrics, BUFFER_SIZE_AVG_METRIC, is(49.0));"
  }
]