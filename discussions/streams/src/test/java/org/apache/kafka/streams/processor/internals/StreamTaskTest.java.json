[
  {
    "id" : "f3ba201a-3411-406d-b5b0-750957720857",
    "prId" : 5398,
    "prUrl" : "https://github.com/apache/kafka/pull/5398#pullrequestreview-142989920",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4883038e-df56-44be-9d62-8a328686be37",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "We do reset the `wait-counter` to 5 when we add records on purpose?",
        "createdAt" : "2018-08-02T21:38:45Z",
        "updatedAt" : "2018-08-02T22:06:29Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "8bf38f69-57be-4f47-a622-1af4faa3d061",
        "parentId" : "4883038e-df56-44be-9d62-8a328686be37",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Yes, we want to only force process once every these times.",
        "createdAt" : "2018-08-02T21:48:21Z",
        "updatedAt" : "2018-08-02T22:06:29Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c57cec79fa53032b55dd7a5f374c9ee62c25098",
    "line" : 259,
    "diffHunk" : "@@ -1,1 +481,485 @@        final byte[] bytes = ByteBuffer.allocate(4).putInt(1).array();\n\n        task.addRecords(partition1, Collections.singleton(new ConsumerRecord<>(topic1, 1, 0, bytes, bytes)));\n\n        assertFalse(task.isProcessable());"
  },
  {
    "id" : "1e2fff95-04e0-4a16-94d6-9ea860a8578c",
    "prId" : 5428,
    "prUrl" : "https://github.com/apache/kafka/pull/5428#pullrequestreview-149490195",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9b61bc69-eb2f-4b63-8d12-3cfd5e06b9ea",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "What do you mean by \"respect\" -- don't understand the test name",
        "createdAt" : "2018-08-25T00:48:36Z",
        "updatedAt" : "2018-09-11T21:32:12Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "71b2b16d0b0f37a05af3df60ae9b5ff88649a7a4",
    "line" : 77,
    "diffHunk" : "@@ -1,1 +453,457 @@\n    @Test\n    public void shouldRespectCommitNeeded() {\n        task = createStatelessTask(createConfig(false));\n        task.initializeStateStores();"
  },
  {
    "id" : "bfc7c0f3-2a03-4d8a-a2db-f537467aee01",
    "prId" : 5428,
    "prUrl" : "https://github.com/apache/kafka/pull/5428#pullrequestreview-149933075",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3c55b63e-c721-4282-b88f-bf6858757754",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "If commit interval is 100ms, we might want to test the edge case 100 and 101 -- the test does not cover that we would force processing at 70L already.",
        "createdAt" : "2018-08-25T00:54:07Z",
        "updatedAt" : "2018-09-11T21:32:12Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "5068c70d-ace4-44c9-9585-2e62360fc7db",
        "parentId" : "3c55b63e-c721-4282-b88f-bf6858757754",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Note we are testing for max idle time as `now - lastEnforcedProcessingTime > maxTaskIdleMs` so 101 is necessary, ditto for below `202`.",
        "createdAt" : "2018-08-28T00:49:15Z",
        "updatedAt" : "2018-09-11T21:32:12Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "71b2b16d0b0f37a05af3df60ae9b5ff88649a7a4",
    "line" : 159,
    "diffHunk" : "@@ -1,1 +527,531 @@        assertFalse(task.isProcessable(time.milliseconds()));\n\n        assertFalse(task.isProcessable(time.milliseconds() + 50L));\n\n        assertTrue(task.isProcessable(time.milliseconds() + 100L));"
  },
  {
    "id" : "6f2122dd-ecfa-499a-a012-350e241bad7d",
    "prId" : 5714,
    "prUrl" : "https://github.com/apache/kafka/pull/5714#pullrequestreview-160056645",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4d25f6c1-57ec-40cf-b68d-cabb6b015b71",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "This is a tiny piggy-back: I realized that we are always using 0 as the timestamp which does not make sense in the buffer queue related questions, while the offset is being modified. So I changed the timestamp to be the same as the offset as well here.",
        "createdAt" : "2018-09-29T00:21:00Z",
        "updatedAt" : "2018-09-29T00:21:01Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "238139781ae1c15bf6245a87f488b5d406155029",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +1393,1397 @@            topicPartition.partition(),\n            offset,\n            offset, // use the offset as the timestamp\n            TimestampType.CREATE_TIME,\n            0L,"
  },
  {
    "id" : "7e80dfdb-0d76-4fc3-a7be-566b745c79fc",
    "prId" : 6636,
    "prUrl" : "https://github.com/apache/kafka/pull/6636#pullrequestreview-230810105",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "98c9225f-63aa-4e32-955d-eb713bc4d0b3",
        "parentId" : null,
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "This is a minor cleanup that I piggybacked on this PR.",
        "createdAt" : "2019-04-25T18:21:04Z",
        "updatedAt" : "2019-04-25T18:25:03Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      }
    ],
    "commit" : "5e0e7bc13104cf0308cec2351ec766a1d6a44826",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +1160,1164 @@        task = createStatelessTask(createConfig(true));\n\n        assertFalse(producer.transactionInFlight());\n        task.close(false, false);\n    }"
  },
  {
    "id" : "e79d75c3-0b6f-4736-b4ae-58bb34acc7f8",
    "prId" : 6636,
    "prUrl" : "https://github.com/apache/kafka/pull/6636#pullrequestreview-230810105",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e048a350-1a31-4f2f-98b2-0c4f5fa9defd",
        "parentId" : null,
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "closing a task `clean=false` and `isZombie=true`",
        "createdAt" : "2019-04-25T18:23:02Z",
        "updatedAt" : "2019-04-25T18:25:03Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      }
    ],
    "commit" : "5e0e7bc13104cf0308cec2351ec766a1d6a44826",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +1098,1102 @@        producer.fenceProducer();\n\n        task.close(false, true);\n        task = null;\n"
  },
  {
    "id" : "bfbbf18f-3964-444a-b76f-3b327eaa4248",
    "prId" : 6636,
    "prUrl" : "https://github.com/apache/kafka/pull/6636#pullrequestreview-230810105",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ad4f8b58-a4c4-4f8f-9752-14e98c901cc2",
        "parentId" : null,
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "closing a task `clean=false` `isZombie=true`",
        "createdAt" : "2019-04-25T18:24:13Z",
        "updatedAt" : "2019-04-25T18:25:03Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      }
    ],
    "commit" : "5e0e7bc13104cf0308cec2351ec766a1d6a44826",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +1331,1335 @@        task = createStatelessTask(createConfig(true));\n        task.initializeTopology();\n        task.close(false, true);\n        task = null;\n"
  },
  {
    "id" : "b60c31d1-bd94-4045-a060-7e2dbd3cb3f1",
    "prId" : 6694,
    "prUrl" : "https://github.com/apache/kafka/pull/6694#pullrequestreview-274849969",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c99c4884-d2f7-4ebd-8984-6520cbbb0633",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "We should add more test method for the different error cases, too.",
        "createdAt" : "2019-08-09T18:08:18Z",
        "updatedAt" : "2019-09-16T23:28:41Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "681faba1-35b5-42be-9050-4f696d019839",
        "parentId" : "c99c4884-d2f7-4ebd-8984-6520cbbb0633",
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "I see that you tested the different error cases as @mjsax suggested. However, I would put each test in its own test method.  ",
        "createdAt" : "2019-08-15T08:55:49Z",
        "updatedAt" : "2019-09-16T23:28:41Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "b42a883a14bc3a48a28624e3964be81e4f75d8f5",
    "line" : 103,
    "diffHunk" : "@@ -1,1 +724,728 @@\n        assertEquals(RecordQueue.UNKNOWN, task.decodeTimestamp(\"\"));\n    }\n\n    @Test"
  },
  {
    "id" : "2e394d16-a211-4ef3-9b49-b953195b0e6b",
    "prId" : 7030,
    "prUrl" : "https://github.com/apache/kafka/pull/7030#pullrequestreview-257624022",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b2d483ee-cb2f-481a-bd53-83720305018e",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "We're no longer overlooking the fact that this store wasn't \"logged\" when we write the checkpoints.",
        "createdAt" : "2019-07-03T17:23:29Z",
        "updatedAt" : "2019-07-09T23:16:30Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "7b33b85c4fa71ed08802599697404720a66d88ef",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +1478,1482 @@\n    private StreamTask createStatefulTask(final StreamsConfig config, final boolean logged) {\n        final StateStore stateStore = new MockKeyValueStore(storeName, logged);\n\n        final ProcessorTopology topology = ProcessorTopologyFactories.with("
  },
  {
    "id" : "ea01861e-e559-409c-862a-92d47114f45b",
    "prId" : 7463,
    "prUrl" : "https://github.com/apache/kafka/pull/7463#pullrequestreview-299774375",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "64c275b0-60cb-49e2-917f-c7eb63b38f22",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "side cleanup",
        "createdAt" : "2019-10-10T01:07:28Z",
        "updatedAt" : "2019-10-10T01:07:28Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c47dfc79b0b4a8238e7bdc8707ee9ca32ff324ea",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +165,169 @@    };\n\n    private static ProcessorTopology withRepartitionTopics(final List<ProcessorNode> processorNodes,\n                                                           final Map<String, SourceNode> sourcesByTopic,\n                                                           final Set<String> repartitionTopics) {"
  },
  {
    "id" : "df90404d-91ee-49da-b1d6-ac93f9504ee0",
    "prId" : 7463,
    "prUrl" : "https://github.com/apache/kafka/pull/7463#pullrequestreview-299774395",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b0d23533-7882-434a-98ef-db89095a336f",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "side cleanup",
        "createdAt" : "2019-10-10T01:07:33Z",
        "updatedAt" : "2019-10-10T01:07:33Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c47dfc79b0b4a8238e7bdc8707ee9ca32ff324ea",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +234,238 @@        final ProcessorTopology topology = withSources(\n            asList(source1, source2, processorStreamTime, processorSystemTime),\n            mkMap(mkEntry(topic1, source1), mkEntry(topic2, source2))\n        );\n"
  },
  {
    "id" : "3be3aebd-98d4-4629-affc-a594ef66bd91",
    "prId" : 7463,
    "prUrl" : "https://github.com/apache/kafka/pull/7463#pullrequestreview-299774454",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f5d91153-e173-40ff-99f4-777fcbdeb1e0",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "side cleanup",
        "createdAt" : "2019-10-10T01:07:49Z",
        "updatedAt" : "2019-10-10T01:07:49Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c47dfc79b0b4a8238e7bdc8707ee9ca32ff324ea",
    "line" : 112,
    "diffHunk" : "@@ -1,1 +877,881 @@        try {\n            task.punctuate(processorStreamTime, 1, PunctuationType.STREAM_TIME, timestamp -> {\n                throw new KafkaException(\"KABOOM!\");\n            });\n            fail(\"Should've thrown StreamsException\");"
  },
  {
    "id" : "dd0402cf-7bd3-4cc6-b857-17e590f4e108",
    "prId" : 7463,
    "prUrl" : "https://github.com/apache/kafka/pull/7463#pullrequestreview-299774502",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2bb82672-e4e1-4187-8394-9d45227c8cf5",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "new test",
        "createdAt" : "2019-10-10T01:08:02Z",
        "updatedAt" : "2019-10-10T01:08:02Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c47dfc79b0b4a8238e7bdc8707ee9ca32ff324ea",
    "line" : 162,
    "diffHunk" : "@@ -1,1 +1304,1308 @@\n    @Test\n    public void shouldInitTaskTimeOnResumeWithEosDisabled() {\n        shouldInitTaskTimeOnResume(false);\n    }"
  },
  {
    "id" : "a3a3d60a-b6e3-4a4a-b8b4-e27679f6a755",
    "prId" : 7463,
    "prUrl" : "https://github.com/apache/kafka/pull/7463#pullrequestreview-299774639",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f15dc54c-bfcd-4b21-a2ae-9e3ff1210c4c",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "we moved initializing the offsets from `initializeStateStores` into `initializeMetadata()`",
        "createdAt" : "2019-10-10T01:08:44Z",
        "updatedAt" : "2019-10-10T01:08:45Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c47dfc79b0b4a8238e7bdc8707ee9ca32ff324ea",
    "line" : 219,
    "diffHunk" : "@@ -1,1 +1577,1581 @@        final Consumer<byte[], byte[]> consumer = mockConsumerWithCommittedException(new AuthorizationException(\"message\"));\n        final StreamTask task = createOptimizedStatefulTask(createConfig(false), consumer);\n        task.initializeMetadata();\n        task.initializeStateStores();\n    }"
  },
  {
    "id" : "7e51ff7b-f9dd-4526-bf42-2561f455a4bc",
    "prId" : 7463,
    "prUrl" : "https://github.com/apache/kafka/pull/7463#pullrequestreview-299774690",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c088e941-0bb0-4365-a4be-372492cc0969",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "side cleanup",
        "createdAt" : "2019-10-10T01:08:59Z",
        "updatedAt" : "2019-10-10T01:09:00Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "c47dfc79b0b4a8238e7bdc8707ee9ca32ff324ea",
    "line" : 264,
    "diffHunk" : "@@ -1,1 +1626,1630 @@\n        final ProcessorTopology topology = ProcessorTopologyFactories.with(\n            singletonList(source1),\n            mkMap(mkEntry(topic1, source1)),\n            singletonList(stateStore),"
  },
  {
    "id" : "fdf6c51e-0915-401e-950d-36ad24c05fbb",
    "prId" : 7566,
    "prUrl" : "https://github.com/apache/kafka/pull/7566#pullrequestreview-306527173",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "53174122-5e78-47b7-9f3c-9f36908e95d1",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Thanks for augmenting the coverage!",
        "createdAt" : "2019-10-23T19:53:11Z",
        "updatedAt" : "2019-10-25T09:01:15Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "ee865adf-ef61-4dd4-99f8-dc47a4b8cc06",
        "parentId" : "53174122-5e78-47b7-9f3c-9f36908e95d1",
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "You are welcome",
        "createdAt" : "2019-10-24T12:17:55Z",
        "updatedAt" : "2019-10-25T09:01:15Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "415bca6f0f8d8acd47bfb9bdbc19e08fa50eb673",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +430,434 @@        ));\n        assertNotNull(getMetric(\n            \"commit\",\n            \"%s-rate\",\n            task.id().toString(),"
  },
  {
    "id" : "26752cb6-82bc-4ba0-bd0e-80920db6cf76",
    "prId" : 7608,
    "prUrl" : "https://github.com/apache/kafka/pull/7608#pullrequestreview-308247923",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "52e8af38-8905-48c3-8d62-f2889cd4190e",
        "parentId" : null,
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "typo fix",
        "createdAt" : "2019-10-29T02:38:09Z",
        "updatedAt" : "2019-10-29T23:41:43Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      }
    ],
    "commit" : "01a2aedaf962ef937687f97786c637ed6821efd5",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +1430,1434 @@\n    @Test\n    public void shouldWrapProducerFencedExceptionWithTaskMigratedExceptionInSuspendWhenCommitting() {\n        task = createStatelessTask(createConfig(true), StreamsConfig.METRICS_LATEST);\n        producer.fenceProducer();"
  },
  {
    "id" : "c0b40ac6-81dd-48a4-9a5e-44801aad83b3",
    "prId" : 8143,
    "prUrl" : "https://github.com/apache/kafka/pull/8143#pullrequestreview-362373664",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "10f3046f-1634-4c0b-aa65-9a1c725cd734",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "This one in particular might be worth a comment that we're specifically checking because we _don't_ want to call methods on the producer during an unclean close.",
        "createdAt" : "2020-02-21T02:16:40Z",
        "updatedAt" : "2020-02-21T04:52:54Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      },
      {
        "id" : "b5ffddc9-6f35-4b8f-af75-a730ecf8b6dd",
        "parentId" : "10f3046f-1634-4c0b-aa65-9a1c725cd734",
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "Sounds good!",
        "createdAt" : "2020-02-21T03:00:33Z",
        "updatedAt" : "2020-02-21T04:52:54Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      }
    ],
    "commit" : "79860652913ae6f48141dbea92fefb06f65292ea",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +1326,1330 @@\n        // Make sure no method call on the producer during an unclean close (such as abort).\n        assertTrue(producer.transactionInFlight());\n        assertTrue(producer.closed());\n    }"
  },
  {
    "id" : "6d2f73f2-19af-4f12-82db-53892f951dff",
    "prId" : 8218,
    "prUrl" : "https://github.com/apache/kafka/pull/8218#pullrequestreview-369184653",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1783dbd1-5b86-4b35-8836-85f8de89f4e1",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "I don't think we need to test `assertFalse(task.commitNeeded()` as its outcome is controlled by `task.markCommitted`. So we only need to do it once.",
        "createdAt" : "2020-03-05T00:55:25Z",
        "updatedAt" : "2020-03-19T08:49:21Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b03a487a518756f7c9acd1f3177b12b407867d5",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +715,719 @@\n        task.postCommit();\n        assertFalse(task.commitNeeded());\n    }\n"
  },
  {
    "id" : "23c7c0ee-bb19-4eb4-a451-4bc044eedfc6",
    "prId" : 8218,
    "prUrl" : "https://github.com/apache/kafka/pull/8218#pullrequestreview-370516300",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a298c356-cf1d-41c2-b6ae-05d4a2b075e9",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "Why do we no longer have the mock verification?",
        "createdAt" : "2020-03-05T00:56:24Z",
        "updatedAt" : "2020-03-19T08:49:21Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "e93c5c32-b24c-4495-b354-dac31f3a4700",
        "parentId" : "a298c356-cf1d-41c2-b6ae-05d4a2b075e9",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "We remove `RecordCollector#commit()` method in this PR and thus we remove the expected call to commit at the beginning of this test -- thus, there is nothing to be verified any longer and we don't call `commit()` with `prepareCommit()` any longer.",
        "createdAt" : "2020-03-06T17:57:11Z",
        "updatedAt" : "2020-03-19T08:49:21Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b03a487a518756f7c9acd1f3177b12b407867d5",
    "line" : 127,
    "diffHunk" : "@@ -1,1 +748,752 @@        final Map<TopicPartition, OffsetAndMetadata> offsetsAndMetadata = task.committableOffsetsAndMetadata();\n\n        assertThat(offsetsAndMetadata, equalTo(mkMap(mkEntry(partition1, new OffsetAndMetadata(3L, encodeTimestamp(0L))))));\n    }\n"
  },
  {
    "id" : "b783dba8-3af0-44a8-9962-2ef8f5768afa",
    "prId" : 8218,
    "prUrl" : "https://github.com/apache/kafka/pull/8218#pullrequestreview-376399856",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f57c5be3-37cd-4676-b8e1-9e68bd3d56fd",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Not introduced in this PR: could we add test checking CLOSED state should not commit as well?\r\n\r\nAlso checking SUSPENDED state close-call is no-op.",
        "createdAt" : "2020-03-17T19:07:06Z",
        "updatedAt" : "2020-03-19T08:49:21Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "f0263c61-73bd-45e2-ad1e-bdf0068e203c",
        "parentId" : "f57c5be3-37cd-4676-b8e1-9e68bd3d56fd",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Ack",
        "createdAt" : "2020-03-17T20:55:19Z",
        "updatedAt" : "2020-03-19T08:49:21Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "e2cc74d4-162c-47d9-babc-04575915c151",
        "parentId" : "f57c5be3-37cd-4676-b8e1-9e68bd3d56fd",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "> Also checking SUSPENDED state close-call is no-op.\r\n\r\nBut in `close()` if state is suspended we might still wipe out the state store -- it's not a no-op",
        "createdAt" : "2020-03-17T20:57:46Z",
        "updatedAt" : "2020-03-19T08:49:21Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b03a487a518756f7c9acd1f3177b12b407867d5",
    "line" : 266,
    "diffHunk" : "@@ -1,1 +1325,1329 @@\n    @Test\n    public void shouldThrowIfPostCommittingOnIllegalState() {\n        task = createStatelessTask(createConfig(false, \"100\"), StreamsConfig.METRICS_LATEST);\n        assertThrows(IllegalStateException.class, task::postCommit);"
  },
  {
    "id" : "c0fe6404-543f-4e16-9e3a-4e5d3c93439e",
    "prId" : 8371,
    "prUrl" : "https://github.com/apache/kafka/pull/8371#pullrequestreview-387633108",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "65296993-55b0-4db6-8f8c-d949a65b95f1",
        "parentId" : null,
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "req: Please rename this unit test to reflect the new verifications.",
        "createdAt" : "2020-04-03T10:06:58Z",
        "updatedAt" : "2020-04-06T18:04:42Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      },
      {
        "id" : "6bfaa490-3ee4-4510-b3cf-30729743d35d",
        "parentId" : "65296993-55b0-4db6-8f8c-d949a65b95f1",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "I will add a new function to verify the buffer size.",
        "createdAt" : "2020-04-03T23:30:05Z",
        "updatedAt" : "2020-04-06T18:04:42Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "325f0a4e5b38f0cdd495629577cba64c9857b98c",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +401,405 @@\n        assertThat(metric.metricValue(), equalTo(0.0d));\n\n        task.recordProcessBatchTime(10L);\n        task.recordProcessBatchTime(15L);"
  },
  {
    "id" : "4a55376c-91f9-45c2-9f7f-ca6ac474a7b3",
    "prId" : 8371,
    "prUrl" : "https://github.com/apache/kafka/pull/8371#pullrequestreview-388474211",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3ea3402f-a9bd-403d-bd33-f7217f4b7c23",
        "parentId" : null,
        "authorId" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "body" : "req: You verify this metric twice, once here in once in `testMetricsForBuiltInMetricsVersionLatest()`. Since it is a newly added metric und you account for the changes in the tags in `getMetric()` I guess you just need to keep the one here.",
        "createdAt" : "2020-04-06T13:49:29Z",
        "updatedAt" : "2020-04-06T18:04:42Z",
        "lastEditedBy" : "b7cbfdaf-f3e2-4130-8254-501ace9562ac",
        "tags" : [
        ]
      },
      {
        "id" : "819b1f6d-d1c8-4b3d-93e3-46030e954236",
        "parentId" : "3ea3402f-a9bd-403d-bd33-f7217f4b7c23",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Sounds good!",
        "createdAt" : "2020-04-06T17:38:51Z",
        "updatedAt" : "2020-04-06T18:04:42Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "325f0a4e5b38f0cdd495629577cba64c9857b98c",
    "line" : 67,
    "diffHunk" : "@@ -1,1 +463,467 @@            builtInMetricsVersion\n        ));\n\n        assertNotNull(getMetric(\n            \"active-buffer\","
  },
  {
    "id" : "315483a4-3f69-4db0-b559-68c76ee0135b",
    "prId" : 8882,
    "prUrl" : "https://github.com/apache/kafka/pull/8882#pullrequestreview-431857684",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "55d65fdb-f4c2-48ba-8a57-9d65c684bd1e",
        "parentId" : null,
        "authorId" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "body" : "Just cleaning up some oddball literals.",
        "createdAt" : "2020-06-16T20:22:52Z",
        "updatedAt" : "2020-06-17T03:42:08Z",
        "lastEditedBy" : "f84c555e-0e5d-4773-b994-4121b6b8dada",
        "tags" : [
        ]
      }
    ],
    "commit" : "ae1a3908bcaad82e30ad35a0e4462d7a4b7978b5",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +407,411 @@        final KafkaMetric metric = getMetric(\"active-buffer\", \"%s-count\", task.id().toString(), StreamsConfig.METRICS_LATEST);\n\n        assertThat(metric.metricValue(), equalTo(0.0));\n\n        task.addRecords(partition1, asList("
  },
  {
    "id" : "4a89f3ec-6679-4046-aff3-dc72665e2752",
    "prId" : 8964,
    "prUrl" : "https://github.com/apache/kafka/pull/8964#pullrequestreview-465346137",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8b471e49-9ea8-4ac1-bbc4-35ea666657c5",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Why do we need to setup an exception? If we don't setup any expected call at all, it should fail automatically?",
        "createdAt" : "2020-08-08T04:23:40Z",
        "updatedAt" : "2020-08-11T21:25:16Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "f51c5265-ca92-4224-9b09-8bad5a2c4d4f",
        "parentId" : "8b471e49-9ea8-4ac1-bbc4-35ea666657c5",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Actually if I do not setup, it would not fail.",
        "createdAt" : "2020-08-11T19:00:01Z",
        "updatedAt" : "2020-08-11T21:25:16Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4f2272986357de9c48032d1fd0d9b1482d5a974",
    "line" : 166,
    "diffHunk" : "@@ -1,1 +1531,1535 @@                .andReturn(Collections.singletonMap(partition1, 2L));\n        stateManager.checkpoint();\n        EasyMock.expectLastCall().andThrow(new AssertionError(\"Checkpoint should not be called\")).anyTimes();\n        EasyMock.replay(stateManager);\n"
  },
  {
    "id" : "eb272924-4cd0-44d9-b85a-907948bd6453",
    "prId" : 8964,
    "prUrl" : "https://github.com/apache/kafka/pull/8964#pullrequestreview-463655384",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5b180242-8118-412f-a3da-df6a3aa21999",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Similar to above: instead of throwing, it should be sufficient to just not register any expected calll?",
        "createdAt" : "2020-08-08T04:24:51Z",
        "updatedAt" : "2020-08-11T21:25:16Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4f2272986357de9c48032d1fd0d9b1482d5a974",
    "line" : 280,
    "diffHunk" : "@@ -1,1 +1639,1643 @@        EasyMock.expectLastCall().andThrow(new AssertionError(\"Flush should not be called\")).anyTimes();\n        stateManager.checkpoint();\n        EasyMock.expectLastCall().andThrow(new AssertionError(\"Checkpoint should not be called\")).anyTimes();\n        EasyMock.expect(stateManager.changelogPartitions()).andReturn(Collections.emptySet()).anyTimes();\n        EasyMock.expect(stateManager.changelogOffsets()).andReturn(Collections.emptyMap()).anyTimes();"
  },
  {
    "id" : "3a127413-7b3b-4ce5-8b07-ac2e8b89ed4c",
    "prId" : 9170,
    "prUrl" : "https://github.com/apache/kafka/pull/9170#pullrequestreview-466243790",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dd25fb1f-97a3-48ef-8776-dbc2f26d5549",
        "parentId" : null,
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "Why did this test change?",
        "createdAt" : "2020-08-12T18:15:20Z",
        "updatedAt" : "2020-08-12T18:22:22Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      },
      {
        "id" : "49a448a0-508c-4c4d-8a61-a2dba09e5428",
        "parentId" : "dd25fb1f-97a3-48ef-8776-dbc2f26d5549",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "It was the same as the other one, that it was wrong to begin with.",
        "createdAt" : "2020-08-12T20:21:40Z",
        "updatedAt" : "2020-08-12T20:22:38Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "4288099ff38892fc9b02b9ea2eaa87a50adb64c1",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +1610,1614 @@\n    @Test\n    public void shouldNotCheckpointOnCloseCreated() {\n        stateManager.flush();\n        EasyMock.expectLastCall().andThrow(new AssertionError(\"Flush should not be called\")).anyTimes();"
  },
  {
    "id" : "c205f241-da16-4ea6-85d2-97f005aaa7a6",
    "prId" : 9170,
    "prUrl" : "https://github.com/apache/kafka/pull/9170#pullrequestreview-466159572",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2fee7818-a642-467a-a0c0-933610570b3c",
        "parentId" : null,
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "Same with this one, why did it change? Or was the test just wrong to begin with..?",
        "createdAt" : "2020-08-12T18:15:46Z",
        "updatedAt" : "2020-08-12T18:22:22Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      }
    ],
    "commit" : "4288099ff38892fc9b02b9ea2eaa87a50adb64c1",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +1636,1640 @@\n    @Test\n    public void shouldCheckpointOnCloseRestoringIfNoProgress() {\n        stateManager.flush();\n        EasyMock.expectLastCall().once();"
  }
]