[
  {
    "id" : "ed7690cc-7776-41e5-9710-f9fa7ee34947",
    "prId" : 1668,
    "prUrl" : "https://github.com/akka/alpakka/pull/1668#pullrequestreview-232171592",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "573502d3-601f-45ef-8af0-e6a5a4d1d703",
        "parentId" : null,
        "authorId" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "body" : "I didn't see any use of the `fromRoot` parameter. Could it be dropped?",
        "createdAt" : "2019-04-30T09:38:20Z",
        "updatedAt" : "2019-04-30T13:34:33Z",
        "lastEditedBy" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "tags" : [
        ]
      },
      {
        "id" : "73836b83-576f-4e84-8e87-5dd85ba8b4a4",
        "parentId" : "573502d3-601f-45ef-8af0-e6a5a4d1d703",
        "authorId" : "8959a63a-b1d4-473b-8df8-3f171eff7504",
        "body" : "It is used [here](https://github.com/akka/alpakka/pull/1668/files/ae5e67eadc9e710ef10e46154fba71373d5ce760#diff-95180c276c56d6b228c82b00d495d22eR185).\r\n\r\nThis is related to the fact that we can't write to the root folder of the SFTP server. In that test the path comes from ftpFiles and starts with `upload/` already (in the case of SFTP specs). So `upload/` [shouldn't be added again](https://github.com/akka/alpakka/pull/1668/files/ae5e67eadc9e710ef10e46154fba71373d5ce760#diff-9da90ed2137d0a1874b20e40e6b8d2a5R33) by `retrieveFromPath`. I tried to make things transparent from the test implementer perspective but I couldn't find a better solution than to leak an implementation detail here. You might have a better idea though.\r\n\r\nThis is also why [testing the path inside an FtpFile](https://github.com/akka/alpakka/pull/1668/files/ae5e67eadc9e710ef10e46154fba71373d5ce760#diff-95180c276c56d6b228c82b00d495d22eR145) is tricky since it may contain an `upload/` part or not depending on whether we are running an FTP test or an SFTP one.\r\n",
        "createdAt" : "2019-04-30T12:54:17Z",
        "updatedAt" : "2019-04-30T13:34:33Z",
        "lastEditedBy" : "8959a63a-b1d4-473b-8df8-3f171eff7504",
        "tags" : [
        ]
      },
      {
        "id" : "8631ec67-51dc-4d38-b8db-764ae70130e5",
        "parentId" : "573502d3-601f-45ef-8af0-e6a5a4d1d703",
        "authorId" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "body" : "OK.",
        "createdAt" : "2019-04-30T13:33:41Z",
        "updatedAt" : "2019-04-30T13:34:33Z",
        "lastEditedBy" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "tags" : [
        ]
      }
    ],
    "commit" : "afa8c604436ec4561151b2720bc040880929a253",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +31,35 @@    Ftps.ls(basePath, settings, branchSelector, emitTraversedDirectories)\n\n  protected def retrieveFromPath(path: String, fromRoot: Boolean = false): Source[ByteString, Future[IOResult]] =\n    Ftps.fromPath(path, settings)\n"
  }
]