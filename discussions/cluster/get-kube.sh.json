[
  {
    "id" : "c9178334-8f55-41ce-a223-361cc407def5",
    "prId" : 72861,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/72861#pullrequestreview-193392077",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "25010781-2f02-46a8-8e8d-4ab37e4d40f8",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "you could also just execute the TODO and remove these checks entirely",
        "createdAt" : "2019-01-16T22:02:41Z",
        "updatedAt" : "2019-01-16T22:33:55Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "460b1d02-eb96-4a05-9ee9-3972e653c0d8",
        "parentId" : "25010781-2f02-46a8-8e8d-4ab37e4d40f8",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "I'm up for that, but wasn't sure if we should make functional changes that are not strictly bug fixes.",
        "createdAt" : "2019-01-16T22:27:54Z",
        "updatedAt" : "2019-01-16T22:33:55Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      },
      {
        "id" : "e64ce299-8d51-47a2-860f-f358765970e4",
        "parentId" : "25010781-2f02-46a8-8e8d-4ab37e4d40f8",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "rough summary from offline discussion:\r\n- this check causes us to avoid unnecessary download, extract, and run of the next script if the platform is not supported\r\n- this check might also be out of date wrt supported platforms, but:\r\na) this script should probably go away at some point (when CI no longer depends on it? :grimacing:)\r\nb) probably we should keep this PR scoped to bash lints only",
        "createdAt" : "2019-01-16T22:35:53Z",
        "updatedAt" : "2019-01-16T22:35:54Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      },
      {
        "id" : "96768c5d-8f9c-4703-9a37-152389d5bd26",
        "parentId" : "25010781-2f02-46a8-8e8d-4ab37e4d40f8",
        "authorId" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "body" : "I also thought that this looked weird (a bunch of case statements that are empty) but am in favor of lint cleanup and not rocking the boat too much. ",
        "createdAt" : "2019-01-16T22:38:20Z",
        "updatedAt" : "2019-01-16T22:38:20Z",
        "lastEditedBy" : "c2b5c827-efcd-438f-8db5-52d917b1cde9",
        "tags" : [
        ]
      },
      {
        "id" : "7747f03d-bf9b-4ab2-b48f-0aefd18f9d77",
        "parentId" : "25010781-2f02-46a8-8e8d-4ab37e4d40f8",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "yeah, in general this _script_ is gross because it's basically a roundabout curl | bash k8s install, but unfortunately CI depends on it and I want to be careful to not break it.\r\n\r\nI would be inclined to file a follow-up to refactor this check further, but I think we should focus on not depending on this script. In the meantime though, getting it out of `hack/.shellcheck_failures` will help ensure it doesn't regress in other PRs.",
        "createdAt" : "2019-01-16T22:51:53Z",
        "updatedAt" : "2019-01-16T22:51:53Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      },
      {
        "id" : "7a30a559-22bd-45e7-b92d-56ea6460d5bd",
        "parentId" : "25010781-2f02-46a8-8e8d-4ab37e4d40f8",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "cc @krzyzacy we should probably get a \"re-implement kubetest extracting kubernetes tarballs to not depend on get-kube.sh\" objective planned soon.",
        "createdAt" : "2019-01-16T22:54:00Z",
        "updatedAt" : "2019-01-16T22:54:00Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      }
    ],
    "commit" : "7cc6eaa4a54bbedc94bec9641162beadbd164628",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +142,146 @@# TODO: remove client checks once kubernetes.tar.gz no longer includes client\n# binaries by default.\nkernel=$(uname -s)\ncase \"${kernel}\" in\n  Darwin)"
  },
  {
    "id" : "2140cd31-3804-44c1-9e91-b9afafbbc87c",
    "prId" : 72861,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/72861#pullrequestreview-193385615",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c095fc11-3a79-46c6-a6c9-357a228b1772",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "I don't understand these changes",
        "createdAt" : "2019-01-16T22:04:21Z",
        "updatedAt" : "2019-01-16T22:33:55Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "9c0f33ea-ba8a-45ca-8358-bf104e655413",
        "parentId" : "c095fc11-3a79-46c6-a6c9-357a228b1772",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "thanks!! the export below completed to the wrong env (!)",
        "createdAt" : "2019-01-16T22:27:08Z",
        "updatedAt" : "2019-01-16T22:33:55Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      },
      {
        "id" : "fc73074e-46a5-4a54-907f-96963f83bd62",
        "parentId" : "c095fc11-3a79-46c6-a6c9-357a228b1772",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "what _should_ be happening here is splitting up capturing the value and exporting it into two lines, so as not to swallow the exit status",
        "createdAt" : "2019-01-16T22:27:30Z",
        "updatedAt" : "2019-01-16T22:33:55Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      },
      {
        "id" : "25f2454b-38e8-4cee-8056-8484100d5f1d",
        "parentId" : "c095fc11-3a79-46c6-a6c9-357a228b1772",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "fixed. the export below is now correct",
        "createdAt" : "2019-01-16T22:34:04Z",
        "updatedAt" : "2019-01-16T22:34:04Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      }
    ],
    "commit" : "7cc6eaa4a54bbedc94bec9641162beadbd164628",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +86,90 @@function set_binary_version() {\n  if [[ \"${1}\" =~ \"/\" ]]; then\n    KUBE_VERSION=$(curl -fsSL --retry 5 \"https://dl.k8s.io/${1}.txt\")\n  else\n    KUBE_VERSION=${1}"
  },
  {
    "id" : "237f033c-5bc6-4c31-96fd-ae43c703fa56",
    "prId" : 36419,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/36419#pullrequestreview-9808483",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1ed25ce5-1d16-4eb0-80c3-e70be4176771",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "We [call this script](https://github.com/kubernetes/test-infra/blob/5702a8cfeccd6df74ba0d2a05797a2735784bd67/jenkins/e2e-image/e2e-runner.sh#L121-L145) from CI, [overriding `KUBERNETES_RELEASE_URL`](https://github.com/kubernetes/test-infra/blob/5702a8cfeccd6df74ba0d2a05797a2735784bd67/jenkins/e2e-image/e2e-runner.sh#L91) in some cases to point to a different path. I'm worried that this might break that pattern.\n",
        "createdAt" : "2016-11-11T02:05:13Z",
        "updatedAt" : "2016-12-08T08:12:08Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "9856624c-b918-45f0-8846-02b26f66b63f",
        "parentId" : "1ed25ce5-1d16-4eb0-80c3-e70be4176771",
        "authorId" : "66b41c00-a618-4a70-858b-bb08aafe463e",
        "body" : "Do you have some suggestions? \n",
        "createdAt" : "2016-11-14T11:43:11Z",
        "updatedAt" : "2016-12-08T08:12:08Z",
        "lastEditedBy" : "66b41c00-a618-4a70-858b-bb08aafe463e",
        "tags" : [
        ]
      },
      {
        "id" : "744b17a9-30e8-4a76-9e78-dfec14b47ccf",
        "parentId" : "1ed25ce5-1d16-4eb0-80c3-e70be4176771",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Near line 67, check if `KUBERNETES_RELEASE_URL` is overridden but `KUBERNETES_CI_RELEASE_URL` isn't. If so, set `KUBERNETES_CI_RELEASE_URL` to `KUBERNETES_RELEASE_URL`.",
        "createdAt" : "2016-11-21T23:06:24Z",
        "updatedAt" : "2016-12-08T08:12:08Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "c50b8d4e-4579-4c42-9505-0db3e8144572",
        "parentId" : "1ed25ce5-1d16-4eb0-80c3-e70be4176771",
        "authorId" : "66b41c00-a618-4a70-858b-bb08aafe463e",
        "body" : "Thanks. Done",
        "createdAt" : "2016-11-23T06:39:37Z",
        "updatedAt" : "2016-12-08T08:12:08Z",
        "lastEditedBy" : "66b41c00-a618-4a70-858b-bb08aafe463e",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ea13c649554fd5819f70fd6766ee4986ff78c36",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +182,186 @@if [[ ${KUBE_VERSION} =~ ${KUBE_RELEASE_VERSION_REGEX} ]]; then\n  release_url=\"${KUBERNETES_RELEASE_URL}/${KUBE_VERSION}/${file}\"\nelif [[ ${KUBE_VERSION} =~ ${KUBE_CI_VERSION_REGEX} ]]; then\n  release_url=\"${KUBERNETES_CI_RELEASE_URL}/${KUBE_VERSION}/${file}\"\nelse"
  },
  {
    "id" : "50af4b6f-aabe-4915-9a7c-ddbaab75b2a4",
    "prId" : 36419,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/36419#pullrequestreview-8381518",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b2f25975-539e-444a-a8bb-f986ff6551ba",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "there are a few spots later in this file that probably need to use `${KUBE_VERSION}` instead of `${release}`, but GitHub won't let me leave a comment there.\n",
        "createdAt" : "2016-11-11T02:06:51Z",
        "updatedAt" : "2016-12-08T08:12:08Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "fbb557fa-cf3f-4611-9e7e-36676dce48f7",
        "parentId" : "b2f25975-539e-444a-a8bb-f986ff6551ba",
        "authorId" : "66b41c00-a618-4a70-858b-bb08aafe463e",
        "body" : "Done\n",
        "createdAt" : "2016-11-14T11:42:41Z",
        "updatedAt" : "2016-12-08T08:12:08Z",
        "lastEditedBy" : "66b41c00-a618-4a70-858b-bb08aafe463e",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ea13c649554fd5819f70fd6766ee4986ff78c36",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +179,183 @@# Validate Kubernetes release version.\n# Translate a published version <bucket>/<version> (e.g. \"release/stable\") to version number.\nset_binary_version \"${release}\"\nif [[ ${KUBE_VERSION} =~ ${KUBE_RELEASE_VERSION_REGEX} ]]; then\n  release_url=\"${KUBERNETES_RELEASE_URL}/${KUBE_VERSION}/${file}\""
  },
  {
    "id" : "230ec279-9275-4900-9735-63ccc5cedaaa",
    "prId" : 36419,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/36419#pullrequestreview-12138266",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "754c87aa-c221-468f-b56d-b70646507a02",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "I finally tested this script myself, and now realize we really want `-sS` here too, so we don't get the progress output (which is unnecessary).\r\n\r\nmay also be a good idea to improve the error message. e.g.\r\n```patch\r\n-    KUBE_VERSION=$(curl -fL \"https://dl.k8s.io/${1}.txt\")\r\n+    KUBE_VERSION=$(curl -fsSL \"https://dl.k8s.io/${1}.txt\") || {\r\n+      echo \"Unknown version '$1'\" >&2; exit 1; }\r\n```\r\nthen becomes\r\n```shell\r\n$ KUBERNETES_RELEASE=bad/version cluster/get-kube.sh\r\ncurl: (22) The requested URL returned error: 404 Not Found\r\nUnknown version 'bad/version'\r\n```",
        "createdAt" : "2016-12-08T23:03:33Z",
        "updatedAt" : "2016-12-08T23:04:08Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ea13c649554fd5819f70fd6766ee4986ff78c36",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +84,88 @@function set_binary_version() {\n  if [[ \"${1}\" =~ \"/\" ]]; then\n    KUBE_VERSION=$(curl -fL \"https://dl.k8s.io/${1}.txt\")\n  else\n    KUBE_VERSION=${1}"
  },
  {
    "id" : "773fc733-59e9-4656-ade3-baab7d880cb1",
    "prId" : 21207,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6eb8a354-f985-4b8b-9c84-99fb4d21893c",
        "parentId" : null,
        "authorId" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "body" : "@colemickens you might want to add a comment for yours to this file too\n",
        "createdAt" : "2016-06-27T07:05:02Z",
        "updatedAt" : "2016-06-27T07:05:02Z",
        "lastEditedBy" : "82da2b23-9f40-4abd-8af5-56ba07c1fc0a",
        "tags" : [
        ]
      }
    ],
    "commit" : "e35c1ccba24da88c48b116fb0acf1df390b31782",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +31,35 @@#  Libvirt (with CoreOS as a guest operating system)\n#   * export KUBERNETES_PROVIDER=libvirt-coreos; wget -q -O - https://get.k8s.io | bash\n#  Microsoft Azure\n#   * export KUBERNETES_PROVIDER=azure-legacy; wget -q -O - https://get.k8s.io | bash\n#  Vagrant (local virtual machines)"
  },
  {
    "id" : "46b97d99-f209-4711-8d7a-c9bf352ced62",
    "prId" : 3106,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8abad763-59bd-4f49-9bab-3034f1f5ef8c",
        "parentId" : null,
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "Ug -- I hate seeing this hard coded.  Perhaps we can `sed` this in as part of the official build push or something?\n",
        "createdAt" : "2015-01-06T18:23:24Z",
        "updatedAt" : "2015-01-06T23:02:41Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      },
      {
        "id" : "3b82327b-ad9b-4630-a3e6-7bd7f566fa48",
        "parentId" : "8abad763-59bd-4f49-9bab-3034f1f5ef8c",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "Will do in a follow up PR.\n",
        "createdAt" : "2015-01-06T20:59:23Z",
        "updatedAt" : "2015-01-06T23:02:41Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "1091744a5fca69c42fe8a70f165b10b32c42f178",
    "line" : null,
    "diffHunk" : "@@ -1,1 +59,63 @@fi\n\nrelease=v0.7.2\nrelease_url=https://storage.googleapis.com/kubernetes-release/release/${release}/kubernetes.tar.gz\n"
  }
]