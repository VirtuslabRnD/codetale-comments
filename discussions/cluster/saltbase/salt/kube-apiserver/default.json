[
  {
    "id" : "e50b46f4-1652-4d0d-9b65-726160833383",
    "prId" : 6259,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cfb3e4c2-5c0a-4084-bfe7-bd7622d3302f",
        "parentId" : null,
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "line 38 rewrites cloud config to empty string...\n\nyou need to move that line above this line so it has an initially empty value and is not reset later in file.\n",
        "createdAt" : "2015-04-01T15:14:22Z",
        "updatedAt" : "2015-04-01T15:35:14Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "bb47baae-857e-4f99-9cf6-7ab1479e9759",
        "parentId" : "cfb3e4c2-5c0a-4084-bfe7-bd7622d3302f",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Gah, good catch.\n",
        "createdAt" : "2015-04-01T15:28:58Z",
        "updatedAt" : "2015-04-01T15:35:14Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "b581320bf7f5b3dd382da7e02b85ddebacf1facb",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +11,15 @@\n{% if grains.cloud == 'aws' -%}\n  {% set cloud_config = \"--cloud_config=/etc/aws.conf\" -%}\n{% endif -%}\n"
  },
  {
    "id" : "19c3b9fa-1da6-4040-a4c9-6974d45e00e3",
    "prId" : 5142,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "21707844-7133-4e8f-9235-01c649eab3b5",
        "parentId" : null,
        "authorId" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "body" : "Use of pillar unnecessary?\n",
        "createdAt" : "2015-03-10T22:19:18Z",
        "updatedAt" : "2015-03-11T15:07:46Z",
        "lastEditedBy" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "tags" : [
        ]
      }
    ],
    "commit" : "64eca7393aa76d8a30e362baeb2512a543e35617",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +60,64 @@\n{% set admission_control = \"\" -%}\n{% if pillar['admission_control'] is defined -%}\n {% set admission_control = \"--admission_control=\" + pillar['admission_control'] -%}\n{% endif -%}"
  },
  {
    "id" : "90a53929-3979-40d4-9849-a4387426116c",
    "prId" : 3970,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "688ef71d-102c-42bf-ac69-09c6c8ef4459",
        "parentId" : null,
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "this broke Vagrant.\n\nIn the future, please always set the initial value of a global variable to the empty string outside of an if-block.\n\nI think this would have also broke other providers.\n\nWill send a patch.\n",
        "createdAt" : "2015-01-30T17:05:28Z",
        "updatedAt" : "2015-01-30T17:05:28Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      },
      {
        "id" : "8d9f986b-d6e6-425e-bf69-58a507bf3f48",
        "parentId" : "688ef71d-102c-42bf-ac69-09c6c8ef4459",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "Sorry, my bad!\nOn Jan 30, 2015 9:05 AM, \"Derek Carr\" notifications@github.com wrote:\n\n> In cluster/saltbase/salt/kube-apiserver/default\n> https://github.com/GoogleCloudPlatform/kubernetes/pull/3970#discussion_r23855516\n> :\n> \n> > @@ -27,6 +27,10 @@\n> >  {% if grains.cloud == 'gce' -%}\n> >    {% set cloud_provider = \"--cloud_provider=gce\" -%}\n> >  {% endif -%}\n> > +{% if grains.cloud == 'aws' -%}\n> > -  {% set cloud_provider = \"--cloud_provider=aws\" -%}\n> > -  {% set cloud_config = \"--cloud_config=/etc/aws.conf\" -%}\n> \n> this broke Vagrant.\n> \n> In the future, please always set the initial value of a global variable to\n> the empty string outside of an if-block.\n> \n> I think this would have also broke other providers.\n> \n> Will send a patch.\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/GoogleCloudPlatform/kubernetes/pull/3970/files#r23855516\n> .\n",
        "createdAt" : "2015-01-30T17:15:02Z",
        "updatedAt" : "2015-01-30T17:15:02Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      },
      {
        "id" : "7140dbcc-d327-45ce-a466-8fb3f7b87b4e",
        "parentId" : "688ef71d-102c-42bf-ac69-09c6c8ef4459",
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Ah, totally missed initializing cloud_config.  Sorry.\n",
        "createdAt" : "2015-01-31T00:04:46Z",
        "updatedAt" : "2015-01-31T00:04:46Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      }
    ],
    "commit" : "d8791acdbaa00a57e1bd337ddfb5dc77a7df0091",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +30,34 @@{% if grains.cloud == 'aws' -%}\n  {% set cloud_provider = \"--cloud_provider=aws\" -%}\n  {% set cloud_config = \"--cloud_config=/etc/aws.conf\" -%}\n{% endif -%}\n{% endif -%}"
  },
  {
    "id" : "591f3639-cd0e-44d7-87a0-06b345478520",
    "prId" : 3248,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ffda2900-3e45-4831-89e6-6837a82fef54",
        "parentId" : null,
        "authorId" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "body" : "does this need an else clause like some other options have above?\n",
        "createdAt" : "2015-01-06T20:57:29Z",
        "updatedAt" : "2015-01-07T19:42:44Z",
        "lastEditedBy" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "tags" : [
        ]
      },
      {
        "id" : "482d7ebd-d27a-45fa-8e59-4cdfa72cd63f",
        "parentId" : "ffda2900-3e45-4831-89e6-6837a82fef54",
        "authorId" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "body" : "No.  Absence of a value will just cause kube-apiserver to take the default \"AlwaysAdmit\"\n",
        "createdAt" : "2015-01-06T21:21:22Z",
        "updatedAt" : "2015-01-07T19:42:44Z",
        "lastEditedBy" : "6eca0ade-9879-4dd7-ad14-547e16f5c041",
        "tags" : [
        ]
      }
    ],
    "commit" : "a56087cdf8a8831a968c00c335588b7906150ea7",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +50,54 @@{% if grains.admission_control is defined -%}\n {% set admission_control = \"-admission_control=\" + grains.admission_control -%}\n{% endif -%}\n\nDAEMON_ARGS=\"{{daemon_args}} {{address}} {{etcd_servers}} {{ cloud_provider }} {{admission_control}} --allow_privileged={{pillar['allow_privileged']}} {{portal_net}} {{cert_file}} {{key_file}} {{secure_port}} {{token_auth_file}} {{publicAddressOverride}} {{pillar['log_level']}}\""
  }
]