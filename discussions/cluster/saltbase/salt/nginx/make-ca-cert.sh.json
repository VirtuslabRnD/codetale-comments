[
  {
    "id" : "f8152944-2abd-4531-9519-2560002ad3d7",
    "prId" : 1388,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e935ec21-e06f-449b-83d0-eca0540c572e",
        "parentId" : null,
        "authorId" : "fd5eb1fb-f30a-4735-908c-944e87d99845",
        "body" : "To prevent the script of going on in the present of errors I always recommend starting with:\n\n``` shell\nset -o errexit\nset -o nounset\nset -o pipefail\n```\n",
        "createdAt" : "2014-09-20T00:01:56Z",
        "updatedAt" : "2014-09-23T18:38:39Z",
        "lastEditedBy" : "fd5eb1fb-f30a-4735-908c-944e87d99845",
        "tags" : [
        ]
      },
      {
        "id" : "1930258f-7a30-499c-814b-74b57394f4fc",
        "parentId" : "e935ec21-e06f-449b-83d0-eca0540c572e",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "done.\n",
        "createdAt" : "2014-09-23T16:25:33Z",
        "updatedAt" : "2014-09-23T18:38:39Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "d38b498b0f16e187dd7f56392a9197f27dacef7d",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +14,18 @@# See the License for the specific language governing permissions and\n# limitations under the License.\n\nset -o errexit\nset -o nounset"
  },
  {
    "id" : "b581d780-0cd9-476e-8f76-76d07bb463cb",
    "prId" : 1388,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7d7fdcea-d41c-46b4-9d87-ede394518ac5",
        "parentId" : null,
        "authorId" : "fd5eb1fb-f30a-4735-908c-944e87d99845",
        "body" : "I'm wondering if there are any security concerns here since you're copying key files around... But seeing as these are files generated with \"nopass\" and seem to be essentially just test certificates I think that's probably OK.\n",
        "createdAt" : "2014-09-20T00:09:10Z",
        "updatedAt" : "2014-09-23T18:38:39Z",
        "lastEditedBy" : "fd5eb1fb-f30a-4735-908c-944e87d99845",
        "tags" : [
        ]
      },
      {
        "id" : "46664cee-831a-40b5-93ad-2163ac1cd19f",
        "parentId" : "7d7fdcea-d41c-46b4-9d87-ede394518ac5",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "Yeah, I view having access to the master as having access to root on the master.\n",
        "createdAt" : "2014-09-22T23:15:34Z",
        "updatedAt" : "2014-09-23T18:38:39Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "d38b498b0f16e187dd7f56392a9197f27dacef7d",
    "line" : null,
    "diffHunk" : "@@ -1,1 +41,45 @@./easyrsa build-client-full kubecfg nopass > /dev/null 2>&1\ncp pki/issued/kubernetes-master.crt /usr/share/nginx/server.cert > /dev/null 2>&1\ncp pki/private/kubernetes-master.key /usr/share/nginx/server.key > /dev/null 2>&1\ncp pki/ca.crt /usr/share/nginx/ca.crt\ncp pki/issued/kubecfg.crt /usr/share/nginx/kubecfg.crt"
  },
  {
    "id" : "f0cb2467-7ae4-4628-a554-e72e1a1bda84",
    "prId" : 1388,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "53e58ab2-91b1-4c94-9c46-538211eede06",
        "parentId" : null,
        "authorId" : "fd5eb1fb-f30a-4735-908c-944e87d99845",
        "body" : "I'd have a slight preference towards producing this pki/ directory in a temp directory or elsewhere, in any way outside of the checkout itself. Main concern again is the fact that it leaves the checkout dirty (check `git status` output.) One other possible solution is sending a commit upstream to include a `easyrsa3/.gitignore` file with `/pki` in it which should make it fine for the scripts to just create one there.\n",
        "createdAt" : "2014-09-20T00:13:26Z",
        "updatedAt" : "2014-09-23T18:38:39Z",
        "lastEditedBy" : "fd5eb1fb-f30a-4735-908c-944e87d99845",
        "tags" : [
        ]
      },
      {
        "id" : "fb3a5851-15dd-4de3-832d-75098710e9a0",
        "parentId" : "53e58ab2-91b1-4c94-9c46-538211eede06",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "done.\n",
        "createdAt" : "2014-09-22T21:18:27Z",
        "updatedAt" : "2014-09-23T18:38:39Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "d38b498b0f16e187dd7f56392a9197f27dacef7d",
    "line" : null,
    "diffHunk" : "@@ -1,1 +40,44 @@./easyrsa --subject-alt-name=IP:$cert_ip build-server-full kubernetes-master nopass > /dev/null 2>&1\n./easyrsa build-client-full kubecfg nopass > /dev/null 2>&1\ncp pki/issued/kubernetes-master.crt /usr/share/nginx/server.cert > /dev/null 2>&1\ncp pki/private/kubernetes-master.key /usr/share/nginx/server.key > /dev/null 2>&1\ncp pki/ca.crt /usr/share/nginx/ca.crt"
  }
]