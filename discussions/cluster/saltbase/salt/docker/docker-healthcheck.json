[
  {
    "id" : "a95240df-cd25-4f33-9caa-7de71347d20e",
    "prId" : 22434,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dbc81238-9ae1-40ea-b8f2-2507413e09e1",
        "parentId" : null,
        "authorId" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "body" : "If docker failed to restart due to some reasons after 60s waiting time, before systemctl to restart it, we have to wait for:\n\n10s (healthcheck timer) + 30s (grace before restarting) = 40s\n\nBut in GCE salt-based configuration, the wait time is 10s (healthcheck timer) before restart it. Just want to point out the difference here. \n",
        "createdAt" : "2016-03-04T18:18:46Z",
        "updatedAt" : "2016-03-04T18:18:46Z",
        "lastEditedBy" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "tags" : [
        ]
      },
      {
        "id" : "5fbc3dda-d861-4c87-bf6d-6310897f42a7",
        "parentId" : "dbc81238-9ae1-40ea-b8f2-2507413e09e1",
        "authorId" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "body" : "Yes that is true - I am less trusting of Docker than you are, so I give it longer just in case it wakes up ;-)\n\nMore seriously, because this is an entirely separate service (unlike on GCE where it supervises things), I tried to be more forgiving.  In particular I wanted to be sure Docker had had a chance to start up when we first run.  I can adjust the timings to be shorter but I don't think the risk/reward is there - hopefully Docker won't crash too often, and saving a minute or two on recovery isn't worth it to me vs accidentally killing a Docker that is healthy but slow.\n\nHappy to adjust these if you think differently though!\n",
        "createdAt" : "2016-03-04T18:55:11Z",
        "updatedAt" : "2016-03-04T18:55:11Z",
        "lastEditedBy" : "8fc8f958-3c0e-47dd-a0fb-b8cc483b4efb",
        "tags" : [
        ]
      },
      {
        "id" : "32db85f9-4b8b-4a27-9bc8-700d93d3b71a",
        "parentId" : "dbc81238-9ae1-40ea-b8f2-2507413e09e1",
        "authorId" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "body" : "ACK\n",
        "createdAt" : "2016-03-04T21:59:39Z",
        "updatedAt" : "2016-03-04T21:59:39Z",
        "lastEditedBy" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "tags" : [
        ]
      }
    ],
    "commit" : "6bdab05d11a1cbcd8e3be790b11a391561712c3e",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +16,20 @@\n# This script is intended to be run periodically, to check the health\n# of docker.  If it detects a failure, it will restart docker using systemctl.\n\nif timeout 10 docker version > /dev/null; then"
  }
]