[
  {
    "id" : "3746d529-4335-4592-8367-95ab04c62ee9",
    "prId" : 36229,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/36229#pullrequestreview-15065148",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "912c0a71-0c09-4741-ab7b-531bc4334a7b",
        "parentId" : null,
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "-alpha? ",
        "createdAt" : "2017-01-04T03:22:29Z",
        "updatedAt" : "2017-01-04T03:22:29Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "c83b942e-e6d2-41c8-a601-e16e3fbad15a",
        "parentId" : "912c0a71-0c09-4741-ab7b-531bc4334a7b",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "I wanted to be consistent with versioning scheme for k8s itself, where we are doing \"-alpha.1 -alpha.2, ... -beta.1, -beta.2, ...\".\r\n\r\nI don't think it is that important though, so leaving as is (we can change it later if you feel strongly about it).",
        "createdAt" : "2017-01-04T07:25:05Z",
        "updatedAt" : "2017-01-04T07:25:05Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "498a893fa35a1c688443f126ff52c72e0152c5b7",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +40,44 @@    {\n    \"name\": \"etcd-container\",\n    \"image\": \"gcr.io/google_containers/etcd:{{ pillar.get('etcd_docker_tag', '3.0.14-alpha.1') }}\",\n    \"resources\": {\n      \"requests\": {"
  },
  {
    "id" : "603a9142-0851-418c-b7cc-c0a440187947",
    "prId" : 29284,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c116984a-a83f-4dfd-84f5-d01eb69c606f",
        "parentId" : null,
        "authorId" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "body" : "What does `~` do?\n",
        "createdAt" : "2016-07-26T14:53:10Z",
        "updatedAt" : "2016-07-26T21:24:27Z",
        "lastEditedBy" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "tags" : [
        ]
      },
      {
        "id" : "01f0aafd-f773-4052-a8b9-b0ab33077552",
        "parentId" : "c116984a-a83f-4dfd-84f5-d01eb69c606f",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "Concatenation of strings with conversion from different type to string.\n",
        "createdAt" : "2016-07-26T16:25:53Z",
        "updatedAt" : "2016-07-26T21:24:27Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "827ee794d6ff52fc36152803b3e88ecf71e6cd92",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +8,12 @@  {% if etcd_cluster != '' -%}\n    {% set cluster_state = 'existing' -%}\n    {% set etcd_cluster = etcd_cluster ~ ',' -%}\n  {% endif -%}\n  {% set etcd_cluster = etcd_cluster ~ 'etcd-' ~ host ~ '=http://' ~ host ~ ':' ~ server_port -%}"
  },
  {
    "id" : "003f26c4-62df-4db0-85e7-330b4ad435f4",
    "prId" : 29284,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a06fbf8-f330-422a-802a-b018d3c91afe",
        "parentId" : null,
        "authorId" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "body" : "I think it'll be easier if etcd_cluster is an array and you use `join` function at the end.\n",
        "createdAt" : "2016-07-26T14:54:55Z",
        "updatedAt" : "2016-07-26T21:24:27Z",
        "lastEditedBy" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "tags" : [
        ]
      },
      {
        "id" : "0d4679bf-cff6-4296-9269-02067294f420",
        "parentId" : "5a06fbf8-f330-422a-802a-b018d3c91afe",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "I'll do it in a subsequent PR.\n",
        "createdAt" : "2016-07-26T21:17:54Z",
        "updatedAt" : "2016-07-26T21:24:27Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "827ee794d6ff52fc36152803b3e88ecf71e6cd92",
    "line" : null,
    "diffHunk" : "@@ -1,1 +6,10 @@{% set vars = {'etcd_cluster': '', 'cluster_state': cluster_state} -%}\n{% for host in etcd_cluster_array -%}\n  {% if etcd_cluster != '' -%}\n    {% set cluster_state = 'existing' -%}\n    {% set etcd_cluster = etcd_cluster ~ ',' -%}"
  },
  {
    "id" : "7d7b5675-eb0c-47f8-a0e7-525fdcdb530b",
    "prId" : 29284,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9ecac7de-4321-484c-a8c8-1148ef124a50",
        "parentId" : null,
        "authorId" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "body" : "Shouldn't `cluster_state` be set to `new` if `initial_etcd_cluster` has 1 element? In other words does `initial_etcd_cluster` contain current cluster?\n",
        "createdAt" : "2016-07-26T14:55:54Z",
        "updatedAt" : "2016-07-26T21:24:27Z",
        "lastEditedBy" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "tags" : [
        ]
      },
      {
        "id" : "813acfef-b45b-4c37-96c0-51dee408ce05",
        "parentId" : "9ecac7de-4321-484c-a8c8-1148ef124a50",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "`cluster_state` **is** **set** to `new` if initial etcd cluster has 1 element. In case of one elelement, we set `etcd_cluster` after this comparision.\n",
        "createdAt" : "2016-07-26T16:32:12Z",
        "updatedAt" : "2016-07-26T21:24:27Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "827ee794d6ff52fc36152803b3e88ecf71e6cd92",
    "line" : null,
    "diffHunk" : "@@ -1,1 +7,11 @@{% for host in etcd_cluster_array -%}\n  {% if etcd_cluster != '' -%}\n    {% set cluster_state = 'existing' -%}\n    {% set etcd_cluster = etcd_cluster ~ ',' -%}\n  {% endif -%}"
  },
  {
    "id" : "6b8cd35c-6a84-453c-aa3c-e77f9bfe3aa9",
    "prId" : 29284,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "852c24a7-1a64-41b6-a867-834b4d342e23",
        "parentId" : null,
        "authorId" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "body" : "Why do you need `vars`?\n",
        "createdAt" : "2016-07-26T14:58:56Z",
        "updatedAt" : "2016-07-26T21:24:27Z",
        "lastEditedBy" : "df06b0d6-fd6c-44d1-8008-efeaccd16cd5",
        "tags" : [
        ]
      },
      {
        "id" : "0ef62db3-4c8f-44e1-8a8d-09e61939836c",
        "parentId" : "852c24a7-1a64-41b6-a867-834b4d342e23",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "Because jinja defines new variables inside for loop that hide variables from outside the loop.\n",
        "createdAt" : "2016-07-26T16:29:28Z",
        "updatedAt" : "2016-07-26T21:24:27Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      },
      {
        "id" : "9c621c46-a719-4c4a-8e5d-cfe8ebfdb285",
        "parentId" : "852c24a7-1a64-41b6-a867-834b4d342e23",
        "authorId" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "body" : "Added a comment.\n",
        "createdAt" : "2016-07-26T21:24:38Z",
        "updatedAt" : "2016-07-26T21:24:38Z",
        "lastEditedBy" : "c929c906-4dfb-433b-9bc7-1b4b05c176f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "827ee794d6ff52fc36152803b3e88ecf71e6cd92",
    "line" : null,
    "diffHunk" : "@@ -1,1 +4,8 @@{% set etcd_cluster = '' -%}\n{# We use vars dictionary to pass variables set inside the for loop, because jinja defines new variables inside the for loop that hide variables from the outside. #}\n{% set vars = {'etcd_cluster': '', 'cluster_state': cluster_state} -%}\n{% for host in etcd_cluster_array -%}\n  {% if etcd_cluster != '' -%}"
  },
  {
    "id" : "4dd2ffaa-547f-46d9-8bb2-4c1cabe06464",
    "prId" : 14766,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a347243f-b02c-4909-b674-912d8e70130b",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "I think that we should also change the \"varetcd\" volume.\nI think that the path should be:\n\"/mnt/master-pd/var/etcd{{ suffix }}\"\n\nOtherwise, we would have a conflict that two separate etcd instances would be writing to the same directory - it seems bad to me.\n",
        "createdAt" : "2015-09-30T07:44:57Z",
        "updatedAt" : "2015-09-30T07:44:57Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "4aaf942a-d922-4065-9e8b-7d225a3512b4",
        "parentId" : "a347243f-b02c-4909-b674-912d8e70130b",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "OK - never mind. I see that you're separating the directory below (you have /var/etcd/data and /var/etcd/data{{ suffix }}.\n",
        "createdAt" : "2015-09-30T07:51:08Z",
        "updatedAt" : "2015-09-30T07:51:08Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4581c7cd56c84df269970ed554bbea1e5dc58d0",
    "line" : 56,
    "diffHunk" : "@@ -1,1 +60,64 @@  { \"name\": \"varlogetcd\",\n    \"hostPath\": {\n        \"path\": \"/var/log/etcd{{ suffix }}.log\"}\n  }\n]"
  },
  {
    "id" : "975d92f5-5b72-4b63-8fc5-1439a9824722",
    "prId" : 14766,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "73e5c955-5b78-4bfa-9c39-f53927eb6372",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Also - for consistency, we should probably either use --flag=value or --flag value (and not mix those two)\n",
        "createdAt" : "2015-09-30T07:47:40Z",
        "updatedAt" : "2015-09-30T07:47:40Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4581c7cd56c84df269970ed554bbea1e5dc58d0",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +20,24 @@              \"/bin/sh\",\n              \"-c\",\n              \"/usr/local/bin/etcd --listen-peer-urls=http://127.0.0.1:{{ server_port }} --addr 127.0.0.1:{{ port }} --bind-addr 127.0.0.1:{{ port }} --data-dir /var/etcd/data{{ suffix }} 1>>/var/log/etcd{{ suffix }}.log 2>&1\"\n            ],\n    \"livenessProbe\": {"
  },
  {
    "id" : "db252e0d-c86e-4ce0-9518-7c4c256cb45e",
    "prId" : 6221,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0fbe0055-978f-47ed-9a47-6c97bb835a8f",
        "parentId" : null,
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Is this image on ContainerVM now, or should we get it onto gcr.io?\n",
        "createdAt" : "2015-03-31T16:48:19Z",
        "updatedAt" : "2015-04-01T18:38:52Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "561d9a5f-999e-4db0-9169-26ad251984b9",
        "parentId" : "0fbe0055-978f-47ed-9a47-6c97bb835a8f",
        "authorId" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "body" : "This shouldn't be in ContainerVM image since we still support other internal users. \n",
        "createdAt" : "2015-03-31T17:22:06Z",
        "updatedAt" : "2015-04-01T18:38:52Z",
        "lastEditedBy" : "a6409368-42e0-44a9-bf79-9d3042ac3b65",
        "tags" : [
        ]
      },
      {
        "id" : "f6556c8e-4f3f-42ce-876a-5ebed3a516f1",
        "parentId" : "0fbe0055-978f-47ed-9a47-6c97bb835a8f",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "I'm okay with merge as-is so we can start to get some run-time. Can you file a follow-on issue to move this to gcr.io quickly, though, so all infrastructure is off docker hub?\n",
        "createdAt" : "2015-03-31T17:26:50Z",
        "updatedAt" : "2015-04-01T18:38:52Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "8e3a41b52cdf8cb22446bc09f6978eb1500f81f1",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +10,14 @@    {\n    \"name\": \"etcd-container\",\n    \"image\": \"kubernetes/etcd:2.0.5.1\",\n    \"command\": [\n              \"/usr/local/bin/etcd\","
  }
]