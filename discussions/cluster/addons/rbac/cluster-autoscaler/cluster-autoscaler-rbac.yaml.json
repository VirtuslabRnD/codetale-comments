[
  {
    "id" : "03b57afc-3ada-43e9-8c5b-e2c98be40ce1",
    "prId" : 64503,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64503#pullrequestreview-127480761",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "762c3f2d-1d5a-4f36-ac77-044c2d7a897d",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "I assume the autoscaler is using this for leader locking? If so, as a future improvement, I'd recommend switching away from endpoints (possibly to a configmap, like the kube components have) to avoid continuously pushing unnecessary endpoint events to watchers (all the kube-proxy processes on all the nodes)",
        "createdAt" : "2018-06-08T13:41:28Z",
        "updatedAt" : "2018-06-11T19:04:15Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "5d591e0a-3a42-4411-b1a3-257501c83eb0",
        "parentId" : "762c3f2d-1d5a-4f36-ac77-044c2d7a897d",
        "authorId" : "cb915a00-cb49-49bf-956a-726c19bf18db",
        "body" : "Yes, it's for leader election and locking.\r\nI thought that the algorithm (and object used) is the same as in kube-scheduler but I will have another look and create an enhancement PR in CA - thanks for the suggestion.",
        "createdAt" : "2018-06-08T13:49:52Z",
        "updatedAt" : "2018-06-11T19:04:15Z",
        "lastEditedBy" : "cb915a00-cb49-49bf-956a-726c19bf18db",
        "tags" : [
        ]
      },
      {
        "id" : "edb5e7b9-1778-4d81-843d-20a20b6b9709",
        "parentId" : "762c3f2d-1d5a-4f36-ac77-044c2d7a897d",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Once we have Lease object: https://github.com/kubernetes/kubernetes/pull/64246/ we should migrate everyone to that. ConfigMap is better, but still not ideal, and since we are going to have API exactly for this purpose let's avoid updating it more than once.",
        "createdAt" : "2018-06-11T08:32:42Z",
        "updatedAt" : "2018-06-11T19:04:15Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "736c8717-ae50-493d-b06e-3d403ab52322",
        "parentId" : "762c3f2d-1d5a-4f36-ac77-044c2d7a897d",
        "authorId" : "cb915a00-cb49-49bf-956a-726c19bf18db",
        "body" : "I've created [issue 944](https://github.com/kubernetes/autoscaler/issues/944) in the autoscaler repository.",
        "createdAt" : "2018-06-11T08:51:11Z",
        "updatedAt" : "2018-06-11T19:54:47Z",
        "lastEditedBy" : "cb915a00-cb49-49bf-956a-726c19bf18db",
        "tags" : [
        ]
      }
    ],
    "commit" : "9e2fa69d209bfa134513e32773671b6c7dcb0c34",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +12,16 @@  - apiGroups: [\"\"]\n    resources: [\"endpoints\"]\n    resourceNames: [\"cluster-autoscaler\"]\n    verbs: [\"get\", \"update\", \"patch\", \"delete\"]\n  # accessing & modifying cluster state (nodes & pods)"
  }
]