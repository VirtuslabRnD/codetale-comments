[
  {
    "id" : "5452b15c-8e4e-45ba-b62e-c3efe952d9dc",
    "prId" : 103713,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/103713#pullrequestreview-709866808",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7df75af3-1f25-45ed-87c5-424034f50bc1",
        "parentId" : null,
        "authorId" : "411a526b-e74b-4a8d-beca-dc8fb83b6907",
        "body" : "I am not too familiar with the test environment, but maybe we couldn't access the kubelet metrics via Hostname? If that's the case we might want to update the preference list. We have `InternalIP,ExternalIP,Hostname` upstream to align with kubeadm.",
        "createdAt" : "2021-07-19T14:10:46Z",
        "updatedAt" : "2021-07-19T14:10:49Z",
        "lastEditedBy" : "411a526b-e74b-4a8d-beca-dc8fb83b6907",
        "tags" : [
        ]
      },
      {
        "id" : "05f65a7f-85c9-441b-9c56-0896d6e17e25",
        "parentId" : "7df75af3-1f25-45ed-87c5-424034f50bc1",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "it seems this change give us more light\r\n> I0719 14:08:53.355] E0719 14:05:36.133995       1 server.go:132] unable to fully scrape metrics: [unable to fully scrape metrics from node e2e-27cbc2e916-a7d53-master: unable to fetch metrics from node e2e-27cbc2e916-a7d53-master: Get \"https://10.40.0.2:10250/stats/summary?only_cpu_and_memory=true\": x509: cannot validate certificate for 10.40.0.2 because it doesn't contain any IP SANs, unable to fully scrape metrics from node e2e-27cbc2e916-a7d53-minion-group-mg0c: unable to fetch metrics from node e2e-27cbc2e916-a7d53-minion-group-mg0c: Get \"https://10.40.0.4:10250/stats/summary?only_cpu_and_memory=true\": x509: cannot validate certificate for 10.40.0.4 because it doesn't contain any IP SANs, unable to fully scrape metrics from node e2e-27cbc2e916-a7d53-minion-group-z50r: unable to fetch metrics from node e2e-27cbc2e916-a7d53-minion-group-z50r: Get \"https://10.40.0.5:10250/stats/summary?only_cpu_and_memory=true\": x509: cannot validate certificate for 10.40.0.5 because it doesn't contain any IP SANs, unable to fully scrape metrics from node e2e-27cbc2e916-a7d53-minion-group-qkbw: unable to fetch metrics from node e2e-27cbc2e916-a7d53-minion-group-qkbw: Get \"https://10.40.0.3:10250/stats/summary?only_cpu_and_memory=true\": x509: cannot validate certificate for 10.40.0.3 because it doesn't contain any IP SANs]\r\n",
        "createdAt" : "2021-07-19T15:53:21Z",
        "updatedAt" : "2021-07-19T15:53:21Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "79a30b86-f061-479f-97f9-f34b39cefcf8",
        "parentId" : "7df75af3-1f25-45ed-87c5-424034f50bc1",
        "authorId" : "411a526b-e74b-4a8d-beca-dc8fb83b6907",
        "body" : "I think we should be able to skip the certificates by passing `--kubelet-insecure-tls` to metrics-server. ",
        "createdAt" : "2021-07-19T16:15:06Z",
        "updatedAt" : "2021-07-19T16:15:06Z",
        "lastEditedBy" : "411a526b-e74b-4a8d-beca-dc8fb83b6907",
        "tags" : [
        ]
      },
      {
        "id" : "21dae8c1-ddca-40ec-bdff-eca56dd3ec03",
        "parentId" : "7df75af3-1f25-45ed-87c5-424034f50bc1",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "let me try that",
        "createdAt" : "2021-07-19T16:30:57Z",
        "updatedAt" : "2021-07-19T16:30:57Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "b9072ccf-7d8f-41c2-9b86-cddb37b6c6ce",
        "parentId" : "7df75af3-1f25-45ed-87c5-424034f50bc1",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "it works, thanks",
        "createdAt" : "2021-07-19T18:34:09Z",
        "updatedAt" : "2021-07-19T18:34:09Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "d75cd88b-4167-44e5-826a-a8f921ec772b",
        "parentId" : "7df75af3-1f25-45ed-87c5-424034f50bc1",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "it worked ",
        "createdAt" : "2021-07-19T18:42:10Z",
        "updatedAt" : "2021-07-19T18:42:10Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "0610968bfaa8b6448d884f67c1faf3700bce62ef",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +57,61 @@        - --kubelet-use-node-status-port\n        - --kubelet-insecure-tls\n        - --kubelet-preferred-address-types=InternalIP,Hostname,InternalDNS,ExternalDNS,ExternalIP\n        - --cert-dir=/tmp\n        - --secure-port=443"
  },
  {
    "id" : "898256e0-7159-4d51-b71d-1e333eea7ad2",
    "prId" : 103713,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/103713#pullrequestreview-711932420",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "de465606-dd2a-4afd-942d-56ef983935bf",
        "parentId" : null,
        "authorId" : "30343065-ff78-4ac2-8aa1-fe001a3627c6",
        "body" : "are we sure that this version of the image has the file capabilities on the binary?",
        "createdAt" : "2021-07-19T23:41:56Z",
        "updatedAt" : "2021-07-19T23:41:56Z",
        "lastEditedBy" : "30343065-ff78-4ac2-8aa1-fe001a3627c6",
        "tags" : [
        ]
      },
      {
        "id" : "afc73f76-ca09-459c-b4f5-e71d506c6779",
        "parentId" : "de465606-dd2a-4afd-942d-56ef983935bf",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "@dgrisonnet or someone from the metrics servers project can answer this?",
        "createdAt" : "2021-07-20T06:36:24Z",
        "updatedAt" : "2021-07-20T06:36:24Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "549f45a3-2d2b-430a-8cf7-17e75345c067",
        "parentId" : "de465606-dd2a-4afd-942d-56ef983935bf",
        "authorId" : "411a526b-e74b-4a8d-beca-dc8fb83b6907",
        "body" : "yes it does, we are running `setcap cap_net_bind_service=+ep metrics-server` on the binary when building the image.",
        "createdAt" : "2021-07-20T06:53:00Z",
        "updatedAt" : "2021-07-20T06:53:00Z",
        "lastEditedBy" : "411a526b-e74b-4a8d-beca-dc8fb83b6907",
        "tags" : [
        ]
      },
      {
        "id" : "dee45e8d-1df3-4bdd-bc53-e388ed9c8e05",
        "parentId" : "de465606-dd2a-4afd-942d-56ef983935bf",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "the only difference between the job that fails with the binding problem and the job that works, is that the failing one uses dockershim and the good one CRI-> containerd",
        "createdAt" : "2021-07-21T07:53:19Z",
        "updatedAt" : "2021-07-21T07:53:20Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      },
      {
        "id" : "093f0ee6-8bf1-4938-b582-1b8ebb1ff474",
        "parentId" : "de465606-dd2a-4afd-942d-56ef983935bf",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "so... does that mean that capabilities are broken in dockershim? that seems... pretty important to resolve",
        "createdAt" : "2021-07-21T14:08:13Z",
        "updatedAt" : "2021-07-21T14:08:33Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "a18e1146-814b-4995-93f1-2ef8dc9a68ec",
        "parentId" : "de465606-dd2a-4afd-942d-56ef983935bf",
        "authorId" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "body" : "ah, ok, my bad, I thought that the deprecation prevaled and that is why I was trying to workaround it ... sorry",
        "createdAt" : "2021-07-21T16:51:42Z",
        "updatedAt" : "2021-07-21T16:51:42Z",
        "lastEditedBy" : "203dfb85-d185-4057-88b3-a1b4f09fd1fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "0610968bfaa8b6448d884f67c1faf3700bce62ef",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +52,56 @@      - name: metrics-server\n        image: k8s.gcr.io/metrics-server/metrics-server:v0.5.0\n        command:\n        - /metrics-server\n        - --metric-resolution=30s"
  },
  {
    "id" : "dac14606-b864-4fb0-8ef5-3c4cc6b6a19e",
    "prId" : 66177,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66177#pullrequestreview-144524424",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2d496427-a42b-491c-bff1-1bf50a10ec52",
        "parentId" : null,
        "authorId" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "body" : "For consistency I'd templetize cpu as well - all settings will be in a single place.",
        "createdAt" : "2018-08-08T14:29:32Z",
        "updatedAt" : "2018-08-10T14:22:02Z",
        "lastEditedBy" : "3c437914-616b-4cfb-88a0-28dc812ff2b2",
        "tags" : [
        ]
      },
      {
        "id" : "5522ea77-0861-40d9-a41c-0bef05dee723",
        "parentId" : "2d496427-a42b-491c-bff1-1bf50a10ec52",
        "authorId" : "42cb98d9-070c-41d8-9f77-6ce32dd6126c",
        "body" : "The implementation of this change mirrors the implementation currently used for heapster. In both cases the extra-cpu flag is not being tuned. For consistency with existing code and since it is not critical to the functionality I'm looking to implement I chose not to templatize the value of that flag. I can, however, implement a follow-up change to do the proposed clean-up if desired.",
        "createdAt" : "2018-08-08T17:25:21Z",
        "updatedAt" : "2018-08-10T14:22:03Z",
        "lastEditedBy" : "42cb98d9-070c-41d8-9f77-6ce32dd6126c",
        "tags" : [
        ]
      }
    ],
    "commit" : "3f33cb7cd5a12621c5d8d14f5d848ba14893f8b9",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +83,87 @@          - --config-dir=/etc/config\n          - --cpu={{ base_metrics_server_cpu }}\n          - --extra-cpu=0.5m\n          - --memory={{ base_metrics_server_memory }}\n          - --extra-memory={{ metrics_server_memory_per_node }}Mi"
  },
  {
    "id" : "71494556-5a16-4a96-b98b-42714046196f",
    "prId" : 66177,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66177#pullrequestreview-144525737",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "016f1d7e-8566-4313-bb4a-d643261e81fc",
        "parentId" : null,
        "authorId" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "body" : "Inconsistency: lack of Mi here, Mi below.",
        "createdAt" : "2018-08-08T15:23:01Z",
        "updatedAt" : "2018-08-10T14:22:02Z",
        "lastEditedBy" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "tags" : [
        ]
      },
      {
        "id" : "6616cc9a-681b-4451-bad8-ee3caf017d38",
        "parentId" : "016f1d7e-8566-4313-bb4a-d643261e81fc",
        "authorId" : "42cb98d9-070c-41d8-9f77-6ce32dd6126c",
        "body" : "The implementation of this change is based on how the heapster yaml has been templatized and is consistent with that implementation. I too noticed this inconsistency, but didn't want to make things inconsistent with existing code. I can implement a follow-up PR to clean this up.",
        "createdAt" : "2018-08-08T17:28:27Z",
        "updatedAt" : "2018-08-10T14:22:03Z",
        "lastEditedBy" : "42cb98d9-070c-41d8-9f77-6ce32dd6126c",
        "tags" : [
        ]
      }
    ],
    "commit" : "3f33cb7cd5a12621c5d8d14f5d848ba14893f8b9",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +84,88 @@          - --cpu={{ base_metrics_server_cpu }}\n          - --extra-cpu=0.5m\n          - --memory={{ base_metrics_server_memory }}\n          - --extra-memory={{ metrics_server_memory_per_node }}Mi\n          - --threshold=5"
  },
  {
    "id" : "44020eb5-b983-4501-92f7-712ce69609a1",
    "prId" : 57462,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/57462#pullrequestreview-86114655",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dc6d5dab-19ab-46e8-a108-ec470c844323",
        "parentId" : null,
        "authorId" : "e2aaf386-2908-41e6-860b-bcb2cffa1cc7",
        "body" : "I think this is decreasing by too much. How did you choose this number?",
        "createdAt" : "2018-01-02T10:32:37Z",
        "updatedAt" : "2018-01-02T10:32:37Z",
        "lastEditedBy" : "e2aaf386-2908-41e6-860b-bcb2cffa1cc7",
        "tags" : [
        ]
      },
      {
        "id" : "94cbf23e-657b-4efd-aee1-1b26ac4bf812",
        "parentId" : "dc6d5dab-19ab-46e8-a108-ec470c844323",
        "authorId" : "e2aaf386-2908-41e6-860b-bcb2cffa1cc7",
        "body" : "Discussed offline, should be ok.",
        "createdAt" : "2018-01-02T10:43:55Z",
        "updatedAt" : "2018-01-02T10:43:55Z",
        "lastEditedBy" : "e2aaf386-2908-41e6-860b-bcb2cffa1cc7",
        "tags" : [
        ]
      }
    ],
    "commit" : "abfa43c8e1ce795eb5143b1a6056d1a234753f5e",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +50,54 @@            memory: 300Mi\n          requests:\n            cpu: 5m\n            memory: 50Mi\n        env:"
  }
]