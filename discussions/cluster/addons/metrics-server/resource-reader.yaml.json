[
  {
    "id" : "7cb99b54-372c-4d82-a430-bd154fc70c49",
    "prId" : 53527,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/53527#pullrequestreview-67665906",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "30b6c4a6-341b-41da-a08c-b6b734fdfcf2",
        "parentId" : null,
        "authorId" : "acf367dc-26b7-4dc5-b0fa-2397add126d0",
        "body" : "Note that it is done differently in heapster. There is a Role \"system:pod-nanny\" which is bound here: https://github.com/kubernetes/kubernetes/blob/master/cluster/addons/cluster-monitoring/heapster-rbac.yaml#L51. Here is analogous config for nanny: https://github.com/kubernetes/kubernetes/blob/master/cluster/addons/metrics-server/auth-reader.yaml. I think it's the better way, since it separates permissions for different components, e.g. if nanny needs additional permissions, you will have to change only one config.",
        "createdAt" : "2017-10-06T13:01:40Z",
        "updatedAt" : "2017-10-06T13:01:41Z",
        "lastEditedBy" : "acf367dc-26b7-4dc5-b0fa-2397add126d0",
        "tags" : [
        ]
      },
      {
        "id" : "4a8b3745-9135-474a-98de-29a4a00a6056",
        "parentId" : "30b6c4a6-341b-41da-a08c-b6b734fdfcf2",
        "authorId" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "body" : "I considered doing this similarly but IIUC the role is binded to the same service account as the other Heapster roles. I think it will make sense to have such model if nanny runs as a separate pod. Otherwise it's just confusing. WDYT? Do I understand it correctly?",
        "createdAt" : "2017-10-06T13:09:15Z",
        "updatedAt" : "2017-10-06T13:09:15Z",
        "lastEditedBy" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "tags" : [
        ]
      },
      {
        "id" : "1f47967b-358b-4d3c-9c77-e165d910c9c5",
        "parentId" : "30b6c4a6-341b-41da-a08c-b6b734fdfcf2",
        "authorId" : "acf367dc-26b7-4dc5-b0fa-2397add126d0",
        "body" : "Yes, this will grant the same permissions for all containers. The benefit I see is the separation of configuration, i.e. if we have multiple components using pod nanny, we only need to manage one configuration file. wrt. readability, it's more readable in some ways and less in others. In heapster it's easier to see which permissions are needed for which purpose, on the other hand there is no explicit list of all permissions in one place. IMO it's better to use \"system:pod-nanny\" role.",
        "createdAt" : "2017-10-06T13:24:19Z",
        "updatedAt" : "2017-10-06T13:24:19Z",
        "lastEditedBy" : "acf367dc-26b7-4dc5-b0fa-2397add126d0",
        "tags" : [
        ]
      }
    ],
    "commit" : "17c9e344599105b77f38ca7e54aff5dd5e457603",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +24,28 @@  - get\n  - list\n  - update\n  - watch\n---"
  }
]