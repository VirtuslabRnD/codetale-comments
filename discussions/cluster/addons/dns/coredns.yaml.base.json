[
  {
    "id" : "6725c72d-81e7-4ceb-b56e-fd501e27e149",
    "prId" : 64279,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64279#pullrequestreview-123116515",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2f054da8-5674-488d-ab0c-49feda43f4f8",
        "parentId" : null,
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Should it be `runtime/default` instead?",
        "createdAt" : "2018-05-24T18:02:56Z",
        "updatedAt" : "2018-05-24T18:02:56Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      },
      {
        "id" : "63800024-e9f1-4a31-b9ff-f05dc898eb6d",
        "parentId" : "2f054da8-5674-488d-ab0c-49feda43f4f8",
        "authorId" : "4186ed58-9575-4126-b730-073268bc67cb",
        "body" : "Ideally, yes. But we recently updated it to runtime/default. So to handle the version skew, I think we have to use the old docker/default for now in case some clusters are still using an old version. Later when we enable default seccomp profile by default, this can be removed.",
        "createdAt" : "2018-05-24T18:15:45Z",
        "updatedAt" : "2018-05-24T18:15:45Z",
        "lastEditedBy" : "4186ed58-9575-4126-b730-073268bc67cb",
        "tags" : [
        ]
      },
      {
        "id" : "dff99068-f3ad-47bc-b033-f50c2a4f5ad9",
        "parentId" : "2f054da8-5674-488d-ab0c-49feda43f4f8",
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Got it! Thanks for the explanation.",
        "createdAt" : "2018-05-24T18:25:55Z",
        "updatedAt" : "2018-05-24T18:26:00Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      }
    ],
    "commit" : "c875690d0d8a69a9dde735f9d3a59b2e0adab9a5",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +96,100 @@        k8s-app: kube-dns\n      annotations:\n        seccomp.security.alpha.kubernetes.io/pod: 'docker/default'\n    spec:\n      serviceAccountName: coredns"
  },
  {
    "id" : "b3b11a72-19d2-427e-b67e-e7e4d0158b49",
    "prId" : 62409,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/62409#pullrequestreview-113843574",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4e90252f-dd43-4dbb-bc1d-05ed43dcd9f2",
        "parentId" : null,
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Why changing label to kube-dns?",
        "createdAt" : "2018-04-11T16:23:01Z",
        "updatedAt" : "2018-04-11T16:32:03Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      },
      {
        "id" : "214957ee-b805-4106-bed7-60a5b487cb08",
        "parentId" : "4e90252f-dd43-4dbb-bc1d-05ed43dcd9f2",
        "authorId" : "6f944810-c490-4e34-9792-19715a133bef",
        "body" : "The dns-autoscaler specifically looks for the label \"kube-dns\".\r\nhttps://github.com/kubernetes/kubernetes/blob/master/test/e2e/autoscaling/dns_autoscaling.go#L40\r\n\r\nAlso, this keeps in sync with the manifest in kubeadm.",
        "createdAt" : "2018-04-11T17:35:10Z",
        "updatedAt" : "2018-04-11T17:35:11Z",
        "lastEditedBy" : "6f944810-c490-4e34-9792-19715a133bef",
        "tags" : [
        ]
      },
      {
        "id" : "cf9dfba7-b0d2-4680-8607-c85651f4b7be",
        "parentId" : "4e90252f-dd43-4dbb-bc1d-05ed43dcd9f2",
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "Thanks, SGTM",
        "createdAt" : "2018-04-11T17:47:01Z",
        "updatedAt" : "2018-04-11T17:47:01Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      },
      {
        "id" : "84295d23-bfeb-48c1-8109-c51cd346f758",
        "parentId" : "4e90252f-dd43-4dbb-bc1d-05ed43dcd9f2",
        "authorId" : "a09f2d48-fec0-4c0d-bd81-6de7378a6ebf",
        "body" : "@rajansandeep But this label might cause confusion when using CoreDNS. How about changing this to `cluster-dns` for both kube-dns and CoreDNS and change other places accordingly. @kubernetes/sig-cluster-lifecycle-pr-reviews WDYT?",
        "createdAt" : "2018-04-20T02:53:06Z",
        "updatedAt" : "2018-04-20T02:53:06Z",
        "lastEditedBy" : "a09f2d48-fec0-4c0d-bd81-6de7378a6ebf",
        "tags" : [
        ]
      },
      {
        "id" : "0dfbb268-4bf2-45f3-91cc-487a280e5872",
        "parentId" : "4e90252f-dd43-4dbb-bc1d-05ed43dcd9f2",
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "> How about changing this to cluster-dns for both kube-dns and CoreDNS\r\n\r\nChanging label for kube-dns is much more risky because lots of existing clusters have kube-dns pods running with this existing label. Upon master upgrade, kube-dns service update will happen in one shot but kube-dns deployment will be rolling updated, the actual number of kube-dns backends will be drop to 0 at the beginning and will likely cause outage.",
        "createdAt" : "2018-04-20T03:02:24Z",
        "updatedAt" : "2018-04-20T03:02:24Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      },
      {
        "id" : "61d8c980-a2b6-4ce8-998f-66cd0729a91e",
        "parentId" : "4e90252f-dd43-4dbb-bc1d-05ed43dcd9f2",
        "authorId" : "a09f2d48-fec0-4c0d-bd81-6de7378a6ebf",
        "body" : "Agreed. :100: :+1: ",
        "createdAt" : "2018-04-20T04:01:16Z",
        "updatedAt" : "2018-04-20T04:01:17Z",
        "lastEditedBy" : "a09f2d48-fec0-4c0d-bd81-6de7378a6ebf",
        "tags" : [
        ]
      }
    ],
    "commit" : "8d5b9d3c3681b6092927ad5d85007fbc76c0f7aa",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +75,79 @@  namespace: kube-system\n  labels:\n    k8s-app: kube-dns\n    kubernetes.io/cluster-service: \"true\"\n    addonmanager.kubernetes.io/mode: Reconcile"
  },
  {
    "id" : "76cdc362-e476-4e35-a394-b63a868144ef",
    "prId" : 62409,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/62409#pullrequestreview-114006496",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9d3615a2-39f5-4d90-9933-312957a24969",
        "parentId" : null,
        "authorId" : "6746e0cc-0c52-4344-889b-945a672c83e3",
        "body" : "I'm a bit confused on where the labels are being used as opposed to the Deployment name.\r\n\r\nIf I'm understanding this change and the cluster-proportional-autoscaler, this change is using the Deployment name to scale the dns component.\r\n\r\nIf there are tests that are using the wrong labels for verification, isn't that something that should be fixed up in the tests? Similar with kubeadm, if there are issues with the labels being set or queried with kubeadm, we should address those there.",
        "createdAt" : "2018-04-20T14:45:33Z",
        "updatedAt" : "2018-04-20T14:45:42Z",
        "lastEditedBy" : "6746e0cc-0c52-4344-889b-945a672c83e3",
        "tags" : [
        ]
      }
    ],
    "commit" : "8d5b9d3c3681b6092927ad5d85007fbc76c0f7aa",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +75,79 @@  namespace: kube-system\n  labels:\n    k8s-app: kube-dns\n    kubernetes.io/cluster-service: \"true\"\n    addonmanager.kubernetes.io/mode: Reconcile"
  },
  {
    "id" : "32cd930d-89f4-449f-bcba-ac9ff6067a71",
    "prId" : 60642,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/60642#pullrequestreview-100515132",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4f273fb2-bca8-410e-96b2-3891ad2fd1f7",
        "parentId" : null,
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "It seems like this is doing more than just reverting the anti-affinity. Would be great if we could split them or add a better commit message.",
        "createdAt" : "2018-03-01T17:10:20Z",
        "updatedAt" : "2018-03-01T17:10:20Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      }
    ],
    "commit" : "0c07f7d0122785b9b754d3e06d13330c4b35cc04",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +101,105 @@      containers:\n      - name: coredns\n        image: coredns/coredns:1.0.6\n        imagePullPolicy: IfNotPresent\n        resources:"
  },
  {
    "id" : "9b702bf1-df10-4d44-a1d7-1d617249784c",
    "prId" : 57788,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/57788#pullrequestreview-93032387",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "75693867-3fa1-4543-a113-a9368a181eec",
        "parentId" : null,
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "There is an on-going discussion (https://github.com/kubernetes/kubernetes/pull/57683) about whether to use `preferredDuringSchedulingIgnoredDuringExecution` or `requiredDuringSchedulingIgnoredDuringExecution`. Could we add the anti-affinity bit after that?",
        "createdAt" : "2018-01-19T20:10:46Z",
        "updatedAt" : "2018-01-31T18:37:58Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      },
      {
        "id" : "9060bfad-3d3a-48c5-8e5d-2452556939b5",
        "parentId" : "75693867-3fa1-4543-a113-a9368a181eec",
        "authorId" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "body" : "From https://github.com/kubernetes/kubernetes/pull/57683 seems like we agreed on going with `preferredDuringSchedulingIgnoredDuringExecution` at this point.",
        "createdAt" : "2018-01-31T18:30:33Z",
        "updatedAt" : "2018-01-31T18:37:58Z",
        "lastEditedBy" : "26bd3fa6-ac8d-4cb0-b746-a30dc1dc2931",
        "tags" : [
        ]
      }
    ],
    "commit" : "2853738a6b2710b7627b82492c76d10c8046377f",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +101,105 @@      affinity:\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - weight: 100\n            podAffinityTerm:"
  }
]