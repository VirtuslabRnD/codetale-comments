[
  {
    "id" : "ec237e29-85cf-43da-958c-df9a3d7748be",
    "prId" : 37681,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/37681#pullrequestreview-20103246",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "15afde15-6538-44b6-bfec-236d5ea523de",
        "parentId" : null,
        "authorId" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "body" : "Hi Mikhail,\r\nThis check results in an error, and as a result, the systemd libs are not copied at all. (I see that you completely remove this logic in https://github.com/kubernetes/kubernetes/pull/40017). But from my testing it seems that starting from this change the fluentd-gcp container does not run on GCI anymore.\r\n\r\nAre you aware of this issue? What do you think about reverting https://github.com/kubernetes/kubernetes/pull/40017 and instead fixing this check so that this works again?\r\n\r\nThanks.",
        "createdAt" : "2017-02-02T23:34:46Z",
        "updatedAt" : "2017-02-02T23:34:46Z",
        "lastEditedBy" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "tags" : [
        ]
      },
      {
        "id" : "db434fa1-4ae6-452a-a274-540ab17bcd47",
        "parentId" : "15afde15-6538-44b6-bfec-236d5ea523de",
        "authorId" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "body" : "That's weird - we have e2e test which should catch this problem. See https://k8s-testgrid.appspot.com/google-gci. The test name is `Cluster level logging using GCL should check that logs from containers are ingested in GCL`.\r\n\r\nI'll try to reproduce locally. In the meantime could you please create an issue and cc me and @Crassirostris describing your setup?",
        "createdAt" : "2017-02-03T09:04:33Z",
        "updatedAt" : "2017-02-03T09:04:33Z",
        "lastEditedBy" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "tags" : [
        ]
      },
      {
        "id" : "5e25a44c-df1c-4fc2-91b9-df459b80fbd3",
        "parentId" : "15afde15-6538-44b6-bfec-236d5ea523de",
        "authorId" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "body" : "@adityakali I created cluster from HEAD on GCE using `hack/dev-build-and-up.sh` on GCI image (both master and nodes) and fluentd works there. Please create an issue with your problem.",
        "createdAt" : "2017-02-03T10:08:50Z",
        "updatedAt" : "2017-02-03T10:08:51Z",
        "lastEditedBy" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "tags" : [
        ]
      },
      {
        "id" : "53afaaf1-c1a3-4a2d-a8e2-c25b47f2521b",
        "parentId" : "15afde15-6538-44b6-bfec-236d5ea523de",
        "authorId" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "body" : "@piosz fluend container starts, but it is not able to send logs from journald (silently ignores because of missing plugin). So the logs from kubelet.service and docker.service are not sent to cloud logging anymore. \r\nI did not look at the test in detail, but it seems it only verifies logs from \"containers\" are exported. It doesn't test whether logs from the system journal are exported.\r\nI will open a new issue for this.",
        "createdAt" : "2017-02-03T19:28:44Z",
        "updatedAt" : "2017-02-03T19:29:01Z",
        "lastEditedBy" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "tags" : [
        ]
      },
      {
        "id" : "48d3ddf3-276b-43a6-8ae2-002e98261b48",
        "parentId" : "15afde15-6538-44b6-bfec-236d5ea523de",
        "authorId" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "body" : "Thanks @adityakali ",
        "createdAt" : "2017-02-03T21:02:35Z",
        "updatedAt" : "2017-02-03T21:02:35Z",
        "lastEditedBy" : "a6ca7669-677e-4e8d-80cf-83cbff3b4216",
        "tags" : [
        ]
      }
    ],
    "commit" : "6215089796b62ef08ad4650b47c72220672dd9ee",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +18,22 @@mkdir -p /var/log/journal\n\nif [ -e /host/lib/libsystemd* ]\nthen\n  rm /lib/x86_64-linux-gnu/libsystemd*"
  }
]