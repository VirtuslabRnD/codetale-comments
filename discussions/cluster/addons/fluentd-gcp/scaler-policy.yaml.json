[
  {
    "id" : "55bf6b1f-b841-49d4-ad05-d284958f18c5",
    "prId" : 101238,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101238#pullrequestreview-638914349",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41dd6c03-e362-4ebd-b588-bab1ab3b6204",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "while `x-kubernetes-preserve-unknown-fields: true` is not recommended in general when transitioning to v1, this addon is not expected to be used long-term, and this matches current behavior",
        "createdAt" : "2021-04-19T14:05:57Z",
        "updatedAt" : "2021-04-19T14:05:57Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "a5622cae-d901-413d-ae34-76a4157432da",
        "parentId" : "41dd6c03-e362-4ebd-b588-bab1ab3b6204",
        "authorId" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "body" : "In general we expect that fluentd-gcp-scaler can be removed in one-two month. We are in the process of migrating our last customers from it. So in the worst case it will be removed in 1.23 maybe in 1.22.",
        "createdAt" : "2021-04-19T14:08:52Z",
        "updatedAt" : "2021-04-19T14:08:53Z",
        "lastEditedBy" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "tags" : [
        ]
      }
    ],
    "commit" : "41e39dd1faeb020e2eb0a06525cf506a52ac84fc",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +14,18 @@        openAPIV3Schema:\n          type: object\n          x-kubernetes-preserve-unknown-fields: true\n  names:\n    kind: ScalingPolicy"
  },
  {
    "id" : "76baa1ff-8e1d-4be8-8e84-fa9eafe651bd",
    "prId" : 101021,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101021#pullrequestreview-638808965",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0870216c-f557-447f-813e-31f6769770e7",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "this will not apply successfully, right? the `schema` and `storage` attributes are required in v1",
        "createdAt" : "2021-04-15T13:39:16Z",
        "updatedAt" : "2021-04-15T13:39:16Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "c4da1d59-2c96-4514-8f1b-d7441b206534",
        "parentId" : "0870216c-f557-447f-813e-31f6769770e7",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "also, when transitioning from v1beta1 to v1, I'd recommend setting spec.preserveUnknownFields to `false` explicitly, so you don't inherit the default `true` value from the previously persisted v1beta1 CRD",
        "createdAt" : "2021-04-15T13:40:51Z",
        "updatedAt" : "2021-04-15T13:40:55Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "a15bcb0c-f392-4ee6-8f7b-fc34a60fbf5f",
        "parentId" : "0870216c-f557-447f-813e-31f6769770e7",
        "authorId" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "body" : "Hi Jordan,\r\nIt seems that `schema` is not required, but `storage` and `served` are required. I have prepared #101238 to fix it. Related to preserveUnknownFields, it seems that this field is [deprecated](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#customresourcedefinitionspec-v1-apiextensions-k8s-io) and instead corresponding field should be set in schema.",
        "createdAt" : "2021-04-19T10:53:32Z",
        "updatedAt" : "2021-04-19T10:53:39Z",
        "lastEditedBy" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "tags" : [
        ]
      },
      {
        "id" : "0efd142a-b2f0-4c44-93c2-b7c3d1fe32e4",
        "parentId" : "0870216c-f557-447f-813e-31f6769770e7",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "> Related to preserveUnknownFields, it seems that this field is deprecated\r\n\r\nwhen updating from a beta version that left it populated with true, you should explicitly set it to false in the v1 version",
        "createdAt" : "2021-04-19T11:51:52Z",
        "updatedAt" : "2021-04-19T11:51:52Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "66dee338-f435-4f76-ac12-145a8e2f1f4d",
        "parentId" : "0870216c-f557-447f-813e-31f6769770e7",
        "authorId" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "body" : "Hm, interesting. When I have upgraded CRD from v1beta1 everything worked without `scheme` field. But when I try to create it from scratch, this field is required. Is it expected, or should I file a bug?",
        "createdAt" : "2021-04-19T12:28:22Z",
        "updatedAt" : "2021-04-19T12:28:22Z",
        "lastEditedBy" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "tags" : [
        ]
      },
      {
        "id" : "87409210-2f42-4738-b00e-a768da135d29",
        "parentId" : "0870216c-f557-447f-813e-31f6769770e7",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "> Is it expected, or should I file a bug?\r\n\r\nThat's expected. Updates of previously created objects that don't meet v1 requirements have to be tolerated for backwards compatibility, but all v1 requirements are enforced when creating new CRDs via the v1 API",
        "createdAt" : "2021-04-19T12:30:56Z",
        "updatedAt" : "2021-04-19T12:30:56Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "d4de8438e3ff3c391e51b63a3eb52d64b61daf2b",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +8,12 @@  group: scalingpolicy.kope.io\n  versions:\n    - name: v1alpha1\n  names:\n    kind: ScalingPolicy"
  },
  {
    "id" : "1fcff37d-17f4-4115-8eaa-95e0c560fccc",
    "prId" : 59657,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/59657#pullrequestreview-96069349",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "847924ad-b55e-4378-970f-51ea6e60a595",
        "parentId" : null,
        "authorId" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "body" : "`kope.io`?",
        "createdAt" : "2018-02-12T16:00:26Z",
        "updatedAt" : "2018-02-13T09:57:49Z",
        "lastEditedBy" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "tags" : [
        ]
      },
      {
        "id" : "e332f7d1-636f-4dc0-8214-a9f0c6c62e5b",
        "parentId" : "847924ad-b55e-4378-970f-51ea6e60a595",
        "authorId" : "e2aaf386-2908-41e6-860b-bcb2cffa1cc7",
        "body" : "I just reused the ScalingPolicy defined by @justinsb in https://github.com/justinsb/scaler. I hope we can ultimately migrate to autoscaling controlled by this ScalingPolicy in the long term.",
        "createdAt" : "2018-02-13T09:19:10Z",
        "updatedAt" : "2018-02-13T09:57:49Z",
        "lastEditedBy" : "e2aaf386-2908-41e6-860b-bcb2cffa1cc7",
        "tags" : [
        ]
      }
    ],
    "commit" : "6a48e343f0e9efbb0e7f8ca7e55aa4f33cd9ec1b",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +2,6 @@kind: CustomResourceDefinition\nmetadata:\n  name: scalingpolicies.scalingpolicy.kope.io\n  labels:\n    addonmanager.kubernetes.io/mode: Reconcile"
  }
]