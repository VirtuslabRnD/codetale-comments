[
  {
    "id" : "27b331e0-ee2b-46e2-893f-cd688eda954c",
    "prId" : 50679,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/50679#pullrequestreview-56406812",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4981c826-426f-4a99-9596-844a465e7c81",
        "parentId" : null,
        "authorId" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "body" : "this file is being added now and I should have noticed it was missing from the prior version.  \r\n\r\n- where does this get built and then pushed to the official repo?  \r\n- can we add that as a unit test so we have a clear statement that 'the Dockerfile checked in will build'?",
        "createdAt" : "2017-08-15T16:29:24Z",
        "updatedAt" : "2017-08-15T16:31:51Z",
        "lastEditedBy" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "tags" : [
        ]
      },
      {
        "id" : "5fc261c6-836c-4432-97b7-f3624fbe63e5",
        "parentId" : "4981c826-426f-4a99-9596-844a465e7c81",
        "authorId" : "484a7994-de75-4804-a082-69b2c6e625ee",
        "body" : "@coffeepac What do you mean by it getting built? It's just a shell script.",
        "createdAt" : "2017-08-15T16:39:54Z",
        "updatedAt" : "2017-08-15T16:39:55Z",
        "lastEditedBy" : "484a7994-de75-4804-a082-69b2c6e625ee",
        "tags" : [
        ]
      },
      {
        "id" : "65bd6cd0-33bd-4380-9663-11d71e38f200",
        "parentId" : "4981c826-426f-4a99-9596-844a465e7c81",
        "authorId" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "body" : "sorry, unclear, I meant the docker image this is a part of.  \r\n\r\nthis script `clean-apt` is being executed in the current HEAD version of this Dockerfile, I do not think this could have been successfully built as this file wasn't existing.",
        "createdAt" : "2017-08-15T16:44:12Z",
        "updatedAt" : "2017-08-15T16:44:12Z",
        "lastEditedBy" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "tags" : [
        ]
      },
      {
        "id" : "977fd334-4abd-48dd-b4cd-6fc3a20fd614",
        "parentId" : "4981c826-426f-4a99-9596-844a465e7c81",
        "authorId" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "body" : "You mean `clean-install`? `clean-apt` has never existed prior to this PR\r\n\r\nIt's in the previous base image: https://github.com/kubernetes/kubernetes/tree/master/build/debian-base",
        "createdAt" : "2017-08-15T17:09:32Z",
        "updatedAt" : "2017-08-15T17:09:32Z",
        "lastEditedBy" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "tags" : [
        ]
      },
      {
        "id" : "749b17d1-6c2d-4b27-8014-9051509bbfcc",
        "parentId" : "4981c826-426f-4a99-9596-844a465e7c81",
        "authorId" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "body" : "I did mean `clean-install`, commented on wrong line.\r\n\r\nAnd fair enough!  ",
        "createdAt" : "2017-08-15T17:19:42Z",
        "updatedAt" : "2017-08-15T17:19:42Z",
        "lastEditedBy" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "tags" : [
        ]
      }
    ],
    "commit" : "7e3b8a59dcd7d59fba437e2d243c013f2f9e2e5c",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +22,26 @@FROM debian:stretch-slim\n\nCOPY clean-apt /usr/bin\nCOPY clean-install /usr/bin\nCOPY Gemfile /Gemfile"
  },
  {
    "id" : "4a987229-bf51-4e8f-ab8d-90d5b6a76f44",
    "prId" : 50679,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/50679#pullrequestreview-56406918",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "089e816c-30a4-450e-abe5-6b93d019b160",
        "parentId" : null,
        "authorId" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "body" : "this is an apt cleaning operation, does it make sense to push it into clean-apt?",
        "createdAt" : "2017-08-15T16:29:50Z",
        "updatedAt" : "2017-08-15T16:31:51Z",
        "lastEditedBy" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "tags" : [
        ]
      },
      {
        "id" : "afc07378-8aaa-4922-90ee-4f102f25c2d6",
        "parentId" : "089e816c-30a4-450e-abe5-6b93d019b160",
        "authorId" : "484a7994-de75-4804-a082-69b2c6e625ee",
        "body" : "@coffeepac I'm wondering about the same :) @crassirostris, what do you say, considering you authored this part?",
        "createdAt" : "2017-08-15T16:40:53Z",
        "updatedAt" : "2017-08-15T16:40:53Z",
        "lastEditedBy" : "484a7994-de75-4804-a082-69b2c6e625ee",
        "tags" : [
        ]
      },
      {
        "id" : "03c6cb2f-ab36-41c3-aec1-1a3031694afc",
        "parentId" : "089e816c-30a4-450e-abe5-6b93d019b160",
        "authorId" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "body" : "That's a different thing. `clean-apt` removes apt temp files, like logs or lists, this operations removed packages installer earlier (and also requires cleaning)",
        "createdAt" : "2017-08-15T17:06:38Z",
        "updatedAt" : "2017-08-15T17:06:38Z",
        "lastEditedBy" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "tags" : [
        ]
      },
      {
        "id" : "c79b874e-9e6f-450b-8680-6d81bef9f4a0",
        "parentId" : "089e816c-30a4-450e-abe5-6b93d019b160",
        "authorId" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "body" : "okay.  thanks.",
        "createdAt" : "2017-08-15T17:20:01Z",
        "updatedAt" : "2017-08-15T17:20:01Z",
        "lastEditedBy" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "tags" : [
        ]
      }
    ],
    "commit" : "7e3b8a59dcd7d59fba437e2d243c013f2f9e2e5c",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +39,43 @@    && apt-get purge -y --auto-remove \\\n                     -o APT::AutoRemove::RecommendsImportant=false \\\n                     $BUILD_DEPS \\\n    && clean-apt \\\n    # Ensure fluent has enough file descriptors"
  },
  {
    "id" : "96be9dee-bf0a-4df7-b3da-dada427591d7",
    "prId" : 50679,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/50679#pullrequestreview-56402843",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c0ab4b3d-8ba9-49f9-944c-e281c5476fe1",
        "parentId" : null,
        "authorId" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "body" : "clean-install calls clean-apt, is there are reason to run clean-apt again?",
        "createdAt" : "2017-08-15T16:30:15Z",
        "updatedAt" : "2017-08-15T16:31:51Z",
        "lastEditedBy" : "775ff044-67f8-4bdc-93af-09db25e4fe71",
        "tags" : [
        ]
      },
      {
        "id" : "7d0ded1e-eef3-4a71-86c7-1f8d5d0e8a4e",
        "parentId" : "c0ab4b3d-8ba9-49f9-944c-e281c5476fe1",
        "authorId" : "484a7994-de75-4804-a082-69b2c6e625ee",
        "body" : "@crassirostris what do you think?",
        "createdAt" : "2017-08-15T16:41:24Z",
        "updatedAt" : "2017-08-15T16:41:36Z",
        "lastEditedBy" : "484a7994-de75-4804-a082-69b2c6e625ee",
        "tags" : [
        ]
      },
      {
        "id" : "16d5c5eb-0388-4251-9c47-10759385c490",
        "parentId" : "c0ab4b3d-8ba9-49f9-944c-e281c5476fe1",
        "authorId" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "body" : "Yes, b/c `apt-get purge` leaves some files around",
        "createdAt" : "2017-08-15T17:05:56Z",
        "updatedAt" : "2017-08-15T17:05:56Z",
        "lastEditedBy" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "tags" : [
        ]
      }
    ],
    "commit" : "7e3b8a59dcd7d59fba437e2d243c013f2f9e2e5c",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +40,44 @@                     -o APT::AutoRemove::RecommendsImportant=false \\\n                     $BUILD_DEPS \\\n    && clean-apt \\\n    # Ensure fluent has enough file descriptors\n    && ulimit -n 65536"
  }
]