[
  {
    "id" : "40163f22-106a-4f70-935c-94ee8b940b1f",
    "prId" : 12833,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "69b0f3ef-b394-42fd-ac6d-5ef9b25d8264",
        "parentId" : null,
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "So if cluster_registry_disk_type isn't `gce`, this yaml blob just trails off at `spec:`?\n",
        "createdAt" : "2015-08-20T21:17:24Z",
        "updatedAt" : "2015-08-21T20:32:14Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "f2c62895-d590-4539-bebf-9e0829cdf130",
        "parentId" : "69b0f3ef-b394-42fd-ac6d-5ef9b25d8264",
        "authorId" : "271eaec2-9b46-49fe-bdc0-d8b872fb4008",
        "body" : "I wasn't sure what the best way to do this is. This template should only be evaluated if the cluster registry is enabled which should only be permitted if one of the branches here is taken (for non-gce, they'd need to have their own config branch). If somehow this is evaluated otherwise, that's a bug and we should see a failure.\n",
        "createdAt" : "2015-08-20T21:30:28Z",
        "updatedAt" : "2015-08-21T20:32:14Z",
        "lastEditedBy" : "271eaec2-9b46-49fe-bdc0-d8b872fb4008",
        "tags" : [
        ]
      },
      {
        "id" : "d2879ba9-aee4-4664-b9d2-6d2f09541eb4",
        "parentId" : "69b0f3ef-b394-42fd-ac6d-5ef9b25d8264",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "There's a pattern to do this e.g. http://stackoverflow.com/questions/21778252/how-to-raise-an-exception-in-a-jinja2-macro, but I'm not sure we have any of the pieces elsewhere in our Salt. This looks fine for now, though, it'll error in a different way, I think.\n",
        "createdAt" : "2015-08-20T21:45:02Z",
        "updatedAt" : "2015-08-21T20:32:14Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "3dc10a209ba457aa8fd28a5e0593e1608c6babc4",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +6,10 @@    kubernetes.io/cluster-service: \"true\"\nspec:\n{% if pillar.get('cluster_registry_disk_type', '') == 'gce' %}\n  capacity:\n    storage: {{ pillar['cluster_registry_disk_size'] }}"
  }
]