[
  {
    "id" : "55dffd33-c44c-4771-a7f1-48f982fc567d",
    "prId" : 14804,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7b3131f6-5e74-4d1c-b9e1-bf8337ac7cea",
        "parentId" : null,
        "authorId" : null,
        "body" : "I don't think that this will work?  Forwarding rule deletion is asynchronous AFAIK, so the subsequent target pool deletion will fail if the forwarding rule deletion has not yet completed?\n\nPerhaps a \"while not all deleted do list and delete\" loop would work?\n",
        "createdAt" : "2015-09-30T20:57:45Z",
        "updatedAt" : "2015-09-30T20:57:45Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      },
      {
        "id" : "eee96884-7132-4c87-b2c8-2a9e6b984ccb",
        "parentId" : "7b3131f6-5e74-4d1c-b9e1-bf8337ac7cea",
        "authorId" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "body" : "@quinton-hoole emprically it does work.  I believe that gcloud blocks until completion by default.\n",
        "createdAt" : "2015-10-02T19:32:06Z",
        "updatedAt" : "2015-10-02T19:32:06Z",
        "lastEditedBy" : "d0e97b49-eba2-4b22-8695-df4f8a6776ad",
        "tags" : [
        ]
      },
      {
        "id" : "905c4719-720d-4210-8e78-ba7dfe107c64",
        "parentId" : "7b3131f6-5e74-4d1c-b9e1-bf8337ac7cea",
        "authorId" : null,
        "body" : "Fair enough.  The GUI is asynchronous, but as far as I can tell the command line tool is currently synchronous.  LGTM.\n",
        "createdAt" : "2015-10-02T19:46:19Z",
        "updatedAt" : "2015-10-02T19:46:19Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "9cf5cc6641317ba83006aaa7e175c56d13548932",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@\nresult=0\nfor x in ${LIST}; do\n    if ! gcloud compute --project=${PROJECT} target-pools get-health \"${x}\" --region=${REGION} 2>/dev/null >/dev/null; then\n\techo DELETING \"${x}\""
  }
]