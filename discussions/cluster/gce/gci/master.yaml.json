[
  {
    "id" : "a094d600-b903-48da-b196-f0066b8a7d6b",
    "prId" : 101176,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101176#pullrequestreview-639409786",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "beae0241-3cd0-444e-be3f-cb5d407c27cf",
        "parentId" : null,
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Should this be --retry 600 as well?",
        "createdAt" : "2021-04-20T00:19:49Z",
        "updatedAt" : "2021-04-20T00:19:49Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "c5c41ff4-70bf-46a6-a966-89168e89611e",
        "parentId" : "beae0241-3cd0-444e-be3f-cb5d407c27cf",
        "authorId" : "905607ce-2e79-4e24-aab7-dcad86af4371",
        "body" : "I had increased kube-master-installation only, because it is the hub unit which all these others depend on, and we had real occurrences of it failing. I could bump these as well, but I suspect that when GCE metadata becomes available for kube-master-installation it will for these too.\r\n\r\nMaybe a middle number, like 100?",
        "createdAt" : "2021-04-20T00:22:23Z",
        "updatedAt" : "2021-04-20T00:22:24Z",
        "lastEditedBy" : "905607ce-2e79-4e24-aab7-dcad86af4371",
        "tags" : [
        ]
      },
      {
        "id" : "0bd7e6c5-493a-4113-8e82-978b2d020213",
        "parentId" : "beae0241-3cd0-444e-be3f-cb5d407c27cf",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Nah, let's leave it - your reasoning is sound.\r\n",
        "createdAt" : "2021-04-20T00:30:56Z",
        "updatedAt" : "2021-04-20T00:30:56Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "05bcc72dc2dad9400ee0f501a2447f1f3d0fb3a5",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +66,70 @@      Type=oneshot\n      RemainAfterExit=yes\n      ExecStartPre=/usr/bin/curl --fail --retry 5 --retry-delay 3 --retry-connrefused --silent --show-error -H \"X-Google-Metadata-Request: True\" -o /home/kubernetes/bin/kube-master-internal-route.sh http://metadata.google.internal/computeMetadata/v1/instance/attributes/kube-master-internal-route\n      ExecStartPre=/bin/chmod 544 /home/kubernetes/bin/kube-master-internal-route.sh\n      ExecStart=/home/kubernetes/bin/kube-master-internal-route.sh"
  },
  {
    "id" : "1643d481-69c4-43aa-a4a6-981dfe0ce022",
    "prId" : 100770,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/100770#pullrequestreview-630326153",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b699c634-a5e1-46d0-b686-90e9b9c00844",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "What about StandardError?",
        "createdAt" : "2021-04-07T17:56:03Z",
        "updatedAt" : "2021-04-13T16:31:11Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "38924089-31a2-43d2-a701-5c743bbf5e7f",
        "parentId" : "b699c634-a5e1-46d0-b686-90e9b9c00844",
        "authorId" : "d1e55bfa-b879-4ddd-b769-4d37fb3205a4",
        "body" : "According to https://www.freedesktop.org/software/systemd/man/systemd.exec.html#Logging%20and%20Standard%20Input/Output, the default StandardError is 'inherit', which causes the fd for StandardError to be the same as StandardOutput",
        "createdAt" : "2021-04-07T17:59:11Z",
        "updatedAt" : "2021-04-13T16:31:11Z",
        "lastEditedBy" : "d1e55bfa-b879-4ddd-b769-4d37fb3205a4",
        "tags" : [
        ]
      }
    ],
    "commit" : "d4495183c926ef9ba3fbd085251dfcfe7c4bf6fd",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +26,30 @@      SupplementaryGroups=serial\n      ExecStart=journalctl --no-tail --no-pager --follow --utc --output short-iso --unit kube-master-installation --unit kube-master-configuration --unit kubelet\n      StandardOutput=tty\n      TTYPath=/dev/ttyS2\n"
  },
  {
    "id" : "191bec23-aa61-4d09-b0ea-4651286609ca",
    "prId" : 88856,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88856#pullrequestreview-380221812",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4947be9d-f25e-49a2-ae2f-98d37a68ee84",
        "parentId" : null,
        "authorId" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "body" : "Seems like \"lock_passwd: true\" is not quite equivalent to \"-s /sbin/nologin\".\r\nI would add \"ssh_redirect_user: true\" at minimum to get us closer to equivalent. ",
        "createdAt" : "2020-03-23T20:54:14Z",
        "updatedAt" : "2020-03-24T11:31:00Z",
        "lastEditedBy" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "tags" : [
        ]
      },
      {
        "id" : "3d846a04-8c0d-460f-bf48-d27c49b35391",
        "parentId" : "4947be9d-f25e-49a2-ae2f-98d37a68ee84",
        "authorId" : "1d7790e7-1cc6-4364-9b4e-eabedc9a0b2a",
        "body" : "done.",
        "createdAt" : "2020-03-24T11:31:35Z",
        "updatedAt" : "2020-03-24T11:31:36Z",
        "lastEditedBy" : "1d7790e7-1cc6-4364-9b4e-eabedc9a0b2a",
        "tags" : [
        ]
      }
    ],
    "commit" : "58f78a53ee1afdc6f656d2517275e52bda34c865",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +4,8 @@- name: etcd\n  homedir: /var/etcd\n  lock_passwd: true\n  ssh_redirect_user: true\n"
  },
  {
    "id" : "ff370c17-1c36-4bf8-8f4a-046e5d161133",
    "prId" : 27409,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff56b61a-8a72-41cb-b2db-a94ea462d471",
        "parentId" : null,
        "authorId" : "34f7b744-302a-4493-8e2d-95681077e4a8",
        "body" : "Since this is an one-shot job and it depends on configure-helper.sh, can we move the line \"/usr/sbin/logrotate /etc/logrotate.conf\" into the configure-helper.sh and get rid of this systemd job?\n\nTwo benefits: (1) Less jobs here, easier for people to understand. This is the feedback I got from some k8s developers; (2) The logic is the same for both master and node, we can use just one line in configure-helper.sh to do it, instead of two write-file sections.\n",
        "createdAt" : "2016-06-15T17:43:08Z",
        "updatedAt" : "2016-06-15T17:43:08Z",
        "lastEditedBy" : "34f7b744-302a-4493-8e2d-95681077e4a8",
        "tags" : [
        ]
      },
      {
        "id" : "3318f4da-a21c-4cdd-aa03-c4bf2ed370f0",
        "parentId" : "ff56b61a-8a72-41cb-b2db-a94ea462d471",
        "authorId" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "body" : "Each execution of this job is \"oneshot\" job. But it gets run automatically several time whenever kube-logrotate.timer is fired. See https://www.freedesktop.org/software/systemd/man/systemd.timer.html.\n",
        "createdAt" : "2016-06-15T18:04:14Z",
        "updatedAt" : "2016-06-15T18:04:14Z",
        "lastEditedBy" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "tags" : [
        ]
      },
      {
        "id" : "98438555-0585-49e9-afad-46ce13c65dc3",
        "parentId" : "ff56b61a-8a72-41cb-b2db-a94ea462d471",
        "authorId" : "34f7b744-302a-4493-8e2d-95681077e4a8",
        "body" : "I meant \"/etc/systemd/system/kube-logrotate.service\". Do we have to use an one-shot systemd job to run the command \"/usr/sbin/logrotate /etc/logrotate.conf\"\n",
        "createdAt" : "2016-06-15T18:10:14Z",
        "updatedAt" : "2016-06-15T18:10:14Z",
        "lastEditedBy" : "34f7b744-302a-4493-8e2d-95681077e4a8",
        "tags" : [
        ]
      },
      {
        "id" : "8f7d7f0b-4752-49b9-999f-c49bfd58f9b4",
        "parentId" : "ff56b61a-8a72-41cb-b2db-a94ea462d471",
        "authorId" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "body" : "Yes. As mentioned on https://www.freedesktop.org/software/systemd/man/systemd.timer.html, \"a timer file foo.timer activates a matching service foo.service\". So in this case, kube-logrotate.timer activates a kube-logrotate.service. I have explained this in the PR description now. PTAL.\n",
        "createdAt" : "2016-06-15T18:53:55Z",
        "updatedAt" : "2016-06-15T18:53:55Z",
        "lastEditedBy" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "tags" : [
        ]
      },
      {
        "id" : "ba9696d7-6865-4782-a41d-ec66463831c5",
        "parentId" : "ff56b61a-8a72-41cb-b2db-a94ea462d471",
        "authorId" : "34f7b744-302a-4493-8e2d-95681077e4a8",
        "body" : "Got you, thanks\n",
        "createdAt" : "2016-06-15T19:50:22Z",
        "updatedAt" : "2016-06-15T19:50:22Z",
        "lastEditedBy" : "34f7b744-302a-4493-8e2d-95681077e4a8",
        "tags" : [
        ]
      }
    ],
    "commit" : "a423b83c06af148d7df4ece7fb3884079ff03abc",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +88,92 @@      WantedBy=kubernetes.target\n\n  - path: /etc/systemd/system/kube-logrotate.service\n    permissions: 0644\n    owner: root"
  },
  {
    "id" : "caac7370-b2eb-4c4c-9665-f9a53ff45f69",
    "prId" : 27409,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "23176784-e013-49e3-9baf-a3473ea43952",
        "parentId" : null,
        "authorId" : "34f7b744-302a-4493-8e2d-95681077e4a8",
        "body" : "Does this systemd job provide any log? If so, please update https://github.com/kubernetes/kubernetes/blob/master/cluster/gce/gci/configure.sh#l31-37\n",
        "createdAt" : "2016-06-15T17:46:13Z",
        "updatedAt" : "2016-06-15T17:46:13Z",
        "lastEditedBy" : "34f7b744-302a-4493-8e2d-95681077e4a8",
        "tags" : [
        ]
      },
      {
        "id" : "19392330-7048-4e97-827f-012cb1b987b7",
        "parentId" : "23176784-e013-49e3-9baf-a3473ea43952",
        "authorId" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "body" : "Nop. This does not generate any logs. This is simply a timer. Neither does kube-logrotate.service.\nAll active timers can be seen by running \"systemctl list-timers\".\n",
        "createdAt" : "2016-06-15T18:04:13Z",
        "updatedAt" : "2016-06-15T18:04:13Z",
        "lastEditedBy" : "beafb6cc-4b81-43ba-b2fd-9026cd5ca01b",
        "tags" : [
        ]
      }
    ],
    "commit" : "a423b83c06af148d7df4ece7fb3884079ff03abc",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +75,79 @@      WantedBy=kubernetes.target\n\n  - path: /etc/systemd/system/kube-logrotate.timer\n    permissions: 0644\n    owner: root"
  }
]