[
  {
    "id" : "ec7112e2-77dd-42a9-9ce5-f738e0fe62a2",
    "prId" : 73261,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/73261#pullrequestreview-207149971",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a4eadb0d-20ca-4bb7-972e-af2b555aae1c",
        "parentId" : null,
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "hmm why do we need to `export`?",
        "createdAt" : "2019-02-15T12:38:59Z",
        "updatedAt" : "2019-02-24T12:36:35Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "96e16ead-5064-4ef1-9f91-bab12fb4cbf2",
        "parentId" : "a4eadb0d-20ca-4bb7-972e-af2b555aae1c",
        "authorId" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "body" : "IIRC this is sourced and then this env is read by other scripts because :cluster/:. not 100% though",
        "createdAt" : "2019-02-15T23:34:24Z",
        "updatedAt" : "2019-02-24T12:36:35Z",
        "lastEditedBy" : "46e1ba13-482b-4bcd-8fb1-be821bac3b04",
        "tags" : [
        ]
      },
      {
        "id" : "156a5235-7f55-4b18-af7c-ecd2d23fa005",
        "parentId" : "a4eadb0d-20ca-4bb7-972e-af2b555aae1c",
        "authorId" : "a472aa4a-c4f7-4692-bc21-708257a1dacc",
        "body" : "if `KUBE_MASTER_URL` is needed by other scripts, `shellcheck` suggest we export it. Otherwise we can remove this env if it's safe. \r\n",
        "createdAt" : "2019-02-18T06:19:44Z",
        "updatedAt" : "2019-02-24T12:36:35Z",
        "lastEditedBy" : "a472aa4a-c4f7-4692-bc21-708257a1dacc",
        "tags" : [
        ]
      },
      {
        "id" : "1b02b22a-2a1f-448a-97b1-9b3fbfe3daf6",
        "parentId" : "a4eadb0d-20ca-4bb7-972e-af2b555aae1c",
        "authorId" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "body" : "Yeah, `hack/ginkgo-e2e.sh` should read this env from cluster/loca/util.sh for local provider case like\r\n`KUBE_MASTER_URL=\"${KUBE_MASTER_URL:-https://${KUBE_MASTER_IP:-}}\"` but it cannot do that at this time and `hack/ginkgo-e2e.sh` uses a hard-coded default value.\r\nIt seems nice to add `export` for this case.",
        "createdAt" : "2019-02-20T19:53:10Z",
        "updatedAt" : "2019-02-24T12:36:35Z",
        "lastEditedBy" : "c2df03b8-26df-4018-9f8f-4ddea7f8f6cc",
        "tags" : [
        ]
      },
      {
        "id" : "fcf728c6-96e0-4aed-af00-2f93c74446ee",
        "parentId" : "a4eadb0d-20ca-4bb7-972e-af2b555aae1c",
        "authorId" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "body" : "Can you add a comment to the above function explaining what it requires, sets and exports? eg:\r\n```\r\n# Detect the IP for the master\r\n#\r\n# Vars set:\r\n#   KUBE_MASTER\r\n#   KUBE_MASTER_IP\r\n# Vars exported:\r\n#   KUBE_MASTER_URL\r\nfunction detect-master {\r\n```\r\n\r\nIt may seem redundant but it helps us know this is on purpose, and it's the same style used in `cluster/gce`",
        "createdAt" : "2019-02-23T19:52:46Z",
        "updatedAt" : "2019-02-24T12:36:35Z",
        "lastEditedBy" : "5de211e4-9744-455e-9548-1a8e70ed1b2e",
        "tags" : [
        ]
      },
      {
        "id" : "b8a76ac5-e55c-46f2-bf4b-da634a9c441d",
        "parentId" : "a4eadb0d-20ca-4bb7-972e-af2b555aae1c",
        "authorId" : "a472aa4a-c4f7-4692-bc21-708257a1dacc",
        "body" : "@spiffxp sure, PR updated, PTAL",
        "createdAt" : "2019-02-24T12:38:36Z",
        "updatedAt" : "2019-02-24T12:38:36Z",
        "lastEditedBy" : "a472aa4a-c4f7-4692-bc21-708257a1dacc",
        "tags" : [
        ]
      }
    ],
    "commit" : "f02a98608110af024ef31364dee20be4c43b63dc",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +29,33 @@  KUBE_MASTER=localhost\n  KUBE_MASTER_IP=127.0.0.1\n  export KUBE_MASTER_URL=\"http://${KUBE_MASTER_IP}:8080\"\n  echo \"Using master: $KUBE_MASTER (external IP: $KUBE_MASTER_IP)\"\n}"
  },
  {
    "id" : "e4aae531-1184-49d9-97cb-cb80c8e38ae6",
    "prId" : 25454,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8090c565-72f7-4a85-913e-8cf82dc158d5",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "this needs the copyright boilerplate from `master/hack/boilerplate/boilerplate.sh.txt`.\n",
        "createdAt" : "2016-05-27T21:36:30Z",
        "updatedAt" : "2016-06-06T06:45:36Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      }
    ],
    "commit" : "0970bbf7999181ad860ed3e57a26ba51a75b7a0a",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@#!/bin/bash\n\n# Copyright 2016 The Kubernetes Authors All rights reserved."
  }
]