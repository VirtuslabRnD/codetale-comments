[
  {
    "id" : "0a14eb39-9c41-46d9-afdd-813b38697fc3",
    "prId" : 61241,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/61241#pullrequestreview-110912878",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b2ada3c3-ca3f-45ca-a52d-658b586845be",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Hmm - I still don't see solution for port conflicts between main etcd and event etcd.\r\n\r\nI think you should at least set \"--port\" flag when you're calling \"migrate binary in the script.",
        "createdAt" : "2018-04-09T09:34:13Z",
        "updatedAt" : "2018-04-10T16:19:43Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "2161d09a-462c-40ac-a3b5-c61060850adc",
        "parentId" : "b2ada3c3-ca3f-45ca-a52d-658b586845be",
        "authorId" : "d4f34d8f-5341-4ac1-b8b2-5e5f11e23a5d",
        "body" : "No need. Since etcd and etcd events are run in separate docker containers, and neither of them expose 18629 to the host operating system, they can concurrently use this port within the docker containers. I'd done a couple sanity checks to make sure this works as expected.",
        "createdAt" : "2018-04-09T17:11:29Z",
        "updatedAt" : "2018-04-10T16:19:43Z",
        "lastEditedBy" : "d4f34d8f-5341-4ac1-b8b2-5e5f11e23a5d",
        "tags" : [
        ]
      },
      {
        "id" : "be31a2a9-072a-4f88-a060-01a85f7c0b67",
        "parentId" : "b2ada3c3-ca3f-45ca-a52d-658b586845be",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "But we are using hostnetwork = true:\r\nhttps://github.com/kubernetes/kubernetes/blob/master/cluster/gce/manifests/etcd.manifest#L12\r\n\r\nI think this is causing a problem...",
        "createdAt" : "2018-04-10T11:19:50Z",
        "updatedAt" : "2018-04-10T16:19:43Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "208644cf-a7a8-4f27-af92-809c3b5b9c00",
        "parentId" : "b2ada3c3-ca3f-45ca-a52d-658b586845be",
        "authorId" : "d4f34d8f-5341-4ac1-b8b2-5e5f11e23a5d",
        "body" : "@wojtek-t Ohh. Thanks so much for catching this!  I've populated the `--port` flag in `migrate-if-needed.sh`.",
        "createdAt" : "2018-04-10T16:25:52Z",
        "updatedAt" : "2018-04-10T16:25:52Z",
        "lastEditedBy" : "d4f34d8f-5341-4ac1-b8b2-5e5f11e23a5d",
        "tags" : [
        ]
      }
    ],
    "commit" : "dc4d92e1544749a755f1ead1f8111b7279e4105e",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +28,32 @@const (\n\tversionFilename        = \"version.txt\"\n\tdefaultPort     uint64 = 18629\n)\n"
  }
]