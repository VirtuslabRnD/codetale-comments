[
  {
    "id" : "da2b0707-f147-4b90-a732-380ca8b4009f",
    "prId" : 66523,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/66523#pullrequestreview-142881228",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7a763007-d981-4efb-ad2c-32a7ae054d59",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "This change could cause `configure_cdk_addons` to run before `kubernetes-master.components.started` has been set. If that happens, `cdk-addons.apply` will fail because `kube-apiserver` isn't up yet, and it will have to wait until the next hook to try again.\r\n\r\nI think it'd be worthwhile to leave this as `@when('kubernetes-master.components.started')` so we don't introduce a delay in applying addons.",
        "createdAt" : "2018-08-02T16:24:54Z",
        "updatedAt" : "2018-08-16T18:59:30Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      },
      {
        "id" : "b0dc34de-7e8a-4518-a8b4-79480b57544c",
        "parentId" : "7a763007-d981-4efb-ad2c-32a7ae054d59",
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "Sorry, nevermind, I was wrong about this. Yes, it will attempt to apply addons prematurely and fail, which isn't ideal, but it is pretty quick. More importantly, it will retry within the same hook once `kubernetes-master.components.started` gets set.\r\n\r\nI think it's OK to keep this.",
        "createdAt" : "2018-08-02T16:46:10Z",
        "updatedAt" : "2018-08-16T18:59:30Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      }
    ],
    "commit" : "967d4b7a94f7716b4329510309baca3309c2f8f1",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +667,671 @@\n\n@when_any('kubernetes-master.components.started', 'ceph-storage.configured')\n@when('leadership.is_leader')\ndef configure_cdk_addons():"
  },
  {
    "id" : "50900320-c31e-4359-a784-3a7cd1eb55df",
    "prId" : 65719,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/65719#pullrequestreview-133744488",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e77a48a9-0db5-4c90-bdfb-76333de6a4a1",
        "parentId" : null,
        "authorId" : "e4b441ba-ee59-4611-9b2e-84e49daf4a32",
        "body" : "nit: initialized",
        "createdAt" : "2018-07-02T19:10:50Z",
        "updatedAt" : "2018-07-02T19:10:50Z",
        "lastEditedBy" : "e4b441ba-ee59-4611-9b2e-84e49daf4a32",
        "tags" : [
        ]
      }
    ],
    "commit" : "5c11f663bea48cdf8de8dddb9cc3f0b502222650",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +111,115 @@    remove_state('authentication.setup')\n\n    if not db.get('snap.resources.fingerprint.initialised'):\n        # We are here on an upgrade from non-rolling master\n        # Since this upgrade might also include resource updates eg"
  },
  {
    "id" : "a6e827b1-14b2-48cd-86b8-e268110d2b67",
    "prId" : 64721,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64721#pullrequestreview-128278483",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "104c2f8f-4ec4-48ec-9f25-c49b11d144cc",
        "parentId" : null,
        "authorId" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "body" : "Thank you for this",
        "createdAt" : "2018-06-13T08:44:44Z",
        "updatedAt" : "2018-06-20T17:19:10Z",
        "lastEditedBy" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "tags" : [
        ]
      }
    ],
    "commit" : "534275e9213046c2076870cde6597da987858b1c",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +1181,1185 @@    api_opts['insecure-bind-address'] = '127.0.0.1'\n    api_opts['insecure-port'] = '8080'\n    api_opts['storage-backend'] = getStorageBackend()\n    api_opts['basic-auth-file'] = '/root/cdk/basic_auth.csv'\n"
  },
  {
    "id" : "c273e72e-b4ea-449b-bd6f-c178bff696cd",
    "prId" : 60174,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/60174#pullrequestreview-104008937",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "45e02b0f-592d-4e85-9a24-1b96779112b9",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "Can we just always set `client-ca-file` (and maybe the rest of these) regardless of the configuration of `enable-metrics`? Would it hurt anything?\r\n\r\nI'm asking because, if we always set `client-ca-file`, it would provide a convenient fix for https://github.com/juju-solutions/bundle-canonical-kubernetes/issues/515.",
        "createdAt" : "2018-03-14T20:25:57Z",
        "updatedAt" : "2018-03-14T20:25:57Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      },
      {
        "id" : "dfcff01d-a073-4872-b451-bde819c23266",
        "parentId" : "45e02b0f-592d-4e85-9a24-1b96779112b9",
        "authorId" : "e4b441ba-ee59-4611-9b2e-84e49daf4a32",
        "body" : "@Cynerva I have no problem with that, I was just trying to reduce the scope of the change to only have an impact when metrics were enabled. Is this a request to make that change or just start a conversation?",
        "createdAt" : "2018-03-14T21:21:42Z",
        "updatedAt" : "2018-03-14T21:21:43Z",
        "lastEditedBy" : "e4b441ba-ee59-4611-9b2e-84e49daf4a32",
        "tags" : [
        ]
      },
      {
        "id" : "b72ae4a0-4fc4-43a9-8f59-f01274e4ae69",
        "parentId" : "45e02b0f-592d-4e85-9a24-1b96779112b9",
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "Just starting a conversation, sorry for not being clear on that. I don't think anything needs to change in this PR, it looks solid and I don't want to expand the scope of it without good reason. We can address https://github.com/juju-solutions/bundle-canonical-kubernetes/issues/515 in a standalone PR later :)",
        "createdAt" : "2018-03-14T21:39:48Z",
        "updatedAt" : "2018-03-14T21:39:48Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      }
    ],
    "commit" : "265e3035e1983955e748273529250280e662ec06",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +1171,1175 @@        api_opts['proxy-client-key-file'] = client_key_path\n        api_opts['enable-aggregator-routing'] = 'true'\n        api_opts['client-ca-file'] = ca_cert_path\n\n    configure_kubernetes_service('kube-apiserver', api_opts, 'api-extra-args')"
  },
  {
    "id" : "213bd067-5db3-4463-afd9-25e97432df2b",
    "prId" : 54234,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/54234#pullrequestreview-70852255",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b259ffdb-6baa-445d-8aa0-dfba3e0c5179",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "I think we can omit this handler. `send_data` is already invoked on every update-status hook (every ~5 min):\r\n\r\n```\r\n$ juju ssh kubernetes-master/0 sudo cat /var/log/juju/unit-kubernetes-master-0.log | grep send_data | tail -n 5\r\n2017-10-19 21:12:58 INFO juju-log Invoking reactive handler: reactive/kubernetes_master.py:437:send_data\r\n2017-10-19 21:17:19 INFO juju-log Invoking reactive handler: reactive/kubernetes_master.py:437:send_data\r\n2017-10-19 21:22:42 INFO juju-log Invoking reactive handler: reactive/kubernetes_master.py:437:send_data\r\n2017-10-19 21:27:24 INFO juju-log Invoking reactive handler: reactive/kubernetes_master.py:437:send_data\r\n2017-10-19 21:32:10 INFO juju-log Invoking reactive handler: reactive/kubernetes_master.py:437:send_data\r\n```\r\n\r\n`config.changed` wouldn't cover the ip change case, either. It's only set if the application config changes (e.g. `juju config kubernetes-master ...`). I don't think there is a state that captures an IP change, but considering that `send_data` runs frequently already, we're probably good.",
        "createdAt" : "2017-10-19T21:34:13Z",
        "updatedAt" : "2017-10-20T14:39:30Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      },
      {
        "id" : "0612290c-719e-4c72-a067-49a650b25ab4",
        "parentId" : "b259ffdb-6baa-445d-8aa0-dfba3e0c5179",
        "authorId" : "e4b441ba-ee59-4611-9b2e-84e49daf4a32",
        "body" : "My understanding from @johnsca was that an ip change would trigger config.changed. If that isn't the case then this is just hitting for no good reason when another config option is changed and I agree it should be removed. I worry that a possible 5 minute lag before you can hit your master isn't good though. At a minimum, I would like to change that to config.changed.extra_sans so we kick it off when you change your SAN config.",
        "createdAt" : "2017-10-19T23:46:09Z",
        "updatedAt" : "2017-10-20T14:39:30Z",
        "lastEditedBy" : "e4b441ba-ee59-4611-9b2e-84e49daf4a32",
        "tags" : [
        ]
      },
      {
        "id" : "a2aee9a5-44f5-4a6a-89c2-9a4d220d6f45",
        "parentId" : "b259ffdb-6baa-445d-8aa0-dfba3e0c5179",
        "authorId" : "53d41d12-3c77-4e12-bbe4-30d83041c81a",
        "body" : "I'm +1 on changing this to config.changed.extra_sans. I don't think we can rely on juju to tell us when the IP has changed, but you could always add the IP to extra_sans manually if you didn't want to wait the 5 minutes for the next update-status hook.",
        "createdAt" : "2017-10-20T14:04:28Z",
        "updatedAt" : "2017-10-20T14:39:30Z",
        "lastEditedBy" : "53d41d12-3c77-4e12-bbe4-30d83041c81a",
        "tags" : [
        ]
      }
    ],
    "commit" : "16036c3fd4936ba4595bc188ea7bb75a8684e1b0",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +476,480 @@    # spammy here is ok because the cert layer checks for\n    # changes to the cert before issuing a new one\n    send_data(tls)\n\n"
  },
  {
    "id" : "95499e29-bf29-4106-a914-0763d28415c3",
    "prId" : 49278,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/49278#pullrequestreview-51279413",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c53b01b9-3ca2-4d34-a927-2dba07f48aa6",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "Should this be `waiting` instead of `blocked`?\r\n\r\nI _think_ the intention of https://github.com/juju-solutions/bundle-canonical-kubernetes/issues/309#issuecomment-314089288 is to stop indicating that we're blocked when we're not. @tvansteenburgh can you weigh in here?",
        "createdAt" : "2017-07-20T17:46:56Z",
        "updatedAt" : "2017-07-20T17:46:57Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5a71eb2d1a570973e85820a31c99fd0b9a41e47",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +406,410 @@\n    \"\"\"\n    hookenv.status_set('blocked', 'Waiting for workers.')\n\n"
  },
  {
    "id" : "96698656-f142-430e-ad4d-e2fdbaf7c68f",
    "prId" : 49182,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/49182#pullrequestreview-50909263",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d6986715-de70-4651-a83a-f81fe5450446",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "Nice! Thanks for fixing this :+1:",
        "createdAt" : "2017-07-19T13:40:38Z",
        "updatedAt" : "2017-07-19T13:40:38Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      }
    ],
    "commit" : "280ea7f4854dd8b77439f6c8d8b969b1a8977262",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +796,800 @@    # Add .1 at the end of the network\n    ip = interface.network.network_address + 1\n    return ip.exploded\n\n"
  },
  {
    "id" : "f46aa315-718a-472e-ad2a-99106112b7db",
    "prId" : 48351,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/48351#pullrequestreview-47452434",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3160a4d9-983b-4624-b36b-1310d0b01aa5",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "This looks good :+1: thanks @ktsakalozos ",
        "createdAt" : "2017-06-30T17:39:50Z",
        "updatedAt" : "2017-06-30T17:39:50Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      }
    ],
    "commit" : "cd34d8f80d2e1ae3fbea0cc2b4d33de149d281da",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +923,927 @@    tokens_fname = os.path.join(root_cdk, csv_fname)\n    if not os.path.isfile(tokens_fname):\n        return None\n    with open(tokens_fname, 'r') as stream:\n        for line in stream:"
  },
  {
    "id" : "8d5599f5-bc10-4e12-8fbe-ca065f7ecf2b",
    "prId" : 47912,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47912#pullrequestreview-45811033",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ebfd84bb-ec9d-4fd3-8b6c-2be19fdf6565",
        "parentId" : null,
        "authorId" : "1d78b7b8-169e-44e7-bccb-121c5ee2fc3b",
        "body" : "üëç  I didn't know we could do this. ",
        "createdAt" : "2017-06-22T18:43:01Z",
        "updatedAt" : "2017-08-29T14:48:11Z",
        "lastEditedBy" : "1d78b7b8-169e-44e7-bccb-121c5ee2fc3b",
        "tags" : [
        ]
      }
    ],
    "commit" : "d6f5acc41aec44ce144b83a86e260b1f5dbb9b81",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +723,727 @@@when('kube-apiserver.do-restart')\ndef restart_apiserver():\n    prev_state, prev_msg = hookenv.status_get()\n    hookenv.status_set('maintenance', 'Restarting kube-apiserver')\n    host.service_restart('snap.kube-apiserver.daemon')"
  },
  {
    "id" : "caac94f0-931d-44fa-a872-8995e287baa3",
    "prId" : 47912,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47912#pullrequestreview-45832131",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "584f5086-6802-4e98-85d9-b154e8424ff6",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "This is a great refactor! Thanks for cleaning things up.",
        "createdAt" : "2017-06-22T20:09:33Z",
        "updatedAt" : "2017-08-29T14:48:11Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      }
    ],
    "commit" : "d6f5acc41aec44ce144b83a86e260b1f5dbb9b81",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +369,373 @@    configure_apiserver()\n    configure_controller_manager()\n    configure_scheduler()\n\n    hookenv.open_port(6443)"
  },
  {
    "id" : "3e3856a6-5d0d-41f5-bfbf-2af0f38b9686",
    "prId" : 47912,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47912#pullrequestreview-45996753",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3da2e55a-266d-474c-b3c0-a3d6a50798ab",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "Is this a valid case? It'd be `profiling=true` wouldn't it?",
        "createdAt" : "2017-06-22T20:16:07Z",
        "updatedAt" : "2017-08-29T14:48:11Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      },
      {
        "id" : "d30ddfd4-1140-4ec0-99fc-8e46d7cc2f22",
        "parentId" : "3da2e55a-266d-474c-b3c0-a3d6a50798ab",
        "authorId" : "5db303a4-cf04-4957-9b7b-713690f0fdaf",
        "body" : "https://kubernetes.io/docs/admin/kube-apiserver/ suggests flags without values might be supported for example:\r\n--contention-profiling                                    Enable lock contention profiling, if profiling is enabled\r\n\r\nOther arguments document expected value for example:\r\n--etcd-cafile string\r\n--audit-log-maxsize int\r\n",
        "createdAt" : "2017-06-23T09:29:32Z",
        "updatedAt" : "2017-08-29T14:48:11Z",
        "lastEditedBy" : "5db303a4-cf04-4957-9b7b-713690f0fdaf",
        "tags" : [
        ]
      },
      {
        "id" : "4153e07e-5b53-496e-aa7e-1ab7fdba5334",
        "parentId" : "3da2e55a-266d-474c-b3c0-a3d6a50798ab",
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "They are supported by kube-apiserver, but not `snap set kube-apiserver`. It takes them as boolean values instead, e.g. `contention-profiling=true` and `contention-profiling=false`.\r\n\r\nMy specific concern here is that this case will break on the following line:\r\n```\r\nnew_config_args.append(tuple(arg.split('=', 1), None))\r\n```\r\n\r\nI don't think `tuple` accepts 2 arguments. That and the `None` probably needs to be `'true'` since it's eventually gonna go through FlagManager to a `snap set` call.\r\n\r\nMore generally, I get the feeling this case shouldn't exist at all. The description in config.yaml makes me think api-extra-args follows the same conventions as `snap set`, with the `profiling=true` example, but the case here says otherwise.",
        "createdAt" : "2017-06-23T14:20:50Z",
        "updatedAt" : "2017-08-29T14:48:11Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      }
    ],
    "commit" : "d6f5acc41aec44ce144b83a86e260b1f5dbb9b81",
    "line" : 110,
    "diffHunk" : "@@ -1,1 +892,896 @@    for arg in hookenv.config().get('api-extra-args', '').split():\n        new_config_arg_names.append(arg.split('=', 1)[0])\n        if len(arg.split('=', 1)) == 1:  # handle flags ie. --profiling\n            new_config_args.append(tuple([arg, 'true']))\n        else:"
  },
  {
    "id" : "493bc30f-0a3a-462a-bf63-bb711f6221eb",
    "prId" : 47835,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47835#pullrequestreview-45689524",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0b29665a-f71b-4bc2-b94e-12bb0eeea4c1",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "Could removing the `@when_not('authentication.setup')` decorator here result in a 5 minute delay?:\r\n\r\n1. `setup_non_leader_authentication` handler runs\r\n2. `password_changed` handler runs, removes `authentication.setup` state\r\n3. reactive does not dispatch `setup_non_leader_authentication` handler again until the next hook\r\n\r\nI'm having trouble reasoning through the specific outcome of that, but we've had similar problems with delays caused by using `is_state` in combination with state-based dispatch.",
        "createdAt" : "2017-06-21T16:54:35Z",
        "updatedAt" : "2017-06-28T07:48:39Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      },
      {
        "id" : "2130ed02-294b-4106-a0a8-9ea5b7d227c9",
        "parentId" : "0b29665a-f71b-4bc2-b94e-12bb0eeea4c1",
        "authorId" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "body" : "That's a good catch! The password update flow should should go like this:\r\n- User sets new passowrd\r\n- Leader grabs the password and propagates to non-leaders\r\n- Leader restarts\r\n- Non-leaders get the new password and restart.\r\n\r\nYou will notice I added the 'leadership.is_leader' on the `password_changed()` so that only the leader acts on password change.\r\n\r\nTo your question, I think the change of leadership data will trigger the reactive framework on the non-leaders in a timely fashion so there will not be the 5 minute wait.",
        "createdAt" : "2017-06-22T11:17:23Z",
        "updatedAt" : "2017-06-28T07:48:39Z",
        "lastEditedBy" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "tags" : [
        ]
      }
    ],
    "commit" : "0525b84a45b521125aecb1c2cd50484c41aff262",
    "line" : 80,
    "diffHunk" : "@@ -1,1 +241,245 @@\n@when_not('leadership.is_leader')\ndef setup_non_leader_authentication():\n\n    service_key = '/root/cdk/serviceaccount.key'"
  },
  {
    "id" : "29fa4198-f2cf-45ae-9f05-cced2f256e49",
    "prId" : 47835,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47835#pullrequestreview-45668448",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7c74c803-9dd4-4921-b7c0-845cb15056db",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "Should `setup_leader_authentication` remove this state too?",
        "createdAt" : "2017-06-21T18:10:35Z",
        "updatedAt" : "2017-06-28T07:48:39Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      },
      {
        "id" : "fdffd4ff-ff69-4b64-abea-80e5edc7a1b7",
        "parentId" : "7c74c803-9dd4-4921-b7c0-845cb15056db",
        "authorId" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "body" : "Yes we can do that.\r\n\r\nOn the leader we have two triggers that cause a reconfiguration of the authentication 1) charm upgrade 2) password change. In both triggers we do \r\n```\r\n    remove_state('authentication.setup')\r\n    remove_state('kubernetes-master.components.started')\r\n```\r\n\r\nOn the non-leaders the reconfig of the authorisation is triggered after detecting a change on the leader. This is why I had the remove state there.\r\n\r\nTo make it homogeneous I added the remove state on the `setup_leader_authentication` and removed it from the upgrade and change password triggers. \r\n",
        "createdAt" : "2017-06-22T09:38:32Z",
        "updatedAt" : "2017-06-28T07:48:39Z",
        "lastEditedBy" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "tags" : [
        ]
      }
    ],
    "commit" : "0525b84a45b521125aecb1c2cd50484c41aff262",
    "line" : 108,
    "diffHunk" : "@@ -1,1 +265,269 @@    controller_opts.add('service-account-private-key-file', service_key)\n\n    remove_state('kubernetes-master.components.started')\n    set_state('authentication.setup')\n"
  },
  {
    "id" : "7f7a9ee0-6ec6-4840-a380-805ffa8fe548",
    "prId" : 44945,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/44945#pullrequestreview-34857904",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "50eae393-ffdb-4bb1-8ad5-ed4c9f42a160",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "If I understand right, this will prevent kubernetes-worker from deploying ingress and default-http-backend prematurely. I'm +1 to this :+1:",
        "createdAt" : "2017-04-26T14:28:52Z",
        "updatedAt" : "2017-04-26T14:28:53Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      }
    ],
    "commit" : "d228609dcaa123792d753d3e466edf81c29836ef",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +298,302 @@\n@when('kube-control.connected')\n@when('cdk-addons.configured')\ndef send_cluster_dns_detail(kube_control):\n    ''' Send cluster DNS info '''"
  },
  {
    "id" : "6d53eaad-4c37-4102-8ced-342edc1be560",
    "prId" : 43620,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/43620#pullrequestreview-29190653",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "945f60f9-9427-4b85-8c07-cd8dcb62bc8c",
        "parentId" : null,
        "authorId" : "21f304a8-53be-482d-aabf-0a79dd8a3458",
        "body" : "Docstrings for every method. ",
        "createdAt" : "2017-03-24T22:34:56Z",
        "updatedAt" : "2017-04-28T15:19:56Z",
        "lastEditedBy" : "21f304a8-53be-482d-aabf-0a79dd8a3458",
        "tags" : [
        ]
      },
      {
        "id" : "ae08866a-6272-451e-bd06-51dc39b35a2a",
        "parentId" : "945f60f9-9427-4b85-8c07-cd8dcb62bc8c",
        "authorId" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "body" : "Done!",
        "createdAt" : "2017-03-27T14:01:24Z",
        "updatedAt" : "2017-04-28T15:19:56Z",
        "lastEditedBy" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "tags" : [
        ]
      }
    ],
    "commit" : "e99d6062774bbadd7aac4c3cef28574652d3c018",
    "line" : 56,
    "diffHunk" : "@@ -1,1 +245,249 @@\n\ndef get_keys_from_leader(keys):\n    \"\"\"\n    Gets the broadcasted keys from the leader and stores them in"
  },
  {
    "id" : "d17e56b3-5bf6-441b-aac3-a0d9c3bf505f",
    "prId" : 43620,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/43620#pullrequestreview-29191560",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3e3c3420-1cc6-4fdb-8a1e-9e7e531d5557",
        "parentId" : null,
        "authorId" : "21f304a8-53be-482d-aabf-0a79dd8a3458",
        "body" : "If the path doesn't exist and the contents are none this new method returns. Previously that same code exited the original `setup_non_leader_authentication` method which prevented the \"authentication.setup\" state from being set. Is this different behavior intended?",
        "createdAt" : "2017-03-24T22:39:58Z",
        "updatedAt" : "2017-04-28T15:19:56Z",
        "lastEditedBy" : "21f304a8-53be-482d-aabf-0a79dd8a3458",
        "tags" : [
        ]
      },
      {
        "id" : "b86c6cb0-0375-409d-9711-ae01704ea77c",
        "parentId" : "3e3c3420-1cc6-4fdb-8a1e-9e7e531d5557",
        "authorId" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "body" : "You are right. In the latest commit get_keys_from_leader returns False if any of the keys were not fetched",
        "createdAt" : "2017-03-27T14:04:48Z",
        "updatedAt" : "2017-04-28T15:19:56Z",
        "lastEditedBy" : "0254a5bb-d18f-428e-932d-ba25ea68f780",
        "tags" : [
        ]
      }
    ],
    "commit" : "e99d6062774bbadd7aac4c3cef28574652d3c018",
    "line" : 77,
    "diffHunk" : "@@ -1,1 +262,266 @@    for k in keys:\n        # If the path does not exist, assume we need it\n        if not os.path.exists(k):\n            # Fetch data from leadership broadcast\n            contents = charms.leadership.leader_get(k)"
  }
]