[
  {
    "id" : "2bf6002f-8288-459a-b0fd-331edc1fa978",
    "prId" : 63845,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/63845#pullrequestreview-121037785",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5fb981b6-80b6-448f-bedb-197b0bfaf676",
        "parentId" : null,
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "I'm gonna need some context for the `default: false` here. The [nginx-ingress-controller docs](https://kubernetes.github.io/ingress-nginx/user-guide/cli-arguments/) say this defaults to `true`. What's our justification for deviating from that? Who is recommending false for all production Kubernetes installations?",
        "createdAt" : "2018-05-16T13:28:31Z",
        "updatedAt" : "2018-05-16T13:28:31Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      },
      {
        "id" : "020108a1-4f06-4925-a678-e79afdfefdda",
        "parentId" : "5fb981b6-80b6-448f-bedb-197b0bfaf676",
        "authorId" : "5db303a4-cf04-4957-9b7b-713690f0fdaf",
        "body" : "@Cynerva  auto-retrieval of intermediate certificates is a fragile process. It can fail for many reasons, for example firewalls blocking traffic or CA website outages. In a secure production environment it requires egress firewall access rules and they might stop working if CAs move IPs.\r\n\r\nAt the same time we saw nginx-ingress controller pods crash when chain completion fails.\r\n\r\nBecause of that the Canonical IS decided that disabling completion is the safest setting for production environments. We may end up with incomplete chain but we prefer that to possible outage.\r\n\r\nIf however you think that charms should have same default as upstream it would still work for us. What we need is a way to disable this functionality. Making it disabled by default is, in our opinion, the best but we would be happy with \"true\" being default, we can always just set it to \"true\" in our environments.",
        "createdAt" : "2018-05-17T08:58:11Z",
        "updatedAt" : "2018-05-17T08:58:12Z",
        "lastEditedBy" : "5db303a4-cf04-4957-9b7b-713690f0fdaf",
        "tags" : [
        ]
      },
      {
        "id" : "e0b6e3fd-cc75-42b8-91fe-285b298b343b",
        "parentId" : "5fb981b6-80b6-448f-bedb-197b0bfaf676",
        "authorId" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "body" : "Thanks @jacekn. I'm content to ship `default: false` - you guys know production concerns better than I do. I just wanted to make sure the decision was made deliberately and with careful thought, which it sounds like it was. :+1:",
        "createdAt" : "2018-05-17T13:25:08Z",
        "updatedAt" : "2018-05-17T13:25:08Z",
        "lastEditedBy" : "86c1724e-9e6c-4090-94be-228783fc6862",
        "tags" : [
        ]
      }
    ],
    "commit" : "31598860e3d03da6ce69539fc34574d1dddbacd7",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +67,71 @@      to attempt auto-retrieval of intermediate certificates.  The default\n      (false) is recommended for all production kubernetes installations, and\n      any environment which does not have outbound Internet access.\n  nginx-image:\n    type: string"
  }
]