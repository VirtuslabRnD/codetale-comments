[
  {
    "id" : "345e5504-20ec-45e8-89ba-bd8b8e4c64a0",
    "prId" : 44394,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/44394#pullrequestreview-37283158",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "356dd919-f5af-450d-99f2-89558073ce6f",
        "parentId" : null,
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "Is there any reason why you've placed this file here? Given that it defines kubemark's cloud provider interface (the one in test/kubemark/skeleton), test/kubemark/pre-existing/util.sh seems to be the right path to put this.",
        "createdAt" : "2017-05-10T10:11:27Z",
        "updatedAt" : "2017-07-05T13:10:38Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      },
      {
        "id" : "9d3f8f0f-d66c-461d-9d05-ee651f6f68f2",
        "parentId" : "356dd919-f5af-450d-99f2-89558073ce6f",
        "authorId" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "body" : "Yes, the function create-certs in start-kubemark.sh needs to be overwritten.  Instead of going out to the common script for its definition  I define it here.",
        "createdAt" : "2017-05-10T11:23:12Z",
        "updatedAt" : "2017-07-05T13:10:38Z",
        "lastEditedBy" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "tags" : [
        ]
      },
      {
        "id" : "6f4adc33-b017-4528-b013-6305cb14e20c",
        "parentId" : "356dd919-f5af-450d-99f2-89558073ce6f",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "Makes sense. You can keep create-certs and detect-project here, but move the other two functions (which define kubemark interface) to test/kubemark/pre-existing/util.sh?",
        "createdAt" : "2017-05-10T11:33:05Z",
        "updatedAt" : "2017-07-05T13:10:38Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      },
      {
        "id" : "7c10c9d7-1c42-4279-9792-7946396910a3",
        "parentId" : "356dd919-f5af-450d-99f2-89558073ce6f",
        "authorId" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "body" : "I'll test that out. Though this script only sources cluster scripts and not test/pre-existing/util.sh so I'm not positive it will work since creat-certs uses that func.",
        "createdAt" : "2017-05-10T11:38:09Z",
        "updatedAt" : "2017-07-05T13:10:38Z",
        "lastEditedBy" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "tags" : [
        ]
      },
      {
        "id" : "e0f00ee9-510c-4880-9f58-04877a5f88f2",
        "parentId" : "356dd919-f5af-450d-99f2-89558073ce6f",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "We would have it included through https://github.com/kubernetes/kubernetes/blob/master/test/kubemark/start-kubemark.sh#L24 in start-kubemark script.",
        "createdAt" : "2017-05-10T11:43:52Z",
        "updatedAt" : "2017-07-05T13:10:38Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      },
      {
        "id" : "289b52e2-9f94-4142-9e3f-6e67cca8cb26",
        "parentId" : "356dd919-f5af-450d-99f2-89558073ce6f",
        "authorId" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "body" : "Ok I'll add it to the next revision. ",
        "createdAt" : "2017-05-10T12:04:23Z",
        "updatedAt" : "2017-07-05T13:10:38Z",
        "lastEditedBy" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "tags" : [
        ]
      }
    ],
    "commit" : "f9354bf6b7ea0f4d57fb78d04baccde15b050d4b",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@#!/bin/bash\n\n# Copyright 2017 The Kubernetes Authors."
  },
  {
    "id" : "dd60920a-a3c0-43dc-aca5-0402f0c99947",
    "prId" : 44394,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/44394#pullrequestreview-38705435",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3953fb6f-efa9-499e-a683-ddb6cb96ea19",
        "parentId" : null,
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "This is not detecting the project anymore and it seems like we are just having this piece of code here so it gets called as part of the script. Maybe move this to somewhere else (possibly pre-existing/util.sh)?",
        "createdAt" : "2017-05-17T13:41:52Z",
        "updatedAt" : "2017-07-05T13:10:38Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      },
      {
        "id" : "4c402e92-2033-428b-8d0b-9996857701c7",
        "parentId" : "3953fb6f-efa9-499e-a683-ddb6cb96ea19",
        "authorId" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "body" : "My understanding was that detect-project was to validate everything is in place to proceed. In other words, the project we want to use is valid. So I extended that to be in this case that the MASTER_IP is set.",
        "createdAt" : "2017-05-17T13:50:51Z",
        "updatedAt" : "2017-07-05T13:10:38Z",
        "lastEditedBy" : "ec9d8ca2-2b6d-46e1-8a75-e7c6713ce83a",
        "tags" : [
        ]
      },
      {
        "id" : "d9732f42-0c6a-4d9e-bca5-20be6e949d7f",
        "parentId" : "3953fb6f-efa9-499e-a683-ddb6cb96ea19",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "It seems to do just the job of detecting the project name (https://github.com/kubernetes/kubernetes/blob/master/cluster/gce/util.sh#L125). All this other logic should ideally be in a separate function.\r\nAlso there is a different function named `detect-master` which does what you said (https://github.com/kubernetes/kubernetes/blob/master/cluster/gce/util.sh#L346)",
        "createdAt" : "2017-05-17T15:31:10Z",
        "updatedAt" : "2017-07-05T13:10:38Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      }
    ],
    "commit" : "f9354bf6b7ea0f4d57fb78d04baccde15b050d4b",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +24,28 @@source \"${KUBE_ROOT}/hack/lib/util.sh\"\n\nfunction detect-project() {\n  if [[ -z \"${MASTER_IP:-}\" ]]; then\n    echo \"Set 'MASTER_IP' to the instance assigned to be the Kubernetes master\" 1>&2"
  }
]