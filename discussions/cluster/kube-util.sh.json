[
  {
    "id" : "9df5c8c0-49f4-4909-a107-a57d51d62b47",
    "prId" : 31908,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/31908#pullrequestreview-2263624",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "124093ef-c9a6-4937-8ccc-d49d577dbef7",
        "parentId" : null,
        "authorId" : "815980f5-2f9b-482a-89ad-0fc8f02a9994",
        "body" : "I wrote most of this file, so I felt compelled to fix the indent problem on the entire function.\n",
        "createdAt" : "2016-09-08T17:29:51Z",
        "updatedAt" : "2016-10-11T18:55:17Z",
        "lastEditedBy" : "815980f5-2f9b-482a-89ad-0fc8f02a9994",
        "tags" : [
        ]
      },
      {
        "id" : "43085645-e05b-4415-8428-8356d70da9a4",
        "parentId" : "124093ef-c9a6-4937-8ccc-d49d577dbef7",
        "authorId" : "f6905dc9-1980-4381-8220-a1c7ad8d5c82",
        "body" : "Thanks!\n",
        "createdAt" : "2016-09-30T03:07:43Z",
        "updatedAt" : "2016-10-11T18:55:17Z",
        "lastEditedBy" : "f6905dc9-1980-4381-8220-a1c7ad8d5c82",
        "tags" : [
        ]
      }
    ],
    "commit" : "c7ee1a0749428dc59f5283fc47caad9cf0f5adeb",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +38,42 @@# Should NOT be called within the global scope, unless setting the desired global zone vars\n# This function is currently NOT USED in the global scope\nfunction set-federation-zone-vars {\n  zone=\"$1\"\n  export OVERRIDE_CONTEXT=\"federation-e2e-${KUBERNETES_PROVIDER}-$zone\""
  },
  {
    "id" : "92d11d51-da74-478d-915f-5773327a30f5",
    "prId" : 10686,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff34984c-4e42-4f2f-9fab-3373f649f873",
        "parentId" : null,
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "This looks like, in the even that KUBERNETES_PROVIDER isn't set, it would just echo \"TODO\" in the case of a `kube-up.sh`. Am I misreading it?\n\nI think I would more expect a friendly error message instead of trying to continue with the fully abstract class here. This is the first encounter many people have with k8s, so something along the lines of `KUBERNETES_PROVIDER not set. Expecting one of <blah>.`\n\nI also might not be reading this right?\n",
        "createdAt" : "2015-07-02T21:33:44Z",
        "updatedAt" : "2015-07-02T21:33:44Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "2572b79c-12d0-477d-8911-e7a6d45cb5f9",
        "parentId" : "ff34984c-4e42-4f2f-9fab-3373f649f873",
        "authorId" : "ef33f76a-ca59-4720-94a5-47e86994ee8d",
        "body" : "`./cluster/kube-env.sh` is always being sourced before `./cluster/kube-util.sh` at this point, and kube-env defaults KUBERNETES_PROVIDER to \"gce\". So behavior should still be the same as before if you don't set KUBERNETES_PROVIDER. \n",
        "createdAt" : "2015-07-03T07:20:24Z",
        "updatedAt" : "2015-07-03T07:20:24Z",
        "lastEditedBy" : "ef33f76a-ca59-4720-94a5-47e86994ee8d",
        "tags" : [
        ]
      },
      {
        "id" : "08f2707d-81e1-4301-bcb8-78c60a61efb5",
        "parentId" : "ff34984c-4e42-4f2f-9fab-3373f649f873",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Ah, right, I'm sorry. In which case, this still should probably error, but it can be louder and say something like \"KUBERNETES_PROVIDER not set, did you source ./cluster/kube-env.sh?\" But it's a nit.\n",
        "createdAt" : "2015-07-03T11:46:52Z",
        "updatedAt" : "2015-07-03T11:46:52Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      },
      {
        "id" : "00c0e752-bfdd-4c4f-bcc2-e1494187a7ba",
        "parentId" : "ff34984c-4e42-4f2f-9fab-3373f649f873",
        "authorId" : "ef33f76a-ca59-4720-94a5-47e86994ee8d",
        "body" : "The problem with having so much bash code is that that's so many entry points and it's impossible to figure out which are supported and which are for internal use. AFAIK nothing was actually invoking `./cluster/kube-util.sh` before this PR. It was just sitting there as a reference of what functions you might be expected to implement in a `./cluster/<provider>/util.sh`.\n\nI think it's fine if KUBERNETES_PROVIDER is optional internally, since it's optional externally. Plus, since there aren't any users that _aren't_ sourcing `./cluster/kube-env.sh`, we have no idea what such a use case might look like or what requirements it would have.\n",
        "createdAt" : "2015-07-03T23:07:46Z",
        "updatedAt" : "2015-07-03T23:07:46Z",
        "lastEditedBy" : "ef33f76a-ca59-4720-94a5-47e86994ee8d",
        "tags" : [
        ]
      },
      {
        "id" : "f3b2d6eb-53cf-4472-a890-ac5d5865fded",
        "parentId" : "ff34984c-4e42-4f2f-9fab-3373f649f873",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Leaving it this way is fine and conservative.\n",
        "createdAt" : "2015-07-05T03:54:26Z",
        "updatedAt" : "2015-07-05T03:54:26Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "0229cb01fcf187d6115465d2968ac371e8b58932",
    "line" : 93,
    "diffHunk" : "@@ -1,1 +91,95 @@\n# Providers util.sh scripts should define functions that override the above default functions impls\nif [ -n \"${KUBERNETES_PROVIDER}\" ]; then\n\tPROVIDER_UTILS=\"${KUBE_ROOT}/cluster/${KUBERNETES_PROVIDER}/util.sh\"\n\tif [ -f ${PROVIDER_UTILS} ]; then"
  }
]