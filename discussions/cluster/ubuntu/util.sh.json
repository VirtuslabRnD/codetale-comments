[
  {
    "id" : "b2608f3f-92c7-4b06-8fdf-2d2481ed7e65",
    "prId" : 26596,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9a73fe89-0b04-413a-887d-788c6e839a02",
        "parentId" : null,
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "Please add a function comment documenting this new argument.\n",
        "createdAt" : "2016-06-01T13:57:59Z",
        "updatedAt" : "2016-06-01T18:45:09Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "0986b3b2-42f3-4288-be06-3ebb37d601cf",
        "parentId" : "9a73fe89-0b04-413a-887d-788c6e839a02",
        "authorId" : "594008c6-fdc4-4a6d-bf25-31ca32e242aa",
        "body" : "will do, thanks\n",
        "createdAt" : "2016-06-01T17:14:25Z",
        "updatedAt" : "2016-06-01T18:45:09Z",
        "lastEditedBy" : "594008c6-fdc4-4a6d-bf25-31ca32e242aa",
        "tags" : [
        ]
      }
    ],
    "commit" : "44cc9aa9b61c771c51db897e8c055faaebb20dc6",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +247,251 @@ --service-node-port-range=${3}\\\n --advertise-address=${4}\\\n --allow-privileged=${5}\\\n --client-ca-file=/srv/kubernetes/ca.crt\\\n --tls-cert-file=/srv/kubernetes/server.cert\\"
  },
  {
    "id" : "a944bec2-1ad2-420e-9909-2895f2d5355b",
    "prId" : 21170,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a664c31f-537d-4774-a5e5-c842fb8cbbba",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "Should this be quoted or not? If it's quoted, can you still pass multiple options in the envvar?\n",
        "createdAt" : "2016-02-13T14:58:40Z",
        "updatedAt" : "2016-02-13T14:58:40Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "ff499d4d-e594-4c9a-8826-765c0eaaab03",
        "parentId" : "a664c31f-537d-4774-a5e5-c842fb8cbbba",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "should be ok since we're just using it to template a string, not part of an invocation\n",
        "createdAt" : "2016-02-13T15:22:25Z",
        "updatedAt" : "2016-02-13T15:22:25Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "7a52961e-ca54-4c01-ac87-047ef627f693",
        "parentId" : "a664c31f-537d-4774-a5e5-c842fb8cbbba",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "This command line wants the KUBE_PROXY_EXTRA_OPTS in one quoted string argument.  It is used in new line 252 without quoting, so that spaces here make for multiple arguments there.\n",
        "createdAt" : "2016-02-13T16:16:41Z",
        "updatedAt" : "2016-02-13T16:16:41Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      }
    ],
    "commit" : "4d55dbe69fc7e1f134c4e7aa25d86e3118ff16e1",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +453,457 @@      '${1#*@}' \\\n      '${MASTER_IP}' \\\n      '${KUBE_PROXY_EXTRA_OPTS}'\n    create-flanneld-opts '${MASTER_IP}' '${1#*@}'\n"
  },
  {
    "id" : "8c2f322d-1723-4a6d-a0fb-01486a18bf71",
    "prId" : 21072,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ce7cde9f-cc58-42cf-a762-0c6af595308b",
        "parentId" : null,
        "authorId" : "766f642e-1622-4803-803b-05ce306fc30e",
        "body" : "Isn't all of this stuff that belongs in salt or something...   I might not like salt, but doing sysadmin like this in bash is just terrible terrible terrible....\n",
        "createdAt" : "2016-02-12T14:12:31Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "766f642e-1622-4803-803b-05ce306fc30e",
        "tags" : [
        ]
      },
      {
        "id" : "acf1857b-d929-406a-aab6-d2b81d3410f2",
        "parentId" : "ce7cde9f-cc58-42cf-a762-0c6af595308b",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "The cluster/ubuntu scripting is not using salt or Ansible or anything else like that.  What you see here is just following the established precedent.\n",
        "createdAt" : "2016-02-12T14:58:28Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "bf47060c-60e8-444d-97a0-5f4cc1f96836",
        "parentId" : "ce7cde9f-cc58-42cf-a762-0c6af595308b",
        "authorId" : "766f642e-1622-4803-803b-05ce306fc30e",
        "body" : "Fair enough.\n",
        "createdAt" : "2016-02-12T15:03:32Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "766f642e-1622-4803-803b-05ce306fc30e",
        "tags" : [
        ]
      }
    ],
    "commit" : "6b8e7e158e303d3212b6182bfc55637e605147bf",
    "line" : null,
    "diffHunk" : "@@ -1,1 +524,528 @@                    service kube-proxy start'\n    NEED_RECONFIG_DOCKER=false\n  fi\n  \n  BASH_DEBUG_FLAGS=\"\""
  },
  {
    "id" : "854b9cb9-990c-44f3-a7d1-30f5d4cdcc13",
    "prId" : 21072,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9f7850e6-ead8-4fb1-9306-7f4ef4b2575c",
        "parentId" : null,
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "This is a slight maintainence headache. Can you move this function into hack/lib and re-use it from local-up-cluster? That would kill 2 birds with 1 stone, and people who invoke local-up (>>number of people who invoke ubuntu setup) will be aware when it's broken.\n",
        "createdAt" : "2016-02-18T19:35:07Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      },
      {
        "id" : "213c4d01-9955-44a5-a75a-dcd0fb64711e",
        "parentId" : "9f7850e6-ead8-4fb1-9306-7f4ef4b2575c",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "My ambition here was only to take the first baby step, which is to add CNI support to the Ubuntu scripting.  My plan was to think bigger after that is accomplished.  I myself have not been using local-up-cluster and am not familiar with it.  Do we really need to take the bigger step right out of the gate?\n",
        "createdAt" : "2016-02-18T20:30:40Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      }
    ],
    "commit" : "6b8e7e158e303d3212b6182bfc55637e605147bf",
    "line" : null,
    "diffHunk" : "@@ -1,1 +273,277 @@# $5: Pathname of the kubelet config file or directory.\n# $6: If empty then flannel is used otherwise CNI is used.\nfunction create-kubelet-opts() {\n  if [ -n \"$6\" ] ; then\n      cni_opts=\" --network-plugin=cni --network-plugin-dir=/etc/cni/net.d\""
  },
  {
    "id" : "a3d57296-a050-40ac-b37f-c00c31bca10d",
    "prId" : 21072,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0372462a-fb6e-4294-9527-8951caa49d6a",
        "parentId" : null,
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "I know you didn't add these args, but can you please describe what they are above the function? eg: https://github.com/kubernetes/kubernetes/blob/master/cluster/gce/util.sh#L317\n",
        "createdAt" : "2016-02-18T19:35:09Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      },
      {
        "id" : "c7e83d01-938d-4236-9552-a496dfd932bd",
        "parentId" : "0372462a-fb6e-4294-9527-8951caa49d6a",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "Sure, I was a little dismayed to see those are not already doc'd.\n",
        "createdAt" : "2016-02-18T20:15:50Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "fa0aec83-8b8d-42d9-8a0f-d5636aacd91e",
        "parentId" : "0372462a-fb6e-4294-9527-8951caa49d6a",
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "For the maintainence reason mentioned above I would prefer that this worked with local-up-cluster as well. Otherwise this script, used by 2 people will drift and not work till someone on SO asks about it, and everyone will be clueless. I feel like this is relatively easy to combine, and local-up-cluster should work on any ubuntu localhost, but if it's harder than it looks feel free to defer.\n",
        "createdAt" : "2016-02-18T20:35:14Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      },
      {
        "id" : "9f15efb8-bb8c-40a2-814f-666f6856ebfe",
        "parentId" : "0372462a-fb6e-4294-9527-8951caa49d6a",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "Let me play around with local-up-cluster.  If I can get comfortable with that reasonably quickly then I will cover it too.\n",
        "createdAt" : "2016-02-18T20:50:17Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "1f988982-61a8-495d-ab00-9d9eff586e31",
        "parentId" : "0372462a-fb6e-4294-9527-8951caa49d6a",
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "It should just work. if it doesn't work on an ubuntu machine please file a bug (or any mainstream distro, for that). \n",
        "createdAt" : "2016-02-19T01:02:27Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      }
    ],
    "commit" : "6b8e7e158e303d3212b6182bfc55637e605147bf",
    "line" : null,
    "diffHunk" : "@@ -1,1 +275,279 @@function create-kubelet-opts() {\n  if [ -n \"$6\" ] ; then\n      cni_opts=\" --network-plugin=cni --network-plugin-dir=/etc/cni/net.d\"\n  else\n      cni_opts=\"\""
  },
  {
    "id" : "0e35e54b-ceec-4878-80a6-63c9ec87395f",
    "prId" : 21072,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "af3f2fde-25e2-4b36-86d8-c9a8200afe5a",
        "parentId" : null,
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "Can you also sanity check that the cni conf+bins exist? In fact, can you just grab the files from tarball at a url and install them instead (triggerd optionally, because you might be developing, or for the latter case you could supply a file:// url)? \n",
        "createdAt" : "2016-02-18T19:35:12Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      },
      {
        "id" : "b01d922c-5d58-41cf-89b6-a4b98f9061d8",
        "parentId" : "af3f2fde-25e2-4b36-86d8-c9a8200afe5a",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "Regarding tarball URL instead of file pathname set: the added generality is good.  Do you know a way to secure the `tar xf` command so that it doesn't write in unwanted places?\n\nAs for sanity checking, it seems a little inconsistent to check that the CNI_PLUGIN_EXES exist but not also check that the CNI_PLUGIN_CONF exists.\n\nBTW, if we switch to one tarball URL for the executables then we could also get the CNI config file from the tarball, reducing two config envars to one.\n\nBTW, switching from file pathname set to one tarball does not eliminate the need for checking; it imposes a need for certain structure in the tarball contents and checking for conformance to that.\n\nDo we really need this much checking?  If so, can we do it as a later PR that builds on this one?\n",
        "createdAt" : "2016-02-18T20:10:11Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "ff1c3a1a-e079-4cd5-9d91-7c8b97450b5a",
        "parentId" : "af3f2fde-25e2-4b36-86d8-c9a8200afe5a",
        "authorId" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "body" : "> Regarding tarball URL instead of file pathname set: the added generality is good. Do you know a way to secure the tar xf command so that it doesn't write in unwanted places?\n\nUnsure, but just encode the tarball url into the code as default url and make sure that that tarball doesn't write to random locations sounds Ok to me. I just want to give people an easy way to get off the ground with their CNI plugin and local-up/ubuntu setup. Plugin installation is slightly convoluted in kube for legacy reasons, and hence error prone. \n\n> As for sanity checking, it seems a little inconsistent to check that the CNI_PLUGIN_EXES exist but not also check that the CNI_PLUGIN_CONF exists.\n\nIf you're interested in, eg: parsing out the type of the plugin from the cni.conf and checking that there is an exec with the same name in the bin dir, you could use jq (eg: https://github.com/appc/cni/blob/master/scripts/exec-plugins.sh#L16), but you don't necessarily need to do so in this pr. \n\n> BTW, if we switch to one tarball URL for the executables then we could also get the CNI config file from the tarball, reducing two config envars to one.\n\nSGTM\n\n> BTW, switching from file pathname set to one tarball does not eliminate the need for checking; it imposes a need for certain structure in the tarball contents and checking for conformance to that.\n\nYeah I think you can assume your default tarballs follows this structure, and assume that they're on their own if they specify another url. \n\n> Do we really need this much checking? If so, can we do it as a later PR that builds on this one?\n\nYeah, I suppose checking could get hairy. I dont' really want \"checking\" as much as \"you're asking for CNI but your plugins and conf are in the wrong place\" type failure message.\n",
        "createdAt" : "2016-02-18T20:33:36Z",
        "updatedAt" : "2016-02-23T18:29:01Z",
        "lastEditedBy" : "395f4f9a-98be-4485-b436-51f0897d7c9f",
        "tags" : [
        ]
      }
    ],
    "commit" : "6b8e7e158e303d3212b6182bfc55637e605147bf",
    "line" : 136,
    "diffHunk" : "@@ -1,1 +431,435 @@    NEED_RECONFIG_DOCKER=true\n  else\n    # CNI is being used: set reconf flag\n    NEED_RECONFIG_DOCKER=false\n  fi"
  },
  {
    "id" : "c9ac99e8-9634-458f-9921-d31ff2fe3fd6",
    "prId" : 17419,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9addac5f-4d2e-419b-8442-9ee41d35aa4b",
        "parentId" : null,
        "authorId" : "55c0e4a8-86f8-4426-a163-752ee421c57e",
        "body" : "Not sure why you want to listen on localhost and also advertise localhost. \n",
        "createdAt" : "2015-11-20T15:38:22Z",
        "updatedAt" : "2015-11-21T02:18:40Z",
        "lastEditedBy" : "55c0e4a8-86f8-4426-a163-752ee421c57e",
        "tags" : [
        ]
      },
      {
        "id" : "8aed06a3-a1ee-4fd6-b7b4-67880a6c7262",
        "parentId" : "9addac5f-4d2e-419b-8442-9ee41d35aa4b",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "'cuz i can barely understand the relationship between these two flags(from doc).Shame on me:-/\nIf you could give more details on this, it would be highly appreciated. \n`-listen-client-urls http://127.0.0.1:4001,http://${1}:4001 -advertise-client-urls http://${1}:4001` would work. \n",
        "createdAt" : "2015-11-21T01:43:52Z",
        "updatedAt" : "2015-11-21T02:18:40Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "dec63993-d369-430f-937b-a9d9ff8e4cda",
        "parentId" : "9addac5f-4d2e-419b-8442-9ee41d35aa4b",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "Tried to file an issue [coreos/etcd#3886](https://github.com/coreos/etcd/issues/3886) and didn't get what i need :-/ FYI\n",
        "createdAt" : "2015-11-21T02:03:53Z",
        "updatedAt" : "2015-11-21T02:18:40Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "ae61114f-e4a6-4ec3-8b70-0bb31572b122",
        "parentId" : "9addac5f-4d2e-419b-8442-9ee41d35aa4b",
        "authorId" : "55c0e4a8-86f8-4426-a163-752ee421c57e",
        "body" : "@dalanlan What do you want to know about? Listen addr is the addr your etcd process listening on. 0.0.0.0 means on all interfaces. Advertise addr is the addr to advertise.\n",
        "createdAt" : "2015-11-21T02:36:22Z",
        "updatedAt" : "2015-11-21T02:36:22Z",
        "lastEditedBy" : "55c0e4a8-86f8-4426-a163-752ee421c57e",
        "tags" : [
        ]
      },
      {
        "id" : "9a2aa047-b5e3-4eb3-ac53-6db0d7947e8c",
        "parentId" : "9addac5f-4d2e-419b-8442-9ee41d35aa4b",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "> Not sure why you want to listen on localhost and also advertise localhost.\n\nWhy should we avoid this? Does it apply to all situations? \nSay i wanna bring up a etcd cluster, all locating in a single (and the same) machine (kinda odd, i'll give you that), isn't it suppose to advertise localhost(different port though)? \nThanks ahead:)\n",
        "createdAt" : "2015-11-21T02:45:33Z",
        "updatedAt" : "2015-11-21T02:46:00Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "f61b95fd-b79e-4f88-88a7-f561900676d1",
        "parentId" : "9addac5f-4d2e-419b-8442-9ee41d35aa4b",
        "authorId" : "55c0e4a8-86f8-4426-a163-752ee421c57e",
        "body" : "If you advertise localhost, you should not expect clients outside the local machine to reach you. `localhost` on Machine A means differently from `localhost` on Machine B.\n",
        "createdAt" : "2015-11-21T02:49:57Z",
        "updatedAt" : "2015-11-21T02:49:57Z",
        "lastEditedBy" : "55c0e4a8-86f8-4426-a163-752ee421c57e",
        "tags" : [
        ]
      },
      {
        "id" : "57946c47-184d-492c-908c-7e2743357a4f",
        "parentId" : "9addac5f-4d2e-419b-8442-9ee41d35aa4b",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "yeah, i mean all of the clients which want to talk to the etcd locates locally as with etcd cluster itself in my use case\n",
        "createdAt" : "2015-11-21T02:52:26Z",
        "updatedAt" : "2015-11-21T02:52:38Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "9d4256d3-9e35-46d3-befc-828a601c0150",
        "parentId" : "9addac5f-4d2e-419b-8442-9ee41d35aa4b",
        "authorId" : "55c0e4a8-86f8-4426-a163-752ee421c57e",
        "body" : "That is fine.\n",
        "createdAt" : "2015-11-21T02:53:29Z",
        "updatedAt" : "2015-11-21T02:53:29Z",
        "lastEditedBy" : "55c0e4a8-86f8-4426-a163-752ee421c57e",
        "tags" : [
        ]
      }
    ],
    "commit" : "5ebff99dbf3a2f1c83e36c96ca840e83bcc097e6",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +189,193 @@ETCD_OPTS=\"\\\n -name infra\\\n -listen-client-urls http://127.0.0.1:4001,http://${1}:4001\\\n -advertise-client-urls http://${1}:4001\"\nEOF"
  },
  {
    "id" : "650fb2f1-a110-4b18-8c79-75a91d4b585e",
    "prId" : 17055,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6b59b1c9-a271-4203-b651-c990a015bce6",
        "parentId" : null,
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "@MikeSpreitzer Please check this 'cause i could barely catch what `squote` exactly means :-)\n",
        "createdAt" : "2015-11-16T06:43:50Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "4433752a-0dcb-486c-9855-f559addfbafa",
        "parentId" : "6b59b1c9-a271-4203-b651-c990a015bce6",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "squote is hacker jargon for Single-QUOTE.  dquote is Double-QUOTE.\n",
        "createdAt" : "2015-11-16T16:34:25Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      }
    ],
    "commit" : "cc9fff8e92f4b12269d4c0dbd8b6d3bf59bda9b7",
    "line" : null,
    "diffHunk" : "@@ -1,1 +395,399 @@      groupadd -f -r kube-cert\n      \\\"${PROXY_SETTING}\\\" ~/kube/make-ca-cert.sh \\\"${MASTER_IP}\\\" \\\"${EXTRA_SANS}\\\"\n      mkdir -p /opt/bin/\n      cp ~/kube/master/* /opt/bin/\n      service etcd start"
  },
  {
    "id" : "bf594f98-6202-47d8-931b-6dd2e3b6bba5",
    "prId" : 17055,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "46b2e2cd-d2a1-461f-b4eb-28605d6a63cd",
        "parentId" : null,
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "From shellchck.net: SC2064 (https://github.com/koalaman/shellcheck/wiki/SC2064) Use single quotes, otherwise this expands now rather than when signalled.\n",
        "createdAt" : "2015-11-16T22:09:01Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "53fcba59-24ea-457a-bce7-bbc0812bf8a3",
        "parentId" : "46b2e2cd-d2a1-461f-b4eb-28605d6a63cd",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "I'm trying to use single quotes here, yet it complains that `handler` is a binding var. \nI'll dive down later.\n",
        "createdAt" : "2015-11-17T06:04:44Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "509e31b3-61f0-4601-a72a-ed5860648d0f",
        "parentId" : "46b2e2cd-d2a1-461f-b4eb-28605d6a63cd",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "Oh!  Double quotes is correct here.  You want the trap to use the current (and local!) expansion of handler.\n",
        "createdAt" : "2015-11-17T19:30:28Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      }
    ],
    "commit" : "cc9fff8e92f4b12269d4c0dbd8b6d3bf59bda9b7",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +107,111 @@  fi\n\n  trap \"${handler}\" ${signal}\n}\n"
  },
  {
    "id" : "570c0314-88e9-4835-b88d-59b0d1460d05",
    "prId" : 17055,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aa3da9ee-98ef-4349-b085-49705ef7fb56",
        "parentId" : null,
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "This is a logic change, and I do not understand the system well enough to say whether it is good or bad.\n",
        "createdAt" : "2015-11-18T06:30:10Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "2106bda6-2b92-4c30-b95c-e6b68386b200",
        "parentId" : "aa3da9ee-98ef-4349-b085-49705ef7fb56",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "The old one has potential bug (my bad) to bring up a cluster with an unmatched version due to the legacy file.    \n",
        "createdAt" : "2015-11-18T06:36:30Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      }
    ],
    "commit" : "cc9fff8e92f4b12269d4c0dbd8b6d3bf59bda9b7",
    "line" : 303,
    "diffHunk" : "@@ -1,1 +307,311 @@\n  # downloading tarball release\n  if [[ -d \"${KUBE_ROOT}/cluster/ubuntu/binaries\" ]]; then\n    rm -rf \"${KUBE_ROOT}/cluster/ubuntu/binaries\"\n  fi"
  },
  {
    "id" : "91851dea-ca04-4762-8485-5b5e2d5b73ba",
    "prId" : 17055,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f85cb749-fb97-4722-a70f-8f6cec065b5b",
        "parentId" : null,
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "I don't know why this was added.\n",
        "createdAt" : "2015-11-18T06:37:10Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "dfb28e87-b292-48af-bb59-d8aa9687ebbf",
        "parentId" : "f85cb749-fb97-4722-a70f-8f6cec065b5b",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "A simple clean-up as well. \n",
        "createdAt" : "2015-11-18T06:39:26Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "02bc5c96-b61a-44ed-956e-d90109dbd6c2",
        "parentId" : "f85cb749-fb97-4722-a70f-8f6cec065b5b",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "I may not have been clear.  My question is why was the removal of /srv/kubernetes added?\n",
        "createdAt" : "2015-11-18T06:53:09Z",
        "updatedAt" : "2015-11-18T06:54:54Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "a5a01cbc-8966-4141-8029-de72e5b43b37",
        "parentId" : "f85cb749-fb97-4722-a70f-8f6cec065b5b",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "I believe `kube-down` should do all of the clean-up work. What's involved this directory are legacy files created by `make-ca-cert.sh`\n",
        "createdAt" : "2015-11-18T07:03:29Z",
        "updatedAt" : "2015-11-18T07:03:50Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      }
    ],
    "commit" : "cc9fff8e92f4b12269d4c0dbd8b6d3bf59bda9b7",
    "line" : 580,
    "diffHunk" : "@@ -1,1 +541,545 @@      \n            rm -rf /infra*\n            rm -rf /srv/kubernetes\n            '\n        \" || echo \"Cleaning on master ${i#*@} failed\""
  },
  {
    "id" : "3ce4a8c4-c509-4881-855e-a834d043699c",
    "prId" : 13900,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a56336d5-6155-44ce-a029-1ee7f1cadf63",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "why not just source ubuntu/build.sh?\n",
        "createdAt" : "2015-09-13T22:33:01Z",
        "updatedAt" : "2015-09-14T02:50:33Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "41e765fe-fbc4-4c57-b383-562c59cfedbf",
        "parentId" : "a56336d5-6155-44ce-a029-1ee7f1cadf63",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "'Cause ubuntu/build.sh manages downloading binaries. Should use local ones instead in this scenario.\n",
        "createdAt" : "2015-09-14T02:33:55Z",
        "updatedAt" : "2015-09-14T02:50:33Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "6d7e20a3-581a-4ab9-a047-e5679e5fef88",
        "parentId" : "a56336d5-6155-44ce-a029-1ee7f1cadf63",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "I mean instead of:\n\n```\npushd ubuntu\nsource \"build.sh\"    \npopd\n```\n\nwhy not:\n\n```\nsource \"ubuntu/build.sh\"    \n```\n\nIs there a reason to change directories?\n",
        "createdAt" : "2015-09-14T03:53:38Z",
        "updatedAt" : "2015-09-14T03:53:38Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "43a07f3e-c0b4-4b62-ba4e-6e160ef37e95",
        "parentId" : "a56336d5-6155-44ce-a029-1ee7f1cadf63",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "This would definitely break the kube-push since it change the absolute path of binaries dir. Note that current working dir is \"KUBE_ROOT/cluster\" instead of \"KUBE_ROOT/cluster/ubuntu\", and build.sh works heavily based on the current dir.\n",
        "createdAt" : "2015-09-14T04:39:06Z",
        "updatedAt" : "2015-09-14T10:49:05Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "51815065-3eab-4ca8-b4da-e262eec51004",
        "parentId" : "a56336d5-6155-44ce-a029-1ee7f1cadf63",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "Already specified [here](https://github.com/kubernetes/kubernetes/pull/13733#issuecomment-138951193). FYI\n",
        "createdAt" : "2015-09-14T04:40:56Z",
        "updatedAt" : "2015-09-14T04:40:56Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      },
      {
        "id" : "890b9735-34cf-4900-be98-bf0217a1b9ed",
        "parentId" : "a56336d5-6155-44ce-a029-1ee7f1cadf63",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "> build.sh works heavily based on the current dir\n\nThat seems wrong, but we don't need to fix it now.\n",
        "createdAt" : "2015-09-14T16:46:50Z",
        "updatedAt" : "2015-09-14T16:46:50Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "d672575a-8d57-4f19-bff6-cc84b200947b",
        "parentId" : "a56336d5-6155-44ce-a029-1ee7f1cadf63",
        "authorId" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "body" : "I'll fix that later once i'm available:)\n",
        "createdAt" : "2015-09-15T00:05:35Z",
        "updatedAt" : "2015-09-15T00:05:35Z",
        "lastEditedBy" : "95b7051f-0751-4088-8141-bc45a44ac5ca",
        "tags" : [
        ]
      }
    ],
    "commit" : "ebeaf706580815731e4134dc780a5c25c2ac7e87",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +449,453 @@    pushd ubuntu\n    source \"build.sh\"    \n    popd\n  fi\n}"
  },
  {
    "id" : "f8b09e57-e1fa-4621-99fc-7c51b431dc98",
    "prId" : 10393,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d247de9b-c217-4c89-907a-7ed9c050171e",
        "parentId" : null,
        "authorId" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "body" : "What is going on here?\n",
        "createdAt" : "2015-07-09T18:23:48Z",
        "updatedAt" : "2015-07-10T01:57:45Z",
        "lastEditedBy" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "tags" : [
        ]
      },
      {
        "id" : "543a638a-8ba3-46a4-85c1-9de1a1c9ffd9",
        "parentId" : "d247de9b-c217-4c89-907a-7ed9c050171e",
        "authorId" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "body" : "Oh, right. looks good.\n",
        "createdAt" : "2015-07-09T18:24:06Z",
        "updatedAt" : "2015-07-10T01:57:45Z",
        "lastEditedBy" : "020e031c-c298-4e7e-a533-9a04439c203c",
        "tags" : [
        ]
      }
    ],
    "commit" : "f7779a8162b54dc85b302f7a4e21bbf09b318e4d",
    "line" : null,
    "diffHunk" : "@@ -1,1 +184,188 @@}\n\nfunction genServiceAccountsKey() {\n    SERVICE_ACCOUNT_LOOKUP=${SERVICE_ACCOUNT_LOOKUP:-false}\n    SERVICE_ACCOUNT_KEY=${SERVICE_ACCOUNT_KEY:-\"/tmp/kube-serviceaccount.key\"}"
  }
]