[
  {
    "id" : "72f51457-a05f-4a4a-962e-50b15ef456b4",
    "prId" : 44866,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/44866#pullrequestreview-34501427",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e8f67a41-4ef9-4bc8-a4af-7fb54175c33c",
        "parentId" : null,
        "authorId" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "body" : "Consider adding an else statement to make it clear we are intentionally not dumping node logs",
        "createdAt" : "2017-04-25T00:19:28Z",
        "updatedAt" : "2017-04-25T08:48:47Z",
        "lastEditedBy" : "185604f6-2915-4313-8d6b-1d55757d0d22",
        "tags" : [
        ]
      },
      {
        "id" : "3d39e8d6-2b71-45e7-91a5-88df1877aa29",
        "parentId" : "e8f67a41-4ef9-4bc8-a4af-7fb54175c33c",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "Done.",
        "createdAt" : "2017-04-25T08:48:58Z",
        "updatedAt" : "2017-04-25T08:48:58Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      }
    ],
    "commit" : "02249de49b0ccaba3590a740dbd58af4cb355de3",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +251,255 @@echo \"Dumping master logs to ${report_dir}\"\ndump_masters\nif [[ \"${DUMP_ONLY_MASTER_LOGS:-}\" != \"true\" ]]; then\n  echo \"Dumping node logs to ${report_dir}\"\n  dump_nodes"
  },
  {
    "id" : "1dc291fc-ef87-4733-b51e-520ccd99cb6d",
    "prId" : 41739,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/41739#pullrequestreview-23028840",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f49b9a78-43cd-4ec5-b61a-78db24d9ce54",
        "parentId" : null,
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "`-eq` is used to compare numeric values. Use `==` instead for string comparison.\r\n",
        "createdAt" : "2017-02-21T17:36:55Z",
        "updatedAt" : "2017-02-21T17:36:55Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "a08231cf-d11e-45f3-a570-e6d85d7253bf",
        "parentId" : "f49b9a78-43cd-4ec5-b61a-78db24d9ce54",
        "authorId" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "body" : "Sorry for the blooper. This is fixed in PR https://github.com/kubernetes/kubernetes/pull/41800. I manually merged it so we don't lose our test logs anymore.",
        "createdAt" : "2017-02-21T18:09:27Z",
        "updatedAt" : "2017-02-21T18:14:47Z",
        "lastEditedBy" : "57a5e7e7-e6d7-467b-96ab-41e4ca978eee",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed0ab3cd8eefa5137ea469eda48c24693520ef6d",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +130,134 @@        gce|gke|kubemark)\n          files=\"${files} ${gce_logfiles}\"\n          if [[ \"${KUBERNETES_PROVIDER}\" -eq \"kubemark\" && \"${ENABLE_HOLLOW_NODE_LOGS:-}\" -eq \"true\" ]]; then\n            files=\"${files} ${hollow_node_logfiles}\"\n          fi"
  },
  {
    "id" : "496b0b14-02ff-414e-9466-6a436beb30b5",
    "prId" : 39268,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/39268#pullrequestreview-14595103",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ed60d74f-c424-4f94-9d1a-66339e1fdac1",
        "parentId" : null,
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "Does quoting these break it? I'm always confused about bash arrays.",
        "createdAt" : "2016-12-28T18:39:39Z",
        "updatedAt" : "2016-12-28T18:39:39Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      },
      {
        "id" : "0279c786-8e75-46b1-9144-59dcf5595335",
        "parentId" : "ed60d74f-c424-4f94-9d1a-66339e1fdac1",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "It does, because the original variables are using the \"space separated list\" style. If you do e.g.\r\n```\r\nfoo=\"a b\"\r\nbar=\"c\"\r\narr=( \"${foo}\" \"${bar}\" )\r\necho ${arr[0]}\r\n```\r\n\r\n... you'll see \"a b\", which makes a certain perverse sense.\r\n\r\nThe weirder one is quoted array expansion, which requotes each element, so e.g. this copies the array, even with one element containing a space:\r\n```\r\narr=( \"a b\" \"c\" )\r\narr2=( \"${arr[@]}\" ) # quotes, this expands to: \"a b\" \"c\"\r\n```\r\n",
        "createdAt" : "2016-12-28T18:46:47Z",
        "updatedAt" : "2016-12-28T18:46:47Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "8a81b6b0577691b3ec0a4153a4e7a114471b3df9",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +135,139 @@      esac\n    fi\n    local -r services=( ${systemd_services} ${LOG_DUMP_SAVE_SERVICES:-} )\n\n    if log-dump-ssh \"${node_name}\" \"command -v journalctl\" &> /dev/null; then"
  },
  {
    "id" : "220cf67a-dac7-4195-82ff-b42a3d3e7170",
    "prId" : 36550,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/36550#pullrequestreview-7934954",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "82ccfb02-79a5-46d9-9c98-644a17071ba9",
        "parentId" : null,
        "authorId" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "body" : "It seems that we just need to remove `--output=cat`.\n\n`short-precise: The default format with microsecond precision`\nhttps://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs\n\nBut I'm also fine with explicitly add it, up to you. :)\n",
        "createdAt" : "2016-11-10T01:27:52Z",
        "updatedAt" : "2016-11-10T01:28:27Z",
        "lastEditedBy" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "tags" : [
        ]
      },
      {
        "id" : "c23f170f-883c-4a7b-851e-96c0aeda2f4c",
        "parentId" : "82ccfb02-79a5-46d9-9c98-644a17071ba9",
        "authorId" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "body" : "The default is actually `--output=short`. `short-precise` has microsecond precision (i.e., `17:13:44` vs `17:13:44.338525`)\n",
        "createdAt" : "2016-11-10T01:31:58Z",
        "updatedAt" : "2016-11-10T01:31:58Z",
        "lastEditedBy" : "1bd2d65a-7c93-4c22-b408-c7794d037dc5",
        "tags" : [
        ]
      },
      {
        "id" : "58cbca88-e549-404e-8513-8b6a1da64d54",
        "parentId" : "82ccfb02-79a5-46d9-9c98-644a17071ba9",
        "authorId" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "body" : "ACK.\nMisunderstood this because of my English. :p\n",
        "createdAt" : "2016-11-10T02:09:01Z",
        "updatedAt" : "2016-11-10T02:09:01Z",
        "lastEditedBy" : "4e418bc8-21fb-4523-80c1-9c751c193126",
        "tags" : [
        ]
      }
    ],
    "commit" : "fac2aeb41695fc1ccebdeb2c51b0a4b078d0dfb2",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +133,137 @@        log-dump-ssh \"${node_name}\" \"sudo journalctl --output=cat -u kubelet.service\" > \"${dir}/kubelet.log\" || true\n        log-dump-ssh \"${node_name}\" \"sudo journalctl --output=cat -u docker.service\" > \"${dir}/docker.log\" || true\n        log-dump-ssh \"${node_name}\" \"sudo journalctl --output=short-precise -k\" > \"${dir}/kern.log\" || true\n    else\n        files=\"${kern_logfile} ${files} ${initd_logfiles} ${supervisord_logfiles}\""
  },
  {
    "id" : "632c1ae8-5cdc-4b20-85cc-8e534b5f7bc7",
    "prId" : 34153,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/34153#pullrequestreview-3549980",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "12b259d6-4e86-4e35-8ae8-ceb9430fb6a9",
        "parentId" : null,
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "I really don't like setting environment variables to control behavior like this, but I suppose it's not the end of the world. Please add a comment saying what this variable should be, as well as `LOG_DUMP_SSH_KEY` and `LOG_DUMP_SSH_USER`.\n",
        "createdAt" : "2016-10-07T00:16:29Z",
        "updatedAt" : "2016-10-10T20:41:57Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      },
      {
        "id" : "1855960b-6a36-438d-8439-a8da492fbf3d",
        "parentId" : "12b259d6-4e86-4e35-8ae8-ceb9430fb6a9",
        "authorId" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "body" : "Done.\n",
        "createdAt" : "2016-10-10T18:23:42Z",
        "updatedAt" : "2016-10-10T20:41:57Z",
        "lastEditedBy" : "a92f8f9e-31fd-4510-b4d9-3553f7025485",
        "tags" : [
        ]
      }
    ],
    "commit" : "4338351be2dd449f09d14408d88ad8b6f81bcc65",
    "line" : null,
    "diffHunk" : "@@ -1,1 +29,33 @@# master, and the LOG_DUMP_SSH_KEY and LOG_DUMP_SSH_USER variables\n# must be set for auth.\nreadonly use_kubectl=\"${LOG_DUMP_USE_KUBECTL:-}\"\n\nreadonly master_ssh_supported_providers=\"gce aws kubemark\""
  },
  {
    "id" : "ec876729-e1bb-4581-b825-573663dc72e1",
    "prId" : 22835,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "908081a2-5df4-4b94-9fe8-74802a74ce2d",
        "parentId" : null,
        "authorId" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "body" : "maybe `elif GCE || GKE`\nand then\n`else echo \"Not implemented!\"; exit 1`?\n",
        "createdAt" : "2016-03-11T07:51:17Z",
        "updatedAt" : "2016-03-11T07:51:17Z",
        "lastEditedBy" : "719d0e19-fcef-4b47-afac-404318b9514f",
        "tags" : [
        ]
      },
      {
        "id" : "0caec78f-90ea-430d-88e8-608dfe8214cb",
        "parentId" : "908081a2-5df4-4b94-9fe8-74802a74ce2d",
        "authorId" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "body" : "We already check provider before calling this function. It might be a problem if people try to use this function elsewhere, but that'd be pretty awkward since it runs the stuff when you source it...\n",
        "createdAt" : "2016-03-11T21:53:19Z",
        "updatedAt" : "2016-03-11T21:53:19Z",
        "lastEditedBy" : "c532215f-ed76-4a19-b066-8676d269eaf1",
        "tags" : [
        ]
      }
    ],
    "commit" : "26f77d2ec58f4bbd2f08483bc784a44ff95c4126",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +48,52 @@        local ip=$(get_instance_public_ip \"${node}\")\n        scp -i \"${AWS_SSH_KEY}\" \"${SSH_USER}@${ip}:${scp_files}\" \"${dir}\" > /dev/null || true\n    else\n        gcloud compute copy-files --project \"${PROJECT}\" --zone \"${ZONE}\" \"${node}:${scp_files}\" \"${dir}\" > /dev/null || true\n    fi"
  }
]