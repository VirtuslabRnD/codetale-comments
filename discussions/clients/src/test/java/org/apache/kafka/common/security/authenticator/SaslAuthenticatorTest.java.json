[
  {
    "id" : "70bab88a-027d-4527-8a00-207dc5412c7f",
    "prId" : 4956,
    "prUrl" : "https://github.com/apache/kafka/pull/4956#pullrequestreview-125876003",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cc09632c-0678-4233-99de-3d40d75b1880",
        "parentId" : null,
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Why do we need this change?",
        "createdAt" : "2018-05-21T17:49:48Z",
        "updatedAt" : "2018-06-05T08:53:36Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "3e4063cc-20a4-4914-9fb4-01d50f232413",
        "parentId" : "cc09632c-0678-4233-99de-3d40d75b1880",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "That was a typo in the code, SASL_PLAINTEXT is tested a few lines above this.",
        "createdAt" : "2018-06-05T08:54:28Z",
        "updatedAt" : "2018-06-05T08:54:28Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "6f31d21c17e690eeb44631100cb82f9cd284b2e7",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +473,477 @@    @Test\n    public void testUnauthenticatedApiVersionsRequestOverSslHandshakeVersion1() throws Exception {\n        testUnauthenticatedApiVersionsRequest(SecurityProtocol.SASL_SSL, (short) 1);\n    }\n"
  },
  {
    "id" : "1a008480-b04b-4a15-80b4-810ee1426409",
    "prId" : 6252,
    "prUrl" : "https://github.com/apache/kafka/pull/6252#pullrequestreview-202207416",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "080569b7-db49-4059-abdc-4150eda41f7f",
        "parentId" : null,
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Do we actually need two fields? From looking at the code, it wasn't clear to me.",
        "createdAt" : "2019-02-11T16:23:04Z",
        "updatedAt" : "2019-02-11T16:57:15Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "f109fcf7-788a-4b9e-a81b-711f7494a61d",
        "parentId" : "080569b7-db49-4059-abdc-4150eda41f7f",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "The only checked exception we can throw from the callback handler is `IOException` and the second exception is a RuntimeException, hence the two exceptions.",
        "createdAt" : "2019-02-11T16:29:45Z",
        "updatedAt" : "2019-02-11T16:57:15Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "bb053ac4-7417-46f0-ac26-da28e7ce4fab",
        "parentId" : "080569b7-db49-4059-abdc-4150eda41f7f",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Can we please add a comment to make it clear?",
        "createdAt" : "2019-02-11T16:34:44Z",
        "updatedAt" : "2019-02-11T16:57:15Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      }
    ],
    "commit" : "b01b8732e917f7ff68a4c8966f4e0624b9eb5c95",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +304,308 @@        // covering case 1) and 2). For case 3), SaslAuthenticationException is a RuntimeExceptiom.\n        static volatile IOException sensitiveException;\n        static volatile SaslAuthenticationException clientFriendlyException;\n\n        @Override"
  },
  {
    "id" : "178aeb4b-9480-433b-91b1-47892e5bee28",
    "prId" : 8142,
    "prUrl" : "https://github.com/apache/kafka/pull/8142#pullrequestreview-362166335",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b257b7d1-b873-451e-8ff7-4cf1a858f64a",
        "parentId" : null,
        "authorId" : "6c4430fc-3795-49d6-9c36-cf6aa694824e",
        "body" : "Rename as this only tested part of the version support.",
        "createdAt" : "2020-02-20T19:18:45Z",
        "updatedAt" : "2020-02-21T21:12:13Z",
        "lastEditedBy" : "6c4430fc-3795-49d6-9c36-cf6aa694824e",
        "tags" : [
        ]
      }
    ],
    "commit" : "fb7ce3787a101b9243988c484c86238a8a61f97d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +678,682 @@     */\n    @Test\n    public void testApiVersionsRequestWithServerUnsupportedVersion() throws Exception {\n        short handshakeVersion = ApiKeys.SASL_HANDSHAKE.latestVersion();\n        SecurityProtocol securityProtocol = SecurityProtocol.SASL_PLAINTEXT;"
  },
  {
    "id" : "ae868f7e-3650-4a6e-85b0-3b84b2b86435",
    "prId" : 8142,
    "prUrl" : "https://github.com/apache/kafka/pull/8142#pullrequestreview-362166465",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2f353498-dd7b-4d26-986f-44078e5a55da",
        "parentId" : null,
        "authorId" : "6c4430fc-3795-49d6-9c36-cf6aa694824e",
        "body" : "Block anyone from bumping the schema without realizing.",
        "createdAt" : "2020-02-20T19:18:56Z",
        "updatedAt" : "2020-02-21T21:12:13Z",
        "lastEditedBy" : "6c4430fc-3795-49d6-9c36-cf6aa694824e",
        "tags" : [
        ]
      }
    ],
    "commit" : "fb7ce3787a101b9243988c484c86238a8a61f97d",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +770,774 @@\n    @Test\n    public void testForBrokenSaslHandshakeVersionBump() {\n        assertEquals(\"It is not possible to easily bump SASL_HANDSHAKE schema\"\n                        + \" due to improper version negotiation in clients < 2.5.\""
  },
  {
    "id" : "3218fc99-c5c2-4123-821e-fb4aeaa4f565",
    "prId" : 9874,
    "prUrl" : "https://github.com/apache/kafka/pull/9874#pullrequestreview-567263007",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "06373c94-2a82-4207-ad1d-83226d5865bf",
        "parentId" : null,
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "Personally, checking the class type is more readable to me. Also, it can generate meaningful error message (the custom message can be removed). If this comment is valid, we can address it by another PR (as there are a lot of occurances)",
        "createdAt" : "2021-01-13T10:31:28Z",
        "updatedAt" : "2021-01-13T18:53:57Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      },
      {
        "id" : "bd79d890-288e-492b-896a-3b4e01b81345",
        "parentId" : "06373c94-2a82-4207-ad1d-83226d5865bf",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "Yeah, for existing code improvements (versus code introduced by this change), let's do it via a different PR. For this particular issue, we can probably wait for JUnit 5.8 and use:\r\n\r\n> * New assertInstanceOf methods as a replacement for assertTrue(obj instanceof X) which provide better error messages comparable to those of assertThrows.",
        "createdAt" : "2021-01-13T14:12:37Z",
        "updatedAt" : "2021-01-13T18:53:57Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "fd070307-ea23-4f76-a867-2158d35a0a4f",
        "parentId" : "06373c94-2a82-4207-ad1d-83226d5865bf",
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "Nice suggestion. Open a ticket (https://issues.apache.org/jira/browse/KAFKA-12187) for it.",
        "createdAt" : "2021-01-13T14:17:22Z",
        "updatedAt" : "2021-01-13T18:53:57Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      }
    ],
    "commit" : "24841495d245873106dc5c4a32af1fa6d2fa8bbd",
    "line" : 153,
    "diffHunk" : "@@ -1,1 +2117,2121 @@        ChannelState finalState = createAndCheckClientConnectionFailure(securityProtocol, node);\n        Exception exception = finalState.exception();\n        assertTrue(exception instanceof SaslAuthenticationException, \"Invalid exception class \" + exception.getClass());\n        String expectedExceptionMessage = expectedErrorMessage != null ? expectedErrorMessage :\n                \"Authentication failed during authentication due to invalid credentials with SASL mechanism \" + mechanism;"
  },
  {
    "id" : "ed41edb9-6bbc-4fc1-8ea1-2a875c657bba",
    "prId" : 9874,
    "prUrl" : "https://github.com/apache/kafka/pull/9874#pullrequestreview-567296284",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d61b94a1-b526-4170-8d9a-4e8761a252bd",
        "parentId" : null,
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "The assertion error message formatting is slightly different in JUnit 5, so I had to remove `[` and `]` from the regex.",
        "createdAt" : "2021-01-13T14:50:12Z",
        "updatedAt" : "2021-01-13T18:53:57Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      }
    ],
    "commit" : "24841495d245873106dc5c4a32af1fa6d2fa8bbd",
    "line" : 132,
    "diffHunk" : "@@ -1,1 +1677,1681 @@            String receivedResponseTextRegex = \".*\" + OAuthBearerLoginModule.OAUTHBEARER_MECHANISM;\n            assertTrue(exception.getMessage().matches(\n                \".*<\" + expectedResponseTextRegex + \">.*<\" + receivedResponseTextRegex + \".*?>\"),\n                \"Should have received the SaslHandshakeRequest bytes back since we re-authenticated too quickly, \" +\n                \"but instead we got our generated message echoed back, implying re-auth succeeded when it should not have: \" +"
  },
  {
    "id" : "11ca0f8d-b751-4aa2-9b4e-8444ce3986ec",
    "prId" : 9874,
    "prUrl" : "https://github.com/apache/kafka/pull/9874#pullrequestreview-567402796",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ca665c20-380e-4bd8-a6f5-60ebffb3970a",
        "parentId" : null,
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "It would be better that we can make accurate assert for ```checkClientConnection``` (it has multi assert checks)",
        "createdAt" : "2021-01-13T15:46:18Z",
        "updatedAt" : "2021-01-13T18:53:57Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      },
      {
        "id" : "ec92df6d-fda0-49b7-9091-162a9dfef3b3",
        "parentId" : "ca665c20-380e-4bd8-a6f5-60ebffb3970a",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "We can file a JIRA if you think this can be improved. We didn't change that here, right?",
        "createdAt" : "2021-01-13T16:26:47Z",
        "updatedAt" : "2021-01-13T18:53:57Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "aaa9598c-3d30-4ec2-9478-4d2da67ebfac",
        "parentId" : "ca665c20-380e-4bd8-a6f5-60ebffb3970a",
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "trace it by https://issues.apache.org/jira/browse/KAFKA-12188",
        "createdAt" : "2021-01-13T16:29:27Z",
        "updatedAt" : "2021-01-13T18:53:57Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      }
    ],
    "commit" : "24841495d245873106dc5c4a32af1fa6d2fa8bbd",
    "line" : 93,
    "diffHunk" : "@@ -1,1 +1550,1554 @@         */\n        delay(1000L);\n        assertThrows(AssertionFailedError.class, () -> checkClientConnection(node));\n        server.verifyReauthenticationMetrics(0, 1);\n    }"
  }
]