[
  {
    "id" : "aa4a3837-ecd2-499c-9d09-8e64face0440",
    "prId" : 4263,
    "prUrl" : "https://github.com/apache/kafka/pull/4263#pullrequestreview-85102648",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f54b8558-a8d5-4a79-b422-c83c68da60f5",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Can you explain why we need this check? Aren't we already checking the result of `getHandshakeStatus()`? ",
        "createdAt" : "2017-12-20T22:04:14Z",
        "updatedAt" : "2018-01-19T13:34:10Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "ae0617f1-59c8-472d-8929-0487f7887f15",
        "parentId" : "f54b8558-a8d5-4a79-b422-c83c68da60f5",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "I am not sure we hit this case, but I wanted to be cautious. It is because both handshake result and sslEngine store handshake status and they may not be the same.",
        "createdAt" : "2017-12-21T15:54:35Z",
        "updatedAt" : "2018-01-19T13:34:10Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d7e19562c3db9e224ad0933b90f58446641c527",
    "line" : 328,
    "diffHunk" : "@@ -1,1 +389,393 @@                        return;\n                    case NOT_HANDSHAKING:\n                        if (handshakeResult.getHandshakeStatus() != SSLEngineResult.HandshakeStatus.FINISHED)\n                            throw new SSLException(\"Did not finish handshake\");\n                        return;"
  },
  {
    "id" : "acf0544d-e437-4306-a6fe-90f2168e4487",
    "prId" : 4263,
    "prUrl" : "https://github.com/apache/kafka/pull/4263#pullrequestreview-85100900",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "000a7836-a55a-44dd-91ea-4580cf65fff1",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "As far as I can tell, every time we iterate the loop, we update `handshakeStatus`. Would it make sense to move its initialization to the first line in the loop and remove these updates?",
        "createdAt" : "2017-12-20T22:05:27Z",
        "updatedAt" : "2018-01-19T13:34:10Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "eff80d5c-05f9-4d42-a744-65e29d105313",
        "parentId" : "000a7836-a55a-44dd-91ea-4580cf65fff1",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "For the `unwrap` case, we get the result from the handshake result of unwrap, so it is different from delegated tasks where the latest status is from the sslEngine. The logic here is the same as `SslTransportLayer` and that contains a lot more comments. Unfortunately it would be too messy to combine the two, so I tried to make this as small as possible.",
        "createdAt" : "2017-12-21T15:49:08Z",
        "updatedAt" : "2018-01-19T13:34:10Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d7e19562c3db9e224ad0933b90f58446641c527",
    "line" : 323,
    "diffHunk" : "@@ -1,1 +384,388 @@                    case NEED_TASK:\n                        sslEngine.getDelegatedTask().run();\n                        handshakeStatus = sslEngine.getHandshakeStatus();\n                        break;\n                    case FINISHED:"
  },
  {
    "id" : "86de2206-100d-42b9-a270-c5fb4d6b5cda",
    "prId" : 4904,
    "prUrl" : "https://github.com/apache/kafka/pull/4904#pullrequestreview-123083398",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1d26fe7a-bb9b-41c4-9619-d94f9e109092",
        "parentId" : null,
        "authorId" : "26f03b17-96aa-4ab4-b120-8f8ec09ddfe8",
        "body" : "Can someone double check this statement? Seems missing `!` before `Objects.equals`. Same issue with method `maybeCreateNewKeystore`.  @rajinisivaram @hachikuji ",
        "createdAt" : "2018-05-16T19:30:40Z",
        "updatedAt" : "2018-05-16T19:30:41Z",
        "lastEditedBy" : "26f03b17-96aa-4ab4-b120-8f8ec09ddfe8",
        "tags" : [
        ]
      },
      {
        "id" : "7da8ec9c-0e3a-4bc3-bc68-20feba036a5d",
        "parentId" : "1d26fe7a-bb9b-41c4-9619-d94f9e109092",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "@allenxiang Oops, will fix the check. Thank you!",
        "createdAt" : "2018-05-16T20:11:35Z",
        "updatedAt" : "2018-05-16T20:11:36Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "fe742717-a479-4d31-b00c-cfb2996a4ae1",
        "parentId" : "1d26fe7a-bb9b-41c4-9619-d94f9e109092",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "@allenxiang Submitted a PR for fixing this: https://github.com/apache/kafka/pull/5029. Thanks.",
        "createdAt" : "2018-05-24T16:55:24Z",
        "updatedAt" : "2018-05-24T16:55:25Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "72c2f9d064429077f7b0e4f8aef0992ca9ba16a5",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +195,199 @@                Objects.equals(configs.get(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG), truststore.path) ||\n                Objects.equals(configs.get(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG), truststore.password);\n\n        if (truststoreChanged) {\n            return createTruststore((String) configs.get(SslConfigs.SSL_TRUSTSTORE_TYPE_CONFIG),"
  },
  {
    "id" : "2bfbad8c-a965-4e2f-b60c-e5f48879a42a",
    "prId" : 6674,
    "prUrl" : "https://github.com/apache/kafka/pull/6674#pullrequestreview-235732610",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "017c43be-e4de-4b10-bca4-a52339fff1e3",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Why does this need special handling?",
        "createdAt" : "2019-05-09T09:41:06Z",
        "updatedAt" : "2019-05-15T16:39:48Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "95d57840-e7b5-425d-9465-b036a4b0bdf3",
        "parentId" : "017c43be-e4de-4b10-bca4-a52339fff1e3",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "As you know, `clientAuthConfigOverride` functions as an override.  If it is set, the value of `SSL_CLIENT_AUTH_CONFIG` given by the user is irrelevant.  It's simplest just to overwrite the value given by the user.\r\n\r\nOf course, since `SSL_CLIENT_AUTH_CONFIG` isn't currently reconfigurable, this isn't an issue in practice right now.  But, perhaps we will let this be reconfigured in the future.",
        "createdAt" : "2019-05-09T17:49:06Z",
        "updatedAt" : "2019-05-15T16:39:48Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "52ee1cfeb470cc2ee8f4bb317016dbc2d8dd7c09",
    "line" : 233,
    "diffHunk" : "@@ -1,1 +121,125 @@        copyMapEntries(nextConfigs, newConfigs, SslConfigs.RECONFIGURABLE_CONFIGS);\n        if (clientAuthConfigOverride != null) {\n            nextConfigs.put(BrokerSecurityConfigs.SSL_CLIENT_AUTH_CONFIG, clientAuthConfigOverride);\n        }\n        if (!sslEngineBuilder.shouldBeRebuilt(nextConfigs)) {"
  },
  {
    "id" : "3993f5ad-08b4-40b6-9e34-769c71507e06",
    "prId" : 8551,
    "prUrl" : "https://github.com/apache/kafka/pull/8551#pullrequestreview-404425949",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1df58614-f4ee-4375-92d8-4d6c0509370c",
        "parentId" : null,
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "It seems to me adding a KIP for this interface change would be an overkill. But, I'm ok to write a KIP if it worth it.",
        "createdAt" : "2020-04-25T11:09:36Z",
        "updatedAt" : "2020-04-26T04:11:45Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      },
      {
        "id" : "ea0f7834-abb0-43b3-9b44-9b24aa6771e2",
        "parentId" : "1df58614-f4ee-4375-92d8-4d6c0509370c",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I don't think we consider `SslFactory` a public API, so I think we are probably good here.",
        "createdAt" : "2020-05-01T22:11:25Z",
        "updatedAt" : "2020-05-01T22:11:26Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "af9aa2f491c54f3ed4b76507321a0789936d316d",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +233,237 @@\n    @Override\n    public void close() {\n        Utils.closeQuietly(sslEngineFactory, \"close engine factory\");\n    }"
  }
]