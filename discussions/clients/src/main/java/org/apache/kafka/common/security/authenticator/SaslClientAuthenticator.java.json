[
  {
    "id" : "2ff3b1cd-5000-43fc-bc06-a30798b25865",
    "prId" : 5487,
    "prUrl" : "https://github.com/apache/kafka/pull/5487#pullrequestreview-145598243",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5ab0daef-eee7-4fc9-8f82-756182a56071",
        "parentId" : null,
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "How will this manifest itself?",
        "createdAt" : "2018-08-13T04:26:55Z",
        "updatedAt" : "2018-08-14T08:42:22Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "b68275b5-f566-4e0a-ae5e-c42bbd2cc1b7",
        "parentId" : "5ab0daef-eee7-4fc9-8f82-756182a56071",
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "More specifically, will a test fail if this stops working in a newer Java version?",
        "createdAt" : "2018-08-13T04:29:12Z",
        "updatedAt" : "2018-08-14T08:42:22Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "3a489c61-57b4-419c-a6bb-6bdb2f17c9bb",
        "parentId" : "5ab0daef-eee7-4fc9-8f82-756182a56071",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "I have added one more test that checks the authentication failure case. That should reliably fail if we move to a newer Java version.",
        "createdAt" : "2018-08-13T10:39:57Z",
        "updatedAt" : "2018-08-14T08:42:22Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "6e594c33051c8c21a5c74c2dbef2fd26a9a889fc",
    "line" : 81,
    "diffHunk" : "@@ -1,1 +475,479 @@                KRB_EXCEPTION_RETURN_CODE_METHOD = KRB_EXCEPTION_CLASS.getMethod(\"returnCode\");\n            } catch (Exception e) {\n                throw new KafkaException(\"Kerberos exceptions could not be initialized\", e);\n            }\n        }"
  },
  {
    "id" : "646cf8b3-923a-47fb-80e2-b01cdd48f144",
    "prId" : 5487,
    "prUrl" : "https://github.com/apache/kafka/pull/5487#pullrequestreview-145967041",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ee743bf5-2b98-4f73-a070-01febe90f9a8",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Is the following error code also retriable? \r\n0x15 | KDC_ERR_CLIENT_NOTYET | Client not yet valid‚Äîtry again later\r\n\r\n\r\n",
        "createdAt" : "2018-08-13T20:41:29Z",
        "updatedAt" : "2018-08-14T08:42:22Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      },
      {
        "id" : "74af0d62-702c-4e99-a35b-a9f8f6e99470",
        "parentId" : "ee743bf5-2b98-4f73-a070-01febe90f9a8",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "@junrao Thanks for the review. I wasn't sure if we would hit that in practice. But you are right, we should include it anyway. Added.",
        "createdAt" : "2018-08-14T08:44:35Z",
        "updatedAt" : "2018-08-14T08:44:35Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "6e594c33051c8c21a5c74c2dbef2fd26a9a889fc",
    "line" : 66,
    "diffHunk" : "@@ -1,1 +460,464 @@        // (Mechanism level: Request is a replay (34) - Request is a replay)\n        // Replay detection used to prevent DoS attacks can result in false positives, so retry on error.\n        REPLAY(34, true);\n\n"
  },
  {
    "id" : "7d9caee9-f8ff-4ce9-bad6-0818bbb1eb05",
    "prId" : 5582,
    "prUrl" : "https://github.com/apache/kafka/pull/5582#pullrequestreview-163598803",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "65aee6cf-f4d4-402f-a613-b4a0e27fd160",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "If we need to keep `INITIAL` and `REAUTH_INITIAL`, we should have. a method to use common code for this state.",
        "createdAt" : "2018-10-10T10:15:26Z",
        "updatedAt" : "2018-10-25T19:47:00Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "07626c9b-8bc4-4023-a424-4659dd1fd7c7",
        "parentId" : "65aee6cf-f4d4-402f-a613-b4a0e27fd160",
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "üëç Added method `sendInitialTokenAndSetIntermediateState()`",
        "createdAt" : "2018-10-10T23:19:29Z",
        "updatedAt" : "2018-10-25T19:47:00Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      }
    ],
    "commit" : "9c30b80b2b29b7f5c86af21fd19fc520cfe798db",
    "line" : 163,
    "diffHunk" : "@@ -1,1 +253,257 @@            case REAUTH_INITIAL:\n                sendInitialToken();\n                setSaslState(SaslState.INTERMEDIATE);\n                break;\n            case INTERMEDIATE:"
  },
  {
    "id" : "dbb10741-d71a-4a88-9848-8fcb4eedbbc1",
    "prId" : 5582,
    "prUrl" : "https://github.com/apache/kafka/pull/5582#pullrequestreview-167447119",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4170bed7-4433-4190-857f-bbb091b94335",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "This no longer reflects the sequence of states, so it will be good to add javadoc for `SaslState` showing the two sequences for initial auth and reauth. I would probably move the REAUTH states to the end so that INITIAL flows through to COMPLETE.",
        "createdAt" : "2018-10-22T22:46:25Z",
        "updatedAt" : "2018-10-25T19:47:00Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "bf28311d-c782-4a79-9e73-f8626cc8b3e6",
        "parentId" : "4170bed7-4433-4190-857f-bbb091b94335",
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "üëç Javadoc added/declarations re-ordered",
        "createdAt" : "2018-10-23T14:18:22Z",
        "updatedAt" : "2018-10-25T19:47:00Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      }
    ],
    "commit" : "9c30b80b2b29b7f5c86af21fd19fc520cfe798db",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +89,93 @@        SEND_HANDSHAKE_REQUEST,                     // Received ApiVersionsResponse, send SaslHandshake request\n        RECEIVE_HANDSHAKE_RESPONSE,                 // Awaiting SaslHandshake response from server when authenticating\n        INITIAL,                                    // Initial authentication state starting SASL token exchange for configured mechanism, send first token\n        INTERMEDIATE,                               // Intermediate state during SASL token exchange, process challenges and send responses\n        CLIENT_COMPLETE,                            // Sent response to last challenge. If using SaslAuthenticate, wait for authentication status from server, else COMPLETE"
  },
  {
    "id" : "93767d27-e5c0-41e0-bc06-3032deb6aa7a",
    "prId" : 5920,
    "prUrl" : "https://github.com/apache/kafka/pull/5920#pullrequestreview-206098752",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "53569f9a-c302-479e-873f-ad5ed0883852",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "Should we change the comment above on responses?",
        "createdAt" : "2019-02-21T20:03:05Z",
        "updatedAt" : "2020-01-12T16:09:00Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa849a468dc6e5e693bdeeb9625678db4102e84a",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +614,618 @@         *         re-authentication, if any\n         */\n        public Optional<NetworkReceive> pollResponseReceivedDuringReauthentication() {\n            if (pendingAuthenticatedReceives.isEmpty())\n                return Optional.empty();"
  },
  {
    "id" : "842d7a1b-7b5e-4e1b-9884-91c3e304ce56",
    "prId" : 5920,
    "prUrl" : "https://github.com/apache/kafka/pull/5920#pullrequestreview-340683207",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2e17a8ec-f82c-4f4a-90dc-54983b08e71d",
        "parentId" : null,
        "authorId" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "body" : "The comments above still mention responses. They should be response?",
        "createdAt" : "2020-01-09T19:20:04Z",
        "updatedAt" : "2020-01-12T16:09:00Z",
        "lastEditedBy" : "442b5138-0781-4001-8ac5-0593f2136d1c",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa849a468dc6e5e693bdeeb9625678db4102e84a",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +614,618 @@         *         re-authentication, if any\n         */\n        public Optional<NetworkReceive> pollResponseReceivedDuringReauthentication() {\n            if (pendingAuthenticatedReceives.isEmpty())\n                return Optional.empty();"
  },
  {
    "id" : "44e12986-7391-416d-b3df-09864db53ebf",
    "prId" : 8471,
    "prUrl" : "https://github.com/apache/kafka/pull/8471#pullrequestreview-393316561",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f59b7db9-0515-4ca9-84a4-a9f963f582cd",
        "parentId" : null,
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "@rajinisivaram I change the reserved range from [0, 6] to [1017. 1024] to avoid changing the correlation id in mocked response of other test cases.",
        "createdAt" : "2020-04-14T19:53:55Z",
        "updatedAt" : "2020-04-16T09:58:56Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      },
      {
        "id" : "e4fb520b-e8fb-408c-b743-6c60b9c57750",
        "parentId" : "f59b7db9-0515-4ca9-84a4-a9f963f582cd",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "We could perhaps reserve the top numbers with MAX_RESERVED_CORRELATION_ID=Integer.MAX_VALUE? Then we don't need the comment explaining why.",
        "createdAt" : "2020-04-14T21:44:42Z",
        "updatedAt" : "2020-04-16T09:58:56Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "3b2c03cf6227a236dd1b929501bb3fa2430c0dbd",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +126,130 @@     * We only expect one request in-flight a time during authentication so the small range is fine.\n     */\n    public static final int MIN_RESERVED_CORRELATION_ID = MAX_RESERVED_CORRELATION_ID - 7;\n\n    /**"
  },
  {
    "id" : "4b1ccec6-6256-473e-9857-b66f4bc6d216",
    "prId" : 9356,
    "prUrl" : "https://github.com/apache/kafka/pull/9356#pullrequestreview-499622249",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a41284ff-1eef-472a-80b9-20d23eafb0a6",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Should we fix server creation as well?",
        "createdAt" : "2020-09-30T16:29:07Z",
        "updatedAt" : "2020-09-30T16:47:27Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "de7c604b-ae9d-4368-8797-95ab9e4db2db",
        "parentId" : "a41284ff-1eef-472a-80b9-20d23eafb0a6",
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "@rajinisivaram good point.  It's now fixed.  All client tests pass locally.",
        "createdAt" : "2020-09-30T16:42:42Z",
        "updatedAt" : "2020-09-30T16:47:27Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      }
    ],
    "commit" : "85bde668e623fc79df628a7b9f03f0d698069cab",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +215,219 @@                log.debug(\"Creating SaslClient: client={};service={};serviceHostname={};mechs={}\",\n                    clientPrincipalName, servicePrincipal, host, Arrays.toString(mechs));\n                SaslClient retvalSaslClient = Sasl.createSaslClient(mechs, clientPrincipalName, servicePrincipal, host, configs, callbackHandler);\n                if (retvalSaslClient == null) {\n                    throw new SaslAuthenticationException(\"Failed to create SaslClient with mechanism \" + mechanism);"
  }
]