[
  {
    "id" : "38c3d335-46f1-4ed1-b55c-791852ceaba7",
    "prId" : 6884,
    "prUrl" : "https://github.com/apache/kafka/pull/6884#pullrequestreview-269171927",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "75bee0de-408b-43bc-8f05-5a5f64d3b017",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Before getting into eager semantics, maybe we can define high level what the rebalance protocol covers. Something like this perhaps:\r\n\r\n> The rebalance protocol defines partition assignment and revocation semantics. The purpose is to establish a consistent set of rules that all consumers in a group follow to transfer ownership of a partition.",
        "createdAt" : "2019-07-30T23:00:04Z",
        "updatedAt" : "2019-08-08T21:28:14Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "33fe5f85-6d4d-41f4-974a-81ee6d8d95fe",
        "parentId" : "75bee0de-408b-43bc-8f05-5a5f64d3b017",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Ack.",
        "createdAt" : "2019-07-31T17:36:31Z",
        "updatedAt" : "2019-08-08T21:28:14Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6041a792f58b0b9a38983a60e052e9018319a6e6",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +181,185 @@    }\n\n    /**\n     * The rebalance protocol defines partition assignment and revocation semantics. The purpose is to establish a\n     * consistent set of rules that all consumers in a group follow in order to transfer ownership of a partition."
  },
  {
    "id" : "c7ff1708-5930-4206-8189-d9bb57ef5868",
    "prId" : 7108,
    "prUrl" : "https://github.com/apache/kafka/pull/7108#pullrequestreview-266910378",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f8db6f24-b55f-46ec-b5f0-fba5fae8fe47",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "Why this class needs to be final?",
        "createdAt" : "2019-07-24T21:56:03Z",
        "updatedAt" : "2019-07-25T18:05:47Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "0ae46dfa-46c7-43a5-908d-1ad5ad7435bc",
        "parentId" : "f8db6f24-b55f-46ec-b5f0-fba5fae8fe47",
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "Seems safer, maybe in case users thought they could pass more data to assignor by extending this rather than as serialized subscriptionUserData ... doesn't *need* to be I guess",
        "createdAt" : "2019-07-25T22:08:22Z",
        "updatedAt" : "2019-07-25T22:08:22Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e8f3bc5998d975a2888493d114914fe101d291",
    "line" : 93,
    "diffHunk" : "@@ -1,1 +91,95 @@    String name();\n\n    final class Subscription {\n        private final List<String> topics;\n        private final ByteBuffer userData;"
  },
  {
    "id" : "ed0b7a8a-ee0f-40dc-b190-caf72dffea33",
    "prId" : 7108,
    "prUrl" : "https://github.com/apache/kafka/pull/7108#pullrequestreview-266348555",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0e124413-45d2-48ee-9a43-d494556ae0c0",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Since it's a new API, do we need all these constructors? ",
        "createdAt" : "2019-07-25T00:30:05Z",
        "updatedAt" : "2019-07-25T18:05:47Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e8f3bc5998d975a2888493d114914fe101d291",
    "line" : 99,
    "diffHunk" : "@@ -1,1 +97,101 @@        private Optional<String> groupInstanceId;\n\n        public Subscription(List<String> topics, ByteBuffer userData, List<TopicPartition> ownedPartitions) {\n            this.topics = topics;\n            this.userData = userData;"
  },
  {
    "id" : "c2151c99-758b-4682-b015-ac980a4836e1",
    "prId" : 7108,
    "prUrl" : "https://github.com/apache/kafka/pull/7108#pullrequestreview-266307634",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fd04af7e-8acf-468f-b115-ca5057f76672",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "Also add `@params topics`",
        "createdAt" : "2019-07-25T06:10:50Z",
        "updatedAt" : "2019-07-25T18:05:47Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e8f3bc5998d975a2888493d114914fe101d291",
    "line" : 49,
    "diffHunk" : "@@ -1,1 +47,51 @@     * @return optional join subscription user data\n     */\n    default ByteBuffer subscriptionUserData(Set<String> topics) {\n        return null;\n    }"
  },
  {
    "id" : "70b490f6-074f-40ef-9791-42f6daec47fe",
    "prId" : 7108,
    "prUrl" : "https://github.com/apache/kafka/pull/7108#pullrequestreview-266307634",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f5911863-3f9e-4ffa-8e00-19b2a175431e",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "s/assignment/assignments",
        "createdAt" : "2019-07-25T06:12:05Z",
        "updatedAt" : "2019-07-25T18:05:47Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e8f3bc5998d975a2888493d114914fe101d291",
    "line" : 57,
    "diffHunk" : "@@ -1,1 +55,59 @@     * @param metadata Current topic/broker metadata known by consumer\n     * @param subscriptions Subscriptions from all members including metadata provided through {@link #subscriptionUserData(Set)}\n     * @return A map from the members to their respective assignment. This should have one entry\n     *         for each member in the input subscription map.\n     */"
  },
  {
    "id" : "3bfa7a77-6bb6-4e5b-a35d-940eb9714c54",
    "prId" : 7108,
    "prUrl" : "https://github.com/apache/kafka/pull/7108#pullrequestreview-266307634",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8870621e-d2a3-4ea6-979f-a8f99265a23c",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "nit: remove `which is`",
        "createdAt" : "2019-07-25T06:12:44Z",
        "updatedAt" : "2019-07-25T18:05:47Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e8f3bc5998d975a2888493d114914fe101d291",
    "line" : 63,
    "diffHunk" : "@@ -1,1 +61,65 @@\n    /**\n     * Callback which is invoked when a group member receives its assignment from the leader.\n     * @param assignment The local member's assignment as provided by the leader in {@link #assign(Cluster, GroupSubscription)}\n     * @param metadata Additional metadata on the consumer (optional)"
  },
  {
    "id" : "54fd7a30-36d5-40b3-9d8e-e56b1378959a",
    "prId" : 7108,
    "prUrl" : "https://github.com/apache/kafka/pull/7108#pullrequestreview-266307634",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c55d6718-52f2-4cc6-b227-3c55283944a0",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "This comment is not needed.",
        "createdAt" : "2019-07-25T06:13:25Z",
        "updatedAt" : "2019-07-25T18:05:47Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e8f3bc5998d975a2888493d114914fe101d291",
    "line" : 72,
    "diffHunk" : "@@ -1,1 +70,74 @@    /**\n     * Indicate which rebalance protocol this assignor works with;\n     * By default it should always work with {@link RebalanceProtocol#EAGER}.\n     */\n    default List<RebalanceProtocol> supportedProtocols() {"
  },
  {
    "id" : "15b0ead7-0b31-4ba0-8228-869454a5d994",
    "prId" : 7108,
    "prUrl" : "https://github.com/apache/kafka/pull/7108#pullrequestreview-266307634",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cb5521b0-8c89-4c2d-8dd8-fa84dea7e900",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "s/protocol/protocols",
        "createdAt" : "2019-07-25T06:13:59Z",
        "updatedAt" : "2019-07-25T18:05:47Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e8f3bc5998d975a2888493d114914fe101d291",
    "line" : 71,
    "diffHunk" : "@@ -1,1 +69,73 @@\n    /**\n     * Indicate which rebalance protocol this assignor works with;\n     * By default it should always work with {@link RebalanceProtocol#EAGER}.\n     */"
  },
  {
    "id" : "68ae955c-934a-40f2-9a80-0561c294fb1f",
    "prId" : 7108,
    "prUrl" : "https://github.com/apache/kafka/pull/7108#pullrequestreview-266850471",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ecd19a01-d3bd-4135-9741-295a97180124",
        "parentId" : null,
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "What are the purposes of `GroupSubscription` and `GroupAssignment` classes?",
        "createdAt" : "2019-07-25T06:16:31Z",
        "updatedAt" : "2019-07-25T18:05:47Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "bf26d1dd-5054-4c79-b912-ef78833d66d3",
        "parentId" : "ecd19a01-d3bd-4135-9741-295a97180124",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "This is for possible future extensibility if we want to add new fields: with raw types (map) we'd have to change the signature of the API.",
        "createdAt" : "2019-07-25T19:56:18Z",
        "updatedAt" : "2019-07-25T19:56:19Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "20e8f3bc5998d975a2888493d114914fe101d291",
    "line" : 157,
    "diffHunk" : "@@ -1,1 +155,159 @@    }\n\n    final class GroupSubscription {\n        private final Map<String, Subscription> subscriptions;\n"
  },
  {
    "id" : "f225d5dd-bef6-46af-a70e-3f20e734a841",
    "prId" : 7110,
    "prUrl" : "https://github.com/apache/kafka/pull/7110#pullrequestreview-268114082",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ca976968-1994-4cdf-9646-e2d3dec89b29",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "By the way, what do you think about making the return type `Optional`?",
        "createdAt" : "2019-07-28T00:31:21Z",
        "updatedAt" : "2019-07-30T22:58:28Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "e755b06c-cb00-4acd-bca7-0998621d3e53",
        "parentId" : "ca976968-1994-4cdf-9646-e2d3dec89b29",
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "I'm not really a fan of it here, seems like it just adds noise when it's obviously optional given you have to explicitly override this to return anything. But I don't feel too strongly so it can be made Optional if that's preferred ",
        "createdAt" : "2019-07-29T18:18:05Z",
        "updatedAt" : "2019-07-30T22:58:28Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      },
      {
        "id" : "a007f45f-b185-473b-bb2d-59fe89de3841",
        "parentId" : "ca976968-1994-4cdf-9646-e2d3dec89b29",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Yeah, I don't feel strongly about it either. We can leave it as is. Maybe the javadoc could describe it as \"nullable\" instead of \"optional\" at least?",
        "createdAt" : "2019-07-29T18:47:57Z",
        "updatedAt" : "2019-07-30T22:58:28Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "96602961-acc5-4f2f-bef9-18ae679bdd60",
        "parentId" : "ca976968-1994-4cdf-9646-e2d3dec89b29",
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "+1 nullable",
        "createdAt" : "2019-07-29T20:14:15Z",
        "updatedAt" : "2019-07-30T22:58:28Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "67e9c8d4-3104-42b7-b2f9-888f4dc23ecd",
        "parentId" : "ca976968-1994-4cdf-9646-e2d3dec89b29",
        "authorId" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "body" : "Fair enough",
        "createdAt" : "2019-07-30T01:14:03Z",
        "updatedAt" : "2019-07-30T22:58:28Z",
        "lastEditedBy" : "d97f50bf-60f9-45b3-81a0-a24a5f42f740",
        "tags" : [
        ]
      }
    ],
    "commit" : "ee4f13479b72dfcad229df8a9113e21362094780",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +49,53 @@     * @return nullable subscription user data\n     */\n    default ByteBuffer subscriptionUserData(Set<String> topics) {\n        return null;\n    }"
  }
]