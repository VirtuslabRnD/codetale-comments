[
  {
    "id" : "d6ab14b7-ec74-4dac-a446-4c3bc62a483a",
    "prId" : 5087,
    "prUrl" : "https://github.com/apache/kafka/pull/5087#pullrequestreview-142907077",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dbf1ac1a-f77a-4ebe-bcca-dc509a77e1be",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Nice catch :)",
        "createdAt" : "2018-08-02T19:11:20Z",
        "updatedAt" : "2018-08-03T20:47:50Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ef469881a5e14aecbaa3dbe890d30335c2c75a8",
    "line" : 212,
    "diffHunk" : "@@ -1,1 +462,466 @@\n    private long trySend(long now) {\n        long pollDelayMs = maxPollTimeoutMs;\n\n        // send any requests that can be sent now"
  },
  {
    "id" : "18c78337-475b-49c4-acf5-40b8b195c725",
    "prId" : 6264,
    "prUrl" : "https://github.com/apache/kafka/pull/6264#pullrequestreview-209682482",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "42da0598-8986-4e92-8559-085fc4c299c2",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "I'm wondering if it is better to do the `client.ready()` check outside the `while` loop? If the client is not ready, it will not become ready during the while loop, and vice versa. WDYT @hachikuji ?",
        "createdAt" : "2019-02-14T17:45:15Z",
        "updatedAt" : "2019-02-14T17:45:15Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "2d95795a-d6aa-4611-9b0e-65c7538e6352",
        "parentId" : "42da0598-8986-4e92-8559-085fc4c299c2",
        "authorId" : "4840a860-2c17-4e4c-95aa-c72c4f9c3891",
        "body" : "Hi @guozhangwang, thank you for your review. IMHO, `client.ready()` also checks the number of in-flight requests. and the client will become not ready when the number of in-flight requests reaches `maxInFlightRequestsPerConnection`.",
        "createdAt" : "2019-02-15T02:05:30Z",
        "updatedAt" : "2019-02-15T02:05:30Z",
        "lastEditedBy" : "4840a860-2c17-4e4c-95aa-c72c4f9c3891",
        "tags" : [
        ]
      },
      {
        "id" : "55d3afbc-a704-4f10-8ab4-a4d6cc922e75",
        "parentId" : "42da0598-8986-4e92-8559-085fc4c299c2",
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "Good point. Makes sense.",
        "createdAt" : "2019-03-01T16:53:51Z",
        "updatedAt" : "2019-03-01T16:53:51Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      }
    ],
    "commit" : "d69a7607edf6ee1c03b1c817df13eb1da635214a",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +475,479 @@                    client.send(request, now);\n                    iterator.remove();\n                } else {\n                    // try next node when current node is not ready\n                    break;"
  }
]