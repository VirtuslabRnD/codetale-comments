[
  {
    "id" : "cd07fa22-595e-429e-b0dd-75601a2c9790",
    "prId" : 8486,
    "prUrl" : "https://github.com/apache/kafka/pull/8486#pullrequestreview-423054157",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9a940158-3c1a-40b2-9e27-e4b60e9dfe52",
        "parentId" : null,
        "authorId" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "body" : "For my own understanding: if endOffset is UNDEFINED the epoch should always be UNDEFINED too? If that's the case we can just rely on `leaderEpoch` alone?",
        "createdAt" : "2020-04-23T00:12:45Z",
        "updatedAt" : "2020-06-05T01:54:11Z",
        "lastEditedBy" : "eba565e8-e1d5-4749-9c9a-5d117de6c96c",
        "tags" : [
        ]
      },
      {
        "id" : "a6d5fd07-c350-4841-9678-bf961ed1a20f",
        "parentId" : "9a940158-3c1a-40b2-9e27-e4b60e9dfe52",
        "authorId" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "body" : "I just feel this check is stronger if later we change the behavior on broker.",
        "createdAt" : "2020-04-23T16:05:10Z",
        "updatedAt" : "2020-06-05T01:54:11Z",
        "lastEditedBy" : "3dfe0270-df82-43af-827f-0681ce1c6ad9",
        "tags" : [
        ]
      },
      {
        "id" : "b7b6a007-3cd7-469c-afb4-97ec6da79e99",
        "parentId" : "9a940158-3c1a-40b2-9e27-e4b60e9dfe52",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Older versions did not return the epoch, so it was possible to see an offset defined without an epoch. However, the version that the consumer relies on should always have both or neither. Anyway, I think it is reasonable to be a little stricter here.",
        "createdAt" : "2020-06-02T22:23:36Z",
        "updatedAt" : "2020-06-05T01:54:11Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "87ca234c395d1d0b0566269c4cd299da936d2cb3",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +87,91 @@\n    public boolean hasUndefinedEpochOrOffset() {\n        return this.endOffset == UNDEFINED_EPOCH_OFFSET ||\n            this.leaderEpoch == UNDEFINED_EPOCH;\n    }"
  }
]