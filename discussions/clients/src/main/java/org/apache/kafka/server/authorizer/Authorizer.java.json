[
  {
    "id" : "cbb8ebfe-112b-4211-ae4c-8257db7cdde1",
    "prId" : 9485,
    "prUrl" : "https://github.com/apache/kafka/pull/9485#pullrequestreview-545211375",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "adec4bb3-e0c0-4657-b9eb-5d8207867e6f",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "We should document what this default implementation does and why a custom implementation may want to override this default.",
        "createdAt" : "2020-11-18T22:58:26Z",
        "updatedAt" : "2020-12-18T13:57:43Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "a208aff5-4724-49e7-9548-4722ce2e503f",
        "parentId" : "adec4bb3-e0c0-4657-b9eb-5d8207867e6f",
        "authorId" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "body" : "Yes. Let's document this after we finally settle down all the implementations.",
        "createdAt" : "2020-11-30T04:48:19Z",
        "updatedAt" : "2020-12-18T13:57:43Z",
        "lastEditedBy" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "tags" : [
        ]
      },
      {
        "id" : "490ba4a0-96c8-454e-89bb-6fd8d659cd38",
        "parentId" : "adec4bb3-e0c0-4657-b9eb-5d8207867e6f",
        "authorId" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "body" : "commit 7af4a7ff7ed2dddc06cf11ab7ff2d4b9fee5fb56",
        "createdAt" : "2020-12-04T18:46:54Z",
        "updatedAt" : "2020-12-18T13:57:43Z",
        "lastEditedBy" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd620f4cc70d09def9304904e7fcf020fd1c406e",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +156,160 @@    /**\n     * Check if the caller is authorized to perform the given ACL operation on at least one\n     * resource of the given type.\n     *\n     * Custom authorizer implementations should consider overriding this default implementation because:"
  },
  {
    "id" : "b69bc768-6060-417e-880c-6a18908e35eb",
    "prId" : 9485,
    "prUrl" : "https://github.com/apache/kafka/pull/9485#pullrequestreview-533950499",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8be51703-6766-41f9-921b-e224c713f1a0",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "We should document what this default implementation does and why a custom implementation may want to override this default.",
        "createdAt" : "2020-11-18T22:58:26Z",
        "updatedAt" : "2020-12-18T13:57:43Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd620f4cc70d09def9304904e7fcf020fd1c406e",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +156,160 @@    /**\n     * Check if the caller is authorized to perform the given ACL operation on at least one\n     * resource of the given type.\n     *\n     * Custom authorizer implementations should consider overriding this default implementation because:"
  },
  {
    "id" : "2697afa1-98c1-476c-aea4-d25eb127ed68",
    "prId" : 9485,
    "prUrl" : "https://github.com/apache/kafka/pull/9485#pullrequestreview-553272549",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c4acf3ee-774f-4ebc-a47e-8e6eb0c43521",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "We don't currently have anything in the default implementation to support super.users right? Unlike `allow.everyone.if.no.acl.found` which is not particularly suitable for production use, `super.users` is a commonly used config that is likely to be in use in a lot of deployments. The simplest fix may be to `authorize()` with a hard-coded name and return ALLOWED if `authorize()` returns ALLOWED before any of the logic below is executed.",
        "createdAt" : "2020-12-14T22:07:06Z",
        "updatedAt" : "2020-12-18T13:57:43Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "704dd196-df84-4e09-b564-b5f816ba35bb",
        "parentId" : "c4acf3ee-774f-4ebc-a47e-8e6eb0c43521",
        "authorId" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "body" : "Good catch. This is super important.\r\n\r\ncommit dae1a78",
        "createdAt" : "2020-12-16T01:42:19Z",
        "updatedAt" : "2020-12-18T13:57:43Z",
        "lastEditedBy" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd620f4cc70d09def9304904e7fcf020fd1c406e",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +175,179 @@     */\n    default AuthorizationResult authorizeByResourceType(AuthorizableRequestContext requestContext, AclOperation op, ResourceType resourceType) {\n        SecurityUtils.authorizeByResourceTypeCheckArgs(op, resourceType);\n\n        // Check a hard-coded name to ensure that super users are granted"
  },
  {
    "id" : "c4778b69-7fa5-4531-94cc-2083be0c724a",
    "prId" : 9485,
    "prUrl" : "https://github.com/apache/kafka/pull/9485#pullrequestreview-555177652",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e9957b96-243f-4772-937a-54776b715f0e",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Add a comment to say that we check for one hard-coded name to ensure that super users are granted access regardless of DENY acls.",
        "createdAt" : "2020-12-17T17:47:45Z",
        "updatedAt" : "2020-12-18T13:57:43Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "5fe1de73-2092-481d-994f-ca95dec97336",
        "parentId" : "e9957b96-243f-4772-937a-54776b715f0e",
        "authorId" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "body" : "        // Check a hard-coded name to ensure that super users are granted\r\n        // access regardless of DENY ACLs.",
        "createdAt" : "2020-12-18T05:15:41Z",
        "updatedAt" : "2020-12-18T13:57:43Z",
        "lastEditedBy" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "tags" : [
        ]
      },
      {
        "id" : "b77965f4-f978-44d3-8ef2-f186ed05737d",
        "parentId" : "e9957b96-243f-4772-937a-54776b715f0e",
        "authorId" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "body" : "commit b6a766b",
        "createdAt" : "2020-12-18T05:15:56Z",
        "updatedAt" : "2020-12-18T13:57:43Z",
        "lastEditedBy" : "bb605074-6b7c-47bc-9e2f-a760f7e44ad8",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd620f4cc70d09def9304904e7fcf020fd1c406e",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +179,183 @@        // Check a hard-coded name to ensure that super users are granted\n        // access regardless of DENY ACLs.\n        if (authorize(requestContext, Collections.singletonList(new Action(\n                op, new ResourcePattern(resourceType, \"hardcode\", PatternType.LITERAL),\n                0, true, false)))"
  }
]