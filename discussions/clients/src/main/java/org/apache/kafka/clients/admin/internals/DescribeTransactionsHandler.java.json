[
  {
    "id" : "a37e71e4-2e8b-46a9-a1f2-0b76c3129ddf",
    "prId" : 10483,
    "prUrl" : "https://github.com/apache/kafka/pull/10483#pullrequestreview-634174944",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "47869e9f-beef-4c4a-9395-bf827877bbcb",
        "parentId" : null,
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "I would mention the error in the message.",
        "createdAt" : "2021-04-09T12:45:54Z",
        "updatedAt" : "2021-04-22T01:32:58Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      },
      {
        "id" : "547b7988-c5f2-4be6-8585-ccaa5e9a4353",
        "parentId" : "47869e9f-beef-4c4a-9395-bf827877bbcb",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "It is using `error.exception`. Do you think is not sufficient?",
        "createdAt" : "2021-04-10T00:02:17Z",
        "updatedAt" : "2021-04-22T01:32:58Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "3412aa05-e4e3-47e0-9a85-3f2877a37675",
        "parentId" : "47869e9f-beef-4c4a-9395-bf827877bbcb",
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "I was thinking about the case where the broker would send back an unknown error code to the client. In those cases, it is useful to have a trace of it as `error.exception` will result in an `UnknownServerException`. I don't feel strong about it though but only thought that this could be useful.",
        "createdAt" : "2021-04-12T15:11:30Z",
        "updatedAt" : "2021-04-22T01:32:58Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      },
      {
        "id" : "c647220b-8ff5-4872-b7f5-d448ccd20434",
        "parentId" : "47869e9f-beef-4c4a-9395-bf827877bbcb",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "We lose the underlying error code when we convert it to `Errors.UNKNOWN_SERVER_ERROR`. I debated a refactor to pass through the code as well, but decided against it in the end, though not for any particularly strong reason. At least we do log a warning in the conversion.",
        "createdAt" : "2021-04-13T04:58:57Z",
        "updatedAt" : "2021-04-22T01:32:58Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      }
    ],
    "commit" : "05155a22d065e9e7e6f165d40555269902e6abec",
    "line" : 185,
    "diffHunk" : "@@ -1,1 +183,187 @@            default:\n                failed.put(transactionalIdKey, error.exception(\"DescribeTransactions request for \" +\n                    \"transactionalId `\" + transactionalIdKey.idValue + \"` failed due to unexpected error\"));\n        }\n    }"
  }
]