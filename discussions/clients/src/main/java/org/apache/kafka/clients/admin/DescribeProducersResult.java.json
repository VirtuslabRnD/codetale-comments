[
  {
    "id" : "a0eec917-ed21-42c5-b8a2-ee7c2309dc05",
    "prId" : 10275,
    "prUrl" : "https://github.com/apache/kafka/pull/10275#pullrequestreview-618180685",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2a34e859-b1e8-4074-9090-b384290c9c4d",
        "parentId" : null,
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "Could we change the modifier from public to package-private? Exposing this constructor to users is useless.",
        "createdAt" : "2021-03-08T17:58:41Z",
        "updatedAt" : "2021-03-25T00:52:33Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      },
      {
        "id" : "27ae832d-2c19-41c4-ba79-dd0f588c8a61",
        "parentId" : "2a34e859-b1e8-4074-9090-b384290c9c4d",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I need it public because the handler is in `admin.internals`. This might be a pattern that has to give way if we want to externalize some of the admin logic rather than packing it all into `KafkaAdminClient`. I'll try to consider some other options.\r\n\r\nI am not sure I would call it \"useless\" by the way. It is helpful when you need to mock the admin client. Of course users can always mock `PartitionProducerState` as well, though it gets tedious for property classes.",
        "createdAt" : "2021-03-09T07:50:08Z",
        "updatedAt" : "2021-03-25T00:52:34Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "9b6b4251-eb00-446d-8cb0-5873ee69ca51",
        "parentId" : "2a34e859-b1e8-4074-9090-b384290c9c4d",
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "I do agree it is useful for testing but he public constructors need release cycles to deprecate. If we want to add more data in the future, the (exposed) public constructor can make trouble to us.\r\n\r\n\r\n> I need it public because the handler is in admin.internals. This might be a pattern that has to give way if we want to externalize some of the admin logic rather than packing it all into KafkaAdminClient. I'll try to consider some other options.\r\n\r\nI like to use annotation `@InterfaceStability.Evolving` if we all agree that it give us \"rights\" to break APIs in minor release. For example, add `@InterfaceStability.Evolving` to the public constructor.",
        "createdAt" : "2021-03-09T08:08:20Z",
        "updatedAt" : "2021-03-25T00:52:34Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      },
      {
        "id" : "18dd728d-2b34-4656-9552-114578614bc1",
        "parentId" : "2a34e859-b1e8-4074-9090-b384290c9c4d",
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "There is actually a KIP debating this tradeoff: https://cwiki.apache.org/confluence/display/KAFKA/KIP-692%3A+Make+AdminClient+value+object+constructors+public. Personally, I am a bit conservative on this one for the reason mentioned by @chia7712.",
        "createdAt" : "2021-03-16T08:15:14Z",
        "updatedAt" : "2021-03-25T00:52:34Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      },
      {
        "id" : "e375a96f-b922-490a-973f-2da853643676",
        "parentId" : "2a34e859-b1e8-4074-9090-b384290c9c4d",
        "authorId" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "body" : "just notice that there is a class `AdminClientTestUtils` which is used to create those results for testing. Maybe we can change the modifier from public to package-private and then add a helper method to `AdminClientTestUtils` to create `PartitionProducerState`/`DescribeProducersResult` if test code needs it.",
        "createdAt" : "2021-03-23T03:42:13Z",
        "updatedAt" : "2021-03-25T00:52:34Z",
        "lastEditedBy" : "0f776378-bb23-4193-9bb0-1db5973f3781",
        "tags" : [
        ]
      }
    ],
    "commit" : "237e8ecb9a9fe7e8311f181191f7d6a1c68b57ab",
    "line" : 67,
    "diffHunk" : "@@ -1,1 +65,69 @@        private final List<ProducerState> activeProducers;\n\n        public PartitionProducerState(List<ProducerState> activeProducers) {\n            this.activeProducers = activeProducers;\n        }"
  }
]