[
  {
    "id" : "cb12ea7e-71e9-4bfb-be5b-11723879176b",
    "prId" : 4488,
    "prUrl" : "https://github.com/apache/kafka/pull/4488#pullrequestreview-93799577",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1ee49b9f-2278-41c9-8247-4ad84459585e",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "It seems now the mechanisms are passed in the keys of this map, so does that mean we can remove the `clientSaslMechanism` argument and infer `hasKerberos` above from the map?",
        "createdAt" : "2018-02-01T16:58:10Z",
        "updatedAt" : "2018-02-04T02:11:57Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "d5e82031-2f20-450d-b23e-c6d59c57a12c",
        "parentId" : "1ee49b9f-2278-41c9-8247-4ad84459585e",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "I think we need `clientSaslMechanism` since for servers, there can be multiple entries in the map and one `clientSaslMechanism`. I have simplified `hasKerberos`, but again I think we need it for brokers.",
        "createdAt" : "2018-02-02T18:44:22Z",
        "updatedAt" : "2018-02-04T02:11:57Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "ca56fbf1-0434-48a6-9aa9-b48502361f2f",
        "parentId" : "1ee49b9f-2278-41c9-8247-4ad84459585e",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I am probably missing something, but it seems like we pass null as the `clientMechanism` for servers. For clients, we use a singleton map with the entry key equal to the `clientMechanism`, so that's why I thought it was redundant.",
        "createdAt" : "2018-02-02T19:09:48Z",
        "updatedAt" : "2018-02-04T02:11:57Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "45f8d3e2-5add-4fab-bf3c-1b856800c732",
        "parentId" : "1ee49b9f-2278-41c9-8247-4ad84459585e",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Clients have a singleton jaas config map. Brokers making a server connection may have multiple entries in the jaas config map and `clientMechanism` is null. Brokers making a client connection for inter-broker communication may have multiple entries in the jaas config map and a non-null client mechanism.",
        "createdAt" : "2018-02-03T01:14:04Z",
        "updatedAt" : "2018-02-04T02:11:57Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "a0488d78e0ea02c3ddde1a31f6c1e0613a443e3d",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +109,113 @@            }\n            for (Map.Entry<String, JaasContext> entry : jaasContexts.entrySet()) {\n                String mechanism = entry.getKey();\n                // With static JAAS configuration, use KerberosLogin if Kerberos is enabled. With dynamic JAAS configuration,\n                // use KerberosLogin only for the LoginContext corresponding to GSSAPI"
  }
]