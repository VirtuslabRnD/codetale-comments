[
  {
    "id" : "1d9928e8-c29b-4955-b837-8bdddc631669",
    "prId" : 7839,
    "prUrl" : "https://github.com/apache/kafka/pull/7839#pullrequestreview-333658317",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cd7081cf-364d-4020-8770-a16364ea0d85",
        "parentId" : null,
        "authorId" : "e61d770a-e328-41b4-b8c3-6a769370680c",
        "body" : "I think we need a unit test that passes mock Metrics to C'tor and validates the number of addMetric and removeMetric match. Otherwise we may introduce a new memory leak in future.",
        "createdAt" : "2019-12-17T01:41:52Z",
        "updatedAt" : "2019-12-18T22:45:32Z",
        "lastEditedBy" : "e61d770a-e328-41b4-b8c3-6a769370680c",
        "tags" : [
        ]
      },
      {
        "id" : "d9090968-4645-4d6b-905d-ddcdd038824f",
        "parentId" : "cd7081cf-364d-4020-8770-a16364ea0d85",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "Agreed.  I added a test.",
        "createdAt" : "2019-12-17T23:59:48Z",
        "updatedAt" : "2019-12-18T22:45:32Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "c4b236d66195cdc83038a9f5bde3539fcdbf750b",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +81,85 @@\n    @Override\n    public void close() {\n        metrics.removeMetric(lastPollMetricName);\n        metrics.removeSensor(timeBetweenPollSensor.name());"
  }
]