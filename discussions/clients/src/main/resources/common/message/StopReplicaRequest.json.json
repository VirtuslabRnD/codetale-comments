[
  {
    "id" : "93b2daeb-847f-4a86-ae82-f7e37d08fdeb",
    "prId" : 8257,
    "prUrl" : "https://github.com/apache/kafka/pull/8257#pullrequestreview-375927883",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b3f106ca-71e9-4d42-8b91-d1ce3f676686",
        "parentId" : null,
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "ðŸ‘€ During the implementation, I have realized that the schema which has been proposed in the KIP does not work (my mistake). I propose to use the following schema instead. This schema will allow us to add more fields in the future. If the reviewer agree with this, I will update the KIP and and the VOTE thread.",
        "createdAt" : "2020-03-09T14:23:26Z",
        "updatedAt" : "2020-04-14T13:16:08Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      },
      {
        "id" : "d817e8c5-9f46-456c-89bb-c7805137a936",
        "parentId" : "b3f106ca-71e9-4d42-8b91-d1ce3f676686",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Yes, it makes sense to me. This is what I had assumed was in the KIP, but I guess I didn't look carefully enough.",
        "createdAt" : "2020-03-16T22:20:43Z",
        "updatedAt" : "2020-04-14T13:16:08Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "f0a1c64e-f2d7-4b5f-9cb9-d543b11d88f0",
        "parentId" : "b3f106ca-71e9-4d42-8b91-d1ce3f676686",
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "Perfect, thanks. I will update the KIP accordingly.",
        "createdAt" : "2020-03-17T10:56:45Z",
        "updatedAt" : "2020-04-14T13:16:08Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      }
    ],
    "commit" : "49360d6d46bf292c7b9a774be923073fd049c19d",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +17,21 @@  \"apiKey\": 5,\n  \"type\": \"request\",\n  \"name\": \"StopReplicaRequest\",\n  // Version 1 adds the broker epoch and reorganizes the partitions to be stored\n  // per topic."
  },
  {
    "id" : "9f6df958-bda3-44b0-89b3-693c6a3d18d9",
    "prId" : 8257,
    "prUrl" : "https://github.com/apache/kafka/pull/8257#pullrequestreview-381350508",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bc6d1905-4324-47b5-818a-a7bb92535a49",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "It's a bit annoying that the `DeletePartitions` flag is set at the top level. It would be nice to move that into the partition state. A KIP for another day I guess...",
        "createdAt" : "2020-03-17T00:06:35Z",
        "updatedAt" : "2020-04-14T13:16:08Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "9528f305-677d-4aaa-b038-b7e61d5f9153",
        "parentId" : "bc6d1905-4324-47b5-818a-a7bb92535a49",
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "Yes. I totally agree with you. It would avoid us to always send out two StopReplicaRequests. I almost did it directly but I thought that it would stretch the KIP too far perhaps.  What do you think? Shall we do it directly? Anyway, we should do it before 2.6 is released in order to avoid bumping the API twice. I am fine with both ways.",
        "createdAt" : "2020-03-17T10:21:40Z",
        "updatedAt" : "2020-04-14T13:16:08Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      },
      {
        "id" : "6837e562-bc36-4d22-9555-2ad49d93874f",
        "parentId" : "bc6d1905-4324-47b5-818a-a7bb92535a49",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "I'd suggest sending a message to the vote thread and ask what others think about the change. It seems like a no-brainer improvement to me, so maybe we don't need the overhead of doing another KIP.",
        "createdAt" : "2020-03-25T01:09:20Z",
        "updatedAt" : "2020-04-14T13:16:08Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "4fe6b59c-b4dc-4c1e-bec9-58f2a770869c",
        "parentId" : "bc6d1905-4324-47b5-818a-a7bb92535a49",
        "authorId" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "body" : "Done. I have also implemented it directly ;)",
        "createdAt" : "2020-03-25T17:00:00Z",
        "updatedAt" : "2020-04-14T13:16:08Z",
        "lastEditedBy" : "59ca7821-b29c-4f24-a9d5-cbd394145686",
        "tags" : [
        ]
      }
    ],
    "commit" : "49360d6d46bf292c7b9a774be923073fd049c19d",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +53,57 @@      { \"name\": \"TopicName\", \"type\": \"string\", \"versions\": \"3+\", \"entityType\": \"topicName\",\n        \"about\": \"The topic name.\" },\n      { \"name\": \"PartitionStates\", \"type\": \"[]StopReplicaPartitionState\", \"versions\": \"3+\",\n        \"about\": \"The state of each partition\", \"fields\": [\n        { \"name\": \"PartitionIndex\", \"type\": \"int32\", \"versions\": \"3+\","
  }
]