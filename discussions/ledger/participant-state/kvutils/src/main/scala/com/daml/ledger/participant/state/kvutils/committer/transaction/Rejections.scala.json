[
  {
    "id" : "10ce36be-35cc-4c9e-8550-62446508de91",
    "prId" : 10454,
    "prUrl" : "https://github.com/digital-asset/daml/pull/10454#pullrequestreview-720175538",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "575132ce-3446-4c48-acb3-31206a2e52ca",
        "parentId" : null,
        "authorId" : "2a803e3e-0f8e-44e8-a99a-06dffc638187",
        "body" : "wouldn't it make more sense for this description to be derived from the entry itself? With time there's a chance that we update only one of them and it creates very confusing logs.",
        "createdAt" : "2021-08-02T11:54:35Z",
        "updatedAt" : "2021-08-02T11:56:31Z",
        "lastEditedBy" : "2a803e3e-0f8e-44e8-a99a-06dffc638187",
        "tags" : [
        ]
      },
      {
        "id" : "797dbeb6-cb66-4994-8d98-3ab368a8fac8",
        "parentId" : "575132ce-3446-4c48-acb3-31206a2e52ca",
        "authorId" : "1d70ec7b-8793-4cc6-95c8-fac6f7816dcc",
        "body" : "This overload is used only by the deduplication check that doesn't have a dedicated reason object. @SamirTalwar-DA is it better to add a reason for deduplication?",
        "createdAt" : "2021-08-02T12:06:15Z",
        "updatedAt" : "2021-08-02T12:19:21Z",
        "lastEditedBy" : "1d70ec7b-8793-4cc6-95c8-fac6f7816dcc",
        "tags" : [
        ]
      },
      {
        "id" : "6d875a94-4712-481d-9dd6-c5d8551b0f3a",
        "parentId" : "575132ce-3446-4c48-acb3-31206a2e52ca",
        "authorId" : "181bcece-33df-41af-887d-5d5f51beb543",
        "body" : "Yes, but there's much larger changes to be made here to represent _all_ possible rejection reasons in a structured manner. I suggest we do it with a bit of up-front design as we need to support anything that gets written to the ledger.",
        "createdAt" : "2021-08-02T12:58:28Z",
        "updatedAt" : "2021-08-02T12:58:28Z",
        "lastEditedBy" : "181bcece-33df-41af-887d-5d5f51beb543",
        "tags" : [
        ]
      },
      {
        "id" : "651ecc39-219f-468f-a3ea-f939b6fa17d5",
        "parentId" : "575132ce-3446-4c48-acb3-31206a2e52ca",
        "authorId" : "1d70ec7b-8793-4cc6-95c8-fac6f7816dcc",
        "body" : "Alright, I suspected as much. I'll leave it as it is for now.",
        "createdAt" : "2021-08-02T13:01:44Z",
        "updatedAt" : "2021-08-02T13:01:45Z",
        "lastEditedBy" : "1d70ec7b-8793-4cc6-95c8-fac6f7816dcc",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d8e75c2986d1e79449ead2e195108cea03e7c08",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +40,44 @@  def reject[A](\n      rejectionEntry: DamlTransactionRejectionEntry.Builder,\n      rejectionDescription: String,\n      recordTime: Option[Timestamp],\n  )(implicit loggingContext: LoggingContext): StepResult[A] = {"
  },
  {
    "id" : "8cbedaee-e5db-487c-bd0d-577f8293694f",
    "prId" : 10454,
    "prUrl" : "https://github.com/digital-asset/daml/pull/10454#pullrequestreview-720129745",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "23023328-dc2f-4bb3-b117-1869fd4d0ee1",
        "parentId" : null,
        "authorId" : "2a803e3e-0f8e-44e8-a99a-06dffc638187",
        "body" : "Would pre-execution still call this step and have the log produced? Or does it follow another code path?",
        "createdAt" : "2021-08-02T11:56:26Z",
        "updatedAt" : "2021-08-02T11:56:31Z",
        "lastEditedBy" : "2a803e3e-0f8e-44e8-a99a-06dffc638187",
        "tags" : [
        ]
      },
      {
        "id" : "a582f49c-cf7f-42f5-86d3-6d011be0e905",
        "parentId" : "23023328-dc2f-4bb3-b117-1869fd4d0ee1",
        "authorId" : "1d70ec7b-8793-4cc6-95c8-fac6f7816dcc",
        "body" : "No, pre-execution (i.e., when there is no record time, the code path is not super-obvious indeed) calls directly the function below as it justs pre-computes a rejection entry for post-execution to _potentially_ use (because the time check is done at post-execution, when the record time is finally determined).",
        "createdAt" : "2021-08-02T12:09:01Z",
        "updatedAt" : "2021-08-02T12:14:20Z",
        "lastEditedBy" : "1d70ec7b-8793-4cc6-95c8-fac6f7816dcc",
        "tags" : [
        ]
      }
    ],
    "commit" : "7d8e75c2986d1e79449ead2e195108cea03e7c08",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +44,48 @@  )(implicit loggingContext: LoggingContext): StepResult[A] = {\n    Metrics.rejections(rejectionEntry.getReasonCase.getNumber).inc()\n    logger.trace(s\"Transaction rejected, $rejectionDescription.\")\n    StepStop(\n      buildLogEntryWithOptionalRecordTime("
  }
]