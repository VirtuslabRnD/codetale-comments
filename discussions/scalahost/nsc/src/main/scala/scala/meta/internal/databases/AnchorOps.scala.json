[
  {
    "id" : "d33b39f9-e7ba-4b5d-8ff4-abb7c0fb4c4b",
    "prId" : 808,
    "prUrl" : "https://github.com/scalameta/scalameta/pull/808#pullrequestreview-35254305",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ce7e849b-9a24-4976-9348-47208b878228",
        "parentId" : null,
        "authorId" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "body" : "This line is problematic, I hit on an error (with stacktrace https://gist.github.com/olafurpg/aa8a42c186bce4e51d79e637420b60bf) which I suspect was caused by a for-comprehension. The culprit code looked something like \r\n```scala\r\n    val patches = for {\r\n      s <- mirror.database.sources\r\n      (Anchor(_, start, _), sugar) <- s.sugars\r\n      if !sugar.startsWith(\"[\")\r\n      patch <- tokensByOffset.get(start).toList.map {\r\n        case tok @ Trivia() =>\r\n          ctx.addLeft(tok, sugar.trimSugar)\r\n        case tok =>\r\n          ctx.addRight(tok, sugar.trimSugar)\r\n      }\r\n    } yield patch\r\n```",
        "createdAt" : "2017-04-26T13:46:11Z",
        "updatedAt" : "2017-04-30T04:14:02Z",
        "lastEditedBy" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "tags" : [
        ]
      },
      {
        "id" : "95e2d38f-e386-48af-9392-85400e3ddc3b",
        "parentId" : "ce7e849b-9a24-4976-9348-47208b878228",
        "authorId" : "56d6821a-439f-4d87-aba8-a6368926dbc5",
        "body" : "This is a bug in scalahost. We shouldn't get here with a non-range position.",
        "createdAt" : "2017-04-28T00:29:59Z",
        "updatedAt" : "2017-04-30T04:14:02Z",
        "lastEditedBy" : "56d6821a-439f-4d87-aba8-a6368926dbc5",
        "tags" : [
        ]
      }
    ],
    "commit" : "ac448f5c9b3250ede75f1d0a84fb0a036943da36",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +23,27 @@  implicit class XtensionGPositionAnchor(pos: GPosition) {\n    def toAnchor: m.Anchor = {\n      assert(pos.isRange)\n      m.Anchor(pos.source.toAbsolutePath, pos.start, pos.end)\n    }"
  }
]