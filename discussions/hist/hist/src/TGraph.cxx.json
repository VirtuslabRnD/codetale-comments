[
  {
    "id" : "5be5a73e-2613-4f9c-a28a-af11831a5429",
    "prId" : 6493,
    "prUrl" : "https://github.com/root-project/root/pull/6493#pullrequestreview-498485808",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "60ac1900-a4a0-4a82-9425-ffca75b6a331",
        "parentId" : null,
        "authorId" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "body" : "This is very dubious .. This is a global setting and thus affect the behavior of independent threads (that no longer add the histogram to the current file as the user would expect).\r\n```\r\n{ \r\n    TDirectory::TContext ctxt(nullptr); // Set the thread local gDirectory to nullptr, hence preventing the registration of the new histogram.\r\n    ((TGraph*)this)->fHistogram = new TH1F(gname, GetTitle(), npt, rwxmin, rwxmax);\r\n}\r\n```\r\nis likely a better alternative.",
        "createdAt" : "2020-09-29T13:45:37Z",
        "updatedAt" : "2020-09-29T13:46:48Z",
        "lastEditedBy" : "335eabbd-4b70-43fb-a046-bf82995f5dd3",
        "tags" : [
        ]
      }
    ],
    "commit" : "a6cdd42f83f3378e143b169c06a2bc16ff1a0326",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +1547,1551 @@   if (!gname[0]) gname = \"Graph\";\n   // do not add the histogram to gDirectory\n   Bool_t addStatus = TH1::AddDirectoryStatus();\n   TH1::AddDirectory(kFALSE);\n   ((TGraph*)this)->fHistogram = new TH1F(gname, GetTitle(), npt, rwxmin, rwxmax);"
  }
]