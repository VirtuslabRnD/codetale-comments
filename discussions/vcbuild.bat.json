[
  {
    "id" : "305e8be0-9f12-4846-b1c4-e6bc09de5a2a",
    "prId" : 11537,
    "prUrl" : "https://github.com/nodejs/node/pull/11537#pullrequestreview-23858621",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "680ee432-0895-4138-ac0a-5ef5622d80a2",
        "parentId" : null,
        "authorId" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "body" : "Would this be a `semver-major` change? I'm not really sure how we treat breaking tooling changes.",
        "createdAt" : "2017-02-24T12:06:50Z",
        "updatedAt" : "2017-02-24T12:06:53Z",
        "lastEditedBy" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "tags" : [
        ]
      },
      {
        "id" : "484f64b1-f0d7-42dc-82a9-e7313fab70b7",
        "parentId" : "680ee432-0895-4138-ac0a-5ef5622d80a2",
        "authorId" : "b1a4a0f2-58c2-41e0-b6c5-23498746e59f",
        "body" : "https://github.com/nodejs/node/pull/10156 was `semver-major`, so I guess this one is too. I'd be fine with that though since `vcbuild` is mostly used to build master anyway.",
        "createdAt" : "2017-02-24T13:18:51Z",
        "updatedAt" : "2017-02-24T13:20:38Z",
        "lastEditedBy" : "b1a4a0f2-58c2-41e0-b6c5-23498746e59f",
        "tags" : [
        ]
      },
      {
        "id" : "00fc9b01-38c3-4e09-93b5-281b9e11ef85",
        "parentId" : "680ee432-0895-4138-ac0a-5ef5622d80a2",
        "authorId" : "317a40c8-118b-468d-95af-c54d45832d8a",
        "body" : "Is it possible to detect if the OS is 64-bit like the Makefile does on the Unix platforms?",
        "createdAt" : "2017-02-24T22:59:00Z",
        "updatedAt" : "2017-02-24T22:59:00Z",
        "lastEditedBy" : "317a40c8-118b-468d-95af-c54d45832d8a",
        "tags" : [
        ]
      },
      {
        "id" : "d72a48fd-0a57-4c32-9c43-7394556df208",
        "parentId" : "680ee432-0895-4138-ac0a-5ef5622d80a2",
        "authorId" : "317a40c8-118b-468d-95af-c54d45832d8a",
        "body" : "The `configure` script checks some environment variables on Windows: https://github.com/nodejs/node/blob/master/configure#L735-L748",
        "createdAt" : "2017-02-24T23:03:43Z",
        "updatedAt" : "2017-02-24T23:03:43Z",
        "lastEditedBy" : "317a40c8-118b-468d-95af-c54d45832d8a",
        "tags" : [
        ]
      },
      {
        "id" : "c3f3a095-fb3e-41df-be69-0dcfab6b9a2f",
        "parentId" : "680ee432-0895-4138-ac0a-5ef5622d80a2",
        "authorId" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "body" : "I'm not sure it's necessary to detect whether the OS is 64-bit, defaulting to 64-bit seems reasonable and straightforward.\r\n\r\nDetecting the ARCH from environment variables seems flaky, and what you really want is to be sure that you're going to get 64/32 bit reliably. I think anyone building 32-bit is probably aware that they'll have to set something.\r\n\r\ncc/ @nodejs/platform-windows ",
        "createdAt" : "2017-02-25T07:51:33Z",
        "updatedAt" : "2017-02-25T07:54:32Z",
        "lastEditedBy" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "tags" : [
        ]
      },
      {
        "id" : "c6da21bc-0f85-4916-af5f-b9b898872174",
        "parentId" : "680ee432-0895-4138-ac0a-5ef5622d80a2",
        "authorId" : "b1a4a0f2-58c2-41e0-b6c5-23498746e59f",
        "body" : "I agree, it's better to have the same behavior independent of the platform.",
        "createdAt" : "2017-02-25T12:08:40Z",
        "updatedAt" : "2017-02-25T12:08:40Z",
        "lastEditedBy" : "b1a4a0f2-58c2-41e0-b6c5-23498746e59f",
        "tags" : [
        ]
      },
      {
        "id" : "ab6f9ae2-33ef-4dd6-b585-51a2d4edddae",
        "parentId" : "680ee432-0895-4138-ac0a-5ef5622d80a2",
        "authorId" : "317a40c8-118b-468d-95af-c54d45832d8a",
        "body" : "Will it be obvious why the build fails if run on 32-bit Windows? ¯\\_(ツ)_/¯\r\n\r\nIn any case #11500 points out that specifying the architecture is currently undocumented regardless of whatever the default is.",
        "createdAt" : "2017-02-25T14:02:58Z",
        "updatedAt" : "2017-02-25T14:02:58Z",
        "lastEditedBy" : "317a40c8-118b-468d-95af-c54d45832d8a",
        "tags" : [
        ]
      }
    ],
    "commit" : "d242ce9fb55f489f2af45131e568723a15211962",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +15,19 @@set config=Release\nset target=Build\nset target_arch=x64\nset target_env=\nset noprojgen="
  },
  {
    "id" : "a219c5c3-72f1-4bf4-9738-8164392b3823",
    "prId" : 13969,
    "prUrl" : "https://github.com/nodejs/node/pull/13969#pullrequestreview-47481389",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "89a69bd7-a348-4a7e-bc9c-223dead8cddd",
        "parentId" : null,
        "authorId" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "body" : "Is there a reason the `goto` is needed? If it's only used in this one function can't you just do:\r\n\r\n```diff\r\n if \"%DISTTYPE%\"==\"release\" (\r\n     set FULLVERSION=%NODE_VERSION%\r\n+   if not defined DISTTYPEDIR set DISTTYPEDIR=%DISTTYPE%\r\n   exit /b 0\r\n```\r\n\r\n```diff\r\n)\r\nset FULLVERSION=%NODE_VERSION%-%TAG%\r\n+if not defined DISTTYPEDIR set DISTTYPEDIR=%DISTTYPE%\r\n```\r\n\r\nIt's ~possible~ probable I'm misunderstanding some of the subtleties of this script.",
        "createdAt" : "2017-06-29T23:11:09Z",
        "updatedAt" : "2017-06-30T20:14:05Z",
        "lastEditedBy" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "tags" : [
        ]
      },
      {
        "id" : "9579027c-9c40-443b-8c86-0b9e0ca7e803",
        "parentId" : "89a69bd7-a348-4a7e-bc9c-223dead8cddd",
        "authorId" : "426b14d4-8a1e-4a81-965c-6289b233c480",
        "body" : "The two implementations are functionally the same.\r\n\r\nHere the idea is to have two parts: first do checks and set variables depending on the DISTTYPE, then goto a common block for all DISTTYPEs that may depend on the variables set above. I prefer the current change as it avoids duplicating the same `set`, but no strong feelings.",
        "createdAt" : "2017-06-30T18:52:09Z",
        "updatedAt" : "2017-06-30T20:14:05Z",
        "lastEditedBy" : "426b14d4-8a1e-4a81-965c-6289b233c480",
        "tags" : [
        ]
      },
      {
        "id" : "1a306e37-75fa-4f40-8a5c-353b08ada300",
        "parentId" : "89a69bd7-a348-4a7e-bc9c-223dead8cddd",
        "authorId" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "body" : "I think at some point the subroutine was used more than once... Now it's a degenerate label, but I as well would rather keep it this way...",
        "createdAt" : "2017-06-30T19:13:06Z",
        "updatedAt" : "2017-06-30T20:14:05Z",
        "lastEditedBy" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "tags" : [
        ]
      },
      {
        "id" : "3658ee97-0829-4262-acee-652086300736",
        "parentId" : "89a69bd7-a348-4a7e-bc9c-223dead8cddd",
        "authorId" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "body" : "Agreed that the set repetition is also not great. If you guys prefer it this way then let's do that! I just found the `goto :EOF` as the last line confusing, but hopefully long-term we can move to the Powershell promised land anyway. ",
        "createdAt" : "2017-06-30T19:50:18Z",
        "updatedAt" : "2017-06-30T20:14:05Z",
        "lastEditedBy" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "tags" : [
        ]
      }
    ],
    "commit" : "9e5a2118cc15c63088837ce9424e844084d07633",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +535,539 @@if \"%DISTTYPE%\"==\"release\" (\n  set FULLVERSION=%NODE_VERSION%\n  goto distexit\n)\nif \"%DISTTYPE%\"==\"custom\" ("
  },
  {
    "id" : "04fc642d-359d-49b5-b235-bb555ffe7d52",
    "prId" : 13992,
    "prUrl" : "https://github.com/nodejs/node/pull/13992#pullrequestreview-50416743",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "25905682-4468-4543-94c9-e5c7c36ab336",
        "parentId" : null,
        "authorId" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "body" : "not: I'd prefer you align to `if /i \"%1\"==\"test-check-deopts\" `",
        "createdAt" : "2017-07-16T00:04:53Z",
        "updatedAt" : "2017-07-27T01:15:08Z",
        "lastEditedBy" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "tags" : [
        ]
      },
      {
        "id" : "d8185e79-1a6c-48c7-955d-551f344e9ffb",
        "parentId" : "25905682-4468-4543-94c9-e5c7c36ab336",
        "authorId" : "e544a5fe-d0a1-4634-85ad-4273ff2ee871",
        "body" : "There are other checks that are not aligned. e.g. `test-all` above. `test-v8` aligns to `test-all` and other shorter if checks.",
        "createdAt" : "2017-07-17T19:07:05Z",
        "updatedAt" : "2017-07-27T01:15:08Z",
        "lastEditedBy" : "e544a5fe-d0a1-4634-85ad-4273ff2ee871",
        "tags" : [
        ]
      }
    ],
    "commit" : "09dd6bbec6dbb9cc4e5ee615e249dcb749c8e777",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +86,90 @@if /i \"%1\"==\"test-node-inspect\" set test_node_inspect=1&goto arg-ok\nif /i \"%1\"==\"test-check-deopts\" set test_check_deopts=1&goto arg-ok\nif /i \"%1\"==\"test-v8\"       set test_v8=1&set custom_v8_test=1&goto arg-ok\nif /i \"%1\"==\"test-v8-intl\"  set test_v8_intl=1&set custom_v8_test=1&goto arg-ok\nif /i \"%1\"==\"test-v8-benchmarks\" set test_v8_benchmarks=1&set custom_v8_test=1&goto arg-ok"
  },
  {
    "id" : "c9778ae6-98b4-4ee8-b460-67b94011d5c8",
    "prId" : 13992,
    "prUrl" : "https://github.com/nodejs/node/pull/13992#pullrequestreview-50200017",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "55532ace-b03e-4c90-ae1c-7abdf1ead1f8",
        "parentId" : null,
        "authorId" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "body" : "I'd still would like this block to move to `tools\\test-v8.cmd`\r\nand here leave\r\n```\r\ncall tools\\test-v8.cmd\r\ngoto cpplint\r\n```\r\n\r\nAFAICT everything else will fall into place.",
        "createdAt" : "2017-07-16T00:10:11Z",
        "updatedAt" : "2017-07-27T01:15:08Z",
        "lastEditedBy" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "tags" : [
        ]
      }
    ],
    "commit" : "09dd6bbec6dbb9cc4e5ee615e249dcb749c8e777",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +443,447 @@\n:test-v8\nif not defined custom_v8_test goto cpplint\ncall tools/test-v8.bat\nif errorlevel 1 goto exit"
  },
  {
    "id" : "da22da3f-fbf9-41b5-b55d-362b8979cae8",
    "prId" : 16372,
    "prUrl" : "https://github.com/nodejs/node/pull/16372#pullrequestreview-71046167",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f202eaa7-b924-4701-bdbb-d59e014e10b1",
        "parentId" : null,
        "authorId" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "body" : "So this is only used in a few places right?\r\n\r\nhttps://github.com/nodejs/node/blob/7a171fd88a2e7ce06121ce016ea0f15d1b5a158e/vcbuild.bat#L171-L177\r\n\r\nAgreed that it doesn't look like a user-facing thing.",
        "createdAt" : "2017-10-22T17:56:51Z",
        "updatedAt" : "2017-10-26T22:39:29Z",
        "lastEditedBy" : "afafee7a-f5c7-4e34-bbb2-fe3900a60ecf",
        "tags" : [
        ]
      },
      {
        "id" : "f3e67d4b-ee56-409a-a02b-04fcc7415bce",
        "parentId" : "f202eaa7-b924-4701-bdbb-d59e014e10b1",
        "authorId" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "body" : "Might have been once... Now it seems more like `clean-release-artifacts`. So, confusing.",
        "createdAt" : "2017-10-22T21:51:23Z",
        "updatedAt" : "2017-10-26T22:39:29Z",
        "lastEditedBy" : "23dd1f9f-2ce6-4461-ad78-bdc0fc563445",
        "tags" : [
        ]
      }
    ],
    "commit" : "9ab648120c7b226976ba2dfc6a89fda06e09addb",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +542,546 @@\n:help\necho vcbuild.bat [debug/release] [msi] [test/test-ci/test-all/test-uv/test-internet/test-pummel/test-simple/test-message/test-async-hooks/test-v8/test-v8-intl/test-v8-benchmarks/test-v8-all] [noprojgen] [small-icu/full-icu/without-intl] [nobuild] [sign] [x86/x64] [vs2015/vs2017] [download-all] [enable-vtune] [lint/lint-ci] [no-NODE-OPTIONS] [link-module path-to-module]\necho Examples:\necho   vcbuild.bat                          : builds release build"
  }
]