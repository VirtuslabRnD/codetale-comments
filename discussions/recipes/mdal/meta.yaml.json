[
  {
    "id" : "f16af49d-d5f7-444e-b2ce-10ac1ba19bd6",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ed7226da-17d6-4242-852f-035325bff673",
        "parentId" : null,
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "```suggestion\r\n    - cmake\r\n    - make  # [unix]\r\n```",
        "createdAt" : "2020-11-01T14:01:33Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +19,23 @@    - {{ compiler('cxx') }}\n    - {{ compiler('c') }}\n    - cmake\n    - make  # [unix]\n  host:"
  },
  {
    "id" : "3fb7accd-dec7-4c4c-bef8-68ccbf6207cb",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fa83d9c4-10d7-432e-8d33-3490d4373095",
        "parentId" : null,
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "```suggestion\r\n    - libgdal\r\n    - hdf5\r\n    - libnetcdf\r\n    - libxml2\r\n```",
        "createdAt" : "2020-11-01T14:02:18Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@    - make  # [unix]\n  host:\n    - libgdal\n    - hdf5\n    - libnetcdf"
  },
  {
    "id" : "7995e83f-a530-4d14-b847-359ae0822d59",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c2181869-9c47-4a9b-83f9-2006deb1f9fa",
        "parentId" : null,
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "This [uses run_exports](https://github.com/conda-forge/libxml2-feedstock/blob/b0f415af9bce74bdd8f136d20ccfb3eedd60073a/recipe/meta.yaml#L16-L19) so no need to add it in `run`:\r\n\r\n```suggestion\r\n```",
        "createdAt" : "2020-11-01T14:03:11Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +25,29 @@    - hdf5\n    - libnetcdf\n    - libxml2\n  run:\n"
  },
  {
    "id" : "0820aa6e-cad3-462b-b5f3-af240031df3a",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4f95f76b-7a01-4ec5-80f3-1262a0c61881",
        "parentId" : null,
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "This [uses run_exports](https://github.com/conda-forge/hdf5-feedstock/blob/405def017f8c13fcdcbfcd8ee9d3744b6f67f8ec/recipe/meta.yaml#L85-L86) so no need to add it in `run`:\r\n\r\n```suggestion\r\n```",
        "createdAt" : "2020-11-01T14:04:43Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +23,27 @@  host:\n    - libgdal\n    - hdf5\n    - libnetcdf\n    - libxml2"
  },
  {
    "id" : "96d1d838-0ebe-4858-90a9-fe84cb90c558",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "307f4c7c-85cb-4442-b3e4-ae890633878c",
        "parentId" : null,
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "This [uses run_exports](https://github.com/conda-forge/libnetcdf-feedstock/blob/0d6725ef2c1ef54614e14f0c30e5d892de92fe97/recipe/meta.yaml#L55-L57) so no need to add it in `run`:\r\n\r\n```suggestion\r\n```",
        "createdAt" : "2020-11-01T14:05:10Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +24,28 @@    - libgdal\n    - hdf5\n    - libnetcdf\n    - libxml2\n  run:"
  },
  {
    "id" : "01b6d6e3-b887-4bae-a423-cd1f69ac9851",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521264744",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "72e1d852-bdf3-4753-a766-406012f53035",
        "parentId" : null,
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "Is this also providing a shared library? If so, this should probably use `run_exports` and have a file existence check (see the previously linked recipes).",
        "createdAt" : "2020-11-01T14:09:24Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      },
      {
        "id" : "be66cc69-d435-401d-ae72-5896212b64e6",
        "parentId" : "72e1d852-bdf3-4753-a766-406012f53035",
        "authorId" : "3007fd5e-5b4e-41b8-852e-47413686fb01",
        "body" : "I think I need more clarification on this.\r\n\r\nmdalinfo is a part of the package and built by the build scripts. It does not provide a shared library but it does consume the mdal shared library",
        "createdAt" : "2020-11-01T17:41:55Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "3007fd5e-5b4e-41b8-852e-47413686fb01",
        "tags" : [
        ]
      },
      {
        "id" : "157fb4b1-5dce-4063-ad45-8bdda131f400",
        "parentId" : "72e1d852-bdf3-4753-a766-406012f53035",
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "No worries, I tend to be hasty when reviewing for `staged-recipes` so I'm happy to expand when needed :) Do you expect packages could be added to conda-forge which depend on `lib/libmdal.so`? If not, then ignore the rest of this comment.\r\n\r\nIf yes, then you should add this to the test commands:\r\n```yaml\r\n    - test -f $PREFIX/lib/libmdal$SHLIB_EXT  # [unix]\r\n    - if not exist %LIBRARY_BIN%\\\\mdal.dll exit 1  # [win]\r\n```\r\nand append to the `build` section the appropriate ABI compatibility pin:\r\n```yaml\r\nbuild:\r\n  run_exports:\r\n    - {{ pin_subpackage('mdal', max_pin='x.x') }}\r\n```\r\nConda-build will then add the version constraint to dependent packages like `mdal >=0.7.2,<0.8`. Depending on ABI stability of `mdal` you might need `max_pin='x'` or `max_pin='x.x.x'`.",
        "createdAt" : "2020-11-01T18:58:42Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      },
      {
        "id" : "12178e23-81f4-4238-b1bf-f3e06d034535",
        "parentId" : "72e1d852-bdf3-4753-a766-406012f53035",
        "authorId" : "3007fd5e-5b4e-41b8-852e-47413686fb01",
        "body" : "Gotcha. I got confused because the comment was directed to the mdalinfo line.\r\n\r\nI will add the run_export. The ABI is fairly stable - so it will be x.x.\r\n\r\nThanks for your time and efforts",
        "createdAt" : "2020-11-01T21:18:04Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "3007fd5e-5b4e-41b8-852e-47413686fb01",
        "tags" : [
        ]
      },
      {
        "id" : "1b4f0aaf-4d59-4689-bdd7-2807b40df4ae",
        "parentId" : "72e1d852-bdf3-4753-a766-406012f53035",
        "authorId" : "3007fd5e-5b4e-41b8-852e-47413686fb01",
        "body" : "added in next commit",
        "createdAt" : "2020-11-01T21:47:05Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "3007fd5e-5b4e-41b8-852e-47413686fb01",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +32,36 @@    - test -f $PREFIX/lib/libmdal$SHLIB_EXT  # [unix]\n    - if not exist %LIBRARY_BIN%\\\\mdal.dll exit 1  # [win]\n    - mdalinfo -h\n\nabout:"
  },
  {
    "id" : "711aaa45-2f30-46c9-9393-db64dd6df05c",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "766f4a87-1e1b-4d62-9855-532c82858036",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "```suggestion\r\n    - cmake\r\n    - make  # [unix]\r\n```",
        "createdAt" : "2020-11-01T14:01:33Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +19,23 @@    - {{ compiler('cxx') }}\n    - {{ compiler('c') }}\n    - cmake\n    - make  # [unix]\n  host:"
  },
  {
    "id" : "993cdb44-3170-4d88-aed3-16a772c12822",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6da03d1d-5cd4-4246-bb0f-18eebc0b3b11",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "```suggestion\r\n    - libgdal\r\n    - hdf5\r\n    - libnetcdf\r\n    - libxml2\r\n```",
        "createdAt" : "2020-11-01T14:02:18Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@    - make  # [unix]\n  host:\n    - libgdal\n    - hdf5\n    - libnetcdf"
  },
  {
    "id" : "9a53a6ce-b17b-447a-b062-e53e89520dc7",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "77d85741-497b-4aaa-b10c-18769f0b0849",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "This [uses run_exports](https://github.com/conda-forge/libxml2-feedstock/blob/b0f415af9bce74bdd8f136d20ccfb3eedd60073a/recipe/meta.yaml#L16-L19) so no need to add it in `run`:\r\n\r\n```suggestion\r\n```",
        "createdAt" : "2020-11-01T14:03:11Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +25,29 @@    - hdf5\n    - libnetcdf\n    - libxml2\n  run:\n"
  },
  {
    "id" : "66dc06b7-ee87-44d1-91ea-c00d773537d6",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "48310c64-f21c-478a-a101-08707ff205a5",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "This [uses run_exports](https://github.com/conda-forge/hdf5-feedstock/blob/405def017f8c13fcdcbfcd8ee9d3744b6f67f8ec/recipe/meta.yaml#L85-L86) so no need to add it in `run`:\r\n\r\n```suggestion\r\n```",
        "createdAt" : "2020-11-01T14:04:43Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +23,27 @@  host:\n    - libgdal\n    - hdf5\n    - libnetcdf\n    - libxml2"
  },
  {
    "id" : "cc8c4d8d-7aee-4262-8851-d277a890afbc",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521227311",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ce9db152-b2e2-424c-a7b2-587fe535c8f1",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "This [uses run_exports](https://github.com/conda-forge/libnetcdf-feedstock/blob/0d6725ef2c1ef54614e14f0c30e5d892de92fe97/recipe/meta.yaml#L55-L57) so no need to add it in `run`:\r\n\r\n```suggestion\r\n```",
        "createdAt" : "2020-11-01T14:05:10Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +24,28 @@    - libgdal\n    - hdf5\n    - libnetcdf\n    - libxml2\n  run:"
  },
  {
    "id" : "f93c3fa1-174f-419f-9f14-42bef0a0130a",
    "prId" : 13008,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13008#pullrequestreview-521264744",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1c7005ce-560c-43a5-b440-088edaa1d0a3",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "Is this also providing a shared library? If so, this should probably use `run_exports` and have a file existence check (see the previously linked recipes).",
        "createdAt" : "2020-11-01T14:09:24Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      },
      {
        "id" : "76612dc9-bea1-44d3-a65c-ffeb1a99eb7a",
        "parentId" : "1c7005ce-560c-43a5-b440-088edaa1d0a3",
        "authorId" : "d27d096d-ec70-478d-a1f2-2339578252ec",
        "body" : "I think I need more clarification on this.\r\n\r\nmdalinfo is a part of the package and built by the build scripts. It does not provide a shared library but it does consume the mdal shared library",
        "createdAt" : "2020-11-01T17:41:55Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d27d096d-ec70-478d-a1f2-2339578252ec",
        "tags" : [
        ]
      },
      {
        "id" : "540e6b24-7036-489a-8d77-cc45c6d1dbd9",
        "parentId" : "1c7005ce-560c-43a5-b440-088edaa1d0a3",
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "No worries, I tend to be hasty when reviewing for `staged-recipes` so I'm happy to expand when needed :) Do you expect packages could be added to conda-forge which depend on `lib/libmdal.so`? If not, then ignore the rest of this comment.\r\n\r\nIf yes, then you should add this to the test commands:\r\n```yaml\r\n    - test -f $PREFIX/lib/libmdal$SHLIB_EXT  # [unix]\r\n    - if not exist %LIBRARY_BIN%\\\\mdal.dll exit 1  # [win]\r\n```\r\nand append to the `build` section the appropriate ABI compatibility pin:\r\n```yaml\r\nbuild:\r\n  run_exports:\r\n    - {{ pin_subpackage('mdal', max_pin='x.x') }}\r\n```\r\nConda-build will then add the version constraint to dependent packages like `mdal >=0.7.2,<0.8`. Depending on ABI stability of `mdal` you might need `max_pin='x'` or `max_pin='x.x.x'`.",
        "createdAt" : "2020-11-01T18:58:42Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      },
      {
        "id" : "098f0af7-93b2-42e7-a186-8d7497850274",
        "parentId" : "1c7005ce-560c-43a5-b440-088edaa1d0a3",
        "authorId" : "d27d096d-ec70-478d-a1f2-2339578252ec",
        "body" : "Gotcha. I got confused because the comment was directed to the mdalinfo line.\r\n\r\nI will add the run_export. The ABI is fairly stable - so it will be x.x.\r\n\r\nThanks for your time and efforts",
        "createdAt" : "2020-11-01T21:18:04Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d27d096d-ec70-478d-a1f2-2339578252ec",
        "tags" : [
        ]
      },
      {
        "id" : "1726127e-8ce6-4f80-be20-6d6a14fb733f",
        "parentId" : "1c7005ce-560c-43a5-b440-088edaa1d0a3",
        "authorId" : "d27d096d-ec70-478d-a1f2-2339578252ec",
        "body" : "added in next commit",
        "createdAt" : "2020-11-01T21:47:05Z",
        "updatedAt" : "2020-11-01T21:50:39Z",
        "lastEditedBy" : "d27d096d-ec70-478d-a1f2-2339578252ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "d5730b40f094ac46a3a27fa2a209ebc860efc697",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +32,36 @@    - test -f $PREFIX/lib/libmdal$SHLIB_EXT  # [unix]\n    - if not exist %LIBRARY_BIN%\\\\mdal.dll exit 1  # [win]\n    - mdalinfo -h\n\nabout:"
  }
]