[
  {
    "id" : "6493ff52-0626-46e4-a805-e157c2286093",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695413668",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dce3006e-ff28-49bb-80e9-2d3745fc32a3",
        "parentId" : null,
        "authorId" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "body" : "This should go into `run:`",
        "createdAt" : "2021-06-29T19:04:24Z",
        "updatedAt" : "2021-06-29T19:07:53Z",
        "lastEditedBy" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "tags" : [
        ]
      },
      {
        "id" : "d0f929b3-7555-40a1-980b-6d098e96a678",
        "parentId" : "dce3006e-ff28-49bb-80e9-2d3745fc32a3",
        "authorId" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "body" : "I don't think so? The binary which runs the tests has a slightly different dependency set than `libastra`. `libastra` uses headers only from Boost whereas the unit tests actually links to a Boost shared library.",
        "createdAt" : "2021-06-29T19:14:09Z",
        "updatedAt" : "2021-06-29T19:14:09Z",
        "lastEditedBy" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "tags" : [
        ]
      },
      {
        "id" : "9c36ec2e-3e30-491a-8102-10c3423c1f25",
        "parentId" : "dce3006e-ff28-49bb-80e9-2d3745fc32a3",
        "authorId" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "body" : "Ah, then add this as a comment for future readers ;)",
        "createdAt" : "2021-06-29T19:18:05Z",
        "updatedAt" : "2021-06-29T19:18:05Z",
        "lastEditedBy" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +34,38 @@  requires:\n  # libastra uses header-only from Boost, but the unit tests actually link to libboost_unit_test_framework.so\n    - boost-cpp\n  source_files:\n    - tests/astratest"
  },
  {
    "id" : "dea0aaff-ea83-4e3d-9d99-7d9840949185",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695402551",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "45a348fc-c18b-43fd-8dc1-cdf6506cd802",
        "parentId" : null,
        "authorId" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "body" : "Can you also check for the existence of `libastra${SHLIB_EXT}` here?\r\n```suggestion\r\n  commands:\r\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}\r\n```",
        "createdAt" : "2021-06-29T19:06:51Z",
        "updatedAt" : "2021-06-29T19:07:53Z",
        "lastEditedBy" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +37,41 @@  source_files:\n    - tests/astratest\n  commands:\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}.{{ version }}"
  },
  {
    "id" : "90131606-fc91-453e-8f2c-bbbaf29c3aed",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695428622",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "823c7bb4-af27-4d00-92a0-e98226df04fe",
        "parentId" : null,
        "authorId" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "body" : "As this is a library, this should also have a `run_exports`. ",
        "createdAt" : "2021-06-29T19:07:51Z",
        "updatedAt" : "2021-06-29T19:07:53Z",
        "lastEditedBy" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "tags" : [
        ]
      },
      {
        "id" : "75cf82c1-e98f-4a90-8806-d6cf69a5a10d",
        "parentId" : "823c7bb4-af27-4d00-92a0-e98226df04fe",
        "authorId" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "body" : "What would be included in `run_exports`? I think `cudatoolkit` and the other runtime libraries are automatically added when the compilers are added to the `requirements/build`?",
        "createdAt" : "2021-06-29T19:19:26Z",
        "updatedAt" : "2021-06-29T19:20:07Z",
        "lastEditedBy" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "tags" : [
        ]
      },
      {
        "id" : "bf8838b8-1825-4bda-9820-659d17a54caa",
        "parentId" : "823c7bb4-af27-4d00-92a0-e98226df04fe",
        "authorId" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "body" : "No, `run_exports` is about what pinning should be added to `run` if `libastra` appears as a direct dependency in `hosts`. If there are no ABI guarantees (I didn't see anything about this in the README), this should be:\r\n```suggestion\r\nbuild:\r\n  run_exports:\r\n    - {{ pin_subpackage('libastra', max_pin='x.x.x') }}\r\n```",
        "createdAt" : "2021-06-29T19:22:25Z",
        "updatedAt" : "2021-06-29T19:22:26Z",
        "lastEditedBy" : "0b815327-ca6e-45ac-956a-93a3957ac2f5",
        "tags" : [
        ]
      },
      {
        "id" : "e77bdd34-d55f-457b-8cc4-4555be6a6482",
        "parentId" : "823c7bb4-af27-4d00-92a0-e98226df04fe",
        "authorId" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "body" : "Thanks for the explanation! ðŸ˜„ You're right. I don't really trust the main devs to follow semantic versioning.",
        "createdAt" : "2021-06-29T19:36:52Z",
        "updatedAt" : "2021-06-29T19:36:52Z",
        "lastEditedBy" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +9,13 @@  sha256: fc8c1bc2553cd93e570e1991b44df301c89ce7d9521033672f2d9d421af94beb\n\nbuild:\n  run_exports:\n    - {{ pin_subpackage('libastra', max_pin='x.x.x') }}"
  },
  {
    "id" : "b1910c02-8739-40f4-a48f-6c3e836401e0",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695421834",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "39ef7d44-a2d0-4098-88b7-791f086194d3",
        "parentId" : null,
        "authorId" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "body" : "```suggestion\r\n  requires:\r\n  # libastra uses header-only from Boost, but the unit tests actually link to libboost_unit_test_framework.so\r\n```",
        "createdAt" : "2021-06-29T19:28:25Z",
        "updatedAt" : "2021-06-29T19:28:26Z",
        "lastEditedBy" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +32,36 @@\ntest:\n  requires:\n  # libastra uses header-only from Boost, but the unit tests actually link to libboost_unit_test_framework.so\n    - boost-cpp"
  },
  {
    "id" : "1dd7e981-334d-4040-aca8-ab704ec78542",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695424384",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d498ca88-a4fd-43a2-9543-8bd824c81094",
        "parentId" : null,
        "authorId" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "body" : "```suggestion\r\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}.{{ version }}\r\n    - \"LD_LIBRARY_PATH=$PREFIX/lib:$LD_LIBRARY_PATH ./tests/astratest\"\r\n```",
        "createdAt" : "2021-06-29T19:31:39Z",
        "updatedAt" : "2021-06-29T19:31:39Z",
        "lastEditedBy" : "85ebd8a4-0bd7-4073-bae3-bf595fac3b19",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +40,44 @@    - test -f $PREFIX/lib/libastra${SHLIB_EXT}\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}.{{ version }}\n    - \"LD_LIBRARY_PATH=$PREFIX/lib:$LD_LIBRARY_PATH ./tests/astratest\"\n\nabout:"
  },
  {
    "id" : "b438bdb8-9ba6-442d-9ab6-3a1dc0a72121",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695413668",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "14e9494f-6517-4f80-9e52-f22d98abbe02",
        "parentId" : null,
        "authorId" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "body" : "This should go into `run:`",
        "createdAt" : "2021-06-29T19:04:24Z",
        "updatedAt" : "2021-06-29T19:07:53Z",
        "lastEditedBy" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "tags" : [
        ]
      },
      {
        "id" : "61f7d362-8208-4299-991a-01251f6f9140",
        "parentId" : "14e9494f-6517-4f80-9e52-f22d98abbe02",
        "authorId" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "body" : "I don't think so? The binary which runs the tests has a slightly different dependency set than `libastra`. `libastra` uses headers only from Boost whereas the unit tests actually links to a Boost shared library.",
        "createdAt" : "2021-06-29T19:14:09Z",
        "updatedAt" : "2021-06-29T19:14:09Z",
        "lastEditedBy" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "tags" : [
        ]
      },
      {
        "id" : "5827d9f2-2422-43a3-a770-7d75ba949fc9",
        "parentId" : "14e9494f-6517-4f80-9e52-f22d98abbe02",
        "authorId" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "body" : "Ah, then add this as a comment for future readers ;)",
        "createdAt" : "2021-06-29T19:18:05Z",
        "updatedAt" : "2021-06-29T19:18:05Z",
        "lastEditedBy" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +34,38 @@  requires:\n  # libastra uses header-only from Boost, but the unit tests actually link to libboost_unit_test_framework.so\n    - boost-cpp\n  source_files:\n    - tests/astratest"
  },
  {
    "id" : "de282aee-e8b9-4e3b-9654-14a4bda32b88",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695402551",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "688417e2-d954-41ab-904d-31683d21c935",
        "parentId" : null,
        "authorId" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "body" : "Can you also check for the existence of `libastra${SHLIB_EXT}` here?\r\n```suggestion\r\n  commands:\r\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}\r\n```",
        "createdAt" : "2021-06-29T19:06:51Z",
        "updatedAt" : "2021-06-29T19:07:53Z",
        "lastEditedBy" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +37,41 @@  source_files:\n    - tests/astratest\n  commands:\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}.{{ version }}"
  },
  {
    "id" : "367f2199-3b59-44b9-b9f2-1d26b6bf11d6",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695428622",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a728e020-d909-4834-b9f2-14a4aa1b67b5",
        "parentId" : null,
        "authorId" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "body" : "As this is a library, this should also have a `run_exports`. ",
        "createdAt" : "2021-06-29T19:07:51Z",
        "updatedAt" : "2021-06-29T19:07:53Z",
        "lastEditedBy" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "tags" : [
        ]
      },
      {
        "id" : "ad732048-71bb-4578-b971-7a3f2dcb29d2",
        "parentId" : "a728e020-d909-4834-b9f2-14a4aa1b67b5",
        "authorId" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "body" : "What would be included in `run_exports`? I think `cudatoolkit` and the other runtime libraries are automatically added when the compilers are added to the `requirements/build`?",
        "createdAt" : "2021-06-29T19:19:26Z",
        "updatedAt" : "2021-06-29T19:20:07Z",
        "lastEditedBy" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "tags" : [
        ]
      },
      {
        "id" : "78525303-7bd4-4d4d-9852-ffeb59ac2bc9",
        "parentId" : "a728e020-d909-4834-b9f2-14a4aa1b67b5",
        "authorId" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "body" : "No, `run_exports` is about what pinning should be added to `run` if `libastra` appears as a direct dependency in `hosts`. If there are no ABI guarantees (I didn't see anything about this in the README), this should be:\r\n```suggestion\r\nbuild:\r\n  run_exports:\r\n    - {{ pin_subpackage('libastra', max_pin='x.x.x') }}\r\n```",
        "createdAt" : "2021-06-29T19:22:25Z",
        "updatedAt" : "2021-06-29T19:22:26Z",
        "lastEditedBy" : "63355e08-a563-4e4d-8957-62b0581f602e",
        "tags" : [
        ]
      },
      {
        "id" : "dd68bd45-d5dc-43fd-86f0-f0426e280aae",
        "parentId" : "a728e020-d909-4834-b9f2-14a4aa1b67b5",
        "authorId" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "body" : "Thanks for the explanation! ðŸ˜„ You're right. I don't really trust the main devs to follow semantic versioning.",
        "createdAt" : "2021-06-29T19:36:52Z",
        "updatedAt" : "2021-06-29T19:36:52Z",
        "lastEditedBy" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +9,13 @@  sha256: fc8c1bc2553cd93e570e1991b44df301c89ce7d9521033672f2d9d421af94beb\n\nbuild:\n  run_exports:\n    - {{ pin_subpackage('libastra', max_pin='x.x.x') }}"
  },
  {
    "id" : "ccc7a20a-743c-4668-809d-5de1fef0b42f",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695421834",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "40f728f5-de51-422c-8c6d-9a98b548bf3e",
        "parentId" : null,
        "authorId" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "body" : "```suggestion\r\n  requires:\r\n  # libastra uses header-only from Boost, but the unit tests actually link to libboost_unit_test_framework.so\r\n```",
        "createdAt" : "2021-06-29T19:28:25Z",
        "updatedAt" : "2021-06-29T19:28:26Z",
        "lastEditedBy" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +32,36 @@\ntest:\n  requires:\n  # libastra uses header-only from Boost, but the unit tests actually link to libboost_unit_test_framework.so\n    - boost-cpp"
  },
  {
    "id" : "518e35ae-4b19-41ef-9d75-cf2b7935f2ae",
    "prId" : 15443,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15443#pullrequestreview-695424384",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0d72ffa8-d489-44e7-a8f5-65dcf0f0e2a5",
        "parentId" : null,
        "authorId" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "body" : "```suggestion\r\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}.{{ version }}\r\n    - \"LD_LIBRARY_PATH=$PREFIX/lib:$LD_LIBRARY_PATH ./tests/astratest\"\r\n```",
        "createdAt" : "2021-06-29T19:31:39Z",
        "updatedAt" : "2021-06-29T19:31:39Z",
        "lastEditedBy" : "a0644cec-4df9-4d36-9370-4e0a39df7c02",
        "tags" : [
        ]
      }
    ],
    "commit" : "9664ef718f16a23c6d305abe3e8eb0105b289597",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +40,44 @@    - test -f $PREFIX/lib/libastra${SHLIB_EXT}\n    - test -f $PREFIX/lib/libastra${SHLIB_EXT}.{{ version }}\n    - \"LD_LIBRARY_PATH=$PREFIX/lib:$LD_LIBRARY_PATH ./tests/astratest\"\n\nabout:"
  }
]