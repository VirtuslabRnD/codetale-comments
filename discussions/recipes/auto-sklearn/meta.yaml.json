[
  {
    "id" : "2e352448-873d-4555-8da0-023838e1d829",
    "prId" : 14305,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/14305#pullrequestreview-621581073",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c0022cb9-2adf-48d5-a047-751a47e6b3e5",
        "parentId" : null,
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "Can you explain what is going on here? If `cython` is needed you probably need a compiler and it can't be `noarch: python`. If it isn't needed you probably don't need `numpy` in `host` and remove `pin_compatible` from `numpy` in `run`.",
        "createdAt" : "2021-03-24T10:04:43Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      },
      {
        "id" : "cca5a18b-4ced-42b1-ba97-29af1f5e9152",
        "parentId" : "c0022cb9-2adf-48d5-a047-751a47e6b3e5",
        "authorId" : "27f2bbfb-60f3-48cf-bb65-4e81ee4228e5",
        "body" : "Unfortunately not, as that is just a requirement from upstream: https://github.com/automl/auto-sklearn/blob/6e5886526ab01f97fbd842f6404badbe8a9aafad/setup.py#L23\r\n\r\nI'm currently running a test without `numpy` and `cython` in host but @mfeurer is a maintainer upstream, do you know more about that?\r\n\r\nEdit: Tests fail",
        "createdAt" : "2021-03-24T10:34:13Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "27f2bbfb-60f3-48cf-bb65-4e81ee4228e5",
        "tags" : [
        ]
      },
      {
        "id" : "abfbd141-9c4b-4bd5-9efa-4d761314d137",
        "parentId" : "c0022cb9-2adf-48d5-a047-751a47e6b3e5",
        "authorId" : "4633f2ea-5b97-4b63-98c3-43e1dec35ddb",
        "body" : "Cython is needed to compile the `ConfigSpace` package which is a dependency. The `ConfigSpace` package by now declares the build dependency on Cython itself. That means it should no longer be necessary to install Auto-sklearn itself. So the lines you point to can probably be deleted? I just started a test [here](https://github.com/automl/auto-sklearn/pull/1104).\r\n\r\nRegarding the arch/noarch details I'm afraid I'm not familiar enough with conda-forge, but I hope my statement above clarifies the situation?",
        "createdAt" : "2021-03-24T10:41:20Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "4633f2ea-5b97-4b63-98c3-43e1dec35ddb",
        "tags" : [
        ]
      },
      {
        "id" : "d5815ce6-5eee-4eeb-a71c-e6dec4caa02a",
        "parentId" : "c0022cb9-2adf-48d5-a047-751a47e6b3e5",
        "authorId" : "27f2bbfb-60f3-48cf-bb65-4e81ee4228e5",
        "body" : "The conda-forge version of `ConfigSpace` does list both dependencies so at least on conda-forge it shouldn't be required anymore then: https://github.com/conda-forge/configspace-feedstock/blob/8275d3e89cec704bad29fce60ee421c6d58af72c/recipe/meta.yaml#L22\r\n\r\nThanks for the tests, then I would suggest waiting until the new version is out since I cannot build it due to failing dependencies, if I just remove`cython` and `numpy` from the recipe.\r\n\r\n> Regarding the arch/noarch details I'm afraid I'm not familiar enough with conda-forge, but I hope my statement above clarifies the situation?\r\n\r\nYes it does, thanks! ",
        "createdAt" : "2021-03-24T10:51:39Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "27f2bbfb-60f3-48cf-bb65-4e81ee4228e5",
        "tags" : [
        ]
      },
      {
        "id" : "3176235d-9dca-47cc-b472-d3c7e3ec8829",
        "parentId" : "c0022cb9-2adf-48d5-a047-751a47e6b3e5",
        "authorId" : "4633f2ea-5b97-4b63-98c3-43e1dec35ddb",
        "body" : "> Thanks for the tests, then I would suggest waiting until the new version is out since I cannot build it due to failing dependencies, if I just removecython and numpy from the recipe.\r\n\r\nSo should I just create a new release with this change?",
        "createdAt" : "2021-03-24T11:58:54Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "4633f2ea-5b97-4b63-98c3-43e1dec35ddb",
        "tags" : [
        ]
      },
      {
        "id" : "3aedd93b-dac9-487e-8ebe-664128a5dd9f",
        "parentId" : "c0022cb9-2adf-48d5-a047-751a47e6b3e5",
        "authorId" : "27f2bbfb-60f3-48cf-bb65-4e81ee4228e5",
        "body" : "If that’s possible, that would be the best approach. I should also be able to patch this only for conda-forge but it’s always better to have it upstream. ",
        "createdAt" : "2021-03-24T12:01:18Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "27f2bbfb-60f3-48cf-bb65-4e81ee4228e5",
        "tags" : [
        ]
      },
      {
        "id" : "90546666-874a-44b4-8766-1569982efbfd",
        "parentId" : "c0022cb9-2adf-48d5-a047-751a47e6b3e5",
        "authorId" : "4633f2ea-5b97-4b63-98c3-43e1dec35ddb",
        "body" : "And here it is: https://pypi.org/project/auto-sklearn/0.12.5/",
        "createdAt" : "2021-03-25T21:02:01Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "4633f2ea-5b97-4b63-98c3-43e1dec35ddb",
        "tags" : [
        ]
      },
      {
        "id" : "8351e414-441a-41f0-bf3e-e420e9795b17",
        "parentId" : "c0022cb9-2adf-48d5-a047-751a47e6b3e5",
        "authorId" : "27f2bbfb-60f3-48cf-bb65-4e81ee4228e5",
        "body" : "Awesome, thanks! Recipe has been updated!",
        "createdAt" : "2021-03-25T21:08:53Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "27f2bbfb-60f3-48cf-bb65-4e81ee4228e5",
        "tags" : [
        ]
      }
    ],
    "commit" : "69a2d7c367840f167fe96f7f53afa58f9441a21c",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +13,17 @@build:\n  number: 0\n  noarch: python\n  script: {{ PYTHON }} -m pip install . -vv\n"
  },
  {
    "id" : "0b80fc52-e6fd-43cb-9aee-0f87868d4da0",
    "prId" : 14305,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/14305#pullrequestreview-621581073",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ed6f0326-1b30-488f-8afa-f3a9286d39ea",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "Can you explain what is going on here? If `cython` is needed you probably need a compiler and it can't be `noarch: python`. If it isn't needed you probably don't need `numpy` in `host` and remove `pin_compatible` from `numpy` in `run`.",
        "createdAt" : "2021-03-24T10:04:43Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      },
      {
        "id" : "798a1a53-f7b0-4d4b-bd1b-4d83aa0dacb8",
        "parentId" : "ed6f0326-1b30-488f-8afa-f3a9286d39ea",
        "authorId" : "61d63d36-c183-4089-b402-af25511e49bb",
        "body" : "Unfortunately not, as that is just a requirement from upstream: https://github.com/automl/auto-sklearn/blob/6e5886526ab01f97fbd842f6404badbe8a9aafad/setup.py#L23\r\n\r\nI'm currently running a test without `numpy` and `cython` in host but @mfeurer is a maintainer upstream, do you know more about that?\r\n\r\nEdit: Tests fail",
        "createdAt" : "2021-03-24T10:34:13Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "61d63d36-c183-4089-b402-af25511e49bb",
        "tags" : [
        ]
      },
      {
        "id" : "c8e8c07d-0da8-4a70-b41a-56cdb75515fe",
        "parentId" : "ed6f0326-1b30-488f-8afa-f3a9286d39ea",
        "authorId" : "ce35b9fa-d835-4da4-a0ed-5354a288af58",
        "body" : "Cython is needed to compile the `ConfigSpace` package which is a dependency. The `ConfigSpace` package by now declares the build dependency on Cython itself. That means it should no longer be necessary to install Auto-sklearn itself. So the lines you point to can probably be deleted? I just started a test [here](https://github.com/automl/auto-sklearn/pull/1104).\r\n\r\nRegarding the arch/noarch details I'm afraid I'm not familiar enough with conda-forge, but I hope my statement above clarifies the situation?",
        "createdAt" : "2021-03-24T10:41:20Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "ce35b9fa-d835-4da4-a0ed-5354a288af58",
        "tags" : [
        ]
      },
      {
        "id" : "d45ca6e7-57db-462b-bc21-221642c5fc30",
        "parentId" : "ed6f0326-1b30-488f-8afa-f3a9286d39ea",
        "authorId" : "61d63d36-c183-4089-b402-af25511e49bb",
        "body" : "The conda-forge version of `ConfigSpace` does list both dependencies so at least on conda-forge it shouldn't be required anymore then: https://github.com/conda-forge/configspace-feedstock/blob/8275d3e89cec704bad29fce60ee421c6d58af72c/recipe/meta.yaml#L22\r\n\r\nThanks for the tests, then I would suggest waiting until the new version is out since I cannot build it due to failing dependencies, if I just remove`cython` and `numpy` from the recipe.\r\n\r\n> Regarding the arch/noarch details I'm afraid I'm not familiar enough with conda-forge, but I hope my statement above clarifies the situation?\r\n\r\nYes it does, thanks! ",
        "createdAt" : "2021-03-24T10:51:39Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "61d63d36-c183-4089-b402-af25511e49bb",
        "tags" : [
        ]
      },
      {
        "id" : "ac215b3a-e549-4d8f-ab6a-12e3f83ba7b7",
        "parentId" : "ed6f0326-1b30-488f-8afa-f3a9286d39ea",
        "authorId" : "ce35b9fa-d835-4da4-a0ed-5354a288af58",
        "body" : "> Thanks for the tests, then I would suggest waiting until the new version is out since I cannot build it due to failing dependencies, if I just removecython and numpy from the recipe.\r\n\r\nSo should I just create a new release with this change?",
        "createdAt" : "2021-03-24T11:58:54Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "ce35b9fa-d835-4da4-a0ed-5354a288af58",
        "tags" : [
        ]
      },
      {
        "id" : "622910fe-8271-4190-baec-8cff7a1177d2",
        "parentId" : "ed6f0326-1b30-488f-8afa-f3a9286d39ea",
        "authorId" : "61d63d36-c183-4089-b402-af25511e49bb",
        "body" : "If that’s possible, that would be the best approach. I should also be able to patch this only for conda-forge but it’s always better to have it upstream. ",
        "createdAt" : "2021-03-24T12:01:18Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "61d63d36-c183-4089-b402-af25511e49bb",
        "tags" : [
        ]
      },
      {
        "id" : "df16df8f-b722-4d37-b75b-21fd73da282b",
        "parentId" : "ed6f0326-1b30-488f-8afa-f3a9286d39ea",
        "authorId" : "ce35b9fa-d835-4da4-a0ed-5354a288af58",
        "body" : "And here it is: https://pypi.org/project/auto-sklearn/0.12.5/",
        "createdAt" : "2021-03-25T21:02:01Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "ce35b9fa-d835-4da4-a0ed-5354a288af58",
        "tags" : [
        ]
      },
      {
        "id" : "081774f2-b628-4d79-9431-ae3daa2ded65",
        "parentId" : "ed6f0326-1b30-488f-8afa-f3a9286d39ea",
        "authorId" : "61d63d36-c183-4089-b402-af25511e49bb",
        "body" : "Awesome, thanks! Recipe has been updated!",
        "createdAt" : "2021-03-25T21:08:53Z",
        "updatedAt" : "2021-04-05T12:42:58Z",
        "lastEditedBy" : "61d63d36-c183-4089-b402-af25511e49bb",
        "tags" : [
        ]
      }
    ],
    "commit" : "69a2d7c367840f167fe96f7f53afa58f9441a21c",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +13,17 @@build:\n  number: 0\n  noarch: python\n  script: {{ PYTHON }} -m pip install . -vv\n"
  }
]