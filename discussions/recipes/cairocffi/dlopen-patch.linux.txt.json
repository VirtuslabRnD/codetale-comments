[
  {
    "id" : "291393cd-9c29-41aa-9c60-09d9c0d714be",
    "prId" : 1905,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/1905#pullrequestreview-8841960",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e285657b-ad23-4bc5-9768-d10737547669",
        "parentId" : null,
        "authorId" : "ed861b6f-1f9b-4be3-9da8-c8c844648413",
        "body" : "To ensure you will get libcairo from conda I believe it would be better to do something like\n\n``` python\nos.path.join(sys.prefix, 'lib', 'libcairo.so')\n```\n\nYou could also wrap both patches into one with an if clause.\n",
        "createdAt" : "2016-11-16T15:42:49Z",
        "updatedAt" : "2016-11-16T16:05:44Z",
        "lastEditedBy" : "ed861b6f-1f9b-4be3-9da8-c8c844648413",
        "tags" : [
        ]
      },
      {
        "id" : "8d18da9f-68a7-4c46-b505-37559020b4b7",
        "parentId" : "e285657b-ad23-4bc5-9768-d10737547669",
        "authorId" : "5fa217df-00fe-4d49-b485-3e6ed95c238b",
        "body" : "I don't think this is necessary. First, ffi.dlopen does the same as the system call. That means it will use the RPATH of Python, which already points to the environment prefix, right?\nSecond, we don't want to restrict the user too much. Maybe he wants to set LD_LIBRARY_PATH such that a different cairo is used for some reason.\n",
        "createdAt" : "2016-11-16T15:49:14Z",
        "updatedAt" : "2016-11-16T16:05:44Z",
        "lastEditedBy" : "5fa217df-00fe-4d49-b485-3e6ed95c238b",
        "tags" : [
        ]
      },
      {
        "id" : "f01fe67f-990b-4fde-8bac-12141bfd2851",
        "parentId" : "e285657b-ad23-4bc5-9768-d10737547669",
        "authorId" : "ed861b6f-1f9b-4be3-9da8-c8c844648413",
        "body" : "That is up to you. I find that being strict with the paths brings stability to the package.\n",
        "createdAt" : "2016-11-16T15:51:15Z",
        "updatedAt" : "2016-11-16T16:05:44Z",
        "lastEditedBy" : "ed861b6f-1f9b-4be3-9da8-c8c844648413",
        "tags" : [
        ]
      }
    ],
    "commit" : "de8d26f6f5653f9b05664331be4d5fec4221cc89",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +6,10 @@ \n-cairo = dlopen(ffi, 'cairo', 'cairo-2')\n+cairo = ffi.dlopen('libcairo.so')\n \n "
  }
]