[
  {
    "id" : "93a012e4-57d5-4cbe-9d75-249243889abc",
    "prId" : 14236,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/14236#pullrequestreview-611609187",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d4baf1c4-0ad0-46fe-bcc7-a5513a1af6f7",
        "parentId" : null,
        "authorId" : "7b2727a3-5337-4100-96ca-3a2f79bf17d5",
        "body" : "It is unclear to me why you need the `source_files` section. Typically this is for test data that's not included in the package. I don't see that here. If it is not needed, please remove it.",
        "createdAt" : "2021-03-11T18:47:10Z",
        "updatedAt" : "2021-03-11T18:48:37Z",
        "lastEditedBy" : "7b2727a3-5337-4100-96ca-3a2f79bf17d5",
        "tags" : [
        ]
      },
      {
        "id" : "30eb0493-fac6-4404-bcbd-13bf454ac986",
        "parentId" : "d4baf1c4-0ad0-46fe-bcc7-a5513a1af6f7",
        "authorId" : "4be96f02-e96c-4a77-bb50-bd9a8ec45182",
        "body" : "Pytest could not find the tests when I built locally ü§∑‚Äç‚ôÇÔ∏è.  I gather this is because pytest only collects from the working directory or supplied arguments.\r\n\r\nI've tried `pytest $SRC_DIR` but no luck.  Looking in that directory showed only a bunch of conda specific files.  There is the `SP_DIR` var that points to site-packages but that seems a little brittle.\r\n\r\nManually including the tests is the only way I could get the tests to run. I could be a little more specific and have `- bargeparse/test_*.py`‚Ä¶\r\n\r\nThoughts?",
        "createdAt" : "2021-03-11T19:28:23Z",
        "updatedAt" : "2021-03-11T19:28:24Z",
        "lastEditedBy" : "4be96f02-e96c-4a77-bb50-bd9a8ec45182",
        "tags" : [
        ]
      },
      {
        "id" : "4b7d5b65-7a25-42c9-8ba4-1f1e5ec3eb19",
        "parentId" : "d4baf1c4-0ad0-46fe-bcc7-a5513a1af6f7",
        "authorId" : "7b2727a3-5337-4100-96ca-3a2f79bf17d5",
        "body" : "Ok, sounds reasonable. I think we should include the specific files as you suggested.",
        "createdAt" : "2021-03-11T19:36:11Z",
        "updatedAt" : "2021-03-11T19:36:12Z",
        "lastEditedBy" : "7b2727a3-5337-4100-96ca-3a2f79bf17d5",
        "tags" : [
        ]
      },
      {
        "id" : "fcef94d6-1742-4101-ae44-928b880db3e6",
        "parentId" : "d4baf1c4-0ad0-46fe-bcc7-a5513a1af6f7",
        "authorId" : "4be96f02-e96c-4a77-bb50-bd9a8ec45182",
        "body" : "Ok I've tried to selectively include the test files but I couldn't get the tests to work.  The problem is there's an import from conftest.py ‚Äì¬†including this as well doesn't fix the problem due to the relative import (an absolute import won't work here).\r\n\r\nIt's probably better off & simpler to just import the bargeparse/ directory.",
        "createdAt" : "2021-03-13T16:16:40Z",
        "updatedAt" : "2021-03-13T16:16:41Z",
        "lastEditedBy" : "4be96f02-e96c-4a77-bb50-bd9a8ec45182",
        "tags" : [
        ]
      }
    ],
    "commit" : "861f8be57f30cc46895f546dc3c3dc2d3f3977aa",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +24,28 @@\ntest:\n  source_files:\n    - bargeparse\n  imports:"
  },
  {
    "id" : "46ab66c9-911f-4d9f-a167-6b13b142b1eb",
    "prId" : 14236,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/14236#pullrequestreview-611609187",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "61c9ece6-338e-4815-950e-23b045293434",
        "parentId" : null,
        "authorId" : "085a9c6b-569e-49bd-9434-7f128372cf0c",
        "body" : "It is unclear to me why you need the `source_files` section. Typically this is for test data that's not included in the package. I don't see that here. If it is not needed, please remove it.",
        "createdAt" : "2021-03-11T18:47:10Z",
        "updatedAt" : "2021-03-11T18:48:37Z",
        "lastEditedBy" : "085a9c6b-569e-49bd-9434-7f128372cf0c",
        "tags" : [
        ]
      },
      {
        "id" : "37ed983e-bb2c-403b-9ba0-03e0c749c3a6",
        "parentId" : "61c9ece6-338e-4815-950e-23b045293434",
        "authorId" : "f2c74f2c-0bac-4db2-b2da-7527eb79de8d",
        "body" : "Pytest could not find the tests when I built locally ü§∑‚Äç‚ôÇÔ∏è.  I gather this is because pytest only collects from the working directory or supplied arguments.\r\n\r\nI've tried `pytest $SRC_DIR` but no luck.  Looking in that directory showed only a bunch of conda specific files.  There is the `SP_DIR` var that points to site-packages but that seems a little brittle.\r\n\r\nManually including the tests is the only way I could get the tests to run. I could be a little more specific and have `- bargeparse/test_*.py`‚Ä¶\r\n\r\nThoughts?",
        "createdAt" : "2021-03-11T19:28:23Z",
        "updatedAt" : "2021-03-11T19:28:24Z",
        "lastEditedBy" : "f2c74f2c-0bac-4db2-b2da-7527eb79de8d",
        "tags" : [
        ]
      },
      {
        "id" : "e7a70025-a2ba-4c32-8da7-c1f5711e03cb",
        "parentId" : "61c9ece6-338e-4815-950e-23b045293434",
        "authorId" : "085a9c6b-569e-49bd-9434-7f128372cf0c",
        "body" : "Ok, sounds reasonable. I think we should include the specific files as you suggested.",
        "createdAt" : "2021-03-11T19:36:11Z",
        "updatedAt" : "2021-03-11T19:36:12Z",
        "lastEditedBy" : "085a9c6b-569e-49bd-9434-7f128372cf0c",
        "tags" : [
        ]
      },
      {
        "id" : "3be52b0e-a92f-43e2-9713-9c74fe2f6ad0",
        "parentId" : "61c9ece6-338e-4815-950e-23b045293434",
        "authorId" : "f2c74f2c-0bac-4db2-b2da-7527eb79de8d",
        "body" : "Ok I've tried to selectively include the test files but I couldn't get the tests to work.  The problem is there's an import from conftest.py ‚Äì¬†including this as well doesn't fix the problem due to the relative import (an absolute import won't work here).\r\n\r\nIt's probably better off & simpler to just import the bargeparse/ directory.",
        "createdAt" : "2021-03-13T16:16:40Z",
        "updatedAt" : "2021-03-13T16:16:41Z",
        "lastEditedBy" : "f2c74f2c-0bac-4db2-b2da-7527eb79de8d",
        "tags" : [
        ]
      }
    ],
    "commit" : "861f8be57f30cc46895f546dc3c3dc2d3f3977aa",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +24,28 @@\ntest:\n  source_files:\n    - bargeparse\n  imports:"
  }
]