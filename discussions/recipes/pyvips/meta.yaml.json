[
  {
    "id" : "fcb690bd-8492-483f-b301-55cab732a436",
    "prId" : 8926,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/8926#pullrequestreview-279203673",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "98482b93-56ae-473c-a264-a578c8eb42c1",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "This belongs in build:\r\n```suggestion\r\n```\r\nDependencies should (almost) never be duplicated between host and build.",
        "createdAt" : "2019-08-23T19:45:06Z",
        "updatedAt" : "2019-08-23T20:16:18Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      },
      {
        "id" : "5e1a8732-db4a-4705-8fe7-608b6438e065",
        "parentId" : "98482b93-56ae-473c-a264-a578c8eb42c1",
        "authorId" : "77e13738-0197-4f33-8e15-4ed96cfa4db0",
        "body" : "Hello @chrisburr, that's exactly the bit that took me ages to get right. You'll find it stops working if you remove that line.\r\n\r\npyvips is perhaps unusual in that it uses `cffi` API mode. At `bdist_build` time, it generates a C extension that implements the low level parts of the Python -> libvips binding, compiles it, and includes that `.so`/`.dll` with the byte-compiled .py files.\r\n\r\nFor this to work, it must have `pkgconfig`, so it can locate the libvips headers, libvips itself, and of course a C compiler. I didn't have to ask for the python-dev headers I guess they are always there.\r\n\r\nI didn't try removing `pkgconfig` from `build`, that might be possible.",
        "createdAt" : "2019-08-23T20:13:37Z",
        "updatedAt" : "2019-08-23T20:16:18Z",
        "lastEditedBy" : "77e13738-0197-4f33-8e15-4ed96cfa4db0",
        "tags" : [
        ]
      },
      {
        "id" : "a2902224-3856-4fc8-8e0f-af997c9ae80b",
        "parentId" : "98482b93-56ae-473c-a264-a578c8eb42c1",
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "Sorry I was thinking of `pkg-config` as opposed to the Python bindings (`pkgconfig`). You're correct, the Python bindings belong in `host`.",
        "createdAt" : "2019-08-23T20:18:08Z",
        "updatedAt" : "2019-08-23T20:18:08Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "d00a644c35a27bbbcd39467d438760692a90cc9c",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +34,38 @@    - libvips\n    - pip\n    - pkgconfig         # [not win]\n    - pytest\n    - pytest-runner"
  }
]