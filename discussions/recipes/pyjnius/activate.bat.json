[
  {
    "id" : "ae9037d9-63e4-456c-8991-3645b5f2c498",
    "prId" : 6091,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/6091#pullrequestreview-129024076",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "28985874-c64d-49fa-87ee-dc02f016ee7c",
        "parentId" : null,
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Since [`%JDK_HOME%` is just the `%LIBRARY_PREFIX%`]( https://github.com/conda-forge/openjdk-feedstock/blob/16d07e2287c7d295df58f6ad82a59c9d3885226e/recipe/scripts/activate.bat#L2 ), `%JDK_HOME%\\bin` is already on the `%PATH%` as `conda` adds that for us. Given this, it appears the critical thing is having `%JDK_HOME%\\jre\\bin\\server` added. Inspecting that directory reveals only one library, which is `jvm.dll` (needed by libraries using JNI). This explains the loading error and why we needed to add this to the `%PATH%`. Have submitted PR ( https://github.com/conda-forge/openjdk-feedstock/pull/30 ) to have `openjdk` do this for us.",
        "createdAt" : "2018-06-15T01:35:41Z",
        "updatedAt" : "2018-07-17T15:43:44Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "7af977df-0c19-4c27-a0a1-3d54ad7751a2",
        "parentId" : "28985874-c64d-49fa-87ee-dc02f016ee7c",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Another thing worth checking, it appears on [macOS and Linux set `JAVA_LD_LIBRARY_PATH` to the equivalent location]( https://github.com/conda-forge/openjdk-feedstock/blob/16d07e2287c7d295df58f6ad82a59c9d3885226e/recipe/scripts/activate.sh#L7-L11 ). Maybe setting this alone would also solve the issue on Windows?",
        "createdAt" : "2018-06-15T02:00:12Z",
        "updatedAt" : "2018-07-17T15:43:44Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      }
    ],
    "commit" : "f85e13265c620bda730c2a69f107bd46184c86b2",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +4,8 @@SET \"JDK_HOME=%JAVA_HOME%\"\nSET \"PATH_BACKUP=%PATH%\"\nSET \"PATH=%JDK_HOME%\\jre\\bin\\server;%JDK_HOME%\\bin;%PATH%\""
  },
  {
    "id" : "65139872-5e9d-472b-ae56-02ef8156d4a5",
    "prId" : 6091,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/6091#pullrequestreview-137880992",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ebdbb270-7799-4708-be41-7ac18fb17648",
        "parentId" : null,
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Would be curious to see if we can just drop the `%JDK_HOME%` stuff given we didn't need it on Unix and it seems like we have a better understanding of the problem now.",
        "createdAt" : "2018-06-15T01:37:22Z",
        "updatedAt" : "2018-07-17T15:43:44Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "36839537-e912-4d65-aba2-a340d121fde0",
        "parentId" : "ebdbb270-7799-4708-be41-7ac18fb17648",
        "authorId" : "67e8a5eb-f8bf-4ca1-aa12-229fe68ab839",
        "body" : "The PyJNIus doc states that we should set it, so I'd just leave it in there.\r\nhttp://pyjnius.readthedocs.io/en/latest/installation.html#installation-for-windows",
        "createdAt" : "2018-07-17T15:16:44Z",
        "updatedAt" : "2018-07-17T15:43:44Z",
        "lastEditedBy" : "67e8a5eb-f8bf-4ca1-aa12-229fe68ab839",
        "tags" : [
        ]
      }
    ],
    "commit" : "f85e13265c620bda730c2a69f107bd46184c86b2",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +2,6 @@SET \"PYJNIUS_JAR=%CONDA_PREFIX%\\share\\pyjnius\\pyjnius.jar\"\nSET \"JDK_HOME_BACKUP=%JDK_HOME%\"\nSET \"JDK_HOME=%JAVA_HOME%\"\nSET \"PATH_BACKUP=%PATH%\"\nSET \"PATH=%JDK_HOME%\\jre\\bin\\server;%JDK_HOME%\\bin;%PATH%\""
  }
]