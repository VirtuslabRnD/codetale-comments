[
  {
    "id" : "0e85ac63-b4d2-4aac-bcc4-8c91b490eff3",
    "prId" : 643,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "efae0b1e-2557-4cf9-ae0a-2108bf965b6a",
        "parentId" : null,
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "üëç\n",
        "createdAt" : "2016-05-19T16:49:07Z",
        "updatedAt" : "2016-05-19T16:49:07Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6c30cf2d08db71a6a2df801e7d4b5babe58305c3",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +1,5 @@# Some useful notes can be found at https://conda-forge.hackpad.com/BLAS-Numpy-Friends-86De62hoNdT\n\n{% set variant = os.environ.get('BLAS_VARIANT', 'openblas') %}\n\npackage:"
  },
  {
    "id" : "422b9d30-9c36-4de1-a9c8-180528f66f22",
    "prId" : 643,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9608ccc3-a82e-403c-8ac9-14d031e279d0",
        "parentId" : null,
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "I think we need to add this to the `build` section for the [environment variable](http://conda.pydata.org/docs/building/environment-vars.html#inherited-environment-variables) to work. Otherwise I don't think it will be set even if it was set outside the build.\n\n```\nscript_env:\n  - BLAS_VARIANT\n```\n",
        "createdAt" : "2016-05-19T16:50:48Z",
        "updatedAt" : "2016-05-19T16:51:35Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "bf074953-17cb-46c9-9d39-c1732c19437c",
        "parentId" : "9608ccc3-a82e-403c-8ac9-14d031e279d0",
        "authorId" : "753b1247-ba26-4947-8bde-480d6590d6e2",
        "body" : "No, I haven't found that to be the case. `BLAS_VARIANT=foobar conda build recipes/blas` produces the expected results. The variable _would_ be needed in `script_env` if we wanted access to it in `build.sh`.\n",
        "createdAt" : "2016-05-19T17:24:22Z",
        "updatedAt" : "2016-05-19T17:24:22Z",
        "lastEditedBy" : "753b1247-ba26-4947-8bde-480d6590d6e2",
        "tags" : [
        ]
      },
      {
        "id" : "0f5c90ca-b8b8-4893-8bf8-44c6abcdc5b6",
        "parentId" : "9608ccc3-a82e-403c-8ac9-14d031e279d0",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Yep, you are right this works with `jinja`. I can't really think of a reason to have a `build.sh` so let's leave it.\n",
        "createdAt" : "2016-05-19T17:31:51Z",
        "updatedAt" : "2016-05-19T17:31:51Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6c30cf2d08db71a6a2df801e7d4b5babe58305c3",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +15,19 @@    # The \"blas\" package must always track a feature, else it will be\n    # prioritised over all others.\n    - blas_{{ variant }}\n\n{% if variant != \"none\" %}"
  }
]