[
  {
    "id" : "3491d3d6-3a8f-41e2-a161-4caac7d15ebe",
    "prId" : 9102,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/9102#pullrequestreview-297340609",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dc8ef02b-c428-4596-b937-b51206bb2106",
        "parentId" : null,
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Do you support other CUDA versions? Or only 10.0?\r\n\r\nAlso do you want to have a CPU only build? Or are you only interested in building with GPU support?",
        "createdAt" : "2019-10-02T16:54:46Z",
        "updatedAt" : "2019-10-06T20:54:19Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "21be801e-f250-45f5-883c-5c0ba685c694",
        "parentId" : "dc8ef02b-c428-4596-b937-b51206bb2106",
        "authorId" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "body" : "We will add more CUDA versions, yes. I think we can do it [like the ucx recipe](https://github.com/conda-forge/ucx-split-feedstock/blob/master/recipe/conda_build_config.yaml), right?\r\n\r\nOpenMM will just ignore CUDA/OpenCL if the platform is not compatible, so we don't _need_ CPU-only packages, I'd say. We might be interested in building variants without the explicit `cudatoolkit` runtime dependency though, so people can use their own CUDA installation without downloading a several hundreds MB package. How are you handling this scenario right now?",
        "createdAt" : "2019-10-02T17:02:39Z",
        "updatedAt" : "2019-10-06T20:54:19Z",
        "lastEditedBy" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "tags" : [
        ]
      },
      {
        "id" : "a14c6570-5edd-4d36-8d0f-c72facd0a480",
        "parentId" : "dc8ef02b-c428-4596-b937-b51206bb2106",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "By adding a [`None` version]( https://github.com/conda-forge/ucx-split-feedstock/blob/e807987cd0a8d36ffdd2d4edb41c80442cef8b17/recipe/conda_build_config.yaml#L4 ) and [a selector to disable the CUDA compiler in that case]( https://github.com/conda-forge/ucx-split-feedstock/blob/e807987cd0a8d36ffdd2d4edb41c80442cef8b17/recipe/meta.yaml#L50 ).\r\n\r\nEdit: Should add this is accompanied by [the regular conda-forge Docker image]( https://github.com/conda-forge/ucx-split-feedstock/blob/e807987cd0a8d36ffdd2d4edb41c80442cef8b17/recipe/conda_build_config.yaml#L9 ).",
        "createdAt" : "2019-10-02T19:20:47Z",
        "updatedAt" : "2019-10-06T20:54:19Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "8ef28e03-3c36-4e3e-9646-9c0f8376d1ab",
        "parentId" : "dc8ef02b-c428-4596-b937-b51206bb2106",
        "authorId" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "body" : "But we still want to build the CUDA libraries in our package. We just want to ignore `cudatoolkit` for one of the variants so the user provides their own CUDA install (like in a cluster).",
        "createdAt" : "2019-10-03T07:53:47Z",
        "updatedAt" : "2019-10-06T20:54:19Z",
        "lastEditedBy" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "tags" : [
        ]
      },
      {
        "id" : "03d24860-c048-41c9-8016-58024cfc4c21",
        "parentId" : "dc8ef02b-c428-4596-b937-b51206bb2106",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Ah. I'm not sure that we have a good way to solve this ATM. What is gained by using an existing CUDA install vs. using the `cudatoolkit` package?",
        "createdAt" : "2019-10-03T16:23:10Z",
        "updatedAt" : "2019-10-06T20:54:19Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "2a1d316a-acce-4fc4-a56d-64ccb8f348a4",
        "parentId" : "dc8ef02b-c428-4596-b937-b51206bb2106",
        "authorId" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "body" : "I'd say there are two main reasons:\r\n\r\n1. Avoiding the large `cudatoolkit` download.\r\n2. Allowing HPC sysadmins to provide their own CUDA environment.\r\n\r\nMaybe @peastman wants to add something else.",
        "createdAt" : "2019-10-03T21:31:50Z",
        "updatedAt" : "2019-10-06T20:54:19Z",
        "lastEditedBy" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "tags" : [
        ]
      },
      {
        "id" : "d8b66513-5534-444e-a666-dcdd7aa92ebe",
        "parentId" : "dc8ef02b-c428-4596-b937-b51206bb2106",
        "authorId" : "30b08889-a4f3-4e8d-a962-7445485bc5ae",
        "body" : "That sounds right.",
        "createdAt" : "2019-10-03T22:17:21Z",
        "updatedAt" : "2019-10-06T20:54:19Z",
        "lastEditedBy" : "30b08889-a4f3-4e8d-a962-7445485bc5ae",
        "tags" : [
        ]
      },
      {
        "id" : "03bdcec1-4851-4295-b190-3fe3dd36d093",
        "parentId" : "dc8ef02b-c428-4596-b937-b51206bb2106",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Please raise an issue on the [`nvcc` issue tracker]( https://github.com/conda-forge/nvcc-feedstock/issues ). We can discuss this further there.",
        "createdAt" : "2019-10-03T23:37:12Z",
        "updatedAt" : "2019-10-06T20:54:19Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "a81e9816-5b82-4fb2-861f-7715efede503",
        "parentId" : "dc8ef02b-c428-4596-b937-b51206bb2106",
        "authorId" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "body" : "Done! https://github.com/conda-forge/nvcc-feedstock/issues/14",
        "createdAt" : "2019-10-04T08:50:48Z",
        "updatedAt" : "2019-10-06T20:54:19Z",
        "lastEditedBy" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "tags" : [
        ]
      }
    ],
    "commit" : "11eb8a36c738a3dc54e6cf26a5fecb302e4ec4e2",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +5,9 @@cuda_compiler_version:\n# - 9.2\n- 10.0\n# - 10.1\ndocker_image:"
  },
  {
    "id" : "b95a542b-3367-4572-ac43-7a26d3778ec6",
    "prId" : 9102,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/9102#pullrequestreview-299271272",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f3423eed-dd30-4991-917a-6f060c249e13",
        "parentId" : null,
        "authorId" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "body" : "You can uncomment this in the feedstock. If you want to add more CUDA packages through staged-recipes, we'd appreciate some help in getting staged-recipes to play nicely with CUDA packages.",
        "createdAt" : "2019-10-06T20:58:09Z",
        "updatedAt" : "2019-10-06T20:58:09Z",
        "lastEditedBy" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "tags" : [
        ]
      },
      {
        "id" : "09cf3a24-3957-48e8-9fa5-f169733281a5",
        "parentId" : "f3423eed-dd30-4991-917a-6f060c249e13",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Have been meaning to raise an issue about this. Submitted issue ( https://github.com/conda-forge/staged-recipes/issues/9773 ) for discussion and tracking work on this task.",
        "createdAt" : "2019-10-08T20:23:24Z",
        "updatedAt" : "2019-10-08T20:23:24Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "af5ef404-9aa2-483b-b232-668cefed5101",
        "parentId" : "f3423eed-dd30-4991-917a-6f060c249e13",
        "authorId" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "body" : "Following issue!",
        "createdAt" : "2019-10-09T09:12:58Z",
        "updatedAt" : "2019-10-09T09:12:58Z",
        "lastEditedBy" : "317fd957-5ed2-4ee1-826d-17770e085e96",
        "tags" : [
        ]
      }
    ],
    "commit" : "11eb8a36c738a3dc54e6cf26a5fecb302e4ec4e2",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +10,14 @@# - condaforge/linux-anvil-cuda:9.2\n- condaforge/linux-anvil-cuda:10.0\n# - condaforge/linux-anvil-cuda:10.1\nzip_keys:\n- - cuda_compiler_version"
  }
]