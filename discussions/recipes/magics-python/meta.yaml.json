[
  {
    "id" : "865328a4-b3cc-4761-b65b-b57f5a5abf79",
    "prId" : 8136,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/8136#pullrequestreview-226080685",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "09b24ba8-0f4e-4460-943e-81685bf9f99e",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "Can this be `noarch`?\r\n```suggestion\r\n  number: 0\r\n  noarch: python\r\n```",
        "createdAt" : "2019-04-12T12:57:20Z",
        "updatedAt" : "2019-04-12T16:03:09Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      },
      {
        "id" : "ced168a3-7150-4d80-a077-9b3722039033",
        "parentId" : "09b24ba8-0f4e-4460-943e-81685bf9f99e",
        "authorId" : "ec8e3da2-d3ee-4018-8157-6db2f15843d0",
        "body" : "Probably",
        "createdAt" : "2019-04-12T13:31:12Z",
        "updatedAt" : "2019-04-12T16:03:09Z",
        "lastEditedBy" : "ec8e3da2-d3ee-4018-8157-6db2f15843d0",
        "tags" : [
        ]
      }
    ],
    "commit" : "abeabfee9ed41ad76dbe885404d8933ad6a7e636",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +12,16 @@\nbuild:\n  number: 0\n  noarch: python\n  script: \"{{ PYTHON }} -m pip install . --no-deps --ignore-installed -vv \""
  },
  {
    "id" : "bdee8046-15b4-4c73-8e25-17cb24f0753a",
    "prId" : 8136,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/8136#pullrequestreview-226340213",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a0678107-b34b-4a07-9d2a-c55f94513358",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "From the comment below it sounds like you're missing a dependency or am I misunderstanding?\r\n```suggestion\r\n    - python\r\n    - magics\r\n```",
        "createdAt" : "2019-04-12T12:58:43Z",
        "updatedAt" : "2019-04-12T16:03:09Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      },
      {
        "id" : "6442ff58-cc0b-4dac-b2de-eb5642fbcd58",
        "parentId" : "a0678107-b34b-4a07-9d2a-c55f94513358",
        "authorId" : "ec8e3da2-d3ee-4018-8157-6db2f15843d0",
        "body" : "It's slightly messy. There's already a magics feedstock for the magics c++ library. ECMWF want users to `conda install magics` and get both magics and magics-python. That means magics-python needs to be a dep of magics. We would have a circular dependency if magics is also a dep of magics-python.\r\n\r\nIt's also possible for users to build their own magics from source. In that case they would want to install magics-python without having magics bundled with it.",
        "createdAt" : "2019-04-12T13:28:36Z",
        "updatedAt" : "2019-04-12T16:03:09Z",
        "lastEditedBy" : "ec8e3da2-d3ee-4018-8157-6db2f15843d0",
        "tags" : [
        ]
      },
      {
        "id" : "4245d28b-0f30-48b9-aba3-b7be069c81ee",
        "parentId" : "a0678107-b34b-4a07-9d2a-c55f94513358",
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "This will still introduce a circular dependency from being in the test dependencies.  From a quick search it seems like this is a change for magics 4, if so I have a suggestion but it might not be practical:\r\n\r\n1. Make a `magics-cpp` package that conflicts with `magics <=4.0.0`\r\n2. `magics-python` has a runtime dependency on `magics-cpp`\r\n3. `magics` becomes a metapackage, possibly pinned to an exact version of `magics-cpp` so that it is still possible to run `conda install magics=4.3.2`\r\n\r\n> It's also possible for users to build their own magics from source. In that case they would want to install magics-python without having magics bundled with it.\r\n\r\nIt might make more sense to only support this for pip installations of the Python bindings.",
        "createdAt" : "2019-04-12T14:58:40Z",
        "updatedAt" : "2019-04-12T16:03:09Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      },
      {
        "id" : "76c8e9f4-339d-4bcb-b33b-09c2432f115b",
        "parentId" : "a0678107-b34b-4a07-9d2a-c55f94513358",
        "authorId" : "ec8e3da2-d3ee-4018-8157-6db2f15843d0",
        "body" : "You're right of course.\r\n\r\nYour suggestion is decent but I don't really have the time to implement it. I think the solution which ticks all of the boxes at ECMWF and it also straightforward is to have this package untested (given that it's already tested elsewhere) and have it as a runtime dep of magics.\r\n\r\nI've removed the import test entirely and conda build appears to be happy with it. Does that sound like an acceptable way forward to you?",
        "createdAt" : "2019-04-12T15:42:19Z",
        "updatedAt" : "2019-04-12T16:03:09Z",
        "lastEditedBy" : "ec8e3da2-d3ee-4018-8157-6db2f15843d0",
        "tags" : [
        ]
      },
      {
        "id" : "9fd33c03-9dc3-4d4f-bc21-12e8a4ee46a3",
        "parentId" : "a0678107-b34b-4a07-9d2a-c55f94513358",
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "That's fine for me, LGTM üëç",
        "createdAt" : "2019-04-13T05:45:53Z",
        "updatedAt" : "2019-04-13T05:45:53Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "abeabfee9ed41ad76dbe885404d8933ad6a7e636",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@  run:\n    - numpy\n    - python\n\ntest:"
  }
]