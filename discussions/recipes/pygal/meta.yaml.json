[
  {
    "id" : "ae94f1c5-0813-4928-918e-03c675fc9922",
    "prId" : 8270,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/8270#pullrequestreview-245083854",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6d581314-8100-48d8-9f86-c878a05f194b",
        "parentId" : null,
        "authorId" : "80a21776-2fd5-4f8a-8d3f-678bf31ba384",
        "body" : "It seems like something is missing (according to the CI). Maybe `pyquery` and `flask`? ",
        "createdAt" : "2019-05-07T04:53:04Z",
        "updatedAt" : "2019-06-03T19:44:34Z",
        "lastEditedBy" : "80a21776-2fd5-4f8a-8d3f-678bf31ba384",
        "tags" : [
        ]
      },
      {
        "id" : "ab19c584-3e48-44f1-a2e1-61b3acc14a95",
        "parentId" : "6d581314-8100-48d8-9f86-c878a05f194b",
        "authorId" : "e317eb10-2ae7-4501-83f3-f3e7cc54830e",
        "body" : "Apparently it's complaining about `setuptools` and asking to add all dependencies to the `meta.yaml` file, but this package doesn't have any required dependencies, only some optional ones that I've added.",
        "createdAt" : "2019-05-07T13:33:53Z",
        "updatedAt" : "2019-06-03T19:44:34Z",
        "lastEditedBy" : "e317eb10-2ae7-4501-83f3-f3e7cc54830e",
        "tags" : [
        ]
      },
      {
        "id" : "426cd907-3756-4840-a714-4545c798dcfb",
        "parentId" : "6d581314-8100-48d8-9f86-c878a05f194b",
        "authorId" : "e317eb10-2ae7-4501-83f3-f3e7cc54830e",
        "body" : "OK, I think I got all dependencies now. But the tests are failing: `ModuleNotFoundError: No module named 'pkg_resources'`",
        "createdAt" : "2019-05-08T00:53:43Z",
        "updatedAt" : "2019-06-03T19:44:34Z",
        "lastEditedBy" : "e317eb10-2ae7-4501-83f3-f3e7cc54830e",
        "tags" : [
        ]
      },
      {
        "id" : "8e6059c3-49f4-4433-b0ee-79e06713bb0c",
        "parentId" : "6d581314-8100-48d8-9f86-c878a05f194b",
        "authorId" : "95383998-4cee-419b-8e0e-30292709e0a6",
        "body" : "@Matt-BF, for most python packages all you typically need to include in `requirements/host` is python, pip, and setuptools, the _runtime_ dependencies should be listed in `requirements/run`, but it looks here like you have nothing listed at all (except python).\r\n\r\nSpecifically the builds are failling because your package has a top-level import of `pkg_resources` which is provided by `setuptools`, so that definitely needs to be included in `requirements/run`.",
        "createdAt" : "2019-05-31T15:26:21Z",
        "updatedAt" : "2019-06-03T19:44:34Z",
        "lastEditedBy" : "95383998-4cee-419b-8e0e-30292709e0a6",
        "tags" : [
        ]
      },
      {
        "id" : "4120e020-648f-4f7d-acc3-14706564523a",
        "parentId" : "6d581314-8100-48d8-9f86-c878a05f194b",
        "authorId" : "e317eb10-2ae7-4501-83f3-f3e7cc54830e",
        "body" : "@duncanmmacleod yeah, that's what I thought, but for some reason this package freaks out if the dependencies go to run instead of host (something to do with `egg_info`), not sure what I'm doing wrong. Also, adding `setuptools` to `requirements/host` didn't solve the `ModuleNotFoundError`. Maybe I should try adding `setuptools` to `requirements/run`?",
        "createdAt" : "2019-06-01T17:28:55Z",
        "updatedAt" : "2019-06-03T19:44:34Z",
        "lastEditedBy" : "e317eb10-2ae7-4501-83f3-f3e7cc54830e",
        "tags" : [
        ]
      },
      {
        "id" : "612253cd-b17f-45c1-90a8-e9366a7ae58a",
        "parentId" : "6d581314-8100-48d8-9f86-c878a05f194b",
        "authorId" : "95383998-4cee-419b-8e0e-30292709e0a6",
        "body" : "Because your package (as opposed to the build) imports `pkg_resources`, you _definitely_ need `setuptools` in `requirements/run`. The build (`host`) and run/test (`run`) environments are completely independent, so including a package in one list has no bearing on the other (typically) ",
        "createdAt" : "2019-06-01T20:07:18Z",
        "updatedAt" : "2019-06-03T19:44:34Z",
        "lastEditedBy" : "95383998-4cee-419b-8e0e-30292709e0a6",
        "tags" : [
        ]
      },
      {
        "id" : "9803eef8-49a1-405a-bc83-50708d76dcbd",
        "parentId" : "6d581314-8100-48d8-9f86-c878a05f194b",
        "authorId" : "e317eb10-2ae7-4501-83f3-f3e7cc54830e",
        "body" : "@duncanmmacleod That worked perfectly, thank you very much for all your help! Only issue now is the linter isn't happy about the way I wrote `skip: True # [py2k]`  \r\n\r\nEdit: fixed it by specifying the recipe as noarch",
        "createdAt" : "2019-06-03T19:38:49Z",
        "updatedAt" : "2019-06-03T19:57:03Z",
        "lastEditedBy" : "e317eb10-2ae7-4501-83f3-f3e7cc54830e",
        "tags" : [
        ]
      }
    ],
    "commit" : "fc4fbac6975f7f50bf75ca49a12e12c2ec96fc72",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +30,34 @@    - coveralls\n    - tinycss\n    - cssselect\n    \n  run:"
  }
]