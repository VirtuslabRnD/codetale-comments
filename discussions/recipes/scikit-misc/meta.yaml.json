[
  {
    "id" : "2e8e070d-8f07-4c29-89b5-de53d589dd3d",
    "prId" : 13537,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13537#pullrequestreview-557567878",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "de5e9846-8fe9-4ff0-aa3e-8fc7b6d6cdf9",
        "parentId" : null,
        "authorId" : "f2a8b72f-e001-4606-a1c7-b774f81c945f",
        "body" : "Is the explicit dependency on libopenblas really needed? Numpy will pull it in if *it* needs it.",
        "createdAt" : "2020-12-23T02:15:17Z",
        "updatedAt" : "2020-12-23T02:15:18Z",
        "lastEditedBy" : "f2a8b72f-e001-4606-a1c7-b774f81c945f",
        "tags" : [
        ]
      },
      {
        "id" : "e57f11b4-f0a2-4aea-82a1-68a4c9ee3566",
        "parentId" : "de5e9846-8fe9-4ff0-aa3e-8fc7b6d6cdf9",
        "authorId" : "32de12b9-a221-4db1-b22f-08b4584161dc",
        "body" : "Without explicitly stating `libopenblas`, my local test on Linux gives the following error:\r\n\r\n```\r\nPackaging scikit-misc\r\nINFO conda_build.build:build(2214): Packaging scikit-misc\r\nPackaging scikit-misc-0.1.3-py38h0e9072a_0\r\nINFO conda_build.build:bundle_conda(1454): Packaging scikit-misc-0.1.3-py38h0e9072a_0\r\ncompiling .pyc files...\r\nnumber of files: 32\r\nWARNING :: get_rpaths_raw()=['/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/lib:/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold/lib'] and patchelf=[['/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/lib', '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold/lib']] disagree for /home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold/lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so :: \r\nWarning: rpath /home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/lib is outside prefix /home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold (removing it)\r\n   INFO: sysroot: '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/' files: '['/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/usr/share/zoneinfo/zone.tab', '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/usr/share/zoneinfo/tzdata.zi', '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/usr/share/zoneinfo/right/Zulu', '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/usr/share/zoneinfo/right/WET']'\r\n  ERROR (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): Needed DSO lib/libopenblas.so.0 found in ['libopenblas']\r\n  ERROR (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): .. but ['libopenblas'] not in reqs/run, (i.e. it is overlinking) (likely) or a missing dependency (less likely)\r\n   INFO (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/libm.so.6 found in CDT/compiler package conda-forge::sysroot_linux-64-2.12-h77966d4_13\r\n   INFO (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/libc.so.6 found in CDT/compiler package conda-forge::sysroot_linux-64-2.12-h77966d4_13\r\nWARNING (scikit-misc): plugin library (Python) package conda-forge::numpy-1.16.6-py38h18fd61f_0 in requirements/run but it is not used (i.e. it is overdepending or perhaps statically linked? If that is what you want then add it to `build/ignore_run_exports`)\r\nWARNING (scikit-misc): run-exports library package conda-forge::libgfortran5-9.3.0-he4bcb1c_17 in requirements/run but it is not used (i.e. it is overdepending or perhaps statically linked? If that is what you want then add it to `build/ignore_run_exports`)\r\nWARNING (scikit-misc): interpreter (Python) package conda-forge::python-3.8.6-hffdb5ce_2_cpython in requirements/run but it is not used (i.e. it is overdepending or perhaps statically linked? If that is what you want then add it to `build/ignore_run_exports`)\r\nTraceback (most recent call last):\r\n  File \"/home/conda/staged-recipes-copy/.ci_support/build_all.py\", line 157, in <module>\r\n    build_all(os.path.join(root_dir, \"recipes\"), args.arch)\r\n  File \"/home/conda/staged-recipes-copy/.ci_support/build_all.py\", line 81, in build_all\r\n    build_folders(recipes_dir, new_comp_folders, arch, channel_urls)\r\n  File \"/home/conda/staged-recipes-copy/.ci_support/build_all.py\", line 138, in build_folders\r\n    conda_build.api.build([recipe], config=get_config(arch, channel_urls))\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/api.py\", line 186, in build\r\n    return build_tree(\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/build.py\", line 3008, in build_tree\r\n    packages_from_this = build(metadata, stats,\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/build.py\", line 2291, in build\r\n    newly_built_packages = bundlers[pkg_type](output_d, m, env, stats)\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/build.py\", line 1584, in bundle_conda\r\n    files = post_process_files(metadata, initial_files)\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/build.py\", line 1430, in post_process_files\r\n    post_build(m, new_files, build_python=python)\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/post.py\", line 1319, in post_build\r\n    check_overlinking(m, files, host_prefix)\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/post.py\", line 1225, in check_overlinking\r\n    return check_overlinking_impl(m.get_value('package/name'),\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/post.py\", line 1208, in check_overlinking_impl\r\n    raise OverLinkingError(overlinking_errors)\r\nconda_build.exceptions.OverLinkingError: overlinking check failed \r\n[\"  ERROR (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): .. but ['libopenblas'] not in reqs/run, (i.e. it is overlinking) (likely) or a missing dependency (less likely)\"]\r\n\r\n```",
        "createdAt" : "2020-12-23T03:18:17Z",
        "updatedAt" : "2020-12-23T03:19:35Z",
        "lastEditedBy" : "32de12b9-a221-4db1-b22f-08b4584161dc",
        "tags" : [
        ]
      },
      {
        "id" : "144ba212-67cf-4373-a7ee-db40e7f9655f",
        "parentId" : "de5e9846-8fe9-4ff0-aa3e-8fc7b6d6cdf9",
        "authorId" : "32de12b9-a221-4db1-b22f-08b4584161dc",
        "body" : "@dopplershift Do you have any suggestion regarding this issue?",
        "createdAt" : "2020-12-23T03:18:56Z",
        "updatedAt" : "2020-12-23T03:18:56Z",
        "lastEditedBy" : "32de12b9-a221-4db1-b22f-08b4584161dc",
        "tags" : [
        ]
      },
      {
        "id" : "105e9367-b336-44fb-adee-1fc6574f9987",
        "parentId" : "de5e9846-8fe9-4ff0-aa3e-8fc7b6d6cdf9",
        "authorId" : "f2a8b72f-e001-4606-a1c7-b774f81c945f",
        "body" : "Sounds like adding `libopenblas` might just be the right answer then.",
        "createdAt" : "2020-12-23T04:10:01Z",
        "updatedAt" : "2020-12-23T04:10:01Z",
        "lastEditedBy" : "f2a8b72f-e001-4606-a1c7-b774f81c945f",
        "tags" : [
        ]
      }
    ],
    "commit" : "311740aa69f2679998bb73338651b7c306a8e5dc",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +27,31 @@    - python\n    - numpy\n    - libopenblas\n\ntest:"
  },
  {
    "id" : "bba4abcb-acdb-4aa1-a76b-f90caa2b87eb",
    "prId" : 13537,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/13537#pullrequestreview-557567878",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7926a866-fd43-40fd-aab9-007225d5e71e",
        "parentId" : null,
        "authorId" : "43fc678a-cc3a-4707-8540-4c6397651b46",
        "body" : "Is the explicit dependency on libopenblas really needed? Numpy will pull it in if *it* needs it.",
        "createdAt" : "2020-12-23T02:15:17Z",
        "updatedAt" : "2020-12-23T02:15:18Z",
        "lastEditedBy" : "43fc678a-cc3a-4707-8540-4c6397651b46",
        "tags" : [
        ]
      },
      {
        "id" : "c084c361-4555-44e7-aa60-34ba9a5537c3",
        "parentId" : "7926a866-fd43-40fd-aab9-007225d5e71e",
        "authorId" : "43dcc984-07dc-48da-b783-a05d8d2f9093",
        "body" : "Without explicitly stating `libopenblas`, my local test on Linux gives the following error:\r\n\r\n```\r\nPackaging scikit-misc\r\nINFO conda_build.build:build(2214): Packaging scikit-misc\r\nPackaging scikit-misc-0.1.3-py38h0e9072a_0\r\nINFO conda_build.build:bundle_conda(1454): Packaging scikit-misc-0.1.3-py38h0e9072a_0\r\ncompiling .pyc files...\r\nnumber of files: 32\r\nWARNING :: get_rpaths_raw()=['/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/lib:/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold/lib'] and patchelf=[['/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/lib', '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold/lib']] disagree for /home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold/lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so :: \r\nWarning: rpath /home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/lib is outside prefix /home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold (removing it)\r\n   INFO: sysroot: '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/' files: '['/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/usr/share/zoneinfo/zone.tab', '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/usr/share/zoneinfo/tzdata.zi', '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/usr/share/zoneinfo/right/Zulu', '/home/conda/staged-recipes/build_artifacts/scikit-misc_1608693257402/_build_env/x86_64-conda-linux-gnu/sysroot/usr/share/zoneinfo/right/WET']'\r\n  ERROR (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): Needed DSO lib/libopenblas.so.0 found in ['libopenblas']\r\n  ERROR (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): .. but ['libopenblas'] not in reqs/run, (i.e. it is overlinking) (likely) or a missing dependency (less likely)\r\n   INFO (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/libm.so.6 found in CDT/compiler package conda-forge::sysroot_linux-64-2.12-h77966d4_13\r\n   INFO (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/libc.so.6 found in CDT/compiler package conda-forge::sysroot_linux-64-2.12-h77966d4_13\r\nWARNING (scikit-misc): plugin library (Python) package conda-forge::numpy-1.16.6-py38h18fd61f_0 in requirements/run but it is not used (i.e. it is overdepending or perhaps statically linked? If that is what you want then add it to `build/ignore_run_exports`)\r\nWARNING (scikit-misc): run-exports library package conda-forge::libgfortran5-9.3.0-he4bcb1c_17 in requirements/run but it is not used (i.e. it is overdepending or perhaps statically linked? If that is what you want then add it to `build/ignore_run_exports`)\r\nWARNING (scikit-misc): interpreter (Python) package conda-forge::python-3.8.6-hffdb5ce_2_cpython in requirements/run but it is not used (i.e. it is overdepending or perhaps statically linked? If that is what you want then add it to `build/ignore_run_exports`)\r\nTraceback (most recent call last):\r\n  File \"/home/conda/staged-recipes-copy/.ci_support/build_all.py\", line 157, in <module>\r\n    build_all(os.path.join(root_dir, \"recipes\"), args.arch)\r\n  File \"/home/conda/staged-recipes-copy/.ci_support/build_all.py\", line 81, in build_all\r\n    build_folders(recipes_dir, new_comp_folders, arch, channel_urls)\r\n  File \"/home/conda/staged-recipes-copy/.ci_support/build_all.py\", line 138, in build_folders\r\n    conda_build.api.build([recipe], config=get_config(arch, channel_urls))\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/api.py\", line 186, in build\r\n    return build_tree(\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/build.py\", line 3008, in build_tree\r\n    packages_from_this = build(metadata, stats,\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/build.py\", line 2291, in build\r\n    newly_built_packages = bundlers[pkg_type](output_d, m, env, stats)\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/build.py\", line 1584, in bundle_conda\r\n    files = post_process_files(metadata, initial_files)\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/build.py\", line 1430, in post_process_files\r\n    post_build(m, new_files, build_python=python)\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/post.py\", line 1319, in post_build\r\n    check_overlinking(m, files, host_prefix)\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/post.py\", line 1225, in check_overlinking\r\n    return check_overlinking_impl(m.get_value('package/name'),\r\n  File \"/opt/conda/lib/python3.8/site-packages/conda_build/post.py\", line 1208, in check_overlinking_impl\r\n    raise OverLinkingError(overlinking_errors)\r\nconda_build.exceptions.OverLinkingError: overlinking check failed \r\n[\"  ERROR (scikit-misc,lib/python3.8/site-packages/skmisc/loess/_loess.cpython-38-x86_64-linux-gnu.so): .. but ['libopenblas'] not in reqs/run, (i.e. it is overlinking) (likely) or a missing dependency (less likely)\"]\r\n\r\n```",
        "createdAt" : "2020-12-23T03:18:17Z",
        "updatedAt" : "2020-12-23T03:19:35Z",
        "lastEditedBy" : "43dcc984-07dc-48da-b783-a05d8d2f9093",
        "tags" : [
        ]
      },
      {
        "id" : "8c678c53-4e94-4b1d-a21f-6173f282af6c",
        "parentId" : "7926a866-fd43-40fd-aab9-007225d5e71e",
        "authorId" : "43dcc984-07dc-48da-b783-a05d8d2f9093",
        "body" : "@dopplershift Do you have any suggestion regarding this issue?",
        "createdAt" : "2020-12-23T03:18:56Z",
        "updatedAt" : "2020-12-23T03:18:56Z",
        "lastEditedBy" : "43dcc984-07dc-48da-b783-a05d8d2f9093",
        "tags" : [
        ]
      },
      {
        "id" : "cd2439da-0d8f-4b42-b04b-9a707c12859c",
        "parentId" : "7926a866-fd43-40fd-aab9-007225d5e71e",
        "authorId" : "43fc678a-cc3a-4707-8540-4c6397651b46",
        "body" : "Sounds like adding `libopenblas` might just be the right answer then.",
        "createdAt" : "2020-12-23T04:10:01Z",
        "updatedAt" : "2020-12-23T04:10:01Z",
        "lastEditedBy" : "43fc678a-cc3a-4707-8540-4c6397651b46",
        "tags" : [
        ]
      }
    ],
    "commit" : "311740aa69f2679998bb73338651b7c306a8e5dc",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +27,31 @@    - python\n    - numpy\n    - libopenblas\n\ntest:"
  }
]