[
  {
    "id" : "344d3a84-3e42-4736-b9ef-d5629fb32565",
    "prId" : 2050,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/2050#pullrequestreview-12479862",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4fc1aa58-e36e-441f-a007-ee849559e6f6",
        "parentId" : null,
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "This seems pretty shady. Could we not include these in test requirements?",
        "createdAt" : "2016-12-12T14:54:37Z",
        "updatedAt" : "2016-12-12T15:57:25Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "03707f23-4962-4f68-9120-bb1db22a65db",
        "parentId" : "4fc1aa58-e36e-441f-a007-ee849559e6f6",
        "authorId" : "25fccd56-c0e1-4127-80ae-c80eb64e4f92",
        "body" : "Unfortunately no.\r\nI tried doing that, however, on Windows, the `cl.exe` executable is not set. I've pinged the conda-forge gitter channel with this message:\r\n\r\n> Hi all, any Windows experts?\r\n> How can I put cl.exe in the PATH during the testing phase? I want to compile a test example during the run_test.bat execution, but I get the following error (from cmake):\r\n>   The CMAKE_CXX_COMPILER:\r\n>     cl\r\n>   is not a full path and was not found in the PATH\r\n> My meta.yaml has:\r\n> test:\r\n>   requires:\r\n>     - cmake\r\n>     - toolchain\r\n>     - vc 9  # [win and py27]\r\n>     - vc 10  # [win and py34]\r\n>     - vc 14  # [win and py35]\r\n\r\nWhich I discovered how to fix:\r\n\r\n> I believe I understand the error now.\r\n> conda-build does not have support for this (at least in the version that conda-forge uses, I can't  answer about conda-build 2).\r\n> The [xtensor feedstock](https://github.com/conda-forge/xtensor-feedstock/blob/master/recipe/run_test.bat) has solved the problem.\r\n> Others simply skip this ([sundials-feedstock](https://github.com/conda-forge/sundials-feedstock/blob/master/recipe/run_test.bat)).",
        "createdAt" : "2016-12-12T14:59:06Z",
        "updatedAt" : "2016-12-12T15:57:25Z",
        "lastEditedBy" : "25fccd56-c0e1-4127-80ae-c80eb64e4f92",
        "tags" : [
        ]
      },
      {
        "id" : "6fb14ac9-24a4-4ff3-a071-3f51c986b6f6",
        "parentId" : "4fc1aa58-e36e-441f-a007-ee849559e6f6",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "The real solution is to get issue ( https://github.com/conda/conda-build/issues/1059 ) resolved.",
        "createdAt" : "2016-12-12T15:23:43Z",
        "updatedAt" : "2016-12-12T15:57:25Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "e8ccc88e-5f17-4011-8e74-b0e46ccf8bf2",
        "parentId" : "4fc1aa58-e36e-441f-a007-ee849559e6f6",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "It appears the sundials doesn't solve this as they have commented all of the tests. I think this was missed in the review of xtensor.",
        "createdAt" : "2016-12-12T15:29:07Z",
        "updatedAt" : "2016-12-12T15:57:25Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "1e848177-20b3-4392-878b-2a40ed251c1e",
        "parentId" : "4fc1aa58-e36e-441f-a007-ee849559e6f6",
        "authorId" : "25fccd56-c0e1-4127-80ae-c80eb64e4f92",
        "body" : "I completely agree that this is an ugly hack. I've subscribed to the [issue](https://github.com/conda/conda-build/issues/1059) so that whenever it is fixed I can remove this hack from this recipe.",
        "createdAt" : "2016-12-12T15:39:32Z",
        "updatedAt" : "2016-12-12T15:57:25Z",
        "lastEditedBy" : "25fccd56-c0e1-4127-80ae-c80eb64e4f92",
        "tags" : [
        ]
      }
    ],
    "commit" : "545e32c8b8542df9ac29ed7f9e97b738fb27a0f3",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@conda env create -f %RECIPE_DIR%\\test\\test-environment-windows.yml\nactivate test-environment-windows\nmd build"
  }
]