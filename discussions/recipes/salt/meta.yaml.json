[
  {
    "id" : "7cfe0b79-7116-4c87-a45c-a3486e21e1b6",
    "prId" : 694,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3bde58a6-24ac-42be-b83f-50c6f74b0c79",
        "parentId" : null,
        "authorId" : "a67e24bc-ed74-490a-95d0-cd6b6de195d3",
        "body" : "I think if you add OpenSSL on Windows you won't need those copy hacks.\n",
        "createdAt" : "2016-06-07T08:59:21Z",
        "updatedAt" : "2016-06-09T02:57:40Z",
        "lastEditedBy" : "a67e24bc-ed74-490a-95d0-cd6b6de195d3",
        "tags" : [
        ]
      },
      {
        "id" : "10657f31-e51d-41de-a7b8-fbc6967b663f",
        "parentId" : "3bde58a6-24ac-42be-b83f-50c6f74b0c79",
        "authorId" : "e1e506d7-3a29-43fe-b0ed-4d14543ab521",
        "body" : "`m2crypto` requires `openssl` so it already a dependency. I can add it here to make it explicit.\n\nThose dll file copy/downloads are required by the salt `setup.py` (https://github.com/saltstack/salt/blob/develop/setup.py#L418-L427) but for some reason that code is not working in appveyor so I downloaded them manually before calling `setup.py`.\n",
        "createdAt" : "2016-06-07T18:38:51Z",
        "updatedAt" : "2016-06-09T02:57:40Z",
        "lastEditedBy" : "e1e506d7-3a29-43fe-b0ed-4d14543ab521",
        "tags" : [
        ]
      },
      {
        "id" : "26210058-a460-4055-b4e6-f2291d39f02d",
        "parentId" : "3bde58a6-24ac-42be-b83f-50c6f74b0c79",
        "authorId" : "a67e24bc-ed74-490a-95d0-cd6b6de195d3",
        "body" : "But they should be on the path so they shouldn't be required. They should be there via openssl. Since the `setup.py` is forcing this it feels like that is incorrect and a patch should be made upstream to allow this to be optional - since we satisfy that dependency ourselves. If you copy the files there then they will get shipped as part of the recipe and thus we are polluting the root of the conda environment with these two files.\n",
        "createdAt" : "2016-06-07T19:11:53Z",
        "updatedAt" : "2016-06-09T02:57:40Z",
        "lastEditedBy" : "a67e24bc-ed74-490a-95d0-cd6b6de195d3",
        "tags" : [
        ]
      },
      {
        "id" : "256dec96-1585-4ef3-9c0d-8f9674837fdb",
        "parentId" : "3bde58a6-24ac-42be-b83f-50c6f74b0c79",
        "authorId" : "e1e506d7-3a29-43fe-b0ed-4d14543ab521",
        "body" : "Yes, I agree that its not ideal. I can start a discussion upstream to update the `setup.py`. Right now those options are basically hardcoded if salt is being installed on windows.\n\nI think that the easiest way for now would be to have a patch on the `setup.py` that its applied on build.\n",
        "createdAt" : "2016-06-07T19:20:38Z",
        "updatedAt" : "2016-06-09T02:57:40Z",
        "lastEditedBy" : "e1e506d7-3a29-43fe-b0ed-4d14543ab521",
        "tags" : [
        ]
      },
      {
        "id" : "650c374b-3a95-41ad-a960-c572dd8ad668",
        "parentId" : "3bde58a6-24ac-42be-b83f-50c6f74b0c79",
        "authorId" : "e1e506d7-3a29-43fe-b0ed-4d14543ab521",
        "body" : "I made a small patch on the `setup.py` to not download those dll files and everything seams to be working. Thanks for the feedback!\n",
        "createdAt" : "2016-06-07T22:06:11Z",
        "updatedAt" : "2016-06-09T02:57:40Z",
        "lastEditedBy" : "e1e506d7-3a29-43fe-b0ed-4d14543ab521",
        "tags" : [
        ]
      },
      {
        "id" : "9acff3cf-24a1-411d-8550-ddc0386ef724",
        "parentId" : "3bde58a6-24ac-42be-b83f-50c6f74b0c79",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "We should open an issue upstream explaining this issue and asking for some option to get around it.\n",
        "createdAt" : "2016-06-08T03:10:43Z",
        "updatedAt" : "2016-06-09T02:57:40Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "3d8111f0-3915-46b4-847a-a31a1a92315f",
        "parentId" : "3bde58a6-24ac-42be-b83f-50c6f74b0c79",
        "authorId" : "e1e506d7-3a29-43fe-b0ed-4d14543ab521",
        "body" : "I have created an issue here: https://github.com/saltstack/salt/issues/33848 - I will try to make a PR to fix this upstream when I have some time.\n",
        "createdAt" : "2016-06-08T03:37:02Z",
        "updatedAt" : "2016-06-09T02:57:40Z",
        "lastEditedBy" : "e1e506d7-3a29-43fe-b0ed-4d14543ab521",
        "tags" : [
        ]
      }
    ],
    "commit" : "8a62896bda69f8d48ef3ce6094018c46b29df56b",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +18,22 @@\nrequirements:\n  build:\n    - python\n    - setuptools"
  }
]