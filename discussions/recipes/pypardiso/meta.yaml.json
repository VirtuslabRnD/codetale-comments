[
  {
    "id" : "ff5f6da9-ce7f-4fb9-abbb-beb03e85acab",
    "prId" : 15106,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15106#pullrequestreview-682310515",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4b593e98-4688-41f1-a9d8-63495463e424",
        "parentId" : null,
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "```suggestion\r\n    - pytest -vv tests/\r\n    - pip check\r\n```",
        "createdAt" : "2021-06-12T09:04:00Z",
        "updatedAt" : "2021-06-12T09:04:00Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "e38e4ee0d373554aed58e73365af9b662b728f54",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +41,45 @@    - tests/test_input_b.py\n  commands:\n    - pytest -vv tests/\n    - pip check\n"
  },
  {
    "id" : "fa41c07e-5ea1-4c19-9f12-e83ebb6fcfb9",
    "prId" : 15106,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15106#pullrequestreview-682310528",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e3ec1b9c-2969-420d-9eab-66603f6dfebc",
        "parentId" : null,
        "authorId" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "body" : "```suggestion\r\n    - pytest\r\n    - pip\r\n```",
        "createdAt" : "2021-06-12T09:04:09Z",
        "updatedAt" : "2021-06-12T09:04:10Z",
        "lastEditedBy" : "c299267b-13d3-4165-bdd2-383eea98be0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "e38e4ee0d373554aed58e73365af9b662b728f54",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +33,37 @@    - pypardiso\n  requires:\n    - pytest\n    - pip\n  files:"
  },
  {
    "id" : "55bd8a02-4c46-4ddb-af79-701226841291",
    "prId" : 15106,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15106#pullrequestreview-687915572",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0cb901c9-86fe-474d-b38c-246888c2055c",
        "parentId" : null,
        "authorId" : "7d4f0e77-3fe7-42d2-b2a3-d485b2fe8b36",
        "body" : "@cmutel The builds are failing because of this line, which I think you can get rid of. It basically checks which packages are installed whose dependency is not. I think since `mkl` is installed using `conda`, `pip` fails (I think for `pip check` to succeed, it needs all dependencies installed using `pip`). Anyway, you're already testing `pypardiso` in `pytest -vv tests/`, so if there's a dependency missing, it will be caught during the `import pypardiso`.",
        "createdAt" : "2021-06-18T20:34:20Z",
        "updatedAt" : "2021-06-18T20:35:02Z",
        "lastEditedBy" : "7d4f0e77-3fe7-42d2-b2a3-d485b2fe8b36",
        "tags" : [
        ]
      },
      {
        "id" : "222f0fe4-ad1b-47dc-907c-1ba9b968c89f",
        "parentId" : "0cb901c9-86fe-474d-b38c-246888c2055c",
        "authorId" : "29171c48-3bab-4608-aedc-3a9a577b5f5f",
        "body" : "@conda-forge/help-python Any idea why `pip check` would fail with [missing dependencies](https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=339419&view=logs&j=6f142865-96c3-535c-b7ea-873d86b887bd&t=22b0682d-ab9e-55d7-9c79-49f3c3ba4823&l=829) after switching from the Github release to the pypi release? I don't understand hwo things could be [just fine](https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=338502&view=logs&j=6f142865-96c3-535c-b7ea-873d86b887bd&t=22b0682d-ab9e-55d7-9c79-49f3c3ba4823&l=780) with everything the same except the location of the downloaded tarball...",
        "createdAt" : "2021-06-18T21:09:29Z",
        "updatedAt" : "2021-06-18T21:09:29Z",
        "lastEditedBy" : "29171c48-3bab-4608-aedc-3a9a577b5f5f",
        "tags" : [
        ]
      },
      {
        "id" : "d7b2bf4d-b139-49c5-a8cf-13bdaf9c86ee",
        "parentId" : "0cb901c9-86fe-474d-b38c-246888c2055c",
        "authorId" : "10f01ef6-aa6c-4e5e-945b-99977efbe247",
        "body" : "It's because of `mkl` in https://github.com/haasad/PyPardisoProject/blob/master/setup.py#L7",
        "createdAt" : "2021-06-18T21:15:13Z",
        "updatedAt" : "2021-06-18T21:15:13Z",
        "lastEditedBy" : "10f01ef6-aa6c-4e5e-945b-99977efbe247",
        "tags" : [
        ]
      },
      {
        "id" : "198aa3f0-31ff-4f3d-8a80-53b60beb6aea",
        "parentId" : "0cb901c9-86fe-474d-b38c-246888c2055c",
        "authorId" : "b7d23e2d-4779-4fbd-8877-ffdbafb7348c",
        "body" : "Let's use the github source for now in that case, I'll tidy it up for the next version. Probably my lack of experience with PyPI that caused this.\r\nOr remove `pip check` as Amin suggested.",
        "createdAt" : "2021-06-18T21:23:01Z",
        "updatedAt" : "2021-06-18T21:24:42Z",
        "lastEditedBy" : "b7d23e2d-4779-4fbd-8877-ffdbafb7348c",
        "tags" : [
        ]
      },
      {
        "id" : "1889d59e-21ee-4b01-aa94-26be1cb3ecc4",
        "parentId" : "0cb901c9-86fe-474d-b38c-246888c2055c",
        "authorId" : "29171c48-3bab-4608-aedc-3a9a577b5f5f",
        "body" : "@isuruf Yeah, but no :) `mkl` is installed into the test environment in both the [passing](https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=338502&view=logs&j=6f142865-96c3-535c-b7ea-873d86b887bd&t=22b0682d-ab9e-55d7-9c79-49f3c3ba4823&l=704) and [failing](https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=339419&view=logs&j=6f142865-96c3-535c-b7ea-873d86b887bd&t=22b0682d-ab9e-55d7-9c79-49f3c3ba4823&l=752) tests. `pip` is not used to install anything, it is all conda. And pip could find mkl on its path in the passing tests...\r\n\r\nThe `pip check` suggestion came from someone who knows what they are doing, so I think it is best practice in conda-forge recipes.\r\n\r\n@haasad The pypi upload looks fine to me, I assume you did `python setup.py sdist bdist_wheel upload` or used `twine`, there isn't much you could do wrong.",
        "createdAt" : "2021-06-18T21:54:48Z",
        "updatedAt" : "2021-06-18T21:54:49Z",
        "lastEditedBy" : "29171c48-3bab-4608-aedc-3a9a577b5f5f",
        "tags" : [
        ]
      },
      {
        "id" : "74564f4f-843e-402d-a173-6ca68019d7f0",
        "parentId" : "0cb901c9-86fe-474d-b38c-246888c2055c",
        "authorId" : "10f01ef6-aa6c-4e5e-945b-99977efbe247",
        "body" : "There's a pip package called `mkl` which `pip check` is looking for, but we are installing the conda package. So, the best solution is to remove `mkl` in `setup.py` and keep `mkl-service` which has `mkl` as a dependency.",
        "createdAt" : "2021-06-18T22:12:09Z",
        "updatedAt" : "2021-06-18T22:12:09Z",
        "lastEditedBy" : "10f01ef6-aa6c-4e5e-945b-99977efbe247",
        "tags" : [
        ]
      },
      {
        "id" : "eef1e521-b57e-4a4f-b29e-133f0bc62063",
        "parentId" : "0cb901c9-86fe-474d-b38c-246888c2055c",
        "authorId" : "b7d23e2d-4779-4fbd-8877-ffdbafb7348c",
        "body" : "@cmutel I released version 0.3.2, where `mkl` is removed as direct dependency in `setup.py`: https://pypi.org/project/pypardiso/",
        "createdAt" : "2021-06-18T22:46:13Z",
        "updatedAt" : "2021-06-18T22:46:14Z",
        "lastEditedBy" : "b7d23e2d-4779-4fbd-8877-ffdbafb7348c",
        "tags" : [
        ]
      },
      {
        "id" : "1bfb0867-b5fd-4387-a2d7-9288e00ef3ff",
        "parentId" : "0cb901c9-86fe-474d-b38c-246888c2055c",
        "authorId" : "7d4f0e77-3fe7-42d2-b2a3-d485b2fe8b36",
        "body" : "@cmutel Could you please update `meta.yaml` to version 0.3.2 (+ the sha256)? :)",
        "createdAt" : "2021-06-20T15:02:20Z",
        "updatedAt" : "2021-06-20T15:02:21Z",
        "lastEditedBy" : "7d4f0e77-3fe7-42d2-b2a3-d485b2fe8b36",
        "tags" : [
        ]
      }
    ],
    "commit" : "e38e4ee0d373554aed58e73365af9b662b728f54",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +42,46 @@  commands:\n    - pytest -vv tests/\n    - pip check\n\nabout:"
  },
  {
    "id" : "2c73ff22-677d-42e4-8caa-5196620c33bc",
    "prId" : 15106,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15106#pullrequestreview-682310515",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e4091a38-6621-4fbd-b902-c1db76062c0b",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "```suggestion\r\n    - pytest -vv tests/\r\n    - pip check\r\n```",
        "createdAt" : "2021-06-12T09:04:00Z",
        "updatedAt" : "2021-06-12T09:04:00Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "e38e4ee0d373554aed58e73365af9b662b728f54",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +41,45 @@    - tests/test_input_b.py\n  commands:\n    - pytest -vv tests/\n    - pip check\n"
  },
  {
    "id" : "151e82ad-e940-4231-8f36-8cb7757321c1",
    "prId" : 15106,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15106#pullrequestreview-682310528",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e1f6b1c0-05a2-4e52-850d-964fe0013d44",
        "parentId" : null,
        "authorId" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "body" : "```suggestion\r\n    - pytest\r\n    - pip\r\n```",
        "createdAt" : "2021-06-12T09:04:09Z",
        "updatedAt" : "2021-06-12T09:04:10Z",
        "lastEditedBy" : "d838053f-6fcd-47a0-a593-accf1cf846b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "e38e4ee0d373554aed58e73365af9b662b728f54",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +33,37 @@    - pypardiso\n  requires:\n    - pytest\n    - pip\n  files:"
  },
  {
    "id" : "fdf10cfa-4782-4ad7-a425-bcdc3fc55677",
    "prId" : 15106,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/15106#pullrequestreview-687915572",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bafcb254-beb4-4be6-bf96-4739bf49ea0b",
        "parentId" : null,
        "authorId" : "f4af1f08-3357-4ded-ac04-b79689f77940",
        "body" : "@cmutel The builds are failing because of this line, which I think you can get rid of. It basically checks which packages are installed whose dependency is not. I think since `mkl` is installed using `conda`, `pip` fails (I think for `pip check` to succeed, it needs all dependencies installed using `pip`). Anyway, you're already testing `pypardiso` in `pytest -vv tests/`, so if there's a dependency missing, it will be caught during the `import pypardiso`.",
        "createdAt" : "2021-06-18T20:34:20Z",
        "updatedAt" : "2021-06-18T20:35:02Z",
        "lastEditedBy" : "f4af1f08-3357-4ded-ac04-b79689f77940",
        "tags" : [
        ]
      },
      {
        "id" : "34e3054e-e581-4ca2-ab06-6215d8fd6a1d",
        "parentId" : "bafcb254-beb4-4be6-bf96-4739bf49ea0b",
        "authorId" : "89b93602-30bc-4867-ba48-169ce9eda6d8",
        "body" : "@conda-forge/help-python Any idea why `pip check` would fail with [missing dependencies](https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=339419&view=logs&j=6f142865-96c3-535c-b7ea-873d86b887bd&t=22b0682d-ab9e-55d7-9c79-49f3c3ba4823&l=829) after switching from the Github release to the pypi release? I don't understand hwo things could be [just fine](https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=338502&view=logs&j=6f142865-96c3-535c-b7ea-873d86b887bd&t=22b0682d-ab9e-55d7-9c79-49f3c3ba4823&l=780) with everything the same except the location of the downloaded tarball...",
        "createdAt" : "2021-06-18T21:09:29Z",
        "updatedAt" : "2021-06-18T21:09:29Z",
        "lastEditedBy" : "89b93602-30bc-4867-ba48-169ce9eda6d8",
        "tags" : [
        ]
      },
      {
        "id" : "2e79e692-7963-4e24-b7d2-b3df9c8a17f3",
        "parentId" : "bafcb254-beb4-4be6-bf96-4739bf49ea0b",
        "authorId" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "body" : "It's because of `mkl` in https://github.com/haasad/PyPardisoProject/blob/master/setup.py#L7",
        "createdAt" : "2021-06-18T21:15:13Z",
        "updatedAt" : "2021-06-18T21:15:13Z",
        "lastEditedBy" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "tags" : [
        ]
      },
      {
        "id" : "823bbc9c-96f3-496e-9038-ab468080b37e",
        "parentId" : "bafcb254-beb4-4be6-bf96-4739bf49ea0b",
        "authorId" : "15899fab-d509-4c46-b9a0-59ea4cfa34e4",
        "body" : "Let's use the github source for now in that case, I'll tidy it up for the next version. Probably my lack of experience with PyPI that caused this.\r\nOr remove `pip check` as Amin suggested.",
        "createdAt" : "2021-06-18T21:23:01Z",
        "updatedAt" : "2021-06-18T21:24:42Z",
        "lastEditedBy" : "15899fab-d509-4c46-b9a0-59ea4cfa34e4",
        "tags" : [
        ]
      },
      {
        "id" : "fdf3b75c-b362-47a5-bb9a-95c3e3457fbc",
        "parentId" : "bafcb254-beb4-4be6-bf96-4739bf49ea0b",
        "authorId" : "89b93602-30bc-4867-ba48-169ce9eda6d8",
        "body" : "@isuruf Yeah, but no :) `mkl` is installed into the test environment in both the [passing](https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=338502&view=logs&j=6f142865-96c3-535c-b7ea-873d86b887bd&t=22b0682d-ab9e-55d7-9c79-49f3c3ba4823&l=704) and [failing](https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=339419&view=logs&j=6f142865-96c3-535c-b7ea-873d86b887bd&t=22b0682d-ab9e-55d7-9c79-49f3c3ba4823&l=752) tests. `pip` is not used to install anything, it is all conda. And pip could find mkl on its path in the passing tests...\r\n\r\nThe `pip check` suggestion came from someone who knows what they are doing, so I think it is best practice in conda-forge recipes.\r\n\r\n@haasad The pypi upload looks fine to me, I assume you did `python setup.py sdist bdist_wheel upload` or used `twine`, there isn't much you could do wrong.",
        "createdAt" : "2021-06-18T21:54:48Z",
        "updatedAt" : "2021-06-18T21:54:49Z",
        "lastEditedBy" : "89b93602-30bc-4867-ba48-169ce9eda6d8",
        "tags" : [
        ]
      },
      {
        "id" : "a6d8f050-15e6-486b-adab-215bf29eed65",
        "parentId" : "bafcb254-beb4-4be6-bf96-4739bf49ea0b",
        "authorId" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "body" : "There's a pip package called `mkl` which `pip check` is looking for, but we are installing the conda package. So, the best solution is to remove `mkl` in `setup.py` and keep `mkl-service` which has `mkl` as a dependency.",
        "createdAt" : "2021-06-18T22:12:09Z",
        "updatedAt" : "2021-06-18T22:12:09Z",
        "lastEditedBy" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "tags" : [
        ]
      },
      {
        "id" : "7ce92d20-7b01-4dba-809b-15cc660073f8",
        "parentId" : "bafcb254-beb4-4be6-bf96-4739bf49ea0b",
        "authorId" : "15899fab-d509-4c46-b9a0-59ea4cfa34e4",
        "body" : "@cmutel I released version 0.3.2, where `mkl` is removed as direct dependency in `setup.py`: https://pypi.org/project/pypardiso/",
        "createdAt" : "2021-06-18T22:46:13Z",
        "updatedAt" : "2021-06-18T22:46:14Z",
        "lastEditedBy" : "15899fab-d509-4c46-b9a0-59ea4cfa34e4",
        "tags" : [
        ]
      },
      {
        "id" : "35f95404-05c3-4fff-aad8-06e243558b58",
        "parentId" : "bafcb254-beb4-4be6-bf96-4739bf49ea0b",
        "authorId" : "f4af1f08-3357-4ded-ac04-b79689f77940",
        "body" : "@cmutel Could you please update `meta.yaml` to version 0.3.2 (+ the sha256)? :)",
        "createdAt" : "2021-06-20T15:02:20Z",
        "updatedAt" : "2021-06-20T15:02:21Z",
        "lastEditedBy" : "f4af1f08-3357-4ded-ac04-b79689f77940",
        "tags" : [
        ]
      }
    ],
    "commit" : "e38e4ee0d373554aed58e73365af9b662b728f54",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +42,46 @@  commands:\n    - pytest -vv tests/\n    - pip check\n\nabout:"
  }
]