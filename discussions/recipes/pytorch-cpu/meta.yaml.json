[
  {
    "id" : "5e6c45f7-cc38-424a-b574-fb5e8390f540",
    "prId" : 7398,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/7398#pullrequestreview-188449135",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "parentId" : null,
        "authorId" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "body" : "I think this disabled the build of the package altogether in staged recipes.",
        "createdAt" : "2018-12-29T19:36:34Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "tags" : [
        ]
      },
      {
        "id" : "840b54e2-d57d-43ec-9da7-0aed9b5b699e",
        "parentId" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "authorId" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "body" : "it will simply fail. It needs modern compilers, as well as few other PRs fixing old OSX stuff.",
        "createdAt" : "2018-12-29T21:48:24Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "tags" : [
        ]
      },
      {
        "id" : "27b9eb01-4473-4e9c-ad2a-8da465872bcb",
        "parentId" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "authorId" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "body" : "<no judgement>Are you asking to import an empty feedstock so all build issues, including linux, osx, and win can be fixed outside staged-recipes? </no judgement>\r\n\r\nIf that is the case it might make it easier to simply say \r\n```yaml\r\nbuild:\r\n  number: 0\r\n  skip: True \r\n```",
        "createdAt" : "2018-12-29T21:53:54Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "tags" : [
        ]
      },
      {
        "id" : "628aba70-6b82-40f8-b897-a576f292ab08",
        "parentId" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "authorId" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "body" : "I'm not, I am asking to import a recipe that I tested mostly with conda-smithy tools that I rendered here: https://github.com/ramonaoptics/pytorch-cpu-feedstock\r\n\r\nhttps://dev.azure.com/ramonaoptics/feedstock-builds/_build/results?buildId=13\r\n\r\nThere is a pretty high probability that it will work once the bot issues the compiler upgrade.",
        "createdAt" : "2018-12-29T21:56:13Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "tags" : [
        ]
      },
      {
        "id" : "56ac5672-1ae0-4ccb-b247-4669778a3462",
        "parentId" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "authorId" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "body" : "To use new compilers on staged-recipes, add\r\n```yaml\r\nchannel_sources:\r\n- conda-forge/label/gcc7,defaults   # [unix]\r\n- conda-forge,defaults              # [win]\r\nchannel_targets:\r\n- conda-forge gcc7                  # [unix]\r\n- conda-forge main                  # [win]\r\ncxx_compiler:\r\n- gxx      # [linux]\r\n- clangxx  # [osx]\r\n```",
        "createdAt" : "2018-12-30T07:56:46Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "tags" : [
        ]
      },
      {
        "id" : "a0c1cafb-918c-46e1-ab1d-57a18f8adca2",
        "parentId" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "authorId" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "body" : "Where should we add these?",
        "createdAt" : "2018-12-30T07:58:39Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "tags" : [
        ]
      },
      {
        "id" : "6db79a05-e495-4e77-a638-f3d49b1c0af1",
        "parentId" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "authorId" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "body" : "to `recipes/pytorch-cpu/conda_build_config.yaml`",
        "createdAt" : "2018-12-30T07:59:17Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "fa18c2b0-9128-4c2b-b6e0-433b177f7cf1",
        "tags" : [
        ]
      },
      {
        "id" : "8d337468-3677-4740-8fdf-a93b151209f2",
        "parentId" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "authorId" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "body" : "thanks for chiming in @isuruf!\r\n\r\nUnfortunately, this doesn't solve any of the other outstanding issues here:\r\n- The need for VS2017, which currently isn't being used in staged-recipes. This is a change in appveyor that needs to be done.\r\n- The need to increase the timeout in travis.\r\n\r\nIf I do this, the only package that will be built is the linux one, which really isn't the \"attractiveness\" of conda-forge.\r\n\r\nPlease merge this package as is, so the rest of the work can be done in the feedstock.",
        "createdAt" : "2018-12-30T13:16:38Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "tags" : [
        ]
      },
      {
        "id" : "5970e4d7-ae8a-450b-ad9a-6f5ed8eefd5c",
        "parentId" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "authorId" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "body" : "@hmaarrfk, I know it does not sound great, but lets do the following:\r\n   - [x] fix the build so it builds in linux using @isuruf suggestion. This still adds value because we don't have a -cpu version of the package within conda-forge for any platform.\r\n   - [x] I will merge the package.\r\n",
        "createdAt" : "2018-12-30T19:22:27Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "tags" : [
        ]
      },
      {
        "id" : "940456f3-ae74-4ca4-a440-63b61e4ee901",
        "parentId" : "0ab44748-48b4-43d1-bb3f-d0257e1a0575",
        "authorId" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "body" : "ok will do.",
        "createdAt" : "2018-12-30T19:52:55Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "tags" : [
        ]
      }
    ],
    "commit" : "f40e592f62591aba55ef2e4b6cb1fa2bf7ed5e30",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +30,34 @@  skip: true  # [not linux]\n  # Needs modern GCC, the ones in conda-forge are too old\n  {% if 'toolchain' in compiler('cxx') %}skip: True{% endif %}  # Only build with modern compilers.\n  # Support for Windows and Python 2.7 is very experimental\n  # https://ci.appveyor.com/project/conda-forge/staged-recipes/builds/21220961#L972"
  },
  {
    "id" : "efaf1e79-065f-4369-9775-d707ab5d3d40",
    "prId" : 7398,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/7398#pullrequestreview-188449581",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d0098a41-75bc-41f9-85e3-3ab315183f2d",
        "parentId" : null,
        "authorId" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "body" : "This should go back to 0.",
        "createdAt" : "2018-12-29T21:50:43Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "tags" : [
        ]
      },
      {
        "id" : "04fc2d3c-db77-4896-8fac-3f4e4731c40c",
        "parentId" : "d0098a41-75bc-41f9-85e3-3ab315183f2d",
        "authorId" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "body" : "Ok, but this kind of stuff should really just be worked on in the feedstock. No builds are being set, and we can spend for ever making things \"tidy\".",
        "createdAt" : "2018-12-29T21:53:29Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "tags" : [
        ]
      },
      {
        "id" : "77a1b1e3-c410-4132-95d6-54447e593df2",
        "parentId" : "d0098a41-75bc-41f9-85e3-3ab315183f2d",
        "authorId" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "body" : "I mean, no actual package is going to get built once this feedstock gets created, so it is pretty safe to \"accept now\" and fixup later.\r\n\r\nEspecially since we might have to request more time on Travis anyway.",
        "createdAt" : "2018-12-29T21:54:33Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "tags" : [
        ]
      },
      {
        "id" : "1693441e-e258-44fe-ba6e-2ed748a81708",
        "parentId" : "d0098a41-75bc-41f9-85e3-3ab315183f2d",
        "authorId" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "body" : "I've never merged a recipe like this one before so I rather defer the merge to @conda-forge/core.",
        "createdAt" : "2018-12-29T22:12:31Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "tags" : [
        ]
      },
      {
        "id" : "7ffd6d7b-15ce-4040-994e-ad32624faa31",
        "parentId" : "d0098a41-75bc-41f9-85e3-3ab315183f2d",
        "authorId" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "body" : "I had to put it back to 1000 since we are now building with the gcc compilers on linux.",
        "createdAt" : "2018-12-30T20:15:10Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "tags" : [
        ]
      }
    ],
    "commit" : "f40e592f62591aba55ef2e4b6cb1fa2bf7ed5e30",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@\nbuild:\n  number: 1000\n  # Thiss recipe needs a few things to build a useful output:\n  # 1. New compilers. Not available on staged-recipes"
  },
  {
    "id" : "6a6cd9e0-3ccd-4d8f-ab64-23c082f35560",
    "prId" : 7398,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/7398#pullrequestreview-188423481",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b2eb5db8-8252-4f12-ab58-79ef109cfe94",
        "parentId" : null,
        "authorId" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "body" : "Sorry I did not catch this the first time...\r\n\r\nShouldn't the base recipe be called pytorch, and then have an output called pytorch-cpu?\r\n",
        "createdAt" : "2018-12-29T22:13:13Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "f1f932c6-0dea-4f1c-815a-adb7bc17b4db",
        "tags" : [
        ]
      },
      {
        "id" : "d9ce56cf-c80b-47ff-a8ab-04a08175a36c",
        "parentId" : "b2eb5db8-8252-4f12-ab58-79ef109cfe94",
        "authorId" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "body" : "Good point. I thought about that possibility, but in my mind: \r\n\r\n1. split packages have been a pain to get approved.\r\n2. Build variants in conda-forge don't do well with the linter. https://github.com/conda-forge/conda-smithy/issues/930 https://github.com/conda-forge/conda-smithy/issues/891\r\n2. Conda forge doesn't compile with or link to any GPU stuff. Therefore, I really don't people thinking they might be installing `pytorch-gpu` accidentally.\r\n3. Keeping this name makes it really easy to later upgrade build variants where a gpu and cpu version might coexist in conda-forge.\r\n\r\nWe can eventually deprecate this feedstock (pytorch-cpu) if pytorch-gpu becomes a thing for conda-forge.\r\n",
        "createdAt" : "2018-12-29T22:18:39Z",
        "updatedAt" : "2018-12-31T00:50:57Z",
        "lastEditedBy" : "ce480aca-557d-4ac2-885b-c86c2b2cafef",
        "tags" : [
        ]
      }
    ],
    "commit" : "f40e592f62591aba55ef2e4b6cb1fa2bf7ed5e30",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +2,6 @@\npackage:\n  name: pytorch-cpu\n  version: {{ version }}\n"
  }
]