[
  {
    "id" : "7b0344d7-a2f3-49ba-989d-f0957c5912db",
    "prId" : 717,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4bebcfdf-37a6-4c58-8e6b-5e87df0779a7",
        "parentId" : null,
        "authorId" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "body" : "If you don't want magic numbers, you can use `ERROR_SUCCESS` here.\n",
        "createdAt" : "2016-06-06T22:14:51Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "tags" : [
        ]
      },
      {
        "id" : "8ab8d592-d3e0-4d64-8951-1c504e356679",
        "parentId" : "4bebcfdf-37a6-4c58-8e6b-5e87df0779a7",
        "authorId" : "14d55654-e136-4b91-9542-e6f989e48912",
        "body" : "Not used, more or less because I'm not sure what kind of error I should chose for the '1' case. So just use \"magic numbers\" to be consistent...\n",
        "createdAt" : "2016-06-07T13:20:13Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "14d55654-e136-4b91-9542-e6f989e48912",
        "tags" : [
        ]
      }
    ],
    "commit" : "870fa1d768816b197bc8979c399d48204314605e",
    "line" : 126,
    "diffHunk" : "@@ -1,1 +124,128 @@     * launches child process (Python)\n     */\n    DWORD return_value = 0;\n    LPSTR commandline = command;\n    STARTUPINFOA s_info;"
  },
  {
    "id" : "ed75b364-3a93-44f9-bc54-497070b78f5b",
    "prId" : 717,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c0d598a6-99a8-44e1-9c38-e5a3f23a2564",
        "parentId" : null,
        "authorId" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "body" : "You return `return_value` (in some cases) which is a `DWORD`, not an `int`.\n",
        "createdAt" : "2016-06-06T22:15:20Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "tags" : [
        ]
      },
      {
        "id" : "fd060cfe-7731-46c4-a0ad-bcdb0d1bd62c",
        "parentId" : "c0d598a6-99a8-44e1-9c38-e5a3f23a2564",
        "authorId" : "14d55654-e136-4b91-9542-e6f989e48912",
        "body" : "I think I addressed that by casting to an int\n",
        "createdAt" : "2016-06-07T11:44:29Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "14d55654-e136-4b91-9542-e6f989e48912",
        "tags" : [
        ]
      }
    ],
    "commit" : "870fa1d768816b197bc8979c399d48204314605e",
    "line" : 121,
    "diffHunk" : "@@ -1,1 +119,123 @@\n\nint create_and_wait_for_subprocess(char* command) {\n    /*\n     * distribute-issue207"
  },
  {
    "id" : "60d3264f-d3d1-4310-91d6-7c10613d4661",
    "prId" : 717,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "35086b1b-7098-45bc-8189-4ccdecb0c859",
        "parentId" : null,
        "authorId" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "body" : "`strcpy` is simpler.\n",
        "createdAt" : "2016-06-07T01:02:54Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "tags" : [
        ]
      },
      {
        "id" : "8e41a547-e545-4888-9664-0562054cbe36",
        "parentId" : "35086b1b-7098-45bc-8189-4ccdecb0c859",
        "authorId" : "14d55654-e136-4b91-9542-e6f989e48912",
        "body" : "I went the other way and removed all strcpy/strcat and the filesize went down to 60kb instead of 120kb. The python wrapper (like `jupyter.exe` -> I guess the wrapper code is actually based on the one from setuptools?) are 73 kb, so I guess that's more or less what can be expected.\n",
        "createdAt" : "2016-06-07T13:14:34Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "14d55654-e136-4b91-9542-e6f989e48912",
        "tags" : [
        ]
      }
    ],
    "commit" : "870fa1d768816b197bc8979c399d48204314605e",
    "line" : 167,
    "diffHunk" : "@@ -1,1 +165,169 @@\n    cmdline = (char *) calloc(len, sizeof(char));\n    sprintf(cmdline, \"%s\", executable);\n    len=strlen(executable);\n    for (counter=1; counter<argc; counter++) {"
  },
  {
    "id" : "bfd9b386-8073-4308-9bd0-6b0d52efada7",
    "prId" : 717,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "96d34022-0e7f-4e95-a8f1-f444e882f932",
        "parentId" : null,
        "authorId" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "body" : "`strcat` would be simpler (but keep using the offsetting to reduce extra length calculations.)\n",
        "createdAt" : "2016-06-07T01:04:58Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "tags" : [
        ]
      }
    ],
    "commit" : "870fa1d768816b197bc8979c399d48204314605e",
    "line" : 170,
    "diffHunk" : "@@ -1,1 +168,172 @@    len=strlen(executable);\n    for (counter=1; counter<argc; counter++) {\n        sprintf(cmdline+len, \" %s\", args[counter]);\n        len += strlen(args[counter]) + 1;\n    }"
  },
  {
    "id" : "94b850b4-1872-4dc8-9921-640b17f6e14b",
    "prId" : 717,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c274bba9-9620-45e8-b790-bf40b33e38a0",
        "parentId" : null,
        "authorId" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "body" : "This whole loop is basically  `strrchr`.\n",
        "createdAt" : "2016-06-07T01:11:31Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "tags" : [
        ]
      }
    ],
    "commit" : "870fa1d768816b197bc8979c399d48204314605e",
    "line" : 196,
    "diffHunk" : "@@ -1,1 +194,198 @@    while (fn > path && *fn != '\\\\') {\n        fn--;\n    }\n    fn++;\n    end = fn - 2;"
  },
  {
    "id" : "55557539-84e3-44bd-86e9-b5ff21ca3c0c",
    "prId" : 717,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fed98189-13cf-4370-974b-896bc3320779",
        "parentId" : null,
        "authorId" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "body" : "This one can be replaced by `strrchr` too, I think.\n",
        "createdAt" : "2016-06-07T01:19:02Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "tags" : [
        ]
      }
    ],
    "commit" : "870fa1d768816b197bc8979c399d48204314605e",
    "line" : 207,
    "diffHunk" : "@@ -1,1 +205,209 @@    while (ext > path && *ext != '.') {\n        ext--;\n    }\n    if (ext > fn) {\n        *ext = '\\0';"
  },
  {
    "id" : "e81f0203-6463-4754-a46f-68a1ca852db3",
    "prId" : 717,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d9c13d06-edcb-48fe-a1d8-144d52b326f2",
        "parentId" : null,
        "authorId" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "body" : "`newargs` (and its contents) are not freed, though maybe it doesn't matter too much.\n",
        "createdAt" : "2016-06-07T01:28:52Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "tags" : [
        ]
      },
      {
        "id" : "c5ce5b26-44b5-4455-9db0-dcbc1eafc971",
        "parentId" : "d9c13d06-edcb-48fe-a1d8-144d52b326f2",
        "authorId" : "14d55654-e136-4b91-9542-e6f989e48912",
        "body" : "I kept that as is for the time being (both because I guess that the string is freed on exit and also because I've not yet a clue how to rewrite it to do that)...\n",
        "createdAt" : "2016-06-07T13:17:38Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "14d55654-e136-4b91-9542-e6f989e48912",
        "tags" : [
        ]
      }
    ],
    "commit" : "870fa1d768816b197bc8979c399d48204314605e",
    "line" : 245,
    "diffHunk" : "@@ -1,1 +243,247 @@     * distribute-issue207: using CreateProcessA instead of spawnv\n     */\n    cmdline = join_executable_and_args(newpath, newargs, argc);\n    return create_and_wait_for_subprocess(cmdline);\n}"
  },
  {
    "id" : "aec75524-c335-45a1-952f-e83598b24c93",
    "prId" : 717,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "34997387-bbea-48e6-9b4d-4a5286a70f3b",
        "parentId" : null,
        "authorId" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "body" : "`cmdline` is not freed.\n",
        "createdAt" : "2016-06-07T01:29:06Z",
        "updatedAt" : "2016-07-13T15:47:29Z",
        "lastEditedBy" : "36b8aac0-6652-4e2c-a043-7ade06eb0d56",
        "tags" : [
        ]
      }
    ],
    "commit" : "870fa1d768816b197bc8979c399d48204314605e",
    "line" : 246,
    "diffHunk" : "@@ -1,1 +244,248 @@     */\n    cmdline = join_executable_and_args(newpath, newargs, argc);\n    return create_and_wait_for_subprocess(cmdline);\n}\n"
  }
]