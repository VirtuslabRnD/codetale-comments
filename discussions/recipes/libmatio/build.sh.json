[
  {
    "id" : "931827be-8ed8-467f-8a0b-0426e02c8c7a",
    "prId" : 236,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "95f2f7d4-75b5-4403-80a1-eef2cbb5b69e",
        "parentId" : null,
        "authorId" : "ed861b6f-1f9b-4be3-9da8-c8c844648413",
        "body" : "Is there a `make check`?\n",
        "createdAt" : "2016-03-30T14:06:30Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "ed861b6f-1f9b-4be3-9da8-c8c844648413",
        "tags" : [
        ]
      },
      {
        "id" : "9546b2f3-edea-488b-8436-7f0ad2c28a71",
        "parentId" : "95f2f7d4-75b5-4403-80a1-eef2cbb5b69e",
        "authorId" : "04999101-b7b8-41ec-b9d1-f9411615a75c",
        "body" : "there is! but it fails on mac os on travis.\nthe problem is that it needs to be packaged with conda first since conda does some library path mangling and after it gets installed with conda, I need to run `make check`.\nDo you know how can I do that?\n",
        "createdAt" : "2016-03-30T14:12:24Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "04999101-b7b8-41ec-b9d1-f9411615a75c",
        "tags" : [
        ]
      },
      {
        "id" : "abc018c5-3335-4f80-9bfb-cc7ce6ac06c6",
        "parentId" : "95f2f7d4-75b5-4403-80a1-eef2cbb5b69e",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Ah, yes, familiar with this sort of stuff. Take a look at [this recipe](https://github.com/conda-forge/vigra-feedstock/blob/master/recipe/build.sh#L79) to get an idea on how to address this sort of problem.\n",
        "createdAt" : "2016-03-30T14:14:32Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "6a8e5b4e-09c3-4cc0-8c8d-231337ce7498",
        "parentId" : "95f2f7d4-75b5-4403-80a1-eef2cbb5b69e",
        "authorId" : "ed861b6f-1f9b-4be3-9da8-c8c844648413",
        "body" : "You can add an if clause to skip `make check` on OS X for now or check if you can remove whatever is conflicting with the checking from the OS X VM. I believe that @jakirkham is experimenting with removing some of homebrew pre-installed stuff that was messing with some tests in another lib.\n",
        "createdAt" : "2016-03-30T14:14:41Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "ed861b6f-1f9b-4be3-9da8-c8c844648413",
        "tags" : [
        ]
      },
      {
        "id" : "4b149246-d650-475d-b97e-100d9336910b",
        "parentId" : "95f2f7d4-75b5-4403-80a1-eef2cbb5b69e",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Have only proposed. Not actually removed because I'm not sure to what extent we may already be dependent on it. :/\n",
        "createdAt" : "2016-03-30T14:20:39Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      }
    ],
    "commit" : "470792b1757ed0dc7ffc7039539f6815748deb1e",
    "line" : null,
    "diffHunk" : "@@ -1,1 +16,20 @@fi\n\nmake install"
  },
  {
    "id" : "71d12b20-6a5f-48bf-8536-3fcc75e8dfcd",
    "prId" : 236,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "50127747-dab7-4a4a-89c2-9042c4f6d34f",
        "parentId" : null,
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "I think we still need something similar for Linux using `LD_LIBRARY_PATH` instead.\n",
        "createdAt" : "2016-03-30T15:47:43Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "3adb0a39-cbf2-4bd3-9d21-441be14424a1",
        "parentId" : "50127747-dab7-4a4a-89c2-9042c4f6d34f",
        "authorId" : "04999101-b7b8-41ec-b9d1-f9411615a75c",
        "body" : "It works without that hack on Linux, why add it?\n",
        "createdAt" : "2016-03-30T15:50:48Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "04999101-b7b8-41ec-b9d1-f9411615a75c",
        "tags" : [
        ]
      },
      {
        "id" : "33e19b6f-9521-4a0e-a01d-63cc16ed1be7",
        "parentId" : "50127747-dab7-4a4a-89c2-9042c4f6d34f",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Does it? I mean a bunch of test are failing. I haven't looked at it too closely, but it is worth trying.\n",
        "createdAt" : "2016-03-30T15:54:23Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      },
      {
        "id" : "ebc61a65-5f2c-4090-a48f-07d42e87f176",
        "parentId" : "50127747-dab7-4a4a-89c2-9042c4f6d34f",
        "authorId" : "04999101-b7b8-41ec-b9d1-f9411615a75c",
        "body" : "The tests are failing because of gcc version. This recipe was working for\nme. The only difference is that I was using the gcc from conda.\n\nOn Wed, Mar 30, 2016, 5:54 PM jakirkham notifications@github.com wrote:\n\n> In recipes/libmatio/build.sh\n> https://github.com/conda-forge/staged-recipes/pull/236#discussion_r57913648\n> :\n> \n> > @@ -0,0 +1,13 @@\n> > +#!/bin/bash\n> > +\n> > +./configure --enable-mat73 --enable-extended-sparse --prefix=\"${PREFIX}\" --with-zlib=\"${PREFIX}\" --with-hdf5=\"${PREFIX}\"\n> > +make\n> > +\n> > +if [[ `uname` == 'Darwin' ]];\n> > +then\n> > -   eval DYLD_FALLBACK_LIBRARY_PATH=$PREFIX/lib make check\n> >   +else\n> > -   make check\n> \n> Does it? I mean a bunch of test are failing. I haven't looked at it too\n> closely, but it is worth trying.\n> \n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly or view it on GitHub\n> https://github.com/conda-forge/staged-recipes/pull/236/files/46a0e2826bc4441b34c89bd27e667eed9540df11#r57913648\n",
        "createdAt" : "2016-03-30T17:41:51Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "04999101-b7b8-41ec-b9d1-f9411615a75c",
        "tags" : [
        ]
      },
      {
        "id" : "52e2de0d-6ebd-4c41-ac40-c3d6ff6e5d2d",
        "parentId" : "50127747-dab7-4a4a-89c2-9042c4f6d34f",
        "authorId" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "body" : "Again. Using `gcc` on Linux is ok. Just make sure `libgcc` is a runtime dependency. Also, make sure it is Linux only.\n",
        "createdAt" : "2016-03-30T17:42:57Z",
        "updatedAt" : "2016-03-31T07:27:38Z",
        "lastEditedBy" : "a3f1fdb0-47ad-411e-b63d-af6fc71a1fa6",
        "tags" : [
        ]
      }
    ],
    "commit" : "470792b1757ed0dc7ffc7039539f6815748deb1e",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +13,17 @@\teval DYLD_FALLBACK_LIBRARY_PATH=$PREFIX/lib make check\nelse\n\tmake check\nfi\n"
  }
]