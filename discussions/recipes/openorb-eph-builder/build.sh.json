[
  {
    "id" : "85b42bc8-e3ef-4dd5-a8ce-9233a302a00d",
    "prId" : 6910,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/6910#pullrequestreview-169578763",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d7153cd3-225a-49d0-825e-8b6a7b1754c1",
        "parentId" : null,
        "authorId" : "20070890-6584-4943-9d96-4012a58cc83b",
        "body" : "conda-forge is transitioning the way in which it deals with compilers. In the near future, build scripts should always use `$FC` as their FORTRAN compiler. But the older compiler packages don't set this variable. Would a construct like this work with your configure script?\r\n\r\n```\r\nif [ -z \"$FC\" ] ; then\r\n    export FC=gfortran\r\nfi\r\n\r\n./configure \"$FC\" opt --prefix=\"$PREFIX\"\r\n```\r\n\r\n?",
        "createdAt" : "2018-10-29T23:52:35Z",
        "updatedAt" : "2018-10-29T23:53:45Z",
        "lastEditedBy" : "20070890-6584-4943-9d96-4012a58cc83b",
        "tags" : [
        ]
      },
      {
        "id" : "d8845142-4459-49f6-922d-c4b8fa0c1687",
        "parentId" : "d7153cd3-225a-49d0-825e-8b6a7b1754c1",
        "authorId" : "72df4714-2e27-4121-a121-b1cd86c80f9f",
        "body" : "Yes, I'm also unhappy with the present hack; the issue is that the upstream code looks for a compiler by name (i.e., its `configure` script generates a `Makefile.include` that says `FC=gfortran`).\r\n\r\nThe long-term solution is to modernize oorb's build system, after which this hack won't be necessary. On my TODO list.",
        "createdAt" : "2018-10-30T01:10:06Z",
        "updatedAt" : "2018-10-30T01:12:01Z",
        "lastEditedBy" : "72df4714-2e27-4121-a121-b1cd86c80f9f",
        "tags" : [
        ]
      }
    ],
    "commit" : "f28345e3e3d1306a8ad96feb636c65fd48b506c3",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +4,8 @@echo \"gfortran = $(which gfortran)\"\n[[ ! -f \"$BUILD_PREFIX/bin/gfortran\" && ! -z \"$GFORTRAN\" ]] && ln -s \"$GFORTRAN\" \"$BUILD_PREFIX/bin/gfortran\"\necho \"gfortran = $(which gfortran)\"\n\n./configure gfortran opt --prefix=\"$PREFIX\""
  }
]