[
  {
    "id" : "ad2a2057-2df2-4362-a296-3a8d25baf2e4",
    "prId" : 5264,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/5264#pullrequestreview-99165265",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "af5a27b6-4346-4267-9830-69bae7e44d60",
        "parentId" : null,
        "authorId" : "57d9896e-d0ba-4f3d-b45c-ee73dd37f0a0",
        "body" : "Can this use pip? https://conda-forge.org/docs/meta.html#use-pip",
        "createdAt" : "2018-02-24T22:03:39Z",
        "updatedAt" : "2018-02-27T18:38:32Z",
        "lastEditedBy" : "57d9896e-d0ba-4f3d-b45c-ee73dd37f0a0",
        "tags" : [
        ]
      },
      {
        "id" : "61a0769f-4fc4-481c-8a27-a9b7054cd0b7",
        "parentId" : "af5a27b6-4346-4267-9830-69bae7e44d60",
        "authorId" : "ca4a0dd1-2483-4c07-a2eb-1cb15aaa6510",
        "body" : "No, I don't think it can... (or at least I don't know how and with pip it failed). This package uses a submodule ([astropy-helpers](https://github.com/astropy/astropy-helpers)) that implements the `--no-git` argument so it doesn't try to find whether there's an update of itself. I've reverted the change.\r\n@bsipocz - am I wrong?",
        "createdAt" : "2018-02-25T00:01:24Z",
        "updatedAt" : "2018-02-27T18:38:32Z",
        "lastEditedBy" : "ca4a0dd1-2483-4c07-a2eb-1cb15aaa6510",
        "tags" : [
        ]
      },
      {
        "id" : "4d4cdf30-3812-41b6-88a9-500503b0bbae",
        "parentId" : "af5a27b6-4346-4267-9830-69bae7e44d60",
        "authorId" : "d28dc198-d3fa-4f7c-9be8-974a5d8825de",
        "body" : "~afaik you need all your dependencies being available on conda/conda-forge, pip install is not an option~ (the helpers is not a dependency though as the package includes it as a submodule). ",
        "createdAt" : "2018-02-25T00:45:53Z",
        "updatedAt" : "2018-02-27T18:38:32Z",
        "lastEditedBy" : "d28dc198-d3fa-4f7c-9be8-974a5d8825de",
        "tags" : [
        ]
      },
      {
        "id" : "2401920b-4f28-42c1-9ec9-1658dfc3af0e",
        "parentId" : "af5a27b6-4346-4267-9830-69bae7e44d60",
        "authorId" : "57d9896e-d0ba-4f3d-b45c-ee73dd37f0a0",
        "body" : "It seems that `astropy-helpers` is a dependency, looking at the circle output.",
        "createdAt" : "2018-02-25T00:49:15Z",
        "updatedAt" : "2018-02-27T18:38:32Z",
        "lastEditedBy" : "57d9896e-d0ba-4f3d-b45c-ee73dd37f0a0",
        "tags" : [
        ]
      },
      {
        "id" : "abb51c18-8e0d-4606-a602-13fba126bad9",
        "parentId" : "af5a27b6-4346-4267-9830-69bae7e44d60",
        "authorId" : "d28dc198-d3fa-4f7c-9be8-974a5d8825de",
        "body" : "I can't see any helpers related output in the circle log, and I don't have time to look into the particulars. In the usual setup `astropy-helpers` should be a submodule and definitely not an installable dependency. Maybe @Cadair can join in to clear up the misunderstandings.",
        "createdAt" : "2018-02-25T00:58:12Z",
        "updatedAt" : "2018-02-27T18:38:32Z",
        "lastEditedBy" : "d28dc198-d3fa-4f7c-9be8-974a5d8825de",
        "tags" : [
        ]
      },
      {
        "id" : "2e01a219-febd-4408-ae1e-8a07685c68a0",
        "parentId" : "af5a27b6-4346-4267-9830-69bae7e44d60",
        "authorId" : "57d9896e-d0ba-4f3d-b45c-ee73dd37f0a0",
        "body" : "In the travis log https://travis-ci.org/conda-forge/staged-recipes/builds/345783282#L339",
        "createdAt" : "2018-02-25T01:00:57Z",
        "updatedAt" : "2018-02-27T18:38:32Z",
        "lastEditedBy" : "57d9896e-d0ba-4f3d-b45c-ee73dd37f0a0",
        "tags" : [
        ]
      },
      {
        "id" : "1ab5ae97-5dbf-4795-b650-a369b7f289e5",
        "parentId" : "af5a27b6-4346-4267-9830-69bae7e44d60",
        "authorId" : "bf059579-25ab-4a2a-89f2-4025552ff4dc",
        "body" : "As far as the pypi tarball / conda is concerned astropy-helpers should be a bunch of static files. The extra arguments to setup.py stop it running any of the code to update those files from git or pypi.\r\n\r\nI don't know the fine details of using pip though, I wonder if @mwcraig could enlighten us all?",
        "createdAt" : "2018-02-25T09:51:48Z",
        "updatedAt" : "2018-02-27T18:38:32Z",
        "lastEditedBy" : "bf059579-25ab-4a2a-89f2-4025552ff4dc",
        "tags" : [
        ]
      },
      {
        "id" : "d0ee874f-23a9-41b6-9840-df6d750a1667",
        "parentId" : "af5a27b6-4346-4267-9830-69bae7e44d60",
        "authorId" : "d6bf582a-b7d2-4905-a3b2-ab43a833b58f",
        "body" : "The issue is that the first thing that `astropy_helpers` does when it is run is try to update itself...so it isn't a dependency, per se, but it does try to download during the install, which conda catches in the same way it would catch an attempt to download a dependency.\r\n\r\nThe `--offline` argument to `setup.py` turns off that behavior. I don't know if such an option is available when installing via pip.\r\n\r\nSo long story short, I'd stick with `setup.py` for now with this package and others that use `astropy_helpers`.",
        "createdAt" : "2018-02-26T00:58:52Z",
        "updatedAt" : "2018-02-27T18:38:32Z",
        "lastEditedBy" : "d6bf582a-b7d2-4905-a3b2-ab43a833b58f",
        "tags" : [
        ]
      }
    ],
    "commit" : "c56dfcdd2c135b8325af5c3f70e4a3271b74ca38",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +15,19 @@  number: 0\n  noarch: python\n  script: python setup.py install --offline --no-git --single-version-externally-managed --record record.txt\n\nrequirements:"
  },
  {
    "id" : "6be1a4d0-69c4-4316-b372-92ef187ed9e8",
    "prId" : 5264,
    "prUrl" : "https://github.com/conda-forge/staged-recipes/pull/5264#pullrequestreview-99883098",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "77573d8a-b75a-4b83-92c8-e620b456450c",
        "parentId" : null,
        "authorId" : "57d9896e-d0ba-4f3d-b45c-ee73dd37f0a0",
        "body" : "When you get a chance I'd put a newline here",
        "createdAt" : "2018-02-27T19:11:36Z",
        "updatedAt" : "2018-02-27T19:11:36Z",
        "lastEditedBy" : "57d9896e-d0ba-4f3d-b45c-ee73dd37f0a0",
        "tags" : [
        ]
      },
      {
        "id" : "cf4b3fb7-d649-4f0c-ac87-5938e45164fc",
        "parentId" : "77573d8a-b75a-4b83-92c8-e620b456450c",
        "authorId" : "ca4a0dd1-2483-4c07-a2eb-1cb15aaa6510",
        "body" : "Oh! sure!! Thanks!!! ",
        "createdAt" : "2018-02-27T22:36:18Z",
        "updatedAt" : "2018-02-27T22:36:18Z",
        "lastEditedBy" : "ca4a0dd1-2483-4c07-a2eb-1cb15aaa6510",
        "tags" : [
        ]
      }
    ],
    "commit" : "c56dfcdd2c135b8325af5c3f70e4a3271b74ca38",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +35,39 @@    - radiospectra.sources\n    - radiospectra.tests\nabout:\n  home: http://sunpy.org\n  license: BSD-2-Clause"
  }
]