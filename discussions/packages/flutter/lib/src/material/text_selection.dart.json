[
  {
    "id" : "6b45169f-7828-4528-ae5f-0ab6317cbc48",
    "prId" : 3698,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "90cfe26a-d232-4a39-9ad7-8142d54850cc",
        "parentId" : null,
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "Do you want to use a ButtonBar here?  That will help get the right padding.\n",
        "createdAt" : "2016-05-04T04:13:38Z",
        "updatedAt" : "2016-05-04T19:21:34Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      },
      {
        "id" : "6502f2a9-fe53-475b-a414-95975b3c0f32",
        "parentId" : "90cfe26a-d232-4a39-9ad7-8142d54850cc",
        "authorId" : "354333fe-86e0-40ca-aa4b-29a9d64d7f86",
        "body" : "Hmm.. when I try to use a ButtonBar, there is too much padding, and the `more` menu is placed too far down vertically. With Row, there is less padding than there used to be, but it is still too much.\n",
        "createdAt" : "2016-05-04T18:07:54Z",
        "updatedAt" : "2016-05-04T19:21:34Z",
        "lastEditedBy" : "354333fe-86e0-40ca-aa4b-29a9d64d7f86",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa36ca495f60ab9a2e24a9dc2379edb52555bebd",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +43,47 @@    return new Material(\n      elevation: 1,\n      child: new Container(\n        height: 44.0,\n         child: new Row(mainAxisAlignment: MainAxisAlignment.collapse, children: items)"
  },
  {
    "id" : "bb1cdb00-43d9-43c1-9048-fe1e8b6eff47",
    "prId" : 23894,
    "prUrl" : "https://github.com/flutter/flutter/pull/23894#pullrequestreview-171344280",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "013e0763-03dc-49a7-89dd-0025b35251c5",
        "parentId" : null,
        "authorId" : "c0d7f839-5e59-4a67-97c5-02c9087845b5",
        "body" : "The old comment seemed to explain this better? Has the behavior here changed?",
        "createdAt" : "2018-11-03T23:02:11Z",
        "updatedAt" : "2018-11-04T01:34:22Z",
        "lastEditedBy" : "c0d7f839-5e59-4a67-97c5-02c9087845b5",
        "tags" : [
        ]
      },
      {
        "id" : "53264058-bdbc-463d-8833-9ad5538de892",
        "parentId" : "013e0763-03dc-49a7-89dd-0025b35251c5",
        "authorId" : "1bcfb382-657a-4d7d-879b-85c84363148f",
        "body" : "The behavior hasn't actually changed, but the old comment refers to [type] and [left] which aren't actually used in this class. This class always draws the caret up and to the left. It then gets rotated later in `buildHandle`, at `material/text_selection.dart:173`.",
        "createdAt" : "2018-11-03T23:05:29Z",
        "updatedAt" : "2018-11-04T01:34:22Z",
        "lastEditedBy" : "1bcfb382-657a-4d7d-879b-85c84363148f",
        "tags" : [
        ]
      },
      {
        "id" : "00ea539a-b258-44ee-8a39-cddc43c17049",
        "parentId" : "013e0763-03dc-49a7-89dd-0025b35251c5",
        "authorId" : "c0d7f839-5e59-4a67-97c5-02c9087845b5",
        "body" : "Ahh ok, I see!",
        "createdAt" : "2018-11-03T23:06:33Z",
        "updatedAt" : "2018-11-04T01:34:22Z",
        "lastEditedBy" : "c0d7f839-5e59-4a67-97c5-02c9087845b5",
        "tags" : [
        ]
      }
    ],
    "commit" : "cd59f467e9cb2a91b48ce3b98f2c94bde799e24c",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +105,109 @@}\n\n/// Draws a single text selection handle which points up and to the left.\nclass _TextSelectionHandlePainter extends CustomPainter {\n  _TextSelectionHandlePainter({ this.color });"
  },
  {
    "id" : "b1981e46-f29c-4f17-b7b0-0cc1913145ae",
    "prId" : 36974,
    "prUrl" : "https://github.com/flutter/flutter/pull/36974#pullrequestreview-269176435",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6fcebce9-b50e-4761-9a63-62e6940bb668",
        "parentId" : null,
        "authorId" : "a28d4bf0-9b21-4633-a08e-c383b294a037",
        "body" : "The comment here\r\nhttps://github.com/flutter/flutter/blob/9be3399fb59347a8e2bfdfd9cd17814456c089f3/packages/flutter/lib/src/material/text_selection.dart#L81-L83\r\nMakes it really confusing. I guess instead of anchor it should say bottom left? And the fact that we use bottom left instead of top left sounds strange to me too.",
        "createdAt" : "2019-07-26T20:47:35Z",
        "updatedAt" : "2019-08-01T20:12:40Z",
        "lastEditedBy" : "a28d4bf0-9b21-4633-a08e-c383b294a037",
        "tags" : [
        ]
      },
      {
        "id" : "572f81d1-8099-47a2-8f55-445fb735ff10",
        "parentId" : "6fcebce9-b50e-4761-9a63-62e6940bb668",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "I think the value passed in for position is where the center of the toolbar is drawn? If I pass in `0.0` for y, it draws the toolbar so that it's vertical midpoint is on the top of the textfield.",
        "createdAt" : "2019-07-30T15:51:15Z",
        "updatedAt" : "2019-08-01T20:12:40Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      },
      {
        "id" : "6ee134c0-f406-4129-80d3-87c6726ccd98",
        "parentId" : "6fcebce9-b50e-4761-9a63-62e6940bb668",
        "authorId" : "a28d4bf0-9b21-4633-a08e-c383b294a037",
        "body" : "in `_TextSelectionToolbarLayout.getPositionForChild` I think `_TextSelectionToolbarLayout.position` is used as the coordinate of the bottom left vertex of the toolbar, in global coordinate system.",
        "createdAt" : "2019-07-30T17:34:31Z",
        "updatedAt" : "2019-08-01T20:12:40Z",
        "lastEditedBy" : "a28d4bf0-9b21-4633-a08e-c383b294a037",
        "tags" : [
        ]
      },
      {
        "id" : "9f06d8fe-86c1-4926-a1c5-a852815cc8dc",
        "parentId" : "6fcebce9-b50e-4761-9a63-62e6940bb668",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "Hmm I don't fully understand what that value is meant to be.  Do you think I should update the comment to something specific?  This is what I see when I set `position` to 0,0:\r\n\r\n<img width=\"378\" alt=\"Screen Shot 2019-07-30 at 4 17 16 PM\" src=\"https://user-images.githubusercontent.com/389558/62171927-87f8df80-b2e5-11e9-9be0-5bba384b74b2.png\">\r\n",
        "createdAt" : "2019-07-30T23:18:15Z",
        "updatedAt" : "2019-08-01T20:12:40Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      },
      {
        "id" : "b0431f44-2dd1-4152-b8a6-0abe83ac4bde",
        "parentId" : "6fcebce9-b50e-4761-9a63-62e6940bb668",
        "authorId" : "a28d4bf0-9b21-4633-a08e-c383b294a037",
        "body" : "Ah sorry I was just ranting because it threw me off, It's not really related to this PR.",
        "createdAt" : "2019-07-31T17:02:21Z",
        "updatedAt" : "2019-08-01T20:12:40Z",
        "lastEditedBy" : "a28d4bf0-9b21-4633-a08e-c383b294a037",
        "tags" : [
        ]
      },
      {
        "id" : "3593edcb-e9a1-4096-ad14-fbaed2e2cb09",
        "parentId" : "6fcebce9-b50e-4761-9a63-62e6940bb668",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "Ok got it.  Yeah it's definitely confusing.",
        "createdAt" : "2019-07-31T17:44:48Z",
        "updatedAt" : "2019-08-01T20:12:40Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      }
    ],
    "commit" : "ef3869727dc4db124222310b72899af0a2232053",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +162,166 @@    final double availableHeight = globalEditableRegion.top + endpoints.first.point.dy - textLineHeight;\n    final bool fitsAbove = toolbarHeightNeeded <= availableHeight;\n    final double y = fitsAbove\n        ? startTextSelectionPoint.point.dy - _kToolbarContentDistance - textLineHeight\n        : startTextSelectionPoint.point.dy + _kToolbarHeight + _kToolbarContentDistanceBelow;"
  },
  {
    "id" : "4331d5ce-6c31-4827-a72f-700133a491db",
    "prId" : 49391,
    "prUrl" : "https://github.com/flutter/flutter/pull/49391#pullrequestreview-364505306",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0636e944-9df5-4559-ab13-880a179b4607",
        "parentId" : null,
        "authorId" : "9ae618fc-fa71-4bc9-be97-de7c674590eb",
        "body" : "Was 16 is now 20 - that's OK?",
        "createdAt" : "2020-02-06T23:27:47Z",
        "updatedAt" : "2020-03-11T18:54:49Z",
        "lastEditedBy" : "9ae618fc-fa71-4bc9-be97-de7c674590eb",
        "tags" : [
        ]
      },
      {
        "id" : "3186849c-f65d-44d8-ac54-981fff5f670f",
        "parentId" : "0636e944-9df5-4559-ab13-880a179b4607",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "I've adjusted the positioning to match native where I saw differences.  It breaks a few golden tests.",
        "createdAt" : "2020-02-25T22:44:41Z",
        "updatedAt" : "2020-03-11T18:54:49Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      }
    ],
    "commit" : "0a95c99a1266845513acf9c54f33827adf07f4eb",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +24,28 @@const double _kToolbarHeight = 44.0;\n// Padding when positioning toolbar below selection.\nconst double _kToolbarContentDistanceBelow = _kHandleSize - 2.0;\nconst double _kToolbarContentDistance = 8.0;\n"
  },
  {
    "id" : "b0c93514-a554-4358-a10d-4e76197c08c5",
    "prId" : 49391,
    "prUrl" : "https://github.com/flutter/flutter/pull/49391#pullrequestreview-364478185",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ab6139c7-7266-4ff9-9510-aa2c2be89899",
        "parentId" : null,
        "authorId" : "d684363a-4114-408d-bf33-c427c7290197",
        "body" : "do you have to layout all the children? Can you layout the child one by one and stop when the width overflows? Also can we defer the layout of navigation bar until we know it will overflow?",
        "createdAt" : "2020-02-24T18:02:07Z",
        "updatedAt" : "2020-03-11T18:54:49Z",
        "lastEditedBy" : "d684363a-4114-408d-bf33-c427c7290197",
        "tags" : [
        ]
      },
      {
        "id" : "36811395-3edf-401b-9e63-ed7924746848",
        "parentId" : "ab6139c7-7266-4ff9-9510-aa2c2be89899",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "In the case where the overflow menu is open, I have to layout all of the children, because I have to decide where it overflows and then I have to paint the overflowing children.  In the case where it's not open, I can add an optimization to not layout the overflowing children.",
        "createdAt" : "2020-02-25T21:55:51Z",
        "updatedAt" : "2020-03-11T18:54:49Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      }
    ],
    "commit" : "0a95c99a1266845513acf9c54f33827adf07f4eb",
    "line" : 373,
    "diffHunk" : "@@ -1,1 +365,369 @@    int i = -1;\n    double width = 0.0;\n    visitChildren((RenderObject renderObjectChild) {\n      i++;\n"
  },
  {
    "id" : "78a0090d-a7b5-42e5-9d9a-6ef997f1013f",
    "prId" : 49391,
    "prUrl" : "https://github.com/flutter/flutter/pull/49391#pullrequestreview-365323219",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4f0edce5-53f0-424e-9de1-6d728ace9b30",
        "parentId" : null,
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "nit: I would merge this if with the previous one.",
        "createdAt" : "2020-02-26T23:56:15Z",
        "updatedAt" : "2020-03-11T18:54:49Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      }
    ],
    "commit" : "0a95c99a1266845513acf9c54f33827adf07f4eb",
    "line" : 442,
    "diffHunk" : "@@ -1,1 +434,438 @@\n      // There is no need to place children that won't be painted.\n      if (!_shouldPaintChild(renderObjectChild, i)) {\n        childParentData.shouldPaint = false;\n        return;"
  },
  {
    "id" : "74bd383d-9db8-4e5a-841f-ff992a6fb7a3",
    "prId" : 49391,
    "prUrl" : "https://github.com/flutter/flutter/pull/49391#pullrequestreview-368225094",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "134703d1-d06a-44dd-87e4-4fa93039a383",
        "parentId" : null,
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "Note: What happens if overflowOpen is true but it doesn't actually overflow? Make sure that case is handled.",
        "createdAt" : "2020-02-27T00:08:41Z",
        "updatedAt" : "2020-03-11T18:54:49Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      },
      {
        "id" : "25897cad-b0c1-41c0-8d42-267c3846bc90",
        "parentId" : "134703d1-d06a-44dd-87e4-4fa93039a383",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "Handled by resetting overflowOpen to false when the menu changes.",
        "createdAt" : "2020-03-03T18:36:24Z",
        "updatedAt" : "2020-03-11T18:54:50Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      }
    ],
    "commit" : "0a95c99a1266845513acf9c54f33827adf07f4eb",
    "line" : 490,
    "diffHunk" : "@@ -1,1 +482,486 @@  @override\n  void performLayout() {\n    _lastIndexThatFits = -1;\n    if (firstChild == null) {\n      performResize();"
  },
  {
    "id" : "9d3a0211-e813-4b6b-89d6-31c8bb6500db",
    "prId" : 49391,
    "prUrl" : "https://github.com/flutter/flutter/pull/49391#pullrequestreview-367452104",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1714307a-76d2-4003-a2fd-034718536f8e",
        "parentId" : null,
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "What are the incoming constraints for AnimatedSize? My guess is that they end up to be tight giving AnimatedSize no choice in what size it can be?",
        "createdAt" : "2020-02-28T20:24:56Z",
        "updatedAt" : "2020-03-11T18:54:50Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      },
      {
        "id" : "c8a96d85-b674-4d20-8b84-74e90982c41f",
        "parentId" : "1714307a-76d2-4003-a2fd-034718536f8e",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "Unfortunately I couldn't check the constraints directly by using a LayoutBuilder because it wasn't letting me put a LayoutBuilder inside of InstrincWidth...\r\n\r\nBut I'm pretty sure that the constraints are set to tight by the IntrinsicWidth widget.  If I remove IntrinsicWidth, the animation works.",
        "createdAt" : "2020-02-28T22:08:37Z",
        "updatedAt" : "2020-03-11T18:54:50Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      },
      {
        "id" : "6ffaaadb-2e60-4d3e-a2c5-642d659605a8",
        "parentId" : "1714307a-76d2-4003-a2fd-034718536f8e",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "This and the comment in this review below should be irrelevant with the new approach in https://github.com/flutter/flutter/pull/49391/commits/42f976714798555c8e95e8708a499b6a1fd229fe.",
        "createdAt" : "2020-03-02T19:08:07Z",
        "updatedAt" : "2020-03-11T18:54:50Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      }
    ],
    "commit" : "0a95c99a1266845513acf9c54f33827adf07f4eb",
    "line" : 115,
    "diffHunk" : "@@ -1,1 +108,112 @@      key: _containerKey,\n      overflowOpen: _overflowOpen,\n      child: AnimatedSize(\n        vsync: this,\n        // This duration was eyeballed on a Pixel 2 emulator running Android"
  },
  {
    "id" : "ba7e5112-054d-4d31-a346-0d7d943f86d5",
    "prId" : 49391,
    "prUrl" : "https://github.com/flutter/flutter/pull/49391#pullrequestreview-372346386",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c03e6311-2de4-4d5f-8a91-0c7b96529aff",
        "parentId" : null,
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "Didn't you already do this above in line 435? Maybe change line 435 to just be:\r\n\r\n```\r\nif (renderObjectChild == firstChild) {\r\n  // Deal with the navigation button later.\r\n  return;\r\n}\r\n\r\n... and then figure out what to do with the nav button right here.",
        "createdAt" : "2020-03-10T18:19:40Z",
        "updatedAt" : "2020-03-11T18:54:50Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      },
      {
        "id" : "e50db48e-e237-4e4e-9b8e-b22223b19311",
        "parentId" : "c03e6311-2de4-4d5f-8a91-0c7b96529aff",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "Will do.  I agree this way is misleading now that I look at it.",
        "createdAt" : "2020-03-10T21:49:37Z",
        "updatedAt" : "2020-03-11T18:54:50Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      }
    ],
    "commit" : "0a95c99a1266845513acf9c54f33827adf07f4eb",
    "line" : 482,
    "diffHunk" : "@@ -1,1 +474,478 @@      }\n    } else {\n      navButtonParentData.shouldPaint = false;\n    }\n"
  },
  {
    "id" : "d2f00fa9-c329-4db7-86a4-742fa6846bcf",
    "prId" : 49391,
    "prUrl" : "https://github.com/flutter/flutter/pull/49391#pullrequestreview-372973381",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4d0a6847-03b8-4a31-be44-803f43e3d363",
        "parentId" : null,
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "How is fitsAbove updated when the textfield is in a scrollable and I scroll while the toolbar is shown? Is that even possible? What does native do?",
        "createdAt" : "2020-03-10T18:25:39Z",
        "updatedAt" : "2020-03-11T18:54:50Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      },
      {
        "id" : "9b5ab6e3-3c5c-4695-aef7-7bd6c6939a61",
        "parentId" : "4d0a6847-03b8-4a31-be44-803f43e3d363",
        "authorId" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "body" : "I noticed a couple of problems while looking into this.  I'm going to create two new issues and defer them until after this PR, if that's alright with you.  I checked and the behavior was the same before this PR.\r\n\r\n  1. ✅ Scrolling a multiline text field properly updates fitsAbove immediately.  The position of the menu changes as well as the orientation of the back button.\r\n  1. ❌ Scrolling the entire TextField as an item in a ListView does not update fitsAbove. https://github.com/flutter/flutter/issues/52426\r\n  1. ❌ On native Android, the menu fades out during scrolling and back in afterwards, but Flutter doesn't do this. https://github.com/flutter/flutter/issues/52425",
        "createdAt" : "2020-03-11T17:26:58Z",
        "updatedAt" : "2020-03-11T18:54:50Z",
        "lastEditedBy" : "0474385d-5aae-4093-b7fc-7f38665f8960",
        "tags" : [
        ]
      }
    ],
    "commit" : "0a95c99a1266845513acf9c54f33827adf07f4eb",
    "line" : 710,
    "diffHunk" : "@@ -1,1 +681,685 @@            handlePaste: canPaste(delegate) ? () => handlePaste(delegate) : null,\n            handleSelectAll: canSelectAll(delegate) ? () => handleSelectAll(delegate) : null,\n            isAbove: fitsAbove,\n          ),\n        ),"
  }
]