[
  {
    "id" : "372e2568-2593-4d1d-a284-702896f9e633",
    "prId" : 3220,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "48f9fb3d-cabc-4724-a45f-841661162b28",
        "parentId" : null,
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "setState ?  I'd probably move the setState call into _updateState.  The scroll bar got around these problems by using an animation.\n",
        "createdAt" : "2016-04-08T20:00:06Z",
        "updatedAt" : "2016-04-08T20:10:24Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      },
      {
        "id" : "239e5333-9a73-4a47-89f6-eae53932db4c",
        "parentId" : "48f9fb3d-cabc-4724-a45f-841661162b28",
        "authorId" : "9ae618fc-fa71-4bc9-be97-de7c674590eb",
        "body" : "When the scrollOffset changes and we're overscrolling, the extent animation's value is updated:\n\n```\n  void _onScrollUpdated(ScrollableState scrollable) {\n    final double value = scrollable.scrollOffset;\n    if ((value < _minScrollOffset || value > _maxScrollOffset) &&\n        ((value - _scrollOffset).abs() > kPixelScrollTolerance.distance)) {\n      _hideTimer?.cancel();\n      _hideTimer = new Timer(_kIndicatorTimeoutDuration, _hide);\n      // Changing the animation's value causes an implicit setState().\n      _extentAnimation.value = value < _minScrollOffset ? _minScrollOffset - value : value - _maxScrollOffset;\n    }\n    _updateState(scrollable);\n  }\n```\n\nLikewise when the scroll ends and we \"hide\" the indicator.\n\nShouldn't that be enough?\n",
        "createdAt" : "2016-04-08T20:09:36Z",
        "updatedAt" : "2016-04-08T20:10:24Z",
        "lastEditedBy" : "9ae618fc-fa71-4bc9-be97-de7c674590eb",
        "tags" : [
        ]
      },
      {
        "id" : "8ffcfa0e-a181-44f1-b47d-d9f281f3778d",
        "parentId" : "48f9fb3d-cabc-4724-a45f-841661162b28",
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "Yeah, ok.  That should be fine.\n\nCalling setState is really cheap.  I usually err on the side of make the code obviously correct (and therefore less fragile) rather than rely on these non-local properties to ensure correctness, but that's more of a style thing so don't feel you need to do it that way.\n",
        "createdAt" : "2016-04-08T20:38:59Z",
        "updatedAt" : "2016-04-08T20:38:59Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      },
      {
        "id" : "137fb258-4c31-49fe-b9dd-1939f3c24322",
        "parentId" : "48f9fb3d-cabc-4724-a45f-841661162b28",
        "authorId" : "9ae618fc-fa71-4bc9-be97-de7c674590eb",
        "body" : "In this case I only want to rebuild on overscroll, not on all scrolls.\n",
        "createdAt" : "2016-04-08T21:19:02Z",
        "updatedAt" : "2016-04-08T21:19:02Z",
        "lastEditedBy" : "9ae618fc-fa71-4bc9-be97-de7c674590eb",
        "tags" : [
        ]
      },
      {
        "id" : "8d506e39-5695-4659-9a9e-8ee4a72de9bd",
        "parentId" : "48f9fb3d-cabc-4724-a45f-841661162b28",
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "Oh, that's a good point.  I didn't think about that.\n",
        "createdAt" : "2016-04-08T21:20:38Z",
        "updatedAt" : "2016-04-08T21:20:38Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      }
    ],
    "commit" : "345c3ad0aec4bf59fbf3d242752f2ca06dcbb191",
    "line" : 135,
    "diffHunk" : "@@ -1,1 +133,137 @@\n  void _onScrollStarted(ScrollableState scrollable) {\n    _updateState(scrollable);\n  }\n"
  }
]