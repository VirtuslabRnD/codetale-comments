[
  {
    "id" : "8010fc8d-1ffc-461b-a8da-7a655f2f8430",
    "prId" : 486,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "80ce3df8-675b-4221-9387-3e7a79abfec2",
        "parentId" : null,
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "you can also write this as `assert((_currentLayer != null) == hasCanvas);`, which would collapse the 12 assert lines into 3. Not sure which is more readable.\n",
        "createdAt" : "2015-11-19T17:23:43Z",
        "updatedAt" : "2015-11-19T19:18:09Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "602b8e79-f605-4315-824b-b7e3b4543284",
        "parentId" : "80ce3df8-675b-4221-9387-3e7a79abfec2",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "Or even `assert((_currentLayer == null) == (_canvas == null));`\n...which would get rid of the temporary as well. Not sure how good the compiler is about optimising those away. Hopefully in non-checked mode this entire function gets inlined as a trivial comparison at every call site anyway...\n",
        "createdAt" : "2015-11-19T17:25:20Z",
        "updatedAt" : "2015-11-19T19:18:09Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "74d4ed75-b522-42b2-9eba-4eb4f4ddd807",
        "parentId" : "80ce3df8-675b-4221-9387-3e7a79abfec2",
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "Yeah, I thought about doing something like that, but the trouble is when the assert fires, it's harder to know what's going wrong.  This way the line number tells you whether there is a canvas and which variable is messed up.\n",
        "createdAt" : "2015-11-19T19:04:44Z",
        "updatedAt" : "2015-11-19T19:18:09Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      }
    ],
    "commit" : "fc576814d50ce87116c0c9543b7805057a6ae03d",
    "line" : 86,
    "diffHunk" : "@@ -1,1 +118,122 @@    assert(() {\n      if (hasCanvas) {\n        assert(_currentLayer != null);\n        assert(_recorder != null);\n        assert(_canvas != null);"
  },
  {
    "id" : "6ab02124-a946-4893-9376-98ef3db00975",
    "prId" : 486,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8cb4d3ea-f024-43d5-8586-56b767dfc9b2",
        "parentId" : null,
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "in what way does it not work?\n",
        "createdAt" : "2015-11-19T18:11:45Z",
        "updatedAt" : "2015-11-19T19:18:09Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "568a24ca-c9cc-47e3-bbb3-84471ce10739",
        "parentId" : "8cb4d3ea-f024-43d5-8586-56b767dfc9b2",
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "Crashes because it's missing a type specifier.  It's trivial to fix.\n",
        "createdAt" : "2015-11-19T19:05:27Z",
        "updatedAt" : "2015-11-19T19:18:09Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      }
    ],
    "commit" : "fc576814d50ce87116c0c9543b7805057a6ae03d",
    "line" : 273,
    "diffHunk" : "@@ -1,1 +216,220 @@    } else {\n      canvas.saveLayer(bounds.shift(offset), _disableAntialias);\n      // TODO(abarth): Remove this translation once RRect.shift works again.\n      canvas.translate(offset.dx, offset.dy);\n      canvas.clipRRect(clipRRect);"
  },
  {
    "id" : "310c24bf-8176-48b9-8e43-7a345e696764",
    "prId" : 486,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1baeccb3-0ce3-4dfb-8b7f-3ee4770769f3",
        "parentId" : null,
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "it did previously, no? What changed?\n",
        "createdAt" : "2015-11-19T18:20:49Z",
        "updatedAt" : "2015-11-19T19:18:09Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "63a4514a-40eb-4f54-9b1a-57c8d63920e2",
        "parentId" : "1baeccb3-0ce3-4dfb-8b7f-3ee4770769f3",
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "Nothing changed.  We've had this problem for a long time.  I'm just documenting it.\n",
        "createdAt" : "2015-11-19T19:05:45Z",
        "updatedAt" : "2015-11-19T19:18:09Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      }
    ],
    "commit" : "fc576814d50ce87116c0c9543b7805057a6ae03d",
    "line" : 399,
    "diffHunk" : "@@ -1,1 +288,292 @@      childContext._stopRecordingIfNeeded();\n    } else {\n      // TODO(abarth): pushOpacity should require bounds.\n      canvas.saveLayer(bounds?.shift(offset), _getPaintForAlpha(alpha));\n      painter(this, offset);"
  },
  {
    "id" : "1c2be507-a7b4-47a8-b4e1-6ca6a57d89f4",
    "prId" : 503,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "477fa8e4-0678-4599-b842-2b8db95328b5",
        "parentId" : null,
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "I would have gone with `\"${child.runtimeType}  ${child.debugOwner}\"` or some such. But this is fine too.\n",
        "createdAt" : "2015-11-19T23:01:09Z",
        "updatedAt" : "2015-11-19T23:01:09Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "dfbd8c6a8a72cfd79be2f87d04540b9e53a386f0",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +76,80 @@    child._layer.removeAllChildren();\n    assert(() {\n      child._layer.debugOwner = child.debugOwner ?? child.runtimeType;\n      return true;\n    });"
  },
  {
    "id" : "12e17bf3-b81d-4145-8fd9-378a227ff3d5",
    "prId" : 982,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ed88a3d8-6c45-4fe2-bfe0-c55c25d8f1af",
        "parentId" : null,
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "I'd put this in a \"finally\" block of a try/finally.\n",
        "createdAt" : "2015-12-18T04:41:11Z",
        "updatedAt" : "2015-12-18T04:41:11Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      },
      {
        "id" : "3864238a-aa9b-4208-b3f7-19b28444396d",
        "parentId" : "ed88a3d8-6c45-4fe2-bfe0-c55c25d8f1af",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "I considered that, but the code is all self-contained in object.dart, and I really don't see a way in which it could throw. Do you still want a try/finally block?\n",
        "createdAt" : "2015-12-18T05:43:55Z",
        "updatedAt" : "2015-12-18T05:43:55Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "18424a44-ee19-4d4c-b70a-f4c13d220e08",
        "parentId" : "ed88a3d8-6c45-4fe2-bfe0-c55c25d8f1af",
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "Its ok to skip it.\n",
        "createdAt" : "2015-12-18T06:00:06Z",
        "updatedAt" : "2015-12-18T06:00:06Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      }
    ],
    "commit" : "ab01c7bf7354ac5bf22e464e97b2bea7df698a4f",
    "line" : 107,
    "diffHunk" : "@@ -1,1 +897,901 @@    }\n    _nodesNeedingCompositingBitsUpdate.clear();\n    Timeline.finishSync();\n  }\n"
  }
]