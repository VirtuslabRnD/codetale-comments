[
  {
    "id" : "c45c179a-b1a6-4f9a-8d7a-5a6ecf508a55",
    "prId" : 12105,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/12105#pullrequestreview-166762194",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0ec854ff-85f2-4f7f-ad77-87ab896377bf",
        "parentId" : null,
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "this will add a lot of data to the response.. can we include this field only when requested (like with a `fields` param) ?",
        "createdAt" : "2018-10-20T20:50:44Z",
        "updatedAt" : "2018-10-22T15:16:48Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      }
    ],
    "commit" : "fe92eab34ae05dff9096c555a886dc72cca2c466",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +127,131 @@\t\tuser = result[0];\n\t\tif (fields.userRooms === 1 && RocketChat.authz.hasPermission(this.userId, 'view-other-user-channels')) {\n\t\t\tuser.rooms = RocketChat.models.Subscriptions.findByUserId(this.userId, {\n\t\t\t\tfields: {\n\t\t\t\t\trid: 1,"
  },
  {
    "id" : "3366813e-d867-4764-9f89-cca025309f3a",
    "prId" : 11431,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/11431#pullrequestreview-147767264",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "37d724b3-79d3-4f20-b6a7-0861154a85bb",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "Suggestion:\r\n```javascript\r\nconst getUserFromFormData = (fields) => {\r\n\tif (fields.userId) {\r\n\t\treturn RocketChat.models.Users.findOneById(fields.userId, {_id: 1});\r\n\t}\r\n\tif (fields.username) {\r\n\t\treturn RocketChat.models.Users.findOneByUsername(fields.username, {_id: 1});\r\n\t}\r\n};\r\n``` ",
        "createdAt" : "2018-08-20T18:29:22Z",
        "updatedAt" : "2018-10-20T20:21:53Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "239ec7c3d99a00ab55613bd3ac8a1aafa372a09e",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +233,237 @@\t\t\t\t\t\treturn RocketChat.models.Users.findOneByUsername(fields.username, { _id: 1 });\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tMeteor.wrapAsync((callback) => {"
  },
  {
    "id" : "b52a9f23-f3f1-4642-a82f-4c8d3d81b99a",
    "prId" : 11431,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/11431#pullrequestreview-147767264",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5d90f77e-898d-4d4e-8d8f-44a78196acf3",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "Why not?:\r\n```javascript\r\nbusboy.on('field', (fieldname, val) => {\r\n\tfields[fieldname] = val;\r\n});\r\n```",
        "createdAt" : "2018-08-20T18:30:12Z",
        "updatedAt" : "2018-10-20T20:21:53Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "239ec7c3d99a00ab55613bd3ac8a1aafa372a09e",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +262,266 @@\t\t\t\t\tbusboy.on('field', (fieldname, val) => {\n\t\t\t\t\t\tfields[fieldname] = val;\n\t\t\t\t\t});\n\t\t\t\t\tthis.request.pipe(busboy);\n\t\t\t\t})();"
  },
  {
    "id" : "998cb5c9-9846-40f1-b554-c7e0a2917069",
    "prId" : 11431,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/11431#pullrequestreview-166760800",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2118ea23-6604-4ac6-b547-5e90a9bc515f",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "Where are we checking the permissions to change the other user's avatar?",
        "createdAt" : "2018-08-20T18:34:39Z",
        "updatedAt" : "2018-10-20T20:21:53Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "75aa7469-2773-4d75-a667-cb147a7eb7c3",
        "parentId" : "2118ea23-6604-4ac6-b547-5e90a9bc515f",
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "at [line 250](https://github.com/RocketChat/Rocket.Chat/pull/11431/files#diff-1d5c7afdaba4728789f33cfa02ec1515R250)",
        "createdAt" : "2018-10-20T20:00:12Z",
        "updatedAt" : "2018-10-20T20:21:53Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      }
    ],
    "commit" : "239ec7c3d99a00ab55613bd3ac8a1aafa372a09e",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +248,252 @@\t\t\t\t\t\t\tconst sentTheUserByFormData = fields.userId || fields.username;\n\t\t\t\t\t\t\tif (sentTheUserByFormData) {\n\t\t\t\t\t\t\t\tuser = getUserFromFormData(fields);\n\t\t\t\t\t\t\t\tif (!user) {\n\t\t\t\t\t\t\t\t\treturn callback(new Meteor.Error('error-invalid-user', 'The optional \"userId\" or \"username\" param provided does not match any users'));"
  },
  {
    "id" : "a91b2a6a-3489-4de6-b0e5-e585010e519a",
    "prId" : 10736,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/10736#pullrequestreview-540015786",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "01bff7c6-a4f7-4086-8931-e5cc691aa625",
        "parentId" : null,
        "authorId" : "c46a48ec-06d0-4e46-bbb0-db158e9482d1",
        "body" : "But **sometimes** we do need '`all'`, not just `'mentions'`. **People should be able to get notifications when they are not on-line, even when they are not mentioned.** For example, people who don't have RocketChat client, and we want to use e-mail as notifications, for important channels",
        "createdAt" : "2020-07-17T13:57:46Z",
        "updatedAt" : "2020-07-17T14:00:09Z",
        "lastEditedBy" : "c46a48ec-06d0-4e46-bbb0-db158e9482d1",
        "tags" : [
        ]
      },
      {
        "id" : "4c103171-0c00-4fc3-a9bb-60e1f07908e4",
        "parentId" : "01bff7c6-a4f7-4086-8931-e5cc691aa625",
        "authorId" : "7f8afd8b-622c-4be7-ba53-441bfb4d3d3c",
        "body" : "It would be so great to have email notifications for `all` messages due to push-notifications issues on some rocket.chat instances, like on wechange.de. With this I could create a mail-filter and forward all mails to IFTTT, that triggers a push notification on the phone. - It would be even greater to have an option to change the mail content for email-notifications to `minimal`, where mail body holds just the deep link to the rocket.chat conversation and the subject holds the channel title (with some prefix, like the rocket.chat domain or something like that).\r\nWith this it would be quite easy to set up a IFTTT rule for getting push-notifications per user via email notifications without having the rocket.chat host to set up its own relay for push notifications. And users could get up to 750 notifications for free with the free tier of IFTTT.",
        "createdAt" : "2020-11-27T14:23:23Z",
        "updatedAt" : "2020-11-27T14:23:36Z",
        "lastEditedBy" : "7f8afd8b-622c-4be7-ba53-441bfb4d3d3c",
        "tags" : [
        ]
      }
    ],
    "commit" : "a0d18abf554b434f22831e87c13549366ef7c1a7",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +365,369 @@\n\t\t// Keep compatibility with old values\n\t\tif (preferences.emailNotificationMode === 'all') {\n\t\t\tpreferences.emailNotificationMode = 'mentions';\n\t\t} else if (preferences.emailNotificationMode === 'disabled') {"
  },
  {
    "id" : "ac0c473a-afec-466f-9b39-c68b07e408bd",
    "prId" : 10240,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/10240#pullrequestreview-107831894",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e9f8c8b5-7b7f-479c-85c8-9e554d437864",
        "parentId" : null,
        "authorId" : "97008387-ed37-4abe-bd0a-d59f54ba177a",
        "body" : "Please add a `console.warn('The endpoint /api/v1/user.roles is deprecated and will be removed after version v0.xx.')`. Also, add it to the resulting object but only when we are in a development environment. Which, might need to add a helper method which generates everything I just mentioned with providing the endpoint and the version it will be removed.\r\n\r\nWe will need to update the deprecation warnings for the real version after it has been merged.",
        "createdAt" : "2018-03-28T20:11:49Z",
        "updatedAt" : "2018-03-29T17:50:33Z",
        "lastEditedBy" : "97008387-ed37-4abe-bd0a-d59f54ba177a",
        "tags" : [
        ]
      }
    ],
    "commit" : "570ad9987bb63a3d5e06db5c453c439009bf02fd",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +377,381 @@ Route: api/v1/user.roles\n */\nRocketChat.API.v1.addRoute('user.roles', { authRequired: true }, {\n\tget() {\n\t\tlet currentUserRoles = {};"
  },
  {
    "id" : "3c7fc93c-5a3c-4343-9c20-d55474efe23d",
    "prId" : 5360,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/5360#pullrequestreview-15096122",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4ebfeb15-271b-4d5d-b2d7-52ede3458ff9",
        "parentId" : null,
        "authorId" : "97008387-ed37-4abe-bd0a-d59f54ba177a",
        "body" : "What error is this failing with when you just pass in that data? Because I just tried it with the `develop` branch and it didn't fail.",
        "createdAt" : "2017-01-03T16:28:25Z",
        "updatedAt" : "2017-01-04T13:08:06Z",
        "lastEditedBy" : "97008387-ed37-4abe-bd0a-d59f54ba177a",
        "tags" : [
        ]
      },
      {
        "id" : "3ed588e0-841a-48d7-b556-924ebcfe89ef",
        "parentId" : "4ebfeb15-271b-4d5d-b2d7-52ede3458ff9",
        "authorId" : "dd839aa0-ee50-4189-97c2-687b3de6a092",
        "body" : "It doesn't fail with error. But you have to provide either of this \"username\", \"email\", \"name\" or \"password\" if you just want to activate user (\"active\":\"true\").",
        "createdAt" : "2017-01-04T07:50:32Z",
        "updatedAt" : "2017-01-04T13:08:06Z",
        "lastEditedBy" : "dd839aa0-ee50-4189-97c2-687b3de6a092",
        "tags" : [
        ]
      },
      {
        "id" : "33a4948a-d96a-41e8-a2d9-ba9410983626",
        "parentId" : "4ebfeb15-271b-4d5d-b2d7-52ede3458ff9",
        "authorId" : "97008387-ed37-4abe-bd0a-d59f54ba177a",
        "body" : "Then you can go ahead and remove your comments as Pull Request #5402 fixed that issue.",
        "createdAt" : "2017-01-04T11:40:03Z",
        "updatedAt" : "2017-01-04T13:08:06Z",
        "lastEditedBy" : "97008387-ed37-4abe-bd0a-d59f54ba177a",
        "tags" : [
        ]
      }
    ],
    "commit" : "dc639ce1cbf68af2af74dc6e869fb56d4d9e4865",
    "line" : null,
    "diffHunk" : "@@ -1,1 +209,213 @@\t\t\tconst userData = _.extend({ _id: this.bodyParams.userId }, this.bodyParams.data);\n\n\t\t\tRocketChat.saveUser(this.userId, userData);\n\n\t\t\tif (this.bodyParams.data.customFields) {"
  }
]