[
  {
    "id" : "33105194-f95a-481f-a8c2-ce33e0e1aebc",
    "prId" : 8947,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/8947#pullrequestreview-80850949",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "217cb298-3c4c-453f-89e2-3a9ea94339b3",
        "parentId" : null,
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "Should this be changed to a model call? We already have `RocketChat.models.Settings.findNotHiddenPublic` which has the same filter, just need to implement additional `sort`, `skip` and `limit` options.\r\n\r\nI also think this should only return `_id` and `value` fields, I cannot see any use for the other fields.",
        "createdAt" : "2017-12-04T11:31:08Z",
        "updatedAt" : "2017-12-06T19:07:22Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      },
      {
        "id" : "2d9a869e-9124-452a-abac-963e58780b9d",
        "parentId" : "217cb298-3c4c-453f-89e2-3a9ea94339b3",
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "The ideia is to have an API that is versatile, that's why the API pass the query and allow the caller to pass more filters and require other fields if necessary",
        "createdAt" : "2017-12-04T11:58:50Z",
        "updatedAt" : "2017-12-06T19:07:22Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "5487bb47-aa7c-49f7-9171-5dda209c0a6c",
        "parentId" : "217cb298-3c4c-453f-89e2-3a9ea94339b3",
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "my only concern is how it can be abused.\r\n\r\nbut still bypassing the model (using .`find` directly) defeats model's purpose and I thought was strongly discouraged.",
        "createdAt" : "2017-12-04T12:06:22Z",
        "updatedAt" : "2017-12-06T19:07:22Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      },
      {
        "id" : "931cc4b3-fdcb-43aa-ad95-da000ccba430",
        "parentId" : "217cb298-3c4c-453f-89e2-3a9ea94339b3",
        "authorId" : "97008387-ed37-4abe-bd0a-d59f54ba177a",
        "body" : "I'm going to agree that this particular endpoint should use the `findNotHIddenPublic` with pagination support, however adding that support requires additional work and can be done via a secondary pull request after this one is merged. This way we don't delay any longer getting this out and come back to it.",
        "createdAt" : "2017-12-04T14:10:48Z",
        "updatedAt" : "2017-12-06T19:07:22Z",
        "lastEditedBy" : "97008387-ed37-4abe-bd0a-d59f54ba177a",
        "tags" : [
        ]
      }
    ],
    "commit" : "5bd2cb3c6d408392891c07f26a24f5ea98421b25",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +14,18 @@\t\tourQuery = Object.assign({}, query, ourQuery);\n\n\t\tconst settings = RocketChat.models.Settings.find(ourQuery, {\n\t\t\tsort: sort ? sort : { _id: 1 },\n\t\t\tskip: offset,"
  }
]