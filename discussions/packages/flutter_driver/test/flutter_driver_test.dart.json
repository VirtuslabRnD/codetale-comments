[
  {
    "id" : "9d153d9a-3a39-4f4c-a61c-e463612ed2ed",
    "prId" : 2120,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9d3276a4-3257-4956-bacc-a14446365d9a",
        "parentId" : null,
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "Do we have an explicit dep on `quiver` in the pubspec?\n",
        "createdAt" : "2016-02-24T10:56:00Z",
        "updatedAt" : "2016-02-24T18:01:48Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "ccf355bd-2953-417f-90e2-333158f4f5d7",
        "parentId" : "9d3276a4-3257-4956-bacc-a14446365d9a",
        "authorId" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "body" : "Done. Also did a general clean-up of `pubspec.yaml` (removed obsolete dep on `logging`, sorted alphabetically).\n",
        "createdAt" : "2016-02-24T18:01:23Z",
        "updatedAt" : "2016-02-24T18:01:48Z",
        "lastEditedBy" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "tags" : [
        ]
      }
    ],
    "commit" : "7f39703759ae8c8a3169d60580940fda1fa990f1",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +11,15 @@import 'package:json_rpc_2/json_rpc_2.dart' as rpc;\nimport 'package:mockito/mockito.dart';\nimport 'package:quiver/testing/async.dart';\nimport 'package:vm_service_client/vm_service_client.dart';\n"
  },
  {
    "id" : "65291c94-bd9a-425a-95ba-4929ae1805c8",
    "prId" : 2650,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2ac20dcb-5940-4361-a948-1acaa008cab1",
        "parentId" : null,
        "authorId" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "body" : "I thought we relied on generic method here, no?\n",
        "createdAt" : "2016-03-14T17:18:28Z",
        "updatedAt" : "2016-03-14T17:33:02Z",
        "lastEditedBy" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "tags" : [
        ]
      },
      {
        "id" : "97be4ecc-b1d6-4fb8-8160-7fc1b7a3b548",
        "parentId" : "2ac20dcb-5940-4361-a948-1acaa008cab1",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "Yeah, that's blocked on https://github.com/dart-lang/linter/issues/200 though.\n",
        "createdAt" : "2016-03-14T17:29:33Z",
        "updatedAt" : "2016-03-14T17:33:02Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "62f3124e66580feebd44abd0836a68791c68ecba",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +23,27 @@\n    void expectLogContains(String message) {\n      expect(log.map((LogRecord r) => '$r'), anyElement(contains(message)));\n    }\n"
  },
  {
    "id" : "19b67a7e-1aaa-4c7b-be4c-794cd6d57fd2",
    "prId" : 2650,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "13323dfc-dec5-4ab3-96e0-e112ef7e5782",
        "parentId" : null,
        "authorId" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "body" : "This extra type ceremony is quite useless in this case. The original code was more readable. I think we should relax our rules for some things.\n",
        "createdAt" : "2016-03-14T17:25:25Z",
        "updatedAt" : "2016-03-14T17:33:02Z",
        "lastEditedBy" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "tags" : [
        ]
      },
      {
        "id" : "5da6d8c1-dd58-472b-9928-903d6bdd95a1",
        "parentId" : "13323dfc-dec5-4ab3-96e0-e112ef7e5782",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "I agree that JSON kind of makes this a mess, but in general doing this caught several cases where we were doing pointless work (e.g. returning values that were then ignored) so I'm not at all convinced that the cost is too high. I think the real problem is that we should try to turn the JSON data into structured data much more aggressively rather than shuttling the untyped JSON data around in futures and streams.\n",
        "createdAt" : "2016-03-14T17:31:34Z",
        "updatedAt" : "2016-03-14T17:33:02Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "8bf81b2a-74f9-4687-8af4-96fdc352e0d0",
        "parentId" : "13323dfc-dec5-4ab3-96e0-e112ef7e5782",
        "authorId" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "body" : "`flutter_driver` actually does that, which is what this test is testing. The VM service gives us a JSON blob and then that blob is deserialized into structured data. The mock for the VM service, however, has to deal with JSON blobs.\n\nI'm not strongly against adding types. Special cases means more complexity in tooling. I'm guessing the linter is much simpler if it has to enforce the same rule in all code.\n",
        "createdAt" : "2016-03-14T17:35:34Z",
        "updatedAt" : "2016-03-14T17:35:34Z",
        "lastEditedBy" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "tags" : [
        ]
      },
      {
        "id" : "aaceadd6-7144-471a-960f-2896edfd5405",
        "parentId" : "13323dfc-dec5-4ab3-96e0-e112ef7e5782",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "Yeah, tests are always a tricky case.\n\nI was referring more generally to the code that has futures and streams that pass `Map<String, dynamic>s`. It felt like I was adding `<String, dynamic>` annotations to a lot of things, and in many cases it was very unclear what exactly I should be adding; I'm sure I got some wrong. (Bug https://github.com/dart-lang/sdk/issues/25989 didn't help.) Maybe I misunderstood what the code was doing. I would have felt better if all the code that involved \"dynamic\" had been synchronous and in one place, generating strongly-typed data structures. I don't think we should ever have a Future or Map that passes a `Map<String, dynamic>`, it's too bug-prone (it basically entirely side-steps the static checker).\n",
        "createdAt" : "2016-03-14T17:43:48Z",
        "updatedAt" : "2016-03-14T17:43:48Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "62f3124e66580feebd44abd0836a68791c68ecba",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +36,40 @@      when(mockIsolate.loadRunnable()).thenReturn(mockIsolate);\n      when(mockIsolate.invokeExtension(any, any))\n          .thenReturn(new Future<Map<String, dynamic>>.value(<String, String>{'status': 'ok'}));\n      vmServiceConnectFunction = (String url) => new Future<VMServiceClient>.value(mockClient);\n    });"
  },
  {
    "id" : "e8815eb1-0bb7-44c1-b7f2-7c9401505dee",
    "prId" : 45951,
    "prUrl" : "https://github.com/flutter/flutter/pull/45951#pullrequestreview-327140093",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "554969f9-e7ed-4a7b-93f4-64087a058d89",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Do setup in a setUp method",
        "createdAt" : "2019-12-04T20:43:42Z",
        "updatedAt" : "2019-12-17T22:30:44Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "85d3d6562f15d6499b125d4f4428ef1e15b26e75",
    "line" : 101,
    "diffHunk" : "@@ -1,1 +699,703 @@\n    test('closes connection', () async {\n      when(mockConnection.close()).thenAnswer((Invocation invocation) => Future<dynamic>.value(null));\n      await driver.close();\n    });"
  },
  {
    "id" : "6d51524b-40f4-4e1b-b87b-74adddfd30ef",
    "prId" : 45951,
    "prUrl" : "https://github.com/flutter/flutter/pull/45951#pullrequestreview-327140429",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "11470153-3890-4da9-b43c-5ea0233a50ed",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "nit: use `//`",
        "createdAt" : "2019-12-04T20:44:17Z",
        "updatedAt" : "2019-12-17T22:30:44Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "85d3d6562f15d6499b125d4f4428ef1e15b26e75",
    "line" : 451,
    "diffHunk" : "@@ -1,1 +1049,1053 @@}\n\n/// This function will verify the format of the script\n/// and return the actual script.\n/// script will be in the following format:"
  },
  {
    "id" : "e650fd15-d2ef-4c4d-8da1-177d29afb169",
    "prId" : 45951,
    "prUrl" : "https://github.com/flutter/flutter/pull/45951#pullrequestreview-327140621",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2474d1eb-7883-4611-9bac-7d8e7593bd40",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "You should also check the Unimplemented methods, and the chrome only implemenations",
        "createdAt" : "2019-12-04T20:44:37Z",
        "updatedAt" : "2019-12-17T22:30:44Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "85d3d6562f15d6499b125d4f4428ef1e15b26e75",
    "line" : 448,
    "diffHunk" : "@@ -1,1 +1046,1050 @@          throwsA(isInstanceOf<UnimplementedError>()));\n    });\n  });\n}\n"
  },
  {
    "id" : "a83b7ed3-955c-4a29-a266-7b31e826d7ab",
    "prId" : 56428,
    "prUrl" : "https://github.com/flutter/flutter/pull/56428#pullrequestreview-410502532",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "000797f8-3092-401e-a3d4-2c90cadedb28",
        "parentId" : null,
        "authorId" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "body" : "What caused the change in the sequence of events here?",
        "createdAt" : "2020-05-12T16:15:11Z",
        "updatedAt" : "2020-05-13T01:11:36Z",
        "lastEditedBy" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "tags" : [
        ]
      },
      {
        "id" : "9468915e-e043-4b2e-b840-ca2b58369505",
        "parentId" : "000797f8-3092-401e-a3d4-2c90cadedb28",
        "authorId" : "724317e3-6a58-4157-9220-ec949b730300",
        "body" : "Currently on master, `streamListen` is the operation that happens when `enableIsolateStreams` is called, which is a prerequisite of `waitForServiceExtension`. However, `waitForServiceExtension` is actually an unawaited future \r\nhttps://github.com/flutter/flutter/blob/2f993d70c178f4a927da5d7d76bd527115920695/packages/flutter_driver/lib/src/driver/vmservice_driver.dart#L181\r\n\r\nand it is only awaited after `resume` is called, which is not reflected in the test as the mocks are synchronous. As such, I have reordered `enableIsolateStreams` and `waitForServiceExtension` to come after the isolates are resumed, to match the asynchronous order of when they are needed.",
        "createdAt" : "2020-05-13T00:00:55Z",
        "updatedAt" : "2020-05-13T02:09:10Z",
        "lastEditedBy" : "724317e3-6a58-4157-9220-ec949b730300",
        "tags" : [
        ]
      }
    ],
    "commit" : "9bf7d9206236d6b49d36c22643a49a59d5b223be",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +86,90 @@      expect(driver, isNotNull);\n      expectLogContains('Isolate is paused at start');\n      expect(connectionLog, <String>['resume', 'streamListen', 'onExtensionAdded']);\n    });\n"
  },
  {
    "id" : "6ada4943-c0d0-4efb-bd86-8e232720da20",
    "prId" : 68654,
    "prUrl" : "https://github.com/flutter/flutter/pull/68654#pullrequestreview-513144082",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4f4ce55a-3aa5-4143-9d78-2ad46ae114f0",
        "parentId" : null,
        "authorId" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "body" : "Several of these changed and I'm not entirely sure why.\r\n\r\nI'm not super concerned about it though, since before long we'll be migrating this to NNBD and this test will just go away anyway.",
        "createdAt" : "2020-10-20T21:21:43Z",
        "updatedAt" : "2020-10-26T23:51:32Z",
        "lastEditedBy" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "tags" : [
        ]
      },
      {
        "id" : "24b2ba1d-4744-4e04-8121-05aafa440f8b",
        "parentId" : "4f4ce55a-3aa5-4143-9d78-2ad46ae114f0",
        "authorId" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "body" : "(The test and the entire class of error will change)",
        "createdAt" : "2020-10-20T21:21:59Z",
        "updatedAt" : "2020-10-26T23:51:32Z",
        "lastEditedBy" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "tags" : [
        ]
      }
    ],
    "commit" : "3ca245712e5b80ee658c22e080f56ab23df3a1d2",
    "line" : 326,
    "diffHunk" : "@@ -1,1 +232,236 @@    group('tap', () {\n      test('requires a target reference', () async {\n        expect(driver.tap(null), throwsAssertionError);\n      });\n"
  },
  {
    "id" : "486dece1-ee48-4636-9ebc-6156ef98c2fe",
    "prId" : 68654,
    "prUrl" : "https://github.com/flutter/flutter/pull/68654#pullrequestreview-513851197",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "419b5e31-33dc-4a80-bdb9-88da301b465a",
        "parentId" : null,
        "authorId" : "f92ac36b-d27a-47fd-a969-69dedb3e9ca7",
        "body" : "Do we run with assertions enabled in tests? If we're not sure, maybe it's safer to just throw here.",
        "createdAt" : "2020-10-21T15:42:31Z",
        "updatedAt" : "2020-10-26T23:51:32Z",
        "lastEditedBy" : "f92ac36b-d27a-47fd-a969-69dedb3e9ca7",
        "tags" : [
        ]
      },
      {
        "id" : "e64b0926-7e2a-4879-bd44-44d30cbbe2e3",
        "parentId" : "419b5e31-33dc-4a80-bdb9-88da301b465a",
        "authorId" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "body" : "Assertions are enabled for tests, yes.",
        "createdAt" : "2020-10-21T16:03:07Z",
        "updatedAt" : "2020-10-26T23:51:32Z",
        "lastEditedBy" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "tags" : [
        ]
      }
    ],
    "commit" : "3ca245712e5b80ee658c22e080f56ab23df3a1d2",
    "line" : 1603,
    "diffHunk" : "@@ -1,1 +1010,1014 @@    connectionLog.add('getVMTimeline $timeOriginMicros $timeExtentMicros');\n    final vms.Timeline timeline = timelineResponses[timeOriginMicros ?? 1];\n    assert(timeline != null, 'Missing entry in timelineResponses[$timeOriginMicros]');\n    return timeline;\n  }"
  },
  {
    "id" : "1cd951e8-893c-463f-9263-d0f2b1172926",
    "prId" : 74671,
    "prUrl" : "https://github.com/flutter/flutter/pull/74671#pullrequestreview-575778417",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0bcc0a7e-6cba-484f-8b6f-30919aac9632",
        "parentId" : null,
        "authorId" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "body" : "I think this code won't cause problems in g3 but it potentially could.",
        "createdAt" : "2021-01-25T20:22:58Z",
        "updatedAt" : "2021-01-26T05:00:06Z",
        "lastEditedBy" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "tags" : [
        ]
      },
      {
        "id" : "9b96f167-9fcb-4e2d-a487-6062783991e2",
        "parentId" : "0bcc0a7e-6cba-484f-8b6f-30919aac9632",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "well, that is what frob is for :) ",
        "createdAt" : "2021-01-25T20:24:07Z",
        "updatedAt" : "2021-01-26T05:00:06Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "7b5c6470cf2a5ec692a00139ea5bd185dea0755f",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +1015,1019 @@\n  @override\n  Future<void> dispose() async {\n    connectionLog.add('dispose');\n  }"
  }
]