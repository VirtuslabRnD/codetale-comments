[
  {
    "id" : "d90a3b64-82ea-4d20-896f-a7968a465edc",
    "prId" : 5429,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/5429#pullrequestreview-15252986",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6591ac43-fd4b-4d58-916f-f64942e359ff",
        "parentId" : null,
        "authorId" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "body" : "I assume it is OK to temporarily add a state flag (updatedBySlack) so that I can key off of it when later fired back to me via Rocket?",
        "createdAt" : "2017-01-05T06:28:37Z",
        "updatedAt" : "2017-01-05T06:28:37Z",
        "lastEditedBy" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "tags" : [
        ]
      }
    ],
    "commit" : "06b857e0fadd9add8be5ff576e4515d4b0024538",
    "line" : 161,
    "diffHunk" : "@@ -1,1 +1099,1103 @@\t\t\t\t\trid: rocketChannel._id,\n\t\t\t\t\tmsg: this.convertSlackMsgTxtToRocketTxtFormat(slackMessage.message.text),\n\t\t\t\t\tupdatedBySlack: true\t//We don't want to notify slack about this change since Slack initiated it\n\t\t\t\t};\n"
  },
  {
    "id" : "5c20b26e-363a-4887-b18d-1c3f6627b42e",
    "prId" : 5429,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/5429#pullrequestreview-15253121",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8cbe499-59d0-4046-9632-c5df10aa4cd5",
        "parentId" : null,
        "authorId" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "body" : "Added the Slack 'as_user' optional flag to get messages deleted by the user instead of the bot, but doesn't work in all cases as expected.  May submit a slack defect.",
        "createdAt" : "2017-01-05T06:30:53Z",
        "updatedAt" : "2017-01-05T06:30:53Z",
        "lastEditedBy" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "tags" : [
        ]
      }
    ],
    "commit" : "06b857e0fadd9add8be5ff576e4515d4b0024538",
    "line" : 82,
    "diffHunk" : "@@ -1,1 +988,992 @@\t\t\t\tts: this.getSlackTS(rocketMessage),\n\t\t\t\tchannel: this.slackChannelMap[rocketMessage.rid].id,\n\t\t\t\tas_user: true\n\t\t\t};\n"
  },
  {
    "id" : "99ac3eb3-e2bf-4f7a-99fc-126d16b346ff",
    "prId" : 5380,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/5380#pullrequestreview-14797222",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9e99c463-5c89-485c-93fd-bd149c6ad5f2",
        "parentId" : null,
        "authorId" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "body" : "Too much duplicate code and easy to fat finger the event names.  Isolated these to their own methods.",
        "createdAt" : "2016-12-31T00:30:57Z",
        "updatedAt" : "2016-12-31T00:30:57Z",
        "lastEditedBy" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "tags" : [
        ]
      }
    ],
    "commit" : "5f45ab3bad20162feb053245b469afc1cc27093f",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +50,54 @@\t\t\tthis.registerForSlackEvents();\n\t\t\tRocketChat.settings.get('SlackBridge_Out_Enabled', (key, value) => {\n\t\t\t\tif (value) {\n\t\t\t\t\tthis.registerForRocketEvents();\n\t\t\t\t} else {"
  },
  {
    "id" : "b352f2f8-39e8-4104-b649-e40165909af6",
    "prId" : 5380,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/5380#pullrequestreview-14797237",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "22c51a9f-4384-4d27-992c-06bc91e9aacf",
        "parentId" : null,
        "authorId" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "body" : "There is too much going on this method.  Going to start slowly refactoring these out into single methods",
        "createdAt" : "2016-12-31T00:31:45Z",
        "updatedAt" : "2016-12-31T00:31:45Z",
        "lastEditedBy" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "tags" : [
        ]
      }
    ],
    "commit" : "5f45ab3bad20162feb053245b469afc1cc27093f",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +323,327 @@\t * We have received a message from slack and we need to save/delete/update it into rocket\n\t * https://api.slack.com/events/message\n\t */\n\tonSlackMessage(slackMessage, isImporting) {\n\t\tif (slackMessage.subtype) {"
  },
  {
    "id" : "9c870c5c-42b1-492a-9478-2283d100a058",
    "prId" : 5380,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/5380#pullrequestreview-15033212",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b45afbb-cde5-428b-978c-8278704376f1",
        "parentId" : null,
        "authorId" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "body" : "Not sure what this line is suppose to do (was already here).  Always returns rocket.cat.  Will look into this in the future.",
        "createdAt" : "2016-12-31T00:32:49Z",
        "updatedAt" : "2016-12-31T00:32:49Z",
        "lastEditedBy" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "tags" : [
        ]
      },
      {
        "id" : "29872bc8-dfef-4553-81dc-74f10827a5f4",
        "parentId" : "3b45afbb-cde5-428b-978c-8278704376f1",
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "It's returning the rocket.cat's `username` cuz you can change it, but the user's id will be always `rocket.cat`",
        "createdAt" : "2017-01-03T23:23:50Z",
        "updatedAt" : "2017-01-03T23:27:18Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "5f45ab3bad20162feb053245b469afc1cc27093f",
    "line" : 177,
    "diffHunk" : "@@ -1,1 +1033,1037 @@\t\tif (slackMessage.previous_message) {\n\t\t\tlet rocketChannel = this.getRocketChannel(slackMessage);\n\t\t\tlet rocketUser = RocketChat.models.Users.findOneById('rocket.cat', { fields: { username: 1 } });\n\n\t\t\tif (rocketChannel && rocketUser) {"
  },
  {
    "id" : "0d787e68-6c09-4783-a044-61f715bf24c5",
    "prId" : 5370,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/5370#pullrequestreview-14708594",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "212217c1-9866-4884-aeec-cc7dd9067f9a",
        "parentId" : null,
        "authorId" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "body" : "Only cause a reconnect if the API token has changed",
        "createdAt" : "2016-12-29T20:33:48Z",
        "updatedAt" : "2016-12-29T20:33:48Z",
        "lastEditedBy" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "tags" : [
        ]
      }
    ],
    "commit" : "218e2f340e2af9c5f8e83b2dd60e9d2468371e8f",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +15,19 @@\n\t\tRocketChat.settings.get('SlackBridge_APIToken', (key, value) => {\n\t\t\tif (value !== this.apiToken) {\n\t\t\t\tthis.apiToken = value;\n\t\t\t\tif (this.connected) {"
  },
  {
    "id" : "ebed8ebf-d88f-4bf6-ba71-a2b0d32ffaf2",
    "prId" : 5370,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/5370#pullrequestreview-14708643",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2172ed2f-23ae-4700-bbb3-1bf12dcadc2e",
        "parentId" : null,
        "authorId" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "body" : "Moved this to the bottom of the constructor to make sure all the setup was completed first.",
        "createdAt" : "2016-12-29T20:34:38Z",
        "updatedAt" : "2016-12-29T20:34:38Z",
        "lastEditedBy" : "5631b0d1-0c2a-4bdd-8067-4a1198ff1a3f",
        "tags" : [
        ]
      }
    ],
    "commit" : "218e2f340e2af9c5f8e83b2dd60e9d2468371e8f",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +32,36 @@\t\t});\n\n\t\tRocketChat.settings.get('SlackBridge_Enabled', (key, value) => {\n\t\t\tif (value && this.apiToken) {\n\t\t\t\tthis.connect();"
  },
  {
    "id" : "4e85461b-eaf0-44dd-966e-cbeaf97c886e",
    "prId" : 3440,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6926212b-661e-458f-8086-053206259f99",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "![Codacy](https://www.codacy.com/assets/images/favicon.png) Issue found: [This function's cyclomatic complexity is too high. (30)](https://www.codacy.com/app/RocketChat/Rocket-Chat/file/2677595092/issues/source?bid=3199634&fileBranchId=3334129#l232)\n",
        "createdAt" : "2016-06-02T12:54:40Z",
        "updatedAt" : "2016-06-02T12:54:40Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "851edb6dbac52ebc101605a606516d9a7ab03204",
    "line" : 232,
    "diffHunk" : "@@ -1,1 +230,234 @@\t}\n\n\tprocessSubtypedMessage(room, user, message) {\n\t\tlet msgObj = null;\n\t\tswitch (message.subtype) {"
  },
  {
    "id" : "d63cc3b7-ad9b-4eb5-a92d-392bb8f1a3aa",
    "prId" : 3440,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "337c8bed-43b3-464a-8856-cd88f3a1e8b3",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "![Codacy](https://www.codacy.com/assets/images/favicon.png) Issue found: [This function's cyclomatic complexity is too high. (18)](https://www.codacy.com/app/RocketChat/Rocket-Chat/file/2677595092/issues/source?bid=3199634&fileBranchId=3334129#l81)\n",
        "createdAt" : "2016-06-02T12:54:40Z",
        "updatedAt" : "2016-06-02T12:54:40Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "851edb6dbac52ebc101605a606516d9a7ab03204",
    "line" : 81,
    "diffHunk" : "@@ -1,1 +79,83 @@\t}\n\n\taddChannel(channelId, hasRetried = false) {\n\t\tlet data = null;\n\t\tlet isGroup = false;"
  }
]