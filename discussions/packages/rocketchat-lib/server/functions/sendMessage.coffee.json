[
  {
    "id" : "e2e7ada7-2313-4ce4-8959-0df3c02e56ba",
    "prId" : 2112,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8e07699e-4ea0-49d1-b117-1d55b3b7bb44",
        "parentId" : null,
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "There are cases where userOfMention doesn't have an e-mail address on file (such as OAuth login). A few OAuths also don't provide an e-mail address, such as Facebook.\n",
        "createdAt" : "2016-02-03T11:00:26Z",
        "updatedAt" : "2016-02-10T23:42:37Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      },
      {
        "id" : "d1429fba-c217-43ea-9109-b73a2457701d",
        "parentId" : "8e07699e-4ea0-49d1-b117-1d55b3b7bb44",
        "authorId" : "42e34ee8-b73d-430d-99c2-e5d482c6f7a8",
        "body" : "Do you know off-hand if `userOfMention.emails` is `undefined` or `[]` if a user has no emails? I'll check it in the if statement.\n",
        "createdAt" : "2016-02-03T20:56:28Z",
        "updatedAt" : "2016-02-10T23:42:37Z",
        "lastEditedBy" : "42e34ee8-b73d-430d-99c2-e5d482c6f7a8",
        "tags" : [
        ]
      },
      {
        "id" : "e6ebbd2c-01b4-4bfe-8064-3c465323c7b6",
        "parentId" : "8e07699e-4ea0-49d1-b117-1d55b3b7bb44",
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "AFAIK, it's undefined, but check for both cases, please.\n",
        "createdAt" : "2016-02-04T10:02:51Z",
        "updatedAt" : "2016-02-10T23:42:37Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      }
    ],
    "commit" : "f86aa7991aebfb30fbfb66e872f84131a4f49f70",
    "line" : null,
    "diffHunk" : "@@ -1,1 +92,96 @@\t\t\t\tif userOfMention.status is 'offline' and !(userOfMention.settings?.preferences?.emailNotificationMode is 'disabled') and userOfMention.emails and userOfMention.emails.length > 0\n\t\t\t\t\tEmail.send\n\t\t\t\t\t\tto: userOfMention.emails[0].address\n\t\t\t\t\t\tfrom: RocketChat.settings.get('From_Email')\n\t\t\t\t\t\tsubject: TAPi18n.__ \"Offline_DM_Email\", {site: RocketChat.settings.get('Site_Name'), user: user.username}"
  }
]