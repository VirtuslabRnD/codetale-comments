[
  {
    "id" : "d9f52058-e57d-4122-93e3-9a95f59dbb2a",
    "prId" : 13225,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/13225#pullrequestreview-195233109",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d58d822a-830d-42b2-9c10-e9efd6624406",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "`RocketChat._setUsername` still being called in another places",
        "createdAt" : "2019-01-22T21:13:15Z",
        "updatedAt" : "2019-01-23T13:22:57Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "75b066568a99b5e10d24a71ea60c849ab7221e73",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +6,10 @@import { hasPermission } from 'meteor/rocketchat:authorization';\n\nconst _setUsername = function(userId, u) {\n\tconst username = s.trim(u);\n\tif (!userId || !username) {"
  },
  {
    "id" : "6b7ab05d-1c5b-4c0b-bf8e-818313eaed80",
    "prId" : 10344,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/10344#pullrequestreview-112610284",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "82a30bc9-6815-444a-8a43-2d672f6e0d5d",
        "parentId" : null,
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "unfortunate there is no `afterSetUsername` callback, which would fit best for this purpose. ðŸ˜ž ",
        "createdAt" : "2018-04-16T22:22:44Z",
        "updatedAt" : "2018-04-16T22:22:44Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      }
    ],
    "commit" : "f43c8ff973e7e9321d4c4498f817bad98ad1da2e",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +67,71 @@\t\tRocketChat.models.Subscriptions.setUserUsernameByUserId(user._id, username);\n\t\tRocketChat.models.Subscriptions.setNameForDirectRoomsWithOldName(previousUsername, username);\n\t\tRocketChat.models.LivechatDepartmentAgents.replaceUsernameOfAgentByUserId(user._id, username);\n\n\t\tconst fileStore = FileUpload.getStore('Avatars');"
  }
]