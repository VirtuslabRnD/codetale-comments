[
  {
    "id" : "eb5edae6-60ef-48c4-9a4b-5920f7c75db7",
    "prId" : 10686,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/10686#pullrequestreview-117985719",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bc604437-249d-49b0-a66c-86cf1e4b954d",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "Should we add indexes for these operations?",
        "createdAt" : "2018-05-06T20:12:25Z",
        "updatedAt" : "2018-05-08T21:12:19Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "db6d4eec-ad3f-49a0-9660-60aeb57c8025",
        "parentId" : "bc604437-249d-49b0-a66c-86cf1e4b954d",
        "authorId" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "body" : "from my tests I don't think we need. the index on `u._id` does a good job.",
        "createdAt" : "2018-05-07T12:55:35Z",
        "updatedAt" : "2018-05-08T21:12:19Z",
        "lastEditedBy" : "61ddb048-36d3-4039-ab51-6db005c8c855",
        "tags" : [
        ]
      }
    ],
    "commit" : "d6a9905a2cc4fd5fe6f6777a41b0e4a21d8722a6",
    "line" : 52,
    "diffHunk" : "@@ -1,1 +615,619 @@\t\tconst query = {\n\t\t\t'u._id': userId,\n\t\t\tdesktopPrefOrigin: 'user'\n\t\t};\n"
  },
  {
    "id" : "5552d94e-5788-4c2c-8383-5723021256ac",
    "prId" : 7817,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/7817#pullrequestreview-58212762",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6a8de8fd-4fed-472f-9367-4fd5964150b7",
        "parentId" : null,
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "Migration?",
        "createdAt" : "2017-08-23T19:35:03Z",
        "updatedAt" : "2017-08-23T20:27:05Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "92be977b-9c26-4441-af26-d686a043a828",
        "parentId" : "6a8de8fd-4fed-472f-9367-4fd5964150b7",
        "authorId" : "55389fff-35f3-4e7a-8b00-e6e858dbc321",
        "body" : "yes",
        "createdAt" : "2017-08-23T20:02:56Z",
        "updatedAt" : "2017-08-23T20:27:05Z",
        "lastEditedBy" : "55389fff-35f3-4e7a-8b00-e6e858dbc321",
        "tags" : [
        ]
      },
      {
        "id" : "87882021-7970-4d9a-a4e2-2150ffa84c18",
        "parentId" : "6a8de8fd-4fed-472f-9367-4fd5964150b7",
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "ðŸ¤” ",
        "createdAt" : "2017-08-23T20:06:16Z",
        "updatedAt" : "2017-08-23T20:27:05Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      },
      {
        "id" : "8e04cd2f-7434-408d-8472-6430d700d4d0",
        "parentId" : "6a8de8fd-4fed-472f-9367-4fd5964150b7",
        "authorId" : "55389fff-35f3-4e7a-8b00-e6e858dbc321",
        "body" : "I changed audioNotification to 'audioNotifications' so that all will be of the same form, like 'desktopNotifications', 'mobileNotifications'.",
        "createdAt" : "2017-08-23T20:08:22Z",
        "updatedAt" : "2017-08-23T20:27:05Z",
        "lastEditedBy" : "55389fff-35f3-4e7a-8b00-e6e858dbc321",
        "tags" : [
        ]
      },
      {
        "id" : "1fbf55ff-078b-42f9-9c08-8b3314279be5",
        "parentId" : "6a8de8fd-4fed-472f-9367-4fd5964150b7",
        "authorId" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "body" : "```javascript\r\nRocketChat.Migrations.add({\r\n\tversion: 100,\r\n\tup() {\r\n\t\tRocketChat.models.Subscriptions.update({$exists:{audioNotification:1}}, { $rename: { 'audioNotification': 'audioNotifications' } });\r\n\t}\r\n});\r\n\r\n```",
        "createdAt" : "2017-08-23T20:19:22Z",
        "updatedAt" : "2017-08-23T20:27:05Z",
        "lastEditedBy" : "9e666942-cd54-4d1b-8cc7-4188822a684b",
        "tags" : [
        ]
      },
      {
        "id" : "12eb3650-c367-407c-a236-0b196ae7c2c7",
        "parentId" : "6a8de8fd-4fed-472f-9367-4fd5964150b7",
        "authorId" : "55389fff-35f3-4e7a-8b00-e6e858dbc321",
        "body" : "sorry...i forgot that part i guess.",
        "createdAt" : "2017-08-23T20:55:48Z",
        "updatedAt" : "2017-08-23T20:55:49Z",
        "lastEditedBy" : "55389fff-35f3-4e7a-8b00-e6e858dbc321",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f0be2c94725fc871ae2a72a7ffc0c32c5a6ec4e",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +13,17 @@\t\tthis.tryEnsureIndex({ 'ts': 1 });\n\t\tthis.tryEnsureIndex({ 'ls': 1 });\n\t\tthis.tryEnsureIndex({ 'audioNotifications': 1 }, { sparse: 1 });\n\t\tthis.tryEnsureIndex({ 'desktopNotifications': 1 }, { sparse: 1 });\n\t\tthis.tryEnsureIndex({ 'mobilePushNotifications': 1 }, { sparse: 1 });"
  }
]