[
  {
    "id" : "b9c99715-ffea-414f-8830-2ae7fd6e3328",
    "prId" : 4760,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/4760#pullrequestreview-6238484",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a9877c94-e869-4b63-adf7-b3e8dde8d536",
        "parentId" : null,
        "authorId" : "d1d1486d-a9d6-4052-8ee5-6141a9338ca4",
        "body" : "Is this part of the code being executed every time this method is called? Couldn't we cache this? Maybe on a session variable to be reactive?\n",
        "createdAt" : "2016-10-28T12:27:14Z",
        "updatedAt" : "2016-10-28T12:27:14Z",
        "lastEditedBy" : "d1d1486d-a9d6-4052-8ee5-6141a9338ca4",
        "tags" : [
        ]
      },
      {
        "id" : "3a8b8f76-24a7-4c81-9cbe-818815023ede",
        "parentId" : "a9877c94-e869-4b63-adf7-b3e8dde8d536",
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "I did some tests and this will execute when you open the room and just one time\n",
        "createdAt" : "2016-10-28T13:09:18Z",
        "updatedAt" : "2016-10-28T13:09:18Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      }
    ],
    "commit" : "6b8528f52482deceb72fd31fd63bd5975c0adca3",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +30,34 @@\tmessagesHistory: ->\n\t\thideMessagesOfType = []\n\t\tRocketChat.settings.collection.find({_id: /Message_HideType_.+/}).forEach (record) ->\n\t\t\ttype = record._id.replace('Message_HideType_', '')\n\t\t\tindex = hideMessagesOfType.indexOf(type)"
  },
  {
    "id" : "15105efe-fb7d-4c6b-83f6-d6fda8fbba80",
    "prId" : 2763,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3d6e2ad6-4f54-4ea5-abf3-3b7bddd1e722",
        "parentId" : null,
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "Check if url is undefined before calling this update (re: https://github.com/RocketChat/Rocket.Chat/pull/2763#issuecomment-205809574)\n",
        "createdAt" : "2016-04-05T13:45:46Z",
        "updatedAt" : "2016-04-05T13:45:46Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      }
    ],
    "commit" : "1480d7be91acc65555001e00bcfece5dc8782d1e",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +423,427 @@\t\tcollapsed = $(e.currentTarget).data('collapsed')\n\t\tid = @_arguments[1]._id\n\t\tChatMessage.update {_id: id, 'urls.url': url}, {$set: {'urls.$.collapsed': !collapsed}}\n\t\tfor type in ['image_url', 'audio_url', 'video_url']\n\t\t\tChatMessage.update {_id: id, \"attachments.#{type}\": url}, {$set: {'attachments.$.collapsed': !collapsed}}"
  }
]