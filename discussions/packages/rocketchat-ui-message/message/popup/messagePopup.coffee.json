[
  {
    "id" : "60a1c29d-1fa0-46f2-886b-550676a9c93f",
    "prId" : 4510,
    "prUrl" : "https://github.com/RocketChat/Rocket.Chat/pull/4510#pullrequestreview-2422250",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2fcc990e-a106-4c92-aa7e-689f2f74fad7",
        "parentId" : null,
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "Should you use findOne here?\n",
        "createdAt" : "2016-10-01T01:00:38Z",
        "updatedAt" : "2016-10-01T01:01:51Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      },
      {
        "id" : "d6a14d77-e5e4-4e89-80a1-9ea68e9b9b8f",
        "parentId" : "2fcc990e-a106-4c92-aa7e-689f2f74fad7",
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "Also, it looks like it is not doing anything, but I may be wrong for not seeing the whole picture\n",
        "createdAt" : "2016-10-01T01:03:06Z",
        "updatedAt" : "2016-10-01T01:03:06Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      },
      {
        "id" : "735fb65a-bc4c-4af7-aee0-0372e2335519",
        "parentId" : "2fcc990e-a106-4c92-aa7e-689f2f74fad7",
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "@marceloschmidt Yes, cuz array.find is valid too, see here https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n",
        "createdAt" : "2016-10-01T01:03:07Z",
        "updatedAt" : "2016-10-01T01:03:07Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "a9087ff6-4ec0-4881-80bd-5777182e6d5a",
        "parentId" : "2fcc990e-a106-4c92-aa7e-689f2f74fad7",
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "Ok, so in fact you're only checking if that's an array or a mongo collection? \nIt looked strange that you check for `findOne` but then use `find`, that's all. And what does it do `template.data.collection.find().count()`?\n",
        "createdAt" : "2016-10-01T01:05:55Z",
        "updatedAt" : "2016-10-01T01:05:55Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      },
      {
        "id" : "053a031e-11e7-49e8-b24a-e39b70acb743",
        "parentId" : "2fcc990e-a106-4c92-aa7e-689f2f74fad7",
        "authorId" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "body" : "@marceloschmidt Yes, the count keep the code reactive to list changes\n",
        "createdAt" : "2016-10-01T01:07:49Z",
        "updatedAt" : "2016-10-01T01:07:49Z",
        "lastEditedBy" : "6b2de464-07b6-478f-bdd0-b8707d59c1c1",
        "tags" : [
        ]
      },
      {
        "id" : "7dd2cd71-ab24-4347-940b-1ca01958ee08",
        "parentId" : "2fcc990e-a106-4c92-aa7e-689f2f74fad7",
        "authorId" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "body" : "Cool!\n",
        "createdAt" : "2016-10-01T01:10:49Z",
        "updatedAt" : "2016-10-01T01:10:49Z",
        "lastEditedBy" : "04e96216-90aa-4b11-aeaf-cc10e5f37182",
        "tags" : [
        ]
      }
    ],
    "commit" : "e1cffd5502e47919b45579118d69ef0cb59afcf9",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +162,166 @@\tTracker.autorun ->\n\t\tif template.data.collection.findOne?\n\t\t\ttemplate.data.collection.find().count()\n\n\t\tfilter = template.textFilter.get()"
  }
]