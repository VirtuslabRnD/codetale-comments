[
  {
    "id" : "598149dc-7037-4bf8-bf66-1a87b466df1d",
    "prId" : 15565,
    "prUrl" : "https://github.com/flutter/flutter/pull/15565#pullrequestreview-104232886",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ddc1c238-61ff-4930-957c-9bade9af9a83",
        "parentId" : null,
        "authorId" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "body" : "Why was this change necessary? Is there a bug? Is it related to https://github.com/dart-lang/sdk/issues/31743 ?",
        "createdAt" : "2018-03-15T13:05:32Z",
        "updatedAt" : "2018-03-16T17:18:09Z",
        "lastEditedBy" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "tags" : [
        ]
      },
      {
        "id" : "07d6a8ee-00b4-41f0-8cc5-f2ef0cc022e8",
        "parentId" : "ddc1c238-61ff-4930-957c-9bade9af9a83",
        "authorId" : "45727d35-317d-432d-b0c6-83fc042c0c8a",
        "body" : "`invokeMethod` returns `Future<dynamic>` not `Future<String>`.",
        "createdAt" : "2018-03-15T14:45:54Z",
        "updatedAt" : "2018-03-16T17:18:09Z",
        "lastEditedBy" : "45727d35-317d-432d-b0c6-83fc042c0c8a",
        "tags" : [
        ]
      }
    ],
    "commit" : "b36df76a7a2077a63df3e7125433cfad0eaf591e",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +9,13 @@  static Future<String> get platformVersion async {\n    final String version = await _channel.invokeMethod('getPlatformVersion');\n    return version;\n  }\n}"
  },
  {
    "id" : "b14df4ec-36df-412f-90c0-781a09dfc7ce",
    "prId" : 78619,
    "prUrl" : "https://github.com/flutter/flutter/pull/78619#pullrequestreview-623489452",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dc894e27-a533-49ca-bfc8-7c03554c162e",
        "parentId" : null,
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "Should this actually be allowed to return null? Or is `null` always an error case (e.g. plugin wasn't available).",
        "createdAt" : "2021-03-19T16:07:55Z",
        "updatedAt" : "2021-03-30T07:28:15Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      },
      {
        "id" : "6c3e1ad9-9d0c-420d-991f-6e39013d0529",
        "parentId" : "dc894e27-a533-49ca-bfc8-7c03554c162e",
        "authorId" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "body" : "If I'm reading this correctly, then `MethodChannel` can never return null, but `OptionalMethodChannel` can.\r\nhttps://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/services/platform_channel.dart#L330\r\n\r\nI think we know in `MethodChannel` that T is never null (as per `missingOk: false`), so we could change `MethodChannel.invokeMethod` to return `Future<T>` not `Future<T?>`?",
        "createdAt" : "2021-03-22T08:13:47Z",
        "updatedAt" : "2021-03-30T07:28:15Z",
        "lastEditedBy" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "tags" : [
        ]
      },
      {
        "id" : "a4b909b5-ca2f-4c7e-b8b8-2bb57d24e903",
        "parentId" : "dc894e27-a533-49ca-bfc8-7c03554c162e",
        "authorId" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "body" : "This seems to work:\r\n\r\n```diff\r\ndiff --git a/packages/flutter/lib/src/services/platform_channel.dart b/packages/flutter/lib/src/services/platform_channel.dart\r\nindex c9bad0e210..bd07c68829 100644\r\n--- a/packages/flutter/lib/src/services/platform_channel.dart\r\n+++ b/packages/flutter/lib/src/services/platform_channel.dart\r\n@@ -327,8 +327,8 @@ class MethodChannel {\r\n   ///  * <https://api.flutter.dev/javadoc/io/flutter/plugin/common/MethodCall.html>\r\n   ///    for how to access method call arguments on Android.\r\n   @optionalTypeArgs\r\n-  Future<T?> invokeMethod<T>(String method, [ dynamic arguments ]) {\r\n-    return _invokeMethod<T>(method, missingOk: false, arguments: arguments);\r\n+  Future<T> invokeMethod<T>(String method, [ dynamic arguments ]) {\r\n+    return _invokeMethod<T>(method, missingOk: false, arguments: arguments) as T;\r\n   }\r\n```\r\n\r\nWho know this code best and can comment?",
        "createdAt" : "2021-03-23T14:17:48Z",
        "updatedAt" : "2021-03-30T07:28:15Z",
        "lastEditedBy" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "tags" : [
        ]
      },
      {
        "id" : "6785d87a-f264-40c7-8fdf-c38cc168c8b2",
        "parentId" : "dc894e27-a533-49ca-bfc8-7c03554c162e",
        "authorId" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "body" : "@goderbauer WDYT?",
        "createdAt" : "2021-03-25T16:39:44Z",
        "updatedAt" : "2021-03-30T07:28:15Z",
        "lastEditedBy" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "tags" : [
        ]
      },
      {
        "id" : "70437268-d5b6-4c95-b9d1-f63f1dce19a8",
        "parentId" : "dc894e27-a533-49ca-bfc8-7c03554c162e",
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "Looks like changing the interface requires a larger refactoring... ",
        "createdAt" : "2021-03-29T17:50:24Z",
        "updatedAt" : "2021-03-30T07:28:16Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      }
    ],
    "commit" : "eb35c5bd7fc626f247a5bb6d791dbba267b0bd49",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +14,18 @@      const MethodChannel('{{projectName}}');\n\n  static Future<String?> get platformVersion async {\n    final String? version = await _channel.invokeMethod('getPlatformVersion');\n    return version;"
  }
]