[
  {
    "id" : "90e719e6-0460-49b2-b8fe-786910dcca57",
    "prId" : 32816,
    "prUrl" : "https://github.com/flutter/flutter/pull/32816#pullrequestreview-255955485",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "78676d7d-f59e-478d-919f-4849c71815de",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "Apropos of above: this should either list gen_snapshot, or there should be documentation with a whitelist of things that don't need to be listed, and gen_snapshot should be in that list.",
        "createdAt" : "2019-06-28T17:31:44Z",
        "updatedAt" : "2019-07-11T19:46:31Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "6008c472-8ce8-4766-b387-16c03f845bd0",
        "parentId" : "78676d7d-f59e-478d-919f-4849c71815de",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "I added gen_snapshot and dart to this rule, and frontend_server and dart to the above",
        "createdAt" : "2019-06-28T20:12:38Z",
        "updatedAt" : "2019-07-11T19:46:31Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "1cfee4671bd84ae9a55f79e4282f45b03076a90c",
    "line" : 195,
    "diffHunk" : "@@ -1,1 +193,197 @@  name: 'aot_elf_profile',\n  inputs: <Source>[\n    Source.pattern('{BUILD_DIR}/main.app.dill'),\n    Source.pattern('{PROJECT_DIR}/.packages'),\n    Source.artifact(Artifact.engineDartBinary),"
  },
  {
    "id" : "7d28986e-e2a8-499b-8a69-afba22933e25",
    "prId" : 32816,
    "prUrl" : "https://github.com/flutter/flutter/pull/32816#pullrequestreview-260917070",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "189a59e3-c365-409e-bf2c-589bce038ff8",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "It feels a bit like a layering violation for there to be iOS specific code here, but since that is what the AOTSnapshotter is expecting, I don't see an easy way around it.",
        "createdAt" : "2019-07-11T18:52:16Z",
        "updatedAt" : "2019-07-11T19:46:31Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "0ee3d6fb-c26b-4979-a739-6b2d1366976c",
        "parentId" : "189a59e3-c365-409e-bf2c-589bce038ff8",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "I'll attempt to address the layering a bit when integrating the iOS implementation. It seems likely that there will be no generic \"dart\" rules beyond generation of the kernel.",
        "createdAt" : "2019-07-11T19:47:46Z",
        "updatedAt" : "2019-07-11T19:47:46Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "1cfee4671bd84ae9a55f79e4282f45b03076a90c",
    "line" : 111,
    "diffHunk" : "@@ -1,1 +109,113 @@/// Supports compiling a dart kernel file to an assembly file.\n///\n/// If more than one iOS arch is provided, then this rule will\n/// produce a univeral binary.\nFuture<void> compileAotAssembly(Map<String, ChangeType> updates, Environment environment) async {"
  },
  {
    "id" : "a7d81ead-cb06-4df9-9613-12d99befbf55",
    "prId" : 32816,
    "prUrl" : "https://github.com/flutter/flutter/pull/32816#pullrequestreview-260917126",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "28c1a5c0-7b40-41db-831e-8aae11e7d142",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "Further thought along these lines: the existence of a special case for iOS here (and probably also future special cases for Fuchsia) implies that dart artifact build rules will need to be target platform specific. This is okay for now though, I think.",
        "createdAt" : "2019-07-11T18:57:05Z",
        "updatedAt" : "2019-07-11T19:46:31Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "8bb686c2-04f7-4db4-801b-88a838ab1bfa",
        "parentId" : "28c1a5c0-7b40-41db-831e-8aae11e7d142",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Responded to above",
        "createdAt" : "2019-07-11T19:47:53Z",
        "updatedAt" : "2019-07-11T19:47:53Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "1cfee4671bd84ae9a55f79e4282f45b03076a90c",
    "line" : 147,
    "diffHunk" : "@@ -1,1 +145,149 @@    // together.\n    final List<Future<int>> pending = <Future<int>>[];\n    for (IOSArch iosArch in iosArchs) {\n      pending.add(snapshotter.build(\n        platform: targetPlatform,"
  },
  {
    "id" : "cf1e27fc-2a63-48b0-b48e-d99b468cbd21",
    "prId" : 40470,
    "prUrl" : "https://github.com/flutter/flutter/pull/40470#pullrequestreview-290296560",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "64b5fd18-b220-4aec-9b7f-df779d54d982",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "What happens when one of these file operations fails?",
        "createdAt" : "2019-09-18T20:05:44Z",
        "updatedAt" : "2019-09-19T02:41:21Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "a20184ac-6c31-4909-b669-25f3e493bb7a",
        "parentId" : "64b5fd18-b220-4aec-9b7f-df779d54d982",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "We should throw, will update",
        "createdAt" : "2019-09-19T02:38:28Z",
        "updatedAt" : "2019-09-19T02:41:21Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "2ae4ea90-eed3-4c30-adf4-aac58b465dab",
        "parentId" : "64b5fd18-b220-4aec-9b7f-df779d54d982",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "actually, we're already propagating the future, just ensuring that the resource is released first",
        "createdAt" : "2019-09-19T02:40:04Z",
        "updatedAt" : "2019-09-19T02:41:21Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "4d026bbcc7b4444008ac49413036907acc217afd",
    "line" : 88,
    "diffHunk" : "@@ -1,1 +122,126 @@        try {\n          final File file = fs.file(fs.path.join(environment.outputDir.path, entry.key));\n          file.parent.createSync(recursive: true);\n          final DevFSContent content = entry.value;\n          if (content is DevFSFileContent && content.file is File) {"
  },
  {
    "id" : "aca8df35-4e3c-44d7-9773-67ba1c379b13",
    "prId" : 41447,
    "prUrl" : "https://github.com/flutter/flutter/pull/41447#pullrequestreview-295237949",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "de088159-4883-4a6d-b182-84ac7e5674df",
        "parentId" : null,
        "authorId" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "body" : "For the pool to be effective, wouldn't you want to stick with async I/O only?",
        "createdAt" : "2019-09-30T19:34:25Z",
        "updatedAt" : "2019-09-30T23:03:30Z",
        "lastEditedBy" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "tags" : [
        ]
      },
      {
        "id" : "187be3c3-5969-4da8-9006-9c70ac948033",
        "parentId" : "de088159-4883-4a6d-b182-84ac7e5674df",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "No, sync methods create and dispose the fd immediately ",
        "createdAt" : "2019-09-30T20:40:14Z",
        "updatedAt" : "2019-09-30T23:03:30Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "81ea4b5b996eb84382c9fe947ba2c8dfce357afa",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +134,138 @@      try {\n        final File file = fs.file(fs.path.join(environment.outputDir.path, pathSuffix, entry.key));\n        file.parent.createSync(recursive: true);\n        final DevFSContent content = entry.value;\n        if (content is DevFSFileContent && content.file is File) {"
  },
  {
    "id" : "68982e75-bfa4-406c-a89d-e7ae334c2189",
    "prId" : 41659,
    "prUrl" : "https://github.com/flutter/flutter/pull/41659#pullrequestreview-295703606",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "688d71e4-57eb-46cf-880a-5613db0d70ae",
        "parentId" : null,
        "authorId" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "body" : "If the goal is to limit the number of simultaneous file operations by the `flutter_tools` process, we should have one global `Pool` object used by everything (perhaps stored inside the `AppContext`). Perhaps it could even be built into `fs`.",
        "createdAt" : "2019-10-01T15:04:32Z",
        "updatedAt" : "2019-10-01T15:32:46Z",
        "lastEditedBy" : "ac2c92fd-803c-4666-96b1-db1044c762c5",
        "tags" : [
        ]
      },
      {
        "id" : "f2f52de2-19c0-42c6-8744-acef8c215b7c",
        "parentId" : "688d71e4-57eb-46cf-880a-5613db0d70ae",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "That sounds like a good enhancement here, but I'm a bit worried about last minute changes. I'll open a separate PR to do that with more testing",
        "createdAt" : "2019-10-01T15:42:21Z",
        "updatedAt" : "2019-10-01T15:42:21Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "5d8adf1a17c6984c8f862a21638a46948f614224",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +128,132 @@/// plus an optional [pathSuffix]\nFuture<void> copyAssets(AssetBundle assetBundle, Environment environment, [String pathSuffix = '']) async {\n  final Pool pool = Pool(kMaxOpenFiles);\n  await Future.wait<void>(\n    assetBundle.entries.entries.map<Future<void>>((MapEntry<String, DevFSContent> entry) async {"
  },
  {
    "id" : "67ff0944-eecd-4b83-99b0-2ca42242ba5b",
    "prId" : 44753,
    "prUrl" : "https://github.com/flutter/flutter/pull/44753#pullrequestreview-315815621",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "18d02a95-a824-44b1-83b7-eb5373abf944",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "`bool forceLinkPlatform = false` or set to false in the default case of the switch.",
        "createdAt" : "2019-11-12T20:14:57Z",
        "updatedAt" : "2019-11-12T20:18:08Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "5aaa5552-85d9-4b3f-9be7-53f28e2e3046",
        "parentId" : "18d02a95-a824-44b1-83b7-eb5373abf944",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Done",
        "createdAt" : "2019-11-12T20:18:18Z",
        "updatedAt" : "2019-11-12T20:18:18Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "0e8aed516928f580a0aa2dc7b998158eb849de88",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +197,201 @@    // do not correctly load the core snapshots in debug mode.\n    // See https://github.com/flutter/flutter/issues/44724\n    bool forceLinkPlatform;\n    switch (targetPlatform) {\n      case TargetPlatform.darwin_x64:"
  }
]