[
  {
    "id" : "6957ec57-b7a1-47b5-a314-3601397c9937",
    "prId" : 4679,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c84565a6-2eb2-4773-abc1-5c0dbc88eb55",
        "parentId" : null,
        "authorId" : "29909713-5424-4233-a02b-b02672141af4",
        "body" : "My understanding was the dart vm would pick an open port if you passed --observatory-port=0, and then we had code to read said port from the logs, etc.  Maybe that won't work through our package:test integration?  Devon might know.\n",
        "createdAt" : "2016-06-22T03:48:33Z",
        "updatedAt" : "2016-06-22T03:48:33Z",
        "lastEditedBy" : "29909713-5424-4233-a02b-b02672141af4",
        "tags" : [
        ]
      },
      {
        "id" : "191506dd-4894-4768-aa19-c5f14a9fe7a1",
        "parentId" : "c84565a6-2eb2-4773-abc1-5c0dbc88eb55",
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "Yeah, I didn't want to mess with reading the port back from the logs.  Seemed easier to push the port number in via a command-line parameter.\n",
        "createdAt" : "2016-06-22T04:03:47Z",
        "updatedAt" : "2016-06-22T04:03:47Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      },
      {
        "id" : "460567e0-3be2-4aad-94d3-d0d37d5aa2d4",
        "parentId" : "c84565a6-2eb2-4773-abc1-5c0dbc88eb55",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "We do have code in `os.dart` - `findAvailablePort()` - that tries to find an available local port. I'm not sure it's more reliable than the random generator below however -\n",
        "createdAt" : "2016-06-22T04:20:22Z",
        "updatedAt" : "2016-06-22T04:20:22Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "9ef94068-894b-4c00-8333-2ebb12e4e26a",
        "parentId" : "c84565a6-2eb2-4773-abc1-5c0dbc88eb55",
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "Done.\n",
        "createdAt" : "2016-06-22T18:01:27Z",
        "updatedAt" : "2016-06-22T18:01:27Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      }
    ],
    "commit" : "7448a4e8e8bb8306bc8d7ed1f4b3b563f491eed4",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +113,117 @@''');\n\n    int observatoryPort;\n    if (CoverageCollector.instance.enabled) {\n      observatoryPort = new math.Random().nextInt(30000) + 2000;"
  },
  {
    "id" : "98fb6c05-6ea1-4f73-b843-0b10b16e5cb8",
    "prId" : 7548,
    "prUrl" : "https://github.com/flutter/flutter/pull/7548#pullrequestreview-17788433",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8f6a0fe-1e27-4f77-a366-193fe3763dc0",
        "parentId" : null,
        "authorId" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "body" : "`-15`?",
        "createdAt" : "2017-01-20T17:07:01Z",
        "updatedAt" : "2017-01-20T17:07:01Z",
        "lastEditedBy" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "tags" : [
        ]
      },
      {
        "id" : "192f37b1-b1dd-4f48-9f86-c67522472d3b",
        "parentId" : "c8f6a0fe-1e27-4f77-a366-193fe3763dc0",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "https://github.com/flutter/flutter/pull/7571",
        "createdAt" : "2017-01-20T23:54:52Z",
        "updatedAt" : "2017-01-20T23:54:53Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "17ea1802cc7b656324c5fbe209df30bd645c7ec9",
    "line" : 157,
    "diffHunk" : "@@ -1,1 +159,163 @@          final int exitCode = await process.exitCode;\n          subprocessActive = false;\n          if (!controllerSinkClosed && exitCode != -15) {\n            String message = _getErrorMessage(_getExitCodeMessage(exitCode, 'after tests finished'), testPath, shellPath);\n            controller.sink.addError(message);"
  }
]