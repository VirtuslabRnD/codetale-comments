[
  {
    "id" : "71ae37e6-79a9-491b-86e2-f81672ceae33",
    "prId" : 4969,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5981a5ea-2c66-4b0b-8b3b-b6ed4855a97a",
        "parentId" : null,
        "authorId" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "body" : "This seems a bit scary to mess around with the user's gradle install.  Can we run it without making it executable?\n",
        "createdAt" : "2016-07-19T18:47:28Z",
        "updatedAt" : "2016-07-19T22:41:08Z",
        "lastEditedBy" : "0a6b99c1-e18d-4971-abe3-b52228030462",
        "tags" : [
        ]
      },
      {
        "id" : "dca4b187-aa4d-4378-b129-ba8811f1455e",
        "parentId" : "5981a5ea-2c66-4b0b-8b3b-b6ed4855a97a",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "This is one of the issues I ran into (https://github.com/flutter/flutter/issues/4429) when first trying on the gradle flow - the gradle script on my machine wasn't executable.\n\nIt's a bash script, so instead of executing it, we could run it in bash. Or we could fail when it tries to run (w/o the executable bit), and provide a good message to the user and steps to fix.\n",
        "createdAt" : "2016-07-19T18:56:29Z",
        "updatedAt" : "2016-07-19T22:41:08Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "65c92f027b0b6158e0bbc59a94cbf8efbcfe185f",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +29,33 @@    File file = new File(gradle);\n    if (file.existsSync())\n      os.makeExecutable(file);\n  }\n  return gradle;"
  },
  {
    "id" : "d17a9ceb-391a-41fe-9f24-a833ff096b7b",
    "prId" : 8241,
    "prUrl" : "https://github.com/flutter/flutter/pull/8241#pullrequestreview-22883352",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a1f4a6b-0b12-48ff-9568-fb39fdc0efff",
        "parentId" : null,
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "nit: this might be more readable with raw strings",
        "createdAt" : "2017-02-21T06:10:13Z",
        "updatedAt" : "2017-02-21T06:10:13Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "847ce33d75da080ae4ea3acfb3079128c115cd5d",
    "line" : 141,
    "diffHunk" : "@@ -1,1 +134,138 @@}\n\nString _escapePath(String path) => platform.isWindows ? path.replaceAll('\\\\', '\\\\\\\\') : path;\n\nFuture<Null> buildGradleProjectV1(String gradle) async {"
  },
  {
    "id" : "d1fc4ddb-2888-4a68-8e10-1600cd461d75",
    "prId" : 8241,
    "prUrl" : "https://github.com/flutter/flutter/pull/8241#pullrequestreview-22883385",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bba28372-499d-476f-bfcc-152fdafe789d",
        "parentId" : null,
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "we should maybe check how consistent we are about this, but generally we use `\"` quotes for strings in output",
        "createdAt" : "2017-02-21T06:10:42Z",
        "updatedAt" : "2017-02-21T06:10:42Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "847ce33d75da080ae4ea3acfb3079128c115cd5d",
    "line" : 148,
    "diffHunk" : "@@ -1,1 +138,142 @@Future<Null> buildGradleProjectV1(String gradle) async {\n  // Run 'gradle build'.\n  Status status = logger.startProgress('Running \\'gradle build\\'...', expectSlowOperation: true);\n  int exitcode = await runCommandAndStreamOutput(\n    <String>[fs.file(gradle).absolute.path, 'build'],"
  },
  {
    "id" : "5e49386e-fb27-42e3-9ddc-22e0dea58a0c",
    "prId" : 10798,
    "prUrl" : "https://github.com/flutter/flutter/pull/10798#pullrequestreview-44997042",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "34f54043-680e-4040-9373-2a0d0e6ae177",
        "parentId" : null,
        "authorId" : "81d87995-2269-496b-ac5e-155cd9fd52eb",
        "body" : "I don't think this will handle upgrades properly. When the user upgrades to the new Gradle plugin, the old apk might still be there. Since this code checks that location first, it will keep using the old apk (from before the upgrade) forever.\r\n\r\nThe workaround is to do a clean build (clearing the build directory), but this could be frustrating for the user to diagnose; it will just look like it doesn't work.\r\n\r\nSo, better to detect which Gradle plugin we're actually using and only look at its output location. Or maybe clear both locations before doing the build?",
        "createdAt" : "2017-06-19T23:07:49Z",
        "updatedAt" : "2017-06-19T23:07:49Z",
        "lastEditedBy" : "81d87995-2269-496b-ac5e-155cd9fd52eb",
        "tags" : [
        ]
      }
    ],
    "commit" : "0610574ee2c477d1df3fd9950528c0f64f2022aa",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +216,220 @@  File apkFile = fs.file('$buildDirectory/$apkFilename');\n  if (apkFile.existsSync())\n    return apkFile;\n  apkFile = fs.file('$buildDirectory/$buildModeName/$apkFilename');\n  if (apkFile.existsSync())"
  },
  {
    "id" : "520c5206-9522-43dd-bbde-a906e80508a4",
    "prId" : 11676,
    "prUrl" : "https://github.com/flutter/flutter/pull/11676#pullrequestreview-57178825",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "883f810c-93a8-4f27-b0b7-b11126f090eb",
        "parentId" : null,
        "authorId" : "dacba9b5-733a-4327-87ba-af0a979de161",
        "body" : "Nit: Any reason to convert these to `List`s?",
        "createdAt" : "2017-08-18T10:52:42Z",
        "updatedAt" : "2017-08-21T09:15:17Z",
        "lastEditedBy" : "dacba9b5-733a-4327-87ba-af0a979de161",
        "tags" : [
        ]
      },
      {
        "id" : "720e6c18-48d8-41a6-836e-fb6b5747804b",
        "parentId" : "883f810c-93a8-4f27-b0b7-b11126f090eb",
        "authorId" : "0729198f-c1dc-4ad3-a406-6b1aad4911fd",
        "body" : "Yes. Lists are easier to create (for testing, defaults); there is no Set literal yet. And the expected length of these lists (2-4) is small enough that they are likely to outperform sets, even for `contains`.",
        "createdAt" : "2017-08-18T11:44:14Z",
        "updatedAt" : "2017-08-21T09:15:17Z",
        "lastEditedBy" : "0729198f-c1dc-4ad3-a406-6b1aad4911fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "97df59b0ac6f9b85f68017f967ef5f1793c0400e",
    "line" : 265,
    "diffHunk" : "@@ -1,1 +355,359 @@\n  final List<String> buildTypes;\n  final List<String> productFlavors;\n  final String apkDirectory;\n"
  },
  {
    "id" : "fdb4eb08-ecb5-4353-986c-c4400dd5e748",
    "prId" : 17420,
    "prUrl" : "https://github.com/flutter/flutter/pull/17420#pullrequestreview-118834700",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3112a916-5c90-4b67-b699-edb26a2ce506",
        "parentId" : null,
        "authorId" : "e51c798e-576f-47fe-bcd8-577d78e2a5a1",
        "body" : "Oops -- missed the gradle side yesterday. Once this lands I can make the naming updates.",
        "createdAt" : "2018-05-09T16:42:29Z",
        "updatedAt" : "2018-05-09T18:01:21Z",
        "lastEditedBy" : "e51c798e-576f-47fe-bcd8-577d78e2a5a1",
        "tags" : [
        ]
      },
      {
        "id" : "d73a1743-cf49-48d8-9ff1-cede41c52672",
        "parentId" : "3112a916-5c90-4b67-b699-edb26a2ce506",
        "authorId" : "45727d35-317d-432d-b0c6-83fc042c0c8a",
        "body" : "oops, I did not see that it says `preferSharedLibrary` either :) I guess this code is not covered with tets.",
        "createdAt" : "2018-05-09T17:37:59Z",
        "updatedAt" : "2018-05-09T18:01:21Z",
        "lastEditedBy" : "45727d35-317d-432d-b0c6-83fc042c0c8a",
        "tags" : [
        ]
      }
    ],
    "commit" : "8573b78f83d7c346a9da0dff2a104f824ce122d3",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +380,384 @@      command.add('-Pfilesystem-scheme=${buildInfo.fileSystemScheme}');\n  }\n  if (buildInfo.preferSharedLibrary && androidSdk.ndk != null) {\n    command.add('-Pprefer-shared-library=true');\n  }"
  },
  {
    "id" : "0a073ec8-a618-4225-a496-89e51d130864",
    "prId" : 19403,
    "prUrl" : "https://github.com/flutter/flutter/pull/19403#pullrequestreview-137416865",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "726ba55a-3fd0-4069-ac87-62c6032ab247",
        "parentId" : null,
        "authorId" : "8d1522ed-5e26-4cce-a4e4-80c6fd1c88d6",
        "body" : "This seems it should be derrivable from flutterProject  or a GradleProject\r\nNot necessarily in this CL.",
        "createdAt" : "2018-07-16T13:08:49Z",
        "updatedAt" : "2018-07-16T13:13:43Z",
        "lastEditedBy" : "8d1522ed-5e26-4cce-a4e4-80c6fd1c88d6",
        "tags" : [
        ]
      }
    ],
    "commit" : "e5b8c2cf35d7eda5d8fb325bfcc929b3a6066ee3",
    "line" : 107,
    "diffHunk" : "@@ -1,1 +294,298 @@Future<Null> _buildGradleProjectV2(\n    FlutterProject flutterProject,\n    String gradle,\n    BuildInfo buildInfo,\n    String target) async {"
  },
  {
    "id" : "338e5c1f-934b-40ad-9bb5-38ea377ce5ce",
    "prId" : 19403,
    "prUrl" : "https://github.com/flutter/flutter/pull/19403#pullrequestreview-137416865",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "13bf4aab-fe9d-4a64-bf71-9442eef3ffc2",
        "parentId" : null,
        "authorId" : "8d1522ed-5e26-4cce-a4e4-80c6fd1c88d6",
        "body" : "Can childfile handle a composite child?",
        "createdAt" : "2018-07-16T13:12:06Z",
        "updatedAt" : "2018-07-16T13:13:43Z",
        "lastEditedBy" : "8d1522ed-5e26-4cce-a4e4-80c6fd1c88d6",
        "tags" : [
        ]
      }
    ],
    "commit" : "e5b8c2cf35d7eda5d8fb325bfcc929b3a6066ee3",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +47,51 @@\nFlutterPluginVersion getFlutterPluginVersion(AndroidProject project) {\n  final File plugin = project.directory.childFile(\n      fs.path.join('buildSrc', 'src', 'main', 'groovy', 'FlutterPlugin.groovy'));\n  if (plugin.existsSync()) {"
  },
  {
    "id" : "46ffe60f-8f94-4033-b038-d8c7ca857cbe",
    "prId" : 19695,
    "prUrl" : "https://github.com/flutter/flutter/pull/19695#pullrequestreview-140485467",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4731ed8d-a15d-4c4c-b069-58431e7d1a2f",
        "parentId" : null,
        "authorId" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "body" : "Wouldn't you want this in a `finally{}` block?",
        "createdAt" : "2018-07-23T23:42:13Z",
        "updatedAt" : "2018-07-24T16:41:23Z",
        "lastEditedBy" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "tags" : [
        ]
      },
      {
        "id" : "6450fda5-487a-4119-b486-597f8dfd28ab",
        "parentId" : "4731ed8d-a15d-4c4c-b069-58431e7d1a2f",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "If I put it in a finally block, it'll run after the `status.cancel` call in the `catch`. That's the one case I _don't_ want to run it in. All the other cases, as far as I can tell, fall through to this line without a `finally`.",
        "createdAt" : "2018-07-24T16:41:08Z",
        "updatedAt" : "2018-07-24T16:41:23Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "4d33dc4a-7420-4547-a1b6-6d66de70a634",
        "parentId" : "4731ed8d-a15d-4c4c-b069-58431e7d1a2f",
        "authorId" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "body" : "Yeah, I guess since you're catching all exceptions, that makes sense.  Could you catch more specific exceptions, or is it just too wide open what could be thrown? It always seems bad to me to catch everything: it masks a lot of runtime exceptions.",
        "createdAt" : "2018-07-24T16:56:44Z",
        "updatedAt" : "2018-07-24T16:57:51Z",
        "lastEditedBy" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "tags" : [
        ]
      },
      {
        "id" : "fb1d5ca8-4b4e-4024-aa8c-32ee40bb1d48",
        "parentId" : "4731ed8d-a15d-4c4c-b069-58431e7d1a2f",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "I totally agree that we shouldn't catch more exceptions, but that feels a bit out of scope for this PR.",
        "createdAt" : "2018-07-25T20:26:12Z",
        "updatedAt" : "2018-07-25T20:26:12Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "8852429fb237bf7ad3b29fc40cfb44ecd892598a",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +120,124 @@    );\n  }\n  status.stop();\n  return project;\n}"
  }
]