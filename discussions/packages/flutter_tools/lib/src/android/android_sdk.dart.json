[
  {
    "id" : "1621be71-339a-4cfa-b68d-bd39d3e495a8",
    "prId" : 8462,
    "prUrl" : "https://github.com/flutter/flutter/pull/8462#pullrequestreview-24726585",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "parentId" : null,
        "authorId" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "body" : "I don't think this is entirely right. The `Android SDK` and `Android SDK Build-Tools` are separate installs, are versioned independently, and can be used in different versions:\r\nhttps://developer.android.com/studio/command-line/index.html\r\n\r\nSo AFAIK would be better if we had two different min variables,  `minimumAndroidSdkVersion` and `minimumAndroidBuildToolsVersion`. Initially these can both be set to 25.\r\n",
        "createdAt" : "2017-03-01T12:09:19Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "tags" : [
        ]
      },
      {
        "id" : "399d8f8c-e2af-4153-b4ef-c55a0d02372c",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "body" : "If you read the code in android_sdk.dart you'll see that we only select build tools versions that match the major version number of the platform tools. I'm happy to do the version check against both versions but flutter_tools requires platform version and build tools major version match",
        "createdAt" : "2017-03-01T16:54:47Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "tags" : [
        ]
      },
      {
        "id" : "4471e9e1-fbf9-4e4f-9ffe-fe87d8643353",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "body" : "Makes sense for build and platform tools to be in sync. But there are AFAIK actually four artefacts in total: SDK Platform, SDK Build Tools, SDK Platform-tools, and SDK Tools:\r\nhttps://developer.android.com/studio/intro/update.html#sdk-manager\r\n\r\nMust they all four be in sync?\r\n\r\nI thought not -- for example, prior to https://github.com/flutter/flutter/pull/8461/files our samples were using SDK 25 but build tools 24. \r\n\r\nOr am I totally misunderstanding this?\r\n",
        "createdAt" : "2017-03-01T17:07:07Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "tags" : [
        ]
      },
      {
        "id" : "ef92ea32-e496-4c25-8c79-d48665d8de1a",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "body" : "You are right that there are four artifacts of the Android SDK but I don't think it matters for this CL. Here is a breakdown of how things work today, what this CL does, and what we might want to do in the future:\r\n\r\nToday:\r\nFlutter looks at the platform and build tools versions and selects a version of build tools that has the same major version of the platform. The result of this is that flutter guarantees platformVersion.major == buildToolsVersion.major.\r\n\r\nFlutter does not look at platform tools or SDK tools today. Maybe it should, I don't know.\r\n\r\nThis CL:\r\nDetects if the platform/build tool major versions (they are always the same for Flutter right now) are >= 25.\r\n\r\nFuture:\r\nIn the future we may want to validate version numbers of each of these artifacts individually and may eventually need to build a blacklist / whitelist around version combinations.",
        "createdAt" : "2017-03-01T17:21:51Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "tags" : [
        ]
      },
      {
        "id" : "2aa718a3-5225-49b2-8f56-ac713ad5aeba",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "dacba9b5-733a-4327-87ba-af0a979de161",
        "body" : "This describes how the legacy build works. We're switching to Gradle-based builds, where flutter tools don't get to select the SDK or build tools versions. Instead, Gradle uses the versions specified in the build.gradle file, so it doesn't really matter what version flutter thinks it has 'selected'.\r\n\r\nGradle will also automatically download the versions of build tools and SDK it needs, so there's no point in checking that they're installed before we call Gradle.\r\n\r\nWe currently still support the legacy builds, where this check (and the SDK/build tools selection) matters, but once we remove that and switch completely to Gradle (#8455), all we need to check is that the SDK/build tools licenses have been accepted (#8093).",
        "createdAt" : "2017-03-02T08:34:56Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "dacba9b5-733a-4327-87ba-af0a979de161",
        "tags" : [
        ]
      },
      {
        "id" : "dc64c343-2d24-47bf-9cc4-c3fb37381719",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "body" : "OK, sounds like we have some later cleanup to do. Logged https://github.com/flutter/flutter/issues/8525 for that.",
        "createdAt" : "2017-03-02T13:14:18Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "tags" : [
        ]
      }
    ],
    "commit" : "10106bb8ab566c7fa57930b404af3997acf863c7",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +233,237 @@\n  List<String> validateSdkWellFormed({bool requireApkSigner = true}) {\n    if (buildToolsVersion.major < minimumAndroidSdkVersion) {\n      return <String>['Minimum supported Android SDK version is $minimumAndroidSdkVersion '\n                      'but this system has ${buildToolsVersion.major}. Please upgrade.'];"
  },
  {
    "id" : "16204e61-55a7-439e-a92f-b871e5e90977",
    "prId" : 13056,
    "prUrl" : "https://github.com/flutter/flutter/pull/13056#pullrequestreview-77297193",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c374ec75-cb54-4f0f-a59e-728c9430a130",
        "parentId" : null,
        "authorId" : "e51c798e-576f-47fe-bcd8-577d78e2a5a1",
        "body" : "Given that we depend on this being non-null, consider adding asserts in the ctor. Looks like we defend against that on ll. 199-200, but probably worth the extra paranoia.",
        "createdAt" : "2017-11-16T23:23:50Z",
        "updatedAt" : "2017-11-17T00:16:12Z",
        "lastEditedBy" : "e51c798e-576f-47fe-bcd8-577d78e2a5a1",
        "tags" : [
        ]
      }
    ],
    "commit" : "96a03dce68dba90413dcd752d557d61fbffdd49c",
    "line" : 129,
    "diffHunk" : "@@ -1,1 +236,240 @@  final Version buildToolsVersion;\n\n  String get buildToolsVersionName => buildToolsVersion.toString();\n\n  String get androidJarPath => getPlatformsPath('android.jar');"
  },
  {
    "id" : "e2f78c27-ef8b-4bfd-a861-09681cf8c5a3",
    "prId" : 18235,
    "prUrl" : "https://github.com/flutter/flutter/pull/18235#pullrequestreview-127982570",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "71d6719e-6477-457d-b9c5-f8a53a10ce1b",
        "parentId" : null,
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "use a named param instead?",
        "createdAt" : "2018-06-11T14:50:40Z",
        "updatedAt" : "2018-06-27T17:39:11Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "0c8d93b4-41e0-46b1-8b5a-bf2027dadb55",
        "parentId" : "71d6719e-6477-457d-b9c5-f8a53a10ce1b",
        "authorId" : "d8d45103-cfb7-4f47-88cd-8ac318d5175d",
        "body" : "This matches other functions in this file. Should we change them to keep them consistent?\r\n\r\n```dart\r\nString getAdbPath([AndroidSdk existingSdk]);\r\nString getEmulatorPath([AndroidSdk existingSdk]);\r\n```",
        "createdAt" : "2018-06-11T16:40:50Z",
        "updatedAt" : "2018-06-27T17:39:11Z",
        "lastEditedBy" : "d8d45103-cfb7-4f47-88cd-8ac318d5175d",
        "tags" : [
        ]
      },
      {
        "id" : "a01b781e-e4bc-4948-b41d-2c94dacf8beb",
        "parentId" : "71d6719e-6477-457d-b9c5-f8a53a10ce1b",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "No, let's keep them consistent.",
        "createdAt" : "2018-06-12T14:10:58Z",
        "updatedAt" : "2018-06-27T17:39:11Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "0e1db738035fead5d95d3427b04b5e0b1fad8935",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +101,105 @@/// will work for those users who have Android Tools installed but\n/// not the full SDK.\nString getAvdManagerPath([AndroidSdk existingSdk]) {\n  return existingSdk?.avdManagerPath ??\n    AndroidSdk.locateAndroidSdk()?.avdManagerPath;"
  },
  {
    "id" : "429e27dc-70e5-40ee-aa4e-1c5c15c3a004",
    "prId" : 26642,
    "prUrl" : "https://github.com/flutter/flutter/pull/26642#pullrequestreview-193085833",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3124f87a-ca87-40fa-8380-446f0a7999ed",
        "parentId" : null,
        "authorId" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "body" : "Add a comment how the string looks like you're looking for\r\n\r\n    // Pkg.Revision = <ndk-version>.1.5063045",
        "createdAt" : "2019-01-16T11:18:49Z",
        "updatedAt" : "2019-01-16T12:55:29Z",
        "lastEditedBy" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "tags" : [
        ]
      }
    ],
    "commit" : "0b28eb84558cfdf36797b7e6f515fd8ef52b277a",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +218,222 @@          .map<String>((String line) => line.trim())\n          .where((String line) => line.isNotEmpty);\n      final Map<String, String> properties = Map<String, String>.fromIterable(\n          propertiesFileLines.map<List<String>>((String line) => line.split(' = ')),\n          key: (dynamic split) => split[0],"
  },
  {
    "id" : "c33044ae-7c3d-4fa0-99e8-3c1f821d6c34",
    "prId" : 29528,
    "prUrl" : "https://github.com/flutter/flutter/pull/29528#pullrequestreview-215706742",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0581dcfb-2b44-40e0-b94e-4c2741767828",
        "parentId" : null,
        "authorId" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "body" : "Do you want to at least print a warning if it's not parsing correctly?  I know we don't want to crash, but there should be some indication that something is amiss...",
        "createdAt" : "2019-03-18T16:11:56Z",
        "updatedAt" : "2019-03-18T16:22:49Z",
        "lastEditedBy" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "tags" : [
        ]
      },
      {
        "id" : "70628109-bdf4-4322-b513-b3ced074c492",
        "parentId" : "0581dcfb-2b44-40e0-b94e-4c2741767828",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Done",
        "createdAt" : "2019-03-18T16:22:57Z",
        "updatedAt" : "2019-03-18T16:22:57Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "4ae1537b953578e33511d2ba24255c53fe8fa1e3",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +220,224 @@      for (String line in propertiesFileLines) {\n        final List<String> parts = line.split(' = ');\n        if (parts.length == 2) {\n          properties[parts[0]] = parts[1];\n        } else {"
  },
  {
    "id" : "6737336f-be48-404f-b78e-0da2faf42386",
    "prId" : 52474,
    "prUrl" : "https://github.com/flutter/flutter/pull/52474#pullrequestreview-382610709",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4c07536f-4144-4dfb-9184-a9a7a7fcefec",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "At a glance, this does not seem very future proof. Should this not specify a version, and take the most recent available instead? /cc @blasten for thoughts.",
        "createdAt" : "2020-03-19T20:48:19Z",
        "updatedAt" : "2020-03-31T10:24:10Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "41e949b7-39e3-427d-abe5-cd862a3134f8",
        "parentId" : "4c07536f-4144-4dfb-9184-a9a7a7fcefec",
        "authorId" : "ccfa0236-c7b9-4162-a36d-871ccd3ad2a7",
        "body" : "My initial thought too, but then I realized the error was due to the fact that the tooling was picking the latest version, and it fails whenever that latest version is not v1.8, hence my reason for this approach.",
        "createdAt" : "2020-03-20T09:51:46Z",
        "updatedAt" : "2020-03-31T10:24:10Z",
        "lastEditedBy" : "ccfa0236-c7b9-4162-a36d-871ccd3ad2a7",
        "tags" : [
        ]
      },
      {
        "id" : "7e1a280c-ad05-4816-bb87-905c79eadf0b",
        "parentId" : "4c07536f-4144-4dfb-9184-a9a7a7fcefec",
        "authorId" : "26bed5e6-ee43-49f6-93fd-a565b3ee8889",
        "body" : "do you remember which version `java_home` was defaulting to?",
        "createdAt" : "2020-03-24T16:52:29Z",
        "updatedAt" : "2020-03-31T10:24:10Z",
        "lastEditedBy" : "26bed5e6-ee43-49f6-93fd-a565b3ee8889",
        "tags" : [
        ]
      },
      {
        "id" : "7ccf9d3c-a7c0-41b4-b159-a1fff4a7bce2",
        "parentId" : "4c07536f-4144-4dfb-9184-a9a7a7fcefec",
        "authorId" : "ccfa0236-c7b9-4162-a36d-871ccd3ad2a7",
        "body" : "For example, it defaults to 1.13 on my machine, which obviously do not work in flutter.\nThe first solution was uninstalling other versions of Java, then it would pick 1.8\nBasically, it pick the latest version of java based on the output from `java_home`",
        "createdAt" : "2020-03-24T19:02:35Z",
        "updatedAt" : "2020-03-31T10:24:10Z",
        "lastEditedBy" : "ccfa0236-c7b9-4162-a36d-871ccd3ad2a7",
        "tags" : [
        ]
      },
      {
        "id" : "8e439035-ff30-4ad2-8065-e290a045e155",
        "parentId" : "4c07536f-4144-4dfb-9184-a9a7a7fcefec",
        "authorId" : "26bed5e6-ee43-49f6-93fd-a565b3ee8889",
        "body" : "Thanks for the background information. One more question, did you ever get an error message other than the Flutter doctor failure? I wonder if there are related issues that can be associated with this fix.",
        "createdAt" : "2020-03-26T18:04:33Z",
        "updatedAt" : "2020-03-31T10:24:10Z",
        "lastEditedBy" : "26bed5e6-ee43-49f6-93fd-a565b3ee8889",
        "tags" : [
        ]
      },
      {
        "id" : "d86fd6e6-6f80-4df4-b2e8-af7d80505d14",
        "parentId" : "4c07536f-4144-4dfb-9184-a9a7a7fcefec",
        "authorId" : "ccfa0236-c7b9-4162-a36d-871ccd3ad2a7",
        "body" : "I did not get any other errors.\r\nIn fact, the original error was that \"android-sdk\" was not installed, after reading through similar errors from here and StackOverflow, I learned it was due to not having the right version of JDK (v1.8) installed.",
        "createdAt" : "2020-03-27T06:43:10Z",
        "updatedAt" : "2020-03-31T10:24:10Z",
        "lastEditedBy" : "ccfa0236-c7b9-4162-a36d-871ccd3ad2a7",
        "tags" : [
        ]
      }
    ],
    "commit" : "003e327a1afd258f67b1b2b0f16500bbbcb8d625",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +584,588 @@      try {\n        final String javaHomeOutput = processUtils.runSync(\n          <String>['/usr/libexec/java_home', '-v', '1.8'],\n          throwOnError: true,\n          hideStdout: true,"
  },
  {
    "id" : "bfc0480e-1cbb-424d-ba4e-38be620f5632",
    "prId" : 63867,
    "prUrl" : "https://github.com/flutter/flutter/pull/63867#pullrequestreview-470873434",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "83dc4a1c-1ba7-41ca-a607-ddd120455acf",
        "parentId" : null,
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Should this be moved, too?",
        "createdAt" : "2020-08-17T17:46:35Z",
        "updatedAt" : "2020-08-19T21:13:26Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "729534f0-0435-44b2-8a73-26dadf2eb317",
        "parentId" : "83dc4a1c-1ba7-41ca-a607-ddd120455acf",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "No - because if we fail to find the android SDK we inject this interface as null, and the intention of this code is to provide a method of looking up adb without the android SDK.\r\n\r\n\r\nNow, I think we should eventually remove both of those behaviors, but it was too breaking of a change to do at once.",
        "createdAt" : "2020-08-19T20:22:33Z",
        "updatedAt" : "2020-08-19T21:13:26Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "f9e5d9104957056e4ded5befef66be23b1fe3ecc",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +30,34 @@/// will work for those users who have Android Platform Tools installed but\n/// not the full SDK.\nString getAdbPath(AndroidSdk existingSdk) {\n  if (existingSdk?.adbPath != null) {\n    return existingSdk.adbPath;"
  },
  {
    "id" : "4e1f1228-4302-4c14-a3e5-b90638f5120f",
    "prId" : 63867,
    "prUrl" : "https://github.com/flutter/flutter/pull/63867#pullrequestreview-470614306",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a2f289cc-91b8-4ea1-8a9e-8bb741d2c89b",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Moved to an AndroidSDK method",
        "createdAt" : "2020-08-19T16:12:38Z",
        "updatedAt" : "2020-08-19T21:13:26Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "f9e5d9104957056e4ded5befef66be23b1fe3ecc",
    "line" : 106,
    "diffHunk" : "@@ -1,1 +191,195 @@\n  /// Locate the path for storing AVD emulator images. Returns null if none found.\n  String getAvdPath() {\n    final List<String> searchPaths = <String>[\n      globals.platform.environment['ANDROID_AVD_HOME'],"
  },
  {
    "id" : "df986753-5a5b-409a-b6ce-c6db02b64155",
    "prId" : 63867,
    "prUrl" : "https://github.com/flutter/flutter/pull/63867#pullrequestreview-470614618",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9d25e810-2231-4566-ac41-082638c3c541",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Removed locating the android sdk, because if it wasn't found before it won't be found again",
        "createdAt" : "2020-08-19T16:13:00Z",
        "updatedAt" : "2020-08-19T21:13:26Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "f9e5d9104957056e4ded5befef66be23b1fe3ecc",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +30,34 @@/// will work for those users who have Android Platform Tools installed but\n/// not the full SDK.\nString getAdbPath(AndroidSdk existingSdk) {\n  if (existingSdk?.adbPath != null) {\n    return existingSdk.adbPath;"
  },
  {
    "id" : "f52d79dc-3e8e-4e8b-b019-2d4bbd4b290a",
    "prId" : 78253,
    "prUrl" : "https://github.com/flutter/flutter/pull/78253#pullrequestreview-615888713",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3475afc6-465a-40dd-8231-2bb2e8e81792",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Does this need to filter out files and only include Directories?",
        "createdAt" : "2021-03-18T20:37:30Z",
        "updatedAt" : "2021-03-18T21:32:33Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "7c7d6168-698e-40e4-baa6-d83e3ad8f08a",
        "parentId" : "3475afc6-465a-40dd-8231-2bb2e8e81792",
        "authorId" : "cba63cf3-5271-4e94-9fde-400fb1979d54",
        "body" : "Based on the [docs](https://developer.android.com/studio/command-line) I think it should only contain sub-directories.\r\nAll files will be discarded later anyways, although we could filter them out early just in case.",
        "createdAt" : "2021-03-18T21:28:45Z",
        "updatedAt" : "2021-03-18T21:32:33Z",
        "lastEditedBy" : "cba63cf3-5271-4e94-9fde-400fb1979d54",
        "tags" : [
        ]
      }
    ],
    "commit" : "b379037736b75f46365b8ca69256ffff13f5bbb9",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +277,281 @@    if (cmdlineToolsDir.existsSync()) {\n      final List<Version> cmdlineTools = cmdlineToolsDir\n        .listSync()\n        .whereType<Directory>()\n        .map((Directory subDirectory) {"
  }
]