[
  {
    "id" : "1621be71-339a-4cfa-b68d-bd39d3e495a8",
    "prId" : 8462,
    "prUrl" : "https://github.com/flutter/flutter/pull/8462#pullrequestreview-24726585",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "parentId" : null,
        "authorId" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "body" : "I don't think this is entirely right. The `Android SDK` and `Android SDK Build-Tools` are separate installs, are versioned independently, and can be used in different versions:\r\nhttps://developer.android.com/studio/command-line/index.html\r\n\r\nSo AFAIK would be better if we had two different min variables,  `minimumAndroidSdkVersion` and `minimumAndroidBuildToolsVersion`. Initially these can both be set to 25.\r\n",
        "createdAt" : "2017-03-01T12:09:19Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "tags" : [
        ]
      },
      {
        "id" : "399d8f8c-e2af-4153-b4ef-c55a0d02372c",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "body" : "If you read the code in android_sdk.dart you'll see that we only select build tools versions that match the major version number of the platform tools. I'm happy to do the version check against both versions but flutter_tools requires platform version and build tools major version match",
        "createdAt" : "2017-03-01T16:54:47Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "tags" : [
        ]
      },
      {
        "id" : "4471e9e1-fbf9-4e4f-9ffe-fe87d8643353",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "body" : "Makes sense for build and platform tools to be in sync. But there are AFAIK actually four artefacts in total: SDK Platform, SDK Build Tools, SDK Platform-tools, and SDK Tools:\r\nhttps://developer.android.com/studio/intro/update.html#sdk-manager\r\n\r\nMust they all four be in sync?\r\n\r\nI thought not -- for example, prior to https://github.com/flutter/flutter/pull/8461/files our samples were using SDK 25 but build tools 24. \r\n\r\nOr am I totally misunderstanding this?\r\n",
        "createdAt" : "2017-03-01T17:07:07Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "tags" : [
        ]
      },
      {
        "id" : "ef92ea32-e496-4c25-8c79-d48665d8de1a",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "body" : "You are right that there are four artifacts of the Android SDK but I don't think it matters for this CL. Here is a breakdown of how things work today, what this CL does, and what we might want to do in the future:\r\n\r\nToday:\r\nFlutter looks at the platform and build tools versions and selects a version of build tools that has the same major version of the platform. The result of this is that flutter guarantees platformVersion.major == buildToolsVersion.major.\r\n\r\nFlutter does not look at platform tools or SDK tools today. Maybe it should, I don't know.\r\n\r\nThis CL:\r\nDetects if the platform/build tool major versions (they are always the same for Flutter right now) are >= 25.\r\n\r\nFuture:\r\nIn the future we may want to validate version numbers of each of these artifacts individually and may eventually need to build a blacklist / whitelist around version combinations.",
        "createdAt" : "2017-03-01T17:21:51Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "tags" : [
        ]
      },
      {
        "id" : "2aa718a3-5225-49b2-8f56-ac713ad5aeba",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "dacba9b5-733a-4327-87ba-af0a979de161",
        "body" : "This describes how the legacy build works. We're switching to Gradle-based builds, where flutter tools don't get to select the SDK or build tools versions. Instead, Gradle uses the versions specified in the build.gradle file, so it doesn't really matter what version flutter thinks it has 'selected'.\r\n\r\nGradle will also automatically download the versions of build tools and SDK it needs, so there's no point in checking that they're installed before we call Gradle.\r\n\r\nWe currently still support the legacy builds, where this check (and the SDK/build tools selection) matters, but once we remove that and switch completely to Gradle (#8455), all we need to check is that the SDK/build tools licenses have been accepted (#8093).",
        "createdAt" : "2017-03-02T08:34:56Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "dacba9b5-733a-4327-87ba-af0a979de161",
        "tags" : [
        ]
      },
      {
        "id" : "dc64c343-2d24-47bf-9cc4-c3fb37381719",
        "parentId" : "6d26d025-6bf4-479d-bbf3-2bbbf08d5149",
        "authorId" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "body" : "OK, sounds like we have some later cleanup to do. Logged https://github.com/flutter/flutter/issues/8525 for that.",
        "createdAt" : "2017-03-02T13:14:18Z",
        "updatedAt" : "2017-03-07T02:06:44Z",
        "lastEditedBy" : "1763d25e-2bc0-4671-b03b-79f854e469df",
        "tags" : [
        ]
      }
    ],
    "commit" : "10106bb8ab566c7fa57930b404af3997acf863c7",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +233,237 @@\n  List<String> validateSdkWellFormed({bool requireApkSigner = true}) {\n    if (buildToolsVersion.major < minimumAndroidSdkVersion) {\n      return <String>['Minimum supported Android SDK version is $minimumAndroidSdkVersion '\n                      'but this system has ${buildToolsVersion.major}. Please upgrade.'];"
  }
]