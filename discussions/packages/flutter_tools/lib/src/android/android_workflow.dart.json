[
  {
    "id" : "95976495-c26d-4108-bdf0-5dbdcf429bbb",
    "prId" : 8745,
    "prUrl" : "https://github.com/flutter/flutter/pull/8745#pullrequestreview-26665685",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2e559dd0-1c41-4288-bc39-51acf712fc73",
        "parentId" : null,
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "Do you really need both? I have been running under Windows so far without JAVA_HOME set to anything (this is how the default JDK installer sets up Java on Windows).",
        "createdAt" : "2017-03-13T20:55:36Z",
        "updatedAt" : "2017-03-14T16:40:24Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      },
      {
        "id" : "80cbc95c-8400-44b3-ae1e-e473a4d787a3",
        "parentId" : "2e559dd0-1c41-4288-bc39-51acf712fc73",
        "authorId" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "body" : "@goderbauer You don't strictly need both but if a user doesn't have a working Java environment I think it's better to give them more direction here.",
        "createdAt" : "2017-03-13T21:01:05Z",
        "updatedAt" : "2017-03-14T16:40:24Z",
        "lastEditedBy" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "tags" : [
        ]
      }
    ],
    "commit" : "40d9b40ea0023ed51e55d12e6a2e938911ad4413",
    "line" : 174,
    "diffHunk" : "@@ -1,1 +143,147 @@      messages.add(new ValidationMessage.error(\n          'No Java Development Kit (JDK) found; You must have the environment '\n          'variable JAVA_HOME set and the java binary in your PATH. '\n          'You can download the JDK from $_kJdkDownload.'));\n      return new ValidationResult(ValidationType.partial, messages, statusInfo: sdkVersionText);"
  },
  {
    "id" : "5d1eb245-21e3-4c50-be9e-ee566d1d3a98",
    "prId" : 8745,
    "prUrl" : "https://github.com/flutter/flutter/pull/8745#pullrequestreview-26866240",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "860a350f-98bc-42f2-a7e8-4025146eb6d0",
        "parentId" : null,
        "authorId" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "body" : "@goderbauer, do we have to worry about it being java.bat or java.exe on Windows?",
        "createdAt" : "2017-03-14T15:56:29Z",
        "updatedAt" : "2017-03-14T16:40:24Z",
        "lastEditedBy" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "tags" : [
        ]
      },
      {
        "id" : "5c87281a-502d-4427-9e12-93ebecf11d85",
        "parentId" : "860a350f-98bc-42f2-a7e8-4025146eb6d0",
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "As long as this string is executed by the process manager we should be good on Windows (the process manager abstracts away the fact that an executable might have a different extensions on Windows. Looks like this string is passed to `processManager.runSync` below, so we should be good here.",
        "createdAt" : "2017-03-14T16:50:29Z",
        "updatedAt" : "2017-03-14T16:50:29Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      }
    ],
    "commit" : "40d9b40ea0023ed51e55d12e6a2e938911ad4413",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +37,41 @@    if (javaHomeEnv != null) {\n      // Trust JAVA_HOME.\n      return fs.path.join(javaHomeEnv, 'bin', 'java');\n    }\n"
  },
  {
    "id" : "5e683135-dabd-4996-a586-27b8be4f1a0a",
    "prId" : 9892,
    "prUrl" : "https://github.com/flutter/flutter/pull/9892#pullrequestreview-37387381",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "12e680e3-bda1-4ffc-a7b4-10a7ec008e87",
        "parentId" : null,
        "authorId" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "body" : "This should be using processManager, or more likely, methods in `base/process.dart`",
        "createdAt" : "2017-05-10T18:20:20Z",
        "updatedAt" : "2017-05-10T18:20:20Z",
        "lastEditedBy" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "tags" : [
        ]
      }
    ],
    "commit" : "e95117613d376af880cc11377572df2add9f4bc9",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +180,184 @@    }\n\n    final Process process = await Process.start(\n      fs.path.join(androidSdk.directory, 'tools', 'bin', 'sdkmanager'),\n      <String>['--licenses'],"
  },
  {
    "id" : "39511f42-a9ec-4897-a369-8aab4347e7d6",
    "prId" : 12788,
    "prUrl" : "https://github.com/flutter/flutter/pull/12788#pullrequestreview-81276166",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b511919f-db69-4df2-98c8-2ffcefd2f29e",
        "parentId" : null,
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "Is this something we should report to users? Most won't need an NDK configured, and showing a message here would indicate to them that they need to do more setup.",
        "createdAt" : "2017-11-30T20:34:02Z",
        "updatedAt" : "2017-11-30T20:34:02Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "05a394a3-a71f-45b2-a4dd-34431774cdc4",
        "parentId" : "b511919f-db69-4df2-98c8-2ffcefd2f29e",
        "authorId" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "body" : "Going forward there might be more uses than just `--prefer-share-library`, e.g. profiling, ... and it's imho not a good user experience if these features sometimes work and sometimes not without telling the user if is setup is correct.\r\n\r\nIf I recall correctly, `flutter doctor` will not show it up with a red cross but in a more subtle way., so I think it makes sense to tell the user if the NDK was found or not.",
        "createdAt" : "2017-11-30T21:00:38Z",
        "updatedAt" : "2017-11-30T21:00:39Z",
        "lastEditedBy" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "tags" : [
        ]
      },
      {
        "id" : "36c467e9-6ea3-4c08-b6f7-c02c1078b7bb",
        "parentId" : "b511919f-db69-4df2-98c8-2ffcefd2f29e",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "It currently shows up like this:\r\n\r\n<img width=\"677\" alt=\"screen shot 2017-11-30 at 1 01 55 pm\" src=\"https://user-images.githubusercontent.com/1269969/33454772-b76a48b2-d5ce-11e7-9415-f38b34d27f00.png\">\r\n\r\nSo:\r\n- it shows as not being configured\r\n- doesn't show as a warning about that (which is inconsistent with how we show other things)\r\n- is something that most users will not need to configure, but given that doctor complains about it, users will think that they do need to do so\r\n\r\nWe may want to soften the warning and give the user some context about why and when they would want to configure. That could be something like only showing one line item for both the NDK + compiler, and using text like `Android NDK location not configured; you may want to do this if...`.\r\n",
        "createdAt" : "2017-11-30T21:05:50Z",
        "updatedAt" : "2017-11-30T21:06:09Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "eb7e5239-ac8a-4c99-9716-c7785fd48d9d",
        "parentId" : "b511919f-db69-4df2-98c8-2ffcefd2f29e",
        "authorId" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "body" : "I have no strong opinion on it, except that there should be an indication if it was / was not discovered. Marking it as a red cross / warning is too much, since for now most people don't have to have it.\r\n\r\nOne line sounds good. Do you want me to make a change for it?",
        "createdAt" : "2017-12-01T12:07:33Z",
        "updatedAt" : "2017-12-01T12:07:33Z",
        "lastEditedBy" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "tags" : [
        ]
      },
      {
        "id" : "5e4f3563-ddac-4d5c-a4b4-428d37ebeee9",
        "parentId" : "b511919f-db69-4df2-98c8-2ffcefd2f29e",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "> except that there should be an indication if it was / was not discovered\r\n\r\nmakes sense\r\n\r\n> One line sounds good. Do you want me to make a change for it?\r\n\r\nSounds great, thanks!",
        "createdAt" : "2017-12-01T15:36:41Z",
        "updatedAt" : "2017-12-01T15:36:41Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "9c96dc16-0df5-48a7-96f5-c5acd4b3b839",
        "parentId" : "b511919f-db69-4df2-98c8-2ffcefd2f29e",
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "+1 to fixing this sooner than later. Users are already getting confused by it, see https://github.com/flutter/flutter/issues/13306.",
        "createdAt" : "2017-12-04T19:10:45Z",
        "updatedAt" : "2017-12-04T19:10:45Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      },
      {
        "id" : "dc1a6d18-c2a9-42be-ad6f-a37907297c95",
        "parentId" : "b511919f-db69-4df2-98c8-2ffcefd2f29e",
        "authorId" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "body" : "Will make a CL when I come in tomorrow!",
        "createdAt" : "2017-12-04T19:28:23Z",
        "updatedAt" : "2017-12-04T19:28:23Z",
        "lastEditedBy" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "tags" : [
        ]
      },
      {
        "id" : "85efc7ad-3f4d-4645-83fc-e0f6fae46e05",
        "parentId" : "b511919f-db69-4df2-98c8-2ffcefd2f29e",
        "authorId" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "body" : "The pull request is up https://github.com/flutter/flutter/pull/13348",
        "createdAt" : "2017-12-05T09:47:38Z",
        "updatedAt" : "2017-12-05T09:47:39Z",
        "lastEditedBy" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "tags" : [
        ]
      },
      {
        "id" : "d87f72f0-d0e8-41ad-899c-472c05a6206f",
        "parentId" : "b511919f-db69-4df2-98c8-2ffcefd2f29e",
        "authorId" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "body" : "Thank you!",
        "createdAt" : "2017-12-05T17:50:34Z",
        "updatedAt" : "2017-12-05T17:50:34Z",
        "lastEditedBy" : "d61ab95a-0bf0-4571-9098-19991dd821ca",
        "tags" : [
        ]
      }
    ],
    "commit" : "9cfaea3de31e335a57c6e1dc0ad8d29d38d85bf3",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +120,124 @@    messages.add(new ValidationMessage('Android SDK at ${androidSdk.directory}'));\n\n    messages.add(new ValidationMessage(androidSdk.ndkDirectory == null\n          ? 'Unable to locate Android NDK.\\n'\n          : 'Android NDK at ${androidSdk.ndkDirectory}'));"
  },
  {
    "id" : "a498bebd-42ac-43ec-8482-d988358d8b5f",
    "prId" : 23531,
    "prUrl" : "https://github.com/flutter/flutter/pull/23531#pullrequestreview-185876398",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "79c83879-e99c-42f1-83d5-4a1073f2fd68",
        "parentId" : null,
        "authorId" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "body" : "Here's a case where we won't notify the user in any meaningful way if the process hangs.  We should warn if it takes too long to complete, or show a progress indicator.",
        "createdAt" : "2018-12-17T20:49:54Z",
        "updatedAt" : "2018-12-20T23:16:48Z",
        "lastEditedBy" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "tags" : [
        ]
      },
      {
        "id" : "2c7bc643-b4b4-408b-b976-726c608cd927",
        "parentId" : "79c83879-e99c-42f1-83d5-4a1073f2fd68",
        "authorId" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "body" : "in this case, different versions of the Android SDK could produce different output and expect different input, causing us to hang for all instances of Android SDK version X.",
        "createdAt" : "2018-12-17T20:54:37Z",
        "updatedAt" : "2018-12-20T23:16:48Z",
        "lastEditedBy" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "tags" : [
        ]
      },
      {
        "id" : "de0bf801-1e38-4a55-93df-0f9b88293e0d",
        "parentId" : "79c83879-e99c-42f1-83d5-4a1073f2fd68",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "I've made `flutter doctor` be explicit about what's taking a long time if it takes a long time.",
        "createdAt" : "2018-12-18T01:41:31Z",
        "updatedAt" : "2018-12-20T23:16:48Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      }
    ],
    "commit" : "f49aff478cf40502c0d2210f3bb084159ea6f300",
    "line" : 119,
    "diffHunk" : "@@ -1,1 +256,260 @@      .listen(_handleLine)\n      .asFuture<void>(null);\n    await Future.wait<void>(<Future<void>>[output, errors]);\n    return status ?? LicensesAccepted.unknown;\n  }"
  },
  {
    "id" : "0d825cb9-89e8-4c8b-9d35-50f55564805c",
    "prId" : 41989,
    "prUrl" : "https://github.com/flutter/flutter/pull/41989#pullrequestreview-300136595",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "44d507dc-379d-4d6b-9b71-f3480fd31d51",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Looks like javaVersion can be null here, possibly during a parse failure in Version.parse?",
        "createdAt" : "2019-10-09T16:43:37Z",
        "updatedAt" : "2019-10-17T18:16:47Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "f227aefe-48e1-41d7-8a2e-5e91300feec6",
        "parentId" : "44d507dc-379d-4d6b-9b71-f3480fd31d51",
        "authorId" : "e68f970a-b679-4bc5-b07e-dcfde9059942",
        "body" : "OK, I am on it.",
        "createdAt" : "2019-10-09T16:54:51Z",
        "updatedAt" : "2019-10-17T18:16:47Z",
        "lastEditedBy" : "e68f970a-b679-4bc5-b07e-dcfde9059942",
        "tags" : [
        ]
      },
      {
        "id" : "1dfe80ba-725f-41ab-bce7-39f68bb7711f",
        "parentId" : "44d507dc-379d-4d6b-9b71-f3480fd31d51",
        "authorId" : "e68f970a-b679-4bc5-b07e-dcfde9059942",
        "body" : "Hm, it seems that we only check `javaVersionText` for `null` value and not for `isEmpty`, before we parse it.",
        "createdAt" : "2019-10-09T17:10:41Z",
        "updatedAt" : "2019-10-17T18:16:47Z",
        "lastEditedBy" : "e68f970a-b679-4bc5-b07e-dcfde9059942",
        "tags" : [
        ]
      },
      {
        "id" : "3f963089-61d5-45c9-9d95-35082f454a9e",
        "parentId" : "44d507dc-379d-4d6b-9b71-f3480fd31d51",
        "authorId" : "e68f970a-b679-4bc5-b07e-dcfde9059942",
        "body" : "I don't understand why it is still failing, if the `javaVersionText` is null or empty it shouldn't move to parsing step ... unless it gets a text that is not parseable ... 🤔 ",
        "createdAt" : "2019-10-09T17:27:50Z",
        "updatedAt" : "2019-10-17T18:16:47Z",
        "lastEditedBy" : "e68f970a-b679-4bc5-b07e-dcfde9059942",
        "tags" : [
        ]
      },
      {
        "id" : "d0efeed4-3a42-474f-9077-0fd76beb6199",
        "parentId" : "44d507dc-379d-4d6b-9b71-f3480fd31d51",
        "authorId" : "e68f970a-b679-4bc5-b07e-dcfde9059942",
        "body" : "I see the problem now. If you run:\r\n`docker run  gcr.io/flutter-cirrus/build-flutter-image:latest java -version` you will get `openjdk version \"1.8.0_212\"` which is not parseable by this regex `^(\\d+)(\\.(\\d+)(\\.(\\d+))?)?`.\r\n\r\nI either have to sanitize this string and extract only the version to `Version.parse` or remove the `^` from the current regex.\r\n\r\nI lean towards the first, WDYT @jonahwilliams ?",
        "createdAt" : "2019-10-10T14:59:39Z",
        "updatedAt" : "2019-10-17T18:16:47Z",
        "lastEditedBy" : "e68f970a-b679-4bc5-b07e-dcfde9059942",
        "tags" : [
        ]
      }
    ],
    "commit" : "68e49b8cca15e3e5b2033cb72432ac6322e469d2",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +96,100 @@      }\n      final Version javaVersion = Version.parse(_extractJavaVersion(javaVersionText));\n      if (javaVersion < kAndroidJavaMinVersion) {\n        messages.add(ValidationMessage.error(userMessages.androidJavaMinimumVersion(javaVersionText)));\n        return false;"
  }
]