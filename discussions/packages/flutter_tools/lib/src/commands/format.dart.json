[
  {
    "id" : "b87e59d3-7c3f-4a0d-9fa4-d783c86f3233",
    "prId" : 5606,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "240bcb76-8ab2-4bc6-b3d4-aa07f999d0d9",
        "parentId" : null,
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "We could also add an alias for `dartfmt`.\n",
        "createdAt" : "2016-08-25T22:31:09Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "72a3411f-4f87-47f8-b160-6275dc8afd1f",
        "parentId" : "240bcb76-8ab2-4bc6-b3d4-aa07f999d0d9",
        "authorId" : "ef18e386-81c5-4d21-83a1-6dee4f1a6e78",
        "body" : "Done.\n",
        "createdAt" : "2016-08-26T17:23:26Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "ef18e386-81c5-4d21-83a1-6dee4f1a6e78",
        "tags" : [
        ]
      }
    ],
    "commit" : "0dcc4c142d5776cc3231871a6b35e7eeba867f0b",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +14,18 @@class FormatCommand extends FlutterCommand {\n  @override\n  final String name = 'format';\n\n  @override"
  },
  {
    "id" : "c29701b3-84d8-4c33-8f94-1eef2efa0523",
    "prId" : 5606,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eadd2208-b732-41df-901d-8617471a5ec7",
        "parentId" : null,
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "We could also choose to improve the UI of dartfmt a bit. If you're in a project - and no other args are given - we could recurse into source directories and format those files. This would operate similar to how flutter analyze works.\n\nI don't think we need to do that in this PR, but something to think about.\n",
        "createdAt" : "2016-08-25T22:33:30Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "c743b210-c531-4203-aa43-c56ca8f96ea4",
        "parentId" : "eadd2208-b732-41df-901d-8617471a5ec7",
        "authorId" : "ef18e386-81c5-4d21-83a1-6dee4f1a6e78",
        "body" : "I hesitate to do that because it may be surprising to the user if they are just exploring the command, but I like the idea. I made sure you can type `flutter format .` (note the trailing period) to format source files in the current directory and all sub-directories recursively. In addition, I added some help text for new users to point out this feature.\n",
        "createdAt" : "2016-08-31T13:17:45Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "ef18e386-81c5-4d21-83a1-6dee4f1a6e78",
        "tags" : [
        ]
      }
    ],
    "commit" : "0dcc4c142d5776cc3231871a6b35e7eeba867f0b",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +30,34 @@  @override\n  Future<int> runInProject() async {\n    if (argResults.rest.isEmpty) {\n      printStatus('No files specified to be formatted.');\n      printStatus('');"
  },
  {
    "id" : "6c33dd00-12fc-4e1d-b4c7-f073528e321c",
    "prId" : 5606,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "198eebf2-df88-40b7-9fc9-0f6d7f71f618",
        "parentId" : null,
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "Rather than running the binary (and taking the 200ms startup hit), is it possible to call the code directly the way we do with the analyzer?\n",
        "createdAt" : "2016-08-26T19:40:08Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "d2d171b6-498a-43ed-8edd-490fbe68a6be",
        "parentId" : "198eebf2-df88-40b7-9fc9-0f6d7f71f618",
        "authorId" : "7b783ce6-a0fd-4147-a5d9-e1f619149d45",
        "body" : "Oh, cool idea!\n",
        "createdAt" : "2016-08-26T20:20:36Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "7b783ce6-a0fd-4147-a5d9-e1f619149d45",
        "tags" : [
        ]
      },
      {
        "id" : "5fc89c87-17e8-4a89-b217-7b49934e3b13",
        "parentId" : "198eebf2-df88-40b7-9fc9-0f6d7f71f618",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "One thing to consider with that is that we'll be referencing another package that depends on the analyzer package (https://github.com/dart-lang/dart_style/blob/master/pubspec.yaml#L10). The `analyzer` package is already at the nexus of some version lock issues, so this could be an opportunity to opt-out of more version conflicts.\n",
        "createdAt" : "2016-08-27T22:05:00Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "2fad7d4e-c5ff-4657-885e-a8fddcb67599",
        "parentId" : "198eebf2-df88-40b7-9fc9-0f6d7f71f618",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "Can you elaborate? I'm not sure what you mean.\n",
        "createdAt" : "2016-08-29T18:28:27Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "b44fa879-b530-47c1-91dc-6aaaa8c94263",
        "parentId" : "198eebf2-df88-40b7-9fc9-0f6d7f71f618",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "flutter_tools references the analyzer package, and dart_style references the analyzer package. If we take a dependency on dart_style, then when we want to update to a new analyzer version, we may need to first wait until dart_style is updated to support that new version.\n\nThere's a brief discussion of the shared dependency issue here: https://www.dartlang.org/tools/pub/versioning#version-lock.\n",
        "createdAt" : "2016-08-29T18:54:33Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "32d2ffe3-4020-4c60-9bb9-78ed739cb62c",
        "parentId" : "198eebf2-df88-40b7-9fc9-0f6d7f71f618",
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "We really should just use the analyzer package that corresponds to the SDK release we're on, no? For both analysis and formatting.\n",
        "createdAt" : "2016-08-29T21:31:55Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "4b4777e4-9319-41d3-95e4-b9d8f835ad5f",
        "parentId" : "198eebf2-df88-40b7-9fc9-0f6d7f71f618",
        "authorId" : "ef18e386-81c5-4d21-83a1-6dee4f1a6e78",
        "body" : "For now I'm planning to call `dartfmt` as an external process to prevent version lock per @devoncarew's comment. I've seen the pain that analyzer team endures because of version constraints and don't want that slow our velocity.\n",
        "createdAt" : "2016-08-31T13:22:52Z",
        "updatedAt" : "2016-08-31T13:27:41Z",
        "lastEditedBy" : "ef18e386-81c5-4d21-83a1-6dee4f1a6e78",
        "tags" : [
        ]
      }
    ],
    "commit" : "0dcc4c142d5776cc3231871a6b35e7eeba867f0b",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +42,46 @@    String dartfmt = path.join(\n        Cache.flutterRoot, 'bin', 'cache', 'dart-sdk', 'bin', 'dartfmt');\n    List<String> cmd = <String>[dartfmt, '-w']..addAll(argResults.rest);\n    return runCommandAndStreamOutput(cmd);\n  }"
  }
]