[
  {
    "id" : "7b6e84e6-f324-4fe9-ad71-279c92f834af",
    "prId" : 36793,
    "prUrl" : "https://github.com/flutter/flutter/pull/36793#pullrequestreview-266337198",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aba6ebd4-b59b-4191-9c33-50e2437b49c9",
        "parentId" : null,
        "authorId" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "body" : "I would add a code comment on each of these new private functions to describe them a bit. i.e. this populates the variables in the build script which is only used to re-build the frameworks in add-to-app. _xcodeBuildSettingsLines modifies the xcode project settings in full-app cases etc etc.",
        "createdAt" : "2019-07-24T21:19:41Z",
        "updatedAt" : "2019-07-29T21:08:39Z",
        "lastEditedBy" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "tags" : [
        ]
      },
      {
        "id" : "3a269b85-b273-4e93-a3e5-49278f8ebed0",
        "parentId" : "aba6ebd4-b59b-4191-9c33-50e2437b49c9",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Good idea.",
        "createdAt" : "2019-07-24T23:34:22Z",
        "updatedAt" : "2019-07-29T21:08:39Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "5bb8b9cd0f2d85fea82aab47a33a21c343d21b8a",
    "line" : 52,
    "diffHunk" : "@@ -1,1 +90,94 @@  generatedXcodePropertiesFile.writeAsStringSync(localsBuffer.toString());\n}\n\n/// Generate a script to export all the FLUTTER_ environment variables needed\n/// as flags for Flutter tools."
  },
  {
    "id" : "4e227294-a804-4889-9d66-3a4af31bcdda",
    "prId" : 36793,
    "prUrl" : "https://github.com/flutter/flutter/pull/36793#pullrequestreview-268059975",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "40b9be29-07b9-4bce-be1c-002ff0366f3b",
        "parentId" : null,
        "authorId" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "body" : "Describe what is the canonical way to modify this (i.e. by running flutter build ios --no-codesign or some such, though I still think ideally some form of reasonable defaults should exist without the user ever touching the module folders except doing dart-y stuff like edit .dart files and doing flutter packages get etc)",
        "createdAt" : "2019-07-24T21:21:51Z",
        "updatedAt" : "2019-07-29T21:08:39Z",
        "lastEditedBy" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "tags" : [
        ]
      },
      {
        "id" : "84ef38e0-4f73-4515-aa32-1f65a2ae35e2",
        "parentId" : "40b9be29-07b9-4bce-be1c-002ff0366f3b",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Curious, when would a user need to modify these?  It's all FLUTTER_-type generated variables.",
        "createdAt" : "2019-07-24T23:34:25Z",
        "updatedAt" : "2019-07-29T21:08:39Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "e5b8d1cc-2cd5-44f2-9015-e7894702d96a",
        "parentId" : "40b9be29-07b9-4bce-be1c-002ff0366f3b",
        "authorId" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "body" : "One thing I could imagine is I was add-to-app xcode running etc, then I want to try using a local engine (which seems to work today). I think you can cause that to happen by running `flutter build ios --local_engine something` in the flutter module and then running the outer project again but it's not too clear how to trigger it from the outer project.",
        "createdAt" : "2019-07-24T23:57:12Z",
        "updatedAt" : "2019-07-29T21:08:39Z",
        "lastEditedBy" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "tags" : [
        ]
      },
      {
        "id" : "162c2ef5-a66f-44ba-895c-67eee048ebf3",
        "parentId" : "40b9be29-07b9-4bce-be1c-002ff0366f3b",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "I think should already be passed into flutter build because FLUTTER_ENGINE and LOCAL_ENGINE are being exported in this build script https://github.com/flutter/flutter/pull/36793/files#diff-36f7d4b99eeed90b423768f2148e3ab8R160, and then parsed in xcode_backend https://github.com/flutter/flutter/blob/master/packages/flutter_tools/bin/xcode_backend.sh#L131.\r\n",
        "createdAt" : "2019-07-25T00:13:12Z",
        "updatedAt" : "2019-07-29T21:08:39Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "3daba469-46b0-43f3-b0ec-3e1980e1baa1",
        "parentId" : "40b9be29-07b9-4bce-be1c-002ff0366f3b",
        "authorId" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "body" : "I meant the stuff will indeed be passed into the re-entrant flutter call when it's in the script, but do the users (from the perspective of looking at the outer app project) find out how to change the script (since it's generated and says do not edit).\r\n\r\nI just meant we can add a line of doc in this script that says if you want to modify the exported vars in this script, go into the inner flutter project and build it the way you want it to first, then your subsequent outer xcode project runs will follow those vars.",
        "createdAt" : "2019-07-25T20:37:56Z",
        "updatedAt" : "2019-07-29T21:08:39Z",
        "lastEditedBy" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "tags" : [
        ]
      },
      {
        "id" : "d43a02ba-634a-4030-940b-7b1e644dd6ec",
        "parentId" : "40b9be29-07b9-4bce-be1c-002ff0366f3b",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "They shouldn't alter the generated file, we need to be able to blow it away at any time and not care about migrations.  I'm changing the generated script to just export the environment variables.  They can change the environment variables in the build phase between that call and the xcode_backend call if they need a local engine for testing.",
        "createdAt" : "2019-07-29T18:16:00Z",
        "updatedAt" : "2019-07-29T21:08:39Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "7dfa716d-a334-4837-8e2b-8db905250767",
        "parentId" : "40b9be29-07b9-4bce-be1c-002ff0366f3b",
        "authorId" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "body" : "I added a line in https://github.com/flutter/flutter/issues/32862 to make sure we document how to do this ",
        "createdAt" : "2019-07-29T21:50:02Z",
        "updatedAt" : "2019-07-29T21:50:03Z",
        "lastEditedBy" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "tags" : [
        ]
      }
    ],
    "commit" : "5bb8b9cd0f2d85fea82aab47a33a21c343d21b8a",
    "line" : 65,
    "diffHunk" : "@@ -1,1 +103,107 @@  localsBuffer.writeln('#!/bin/sh');\n  localsBuffer.writeln('# This is a generated file; do not edit or check into version control.');\n  for (String line in xcodeBuildSettings) {\n    localsBuffer.writeln('export \"$line\"');\n  }"
  },
  {
    "id" : "12789ee3-4308-469a-ad8c-cdd6ba75be78",
    "prId" : 40375,
    "prUrl" : "https://github.com/flutter/flutter/pull/40375#pullrequestreview-287663893",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7d32f803-29cd-4eee-8082-c26b5111c356",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "If it won't be in the error message from xcodebuild, then including `projectFilename` manually could be helpful.",
        "createdAt" : "2019-09-12T19:09:57Z",
        "updatedAt" : "2019-09-12T19:48:53Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "ce145daf-c3b8-442a-8a1a-5ad9d3529202",
        "parentId" : "7d32f803-29cd-4eee-8082-c26b5111c356",
        "authorId" : "a37bcf63-7713-4b5b-8625-f91c635e284e",
        "body" : "The error messages from `xcodebuild` are pretty good, which is why I didn't augment them. The `-project` version gives the project name, and the no-`-project` version gives the path where it was unable to find any projects.",
        "createdAt" : "2019-09-12T19:47:32Z",
        "updatedAt" : "2019-09-12T19:48:53Z",
        "lastEditedBy" : "a37bcf63-7713-4b5b-8625-f91c635e284e",
        "tags" : [
        ]
      }
    ],
    "commit" : "9c817a58a93110b1a6730ebbf7e797f9fa43acd5",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +348,352 @@    );\n    if (result.exitCode == missingProjectExitCode) {\n      throwToolExit('Unable to get Xcode project information:\\n ${result.stderr}');\n    }\n    return XcodeProjectInfo.fromXcodeBuildOutput(result.toString());"
  },
  {
    "id" : "8483f046-ef38-452f-9b3b-d20b5baf39f2",
    "prId" : 43553,
    "prUrl" : "https://github.com/flutter/flutter/pull/43553#pullrequestreview-308211309",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5fbc22de-88d3-4476-ae35-a61b5aaba93b",
        "parentId" : null,
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "@christopherfujino Is this more or less readable than what I had before?",
        "createdAt" : "2019-10-28T22:57:42Z",
        "updatedAt" : "2019-10-29T02:03:38Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "d26c2a7f-69a9-4b15-84ab-7cb6d05228dc",
        "parentId" : "5fbc22de-88d3-4476-ae35-a61b5aaba93b",
        "authorId" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "body" : "It's glorious.",
        "createdAt" : "2019-10-28T23:51:14Z",
        "updatedAt" : "2019-10-29T02:03:38Z",
        "lastEditedBy" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "tags" : [
        ]
      }
    ],
    "commit" : "1f2a95afe1434879d9427b6713987860db28de24",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +361,365 @@/// for or be aware of each one. This could be used to set code signing build settings in a CI\n/// environment without requiring settings changes in the Xcode project.\nList<String> environmentVariablesAsXcodeBuildSettings() {\n  const String xcodeBuildSettingPrefix = 'FLUTTER_XCODE_';\n  return platform.environment.entries.where((MapEntry<String, String> mapEntry) {"
  },
  {
    "id" : "39326ea9-16b1-4ac7-a5f8-899e22d4c471",
    "prId" : 44447,
    "prUrl" : "https://github.com/flutter/flutter/pull/44447#pullrequestreview-315750845",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ebcadbe5-a8b8-48d5-b736-5c8c95411f5c",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "ditto",
        "createdAt" : "2019-11-12T20:41:02Z",
        "updatedAt" : "2019-11-18T15:25:00Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      }
    ],
    "commit" : "a8e15f739ae10303851adf86220e24bc9836706d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +193,197 @@\n  if (artifacts is LocalEngineArtifacts) {\n    final LocalEngineArtifacts localEngineArtifacts = artifacts as LocalEngineArtifacts;\n    final String engineOutPath = localEngineArtifacts.engineOutPath;\n    xcodeBuildSettings.add('FLUTTER_ENGINE=${fs.path.dirname(fs.path.dirname(engineOutPath))}');"
  },
  {
    "id" : "787140c6-a148-49e8-9282-62d05bacda2e",
    "prId" : 48661,
    "prUrl" : "https://github.com/flutter/flutter/pull/48661#pullrequestreview-346798270",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ca1d16e2-4b48-4a88-9323-cc834fa207f7",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "We have to be a bit careful with this pattern since tests can directly inject their own `ProcessUtils`. We can:\r\n1. Pass the `ProcessUtils` here instead of the `ProcessManager`.\r\n1. Change this to `(context lookup) ?? ProcessUtils(logger: logger, ...)`\r\n1. Somehow assert here that `ProcessUtils` hasn't been overridden in the context by a test.\r\n1. Get `ProcessUtils` out of the context and instantiate one everywhere where we need one.",
        "createdAt" : "2020-01-13T16:19:19Z",
        "updatedAt" : "2020-01-22T18:54:16Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "4164109e-5a72-4944-a8aa-5baf17ae93d1",
        "parentId" : "ca1d16e2-4b48-4a88-9323-cc834fa207f7",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Longer-term, should we remove injection of processUtils within tests? We have a pretty nice abstraction in the form of the FakeProcessManager, and besides that ProcessManager itself is fairly easily to mock.",
        "createdAt" : "2020-01-13T16:30:33Z",
        "updatedAt" : "2020-01-22T18:54:16Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "08714858-1b29-41cc-9f88-75f83a732be2",
        "parentId" : "ca1d16e2-4b48-4a88-9323-cc834fa207f7",
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "Yeah. Right now it's only injected in a few places: `android_device_test.dart`, `fuchsia_device_test.dart`, and `web_fs_test.dart` AFAICT.",
        "createdAt" : "2020-01-13T16:50:07Z",
        "updatedAt" : "2020-01-22T18:54:16Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "a2fee18d-1908-45da-a494-426ae4b28d0b",
        "parentId" : "ca1d16e2-4b48-4a88-9323-cc834fa207f7",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "ProcessUtils can now no longer be injected in tests, this has been rebased after that change",
        "createdAt" : "2020-01-22T18:15:23Z",
        "updatedAt" : "2020-01-22T18:54:16Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "b1e89b227fb621a9c64350e005e83c7d92e27e6f",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +235,239 @@       _terminal = terminal,\n       _logger = logger,\n       _processUtils = ProcessUtils(logger: logger, processManager: processManager);\n\n  final Platform _platform;"
  },
  {
    "id" : "d367a2a6-c256-43d0-b14f-026eac9360dc",
    "prId" : 51532,
    "prUrl" : "https://github.com/flutter/flutter/pull/51532#pullrequestreview-365395168",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6093f878-ab2e-4a46-bfbd-7b58c4be0836",
        "parentId" : null,
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "This takes awhile, spinner was stuck.",
        "createdAt" : "2020-02-27T03:33:06Z",
        "updatedAt" : "2020-02-27T19:21:17Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "f4003b2d4e7d68ea7a7f06efa82ae582af2cb5e4",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +354,358 @@\n  Future<void> cleanWorkspace(String workspacePath, String scheme) async {\n    await _processUtils.run(<String>[\n      _executable,\n      '-workspace',"
  },
  {
    "id" : "47175143-c727-49cc-ba47-f2dbc7230c55",
    "prId" : 54973,
    "prUrl" : "https://github.com/flutter/flutter/pull/54973#pullrequestreview-394867305",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a8aeaeba-eaa9-48e0-a2fd-e344c238dfa2",
        "parentId" : null,
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Is this line the difference between this PR and https://github.com/flutter/flutter/pull/54909?  I played where's Waldo.",
        "createdAt" : "2020-04-16T17:50:14Z",
        "updatedAt" : "2020-04-16T17:50:18Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "912ace42-b02c-43a7-8bcf-8dc204d959da",
        "parentId" : "a8aeaeba-eaa9-48e0-a2fd-e344c238dfa2",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Yes! sorry :( ",
        "createdAt" : "2020-04-16T17:51:45Z",
        "updatedAt" : "2020-04-16T17:51:45Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "4232deabd4c340cbc73921805b9bb3c6e1ac4541",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +236,240 @@\n  if (buildInfo.dartDefines?.isNotEmpty ?? false) {\n    xcodeBuildSettings.add('DART_DEFINES=${buildInfo.dartDefines.join(',')}');\n  }\n"
  },
  {
    "id" : "69e8c49e-a1cb-411e-87b9-ac6c3266f1da",
    "prId" : 56620,
    "prUrl" : "https://github.com/flutter/flutter/pull/56620#pullrequestreview-408500959",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "05707dac-a78b-43ff-bc83-1da6a4003bde",
        "parentId" : null,
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Important change 2: use the scheme (flavor or default Runner) instead of the target.",
        "createdAt" : "2020-05-08T20:20:09Z",
        "updatedAt" : "2020-05-08T20:20:10Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "cf7386013eea9990c1dd685b919a09d95df417eb",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +329,333 @@      _fileSystem.path.absolute(projectPath),\n      if (scheme != null)\n        ...<String>['-scheme', scheme],\n      '-showBuildSettings',\n      ...environmentVariablesAsXcodeBuildSettings(_platform)"
  },
  {
    "id" : "0ee80520-fc8f-45c2-ac35-3f36009179d2",
    "prId" : 80904,
    "prUrl" : "https://github.com/flutter/flutter/pull/80904#pullrequestreview-642961816",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "87e99c94-782b-4d4d-9fba-abaf5cb650f4",
        "parentId" : null,
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Wrapper around scheme/configuration/type to make it easier to use as a key.",
        "createdAt" : "2021-04-23T06:25:18Z",
        "updatedAt" : "2021-04-23T22:37:36Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "0d9a425b7c864280e3013525c36f51560121238d",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +291,295 @@\n@immutable\nclass XcodeProjectBuildContext {\n  const XcodeProjectBuildContext({this.scheme, this.configuration, this.environmentType = EnvironmentType.physical});\n"
  }
]