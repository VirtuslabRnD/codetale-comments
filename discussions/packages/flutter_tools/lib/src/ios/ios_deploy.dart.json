[
  {
    "id" : "ff3d865e-1823-4e85-a277-866a78ee78d1",
    "prId" : 53385,
    "prUrl" : "https://github.com/flutter/flutter/pull/53385#pullrequestreview-382565198",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b864e3c7-37c1-450f-aab5-7d9fcc9c0f2f",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Does ios-deploy handle cases where the bundle identifiers are the same but the contents are different?",
        "createdAt" : "2020-03-27T01:21:38Z",
        "updatedAt" : "2020-03-27T01:40:34Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "c480385f-c5df-49a5-8990-be0019fcea14",
        "parentId" : "b864e3c7-37c1-450f-aab5-7d9fcc9c0f2f",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "No, I think `--exists` just checks the bundle ID.",
        "createdAt" : "2020-03-27T01:34:21Z",
        "updatedAt" : "2020-03-27T01:40:34Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "1d455983-b01b-456a-9212-f4e6b1c9af83",
        "parentId" : "b864e3c7-37c1-450f-aab5-7d9fcc9c0f2f",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Ahh, I see that for iOS `islatestBuildInstalled is always false. https://github.com/flutter/flutter/blob/1ec2a43672c1d7a5dd9ef3b295b1931956e41782/packages/flutter_tools/lib/src/ios/devices.dart#L145\r\n\r\nNVM, I was slightly confused between the two",
        "createdAt" : "2020-03-27T03:53:36Z",
        "updatedAt" : "2020-03-27T03:53:36Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "ff174d9f5588f688835174ebc15fd134410621bc",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +155,159 @@      environment: iosDeployEnv,\n    );\n    // Device successfully connected, but app not installed.\n    if (result.exitCode == 255) {\n      _logger.printTrace('$bundleId not installed on $deviceId');"
  },
  {
    "id" : "dcb2d487-59b6-4d36-af1a-7cf8f4f86cc8",
    "prId" : 66092,
    "prUrl" : "https://github.com/flutter/flutter/pull/66092#pullrequestreview-491776563",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a95146f-b788-4fdd-92ce-2ccc3e9c3421",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "nit: maybe describe what parts are hard-coded for testing",
        "createdAt" : "2020-09-18T17:44:04Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "952c3385-9fbd-4732-90a7-b35846af6c0a",
        "parentId" : "5a95146f-b788-4fdd-92ce-2ccc3e9c3421",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Done.",
        "createdAt" : "2020-09-18T21:42:12Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4e2b0c37b26b2319395894df60fb84b123520df",
    "line" : 106,
    "diffHunk" : "@@ -1,1 +239,243 @@  /// Sets the command to \"ios-deploy\" and environment to an empty map.\n  @visibleForTesting\n  factory IOSDeployDebugger.test({\n    @required ProcessManager processManager,\n    Logger logger,"
  },
  {
    "id" : "931b9bac-64d6-4b34-84bc-eaef6e47305c",
    "prId" : 66092,
    "prUrl" : "https://github.com/flutter/flutter/pull/66092#pullrequestreview-491750498",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "09e61702-478f-4932-9a1b-f874748f94e5",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "This will fail if ios-deploy is missing right? should we catch the error or let it crash here and solve the problem elsewhere? i.e. startup checks",
        "createdAt" : "2020-09-18T17:45:01Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "d4da0fcd-0e1c-4b49-a802-91edd936312d",
        "parentId" : "09e61702-478f-4932-9a1b-f874748f94e5",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "I think we already have those checks in place with the stamp/artifact download logic, since `ios-deploy` is an artifact we ship ourselves `idevicesyslog`.  Unlike the Xcode tooling where we do lots of install checks.",
        "createdAt" : "2020-09-18T20:16:42Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4e2b0c37b26b2319395894df60fb84b123520df",
    "line" : 221,
    "diffHunk" : "@@ -1,1 +354,358 @@      _debuggerState = _IOSDeployDebuggerState.detached;\n      _debuggerOutput.addError(exception, stackTrace);\n    } on ArgumentError catch (exception, stackTrace) {\n      _logger.printTrace('ios-deploy failed: $exception');\n      _debuggerState = _IOSDeployDebuggerState.detached;"
  },
  {
    "id" : "6b6890bd-0082-4419-b285-7275c3550f59",
    "prId" : 66092,
    "prUrl" : "https://github.com/flutter/flutter/pull/66092#pullrequestreview-491776563",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7aa85318-c6c4-47bd-bb9e-623acc51a28e",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "Can a test only visibility annotation go here?",
        "createdAt" : "2020-09-18T17:48:45Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "5177a0a8-fbb1-47f3-876d-6414469f1e67",
        "parentId" : "7aa85318-c6c4-47bd-bb9e-623acc51a28e",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Good call.",
        "createdAt" : "2020-09-18T20:05:46Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "8828562e-81f0-4d8f-87ed-a33c1807521f",
        "parentId" : "7aa85318-c6c4-47bd-bb9e-623acc51a28e",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Done.",
        "createdAt" : "2020-09-18T21:42:17Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4e2b0c37b26b2319395894df60fb84b123520df",
    "line" : 106,
    "diffHunk" : "@@ -1,1 +239,243 @@  /// Sets the command to \"ios-deploy\" and environment to an empty map.\n  @visibleForTesting\n  factory IOSDeployDebugger.test({\n    @required ProcessManager processManager,\n    Logger logger,"
  },
  {
    "id" : "7348185e-d5a4-4588-9975-f18afaf03482",
    "prId" : 66092,
    "prUrl" : "https://github.com/flutter/flutter/pull/66092#pullrequestreview-491776563",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6bcef415-0632-42ad-b13f-1598fa65a172",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "Does ios-deploy have anything interesting on its stderr when it exits with an error?",
        "createdAt" : "2020-09-18T17:56:58Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "5c2bd6ac-5556-46c0-a065-64224ce3b3ea",
        "parentId" : "6bcef415-0632-42ad-b13f-1598fa65a172",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Some stuff:\r\nhttps://github.com/ios-control/ios-deploy/blob/master/src/ios-deploy/ios-deploy.m#L1741\r\nThough nothing that's probably actionable to the developer.  It's being `printTrace`d a few lines above this.\r\nhttps://github.com/flutter/flutter/pull/66092/files/e91e25e01ffa596f7e60c861b435a9c672a9a29e#diff-8d108d6a887a4f5b74f7c7d77003e795R326\r\n\r\nThey seem to put actionable errors to `stdout` (see `_monitorIOSDeployFailure` parsing below, which existed before this PR).",
        "createdAt" : "2020-09-18T20:08:23Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "b07fcb97-542c-488c-bb70-ad73664fd406",
        "parentId" : "6bcef415-0632-42ad-b13f-1598fa65a172",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Added `_monitorIOSDeployFailure` to the stderr processing in case they move how that's output.  Will add a test.",
        "createdAt" : "2020-09-18T20:56:40Z",
        "updatedAt" : "2020-09-18T21:59:34Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4e2b0c37b26b2319395894df60fb84b123520df",
    "line" : 206,
    "diffHunk" : "@@ -1,1 +339,343 @@        _debuggerState = _IOSDeployDebuggerState.detached;\n        unawaited(stdoutSubscription.cancel());\n        unawaited(stderrSubscription.cancel());\n      }).whenComplete(() async {\n        if (_debuggerOutput.hasListener) {"
  }
]