[
  {
    "id" : "fcf7f3b3-dc54-4b36-b078-ad73be767daf",
    "prId" : 2434,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f7f7ca19-32ba-4698-b884-62b8091bade9",
        "parentId" : null,
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "you could also leave this null and check for that below\n",
        "createdAt" : "2016-03-08T20:15:11Z",
        "updatedAt" : "2016-03-08T23:13:55Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "9cb7001a3911575c6b4e5db4c5f19d080bae6047",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +29,33 @@\n  void _onLine(String line) {\n    int portNumber = 0;\n    if (line.startsWith('Observatory listening on http://')) {\n      try {"
  },
  {
    "id" : "22d331e7-2ea6-433a-aea1-e8e6d7ae99ef",
    "prId" : 2434,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b44c6b03-3537-404f-8cd9-9390b14a27de",
        "parentId" : null,
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "Adb has an issue where it sometimes can't clear logcat. Adam has worked around it, but I think we want to be careful about how we fail here. Perhaps issue a `printError()` instead, and don't try and re-complete the completer?\n",
        "createdAt" : "2016-03-08T20:17:10Z",
        "updatedAt" : "2016-03-08T23:13:55Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "a6b45844-2959-4ac0-aee6-c22900a63404",
        "parentId" : "b44c6b03-3537-404f-8cd9-9390b14a27de",
        "authorId" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "body" : "This can't fail- the asserts are overly paranoid. Multiple 'Observatory ...' messages will result in multiple calls to _located which can't fail. We will need some way to ensure that we aren't reacting to stale / old messages.\n",
        "createdAt" : "2016-03-08T23:03:57Z",
        "updatedAt" : "2016-03-08T23:13:55Z",
        "lastEditedBy" : "5a8dd24e-c20a-4956-a91a-c1198c83ac54",
        "tags" : [
        ]
      },
      {
        "id" : "cba61a73-4947-4828-9125-3152ac6a17da",
        "parentId" : "b44c6b03-3537-404f-8cd9-9390b14a27de",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "Multiple calls to _located would try and complete the completer more than once, which would fail.\n\n> We will need some way to ensure that we aren't reacting to stale / old messages.\n\n+1\n",
        "createdAt" : "2016-03-08T23:08:48Z",
        "updatedAt" : "2016-03-08T23:13:55Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "a90d1575-aedf-4e08-b1e7-07aeb0df35a9",
        "parentId" : "b44c6b03-3537-404f-8cd9-9390b14a27de",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "Nevermind, you create a new `_completer` below\n",
        "createdAt" : "2016-03-08T23:09:19Z",
        "updatedAt" : "2016-03-08T23:13:55Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "9cb7001a3911575c6b4e5db4c5f19d080bae6047",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +46,50 @@  void _located(int port) {\n    assert(_completer != null);\n    assert(!_completer.isCompleted);\n    _completer.complete(port);\n    _completer = new Completer();"
  },
  {
    "id" : "a4a6fcab-5ca3-42fe-b668-be7a05d1d3ea",
    "prId" : 3165,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b63f29f3-7644-47b1-a727-112a6dface99",
        "parentId" : null,
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "Will this print out every time the user runs an app? I'm not sure it's going to be immediately clear to them what the diagnostic server is or does.\n",
        "createdAt" : "2016-04-07T01:36:16Z",
        "updatedAt" : "2016-04-07T01:36:16Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "8991db4f-4dc9-4194-97b3-efd02c969d09",
        "parentId" : "b63f29f3-7644-47b1-a727-112a6dface99",
        "authorId" : "96a98276-7acb-4411-9633-960c20044a6f",
        "body" : "Yes - the diagnostic server needs to notify the tools about its chosen port (similar to the observatory).  I'm assuming that disabling features like this will be one of the differences between deployment and development mode.\n",
        "createdAt" : "2016-04-07T16:42:09Z",
        "updatedAt" : "2016-04-07T16:42:09Z",
        "lastEditedBy" : "96a98276-7acb-4411-9633-960c20044a6f",
        "tags" : [
        ]
      },
      {
        "id" : "8de9bdd4-a1fb-47a5-9530-2ba61228b4db",
        "parentId" : "b63f29f3-7644-47b1-a727-112a6dface99",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "Will the diagnostic server be just for skia related things, or more general diagnostics?\n",
        "createdAt" : "2016-04-07T17:17:05Z",
        "updatedAt" : "2016-04-07T17:17:05Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "328f5183-83f7-4545-ae66-803bf1149745",
        "parentId" : "b63f29f3-7644-47b1-a727-112a6dface99",
        "authorId" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "body" : "I'm just wondering about the text to use here.\n",
        "createdAt" : "2016-04-07T17:17:21Z",
        "updatedAt" : "2016-04-07T17:17:21Z",
        "lastEditedBy" : "0fc1222a-8e68-4923-bf2e-18203f0657f2",
        "tags" : [
        ]
      },
      {
        "id" : "53e02ecb-78ed-4727-b4a8-46c75ee1764c",
        "parentId" : "b63f29f3-7644-47b1-a727-112a6dface99",
        "authorId" : "96a98276-7acb-4411-9633-960c20044a6f",
        "body" : "I envision it being used to expose other debugging features.  But there aren't any other specific features planned right now.\n",
        "createdAt" : "2016-04-07T17:21:21Z",
        "updatedAt" : "2016-04-07T17:21:21Z",
        "lastEditedBy" : "96a98276-7acb-4411-9633-960c20044a6f",
        "tags" : [
        ]
      }
    ],
    "commit" : "262d5995ea5c6e87490f6e9d33d76962306dd5fe",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +10,14 @@class ServiceProtocolDiscovery {\n  static const String kObservatoryService = 'Observatory';\n  static const String kDiagnosticService = 'Diagnostic server';\n\n  /// [logReader] A [DeviceLogReader] to look for service messages in."
  }
]