[
  {
    "id" : "9b9408c7-854c-4128-9853-4c449f0e7579",
    "prId" : 12944,
    "prUrl" : "https://github.com/flutter/flutter/pull/12944#pullrequestreview-76451314",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aafde742-a4de-4e02-a50a-27454a6a6dc8",
        "parentId" : null,
        "authorId" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "body" : "Not `build_dir`?",
        "createdAt" : "2017-11-13T20:14:38Z",
        "updatedAt" : "2017-12-13T19:39:44Z",
        "lastEditedBy" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "tags" : [
        ]
      },
      {
        "id" : "fa2c3e08-16b8-4b75-8ca9-a8385a093042",
        "parentId" : "aafde742-a4de-4e02-a50a-27454a6a6dc8",
        "authorId" : "1d4cf407-442a-4b68-b821-f68c5e59c50e",
        "body" : "Nope, I am however considering renaming the option to `assets-dir` when doing the FLX removal cleanup.",
        "createdAt" : "2017-11-14T08:47:14Z",
        "updatedAt" : "2017-12-13T19:39:44Z",
        "lastEditedBy" : "1d4cf407-442a-4b68-b821-f68c5e59c50e",
        "tags" : [
        ]
      },
      {
        "id" : "5b393126-e526-4b68-bac7-b02fb0981838",
        "parentId" : "aafde742-a4de-4e02-a50a-27454a6a6dc8",
        "authorId" : "dacba9b5-733a-4327-87ba-af0a979de161",
        "body" : "Rename sgtm. And the reason we're putting this in `derived_dir` rather than `build_dir` is that we need to reference it from `project.pbxproj` (like the current `app.flx`, `App.framework`, etc.), right?",
        "createdAt" : "2017-11-14T10:28:40Z",
        "updatedAt" : "2017-12-13T19:39:44Z",
        "lastEditedBy" : "dacba9b5-733a-4327-87ba-af0a979de161",
        "tags" : [
        ]
      },
      {
        "id" : "9cdcf665-ee7a-4877-a7e3-6af210aaeb94",
        "parentId" : "aafde742-a4de-4e02-a50a-27454a6a6dc8",
        "authorId" : "1d4cf407-442a-4b68-b821-f68c5e59c50e",
        "body" : "Yes, exactly. Should have added that, sorry.",
        "createdAt" : "2017-11-14T14:10:37Z",
        "updatedAt" : "2017-12-13T19:39:44Z",
        "lastEditedBy" : "1d4cf407-442a-4b68-b821-f68c5e59c50e",
        "tags" : [
        ]
      }
    ],
    "commit" : "8e87f35d9d1a5aa571d98f1ca213ec02227f3172",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +137,141 @@    --snapshot=\"${build_dir}/snapshot_blob.bin\"                           \\\n    --depfile=\"${build_dir}/snapshot_blob.bin.d\"                          \\\n    --working-dir=\"${derived_dir}/flutter_assets\"                         \\\n    ${precompilation_flag}                                                \\\n    ${local_engine_flag}                                                  \\"
  },
  {
    "id" : "9dcc9963-1efb-42ca-ac99-6b641f891441",
    "prId" : 15565,
    "prUrl" : "https://github.com/flutter/flutter/pull/15565#pullrequestreview-104232697",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bc55c2be-59f3-4e5c-9857-bc8c4b9380b9",
        "parentId" : null,
        "authorId" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "body" : "Due to the commit message I thought that this CL switches `--preview-dart-2` on by-default. Now here the `else` branch is the default which **switches it explicitly off** by-default. Why is that?",
        "createdAt" : "2018-03-15T13:00:13Z",
        "updatedAt" : "2018-03-16T17:18:09Z",
        "lastEditedBy" : "3bd4879d-8ad5-4053-ab97-f5d0b89df535",
        "tags" : [
        ]
      },
      {
        "id" : "63f25283-3300-43d5-8d28-473b5ee75bd9",
        "parentId" : "bc55c2be-59f3-4e5c-9857-bc8c4b9380b9",
        "authorId" : "45727d35-317d-432d-b0c6-83fc042c0c8a",
        "body" : "The option is passed by flutter tools from the outside. This shell script is never used on its own.",
        "createdAt" : "2018-03-15T14:45:30Z",
        "updatedAt" : "2018-03-16T17:18:09Z",
        "lastEditedBy" : "45727d35-317d-432d-b0c6-83fc042c0c8a",
        "tags" : [
        ]
      }
    ],
    "commit" : "b36df76a7a2077a63df3e7125433cfad0eaf591e",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +103,107 @@    preview_dart_2_flag=\"--preview-dart-2\"\n  else\n    preview_dart_2_flag=\"--no-preview-dart-2\"\n  fi\n"
  },
  {
    "id" : "2a0c737b-4b50-4972-ac64-9134abe73938",
    "prId" : 22540,
    "prUrl" : "https://github.com/flutter/flutter/pull/22540#pullrequestreview-160815237",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5544a91a-8551-49bc-adb5-6bd1541d76e2",
        "parentId" : null,
        "authorId" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "body" : "totally nit-picking: The comment here is confusing to me. It's not a complete sentence. s/Placing/Place/ would fix the grammar, but I think it might be best to phrase the thing backwards: \"Xcode uses Spotlight to find files when uploading them to the App store, and gets confused if it finds dSYM files when doing so. To avoid this, we place the dSYM files in a folder ending with \".noindex\", which disables spotlight. See: \\<link to radar>\"",
        "createdAt" : "2018-10-02T16:29:48Z",
        "updatedAt" : "2018-10-02T16:40:22Z",
        "lastEditedBy" : "9b5a6de7-1648-432f-a400-7a47bea935d8",
        "tags" : [
        ]
      },
      {
        "id" : "93d71a35-02b5-40c2-bf7e-42923fe172a2",
        "parentId" : "5544a91a-8551-49bc-adb5-6bd1541d76e2",
        "authorId" : "e51c798e-576f-47fe-bcd8-577d78e2a5a1",
        "body" : "Maybe even more specifically:\r\nXcode uses Spotlight metadata to locate (by GUID) the dSYM associated with each framework embedded in the app to be uploaded to the App Store. If the dSYM cannot be found, the upload fails with an error when 'upload with symbols' is set. To hide the dSYM from spotlight, we place it in a directory ending in '.noindex', which disables spotlight.\r\n\r\nFor the radar, search on [openradar](https://openradar.appspot.com/page/1) first, then file one and copy-paste into openradar if you can't find one.",
        "createdAt" : "2018-10-02T16:38:20Z",
        "updatedAt" : "2018-10-02T16:40:22Z",
        "lastEditedBy" : "e51c798e-576f-47fe-bcd8-577d78e2a5a1",
        "tags" : [
        ]
      }
    ],
    "commit" : "fd587ac857b6a2c363fc5a5b9ac39cfdee0c77c1",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +153,157 @@    # which hides it from Spotlight, https://github.com/flutter/flutter/issues/22560.\n    mkdir \"${build_dir}/dSYMs.noindex\"\n    RunCommand xcrun dsymutil -o \"${build_dir}/dSYMs.noindex/App.framework.dSYM\" \"${app_framework}/App\"\n    if [[ $? -ne 0 ]]; then\n      EchoError \"Failed to generate debug symbols (dSYM) file for ${app_framework}/App.\""
  },
  {
    "id" : "0477a85b-181f-499c-8b87-3597c6be836e",
    "prId" : 23387,
    "prUrl" : "https://github.com/flutter/flutter/pull/23387#pullrequestreview-167198638",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7ee0388e-49ab-4e74-89a9-98b153fa2f38",
        "parentId" : null,
        "authorId" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "body" : "This seems really implicit and would cause issues with flavors https://medium.com/@salvatoregiordanoo/flavoring-flutter-392aaa875f36. \r\n\r\nWhile you're here, I think it would be great if the flavors mechanism could be documented somewhere in https://flutter.io/docs/ if priorities could work. (So you can append to that doc the fact that you if create custom schemes / build configs, a $FLUTTER_BUILD_MODE variable needs to be defined or passed in)",
        "createdAt" : "2018-10-23T03:15:03Z",
        "updatedAt" : "2018-10-24T00:32:19Z",
        "lastEditedBy" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "tags" : [
        ]
      },
      {
        "id" : "0a285b06-83cb-4a77-bf92-ffc3952855d0",
        "parentId" : "7ee0388e-49ab-4e74-89a9-98b153fa2f38",
        "authorId" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "body" : "Flavors would already have issues with the current system, but they'd be hidden by the fact that you'd be left with whatever `$FLUTTER_BUILD_MODE` was set from the last time you ran from the command line.  I agree this needs to be documented, but I'm not sure if we can really do much more to help flavors. ",
        "createdAt" : "2018-10-23T03:26:59Z",
        "updatedAt" : "2018-10-24T00:32:19Z",
        "lastEditedBy" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "tags" : [
        ]
      }
    ],
    "commit" : "2c8a3dba718237cdbeb0a13b884c0b8b2099eaa5",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +50,54 @@  # This means that if someone wants to use an Xcode build config other than Debug/Profile/Release,\n  # they _must_ set FLUTTER_BUILD_MODE so we know what type of artifact to build.\n  local build_mode=\"$(echo \"${FLUTTER_BUILD_MODE:-${CONFIGURATION}}\" | tr \"[:upper:]\" \"[:lower:]\")\"\n  local artifact_variant=\"unknown\"\n  case \"$build_mode\" in"
  },
  {
    "id" : "a180ccf5-6be5-4c4b-9f59-6a4ec1684fa2",
    "prId" : 23387,
    "prUrl" : "https://github.com/flutter/flutter/pull/23387#pullrequestreview-167720359",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "845b0317-7e02-488e-9fb6-dc198f99b1cd",
        "parentId" : null,
        "authorId" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "body" : "Add a little blurb about how to fix it. e.g. go to the schema/build config for the config in question and add a corresponding FLUTTER_BUILD_MODE ",
        "createdAt" : "2018-10-23T21:54:55Z",
        "updatedAt" : "2018-10-24T00:32:19Z",
        "lastEditedBy" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "tags" : [
        ]
      },
      {
        "id" : "7a43020c-f1ce-4d82-8cc2-98afa1e72a3a",
        "parentId" : "845b0317-7e02-488e-9fb6-dc198f99b1cd",
        "authorId" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "body" : "Done",
        "createdAt" : "2018-10-24T03:46:33Z",
        "updatedAt" : "2018-10-24T03:46:33Z",
        "lastEditedBy" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "tags" : [
        ]
      }
    ],
    "commit" : "2c8a3dba718237cdbeb0a13b884c0b8b2099eaa5",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +66,70 @@      EchoError \"configuration, or adding an appriate value for FLUTTER_BUILD_MODE to the\"\n      EchoError \".xcconfig file for the current build configuration (${CONFIGURATION}).\"\n      EchoError \"========================================================================\"\n      exit -1;;\n  esac"
  },
  {
    "id" : "15ace810-b768-480c-83b6-2a14012c3f04",
    "prId" : 23387,
    "prUrl" : "https://github.com/flutter/flutter/pull/23387#pullrequestreview-167720342",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "451d91de-d549-440e-9e1f-1cae99c896be",
        "parentId" : null,
        "authorId" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "body" : "Since there are 2 modes being referred here, make every reference to a mode specific. In your first paragraph, specify 'does not support running the Flutter program in profile or release mode' etc. \r\n\r\nIn the second paragraph, specifiy in the .xcconfig of your selected build config. ",
        "createdAt" : "2018-10-23T22:01:03Z",
        "updatedAt" : "2018-10-24T00:32:19Z",
        "lastEditedBy" : "291e083f-dfb6-49b2-b8f5-2f0ce7f9b936",
        "tags" : [
        ]
      },
      {
        "id" : "1200e20b-1509-411b-8d64-68d132d527d2",
        "parentId" : "451d91de-d549-440e-9e1f-1cae99c896be",
        "authorId" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "body" : "Done",
        "createdAt" : "2018-10-24T03:46:26Z",
        "updatedAt" : "2018-10-24T03:46:26Z",
        "lastEditedBy" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "tags" : [
        ]
      }
    ],
    "commit" : "2c8a3dba718237cdbeb0a13b884c0b8b2099eaa5",
    "line" : 94,
    "diffHunk" : "@@ -1,1 +155,159 @@      EchoError \"ERROR: Flutter does not support running in profile or release mode on\"\n      EchoError \"the Simulator (this build was: '$build_mode').\"\n      EchoError \"You can ensure Flutter runs in Debug mode with your host app in release\"\n      EchoError \"mode by setting FLUTTER_BUILD_MODE=debug in the .xcconfig associated\"\n      EchoError \"with the ${CONFIGURATION} build configuration.\""
  },
  {
    "id" : "e17822d6-0caa-4368-9485-08bb567eef87",
    "prId" : 27374,
    "prUrl" : "https://github.com/flutter/flutter/pull/27374#pullrequestreview-202977186",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "85bfab9f-0d55-431f-be05-2edf44418171",
        "parentId" : null,
        "authorId" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "body" : "Shouldn't you set the `FLUTTER_ALREADY_LOCKED` environment variable here?",
        "createdAt" : "2019-02-09T03:41:06Z",
        "updatedAt" : "2019-02-12T18:36:41Z",
        "lastEditedBy" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "tags" : [
        ]
      },
      {
        "id" : "51b25055-f375-4e58-beea-f743b02ed0ea",
        "parentId" : "85bfab9f-0d55-431f-be05-2edf44418171",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Isn't that handled via the tool? I don't observe any ill effects when launching runner directly with a clean cache. Or would this only come up if we started in the tool and then ended up needing additional artifacts from the cache in xcode...",
        "createdAt" : "2019-02-12T22:04:29Z",
        "updatedAt" : "2019-02-12T22:04:29Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "0a841574-8835-4ae0-b1d3-aabea265f98b",
        "parentId" : "85bfab9f-0d55-431f-be05-2edf44418171",
        "authorId" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "body" : "Spawning a `flutter` invocation from the tool can cause the reentrant invocation to try to acquire a cache lock, when the master invocation has already acquired the lock.  Setting that environment variable tells the reentrant invocation to skip the lock acquisition.  We have API for this in `process.dart`... maybe it's possible that the code that spawns the `xcode_backend.sh` process is already setting this environment variable, so the reentrant `flutter` process inherits it?  Either way, seems like it'd be safer to just explicitly set it here.",
        "createdAt" : "2019-02-12T23:10:28Z",
        "updatedAt" : "2019-02-12T23:10:29Z",
        "lastEditedBy" : "1dc608b7-5634-49db-a2de-36dd357356e8",
        "tags" : [
        ]
      },
      {
        "id" : "4ea45907-5361-4e9a-a0f7-9b2ccd2170af",
        "parentId" : "85bfab9f-0d55-431f-be05-2edf44418171",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Added here: https://github.com/flutter/flutter/pull/27735/commits/b370ec83a65c4be9b08496fd3538819e26f3f1ae",
        "createdAt" : "2019-02-13T00:22:58Z",
        "updatedAt" : "2019-02-13T00:22:58Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "14ebd153811e31f13c23dabb2043860f819e935a",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +120,124 @@  # If the framework path does not exist, ensure that it is downloaded.\n  if [[ ! -e \"$1\" ]]; then\n    RunCommand \"${FLUTTER_ROOT}/bin/flutter\" precache --suppress-analytics\n  fi\n"
  },
  {
    "id" : "12c2338f-4725-4e94-9d9b-f13715afd747",
    "prId" : 27691,
    "prUrl" : "https://github.com/flutter/flutter/pull/27691#pullrequestreview-201777090",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ec896a9f-a159-4930-ad8d-3f4cb1c7115a",
        "parentId" : null,
        "authorId" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "body" : "What are the actual possible values for the FLUTTER_BUILD_MODE here?  Seems like it would be better to do something like:\r\n\r\n```bash\r\n  foo-release* | bar-release*) ...;;\r\n```\r\n\r\nSo that we would catch invalid prefixes that still include \"release\" in the name.\r\n",
        "createdAt" : "2019-02-08T19:18:09Z",
        "updatedAt" : "2019-02-08T19:18:20Z",
        "lastEditedBy" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "tags" : [
        ]
      },
      {
        "id" : "0c361e40-360b-4ce5-b10e-89b513646a8b",
        "parentId" : "ec896a9f-a159-4930-ad8d-3f4cb1c7115a",
        "authorId" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "body" : "FLUTTER_BUILD_MODE isn't always set.  And CONFIGURATION comes through with a user defined prefix if flavors are used, but I'm not 100% sure about how to detect them.  TARGETNAME seems to be it, but that also gets set to Runner and I don't think we should special case that name in case someone uses it for an Add2App target",
        "createdAt" : "2019-02-08T19:22:41Z",
        "updatedAt" : "2019-02-08T19:22:41Z",
        "lastEditedBy" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "tags" : [
        ]
      },
      {
        "id" : "4bdee95b-c280-4b69-b6fe-9cff3012478c",
        "parentId" : "ec896a9f-a159-4930-ad8d-3f4cb1c7115a",
        "authorId" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "body" : "OK, I guess this works.  It just seems a bit broader than it needs to be.",
        "createdAt" : "2019-02-08T20:39:44Z",
        "updatedAt" : "2019-02-08T20:39:44Z",
        "lastEditedBy" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "tags" : [
        ]
      },
      {
        "id" : "a6197d30-90e0-4894-8271-740d9d89aa52",
        "parentId" : "ec896a9f-a159-4930-ad8d-3f4cb1c7115a",
        "authorId" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "body" : "@xster  or @cbracken is there some other env var I could be checking for this?  I didn't see one that looked reliable enough.",
        "createdAt" : "2019-02-08T20:43:12Z",
        "updatedAt" : "2019-02-08T20:43:13Z",
        "lastEditedBy" : "db47316c-0a85-441a-8891-3b84e8bfe474",
        "tags" : [
        ]
      }
    ],
    "commit" : "ef3555039d7a9518f44eda58deca912c0fbb54f0",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +53,57 @@  local artifact_variant=\"unknown\"\n  case \"$build_mode\" in\n    *release*) build_mode=\"release\"; artifact_variant=\"ios-release\";;\n    *profile*) build_mode=\"profile\"; artifact_variant=\"ios-profile\";;\n    *debug*) build_mode=\"debug\"; artifact_variant=\"ios\";;"
  },
  {
    "id" : "419118b0-4810-439b-a33b-1a82884ae64b",
    "prId" : 27765,
    "prUrl" : "https://github.com/flutter/flutter/pull/27765#pullrequestreview-202993480",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4b1492b7-136c-40fa-bee2-7906b539389d",
        "parentId" : null,
        "authorId" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "body" : "I think a better name would be `LOCAL_ENGINE_SRC_PATH`, to have it match the argument name.",
        "createdAt" : "2019-02-11T16:58:42Z",
        "updatedAt" : "2019-02-14T14:51:34Z",
        "lastEditedBy" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "tags" : [
        ]
      },
      {
        "id" : "e717b080-1116-4154-a445-a47fe0aa9af0",
        "parentId" : "4b1492b7-136c-40fa-bee2-7906b539389d",
        "authorId" : "1d025e0c-ca1e-40d8-a6b3-d4dea6b8dc43",
        "body" : "As specified in https://github.com/flutter/flutter/wiki/The-flutter-tool , \r\n```\r\nUsing a locally-built engine with the flutter tool\r\nYou can also set the environment variable $FLUTTER_ENGINE instead of specifying --local-engine-src-path.\r\n```\r\nI want to use the unified concept.",
        "createdAt" : "2019-02-12T03:43:57Z",
        "updatedAt" : "2019-02-14T14:51:34Z",
        "lastEditedBy" : "1d025e0c-ca1e-40d8-a6b3-d4dea6b8dc43",
        "tags" : [
        ]
      },
      {
        "id" : "d6812ada-b1fe-4ed0-a7c0-26490e74eefa",
        "parentId" : "4b1492b7-136c-40fa-bee2-7906b539389d",
        "authorId" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "body" : "Ahh, yes, I forgot that was historical.  Ok.",
        "createdAt" : "2019-02-13T01:32:31Z",
        "updatedAt" : "2019-02-14T14:51:34Z",
        "lastEditedBy" : "fd82dff4-bfc7-4076-8507-e7e4521446f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "b421aff4cc1db147a4d5d9bb35f0f3c6a914a775",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +102,106 @@  local flutter_podspec=\"${framework_path}/Flutter.podspec\"\n\n  if [[ -n \"$FLUTTER_ENGINE\" ]]; then\n    flutter_engine_flag=\"--local-engine-src-path=${FLUTTER_ENGINE}\"\n  fi"
  }
]