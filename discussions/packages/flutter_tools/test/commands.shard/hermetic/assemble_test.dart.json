[
  {
    "id" : "48b976be-9d34-4102-ac96-38383039d9af",
    "prId" : 44468,
    "prUrl" : "https://github.com/flutter/flutter/pull/44468#pullrequestreview-315737197",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cf222158-48d5-44f9-be85-df4d18537b9c",
        "parentId" : null,
        "authorId" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "body" : "Why didn't `setUpAll()` work?",
        "createdAt" : "2019-11-12T17:51:37Z",
        "updatedAt" : "2019-11-12T17:51:42Z",
        "lastEditedBy" : "5acfd23a-9807-467c-8f5c-9b4c4052927b",
        "tags" : [
        ]
      },
      {
        "id" : "5663680e-e272-4b61-ad67-24be09d68298",
        "parentId" : "cf222158-48d5-44f9-be85-df4d18537b9c",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "I couldn't figure this one out. I think it was a combination of issues and this change was unnecessary. ",
        "createdAt" : "2019-11-12T18:09:57Z",
        "updatedAt" : "2019-11-12T18:09:57Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "856cdf29dbc85f1e99ef75e6bf8ba26a5c45ecd2",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +19,23 @@  Testbed testbed;\n  MockBuildSystem mockBuildSystem;\n  Cache.disableLocking();\n\n  setUp(() {"
  },
  {
    "id" : "0e6d8e87-f51a-4692-a744-1a0cf46b315d",
    "prId" : 44488,
    "prUrl" : "https://github.com/flutter/flutter/pull/44488#pullrequestreview-315268084",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e83095b8-b311-46eb-b186-4a74d1ef6b8f",
        "parentId" : null,
        "authorId" : "26bed5e6-ee43-49f6-93fd-a565b3ee8889",
        "body" : "For my own understanding, how is testbed different than using `testUsingContext`?  ",
        "createdAt" : "2019-11-11T21:01:49Z",
        "updatedAt" : "2019-11-11T21:01:50Z",
        "lastEditedBy" : "26bed5e6-ee43-49f6-93fd-a565b3ee8889",
        "tags" : [
        ]
      },
      {
        "id" : "775c1c5f-f6ed-4d61-bcd0-7089c84735ea",
        "parentId" : "e83095b8-b311-46eb-b186-4a74d1ef6b8f",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Testbed allows you to supply a setup function which is invoked in the same Zone that the test case is run in. This means that the zone injected values will be exactly the same (logger, fs, buildSystem).\r\n\r\nThe only way to do this setup with test usingContext is to use top levels initialized in setup and the test case. This requires plumbing values between various setup functions and the test callbacks, which is where nullability issues creep in.",
        "createdAt" : "2019-11-11T21:30:05Z",
        "updatedAt" : "2019-11-11T21:30:05Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "f3be5bc9-fb2c-468b-83d6-0312b8365ed1",
        "parentId" : "e83095b8-b311-46eb-b186-4a74d1ef6b8f",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Additionally, running it in the same zone allows you to use the same affordances for setup that you would otherwise use for programming. Example:\r\n\r\n### before \r\n```\r\nFileSystem fileSystem;\r\n\r\nsetUp(() {\r\n  fileSystem = MemoryFileSystem(fileSystemStyle: ...);\r\n  fileSystem.file('a').createSync();\r\n});\r\n\r\ntestUsingContext('a exists', () {\r\n  expect(fs.file('a).existsSync(), true);\r\n}, overrides: <Type, Generator>{\r\n  FileSystem: () => fileSystem,\r\n}\r\n```\r\n\r\n### after\r\n```\r\nTestbed testbed = Testbed(setup: () {\r\n  fs.file('a').createSync();\r\n});\r\n\r\ntestbed.test('a exists, () {\r\n  expect(fs.file('a).existsSync(), true);\r\n});\r\n```",
        "createdAt" : "2019-11-12T02:48:26Z",
        "updatedAt" : "2019-11-12T02:48:26Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "60a29da426732c0adbfe293802a85ecd8d532087",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +23,27 @@  });\n\n  testbed.test('Can run a build', () async {\n    when(buildSystem.build(any, any, buildSystemConfig: anyNamed('buildSystemConfig')))\n      .thenAnswer((Invocation invocation) async {"
  }
]