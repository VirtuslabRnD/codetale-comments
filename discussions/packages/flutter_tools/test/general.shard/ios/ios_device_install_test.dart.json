[
  {
    "id" : "f5a9ea57-c494-4dc6-9fe1-39357d8ea6ef",
    "prId" : 52891,
    "prUrl" : "https://github.com/flutter/flutter/pull/52891#pullrequestreview-378007180",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9197f690-6797-4fc7-b809-42ec79ed9aed",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "We could eventually put these helpers in a new file somewhere. I think its a lot easier to track what is going on versus the `setUp` callbacks",
        "createdAt" : "2020-03-19T16:56:13Z",
        "updatedAt" : "2020-03-19T16:56:14Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "14f10149-dcda-408a-84a3-ce9af373b9f0",
        "parentId" : "9197f690-6797-4fc7-b809-42ec79ed9aed",
        "authorId" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "body" : "I'm not a big fan of having test helpers in another file, I find it makes it less obvious (more magical) all the internals of the test objects, and it if it's shared, it becomes difficult if a new test file needs slightly different behavior.",
        "createdAt" : "2020-03-19T17:16:57Z",
        "updatedAt" : "2020-03-19T17:16:58Z",
        "lastEditedBy" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "tags" : [
        ]
      },
      {
        "id" : "90fcf472-4d0a-4d0b-a8f0-d455fc590cba",
        "parentId" : "9197f690-6797-4fc7-b809-42ec79ed9aed",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Yeah, thats a good point. How do you feel about the `.test` constructors? Seems like that avoids some of the mystery?",
        "createdAt" : "2020-03-19T17:21:44Z",
        "updatedAt" : "2020-03-19T17:21:44Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "506bf608-66d0-4a5d-9e79-262c65f5de95",
        "parentId" : "9197f690-6797-4fc7-b809-42ec79ed9aed",
        "authorId" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "body" : "Yeah, they're very readable. It seems unfortunate to have to put test code in the source, but maybe a necessary evil.",
        "createdAt" : "2020-03-19T17:26:53Z",
        "updatedAt" : "2020-03-19T17:26:53Z",
        "lastEditedBy" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "tags" : [
        ]
      },
      {
        "id" : "40cf1c40-74ad-48d8-953b-805d657a5bf6",
        "parentId" : "9197f690-6797-4fc7-b809-42ec79ed9aed",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Personally I prefer these in `setUp`.  Anyone familiar with dart code or general unit testing can understand `setUp` and know where to look for it, but no one except a Flutter tool developer who has read this code before knows what `setUpIOSDevice` is without clicking through to see where it is.  (Intellectually, not literally) it's like making a little utility class wrapping 2 lines of code that only Flutter tool engineers understand without clicking through and reading, instead of using standard library calls that all dart developers understand.\r\n\r\nThat being said, it's not a big deal and I'll defer to the group.  Why do _you_ find it a lot easier to track it in a method?",
        "createdAt" : "2020-03-19T18:37:54Z",
        "updatedAt" : "2020-03-19T18:37:54Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "de5929e1-3099-4246-9c74-dac9104e817a",
        "parentId" : "9197f690-6797-4fc7-b809-42ec79ed9aed",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "My concern with setUp is that it starts out okay for small files but really doesn't scale as they inevitable get bigger. Once more helper functions get introduced, and these get nested within the group/setUp/test scope somewhere, it makes it very difficult to determine the initialization order.\r\n\r\nI don't know if hoisting the helper functions to the top level scope is necessarily the best solution, but it does make the test easier to read\r\n",
        "createdAt" : "2020-03-19T18:42:01Z",
        "updatedAt" : "2020-03-19T18:42:01Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "40a6f9cd-e5d2-43bd-bd79-91535afdacb2",
        "parentId" : "9197f690-6797-4fc7-b809-42ec79ed9aed",
        "authorId" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "body" : "I think if we avoid both nesting `group()`s and global (i.e. not in a group) `setUp()`s, the tests would be a lot more manageable.",
        "createdAt" : "2020-03-19T18:56:20Z",
        "updatedAt" : "2020-03-19T18:56:20Z",
        "lastEditedBy" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "tags" : [
        ]
      }
    ],
    "commit" : "3a91d5335723057b5cef93b6ab35f7d1b7e28a49",
    "line" : 153,
    "diffHunk" : "@@ -1,1 +151,155 @@}\n\nIOSDevice setUpIOSDevice({\n  @required ProcessManager processManager,\n  FileSystem fileSystem,"
  }
]