[
  {
    "id" : "16751206-6171-4f6f-9d7f-f4a09b6912d7",
    "prId" : 43915,
    "prUrl" : "https://github.com/flutter/flutter/pull/43915#pullrequestreview-310170690",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c9d57afe-097e-47b7-b2f8-a7eb322e9e51",
        "parentId" : null,
        "authorId" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "body" : "wow, does this verify that an assignment happened? I didn't know you could do that.",
        "createdAt" : "2019-10-31T20:36:35Z",
        "updatedAt" : "2019-11-01T19:28:18Z",
        "lastEditedBy" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "tags" : [
        ]
      },
      {
        "id" : "008ca97d-a64f-408d-9c8e-9ff47c6ed769",
        "parentId" : "c9d57afe-097e-47b7-b2f8-a7eb322e9e51",
        "authorId" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "body" : "Seems to.  From the mockito docs:\r\n```\r\n// You can verify setters.\r\ncat.lives = 9;\r\nverify(cat.lives=9);\r\n```",
        "createdAt" : "2019-10-31T20:41:04Z",
        "updatedAt" : "2019-11-01T19:28:18Z",
        "lastEditedBy" : "7aa08a6b-0a3c-421c-b2e6-22899e9af9e4",
        "tags" : [
        ]
      },
      {
        "id" : "8dfd168d-8338-4d58-a3c5-51ad4f73bd92",
        "parentId" : "c9d57afe-097e-47b7-b2f8-a7eb322e9e51",
        "authorId" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "body" : "I've skimmed that README many times and yet seem to have missed that. Cool.",
        "createdAt" : "2019-10-31T20:43:38Z",
        "updatedAt" : "2019-11-01T19:28:18Z",
        "lastEditedBy" : "7ae842f7-1029-4528-8bf6-8472584744ed",
        "tags" : [
        ]
      }
    ],
    "commit" : "dfae97b367b8637b2566a956de6948702fc6d1bf",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +641,645 @@\n    await flutterDevice.connect();\n    verify(mockLogReader.connectedVMServices = <VMService>[ mockVMService ]);\n  }, overrides: <Type, Generator>{\n    VMServiceConnector: () => (Uri httpUri, { ReloadSources reloadSources, Restart restart, CompileExpression compileExpression, io.CompressionOptions compression }) async => mockVMService,"
  },
  {
    "id" : "e7f604a8-a09d-40d7-9434-3d8fe1efb924",
    "prId" : 50034,
    "prUrl" : "https://github.com/flutter/flutter/pull/50034#pullrequestreview-353102908",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "19ad4f7f-b973-4efd-bbcf-dab3e584a992",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Does this need to write something to the logger first? I'm not sure what terminal.clear screen actually does in tests...",
        "createdAt" : "2020-02-03T20:56:33Z",
        "updatedAt" : "2020-02-05T21:25:07Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "2459baa4-da3d-4177-9bc1-341f0d38a2d1",
        "parentId" : "19ad4f7f-b973-4efd-bbcf-dab3e584a992",
        "authorId" : "cb307bee-bad3-4ec2-8529-7fc45a67a8ee",
        "body" : "I wasn't sure either, but the test output clears and it's marked as \"passed\", so I guess it works. ",
        "createdAt" : "2020-02-03T20:58:56Z",
        "updatedAt" : "2020-02-05T21:25:07Z",
        "lastEditedBy" : "cb307bee-bad3-4ec2-8529-7fc45a67a8ee",
        "tags" : [
        ]
      },
      {
        "id" : "322ae9ae-da20-4555-99d8-cf04765d0bbb",
        "parentId" : "19ad4f7f-b973-4efd-bbcf-dab3e584a992",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "It sounds like it is clearing the actual test runner screen? That is probably not what we want to do. In this case, I would instead inject a mock Stdio and assert that the correct method is called",
        "createdAt" : "2020-02-03T21:01:33Z",
        "updatedAt" : "2020-02-05T21:25:07Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "b3a55027-8c26-465d-9e5e-da2669df7a6d",
        "parentId" : "19ad4f7f-b973-4efd-bbcf-dab3e584a992",
        "authorId" : "cb307bee-bad3-4ec2-8529-7fc45a67a8ee",
        "body" : "It's a bit odd behavior, (at least on Windows, ) it \"clears\" the test screen, but really it's just pushed up to the top of the screen -- you can scroll right back up to see it again. \r\n\r\nAs for mocking, `testLogger` is provided by this code (`test/lib/src/context.dart`)\r\n\r\n```dart\r\n/// Return the test logger. This assumes that the current Logger is a BufferLogger.\r\nBufferLogger get testLogger => context.get<Logger>() as BufferLogger;\r\n```\r\n\r\nSo, I changed `clearScreen` from: \r\n\r\n```dart\r\n// Clears the screen.\r\nvoid clearScreen() => globals.stdio.stdoutWrite(globals.terminal.clearScreen() + '\\n');\r\n```\r\nto:\r\n \r\n```dart\r\n// Clears the screen.\r\nvoid clearScreen([BufferLogger logger]) => logger == null\r\n  ? globals.stdio.stdoutWrite(globals.terminal.clearScreen() + '\\n')\r\n  : logger.clear();\r\n```\r\n\r\nAnd then changed the tests to a test that looks like this, and it passed:\r\n```dart\r\nresidentRunner.clearScreen(testLogger);\r\nexpect(testLogger.statusText, equals(''));\r\n```",
        "createdAt" : "2020-02-04T16:09:29Z",
        "updatedAt" : "2020-02-05T21:25:07Z",
        "lastEditedBy" : "cb307bee-bad3-4ec2-8529-7fc45a67a8ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "f1d09ad307423b075c268e5fa17b6145c74d7542",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +429,433 @@    testLogger.printStatus(message);\n    expect(testLogger.statusText, equals(message + '\\n'));  // printStatus makes a newline\n    residentRunner.clearScreen();\n    expect(testLogger.statusText, equals(''));\n  }));"
  },
  {
    "id" : "38bfca59-1ce2-40b6-a79e-e7a72441de8d",
    "prId" : 50034,
    "prUrl" : "https://github.com/flutter/flutter/pull/50034#pullrequestreview-354032202",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d7bbe918-ec77-4623-ab1b-6af10633ebb5",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "I believe the logger is already the testLogger here, so you shouldn't need to provide it at all",
        "createdAt" : "2020-02-04T21:03:00Z",
        "updatedAt" : "2020-02-05T21:25:08Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "526e7f48-b785-4209-83d7-88eb7b5aaa4f",
        "parentId" : "d7bbe918-ec77-4623-ab1b-6af10633ebb5",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "Though you should assert that the BufferLogger clear is called somehow",
        "createdAt" : "2020-02-04T21:04:21Z",
        "updatedAt" : "2020-02-05T21:25:08Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "0300476b-ed3f-4a60-b582-ee392350c75b",
        "parentId" : "d7bbe918-ec77-4623-ab1b-6af10633ebb5",
        "authorId" : "cb307bee-bad3-4ec2-8529-7fc45a67a8ee",
        "body" : "About asserting the call is actually made, shouldn't `expect(testLogger.statusText, equals(''));` be enough? After all, that's the practical effect we want to achieve. ",
        "createdAt" : "2020-02-05T03:49:31Z",
        "updatedAt" : "2020-02-05T21:25:08Z",
        "lastEditedBy" : "cb307bee-bad3-4ec2-8529-7fc45a67a8ee",
        "tags" : [
        ]
      },
      {
        "id" : "b337626a-6106-490e-be6c-482244e8f4fc",
        "parentId" : "d7bbe918-ec77-4623-ab1b-6af10633ebb5",
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "but was there anything in the logger before you cleared it?",
        "createdAt" : "2020-02-05T06:02:55Z",
        "updatedAt" : "2020-02-05T21:25:08Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      },
      {
        "id" : "7c7c2bc2-47a9-4e93-b527-704e2256c3fe",
        "parentId" : "d7bbe918-ec77-4623-ab1b-6af10633ebb5",
        "authorId" : "cb307bee-bad3-4ec2-8529-7fc45a67a8ee",
        "body" : "You're right, `testLogger` was previously empty. I added a new commit which first writes a message and then checks that it was there before being cleared, and that it's gone after.",
        "createdAt" : "2020-02-05T20:52:55Z",
        "updatedAt" : "2020-02-05T21:25:08Z",
        "lastEditedBy" : "cb307bee-bad3-4ec2-8529-7fc45a67a8ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "f1d09ad307423b075c268e5fa17b6145c74d7542",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +431,435 @@    residentRunner.clearScreen();\n    expect(testLogger.statusText, equals(''));\n  }));\n\n  test('ResidentRunner bails taking screenshot on debug device if debugAllowBanner throws post', () => testbed.run(() async {"
  },
  {
    "id" : "73bcd5dd-a44a-4230-be88-1883393b7895",
    "prId" : 55797,
    "prUrl" : "https://github.com/flutter/flutter/pull/55797#pullrequestreview-401413393",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a807edb6-6b61-41b8-8a57-4d6cfae03402",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "I added this test to cover the view filter",
        "createdAt" : "2020-04-28T00:14:36Z",
        "updatedAt" : "2020-04-28T00:14:44Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "b0c9f3c409757c65fa0372a5235177fe30c2e8ba",
    "line" : 88,
    "diffHunk" : "@@ -1,1 +173,177 @@  });\n\n  test('FlutterDevice can list views with a filter', () => testbed.run(() async {\n    fakeVmServiceHost = FakeVmServiceHost(requests: <VmServiceExpectation>[\n      FakeVmServiceRequest("
  },
  {
    "id" : "ccda68c0-b331-4f8b-923c-9ce451349e0c",
    "prId" : 56167,
    "prUrl" : "https://github.com/flutter/flutter/pull/56167#pullrequestreview-408339472",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fc0b3701-48ac-4b21-9b86-b0ef7601b8ab",
        "parentId" : null,
        "authorId" : "8214f119-d2d3-484d-aea2-02799ab41da5",
        "body" : "The command now needs to account for the inputs/outputs list:\r\n```\r\n01:32 +232 -1: test/general.shard/resident_runner_test.dart: ResidentRunner can run source generation [E]                                                                                              \r\n  Expected: ['bin/cache/dart-sdk/bin/dart', 'dev/tools/localization/bin/gen_l10n.dart']\r\n    Actual: [\r\n              'bin/cache/dart-sdk/bin/dart',\r\n              'dev/tools/localization/bin/gen_l10n.dart',\r\n              '--gen-inputs-and-outputs-list=/build/6ec2559087977927717927ede0a147f1'\r\n            ]\r\n```",
        "createdAt" : "2020-05-08T16:04:02Z",
        "updatedAt" : "2020-05-08T16:41:44Z",
        "lastEditedBy" : "8214f119-d2d3-484d-aea2-02799ab41da5",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c6cc8d2e65decaf165b71e3adb7de8a436c967a",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +546,550 @@      command: <String>[\n        globals.artifacts.getArtifactPath(Artifact.engineDartBinary),\n        globals.fs.path.join(Cache.flutterRoot, 'dev', 'tools', 'localization', 'bin', 'gen_l10n.dart'),\n        '--gen-inputs-and-outputs-list=${dependencies.absolute.path}',\n      ],"
  },
  {
    "id" : "049531c7-56d7-4d22-a43a-4219646e14c2",
    "prId" : 56167,
    "prUrl" : "https://github.com/flutter/flutter/pull/56167#pullrequestreview-408339472",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2523dd29-32f7-4e9e-808b-614ae4542328",
        "parentId" : null,
        "authorId" : "8214f119-d2d3-484d-aea2-02799ab41da5",
        "body" : "ditto",
        "createdAt" : "2020-05-08T16:04:19Z",
        "updatedAt" : "2020-05-08T16:41:44Z",
        "lastEditedBy" : "8214f119-d2d3-484d-aea2-02799ab41da5",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c6cc8d2e65decaf165b71e3adb7de8a436c967a",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +574,578 @@      command: <String>[\n        globals.artifacts.getArtifactPath(Artifact.engineDartBinary),\n        globals.fs.path.join(Cache.flutterRoot, 'dev', 'tools', 'localization', 'bin', 'gen_l10n.dart'),\n        '--gen-inputs-and-outputs-list=${dependencies.absolute.path}',\n      ],"
  },
  {
    "id" : "83eacf4d-399b-4a1c-b91c-360a7aadca15",
    "prId" : 56387,
    "prUrl" : "https://github.com/flutter/flutter/pull/56387#pullrequestreview-406047495",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9c2cc712-3747-48d1-a64a-796568eabc71",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "This is the test",
        "createdAt" : "2020-05-05T18:26:51Z",
        "updatedAt" : "2020-05-05T18:26:51Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "ff5b98ed79b5fbce80e5ba1e5085a1339960d99d",
    "line" : 367,
    "diffHunk" : "@@ -1,1 +819,823 @@  }));\n\n  test('FlutterDevice can exit from a release mode isolate with no VmService', () => testbed.run(() async {\n    final TestFlutterDevice flutterDevice = TestFlutterDevice(\n      mockDevice,"
  },
  {
    "id" : "8519b102-c316-4f07-b284-d1f2538d3196",
    "prId" : 58539,
    "prUrl" : "https://github.com/flutter/flutter/pull/58539#pullrequestreview-423182526",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99de538c-0b64-43e5-9589-881951046086",
        "parentId" : null,
        "authorId" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "body" : "When there is an applicationBinary then there was no native build step, so we need to show the flutter run errors as normal",
        "createdAt" : "2020-06-03T02:46:45Z",
        "updatedAt" : "2020-06-03T18:11:58Z",
        "lastEditedBy" : "e73873df-c6ef-4dd5-ad17-dc7a574dcf0b",
        "tags" : [
        ]
      }
    ],
    "commit" : "ca3225597ee39f02a100befcb53396157060a289",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +263,267 @@        mockFlutterDevice,\n      ],\n      applicationBinary: globals.fs.file('app.apk'),\n      stayResident: false,\n      debuggingOptions: DebuggingOptions.enabled(BuildInfo.debug),"
  }
]