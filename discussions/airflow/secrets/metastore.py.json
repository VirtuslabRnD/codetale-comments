[
  {
    "id" : "10ff24ef-71ff-41af-aa8c-7e6a477baabc",
    "prId" : 7923,
    "prUrl" : "https://github.com/apache/airflow/pull/7923#pullrequestreview-383297359",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "11994641-6fb9-4a92-b902-b87fccdfee17",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Cyclical import? ðŸ˜¿ ",
        "createdAt" : "2020-03-27T23:36:25Z",
        "updatedAt" : "2020-03-28T10:47:32Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "2ac1ff7c-9b6c-4253-b694-b515dd8e20a9",
        "parentId" : "11994641-6fb9-4a92-b902-b87fccdfee17",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Yup, I will try to get rid of it as soon as I have the final draft ready :)",
        "createdAt" : "2020-03-27T23:45:40Z",
        "updatedAt" : "2020-03-28T10:47:32Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "9f4dbff9-e300-4564-a38a-049343e3a493",
        "parentId" : "11994641-6fb9-4a92-b902-b87fccdfee17",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "This looks tough as we need Variable model here and we need to get the value in Variables.py file to keep it fully backward compatible",
        "createdAt" : "2020-03-28T04:01:21Z",
        "updatedAt" : "2020-03-28T10:47:32Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "14f7914e-108e-46ea-bc75-79990b39a2d7",
        "parentId" : "11994641-6fb9-4a92-b902-b87fccdfee17",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Yeah, imports in functions are almost never circular - to be able to call the function one module already needs to be fully loaded already, so a cycle can never result.",
        "createdAt" : "2020-03-28T09:06:39Z",
        "updatedAt" : "2020-03-28T10:47:32Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "7b824ca2-740c-4e16-bde9-692b08930cf4",
        "parentId" : "11994641-6fb9-4a92-b902-b87fccdfee17",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "My (general) opinion again - it may apply to similar cases:\r\n\r\nThat's true that there are no cyclical imports detected by the parser, But still, logically there are two separate entities in different modules that depend on each other in both directions. For me, this is a classic example of cyclic dependency which should be avoided (maybe not at all cost, but whenever it's possible).\r\n\r\nI strongly believe the code is much cleaner and easier to understand when we avoid cyclical dependencies. Usually, cyclical dependency (not import) is a sign that we should improve the code structure (either split responsibilities better or move the classes/objects to a single file if there are strongly coupled). We've already introduced a number of such refactorings and they let us reason about the code better and (for example) introduce those performance improvements for the number of DB queries - because it was much easier to understand what the code is doing.\r\n\r\nBut that's just opinion (though I believe in ti quite strongly).",
        "createdAt" : "2020-03-28T09:19:42Z",
        "updatedAt" : "2020-03-28T10:54:45Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "9894ff1fc8a3e32f0435444d6996d44ea8dc47ab",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +47,51 @@        :return: Variable Value\n        \"\"\"\n        from airflow.models.variable import Variable\n        var_value = session.query(Variable).filter(Variable.key == key).first()\n        session.expunge_all()"
  },
  {
    "id" : "c091b1b2-90ef-4626-9959-6bf9e455f5f9",
    "prId" : 10192,
    "prUrl" : "https://github.com/apache/airflow/pull/10192#pullrequestreview-540854967",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c9e6ea4c-95ba-4c83-be9e-5d2fb51c2339",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "```suggestion\r\n            PendingDeprecationWarning,\r\n            stacklevel=3,\r\n```\r\n\r\n(+1 here because of the decorator.)",
        "createdAt" : "2020-11-30T12:19:10Z",
        "updatedAt" : "2020-11-30T14:26:58Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "d7a8037258722677ef222859ec444d7e105ff4c9",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +45,49 @@            \"This method is deprecated. Please use \"\n            \"`airflow.secrets.metastore.MetastoreBackend.get_connection`.\",\n            PendingDeprecationWarning,\n            stacklevel=3,\n        )"
  }
]