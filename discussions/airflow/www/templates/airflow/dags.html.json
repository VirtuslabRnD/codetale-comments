[
  {
    "id" : "f2a5dfc1-cc87-41c0-82ab-e8f641dc8235",
    "prId" : 4069,
    "prUrl" : "https://github.com/apache/airflow/pull/4069#pullrequestreview-172030856",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6dcf2a6d-24a7-419f-8fa3-c7feb7e56500",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Minor nit: this includes the comment in thee HTML which we don't need. If you think the comment is useful then:\r\n\r\n```suggestion\r\n                {# Use dag_id instead of dag.dag_id, because the DAG might not exist in the webserver's DagBag #}\r\n```",
        "createdAt" : "2018-11-06T14:04:13Z",
        "updatedAt" : "2018-11-06T14:05:23Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "71bb5c2da94f7613116607448fdeb385fbcd8779",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +192,196 @@\n                <!-- Delete -->\n                <!-- Use dag_id instead of dag.dag_id, because the DAG might not exist in the webserver's DagBag -->\n                <a href=\"{{ url_for('airflow.delete', dag_id=dag_id) }}\"\n                  onclick=\"return confirmDeleteDag('{{ dag_id }}')\">"
  },
  {
    "id" : "f1f8d89f-de15-47d2-a342-3e58881e648f",
    "prId" : 5111,
    "prUrl" : "https://github.com/apache/airflow/pull/5111#pullrequestreview-227391315",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "31a2b539-7a65-4632-84ac-a98c5c13b39e",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "I wonder if the better fix is to change how the JSON is generated to use the `dag.safe_dag_id` accessor instead.",
        "createdAt" : "2019-04-16T16:14:34Z",
        "updatedAt" : "2019-04-16T16:14:35Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "c7952afe-7feb-4880-ab96-188ac7bfa936",
        "parentId" : "31a2b539-7a65-4632-84ac-a98c5c13b39e",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "(Which does exactly this, but on the server is all.)",
        "createdAt" : "2019-04-16T16:15:53Z",
        "updatedAt" : "2019-04-16T16:15:53Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "973f3ce9-5d66-4d3f-abd7-2cc754c70a4d",
        "parentId" : "31a2b539-7a65-4632-84ac-a98c5c13b39e",
        "authorId" : "e7709183-ea97-408e-b367-85abd5358562",
        "body" : "I considered doing that, but I felt it should be kept separate from the endpoint response since the conversion is only done for the sake of naming a DOM element. I don't think it'd be great to have the endpoint response keyed on a safe_dag_id rather than dag_id because that's unexpected.",
        "createdAt" : "2019-04-16T19:11:12Z",
        "updatedAt" : "2019-04-16T19:11:12Z",
        "lastEditedBy" : "e7709183-ea97-408e-b367-85abd5358562",
        "tags" : [
        ]
      }
    ],
    "commit" : "e2315e8a535169708c56b116d167536212e76c17",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +313,317 @@        for(var dag_id in json) {\n            states = json[dag_id];\n            g = d3.select('svg#dag-run-' + dag_id.replace(/\\./g, '__dot__'))\n              .attr('height', diameter + (stroke_width_hover * 2))\n              .attr('width', '110px')"
  },
  {
    "id" : "429bd538-2477-4a09-aa95-fb9b5e41aa61",
    "prId" : 5339,
    "prUrl" : "https://github.com/apache/airflow/pull/5339#pullrequestreview-243917273",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e569407a-9933-4f34-8327-38dee8d5a4bc",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "This image is wider than the div it's in - does it look okay?",
        "createdAt" : "2019-05-30T16:10:14Z",
        "updatedAt" : "2019-06-06T14:38:33Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "9bbd8cd4-cfc1-47ca-9ca4-dd7f08e1c537",
        "parentId" : "e569407a-9933-4f34-8327-38dee8d5a4bc",
        "authorId" : "06a356e2-8fb5-4f99-b8bb-46ce12d2daa0",
        "body" : "It looks ok to me in my browser, I agree probably the settings can be cleaned up and this width is strange. This is copied from all of the other async loaded components.",
        "createdAt" : "2019-05-30T17:15:24Z",
        "updatedAt" : "2019-06-06T14:38:33Z",
        "lastEditedBy" : "06a356e2-8fb5-4f99-b8bb-46ce12d2daa0",
        "tags" : [
        ]
      }
    ],
    "commit" : "693e141cb1bace0b23883ec2ed6ee7bb7ab71abc",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +106,110 @@                  <div height=\"10\" width=\"10\" id='last-run-{{ dag.safe_dag_id }}' style=\"display: block;\">\n                    <a></a>\n                    <img class=\"loading-last-run\" width=\"15\" src=\"{{ url_for(\"static\", filename=\"loading.gif\") }}\">\n                    <span aria-hidden=\"true\" id=\"statuses_info\" title=\" \" class=\"glyphicon glyphicon-info-sign\" style=\"display:none\"></span>\n                  </div>"
  },
  {
    "id" : "2043a989-54b0-4893-8d17-b98478fcce1d",
    "prId" : 5503,
    "prUrl" : "https://github.com/apache/airflow/pull/5503#pullrequestreview-257729525",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5596b128-27e5-4767-84c4-4783436df909",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "IE doesn't support this, so I think since it's easy to not use this we shouldn't.\r\n\r\n(That or we add this in a polyfila)",
        "createdAt" : "2019-06-30T10:43:45Z",
        "updatedAt" : "2019-07-02T19:31:45Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "621f5a87-a5bc-4572-86da-e0bd718e15a3",
        "parentId" : "5596b128-27e5-4767-84c4-4783436df909",
        "authorId" : "6566359b-50f6-4618-a7ee-5841896be3df",
        "body" : "@ashb I checked the web interface in IE 11 before the changes and it did not work.\r\nJS code has a syntax error (IE11) in other parts. [=> and \\` ]\r\n\r\nI added `url-search-params-polyfill` in separeted bransh [AIRFLOW-3360-polyfill](https://github.com/Doncode/airflow/tree/feature/AIRFLOW-3360-polyfill)  \r\nShould i add it to PR?",
        "createdAt" : "2019-06-30T14:57:13Z",
        "updatedAt" : "2019-07-02T19:31:45Z",
        "lastEditedBy" : "6566359b-50f6-4618-a7ee-5841896be3df",
        "tags" : [
        ]
      },
      {
        "id" : "27c063c0-e832-4d18-b8f7-c621f3836927",
        "parentId" : "5596b128-27e5-4767-84c4-4783436df909",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Oh right - I didn't realise it was that broken.\r\n\r\nStill - it's an easy fix and it gets us to a better state, so yeah lets add that here and things get slowly better.",
        "createdAt" : "2019-07-01T15:57:05Z",
        "updatedAt" : "2019-07-02T19:31:45Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "a9bc5f7f-a5c3-4635-9611-f7097ae8504a",
        "parentId" : "5596b128-27e5-4767-84c4-4783436df909",
        "authorId" : "6566359b-50f6-4618-a7ee-5841896be3df",
        "body" : "@ashb please review",
        "createdAt" : "2019-07-03T20:52:27Z",
        "updatedAt" : "2019-07-03T20:52:28Z",
        "lastEditedBy" : "6566359b-50f6-4618-a7ee-5841896be3df",
        "tags" : [
        ]
      }
    ],
    "commit" : "4fa1a2f39369a1376c5a86b78fbd18fae2fcad91",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +219,223 @@        // check for key press on ENTER (key code 13) to trigger the search\n        if (e.which === ENTER_KEY_CODE) {\n          var query = new URLSearchParams(window.location.search);\n          query.set(\"search\", e.target.value.trim())\n          window.location = DAGS_INDEX + \"?\" + query.toString();"
  },
  {
    "id" : "316ac6f1-f8f9-4a23-bbab-d1f937039b05",
    "prId" : 5503,
    "prUrl" : "https://github.com/apache/airflow/pull/5503#pullrequestreview-256426160",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "43a80583-0657-4ca6-9873-a036a4cc3944",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "What's your reason for removing autocomplete on this field?",
        "createdAt" : "2019-06-30T10:44:18Z",
        "updatedAt" : "2019-07-02T19:31:45Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "45b94b08-c78c-4a50-a393-026c5869faa5",
        "parentId" : "43a80583-0657-4ca6-9873-a036a4cc3944",
        "authorId" : "6566359b-50f6-4618-a7ee-5841896be3df",
        "body" : "@ashb  Screenshot from Google Chrome without `autocomplete=\"off\"`\r\n![image](https://user-images.githubusercontent.com/1270917/60395691-f2c8c680-9b3f-11e9-810c-76993003b31c.png)\r\n",
        "createdAt" : "2019-06-30T11:05:33Z",
        "updatedAt" : "2019-07-02T19:31:45Z",
        "lastEditedBy" : "6566359b-50f6-4618-a7ee-5841896be3df",
        "tags" : [
        ]
      },
      {
        "id" : "299d565a-5c03-40b6-9f8c-a58a3c7de78c",
        "parentId" : "43a80583-0657-4ca6-9873-a036a4cc3944",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Ah right. Makes sense!",
        "createdAt" : "2019-07-01T15:55:53Z",
        "updatedAt" : "2019-07-02T19:31:45Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "4fa1a2f39369a1376c5a86b78fbd18fae2fcad91",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +37,41 @@            <div id=\"dags_filter\" class=\"form-group\" style=\"width: 100%;\">\n              <label for=\"dag_query\" style=\"width:20%; text-align: right;\">Search:</label>\n              <input id=\"dag_query\" type=\"text\" class=\"typeahead form-control\" data-provide=\"typeahead\" style=\"width:50%;\" value=\"{{search_query}}\" autocomplete=\"off\">\n            </div>\n        </form>"
  },
  {
    "id" : "bd0bf26d-d6f3-49cc-b29d-c3a46665c3b2",
    "prId" : 7661,
    "prUrl" : "https://github.com/apache/airflow/pull/7661#pullrequestreview-371941632",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b5d00360-ca2b-4ef8-ac0f-97645485d992",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Can you please add a test for it in test/www/views.py ?",
        "createdAt" : "2020-03-09T21:14:19Z",
        "updatedAt" : "2020-03-10T07:37:02Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "844adfb1-d75b-4e71-965a-e16a93f6a40c",
        "parentId" : "b5d00360-ca2b-4ef8-ac0f-97645485d992",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Or maybe sorting it python side https://github.com/apache/airflow/blob/master/airflow/models/dag.py#L1481-L1530\r\n\r\n?",
        "createdAt" : "2020-03-09T21:18:20Z",
        "updatedAt" : "2020-03-10T07:37:02Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "e11cb8fb-2b6a-4838-9d55-d151c839e2be",
        "parentId" : "b5d00360-ca2b-4ef8-ac0f-97645485d992",
        "authorId" : "676ef054-9bc4-4f4d-a9e6-43cf8ac4587e",
        "body" : "I do not fully understand why (and how) this should be tested.",
        "createdAt" : "2020-03-10T07:37:17Z",
        "updatedAt" : "2020-03-10T07:37:17Z",
        "lastEditedBy" : "676ef054-9bc4-4f4d-a9e6-43cf8ac4587e",
        "tags" : [
        ]
      },
      {
        "id" : "acb84f2c-a210-4ae4-a3e2-da63b7b1eefd",
        "parentId" : "b5d00360-ca2b-4ef8-ac0f-97645485d992",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "> Why ?\r\nSo that if someone removes the sorting code, it should fail the test so we know that it is broken\r\n\r\n> How ?\r\nhttps://github.com/apache/airflow/blob/master/tests/www/test_views.py#L441 file has got test to check if \"certain\" text exists or not. \r\n\r\n--\r\n\r\nThe other part what I commented was that maybe we sort the list before we pass it to the UI\r\n\r\nI am happy to merge it as it is for now, but we should take care of it.\r\n",
        "createdAt" : "2020-03-10T13:19:43Z",
        "updatedAt" : "2020-03-10T13:19:43Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      }
    ],
    "commit" : "962831d19766b41964d6954c316488292b942f85",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +106,110 @@\n                    <div style=\"float: right; max-width: 70%; text-align: right; line-height: 160%;\">\n                    {% for tag in dag.tags | sort(attribute='name') %}\n                      <span class=\"label label-success\" style=\"margin: 3px;\">{{ tag.name }}</span>\n                    {% endfor %}"
  },
  {
    "id" : "661197cd-13ee-4d84-8212-ca7cb4f3039a",
    "prId" : 10637,
    "prUrl" : "https://github.com/apache/airflow/pull/10637#pullrequestreview-481144228",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9ff8b592-26fa-416d-818e-16f077f77ace",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "at this point this function name needs changing too",
        "createdAt" : "2020-09-02T11:36:31Z",
        "updatedAt" : "2020-10-19T22:25:25Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "c51e33fe-15ca-461c-8a64-e39551bb1b88",
        "parentId" : "9ff8b592-26fa-416d-818e-16f077f77ace",
        "authorId" : "54ef9b5d-b7ff-483c-b9ee-dd4fa2fe3976",
        "body" : "Well, I am not adding new functionality, just fixing a bug/regression. I am just putting back a value lost when the values were changed to load asynchronously. But it is a valid point as that function was added at that point it was changed to be asynchronous.\r\n\r\nThis function appears to be named the same as the `/last_dagruns` endpoint that returns json for these dates, which is in turn seems to be named after the \"Last Run\" column this tooltip is in. So the column is showing the last run's execution date and the last run's start date. What name should it be instead?",
        "createdAt" : "2020-09-02T18:02:33Z",
        "updatedAt" : "2020-10-19T22:25:25Z",
        "lastEditedBy" : "54ef9b5d-b7ff-483c-b9ee-dd4fa2fe3976",
        "tags" : [
        ]
      },
      {
        "id" : "cd81877f-f74e-4d2b-bc50-ab4f56594385",
        "parentId" : "9ff8b592-26fa-416d-818e-16f077f77ace",
        "authorId" : "54ef9b5d-b7ff-483c-b9ee-dd4fa2fe3976",
        "body" : "Correction, the function is named after the `dag.get_last_dagrun` method which was used in the pre-asynchronous code for the value of `last_run`, which then was used for the values `last_run.execution_date` and `last_run.start_date`, but was incorrectly changed to be last_run = execution_date when it went asynchronous in commit https://github.com/apache/airflow/pull/4005/commits/6607e486d219a5ecbeb46ef8ea2869367e634bab#diff-f38558559ea1b4c30ddf132b7f223cf9L122. This PR just puts the values for the asynchronous code back to as they were.",
        "createdAt" : "2020-09-02T18:15:20Z",
        "updatedAt" : "2020-10-19T22:25:25Z",
        "lastEditedBy" : "54ef9b5d-b7ff-483c-b9ee-dd4fa2fe3976",
        "tags" : [
        ]
      }
    ],
    "commit" : "0e24bf4d1e445c1eea7eb540e2789615692ad715",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +368,372 @@    }\n\n    function lastDagRunsHandler(error, json) {\n      for(var safe_dag_id in json) {\n        dag_id = json[safe_dag_id].dag_id;"
  },
  {
    "id" : "97e02ee4-3449-4c90-9e85-a2693a04b8d8",
    "prId" : 11583,
    "prUrl" : "https://github.com/apache/airflow/pull/11583#pullrequestreview-510790028",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "298279f6-f0fd-4b8f-b125-800b5321020e",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Should we remove page no also? I think the user should always be redirected to the first page.",
        "createdAt" : "2020-10-16T15:51:47Z",
        "updatedAt" : "2020-10-16T20:47:44Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "70578c87-bcbf-4ddb-9170-625f049b4e2e",
        "parentId" : "298279f6-f0fd-4b8f-b125-800b5321020e",
        "authorId" : "f59eb591-c12e-407d-b1ee-57f70f09b390",
        "body" : "Ah, yes, good call!",
        "createdAt" : "2020-10-16T15:53:16Z",
        "updatedAt" : "2020-10-16T20:47:44Z",
        "lastEditedBy" : "f59eb591-c12e-407d-b1ee-57f70f09b390",
        "tags" : [
        ]
      },
      {
        "id" : "dcda8b01-fa2d-4e91-bb6a-6e144ef184e5",
        "parentId" : "298279f6-f0fd-4b8f-b125-800b5321020e",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Oh yes, good catch.",
        "createdAt" : "2020-10-16T15:54:37Z",
        "updatedAt" : "2020-10-16T20:47:44Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "e26309de-1e33-4408-b5b6-7e91b859510f",
        "parentId" : "298279f6-f0fd-4b8f-b125-800b5321020e",
        "authorId" : "f59eb591-c12e-407d-b1ee-57f70f09b390",
        "body" : "Instead of deleting the `page` param, I had to set it to `0`. Because the page value is maintained in the session cookie, that value was re-added to to the URL after deletion. By setting to `0`, that will update the cookie value as well.",
        "createdAt" : "2020-10-16T16:02:44Z",
        "updatedAt" : "2020-10-16T20:47:44Z",
        "lastEditedBy" : "f59eb591-c12e-407d-b1ee-57f70f09b390",
        "tags" : [
        ]
      },
      {
        "id" : "25f8f035-3ce4-47fc-866f-d1f1200c2df5",
        "parentId" : "298279f6-f0fd-4b8f-b125-800b5321020e",
        "authorId" : "f59eb591-c12e-407d-b1ee-57f70f09b390",
        "body" : "I take that back… I was confusing the page param with how the search/tags/status params were being handled. Updated to delete the page param completely.",
        "createdAt" : "2020-10-16T20:49:42Z",
        "updatedAt" : "2020-10-16T20:49:42Z",
        "lastEditedBy" : "f59eb591-c12e-407d-b1ee-57f70f09b390",
        "tags" : [
        ]
      }
    ],
    "commit" : "8626d18f68b30f494bd8645662df0d8f2397627e",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +319,323 @@    $('#search_form').on('reset', function() {\n      var query = new URLSearchParams(window.location.search);\n      query.delete('search');\n      query.delete('page');\n      window.location = DAGS_INDEX + \"?\" + query;"
  }
]