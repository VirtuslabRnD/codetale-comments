[
  {
    "id" : "5e1dfc99-7491-4d4f-86fc-f4efae35b0fe",
    "prId" : 8607,
    "prUrl" : "https://github.com/apache/airflow/pull/8607#pullrequestreview-404867233",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41427e16-8fff-48d7-93aa-d3868b8772b5",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Why do we need a `list` instead of a `set` ??",
        "createdAt" : "2020-05-04T09:56:30Z",
        "updatedAt" : "2020-05-04T09:56:30Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "4abef6c6-a958-4a59-a587-ba2382280aa5",
        "parentId" : "41427e16-8fff-48d7-93aa-d3868b8772b5",
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "`TypeError: Object of type 'set' is not JSON serializable`",
        "createdAt" : "2020-05-04T10:00:25Z",
        "updatedAt" : "2020-05-04T10:00:25Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "81b83398-a8c7-44c5-a86a-5246a0ffa701",
        "parentId" : "41427e16-8fff-48d7-93aa-d3868b8772b5",
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "To be honest, I was quite surprised, I think this is also something that we should backport to 1.11 otherwise this operator works only with pickle xcom. @kaxil ",
        "createdAt" : "2020-05-04T10:02:05Z",
        "updatedAt" : "2020-05-04T10:02:05Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "2a920fd9-483c-42b8-a5a3-913df53a3580",
        "parentId" : "41427e16-8fff-48d7-93aa-d3868b8772b5",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Do we get this error in Xcom.serialize, maybe we should have something in Xcom.serialize to handle serialization of set as there would be possibly be many other places where set is used. WDYT ?",
        "createdAt" : "2020-05-04T10:14:36Z",
        "updatedAt" : "2020-05-04T10:14:36Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "9d78225b-22c6-4ebc-aba1-404055d87b2e",
        "parentId" : "41427e16-8fff-48d7-93aa-d3868b8772b5",
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "I was thinking about that and I am against it. JSON has no `set` structure and users should be aware of this. Additionally if we want to support `set` in general then we have to support all possible nested structures (dicts + sets, list of sets, etc) ",
        "createdAt" : "2020-05-04T10:18:09Z",
        "updatedAt" : "2020-05-04T10:18:23Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "2f8f00ab-8662-46c7-a693-e7cd2de67ae5",
        "parentId" : "41427e16-8fff-48d7-93aa-d3868b8772b5",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "We do that for SerializedDag, we might be able to use the same code for it",
        "createdAt" : "2020-05-04T10:19:56Z",
        "updatedAt" : "2020-05-04T10:19:56Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "7229e751-b26d-497d-b3eb-225b9c4e5fff",
        "parentId" : "41427e16-8fff-48d7-93aa-d3868b8772b5",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "That is out of scope of this PR but can you please create a Github issue for this please?\r\n\r\ni.e. Support for Set and other nested structures for Xcom serialization",
        "createdAt" : "2020-05-04T10:20:55Z",
        "updatedAt" : "2020-05-04T10:21:02Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "d9276c1c-b229-41d7-9d99-df4d044b55cb",
        "parentId" : "41427e16-8fff-48d7-93aa-d3868b8772b5",
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Sure https://github.com/apache/airflow/issues/8703",
        "createdAt" : "2020-05-04T10:25:42Z",
        "updatedAt" : "2020-05-04T10:25:42Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      }
    ],
    "commit" : "caa57bda7a146f0b3099df10ceb6fbbbb8657f7b",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +47,51 @@            self.log.info(\n                \"Externally triggered DAG_Run: allowing execution to proceed.\")\n            return list(context['task'].get_direct_relative_ids(upstream=False))\n\n        now = pendulum.utcnow()"
  }
]