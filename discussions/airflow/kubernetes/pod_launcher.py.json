[
  {
    "id" : "3f626a33-3ee3-4f5f-b360-ea15c9433e06",
    "prId" : 5261,
    "prUrl" : "https://github.com/apache/airflow/pull/5261#pullrequestreview-235321047",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b81c5928-b293-4122-8dff-edffac65af53",
        "parentId" : null,
        "authorId" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "body" : "Do you mind completing the documentation here? :)",
        "createdAt" : "2019-05-08T22:31:50Z",
        "updatedAt" : "2019-05-09T17:16:58Z",
        "lastEditedBy" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "4dfdf9ee3c691afc038fc9c066fb0939569b2a2a",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +77,81 @@        \"\"\"\n        Launches the pod synchronously and waits for completion.\n\n        :param pod:\n        :param startup_timeout: Timeout for startup of the pod (if pod is pending for too long, fails task)"
  },
  {
    "id" : "d8fccd60-1fcf-4423-9fdd-050167eb6eb2",
    "prId" : 9468,
    "prUrl" : "https://github.com/apache/airflow/pull/9468#pullrequestreview-438793610",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "60daa472-aeec-484f-afc7-c3ed066e446c",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Should we remove log print on 116? \r\n<img width=\"676\" alt=\"Screenshot 2020-06-28 at 18 15 36\" src=\"https://user-images.githubusercontent.com/12058428/85952696-65df6580-b96b-11ea-8933-5729592a3ed9.png\">\r\n",
        "createdAt" : "2020-06-28T16:15:56Z",
        "updatedAt" : "2020-07-01T10:53:59Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "962865ba22ff18935002a94140a92927d6791cea",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +109,113 @@        if resp.status.start_time is None:\n            while self.pod_not_started(pod):\n                self.log.warning(\"Pod not yet started: %s\", pod.metadata.name)\n                delta = dt.now() - curr_time\n                if delta.total_seconds() >= startup_timeout:"
  },
  {
    "id" : "a33920c7-47f6-4a19-912e-26dc27fb3f5f",
    "prId" : 11325,
    "prUrl" : "https://github.com/apache/airflow/pull/11325#pullrequestreview-505164771",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e6fe728e-eb70-4b17-9def-a7c3bab91340",
        "parentId" : null,
        "authorId" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "body" : "Is there any chance of log lines being missed in the period between the logs being read and this time? Is there any way we can get the timestamp from the read_pod_log request?",
        "createdAt" : "2020-10-07T17:20:41Z",
        "updatedAt" : "2020-10-09T15:46:50Z",
        "lastEditedBy" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "tags" : [
        ]
      },
      {
        "id" : "bbdc1ae3-9423-4fab-8a19-43e7a05dc241",
        "parentId" : "e6fe728e-eb70-4b17-9def-a7c3bab91340",
        "authorId" : "8b6af148-5d53-4776-a291-81707c94d2b6",
        "body" : "Good questions. `list_namespaced_pod` has option to prepend timestamp to log line. Example\r\n```\r\n2020-10-08T14:16:17.793417674Z 172.32.2.36 - - [08/Oct/2020:14:16:17 +0000] \"GET /health HTTP/1.1\" 200 187 \"-\" \"kube-probe/1.17\r\n```\r\nWe can enable this option, and split log on timestamp and message in `monitor_pod`. Timestamp is returned in RFC3339Nano format so it should be easily parsable using `pendulum`.  `Pendulum` should handle possible timezone difference between Kubernetes API and pods.  \r\nIf you are ok with new design I can refactor the code.",
        "createdAt" : "2020-10-08T15:39:25Z",
        "updatedAt" : "2020-10-09T15:46:50Z",
        "lastEditedBy" : "8b6af148-5d53-4776-a291-81707c94d2b6",
        "tags" : [
        ]
      },
      {
        "id" : "539a8772-0499-4819-9575-2d1e54df0182",
        "parentId" : "e6fe728e-eb70-4b17-9def-a7c3bab91340",
        "authorId" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "body" : "@michalmisiewicz that sounds perfect! +1 from me once that's done.",
        "createdAt" : "2020-10-08T21:04:37Z",
        "updatedAt" : "2020-10-09T15:46:50Z",
        "lastEditedBy" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "tags" : [
        ]
      }
    ],
    "commit" : "be4f0f60268af8a95f37e6b3e0a99782db4c7ee2",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +143,147 @@                delta = pendulum.now() - last_log_time\n                # Prefer logs duplication rather than loss\n                read_logs_since_sec = math.ceil(delta.total_seconds())\n        result = None\n        if self.extract_xcom:"
  },
  {
    "id" : "b774eda0-5446-4ac4-98e2-03c0b380abee",
    "prId" : 15165,
    "prUrl" : "https://github.com/apache/airflow/pull/15165#pullrequestreview-628003294",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b44be755-410b-41cf-93a7-b2676458055c",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "I believe this change is breaking. If someone uses old `cncf.kubernetes` provider and new Airflow and still will want to use the deprecated  `airflow.kubernets.pod_launcher` module it will break.\r\n\r\nThis change brings an implicit dependency to the next version of `cncf.kubernetes` provider.\r\n\r\nAny proposal how to fix it?\r\n\r\nI see few options:\r\n\r\n1) Leave the code for the old pod_launcher in the deprecated module (not ideal because of code duplication)\r\n\r\n2) Add minimum `cncf.kubernetes` version requirement to `cncf.kubernetes` extra (this will not work for people who already have `airflow` installed and want to upgrade it.\r\n\r\n3) Add `cncf.kubernetes` as \"preinstalled\" module for Airflow (similarly as ftp, http, imap, sqlite and add minimum version required there to the new version of provider. I like this most - imho K8S provider should be pre-installed.\r\n\r\nWDYT? Any other options? Or maybe you do not see that as a problem?",
        "createdAt" : "2021-04-04T12:40:18Z",
        "updatedAt" : "2021-04-05T20:29:28Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "e266ce12-68bf-4d86-a35e-4b66adece44c",
        "parentId" : "b44be755-410b-41cf-93a7-b2676458055c",
        "authorId" : "50a23f60-50f7-4dc8-9e9f-213bf010d57f",
        "body" : "This is a really good point. I'd be in favour of the third option here, especially as the CNCF provider doesn't introduce many additional installation requirements (though I suppose this is subject to change if other functionality is added to the provider)",
        "createdAt" : "2021-04-05T14:43:18Z",
        "updatedAt" : "2021-04-05T20:29:28Z",
        "lastEditedBy" : "50a23f60-50f7-4dc8-9e9f-213bf010d57f",
        "tags" : [
        ]
      },
      {
        "id" : "3ed78542-5fa8-4c4d-a08b-7fcc176b866f",
        "parentId" : "b44be755-410b-41cf-93a7-b2676458055c",
        "authorId" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "body" : "@potiuk we can have a pod_launcher_deprecated.py file with the old code. We did something similar when upgrading the kubernetesexecutor for 2.0",
        "createdAt" : "2021-04-05T15:10:53Z",
        "updatedAt" : "2021-04-05T20:29:28Z",
        "lastEditedBy" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "tags" : [
        ]
      },
      {
        "id" : "dd472deb-1fa1-443b-833a-55fa0f21272e",
        "parentId" : "b44be755-410b-41cf-93a7-b2676458055c",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "That works for me @dimberman ",
        "createdAt" : "2021-04-05T17:14:34Z",
        "updatedAt" : "2021-04-05T20:29:28Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "5d0b0ca9fdffa982c8c3deafc5f6e716dd3b842a",
    "line" : 289,
    "diffHunk" : "@@ -1,1 +16,20 @@# specific language governing permissions and limitations\n# under the License.\n\"\"\"This module is deprecated. Please use `kubernetes.client.models for V1ResourceRequirements and Port.\"\"\"\n# flake8: noqa\n# pylint: disable=unused-import"
  },
  {
    "id" : "63d57d09-14f8-4b06-87fc-79e08cc4aab1",
    "prId" : 15165,
    "prUrl" : "https://github.com/apache/airflow/pull/15165#pullrequestreview-628058827",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3d9b4753-cca0-41b0-b193-ce622d29ad0c",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "The message looks incorrect, maybe add something about using the cncf.kubernetes provider to use PodLauncher ",
        "createdAt" : "2021-04-05T18:32:37Z",
        "updatedAt" : "2021-04-05T20:29:28Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      }
    ],
    "commit" : "5d0b0ca9fdffa982c8c3deafc5f6e716dd3b842a",
    "line" : 289,
    "diffHunk" : "@@ -1,1 +16,20 @@# specific language governing permissions and limitations\n# under the License.\n\"\"\"This module is deprecated. Please use `kubernetes.client.models for V1ResourceRequirements and Port.\"\"\"\n# flake8: noqa\n# pylint: disable=unused-import"
  }
]