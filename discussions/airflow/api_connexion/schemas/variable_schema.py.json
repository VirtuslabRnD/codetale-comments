[
  {
    "id" : "b8e4d3b2-dfb7-448b-8bfa-adca23d5194e",
    "prId" : 9273,
    "prUrl" : "https://github.com/apache/airflow/pull/9273#pullrequestreview-430159658",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "43bc96dc-5f44-496d-b582-48d40861553b",
        "parentId" : null,
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "I would do this schema as follow:\r\n```\r\nclass VariableCollectionItemSchema(SQLAlchemySchema):\r\n    \"\"\" A schema for variable collection item \"\"\"\r\n    class Meta:\r\n        \"\"\" Meta \"\"\"\r\n        model = Variable\r\n    key = auto_field(required=True)\r\n\r\n\r\nclass VariableSchema(VariableCollectionItemSchema):\r\n    \"\"\" Variable Schema \"\"\"\r\n    val = auto_field(dump_to='value', load_from='value', required=True)\r\n\r\nclass VariableCollectionSchema(Schema):\r\n    \"\"\" Variable Collection Schema \"\"\"\r\n    variables = fields.List(fields.Nested(VariableCollectionItemSchema))\r\n    total_entries = fields.Int()\r\n\r\n```\r\nThe spec has this to say about VariableCollectionItemSchema : `Divided into two schemas for sensitive data protection`",
        "createdAt" : "2020-06-13T13:44:13Z",
        "updatedAt" : "2020-06-18T02:20:45Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      },
      {
        "id" : "e8de0d72-5220-4ca2-a8f4-6dbbb145d953",
        "parentId" : "43bc96dc-5f44-496d-b582-48d40861553b",
        "authorId" : "00f2d683-1e14-4545-aec8-d448205f3465",
        "body" : "good catch",
        "createdAt" : "2020-06-13T19:09:27Z",
        "updatedAt" : "2020-06-18T02:20:45Z",
        "lastEditedBy" : "00f2d683-1e14-4545-aec8-d448205f3465",
        "tags" : [
        ]
      }
    ],
    "commit" : "9632636cd0476ea1970465176f56c09b1382d021",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +29,33 @@    variables = fields.List(fields.Nested(VariableSchema))\n    total_entries = fields.Int()\n\n\nvariable_schema = VariableSchema(strict=True)"
  }
]