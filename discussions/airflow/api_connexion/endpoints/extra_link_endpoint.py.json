[
  {
    "id" : "cbbf9533-ef76-419d-933f-d5d8ed830932",
    "prId" : 9475,
    "prUrl" : "https://github.com/apache/airflow/pull/9475#pullrequestreview-435180912",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8d4a244b-13ae-4fa3-8124-d5b52274d27a",
        "parentId" : null,
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "```suggestion\r\n        session.query(DR.execution_date).filter(DR.dag_id == dag_id, DR.run_id == dag_run_id).scalar()\r\n```\r\nI'm wrong about using `one`. `scalar()` or `first()` is better",
        "createdAt" : "2020-06-22T18:39:29Z",
        "updatedAt" : "2020-06-24T09:28:22Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      }
    ],
    "commit" : "6209980411e74f761671829d8d5b40a3aa30a437",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +42,46 @@\n    execution_date = (\n        session.query(DR.execution_date).filter(DR.dag_id == dag_id).filter(DR.run_id == dag_run_id).scalar()\n    )\n    if not execution_date:"
  },
  {
    "id" : "b2b4cc7a-33f1-42c5-994a-13c8fa8cdae6",
    "prId" : 9475,
    "prUrl" : "https://github.com/apache/airflow/pull/9475#pullrequestreview-436454745",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "92cdae26-6365-4cbc-9cd2-5decb1f72032",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Should we create `DagNotFound` and `TaskNotFound` exceptions to unify this between endpoints? ",
        "createdAt" : "2020-06-24T08:49:31Z",
        "updatedAt" : "2020-06-24T09:28:23Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "6505ce41-4eb9-47e9-9052-989c8245ea74",
        "parentId" : "92cdae26-6365-4cbc-9cd2-5decb1f72032",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "In the future, this is possible when we focus on improving exceptions to add additional information (type field).",
        "createdAt" : "2020-06-24T08:57:12Z",
        "updatedAt" : "2020-06-24T09:28:23Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "6209980411e74f761671829d8d5b40a3aa30a437",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +34,38 @@    dag: DAG = dagbag.get_dag(dag_id)\n    if not dag:\n        raise NotFound(\"DAG not found\", detail=f'DAG with ID = \"{dag_id}\" not found')\n\n    try:"
  },
  {
    "id" : "cc2628f9-41b0-42be-9817-09bfb6358f76",
    "prId" : 9475,
    "prUrl" : "https://github.com/apache/airflow/pull/9475#pullrequestreview-436456707",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3664e225-9973-48a8-b7c9-3b82f4a18667",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "I'm not sure if this error is related to `if not execution_date` clause ",
        "createdAt" : "2020-06-24T08:50:36Z",
        "updatedAt" : "2020-06-24T09:28:23Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "d44ca5bd-69eb-44c1-986c-dddba0e349a2",
        "parentId" : "3664e225-9973-48a8-b7c9-3b82f4a18667",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Yes. The execution_date attribute is an attribute of the DAG Run object. I didn't fetch the full object because I don't need it. I only need one field.",
        "createdAt" : "2020-06-24T08:55:12Z",
        "updatedAt" : "2020-06-24T09:28:23Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "81e14dde-1aac-4678-bc75-073cf1d4f4a3",
        "parentId" : "3664e225-9973-48a8-b7c9-3b82f4a18667",
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Oh got it, there is `DAG Run not found`, my mistake",
        "createdAt" : "2020-06-24T08:59:44Z",
        "updatedAt" : "2020-06-24T09:28:23Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      }
    ],
    "commit" : "6209980411e74f761671829d8d5b40a3aa30a437",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +45,49 @@    )\n    if not execution_date:\n        raise NotFound(\"DAG Run not found\", detail=f'DAG Run with ID = \"{dag_run_id}\" not found')\n\n    all_extra_link_pairs = ("
  },
  {
    "id" : "fefd333e-8300-495a-9929-67995d1cdc26",
    "prId" : 9475,
    "prUrl" : "https://github.com/apache/airflow/pull/9475#pullrequestreview-436455059",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cfb2adcd-b004-463a-be25-b73e8c7aa55a",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "```suggestion\r\n        (link_name, task.get_extra_links(execution_date, link_name)) \r\n        for link_name in task.extra_links\r\n    )\r\n```",
        "createdAt" : "2020-06-24T08:51:14Z",
        "updatedAt" : "2020-06-24T09:28:23Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "88ce6ab0-1efb-4ef1-bda1-05e93f82eb63",
        "parentId" : "cfb2adcd-b004-463a-be25-b73e8c7aa55a",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "I use black to automatically format the code.",
        "createdAt" : "2020-06-24T08:57:37Z",
        "updatedAt" : "2020-06-24T09:28:23Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "6209980411e74f761671829d8d5b40a3aa30a437",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +49,53 @@    all_extra_link_pairs = (\n        (link_name, task.get_extra_links(execution_date, link_name)) for link_name in task.extra_links\n    )\n    all_extra_links = {\n        link_name: link_url if link_url else None for link_name, link_url in all_extra_link_pairs"
  }
]