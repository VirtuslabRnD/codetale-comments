[
  {
    "id" : "20ea7125-836a-473f-803b-81c3820e887e",
    "prId" : 9556,
    "prUrl" : "https://github.com/apache/airflow/pull/9556#pullrequestreview-439389566",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8f4ed43e-3a46-47a8-9447-7ddf2fe36b8f",
        "parentId" : null,
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "```\r\nbody = request.get_json()\r\ntry:\r\n     data = list_dag_runs_form_schema.load(body)\r\nexcept ValidationError as err:\r\n     raise BadRequest(detail=err.messages)\r\n```",
        "createdAt" : "2020-06-29T18:13:44Z",
        "updatedAt" : "2020-07-12T05:30:53Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      },
      {
        "id" : "95c5e194-d481-4857-8f0e-53013370bf07",
        "parentId" : "8f4ed43e-3a46-47a8-9447-7ddf2fe36b8f",
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "Your schema should be like this:\r\n\r\n```\r\nclass ListDagRunsFormSchema(Schema):\r\n    \"\"\" Schema for ListDagRunsForm \"\"\"\r\n\r\n    class Meta:\r\n        \"\"\" Meta \"\"\"\r\n        dateformat = 'iso'\r\n\r\n    page_offset = fields.Int(min=0)\r\n    page_limit = fields.Int(min=1, max=100)\r\n    dag_ids = fields.List(fields.Str())\r\n    execution_date_gte = fields.DateTime()\r\n    execution_date_lte = fields.DateTime()\r\n    start_date_gte = fields.DateTime()\r\n    start_date_lte = fields.DateTime()\r\n    end_date_gte = fields.DateTime()\r\n    end_date_lte = fields.DateTime()\r\n```\r\nthen instantiate it as `list_dag_runs_form_schema = ListDagRunsFormSchema(strict=True)`",
        "createdAt" : "2020-06-29T18:16:12Z",
        "updatedAt" : "2020-07-12T05:30:53Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      },
      {
        "id" : "5bef6ff1-4b5d-4c15-a12d-3294b8c52b35",
        "parentId" : "8f4ed43e-3a46-47a8-9447-7ddf2fe36b8f",
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "You have to add the schema at dag_runs_schema.py",
        "createdAt" : "2020-06-29T18:17:37Z",
        "updatedAt" : "2020-07-12T05:30:53Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      }
    ],
    "commit" : "104746fac0b5b89c51dc15aa5146f10eb422566e",
    "line" : 89,
    "diffHunk" : "@@ -1,1 +131,135 @@    \"\"\"\n    Get list of DAG Runs\n    \"\"\"\n    body = request.get_json()\n    try:"
  },
  {
    "id" : "4e2c7004-28e1-4e89-88fa-5cfbd401454e",
    "prId" : 9556,
    "prUrl" : "https://github.com/apache/airflow/pull/9556#pullrequestreview-442600428",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bb6fa0d7-5873-4890-85a0-9eafca5bbb2f",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "In `api_connexion/parameters.py` we have some hardcoded params like those. Should we extend the list and use them here instead of using strings?",
        "createdAt" : "2020-07-04T09:25:51Z",
        "updatedAt" : "2020-07-12T05:30:53Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "87efb3ba-5ed4-4dde-af4e-46d2d4fa386b",
        "parentId" : "bb6fa0d7-5873-4890-85a0-9eafca5bbb2f",
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "It no longer exists but can be added back.",
        "createdAt" : "2020-07-04T09:28:27Z",
        "updatedAt" : "2020-07-12T05:30:53Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      },
      {
        "id" : "71e7a1dd-e0bc-4677-a3cb-60cd7d8b585e",
        "parentId" : "bb6fa0d7-5873-4890-85a0-9eafca5bbb2f",
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Oh indeed, I'm ok with not adding this back",
        "createdAt" : "2020-07-04T10:00:56Z",
        "updatedAt" : "2020-07-12T05:30:53Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      }
    ],
    "commit" : "104746fac0b5b89c51dc15aa5146f10eb422566e",
    "line" : 105,
    "diffHunk" : "@@ -1,1 +146,150 @@                                              data[\"execution_date_gte\"], data[\"execution_date_lte\"],\n                                              data[\"start_date_gte\"], data[\"start_date_lte\"],\n                                              data[\"page_limit\"], data[\"page_offset\"])\n\n    return dagrun_collection_schema.dump(DAGRunCollection(dag_runs=dag_runs,"
  },
  {
    "id" : "d75ce147-d73a-4157-9d82-023cf8f3101f",
    "prId" : 10267,
    "prUrl" : "https://github.com/apache/airflow/pull/10267#pullrequestreview-465820134",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bb9221bd-1431-4168-a9ab-9f77e7b92dda",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Is it possible to detect automatically if we have an API call without @security.requires_authentication",
        "createdAt" : "2020-08-11T09:43:45Z",
        "updatedAt" : "2020-08-11T14:10:46Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "ae4af672-dc73-491b-baba-dce0dd6f2142",
        "parentId" : "bb9221bd-1431-4168-a9ab-9f77e7b92dda",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Yes, We can configure it on a higher layer, but prefer to be explicit than implicit, because we have two views that do not require authorization - `/health` and `/version`. ",
        "createdAt" : "2020-08-11T14:16:17Z",
        "updatedAt" : "2020-08-11T14:16:17Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "76572f26-b686-4806-b3e6-896687f6499a",
        "parentId" : "bb9221bd-1431-4168-a9ab-9f77e7b92dda",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Perfect!\r\n",
        "createdAt" : "2020-08-11T14:57:27Z",
        "updatedAt" : "2020-08-11T14:57:27Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "95075d34-9ccb-46e3-9154-298dbbbcc345",
        "parentId" : "bb9221bd-1431-4168-a9ab-9f77e7b92dda",
        "authorId" : "00f2d683-1e14-4545-aec8-d448205f3465",
        "body" : "if no auth is the exception here (i.e. only /health and /version), wouldn't it be safer to make auth required the default, then turn off auth specifically for those two endpoints?",
        "createdAt" : "2020-08-11T21:24:22Z",
        "updatedAt" : "2020-08-11T21:24:22Z",
        "lastEditedBy" : "00f2d683-1e14-4545-aec8-d448205f3465",
        "tags" : [
        ]
      },
      {
        "id" : "0c96f326-7c46-4647-ba66-1bd35a70cfbd",
        "parentId" : "bb9221bd-1431-4168-a9ab-9f77e7b92dda",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "I was based on how the experimental API is realized, but I will prepare a patch that will update the stable and experimental API.",
        "createdAt" : "2020-08-12T11:23:55Z",
        "updatedAt" : "2020-08-12T11:23:56Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec9c378d5ec5d52a6f9ee86bc6ff76fe16371bb9",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +157,161 @@\n\n@security.requires_authentication\n@provide_session\ndef post_dag_run(dag_id, session):"
  }
]