[
  {
    "id" : "5000ab69-73f1-4e85-b63a-f0cff434d132",
    "prId" : 9266,
    "prUrl" : "https://github.com/apache/airflow/pull/9266#pullrequestreview-430260979",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a375afc5-86bc-4b6b-b55c-c66ae61ec25b",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Can you also add validation for the mask? The mask should not contain fields that are on the allowed list. In particular, you should not be able to save any data to the _password field. This is a very common mistake, which leads to CATastrophe.",
        "createdAt" : "2020-06-14T21:32:15Z",
        "updatedAt" : "2020-06-21T15:23:30Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "75f3c035-a753-4c34-9e8c-99573edf5e86",
        "parentId" : "a375afc5-86bc-4b6b-b55c-c66ae61ec25b",
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "Hi, check if this is ok https://github.com/apache/airflow/commit/09a7ab8be098059f1a388eeebd09610169a83117",
        "createdAt" : "2020-06-14T23:16:08Z",
        "updatedAt" : "2020-06-21T15:23:30Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      },
      {
        "id" : "e2794289-073f-473a-9115-175c40bdf32c",
        "parentId" : "a375afc5-86bc-4b6b-b55c-c66ae61ec25b",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Ah. Probably I was wrong, but I will still have to check how connexion behaves when it sees additional fields in the request from the user. It seems to me that it could be set in the connexion configuration, but I'm not sure. I will come back to this because it will take me a moment to check.",
        "createdAt" : "2020-06-14T23:31:36Z",
        "updatedAt" : "2020-06-21T15:23:30Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "ddd3904d7f52ff1f627bc04ae4d7f43e6109e7d4",
    "line" : 77,
    "diffHunk" : "@@ -1,1 +82,86 @@    if data.get('conn_id', None) and connection.conn_id != data['conn_id']:\n        raise BadRequest(\"The connection_id cannot be updated.\")\n    if update_mask:\n        update_mask = [i.strip() for i in update_mask]\n        data_ = {}"
  },
  {
    "id" : "ba9203f7-81b8-44a8-bc52-9a65fcf3abf9",
    "prId" : 9266,
    "prUrl" : "https://github.com/apache/airflow/pull/9266#pullrequestreview-430253398",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6b44c77e-e069-47cd-986c-98d42e818c2f",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "```suggestion\r\n    conn_id = data['connection_id']\r\n```\r\nIs there a mistake here?",
        "createdAt" : "2020-06-14T21:33:56Z",
        "updatedAt" : "2020-06-21T15:23:30Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "d8af008a-46a0-4297-9c84-03a23ede1959",
        "parentId" : "6b44c77e-e069-47cd-986c-98d42e818c2f",
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "No. After passing through the` connection_schema`, it becomes `conn_id`. The dumping and loading comes from `connection_id`",
        "createdAt" : "2020-06-14T21:41:27Z",
        "updatedAt" : "2020-06-21T15:23:30Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      }
    ],
    "commit" : "ddd3904d7f52ff1f627bc04ae4d7f43e6109e7d4",
    "line" : 106,
    "diffHunk" : "@@ -1,1 +109,113 @@        raise BadRequest(detail=str(err.messages))\n    data = result.data\n    conn_id = data['conn_id']\n    query = session.query(Connection)\n    connection = query.filter_by(conn_id=conn_id).first()"
  }
]