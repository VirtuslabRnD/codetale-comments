[
  {
    "id" : "a138e69f-a702-42d5-bf68-16187610ffeb",
    "prId" : 7741,
    "prUrl" : "https://github.com/apache/airflow/pull/7741#pullrequestreview-378079628",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2603c9d0-9b89-49b7-b182-6e5f8ff754c2",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "We should validat token is not None -- it lead to some hard to debug issues when I was testing this.",
        "createdAt" : "2020-03-19T20:24:47Z",
        "updatedAt" : "2020-03-19T20:44:02Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "0de94b61-40b6-4a9b-9658-e96138138ee8",
        "parentId" : "2603c9d0-9b89-49b7-b182-6e5f8ff754c2",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Updated and added test",
        "createdAt" : "2020-03-19T20:44:24Z",
        "updatedAt" : "2020-03-19T20:44:24Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      }
    ],
    "commit" : "e39f9716b7c65e2669a23a2677edd4622a4f77b5",
    "line" : 117,
    "diffHunk" : "@@ -1,1 +115,119 @@            if not self.token:\n                raise VaultError(\"token cannot be None for auth_type='token'\")\n            _client.token = self.token\n        elif self.auth_type == \"ldap\":\n            _client.auth.ldap.login("
  },
  {
    "id" : "67e185e7-aa75-411d-aa8a-d766566570d7",
    "prId" : 7944,
    "prUrl" : "https://github.com/apache/airflow/pull/7944#pullrequestreview-443866271",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "960a12eb-4af0-4cbd-9534-6fa38ed060ab",
        "parentId" : null,
        "authorId" : "e2b11d9c-0baa-4ab7-888a-44dd5947d811",
        "body" : "@kaxil Why get `response.get(\"value\")` instead of `response[key]`?\r\nSpecifically, why \r\n```\r\nvariables\r\n|- foo\r\n|    |- value = some_value\r\n└ bar\r\n     └ value = another_value\r\n```\r\nNot\r\n```\r\nvariables\r\n|- foo = some_value\r\n└ bar = another_value\r\n```\r\nThis makes the structure simple.",
        "createdAt" : "2020-07-07T12:24:26Z",
        "updatedAt" : "2020-07-07T13:00:31Z",
        "lastEditedBy" : "e2b11d9c-0baa-4ab7-888a-44dd5947d811",
        "tags" : [
        ]
      },
      {
        "id" : "28d33664-b604-47f5-90da-52abd392fd44",
        "parentId" : "960a12eb-4af0-4cbd-9534-6fa38ed060ab",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Hi @jacobhjkim it was mainly because we wanted to store each Variable as a separate secret (to have proper access control / avoid limits on a secret) and the fact that we use KV store, so we needed a key",
        "createdAt" : "2020-07-07T13:00:16Z",
        "updatedAt" : "2020-07-07T13:00:27Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "7c274d16-0d96-4141-a9f1-5cd127a73f3c",
        "parentId" : "960a12eb-4af0-4cbd-9534-6fa38ed060ab",
        "authorId" : "e2b11d9c-0baa-4ab7-888a-44dd5947d811",
        "body" : "I see, thanks for the answer 👍 ",
        "createdAt" : "2020-07-07T13:01:49Z",
        "updatedAt" : "2020-07-07T13:01:49Z",
        "lastEditedBy" : "e2b11d9c-0baa-4ab7-888a-44dd5947d811",
        "tags" : [
        ]
      }
    ],
    "commit" : "277e7fc8a5462f1e2936d1185dc94761b1426ae9",
    "line" : 64,
    "diffHunk" : "@@ -1,1 +168,172 @@        \"\"\"\n        response = self._get_secret(self.variables_path, key)\n        return response.get(\"value\") if response else None\n\n    def _get_secret(self, path_prefix: str, secret_id: str) -> Optional[dict]:"
  },
  {
    "id" : "c3451b87-b7cf-4e7d-87e1-8975e0b7808e",
    "prId" : 7948,
    "prUrl" : "https://github.com/apache/airflow/pull/7948#pullrequestreview-383307069",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f2b9e218-1f4e-4a20-a7a4-a635554d8cdc",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "```suggestion\r\n        secret_path = \"/\".join([self.connections_path, conn_id])\r\n```\r\nDo we need this method at all? This can be expressed with one line of code and will be more generic.\r\n",
        "createdAt" : "2020-03-28T11:47:06Z",
        "updatedAt" : "2020-03-28T11:47:06Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "fb4aed7a-606a-40c9-afc6-f395e5755b13",
        "parentId" : "f2b9e218-1f4e-4a20-a7a4-a635554d8cdc",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "It is a separate method for SecretsBackend **Meta** class so that each Backend can implement it as they all have a separate and all have a prefix and a path.",
        "createdAt" : "2020-03-28T11:59:49Z",
        "updatedAt" : "2020-03-28T11:59:49Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      }
    ],
    "commit" : "e84ca70c7b4274bb5cb54c248a79e6acc657f089",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +151,155 @@        :type conn_id: str\n        \"\"\"\n        secret_path = self.build_path(self.connections_path, conn_id)\n\n        try:"
  }
]