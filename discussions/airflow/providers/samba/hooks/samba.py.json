[
  {
    "id" : "4eb4c6ec-c769-4795-8666-eaaadde4a3ae",
    "prId" : 16115,
    "prUrl" : "https://github.com/apache/airflow/pull/16115#pullrequestreview-675043245",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "parentId" : null,
        "authorId" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "body" : "Is the list of fields exhaustive? I feel we should do some sanitising instead of passing the whole JSON object directly in.\r\n\r\nAlso `:param` is for function arguments and should not be used for `extra` keys. These descriptions should live somewhere else.",
        "createdAt" : "2021-05-27T14:09:44Z",
        "updatedAt" : "2021-05-27T14:09:44Z",
        "lastEditedBy" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "tags" : [
        ]
      },
      {
        "id" : "eb0f7223-c8ff-49dd-9ac6-13f8898e460b",
        "parentId" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "authorId" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "body" : "@uranusjr fixed in 0c8cca7 – the list is inexhaustive (mentioned now) and I have reformatted as definition list.\r\n\r\nThe `:param` stuff was token from the Oracle hook, but I guess that is a bad example :-)\r\n\r\nBy the way, I have since realized that the underlying Python library that supports `SambaHook` is basically abandonware and not particularly useful – it breaks quite a few expectations if you look at the actual `smbclient` functionality.",
        "createdAt" : "2021-05-27T14:40:38Z",
        "updatedAt" : "2021-05-27T14:40:38Z",
        "lastEditedBy" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "tags" : [
        ]
      },
      {
        "id" : "73bf79f0-309d-407f-9295-c0d557704717",
        "parentId" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "authorId" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "body" : "> By the way, I have since realized that the underlying Python library that supports `SambaHook` is basically abandonware and not particularly useful\r\n\r\nThanks for taising this. It would be worthwhile to open an issue for this to migrate to another library, I think. I don’t have much experience dealing with SMB with Python, but `pysmb` seems to be a popular choice.",
        "createdAt" : "2021-05-27T14:44:55Z",
        "updatedAt" : "2021-05-27T14:44:55Z",
        "lastEditedBy" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "tags" : [
        ]
      },
      {
        "id" : "0ad9df1f-90c3-4a53-8da7-1c0b862e4311",
        "parentId" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "authorId" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "body" : "There is an open issue: https://github.com/apache/airflow/issues/14054",
        "createdAt" : "2021-05-27T15:47:26Z",
        "updatedAt" : "2021-05-27T15:47:27Z",
        "lastEditedBy" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "tags" : [
        ]
      },
      {
        "id" : "f8a69b11-1004-4bef-a925-7b9b74dae719",
        "parentId" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "authorId" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "body" : "@uranusjr so I think we can perhaps go ahead and consider merging this request and then I'll submit another request to migrate to `pysmb`.\r\n\r\nI have already done some testing and it seems very well suited.",
        "createdAt" : "2021-06-01T16:05:19Z",
        "updatedAt" : "2021-06-01T16:05:20Z",
        "lastEditedBy" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "tags" : [
        ]
      },
      {
        "id" : "890fcb8c-222e-45fb-b071-1479097501d2",
        "parentId" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "authorId" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "body" : "Yup LGTM. Could you close-reopen the PR to trigger CI?",
        "createdAt" : "2021-06-01T16:16:57Z",
        "updatedAt" : "2021-06-01T16:16:58Z",
        "lastEditedBy" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "tags" : [
        ]
      },
      {
        "id" : "4d463255-cb78-4ee7-a460-9b96a77946db",
        "parentId" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "authorId" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "body" : "@uranusjr done",
        "createdAt" : "2021-06-03T05:51:20Z",
        "updatedAt" : "2021-06-03T05:51:20Z",
        "lastEditedBy" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "tags" : [
        ]
      },
      {
        "id" : "bb97938d-5390-48ec-a673-5caf90277a50",
        "parentId" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "authorId" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "body" : "@malthe \r\nCan you please rebase to latest main (former master branch)?",
        "createdAt" : "2021-06-03T06:41:48Z",
        "updatedAt" : "2021-06-03T06:42:39Z",
        "lastEditedBy" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "tags" : [
        ]
      },
      {
        "id" : "dfd89b8c-d8b5-4c82-9c12-83c431d85fc2",
        "parentId" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "authorId" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "body" : "@eladkal done!",
        "createdAt" : "2021-06-03T06:44:53Z",
        "updatedAt" : "2021-06-03T06:44:53Z",
        "lastEditedBy" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "tags" : [
        ]
      },
      {
        "id" : "95917707-0427-48dd-9119-b23d4a26c01f",
        "parentId" : "254e13c6-6e7c-4ec8-948c-fe078c98ebc3",
        "authorId" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "body" : "@eladkal looks about ready now, checks have run.",
        "createdAt" : "2021-06-03T08:57:13Z",
        "updatedAt" : "2021-06-03T08:57:13Z",
        "lastEditedBy" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "tags" : [
        ]
      }
    ],
    "commit" : "ea4e6aad04686a9e26d4e59e9b9508fe772fc4aa",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +66,70 @@            ip=self.conn.host,\n            password=self.conn.password,\n            **self.conn.extra_dejson,\n        )\n        return samba"
  },
  {
    "id" : "941ecad1-233e-47cf-b13c-7b9bfd49c189",
    "prId" : 17273,
    "prUrl" : "https://github.com/apache/airflow/pull/17273#pullrequestreview-716645506",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9c4d35ee-c809-423a-b3a5-a638de1311cd",
        "parentId" : null,
        "authorId" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "body" : "Should this be `self._connection_cache`?",
        "createdAt" : "2021-07-28T03:32:27Z",
        "updatedAt" : "2021-07-28T03:32:28Z",
        "lastEditedBy" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "tags" : [
        ]
      },
      {
        "id" : "b80be1d4-4309-492b-bf90-5c7d92c2fb81",
        "parentId" : "9c4d35ee-c809-423a-b3a5-a638de1311cd",
        "authorId" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "body" : "Well, the variable is aliased locally to `connection_cache`.",
        "createdAt" : "2021-07-28T06:48:30Z",
        "updatedAt" : "2021-07-28T06:48:30Z",
        "lastEditedBy" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "tags" : [
        ]
      },
      {
        "id" : "2e2927e2-008f-4bd9-b0c9-5947afc6c7ac",
        "parentId" : "9c4d35ee-c809-423a-b3a5-a638de1311cd",
        "authorId" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "body" : "Oh OK, I misread.",
        "createdAt" : "2021-07-28T07:00:08Z",
        "updatedAt" : "2021-07-28T07:00:09Z",
        "lastEditedBy" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "tags" : [
        ]
      }
    ],
    "commit" : "45933ae0f3508ac67ecd1bc169316ac2d3da63f8",
    "line" : 55,
    "diffHunk" : "@@ -1,1 +63,67 @@            \"password\": conn.password,\n            \"port\": conn.port or 445,\n            \"connection_cache\": connection_cache,\n        }\n"
  },
  {
    "id" : "01df7b55-cadb-418b-b0a6-0b77f8ca72dd",
    "prId" : 17273,
    "prUrl" : "https://github.com/apache/airflow/pull/17273#pullrequestreview-717476140",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b4db6b1e-94dc-4da3-8202-5ce80b870dee",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "If I read that correctly - it means that SambaHook MUST be used as ContextManager in some cases, otherwise there might some problems with initializing some parameters during constructor? This is not a usual pattern we have in Airflow for hooks (though I think it's nice pattern for Hooks) but I think some explanation is needed at least in the docstring explaining the difference between the two and when to use it? \r\n\r\nAlso - would you mind to add a CHANGELOG.txt entry? Don't yet put the version (I will update it) but some backwards-compatibility notes are needed (how to migrate?)",
        "createdAt" : "2021-07-28T14:29:29Z",
        "updatedAt" : "2021-07-28T14:29:30Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "b90a84eb-1829-4425-b408-1abd91f6167d",
        "parentId" : "b4db6b1e-94dc-4da3-8202-5ce80b870dee",
        "authorId" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "body" : "@potiuk where would those notes go? I don't see other changelog entries with such information. I have added a simple changelog entry for now and a note in the docstring about using it as a context manager.",
        "createdAt" : "2021-07-28T20:53:22Z",
        "updatedAt" : "2021-07-28T21:14:56Z",
        "lastEditedBy" : "bac757f4-4a10-466e-abbd-f1d811f645da",
        "tags" : [
        ]
      },
      {
        "id" : "b828ba05-b37a-4928-94f6-0a714d3d65a9",
        "parentId" : "b4db6b1e-94dc-4da3-8202-5ce80b870dee",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "You could see some of those in other providers - for example look at the Google provider: https://github.com/apache/airflow/blob/main/airflow/providers/google/CHANGELOG.rst - usually when there are braking changes that require more than one-line mentioning.\r\n\r\nEven in Samba, we've added a warning when we removed \"apply_default\" (this was a global one and it actually did NOT really apply to samba but it went there as it was \"all operator\" change.\r\n\r\nhttps://github.com/apache/airflow/blob/main/airflow/providers/samba/CHANGELOG.rst\r\n",
        "createdAt" : "2021-07-28T21:20:25Z",
        "updatedAt" : "2021-07-28T21:20:25Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "45933ae0f3508ac67ecd1bc169316ac2d3da63f8",
    "line" : 59,
    "diffHunk" : "@@ -1,1 +67,71 @@\n    def __enter__(self):\n        # This immediately connects to the host (which can be\n        # perceived as a benefit), but also help work around an issue:\n        #"
  }
]