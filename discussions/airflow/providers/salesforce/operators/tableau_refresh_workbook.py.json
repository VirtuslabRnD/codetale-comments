[
  {
    "id" : "a8bc6a94-7b6c-4325-bfe3-59baa9c5d459",
    "prId" : 7410,
    "prUrl" : "https://github.com/apache/airflow/pull/7410#pullrequestreview-358472742",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c6fd455a-bfa8-4244-b227-c30f71c49834",
        "parentId" : null,
        "authorId" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "body" : "Do you think it would be possible to have Tableau connection defined in `airflow/models/connection.py`\r\nBy having that the Extra field could have default site hence it would be able to extract the site from the connection rather than pass it every time the hook is used.\r\nThe hook itself can overwrite the default site in the connection.",
        "createdAt" : "2020-02-13T13:43:50Z",
        "updatedAt" : "2020-02-22T01:00:27Z",
        "lastEditedBy" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "tags" : [
        ]
      },
      {
        "id" : "ff04698f-541b-47cf-9a21-0b5ae12dc7c2",
        "parentId" : "c6fd455a-bfa8-4244-b227-c30f71c49834",
        "authorId" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "body" : "Good point.",
        "createdAt" : "2020-02-13T19:00:44Z",
        "updatedAt" : "2020-02-22T01:00:27Z",
        "lastEditedBy" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "479d29cf896de3c69ad6287607ed16980a9f4ce2",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +52,56 @@        super().__init__(*args, **kwargs)\n        self.workbook_name = workbook_name\n        self.site_id = site_id\n        self.blocking = blocking\n        self.tableau_conn_id = tableau_conn_id"
  },
  {
    "id" : "3e4463b5-f31c-4e87-9107-6a4d2d8e29e7",
    "prId" : 7410,
    "prUrl" : "https://github.com/apache/airflow/pull/7410#pullrequestreview-359739509",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f0030bd2-548f-49f8-89c4-5a752575a801",
        "parentId" : null,
        "authorId" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "body" : "Does this support refreshing individual workbook report or the whole workbook ?\r\nSay I have:\r\n`https://url/#/site/site_name/views/Calls/Department`\r\n`https://url/#/site/site_name/views/Calls/Agents`\r\nif I pass `Calls` would it refresh both `Department` & `Agents` ?\r\nWhat if I pass `Calls/Agents` ?",
        "createdAt" : "2020-02-13T13:50:20Z",
        "updatedAt" : "2020-02-22T01:00:27Z",
        "lastEditedBy" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "tags" : [
        ]
      },
      {
        "id" : "81913183-ad69-4de9-a947-ac02d0d52bbe",
        "parentId" : "f0030bd2-548f-49f8-89c4-5a752575a801",
        "authorId" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "body" : "I am gonna check that.",
        "createdAt" : "2020-02-13T19:01:50Z",
        "updatedAt" : "2020-02-22T01:00:27Z",
        "lastEditedBy" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "tags" : [
        ]
      },
      {
        "id" : "4044547d-7970-489f-bceb-e2488b2dc88e",
        "parentId" : "f0030bd2-548f-49f8-89c4-5a752575a801",
        "authorId" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "body" : "> Refreshes the specified workbook.\r\n> \r\n> This method refreshes the specified workbook, with no need to associate the workbook refresh with a scheduled task. This method is the equivalent of selecting a workbook using the Tableau Server UI, and then selecting Refresh Extracts from the menu (also known as a \"manual refresh\").\r\n> \r\n\r\nfrom https://help.tableau.com/current/api/rest_api/en-us/REST/rest_api_ref_workbooksviews.htm#update_workbook_now",
        "createdAt" : "2020-02-17T13:33:27Z",
        "updatedAt" : "2020-02-22T01:00:27Z",
        "lastEditedBy" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "tags" : [
        ]
      },
      {
        "id" : "1dd0583b-2b10-40da-ad74-92db8982f775",
        "parentId" : "f0030bd2-548f-49f8-89c4-5a752575a801",
        "authorId" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "body" : "> if I pass Calls would it refresh both Department & Agents ?\r\n\r\nYes.\r\n\r\n> What if I pass Calls/Agents ?\r\n\r\nI think it fails, because that's not a Workbook - it is a View in a Workbook, right?!\r\n\r\n",
        "createdAt" : "2020-02-17T13:35:18Z",
        "updatedAt" : "2020-02-22T01:00:27Z",
        "lastEditedBy" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "tags" : [
        ]
      },
      {
        "id" : "0dce7529-80c1-43cb-8e12-f3496e236f9e",
        "parentId" : "f0030bd2-548f-49f8-89c4-5a752575a801",
        "authorId" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "body" : "You actually pass an ID of a workbook not the name to the Tableau Server. I am iterating through workbooks by names and I am returning the workbook id of the workbook that matches. -> which means it will not find `Calls/Agents`",
        "createdAt" : "2020-02-17T13:38:32Z",
        "updatedAt" : "2020-02-22T01:00:27Z",
        "lastEditedBy" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "479d29cf896de3c69ad6287607ed16980a9f4ce2",
    "line" : 92,
    "diffHunk" : "@@ -1,1 +90,94 @@\n    def _refresh_workbook(self, tableau_hook: TableauHook, workbook_id: str) -> str:\n        job = tableau_hook.server.workbooks.refresh(workbook_id)\n        self.log.info('Refreshing Workbook %s...', self.workbook_name)\n        return job.id"
  }
]