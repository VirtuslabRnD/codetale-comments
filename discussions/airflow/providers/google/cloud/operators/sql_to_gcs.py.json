[
  {
    "id" : "d2c4da60-34f5-4572-a4b3-f247639ad296",
    "prId" : 9140,
    "prUrl" : "https://github.com/apache/airflow/pull/9140#pullrequestreview-424491006",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "549bf3f6-5523-4c51-8201-fba3fe2289e4",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Should we add a warning in init if both gzip and schema are provided?\r\n```\r\n:param gzip: Option to compress file for upload (does not apply to schemas).\r\n```",
        "createdAt" : "2020-06-04T13:47:46Z",
        "updatedAt" : "2020-06-04T13:47:46Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "24790f7e-7974-4570-9631-c214c3d0b54f",
        "parentId" : "549bf3f6-5523-4c51-8201-fba3fe2289e4",
        "authorId" : "e36a35d6-309e-48ac-9c74-73b020bbcd99",
        "body" : "I don't see an issue there, you can define the schema and add the option to `gzip=True`. It'll perform what is documented `compress file for upload (does not apply to schemas)`, the fact that the schema is passed manually do not interfere, the schema file is created only if a schema filename is provided:\r\n\r\n```python\r\n        # If a schema is set, create a BQ schema JSON file.\r\n        if self.schema_filename:\r\n            self.log.info(\"Writing local schema file\")\r\n            files_to_upload.append(self._write_local_schema_file(cursor))\r\n```\r\n\r\nIf `schema_filename` is set, then the file is created and the documentation still applies.",
        "createdAt" : "2020-06-04T14:11:40Z",
        "updatedAt" : "2020-06-04T14:11:40Z",
        "lastEditedBy" : "e36a35d6-309e-48ac-9c74-73b020bbcd99",
        "tags" : [
        ]
      }
    ],
    "commit" : "a54b2ed8e097982e168c89f1c042c441c51d82d8",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +293,297 @@                        tmp_file.get('file_handle').name,\n                        mime_type=tmp_file.get('file_mime_type'),\n                        gzip=self.gzip if tmp_file.get('file_name') != self.schema_filename else False)"
  }
]