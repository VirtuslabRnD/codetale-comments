[
  {
    "id" : "5a12e3f0-3781-46d5-a0cb-5a9144ee542c",
    "prId" : 12907,
    "prUrl" : "https://github.com/apache/airflow/pull/12907#pullrequestreview-550129477",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d6fa56fc-4159-4db7-ab72-119221f4a070",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Do we need the case for `global`?",
        "createdAt" : "2020-12-08T12:00:41Z",
        "updatedAt" : "2020-12-08T12:00:41Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "0db78714-1886-4304-808b-9d49d6ad2894",
        "parentId" : "d6fa56fc-4159-4db7-ab72-119221f4a070",
        "authorId" : "10edd567-9bf3-40d0-b93b-828281fe8907",
        "body" : "If template is in global namespace, region (location) parameter needed to be set to 'global' as required for template path [1], [2].\r\n\r\n[1]: https://github.com/apache/airflow/blob/8c42cf1b00c90f0d7f11b8a3a455381de8e003c5/airflow/providers/google/cloud/hooks/dataproc.py#L645\r\n[2]: https://github.com/googleapis/python-dataproc/blob/7ec92b71be9c1d0d305421bb1b1dce5d92377bba/google/cloud/dataproc_v1beta2/services/workflow_template_service/client.py#L155",
        "createdAt" : "2020-12-08T12:25:38Z",
        "updatedAt" : "2020-12-08T12:25:39Z",
        "lastEditedBy" : "10edd567-9bf3-40d0-b93b-828281fe8907",
        "tags" : [
        ]
      },
      {
        "id" : "cefce7c1-57e5-4dd8-b5a4-fec4759c19a8",
        "parentId" : "d6fa56fc-4159-4db7-ab72-119221f4a070",
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "@otourzan in first link users have to provide the value for `location` so it's up to them to provide proper configuration. Or do I miss something?",
        "createdAt" : "2020-12-08T21:53:05Z",
        "updatedAt" : "2020-12-08T21:53:05Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "81c8473e-8746-4d3c-975e-23cd35750c31",
        "parentId" : "d6fa56fc-4159-4db7-ab72-119221f4a070",
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Btw. I see that you are Google related, are you on Airflow slack? My colleague @michalslowikowski00 is refactoring Dataproc operators to use dataproc python library 2.0 and having someone to consult would be lovely ðŸš€ ",
        "createdAt" : "2020-12-08T21:56:21Z",
        "updatedAt" : "2020-12-08T21:56:21Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "f039090b-d7e2-4edf-a888-41f2177ef185",
        "parentId" : "d6fa56fc-4159-4db7-ab72-119221f4a070",
        "authorId" : "10edd567-9bf3-40d0-b93b-828281fe8907",
        "body" : "Yes, user should provide proper configuration. If they pass 'global' as a valid location, the endpoint needs to be global one (without region prefix: 'dataproc.googleapis.com') as there is *no* endpoint like 'global-dataproc.googleapis.com'. Not sure if I got your point here.\r\n\r\nI joined the Airflow slack and will be happy to help.\r\n",
        "createdAt" : "2020-12-11T14:10:46Z",
        "updatedAt" : "2020-12-15T00:57:34Z",
        "lastEditedBy" : "10edd567-9bf3-40d0-b93b-828281fe8907",
        "tags" : [
        ]
      }
    ],
    "commit" : "bd53bfa90b6b26dc1dedd552c25596f266501b61",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +221,225 @@        \"\"\"Returns WorkflowTemplateServiceClient.\"\"\"\n        client_options = None\n        if location and location != 'global':\n            client_options = {'api_endpoint': f'{location}-dataproc.googleapis.com:443'}\n"
  }
]