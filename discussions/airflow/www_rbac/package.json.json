[
  {
    "id" : "047acc69-9dda-4b30-a278-f3ac6a9fe19e",
    "prId" : 4147,
    "prUrl" : "https://github.com/apache/airflow/pull/4147#pullrequestreview-188527147",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9776851c-8652-4b1d-947e-5adb8ab38f57",
        "parentId" : null,
        "authorId" : "44a4606a-9224-404a-87fd-9a2417fd2610",
        "body" : "Unfortunately this breaks the www_rbac graph view, see JS error below. I cleaned `airflow/www_rbac/node_modules/` and run `airflow/www_rbac/compile_assets.sh`.\r\n\r\nWe still use d3 version 3, so dagre-d3 version 0.4.18 is the last that can be used, see also https://github.com/dagrejs/dagre-d3/issues/309\r\n\r\nIf I revert back to dagre-d3 0.4.18 the graph view works. Should I create a PR to revert back? But I only have limited npm knowledge, not sure how to prevent the audit warnings. Or is there a plan to update d3?\r\n\r\n```\r\ndagre-d3.min.js:24 Uncaught TypeError: svgEdgeLabels.exit is not a function\r\n    at createEdgeLabels (dagre-d3.min.js:24)\r\n    at Array.fn (dagre-d3.min.js:90)\r\n    at Array.Co.call (d3.min.js:3)\r\n    at graph?dag_id=demo:1131\r\n```\r\n",
        "createdAt" : "2018-12-31T18:43:28Z",
        "updatedAt" : "2018-12-31T18:43:28Z",
        "lastEditedBy" : "44a4606a-9224-404a-87fd-9a2417fd2610",
        "tags" : [
        ]
      },
      {
        "id" : "32d83432-7f19-4f4e-bdcc-eb4475bed85a",
        "parentId" : "9776851c-8652-4b1d-947e-5adb8ab38f57",
        "authorId" : "44a4606a-9224-404a-87fd-9a2417fd2610",
        "body" : "Hm, there is a fix https://github.com/dagrejs/dagre-d3/pull/313 which is included in dagre-d3 0.6.3. However then I get a different error: https://github.com/dagrejs/dagre-d3/issues/309#issuecomment-450680411",
        "createdAt" : "2018-12-31T18:59:39Z",
        "updatedAt" : "2018-12-31T18:59:39Z",
        "lastEditedBy" : "44a4606a-9224-404a-87fd-9a2417fd2610",
        "tags" : [
        ]
      }
    ],
    "commit" : "88fd5ea0149490f97173887014426f0acb7cf2a0",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +57,61 @@    \"d3\": \"^3.4.4\",\n    \"d3-tip\": \"^0.9.1\",\n    \"dagre-d3\": \"^0.6.1\",\n    \"datatables.net\": \"^1.10.19\",\n    \"datatables.net-bs\": \"^1.10.19\","
  }
]