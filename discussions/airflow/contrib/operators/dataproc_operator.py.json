[
  {
    "id" : "bb88fab7-a464-4373-a779-029b77fa872d",
    "prId" : 4015,
    "prUrl" : "https://github.com/apache/airflow/pull/4015#pullrequestreview-164252602",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4f5d1e63-608e-495d-8eb7-827a6eed7c71",
        "parentId" : null,
        "authorId" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "body" : "This assertion does not make any sense now, right? Since `single_node = num_workers == 0`, the second one will statement always be True.",
        "createdAt" : "2018-10-12T12:07:59Z",
        "updatedAt" : "2018-10-12T12:07:59Z",
        "lastEditedBy" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "tags" : [
        ]
      },
      {
        "id" : "f2ef50bc-5dd3-4eda-a15b-2a5c46d88f1f",
        "parentId" : "4f5d1e63-608e-495d-8eb7-827a6eed7c71",
        "authorId" : "6283e38d-f887-4b47-9fd7-70b9ef6ff115",
        "body" : "I can imagine someone trying to setup cluster which consists only preemptible workers (`num_preemptible_workers`) and no regular workers (`num_workers`). \r\n\r\nGenerally, we could assert on `num_workers` and `num_preemptible_workers` and allow only cases: \r\n- both values are zeros\r\n- `num_workers` >= 2\r\n\r\nWDYT?",
        "createdAt" : "2018-10-12T13:29:40Z",
        "updatedAt" : "2018-10-12T13:29:40Z",
        "lastEditedBy" : "6283e38d-f887-4b47-9fd7-70b9ef6ff115",
        "tags" : [
        ]
      },
      {
        "id" : "3f405df8-a0e4-4fce-9f7e-cec48bbadf1b",
        "parentId" : "4f5d1e63-608e-495d-8eb7-827a6eed7c71",
        "authorId" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "body" : "Oh, that is true! ;)",
        "createdAt" : "2018-10-12T13:56:10Z",
        "updatedAt" : "2018-10-12T13:56:10Z",
        "lastEditedBy" : "03e41e23-f438-4a06-9652-8f20638d2c3a",
        "tags" : [
        ]
      }
    ],
    "commit" : "8bf1a3cd284bcec9a0540dd2af2e0ef157cfd437",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +212,216 @@            \"custom_image and image_version can't be both set\"\n\n        assert (\n            not self.single_node or (\n                self.single_node and self.num_preemptible_workers == 0"
  }
]