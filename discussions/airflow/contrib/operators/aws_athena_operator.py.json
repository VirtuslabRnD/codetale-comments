[
  {
    "id" : "2ec2ae84-84ff-411b-8b6a-37785f734cf6",
    "prId" : 4111,
    "prUrl" : "https://github.com/apache/airflow/pull/4111#pullrequestreview-169889617",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "08b981d5-6d55-43fd-8891-a46e1c871112",
        "parentId" : null,
        "authorId" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "body" : "Proper documentation (docstring) seems missing.",
        "createdAt" : "2018-10-30T03:19:31Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "tags" : [
        ]
      },
      {
        "id" : "6b8dd3ee-2df3-4f24-84bd-e94f3d1ecfb2",
        "parentId" : "08b981d5-6d55-43fd-8891-a46e1c871112",
        "authorId" : "3e806d05-279f-4e64-963c-e4703c564118",
        "body" : "@XD-DENG docstrings are added at all relevant places and documentation to new feature is added. Please check.",
        "createdAt" : "2018-10-30T17:01:31Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "3e806d05-279f-4e64-963c-e4703c564118",
        "tags" : [
        ]
      }
    ],
    "commit" : "22a7511b6889d720d1e2d2517579394ea9701d6e",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +41,45 @@    :type sleep_time: int\n    \"\"\"\n\n    ui_color = '#44b5e2'\n    template_fields = ('query', 'database', 'output_location')"
  },
  {
    "id" : "d67cbc48-e693-4a40-878a-2b11871f3a4e",
    "prId" : 4111,
    "prUrl" : "https://github.com/apache/airflow/pull/4111#pullrequestreview-170144315",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "69c5abe5-df8c-40cf-8eac-93949ad22083",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "The pre_ and post_ execute functions should be all merged in to execute - for pre it doesn't matter, but post in particular is the bulk of the time, and execution_timeouts are only applied to `execute()` so that needs to be where we do the waiting.",
        "createdAt" : "2018-10-31T09:09:57Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "22a7511b6889d720d1e2d2517579394ea9701d6e",
    "line" : 76,
    "diffHunk" : "@@ -1,1 +74,78 @@        self.query_execution_id = self.hook.run_query(self.query, self.query_execution_context,\n                                                      self.result_configuration, self.client_request_token)\n        self.hook.poll_query_status(self.query_execution_id)\n\n    def on_kill(self):"
  },
  {
    "id" : "033bc6e8-f2b1-4b3e-b425-08eac66038b4",
    "prId" : 4111,
    "prUrl" : "https://github.com/apache/airflow/pull/4111#pullrequestreview-174344726",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "61017596-05c2-4ef5-a082-6f829bb40c6a",
        "parentId" : null,
        "authorId" : "5e8c8549-4845-4756-91e0-de470247e43f",
        "body" : "L72-73 should be in `__init__`",
        "createdAt" : "2018-11-13T10:40:23Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "5e8c8549-4845-4756-91e0-de470247e43f",
        "tags" : [
        ]
      },
      {
        "id" : "aea0abe9-c200-4454-876e-737bb5843148",
        "parentId" : "61017596-05c2-4ef5-a082-6f829bb40c6a",
        "authorId" : "3e806d05-279f-4e64-963c-e4703c564118",
        "body" : "As advised by @ashb connections are not supposed to be initiated in `__init__`. For the above operator, `database` and `output_location` are template_fields and templating will be applied after `__init__` and before `execute`.",
        "createdAt" : "2018-11-13T10:45:58Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "3e806d05-279f-4e64-963c-e4703c564118",
        "tags" : [
        ]
      },
      {
        "id" : "18e28495-a984-46df-91e5-57d11b6408a2",
        "parentId" : "61017596-05c2-4ef5-a082-6f829bb40c6a",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "It's probably worth adding a comment why this is done here and not in `__init__` to avoid this question in the future.",
        "createdAt" : "2018-11-13T11:06:03Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "e2b7a5d4-7f0f-4eda-944c-c5f408b4a679",
        "parentId" : "61017596-05c2-4ef5-a082-6f829bb40c6a",
        "authorId" : "5e8c8549-4845-4756-91e0-de470247e43f",
        "body" : "Originally, I want to extend the operator to run pre, post SQL.",
        "createdAt" : "2018-11-13T11:09:25Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "5e8c8549-4845-4756-91e0-de470247e43f",
        "tags" : [
        ]
      },
      {
        "id" : "5d876754-dcc3-48cc-b80a-aa161c16dac9",
        "parentId" : "61017596-05c2-4ef5-a082-6f829bb40c6a",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "@ckljohn I don't understand what you mean, sorry.",
        "createdAt" : "2018-11-13T11:12:55Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "19ade653-9f1f-4562-aa32-98b42ff2a8c9",
        "parentId" : "61017596-05c2-4ef5-a082-6f829bb40c6a",
        "authorId" : "5e8c8549-4845-4756-91e0-de470247e43f",
        "body" : "I want to run Athena query in `pre_execute` before `execute`. ",
        "createdAt" : "2018-11-13T11:25:06Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "5e8c8549-4845-4756-91e0-de470247e43f",
        "tags" : [
        ]
      },
      {
        "id" : "a4b55598-db19-433f-8cc0-20d6748605a6",
        "parentId" : "61017596-05c2-4ef5-a082-6f829bb40c6a",
        "authorId" : "5e8c8549-4845-4756-91e0-de470247e43f",
        "body" : "Just thought it should be done as early as it can. Anyway, I can handle it.",
        "createdAt" : "2018-11-13T11:32:06Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "5e8c8549-4845-4756-91e0-de470247e43f",
        "tags" : [
        ]
      },
      {
        "id" : "79756d39-18e4-4d6e-971f-263eac7d6c93",
        "parentId" : "61017596-05c2-4ef5-a082-6f829bb40c6a",
        "authorId" : "3e806d05-279f-4e64-963c-e4703c564118",
        "body" : "@ashb can you review final changes and approve this pr. Its been open for a long time. ",
        "createdAt" : "2018-11-13T12:50:28Z",
        "updatedAt" : "2018-11-15T02:57:19Z",
        "lastEditedBy" : "3e806d05-279f-4e64-963c-e4703c564118",
        "tags" : [
        ]
      }
    ],
    "commit" : "22a7511b6889d720d1e2d2517579394ea9701d6e",
    "line" : 73,
    "diffHunk" : "@@ -1,1 +71,75 @@\n        self.query_execution_context['Database'] = self.database\n        self.result_configuration['OutputLocation'] = self.output_location\n        self.query_execution_id = self.hook.run_query(self.query, self.query_execution_context,\n                                                      self.result_configuration, self.client_request_token)"
  },
  {
    "id" : "b0a9a029-5096-479c-b916-b8e983df9b63",
    "prId" : 4919,
    "prUrl" : "https://github.com/apache/airflow/pull/4919#pullrequestreview-215603614",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e49be690-7172-45a3-b421-8f92430e7b32",
        "parentId" : null,
        "authorId" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "body" : "Only one `{}`, but you provided two values in `.format()`",
        "createdAt" : "2019-03-18T13:42:54Z",
        "updatedAt" : "2019-03-22T14:40:58Z",
        "lastEditedBy" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "tags" : [
        ]
      }
    ],
    "commit" : "232a3d8812d7b565ed3fb0e969c79459d1215823",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +89,93 @@                'Final state of Athena job is {}. '\n                'Max tries of poll status exceeded, query_execution_id is {}.'\n                .format(query_status, self.query_execution_id))\n\n    def on_kill(self):"
  },
  {
    "id" : "4a6df0fe-6069-46a8-b4b1-82954471cd7c",
    "prId" : 4919,
    "prUrl" : "https://github.com/apache/airflow/pull/4919#pullrequestreview-215730217",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3ec48d17-dc16-46f2-8ef1-a6cabdf0f576",
        "parentId" : null,
        "authorId" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "body" : "You didn't update docstring for `max_tries`.",
        "createdAt" : "2019-03-18T13:45:29Z",
        "updatedAt" : "2019-03-22T14:40:58Z",
        "lastEditedBy" : "59d531be-9d1e-478d-99a0-6e20963d3e21",
        "tags" : [
        ]
      },
      {
        "id" : "695b482d-7e45-4d1e-8c80-5ffd0d258762",
        "parentId" : "3ec48d17-dc16-46f2-8ef1-a6cabdf0f576",
        "authorId" : "bc85eb43-91ad-413b-869b-fa191b304f9e",
        "body" : "@XD-DENG  Thx. I've updated it.",
        "createdAt" : "2019-03-18T17:01:36Z",
        "updatedAt" : "2019-03-22T14:40:58Z",
        "lastEditedBy" : "bc85eb43-91ad-413b-869b-fa191b304f9e",
        "tags" : [
        ]
      }
    ],
    "commit" : "232a3d8812d7b565ed3fb0e969c79459d1215823",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +50,54 @@    @apply_defaults\n    def __init__(self, query, database, output_location, aws_conn_id='aws_default', client_request_token=None,\n                 query_execution_context=None, result_configuration=None, sleep_time=30, max_tries=None,\n                 *args, **kwargs):\n        super(AWSAthenaOperator, self).__init__(*args, **kwargs)"
  }
]