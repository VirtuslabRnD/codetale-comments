[
  {
    "id" : "dfdd964b-2113-449d-8405-1a3ce160ee69",
    "prId" : 4124,
    "prUrl" : "https://github.com/apache/airflow/pull/4124#pullrequestreview-171119857",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "29575428-4ad5-4375-9fa0-662f97867d23",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Hmm.. Lets make this `update_database`. There was something similar in the last PR as well. Can we change patch to update in that too?",
        "createdAt" : "2018-11-02T11:31:18Z",
        "updatedAt" : "2018-11-02T11:32:33Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "c75bb1d0-9898-4c14-b533-8e09b44c5c42",
        "parentId" : "29575428-4ad5-4375-9fa0-662f97867d23",
        "authorId" : "01b3ded1-e987-42df-beb5-b014ac64dd56",
        "body" : "Actually, in Cloud SQL, both for instances and for databases, [patch](https://cloud.google.com/sql/docs/mysql/admin-api/v1beta4/instances/patch) and [update](https://cloud.google.com/sql/docs/mysql/admin-api/v1beta4/instances/update) are two different operations.\r\n\r\nI've decided for now to implement only the patch operator, however in the future there could be a separate update operator, too.\r\n\r\nSo I'd rather stick to the same names that Cloud SQL uses to avoid any confusion.",
        "createdAt" : "2018-11-02T11:55:59Z",
        "updatedAt" : "2018-11-02T11:55:59Z",
        "lastEditedBy" : "01b3ded1-e987-42df-beb5-b014ac64dd56",
        "tags" : [
        ]
      },
      {
        "id" : "0e0143eb-277d-4708-9325-8034336f31e9",
        "parentId" : "29575428-4ad5-4375-9fa0-662f97867d23",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Ya. Makes sense then.",
        "createdAt" : "2018-11-02T13:36:58Z",
        "updatedAt" : "2018-11-02T13:36:58Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "a7669561-a3e5-47fe-b58a-7d33ae80668e",
        "parentId" : "29575428-4ad5-4375-9fa0-662f97867d23",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "I didn't know that they are 2 different operatons. I am still trying to figure out the difference between both the operations. Looks like patch does partial update only.",
        "createdAt" : "2018-11-02T13:38:13Z",
        "updatedAt" : "2018-11-02T13:38:13Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "1f0e48ee-f9d4-4ad0-b926-6a72d197f01a",
        "parentId" : "29575428-4ad5-4375-9fa0-662f97867d23",
        "authorId" : "01b3ded1-e987-42df-beb5-b014ac64dd56",
        "body" : "Yes, sorry, forgot to explain this. You're right, `patch` is a partial update, while `update` is a full update.",
        "createdAt" : "2018-11-02T14:17:53Z",
        "updatedAt" : "2018-11-02T14:17:53Z",
        "lastEditedBy" : "01b3ded1-e987-42df-beb5-b014ac64dd56",
        "tags" : [
        ]
      }
    ],
    "commit" : "1fec0343d0769b36b83908174e6951db14adb7f6",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +187,191 @@        return self._wait_for_operation_to_complete(project, operation_name)\n\n    def patch_database(self, project, instance, database, body):\n        \"\"\"\n        Updates a database resource inside a Cloud SQL instance."
  },
  {
    "id" : "d0e628c0-9636-428e-a3d2-2a5c86626548",
    "prId" : 4500,
    "prUrl" : "https://github.com/apache/airflow/pull/4500#pullrequestreview-191952036",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ce92397b-bfb1-4520-9a89-06c6be1f00f3",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "It already gets the `project_id` from the connection. So, we don't need to add another default value",
        "createdAt" : "2019-01-12T20:09:58Z",
        "updatedAt" : "2019-01-14T21:32:21Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "380a2566-44f0-4b56-a6a0-57a474886a64",
        "parentId" : "ce92397b-bfb1-4520-9a89-06c6be1f00f3",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Not really. This case is different. Cloud SQL query can have project_id specified in \"extras\" - so for example cloudsql://host:port/dbname?project_id=xx&sslcert=xxx....\r\n\r\nIf this is not specified, then we should take it from the GCP connection. There are two different connections passed to cloud SQL query operation - one is the \"DB\" cloudsql://\" connection and the other is the GCP connection that is used to start Cloud SQL Proxy (if needed) - The 'cloud sql proxy' authenticates using a GCP connection (google_cloud_default by default).\r\n\r\nThe default project id is exactly for that reason - it is passed from the GCP connection as separate \"default\" parameter.",
        "createdAt" : "2019-01-12T21:11:58Z",
        "updatedAt" : "2019-01-14T21:32:21Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "697819a52a0c88e207eca68b0a023f8e6bea9a1f",
    "line" : 399,
    "diffHunk" : "@@ -1,1 +719,723 @@        self.cloudsql_connection = self.get_connection(self.gcp_cloudsql_conn_id)\n        self.extras = self.cloudsql_connection.extra_dejson\n        self.project_id = self.extras.get('project_id', default_gcp_project_id)\n        self.instance = self.extras.get('instance')\n        self.database = self.cloudsql_connection.schema"
  }
]