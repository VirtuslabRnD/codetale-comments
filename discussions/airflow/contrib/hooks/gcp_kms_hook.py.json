[
  {
    "id" : "1a0bb367-d572-4516-a959-e5a6d990bce4",
    "prId" : 3677,
    "prUrl" : "https://github.com/apache/airflow/pull/3677#pullrequestreview-142962691",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "38501be9-0a8a-4465-b3c3-cf51f4488954",
        "parentId" : null,
        "authorId" : "e11ad708-5554-4531-b233-3d24fe3d25f2",
        "body" : "This method doesn't accept arbitrary byte strings, which seems like an important use case for KMS. I think it would be better if the hook were byte/bytearray-oriented. We can offer convenience functions that use the byte-oriented encrypt/decrypt functions that do string decoding/encoding.\r\n\r\nPlease also add tests that the hook can encrypt/decrypt non-ASCII byte strings.",
        "createdAt" : "2018-08-02T17:24:28Z",
        "updatedAt" : "2018-08-03T17:23:13Z",
        "lastEditedBy" : "e11ad708-5554-4531-b233-3d24fe3d25f2",
        "tags" : [
        ]
      },
      {
        "id" : "177b755e-c106-4444-9966-75511d885232",
        "parentId" : "38501be9-0a8a-4465-b3c3-cf51f4488954",
        "authorId" : "df553346-ab1f-428a-8681-e191567afa6a",
        "body" : "Done",
        "createdAt" : "2018-08-02T20:28:51Z",
        "updatedAt" : "2018-08-03T17:23:13Z",
        "lastEditedBy" : "df553346-ab1f-428a-8681-e191567afa6a",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4b7753a1df770dd250c62dafb34138a89856ef5",
    "line" : 57,
    "diffHunk" : "@@ -1,1 +55,59 @@            'cloudkms', 'v1', http=http_authorized, cache_discovery=False)\n\n    def encrypt(self, key_name, plaintext, authenticated_data=None):\n        \"\"\"\n        Encrypts a plaintext message using Google Cloud KMS."
  },
  {
    "id" : "3b2f95e4-8e99-43bf-8168-337d48a2eb84",
    "prId" : 3677,
    "prUrl" : "https://github.com/apache/airflow/pull/3677#pullrequestreview-143251522",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7aa1e4d7-39ae-4988-b0ce-1768d5941ddb",
        "parentId" : null,
        "authorId" : "e11ad708-5554-4531-b233-3d24fe3d25f2",
        "body" : "Please run a quick manual integration test in python3 to verify that response['plaintext'] is indeed a str rather than a bytes object which won't have an `encode` method.",
        "createdAt" : "2018-08-03T07:13:52Z",
        "updatedAt" : "2018-08-03T17:23:13Z",
        "lastEditedBy" : "e11ad708-5554-4531-b233-3d24fe3d25f2",
        "tags" : [
        ]
      },
      {
        "id" : "f3e51571-c738-444b-bb7d-0e10a8ac52cc",
        "parentId" : "7aa1e4d7-39ae-4988-b0ce-1768d5941ddb",
        "authorId" : "df553346-ab1f-428a-8681-e191567afa6a",
        "body" : "I have, all calls to the API result in base64 encoded strings",
        "createdAt" : "2018-08-03T16:33:51Z",
        "updatedAt" : "2018-08-03T17:23:13Z",
        "lastEditedBy" : "df553346-ab1f-428a-8681-e191567afa6a",
        "tags" : [
        ]
      }
    ],
    "commit" : "a4b7753a1df770dd250c62dafb34138a89856ef5",
    "line" : 107,
    "diffHunk" : "@@ -1,1 +105,109 @@        response = request.execute()\n\n        plaintext = _b64decode(response['plaintext'])\n        return plaintext"
  }
]