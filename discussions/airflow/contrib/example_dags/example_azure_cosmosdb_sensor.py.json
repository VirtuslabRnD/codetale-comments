[
  {
    "id" : "d5017e31-96aa-49ed-8a45-10a0ca090ab4",
    "prId" : 5998,
    "prUrl" : "https://github.com/apache/airflow/pull/5998#pullrequestreview-285083182",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f5968156-9aa3-4fc7-a818-03b90563b3e8",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "This isn't going to work - the dag won't be found by Airflow as it needs to be stored in a module-level variable.\r\n\r\nSo it has to be something like this:\r\n```python\r\ndag = DAG('example_azure_cosmosdb_sensor', default_args=default_args)\r\nwith dag:\r\n```\r\n\r\n(also you removed the `dag.doc_md = __doc__` line)",
        "createdAt" : "2019-09-06T12:36:46Z",
        "updatedAt" : "2019-09-22T07:01:59Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "9a9fae84-e771-4424-b3db-2d4ab2289b07",
        "parentId" : "f5968156-9aa3-4fc7-a818-03b90563b3e8",
        "authorId" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "body" : "I followed GCP examples :\r\nhttps://github.com/apache/airflow/blob/master/airflow/gcp/example_dags/example_cloud_sql.py#L186\r\nhttps://github.com/apache/airflow/blob/master/airflow/gcp/example_dags/example_dataproc.py#L53\r\n\r\nI removed `dag.doc` as it doesn't appear in all examples and I think it should be consistent.\r\nThere are many optional settings that can be defined but in my point of view example should be simple and to the point. If something isn't required for the behavior/usage you want to show then it shouldn't be there.\r\n\r\nWDYT?\r\n",
        "createdAt" : "2019-09-06T12:59:01Z",
        "updatedAt" : "2019-09-22T07:01:59Z",
        "lastEditedBy" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "tags" : [
        ]
      },
      {
        "id" : "8fab975c-e5c8-4867-9369-386672bc4df8",
        "parentId" : "f5968156-9aa3-4fc7-a818-03b90563b3e8",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Turns out this does work and I mis-understoon python's scoping rules.\r\n\r\nPlease keep the doc_md -- that will show up in the UI. It can be passed as an kwarg to `DAG()` though",
        "createdAt" : "2019-09-06T13:37:35Z",
        "updatedAt" : "2019-09-22T07:01:59Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "4d363999-89ea-4295-b7d3-f3b973c8866a",
        "parentId" : "f5968156-9aa3-4fc7-a818-03b90563b3e8",
        "authorId" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "body" : "@ashb addressed comments",
        "createdAt" : "2019-09-06T20:27:29Z",
        "updatedAt" : "2019-09-22T07:01:59Z",
        "lastEditedBy" : "73238ffa-26c5-4e17-b57a-e3edd170dfb6",
        "tags" : [
        ]
      }
    ],
    "commit" : "a9b8393bcdb8c350b4832a979648acc15fbd1983",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +46,50 @@    default_args=default_args,\n    doc_md=__doc__\n) as dag:\n\n    t1 = AzureCosmosDocumentSensor("
  }
]