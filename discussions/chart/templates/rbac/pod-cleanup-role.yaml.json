[
  {
    "id" : "d10b448e-1623-4d16-9b6e-0a8d86f7101e",
    "prId" : 14152,
    "prUrl" : "https://github.com/apache/airflow/pull/14152#pullrequestreview-587839612",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae062e14-772a-4231-9a5b-a343f17f0f47",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Why `rbac.create` here, but `cleanup.serviceAccount.create` elsewhere?\r\n\r\nMore specifically: why do we need _two_ different config options for each  role we create?",
        "createdAt" : "2021-02-10T11:50:10Z",
        "updatedAt" : "2021-04-30T20:37:47Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "1b5e1798-a46e-4aaf-a7b4-8dfa56f91511",
        "parentId" : "ae062e14-772a-4231-9a5b-a343f17f0f47",
        "authorId" : "a6dff1b9-6bf3-4294-aed5-bea933e9653d",
        "body" : "With the [new way](https://github.com/apache/airflow/pull/14152/files#diff-dc12e5cc8016c85ad9e662af7c8b8cfb49d91965225e94aa12146dc1f371fc86R472-R480) that this service account is generated, a user can technically set `rbac.create` to `true`, `.Values.cleanup.serviceAccont.create` to `false` and still use the namespaces [default](https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/#use-multiple-service-accounts) service account. In that instance, the above role doesn't necessarily care if a service account for `cleanup` has been created as its going to use the `default` service account instead.",
        "createdAt" : "2021-02-10T17:01:57Z",
        "updatedAt" : "2021-04-30T20:37:47Z",
        "lastEditedBy" : "a6dff1b9-6bf3-4294-aed5-bea933e9653d",
        "tags" : [
        ]
      }
    ],
    "commit" : "3c04f880af42ec46ee4f78157ecdf86951b381ee",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +19,23 @@## Airflow Cleanup Role\n#################################\n{{- if and .Values.rbac.create .Values.cleanup.enabled }}\nkind: Role\napiVersion: rbac.authorization.k8s.io/v1"
  }
]