[
  {
    "id" : "203c6392-f932-488a-83c7-fcc080ad77fa",
    "prId" : 9748,
    "prUrl" : "https://github.com/apache/airflow/pull/9748#pullrequestreview-446463520",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "14841eea-7365-4702-9721-f0f7a36947e4",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Btw. can we template the `16` value?",
        "createdAt" : "2020-07-10T05:13:40Z",
        "updatedAt" : "2020-07-10T05:13:57Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "ac471332-260c-4ee3-9d21-ba0d03730951",
        "parentId" : "14841eea-7365-4702-9721-f0f7a36947e4",
        "authorId" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "body" : "Yes we can but let's do a different PR for that",
        "createdAt" : "2020-07-10T14:48:09Z",
        "updatedAt" : "2020-07-10T14:48:10Z",
        "lastEditedBy" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "tags" : [
        ]
      }
    ],
    "commit" : "4a8ed7cac77036c01ad64194f7988b7d72df402f",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +45,49 @@        targetQueryValue: \"1\"\n        connection: AIRFLOW_CONN_AIRFLOW_DB\n        query: \"SELECT ceil(COUNT(*)::decimal / 16) FROM task_instance WHERE state='running' OR state='queued'\"\n{{- end }}"
  },
  {
    "id" : "5bd9f990-a9dc-4b55-96b3-81b900dc9c6f",
    "prId" : 13571,
    "prUrl" : "https://github.com/apache/airflow/pull/13571#pullrequestreview-584904420",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9c31046d-6059-451f-bc46-58f0ea463b29",
        "parentId" : null,
        "authorId" : "a1587925-b1c0-4469-a592-51497b162e71",
        "body" : "i wonder if a better solution would be to allow user to specify the entire query, instead of `worker_concurrency`.  ~for one, this would resolve the problem highlighted in my other comment~.  additionally though it would open the door to support for mysql.  mysql has a different query syntax but otherwise there is a keda trigger for it and we could add support for it by enabling custom query.  custom query is also more flexible in general.",
        "createdAt" : "2021-02-05T05:47:43Z",
        "updatedAt" : "2021-02-08T10:49:29Z",
        "lastEditedBy" : "a1587925-b1c0-4469-a592-51497b162e71",
        "tags" : [
        ]
      },
      {
        "id" : "caae5abd-d5da-43ca-ac11-3d76e38ba3bd",
        "parentId" : "9c31046d-6059-451f-bc46-58f0ea463b29",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Currently the chart does not support MySQL anyway. Agree in principle though",
        "createdAt" : "2021-02-06T18:07:17Z",
        "updatedAt" : "2021-02-08T10:49:29Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "dc8187c1-0ba7-4479-90bc-83509b60986d",
        "parentId" : "9c31046d-6059-451f-bc46-58f0ea463b29",
        "authorId" : "a1587925-b1c0-4469-a592-51497b162e71",
        "body" : "the chart does not support mysql _when you run the metastore on k8s along with airflow_.  however, wouldn't it work with mysql if you had an external metastore e.g. rds (which is what is recommended anyway)?  \r\n\r\ni know postgres is the better choice for airflow and much more widely embraced but some folks might use other dbs and off top of my head i think it would probably work since you just need to specify conn uri and disable postgres and pgbouncer...",
        "createdAt" : "2021-02-06T18:18:12Z",
        "updatedAt" : "2021-02-08T10:49:29Z",
        "lastEditedBy" : "a1587925-b1c0-4469-a592-51497b162e71",
        "tags" : [
        ]
      },
      {
        "id" : "bd959e13-09bb-4224-a541-1b179789ca9a",
        "parentId" : "9c31046d-6059-451f-bc46-58f0ea463b29",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "oh yes -- you are right",
        "createdAt" : "2021-02-06T18:21:34Z",
        "updatedAt" : "2021-02-08T10:49:29Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcf8ebe1d4dab99827f06f936e33959fdd5e27c2",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +45,49 @@        targetQueryValue: \"1\"\n        connection: AIRFLOW_CONN_AIRFLOW_DB\n        query: \"SELECT ceil(COUNT(*)::decimal / {{ .Values.config.celery.worker_concurrency }}) FROM task_instance WHERE state='running' OR state='queued'\"\n{{- end }}"
  }
]