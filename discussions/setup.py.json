[
  {
    "id" : "97c9e2c5-b936-44b2-b340-abd972b95e4a",
    "prId" : 21430,
    "prUrl" : "https://github.com/ansible/ansible/pull/21430#pullrequestreview-21874581",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "369db078-e9fc-45a9-a740-e69a18eb2cf3",
        "parentId" : null,
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "CI failure due to python 2.4 syntax error:\r\n\r\n```\r\n2017-02-14 21:07:55 Compiling ./setup.py ...\r\n2017-02-14 21:07:55   File \"./setup.py\", line 14\r\n2017-02-14 21:07:55     with open('requirements.txt') as requirements_file:\r\n2017-02-14 21:07:55             ^\r\n2017-02-14 21:07:55 SyntaxError: invalid syntax\r\n```",
        "createdAt" : "2017-02-14T21:40:06Z",
        "updatedAt" : "2017-02-15T14:48:10Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      },
      {
        "id" : "dd00a3a6-25aa-4053-bae0-56b0b1d9e1dd",
        "parentId" : "369db078-e9fc-45a9-a740-e69a18eb2cf3",
        "authorId" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "body" : "setup.py shouldn't be checked for py2.4 support.  It will only run on py2.6+ as it is controller only",
        "createdAt" : "2017-02-14T21:51:56Z",
        "updatedAt" : "2017-02-15T14:48:10Z",
        "lastEditedBy" : "4b69a0b5-ac6f-45e9-9507-dd1385182f29",
        "tags" : [
        ]
      },
      {
        "id" : "2a4c9e6c-5228-40c5-97b8-efe01a3ee0f7",
        "parentId" : "369db078-e9fc-45a9-a740-e69a18eb2cf3",
        "authorId" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "body" : "Ah yes, good catch. It will need to be added to the python 2.4 compile skip list:\r\n\r\nhttps://github.com/ansible/ansible/blob/devel/test/compile/python2.4-skip.txt",
        "createdAt" : "2017-02-14T21:55:18Z",
        "updatedAt" : "2017-02-15T14:48:10Z",
        "lastEditedBy" : "380aef6a-3fbb-41ad-819b-bada96e05807",
        "tags" : [
        ]
      }
    ],
    "commit" : "072137e3b1dc538c3d947ca689f07ccb1b9d7bdb",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +12,16 @@    sys.exit(1)\n\nwith open('requirements.txt') as requirements_file:\n    install_requirements = requirements_file.read().splitlines()\n    if not install_requirements:"
  },
  {
    "id" : "51b5faf9-479c-40de-9ae1-b586f2948bf1",
    "prId" : 22330,
    "prUrl" : "https://github.com/ansible/ansible/pull/22330#pullrequestreview-110242860",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "712b9f3c-80e2-45b1-84af-5bfb7ee6bd19",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "@abadger are there any real cases where README is stripped off the distribution?",
        "createdAt" : "2018-04-06T17:08:49Z",
        "updatedAt" : "2018-04-06T17:08:49Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "78383fba-4e72-41ff-abbc-aec4e8f84bdf",
        "parentId" : "712b9f3c-80e2-45b1-84af-5bfb7ee6bd19",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Oops,  didn't se this before merging.  I don't see a reason.  that we need to check for README.rst to exist.  @StephenWeber  do you remember if there was a reason you had that in there?",
        "createdAt" : "2018-04-06T21:39:08Z",
        "updatedAt" : "2018-04-06T21:39:08Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "a4e70c8a-e178-4558-aaad-bc018976d4a0",
        "parentId" : "712b9f3c-80e2-45b1-84af-5bfb7ee6bd19",
        "authorId" : "0c60127e-eb0f-403b-ba80-bd89697f7893",
        "body" : "There wasn't a reason, it probably came along from the example sources I referenced for this kind of work - there is probably some \"safety first\" reasoning but I can't imagine this failing (or necessarily wanting it to succeed if the file's not present).",
        "createdAt" : "2018-04-07T01:43:59Z",
        "updatedAt" : "2018-04-07T01:44:00Z",
        "lastEditedBy" : "0c60127e-eb0f-403b-ba80-bd89697f7893",
        "tags" : [
        ]
      }
    ],
    "commit" : "05be83cb40f925ee900e8fe9e6d03bee2d1e7632",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +162,166 @@    with open('README.rst', 'r') as readme_file:\n        longdesc = readme_file.read()\nexcept (IOError, OSError):\n    longdesc = ('Ansible is a radically simple IT automation system. It handles'\n                ' configuration-management, application deployment, cloud provisioning, ad-hoc'"
  },
  {
    "id" : "8120a56e-c28e-430d-a82a-d33a9e8c800a",
    "prId" : 23233,
    "prUrl" : "https://github.com/ansible/ansible/pull/23233#pullrequestreview-30615701",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5d355aef-0712-47b1-a12c-8a80394f741f",
        "parentId" : null,
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "this list can easily change, why not make it dynamic? glob ansible-*?",
        "createdAt" : "2017-04-03T19:22:25Z",
        "updatedAt" : "2017-04-03T19:22:31Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      },
      {
        "id" : "64acd1ed-0827-4ebe-888f-80cea928a223",
        "parentId" : "5d355aef-0712-47b1-a12c-8a80394f741f",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "The glob would still be dynamic because some things in the directory are different code.",
        "createdAt" : "2017-04-03T19:24:26Z",
        "updatedAt" : "2017-04-03T19:24:26Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "edc73632-0544-40d9-ae2f-726dfe23f592",
        "parentId" : "5d355aef-0712-47b1-a12c-8a80394f741f",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "(Currently ansible-connection)",
        "createdAt" : "2017-04-03T19:25:30Z",
        "updatedAt" : "2017-04-03T19:25:30Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "430b5fce-d913-4f46-b3e5-ae8599b2c6bd",
        "parentId" : "5d355aef-0712-47b1-a12c-8a80394f741f",
        "authorId" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "body" : "ansible-connection was moved, its symlink now.\r\n\r\nedit : was wrong about timing, it will be https://github.com/ansible/ansible/pull/23061",
        "createdAt" : "2017-04-03T19:52:29Z",
        "updatedAt" : "2017-04-03T19:53:25Z",
        "lastEditedBy" : "30fc1801-f8f1-4cc4-9690-e31e203f4f6d",
        "tags" : [
        ]
      }
    ],
    "commit" : "5415a9cf54beb96baa3aa8664e05f97f3c128d8e",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +20,24 @@        sys.exit(2)\n\nSYMLINKS = {'ansible': frozenset(('ansible-console',\n                                  'ansible-doc',\n                                  'ansible-galaxy',"
  },
  {
    "id" : "35b8e781-4d7d-4d67-b104-1c4782b1bf85",
    "prId" : 38523,
    "prUrl" : "https://github.com/ansible/ansible/pull/38523#pullrequestreview-110970997",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99e83518-57bb-45a9-a815-26ea6c89a7c4",
        "parentId" : null,
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Just a note... We probably won't run into problems here as don't currently have symlinks with non-ascii filenames but this would be an issue if we did.  I can't remember all the permutations between py2.6 and py3 but I think we'd either have to play around with the ensure_ascii and encoding arguments of json.load or do our own encoding and decoding and probably go back to f.write() and f.read()  instead of using json.dump() and json.load().\r\n\r\nI'm mentioning it since there's definitely places in the ansible code itself, where that is an issue so it's not a safe refactor in general.",
        "createdAt" : "2018-04-10T19:03:36Z",
        "updatedAt" : "2018-04-12T15:38:07Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b5c4669dd4b834a183441d7de666678f5ea6fa9",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +63,67 @@        # only time we know that we're going to cache correctly\n        with open(SYMLINK_CACHE, 'r') as f:\n            symlink_data = json.load(f)\n    except (IOError, OSError) as e:\n        # IOError on py2, OSError on py3.  Both have errno"
  },
  {
    "id" : "5c622113-c391-4a7f-8840-b67b798983d5",
    "prId" : 53728,
    "prUrl" : "https://github.com/ansible/ansible/pull/53728#pullrequestreview-214898367",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dd77b6db-a020-4d32-9dd6-28c7edbd2b17",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "I'm worried that `pip install` users will see this and will keep reporting as a bug.\r\n\r\nMaybe also check whether it's a Git checkout? Or maybe detect some env var RPM builder would usually set?",
        "createdAt" : "2019-03-14T18:53:51Z",
        "updatedAt" : "2019-03-14T19:39:46Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "a66c98eb-733d-4dbb-9a5c-157e94c3b5a9",
        "parentId" : "dd77b6db-a020-4d32-9dd6-28c7edbd2b17",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "If pip install creates an sdist from the existing sdist, then this whole strategy won't work and we will have to move the Makefile steps into the setup.py",
        "createdAt" : "2019-03-14T19:35:25Z",
        "updatedAt" : "2019-03-14T19:39:46Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "59ff8b0d-6864-4c60-aafd-ceff860c66a9",
        "parentId" : "dd77b6db-a020-4d32-9dd6-28c7edbd2b17",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "in my quick test, it looks like pip does not create an sdist so this is not a problem.  Do you concur?",
        "createdAt" : "2019-03-14T19:46:04Z",
        "updatedAt" : "2019-03-14T19:46:05Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "430b0d2c-b077-4233-9552-3887ba13408b",
        "parentId" : "dd77b6db-a020-4d32-9dd6-28c7edbd2b17",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "It seems like I'm being overly cautious. I've checked with @pradyunsg and he confirmed that pip isn't calling `sdist` command and it suppresses output anyway so users wouldn't see it unless in case of failure...",
        "createdAt" : "2019-03-15T07:45:17Z",
        "updatedAt" : "2019-03-15T07:45:17Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "1c72b86825497465293a29100bae64ac29d24952",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +140,144 @@        # output\n        if os.environ.get('_ANSIBLE_SDIST_FROM_MAKEFILE', False) != '1':\n            warnings.warn('When setup.py sdist is run from outside of the Makefile,'\n                          ' the generated tarball may be incomplete.  Use `make snapshot`'\n                          ' to create a tarball from an arbitrary checkout or use'"
  },
  {
    "id" : "2d6020a5-1c9e-416e-96b3-70ae6b4ef000",
    "prId" : 53728,
    "prUrl" : "https://github.com/ansible/ansible/pull/53728#pullrequestreview-214896423",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e00162b8-82c1-4b51-912f-f4f85e7e5841",
        "parentId" : null,
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "Maybe \"may be missing some of non-runtime-critical artifacts\"?",
        "createdAt" : "2019-03-14T18:55:18Z",
        "updatedAt" : "2019-03-14T19:39:46Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      },
      {
        "id" : "e5d2b491-da39-43e5-ba7b-9f47b1b38994",
        "parentId" : "e00162b8-82c1-4b51-912f-f4f85e7e5841",
        "authorId" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "body" : "Lots of jargon in that wording.  And there's no guarantee that the missing things will be non-runtime-critical in the future either....",
        "createdAt" : "2019-03-14T19:19:21Z",
        "updatedAt" : "2019-03-14T19:39:46Z",
        "lastEditedBy" : "838eb58c-0fa8-4742-994f-a407c7183e57",
        "tags" : [
        ]
      },
      {
        "id" : "ffb6d752-c9d3-409d-926b-975097b397d7",
        "parentId" : "e00162b8-82c1-4b51-912f-f4f85e7e5841",
        "authorId" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "body" : "It's just an example. I just want it to be less scary.",
        "createdAt" : "2019-03-15T07:37:45Z",
        "updatedAt" : "2019-03-15T07:37:45Z",
        "lastEditedBy" : "4ffac6b8-d7eb-449a-8c43-463d9fd5587a",
        "tags" : [
        ]
      }
    ],
    "commit" : "1c72b86825497465293a29100bae64ac29d24952",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +141,145 @@        if os.environ.get('_ANSIBLE_SDIST_FROM_MAKEFILE', False) != '1':\n            warnings.warn('When setup.py sdist is run from outside of the Makefile,'\n                          ' the generated tarball may be incomplete.  Use `make snapshot`'\n                          ' to create a tarball from an arbitrary checkout or use'\n                          ' `cd packaging/release && make release version=[..]` for official builds.',"
  }
]