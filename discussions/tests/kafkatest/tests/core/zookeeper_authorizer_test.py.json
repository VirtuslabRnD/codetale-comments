[
  {
    "id" : "eeffa619-d736-465f-b320-f53896918e5f",
    "prId" : 10550,
    "prUrl" : "https://github.com/apache/kafka/pull/10550#pullrequestreview-660448174",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "01561d92-e98a-459c-b704-048b32cf764c",
        "parentId" : null,
        "authorId" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "body" : "We have a few system tests that exercise acls. Can you please describe why we need a new one? Not saying we don't, but it's good to be clear with regards to the gap we're trying to fill.\r\n\r\nAlso, we may want to document that we intend to replace the ZK authorizer with a KRaft one. When that happens, I assume we would have a new class for testing the latter and this would be changed to only test zk mode?",
        "createdAt" : "2021-05-09T08:35:43Z",
        "updatedAt" : "2021-05-09T08:35:43Z",
        "lastEditedBy" : "d8c7cf80-a55a-474c-a4f4-f60a9efda52c",
        "tags" : [
        ]
      },
      {
        "id" : "9a793af9-5182-4af8-b367-743a1d5f5400",
        "parentId" : "01561d92-e98a-459c-b704-048b32cf764c",
        "authorId" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "body" : "The only two system tests that leverage an authorizer are `ZooKeeperSecurityUpgradeTest` and `TestSecurityRollingUpgrade`.  The first is specific to ZooKeeper and does not apply to KRaft at all.  The second could be applied to KRaft because it tests changing the inter-broker security protocol across rolls rather than any broker version upgrade, but it has not yet been converted to the KRaft case, plus it does not remove ACLs (which we also want to test here).  Also, the authorizer piece at the end is not really the main part of that test.  It felt appropriate to create this simple, straightforward test for the specific use of the ZooKeeper-based authorizer.\r\n\r\nI've added a comment to this test (assuming we keep it) stating that we will test the KRaft replacement authorizer separately.",
        "createdAt" : "2021-05-16T16:33:51Z",
        "updatedAt" : "2021-05-16T16:33:51Z",
        "lastEditedBy" : "e0554c25-f6f3-4e49-a325-bcc5d4dc5fb2",
        "tags" : [
        ]
      }
    ],
    "commit" : "71df16378d8b6e8a0b85f57edddb5a9b404b049e",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +23,27 @@from kafkatest.services.security.kafka_acls import ACLs\n\nclass ZooKeeperAuthorizerTest(Test):\n    \"\"\"Tests that the ZooKeeper-based Authorizer works wth both ZooKeeper-based and KRaft clusters.\n    Alters client quotas, making sure it works."
  }
]