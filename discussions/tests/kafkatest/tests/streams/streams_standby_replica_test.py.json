[
  {
    "id" : "273fcabf-efae-4fdf-913f-d8e8dc53030b",
    "prId" : 4554,
    "prUrl" : "https://github.com/apache/kafka/pull/4554#pullrequestreview-96010134",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7d433895-9693-4334-beda-14f86f5b136b",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Why do you not use the `account.monitor_log` but implement your own method? ",
        "createdAt" : "2018-02-12T22:05:26Z",
        "updatedAt" : "2018-02-21T22:16:01Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "6a1a2ee3-fa2e-4115-928f-86216a646825",
        "parentId" : "7d433895-9693-4334-beda-14f86f5b136b",
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "to avoid timing issues.  `account.monitor_log` is best used immediately after some action, but in this test, there are several instances where I want to go back and verify behavior by looking at the entire log file.  I've also encountered failures with `monitor_log` and when going back to the `stdout` file and see the expected result in the file.  \r\n\r\n Note I think this approach could help EOS tests.",
        "createdAt" : "2018-02-13T00:55:56Z",
        "updatedAt" : "2018-02-21T22:16:01Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      },
      {
        "id" : "cdb9123e-5638-49e4-813a-372ac674c0a5",
        "parentId" : "7d433895-9693-4334-beda-14f86f5b136b",
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Thanks for pointing out. Wondering if we should improve `monitor_log` directly?",
        "createdAt" : "2018-02-13T02:30:44Z",
        "updatedAt" : "2018-02-21T22:16:01Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "790b39f5cfa5781cf80c01032f1835f3dd58d069",
    "line" : 86,
    "diffHunk" : "@@ -1,1 +84,88 @@    @staticmethod\n    def verify_from_file(processor, message, file):\n        result = processor.node.account.ssh_output(\"grep '%s' %s | wc -l\" % (message, file), allow_fail=False)\n        return int(result)\n"
  },
  {
    "id" : "078cb9fd-35ca-4e31-b6b0-c981269430a7",
    "prId" : 4554,
    "prUrl" : "https://github.com/apache/kafka/pull/4554#pullrequestreview-95996431",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "60c7dba8-f6e7-455f-a40b-4ebfef7fc112",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "> helps with rebalance times\r\n\r\nHow is this validated?",
        "createdAt" : "2018-02-12T22:07:00Z",
        "updatedAt" : "2018-02-21T22:16:01Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "233faccf-9a3d-46f8-be05-73acf72ad60a",
        "parentId" : "60c7dba8-f6e7-455f-a40b-4ebfef7fc112",
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "the timeout for verifying the transition from `REBALANCING to RUNNING` is set somewhat strict (20 seconds)",
        "createdAt" : "2018-02-13T00:57:06Z",
        "updatedAt" : "2018-02-21T22:16:01Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      }
    ],
    "commit" : "790b39f5cfa5781cf80c01032f1835f3dd58d069",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +25,29 @@class StreamsStandbyTask(Test):\n    \"\"\"\n    This test validates using standby tasks helps with rebalance times\n    additionally verifies standby replicas continue to work in the\n    face of continual changes to streams code base"
  },
  {
    "id" : "f65cec5e-791b-4627-b5c8-155c508be6ff",
    "prId" : 4554,
    "prUrl" : "https://github.com/apache/kafka/pull/4554#pullrequestreview-98380498",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "21d80b83-67ac-407e-aa10-be712997a941",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Should this be `num_lines=2` (cf. L120)",
        "createdAt" : "2018-02-21T22:11:25Z",
        "updatedAt" : "2018-02-21T22:17:43Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "790b39f5cfa5781cf80c01032f1835f3dd58d069",
    "line" : 140,
    "diffHunk" : "@@ -1,1 +138,142 @@        processor_2.start()\n\n        self.wait_for_verification(processor_1, \"ACTIVE_TASKS:2 STANDBY_TASKS:2\", processor_1.STDOUT_FILE)\n        self.wait_for_verification(processor_2, \"ACTIVE_TASKS:2 STANDBY_TASKS:2\", processor_2.STDOUT_FILE)\n        self.wait_for_verification(processor_3, \"ACTIVE_TASKS:2 STANDBY_TASKS:2\", processor_3.STDOUT_FILE, num_lines=2)"
  },
  {
    "id" : "0ecb37e3-dc50-4a25-b0bf-7012e3d7aa35",
    "prId" : 4554,
    "prUrl" : "https://github.com/apache/kafka/pull/4554#pullrequestreview-98380498",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "da1c42e8-899e-4781-8995-88d19df6f337",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Should this be `num_lines=2` (cf. L121)",
        "createdAt" : "2018-02-21T22:12:09Z",
        "updatedAt" : "2018-02-21T22:17:43Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "790b39f5cfa5781cf80c01032f1835f3dd58d069",
    "line" : 141,
    "diffHunk" : "@@ -1,1 +139,143 @@\n        self.wait_for_verification(processor_1, \"ACTIVE_TASKS:2 STANDBY_TASKS:2\", processor_1.STDOUT_FILE)\n        self.wait_for_verification(processor_2, \"ACTIVE_TASKS:2 STANDBY_TASKS:2\", processor_2.STDOUT_FILE)\n        self.wait_for_verification(processor_3, \"ACTIVE_TASKS:2 STANDBY_TASKS:2\", processor_3.STDOUT_FILE, num_lines=2)\n"
  },
  {
    "id" : "7a713cc4-ad9b-4ba8-b6b5-86c568eb8d37",
    "prId" : 4554,
    "prUrl" : "https://github.com/apache/kafka/pull/4554#pullrequestreview-98380498",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "409a6b89-abd8-4467-83be-abae1bda9ea3",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Should this be `num_lines=3` (cf. L115 and L135)",
        "createdAt" : "2018-02-21T22:13:05Z",
        "updatedAt" : "2018-02-21T22:17:43Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "790b39f5cfa5781cf80c01032f1835f3dd58d069",
    "line" : 146,
    "diffHunk" : "@@ -1,1 +144,148 @@        processor_3.stop()\n\n        self.wait_for_verification(processor_1, \"ACTIVE_TASKS:3 STANDBY_TASKS:3\", processor_1.STDOUT_FILE, num_lines=2)\n        self.wait_for_verification(processor_2, \"ACTIVE_TASKS:3 STANDBY_TASKS:3\", processor_2.STDOUT_FILE)\n"
  },
  {
    "id" : "7c645fcc-16b3-4953-b3b0-b47fb2347d91",
    "prId" : 4554,
    "prUrl" : "https://github.com/apache/kafka/pull/4554#pullrequestreview-98380498",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1d5ca401-0c46-4c1f-8742-a2f428903d3f",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Should this be `num_lines=3` (cf. L116 and L126)",
        "createdAt" : "2018-02-21T22:15:03Z",
        "updatedAt" : "2018-02-21T22:17:43Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "790b39f5cfa5781cf80c01032f1835f3dd58d069",
    "line" : 147,
    "diffHunk" : "@@ -1,1 +145,149 @@\n        self.wait_for_verification(processor_1, \"ACTIVE_TASKS:3 STANDBY_TASKS:3\", processor_1.STDOUT_FILE, num_lines=2)\n        self.wait_for_verification(processor_2, \"ACTIVE_TASKS:3 STANDBY_TASKS:3\", processor_2.STDOUT_FILE)\n\n        processor_1.stop()"
  },
  {
    "id" : "ddfcdcea-ab7c-4c72-b02c-5fdf17dd38dd",
    "prId" : 4554,
    "prUrl" : "https://github.com/apache/kafka/pull/4554#pullrequestreview-98390465",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6f106535-f28e-486c-bec9-fabb3561354e",
        "parentId" : null,
        "authorId" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "body" : "Should this be `num_lines=3` for all three (cf. L140-L142)",
        "createdAt" : "2018-02-21T22:16:01Z",
        "updatedAt" : "2018-02-21T22:17:43Z",
        "lastEditedBy" : "9baadc38-cd41-4762-be0c-791258ced78c",
        "tags" : [
        ]
      },
      {
        "id" : "4e07da0e-cb17-448e-883a-00657e9a8b60",
        "parentId" : "6f106535-f28e-486c-bec9-fabb3561354e",
        "authorId" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "body" : "For this comment and others for the expected line count, I've posted latest results below.",
        "createdAt" : "2018-02-21T22:46:26Z",
        "updatedAt" : "2018-02-21T22:47:15Z",
        "lastEditedBy" : "4c968502-bb3d-46ee-8719-0c0bdbc6242f",
        "tags" : [
        ]
      }
    ],
    "commit" : "790b39f5cfa5781cf80c01032f1835f3dd58d069",
    "line" : 158,
    "diffHunk" : "@@ -1,1 +156,160 @@        self.wait_for_verification(processor_1, \"ACTIVE_TASKS:2 STANDBY_TASKS:2\", processor_1.STDOUT_FILE)\n        self.wait_for_verification(processor_3, \"ACTIVE_TASKS:2 STANDBY_TASKS:2\", processor_3.STDOUT_FILE)\n        self.wait_for_verification(processor_2, \"ACTIVE_TASKS:2 STANDBY_TASKS:2\", processor_2.STDOUT_FILE, num_lines=2)\n\n        self.assert_consume(\"assert all messages consumed from %s\" % self.streams_sink_topic_1, self.streams_sink_topic_1, self.num_messages)"
  }
]