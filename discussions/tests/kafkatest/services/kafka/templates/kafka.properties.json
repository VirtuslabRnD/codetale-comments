[
  {
    "id" : "149d4a89-919d-4ce3-b63c-78faf639093e",
    "prId" : 6981,
    "prUrl" : "https://github.com/apache/kafka/pull/6981#pullrequestreview-253972805",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6aaa5dca-2320-42db-a106-d0597eeb19aa",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "The name `client_listener_overrides` implies these could be any listener override (e.g. SSL keystore), but this config entry assumes they are only SASL configs with the SASL mechanism prefix. ",
        "createdAt" : "2019-06-24T10:15:16Z",
        "updatedAt" : "2019-06-26T15:01:08Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      },
      {
        "id" : "7b8c4d18-0554-412f-9a88-63e84809c222",
        "parentId" : "6aaa5dca-2320-42db-a106-d0597eeb19aa",
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "@brianbushree Listener configs may be:\r\n```\r\nlistener.name.replication.ssl.keystore.location=/mnt/keystore.jks\r\n```\r\nOR\r\n```\r\nlistener.name.external.oauthbearer.sasl.jaas.config=...\r\n```\r\nThe first should not have SASL mechanism in the config name, but the second requires it. We will need to support both at some point. In this PR, it is sufficient to support SASL ones, but we need to make sure it doesn't prevent SSL configs from being added later without changing tests. We could do one of these:\r\n1) Separate out the configs into SASL configs which are mechanism prefixed and other listener configs that are not. Caller will need to configure these correctly based on the config being overridden. For example, we could rename `ListenerConfig.client_listener_overrides` to `ListenerConfig.client_sasl_listener_overrides` and `interbroker_listener_overrides` to `interbroker_sasl_listener_overrides`.\r\n2) Expect the caller to pass in `oauthbearer.sasl.jaas.config` for the second case\r\n3) Work out whether SASL is being used for the listener and add mechanism prefix if required. Caller doesn't need any changes if we can do this automatically.\r\n",
        "createdAt" : "2019-06-25T12:37:24Z",
        "updatedAt" : "2019-06-26T15:01:08Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "ddb024dc89a55e7054f67984f6b16a9838b9cda5",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +26,30 @@{% for k, v in listener_security_config.client_listener_overrides.iteritems() %}\n{% if k.startswith('sasl.') %}\nlistener.name.{{ security_protocol.lower() }}.{{ security_config.client_sasl_mechanism.lower() }}.{{ k }}={{ v }}\n{% else %}\nlistener.name.{{ security_protocol.lower() }}.{{ k }}={{ v }}"
  },
  {
    "id" : "48f915f9-4c65-48dd-972b-132746d044cc",
    "prId" : 6981,
    "prUrl" : "https://github.com/apache/kafka/pull/6981#pullrequestreview-253319219",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3661acd8-4184-4941-8189-82bc3c7e26f7",
        "parentId" : null,
        "authorId" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "body" : "Same as before, this assumes listener overrides are only for SASL configs",
        "createdAt" : "2019-06-24T10:15:43Z",
        "updatedAt" : "2019-06-26T15:01:08Z",
        "lastEditedBy" : "b4936a15-698a-496e-85a1-b1e229b4986b",
        "tags" : [
        ]
      }
    ],
    "commit" : "ddb024dc89a55e7054f67984f6b16a9838b9cda5",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +35,39 @@{% for k, v in listener_security_config.interbroker_listener_overrides.iteritems() %}\n{% if k.startswith('sasl.') %}\nlistener.name.{{ interbroker_listener.name.lower() }}.{{ security_config.interbroker_sasl_mechanism.lower() }}.{{ k }}={{ v }}\n{% else %}\nlistener.name.{{ interbroker_listener.name.lower() }}.{{ k }}={{ v }}"
  }
]