[
  {
    "id" : "c9976ab4-39a8-4ea0-87a8-b85bee7d1756",
    "prId" : 4736,
    "prUrl" : "https://github.com/lampepfl/dotty/pull/4736#pullrequestreview-133199579",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e26ecb34-5d04-4a4c-b6e8-4ead300c691d",
        "parentId" : null,
        "authorId" : "9ffc9890-522c-4d3a-8fe5-fb5cbad2b309",
        "body" : "You can add a test to https://github.com/lampepfl/dotty/blob/master/compiler/test/dotty/tools/backend/jvm/InlineBytecodeTests.scala to check that the code produced by the compiler actually is what you think it is.\r\n",
        "createdAt" : "2018-06-28T12:44:20Z",
        "updatedAt" : "2018-07-12T11:41:57Z",
        "lastEditedBy" : "9ffc9890-522c-4d3a-8fe5-fb5cbad2b309",
        "tags" : [
        ]
      },
      {
        "id" : "62ef8146-5b34-4d7e-aa59-bedf9197f709",
        "parentId" : "e26ecb34-5d04-4a4c-b6e8-4ead300c691d",
        "authorId" : "a7e5fcc8-eade-485d-96d2-94106dd74f83",
        "body" : "I don't thinks  `InlineBytecodeTests.scala` supports separate compilation. Not sure how much work it would be to make it support it. It is probably better to just test the code directly. ",
        "createdAt" : "2018-06-29T06:47:18Z",
        "updatedAt" : "2018-07-12T11:41:57Z",
        "lastEditedBy" : "a7e5fcc8-eade-485d-96d2-94106dd74f83",
        "tags" : [
        ]
      },
      {
        "id" : "2938e5ff-080c-4060-a381-09e877f37811",
        "parentId" : "e26ecb34-5d04-4a4c-b6e8-4ead300c691d",
        "authorId" : "9ffc9890-522c-4d3a-8fe5-fb5cbad2b309",
        "body" : "What do you mean by \"test the code directly\"? You're doing code generation here, if you don't test that the code you generate looks like the way you think it should look like, I can guarantee you that you will have hard-to-find bugs.",
        "createdAt" : "2018-06-29T11:51:45Z",
        "updatedAt" : "2018-07-12T11:41:57Z",
        "lastEditedBy" : "9ffc9890-522c-4d3a-8fe5-fb5cbad2b309",
        "tags" : [
        ]
      },
      {
        "id" : "8435a4ce-dd14-4a75-a34d-60825f4066f9",
        "parentId" : "e26ecb34-5d04-4a4c-b6e8-4ead300c691d",
        "authorId" : "a7e5fcc8-eade-485d-96d2-94106dd74f83",
        "body" : "I mean test the high-level code generated instead of the final bytecode.",
        "createdAt" : "2018-06-29T12:06:01Z",
        "updatedAt" : "2018-07-12T11:41:57Z",
        "lastEditedBy" : "a7e5fcc8-eade-485d-96d2-94106dd74f83",
        "tags" : [
        ]
      }
    ],
    "commit" : "8d209a281c63f63d9b1980b9616689b735a64c52",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +9,13 @@    }\n\n    /* unrooled code:\n\n      val size: Int = arr.length()"
  }
]