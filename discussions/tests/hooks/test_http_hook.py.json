[
  {
    "id" : "c898a3f6-907c-40df-8459-3872d71b7f1e",
    "prId" : 5173,
    "prUrl" : "https://github.com/apache/airflow/pull/5173#pullrequestreview-236112742",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "77ed0420-b0c4-4696-a8cb-17d6faa420ee",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Can we also add a simple test to assert that `get` is converted to `GET`, please?",
        "createdAt" : "2019-05-07T09:46:53Z",
        "updatedAt" : "2019-05-10T13:44:29Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "84638f21-4007-461f-9dcf-5f2882816f31",
        "parentId" : "77ed0420-b0c4-4696-a8cb-17d6faa420ee",
        "authorId" : "bc60d104-ae5e-4f0a-a232-2657ddbb0e6f",
        "body" : "Added simple test to check `get` gets converted to `GET` in constructor",
        "createdAt" : "2019-05-10T13:46:04Z",
        "updatedAt" : "2019-05-10T13:46:04Z",
        "lastEditedBy" : "bc60d104-ae5e-4f0a-a232-2657ddbb0e6f",
        "tags" : [
        ]
      }
    ],
    "commit" : "d19dec0a1c2fba92f14a369eac91c4434542e5f4",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +135,139 @@    @requests_mock.mock()\n    @mock.patch('requests.Request')\n    def test_hook_with_method_in_lowercase(self, m, request_mock):\n        from requests.exceptions import MissingSchema\n        with mock.patch("
  },
  {
    "id" : "b20df119-9176-40cc-86bc-76a62854c6de",
    "prId" : 6886,
    "prUrl" : "https://github.com/apache/airflow/pull/6886#pullrequestreview-337319912",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae47ce3d-93d4-4565-bdbd-c4e461c9ce8f",
        "parentId" : null,
        "authorId" : "a1587925-b1c0-4469-a592-51497b162e71",
        "body" : "this is may be super nit picky, but you could simplify the test using parameters if you want to\r\n\r\n```suggestion\r\n    @parameterized.expand([\r\n        'GET',\r\n        'POST',\r\n    ])\r\n    @requests_mock.mock()\r\n    def test_json_request(self, method, mock_requests):\r\n        obj1 = {'a': 1, 'b': 'abc', 'c': [1, 2, {\"d\": 10}]}\r\n\r\n        def match_obj1(request):\r\n            return request.json() == obj1\r\n\r\n        mock_requests.request(\r\n            method=method,\r\n            url='//test:8080/v1/test',\r\n            additional_matcher=match_obj1\r\n        )\r\n\r\n        with mock.patch(\r\n            'airflow.hooks.base_hook.BaseHook.get_connection',\r\n            side_effect=get_airflow_connection\r\n        ):\r\n            # will raise NoMockAddress exception if obj1 != request.json()\r\n            HttpHook(method=method).run('v1/test', json=obj1)\r\n```\r\n\r\nhere i am also suggesting removing those asserts.\r\n\r\nthey are just checking that your mock is returning what you told it to return -- the fact that no exception is raised in `hook.run`  is the actual indicator that the test was passed.  the asserts don't test anything beyond that.\r\n\r\n",
        "createdAt" : "2019-12-31T08:21:00Z",
        "updatedAt" : "2019-12-31T12:13:18Z",
        "lastEditedBy" : "a1587925-b1c0-4469-a592-51497b162e71",
        "tags" : [
        ]
      }
    ],
    "commit" : "37517d97ce466bfac4186990a0afd698a0b966a5",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +340,344 @@        'POST',\n    ])\n    @requests_mock.mock()\n    def test_json_request(self, method, mock_requests):\n        obj1 = {'a': 1, 'b': 'abc', 'c': [1, 2, {\"d\": 10}]}"
  }
]