[
  {
    "id" : "8ebcb92f-5cf4-48fc-8aac-91736691c118",
    "prId" : 4118,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/4118#pullrequestreview-594658989",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fe3af272-cc77-4d70-93e4-80c21b585fda",
        "parentId" : null,
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "Defined a new lightning-module class that doesn't override `validation_step` for testing",
        "createdAt" : "2021-02-20T00:02:05Z",
        "updatedAt" : "2021-02-21T00:56:02Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "5716a3a94279cc34abbab43c4e8c752456b8b699",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +61,65 @@\n\nclass IrisClassificationWithoutValidation(IrisClassificationBase):\n    def training_step(self, batch, batch_idx):\n        x, y = batch"
  },
  {
    "id" : "34f5af19-41dd-4082-ad9c-64a6d5b63125",
    "prId" : 4096,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/4096#pullrequestreview-589123179",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b380525c-dbf0-450d-87d2-558e048740ee",
        "parentId" : null,
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "Fix for this errro:\r\n\r\nhttps://github.com/mlflow/mlflow/runs/1880410847?check_suite_focus=true#step:8:1930\r\n\r\n```\r\nE               ValueError: Probabilities in `preds` must sum up to 1 accross the `C` dimension.\r\n```",
        "createdAt" : "2021-02-12T01:28:23Z",
        "updatedAt" : "2021-02-12T01:32:47Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      },
      {
        "id" : "f3e039d9-aaf8-4518-bb84-8bba7b053332",
        "parentId" : "b380525c-dbf0-450d-87d2-558e048740ee",
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "This error means:\r\n\r\n\r\n```python\r\npreds_with_softmax = [\r\n  # ===> C dimension\r\n  [0.2, 0.3, 0.5]  # good because this row sums up to 1\r\n  ...\r\n]\r\n\r\npreds_without_softmax = [\r\n    [0.1, 0.2, 0.3]  # bad because this row doesn't sum up to 1\r\n    ...\r\n]\r\n```\r\n\r\nThis check is performed only when `preds` has shape: `(N, C)` and `y` has shape: `(N,)`. We can skip it by using `torch.argmax`",
        "createdAt" : "2021-02-12T01:30:40Z",
        "updatedAt" : "2021-02-12T01:38:24Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "237cc7a282afb5d6f7920e0634ed75704dbd7da6",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +37,41 @@        logits = self.forward(x)\n        loss = self.cross_entropy_loss(logits, y)\n        self.train_acc(torch.argmax(logits, dim=1), y)\n        self.log(\"train_acc\", self.train_acc.compute(), on_step=False, on_epoch=True)\n        self.log(\"loss\", loss)"
  }
]