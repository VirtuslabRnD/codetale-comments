[
  {
    "id" : "7f3c66d3-f505-458b-8070-bc46663fec09",
    "prId" : 3391,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3391#pullrequestreview-483201173",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "195e93f2-8677-4e9d-a5c3-b2f839483b9d",
        "parentId" : null,
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "correct me if I'm wrong, but I think this function assumes:\r\n\r\n- `pathname` is an abosolute path\r\n-  `pathname` startswith `root`\r\n\r\nCan we validate these conditions with `assert` to prevent an infinite loop when we pass invalid `pathname` and `root` by mistake?",
        "createdAt" : "2020-09-07T01:52:11Z",
        "updatedAt" : "2020-09-07T02:42:51Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      },
      {
        "id" : "43187206-fe46-4157-b0e8-dea52cd1c485",
        "parentId" : "195e93f2-8677-4e9d-a5c3-b2f839483b9d",
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "```suggestion\r\ndef __posixpath_parents(pathname, root):\r\n    assert posixpath.isabs(pathname)\r\n    assert pathname.startswith(root)\r\n    \r\n    parents = [posixpath.dirname(pathname)]\r\n    root = posixpath.normpath(root)\r\n    while parents[-1] != \"/\" and parents[-1] != root:\r\n        parents.append(posixpath.dirname(parents[-1]))\r\n    return parents\r\n```",
        "createdAt" : "2020-09-07T01:53:43Z",
        "updatedAt" : "2020-09-07T01:53:44Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "d8577940d81e9cbabebf05fbadf09b6534678927",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +217,221 @@    while parents[-1] != \"/\" and parents[-1] != root:\n        parents.append(posixpath.dirname(parents[-1]))\n    return parents\n\n"
  }
]