[
  {
    "id" : "3fd3e18a-4e78-4dac-940c-02ad0bb0471d",
    "prId" : 4431,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/4431#pullrequestreview-684240347",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7bcdc025-57da-4d1e-ac36-fcb50eaf168c",
        "parentId" : null,
        "authorId" : "c7dda55d-9e2b-478f-9c63-d6cdec83a883",
        "body" : "If not too difficult, to make sure that global disablement is contained:\r\ntrain a model before(already doing that) and after call to shap. And confirm both training sessions have runs, and the shap call produced no runs.",
        "createdAt" : "2021-06-14T22:34:17Z",
        "updatedAt" : "2021-06-14T22:37:01Z",
        "lastEditedBy" : "c7dda55d-9e2b-478f-9c63-d6cdec83a883",
        "tags" : [
        ]
      },
      {
        "id" : "fc502754-95cc-4966-9626-fd6cb2212dc8",
        "parentId" : "7bcdc025-57da-4d1e-ac36-fcb50eaf168c",
        "authorId" : "9b00f760-3323-47e3-bb69-3add3073befc",
        "body" : "Solid idea, let's do it in utils test because now it's a utils thing, not a shap thing",
        "createdAt" : "2021-06-15T16:34:04Z",
        "updatedAt" : "2021-06-15T16:34:05Z",
        "lastEditedBy" : "9b00f760-3323-47e3-bb69-3add3073befc",
        "tags" : [
        ]
      }
    ],
    "commit" : "12e647a55fe3c4ef256476f5ca04d96bebf6d082",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +119,123 @@    with mlflow.start_run() as run:\n        mlflow.shap.log_explanation(model.predict, X)\n\n    run_data = MlflowClient().get_run(run.info.run_id).data\n    metrics, params, tags = run_data.metrics, run_data.params, run_data.tags"
  },
  {
    "id" : "5f973c6c-40ef-4e4e-a512-37cf0619bde7",
    "prId" : 4431,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/4431#pullrequestreview-684358208",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "364f3255-0906-47d0-8715-15e17cffc1cb",
        "parentId" : null,
        "authorId" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "body" : "can we also assert that the `mlflow.autologging` tag is absent?",
        "createdAt" : "2021-06-15T18:19:45Z",
        "updatedAt" : "2021-06-15T18:29:56Z",
        "lastEditedBy" : "3f60ced2-d2f0-4cc5-9898-5aefe16e0be8",
        "tags" : [
        ]
      },
      {
        "id" : "9ff5d1ee-811e-4193-b94e-f5514af7a514",
        "parentId" : "364f3255-0906-47d0-8715-15e17cffc1cb",
        "authorId" : "9b00f760-3323-47e3-bb69-3add3073befc",
        "body" : "I think you mean the `mlflow.autologging` tag? sounds good",
        "createdAt" : "2021-06-15T18:29:59Z",
        "updatedAt" : "2021-06-15T18:29:59Z",
        "lastEditedBy" : "9b00f760-3323-47e3-bb69-3add3073befc",
        "tags" : [
        ]
      }
    ],
    "commit" : "12e647a55fe3c4ef256476f5ca04d96bebf6d082",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +122,126 @@    run_data = MlflowClient().get_run(run.info.run_id).data\n    metrics, params, tags = run_data.metrics, run_data.params, run_data.tags\n    assert not metrics\n    assert not params\n    assert all(\"mlflow.\" in key for key in tags)"
  },
  {
    "id" : "14a5f99d-a6cb-4a79-bd7f-e33070bef990",
    "prId" : 3989,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3989#pullrequestreview-586334022",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae524e5e-3384-4113-9dca-987f9791e216",
        "parentId" : null,
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "Can we directly check the equality of `actual_merged_env` and `expected_merged_env`?\r\n\r\n```python\r\nassert actual_merged_env == expected_merged_env\r\n```",
        "createdAt" : "2021-02-06T13:43:41Z",
        "updatedAt" : "2021-02-18T04:25:27Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      },
      {
        "id" : "1ae5e8e9-dba9-443e-bcea-9121f27affe0",
        "parentId" : "ae524e5e-3384-4113-9dca-987f9791e216",
        "authorId" : "255bf6e4-e2a1-41dc-a4ae-88547d2fb09a",
        "body" : "Not able to compare directly since the order of the pip deps list is not deterministic (list(set()) changes order) when the merge_function is run, hence the compare fails. Please let me know if there is another way to compare directly.",
        "createdAt" : "2021-02-08T23:36:03Z",
        "updatedAt" : "2021-02-18T04:25:27Z",
        "lastEditedBy" : "255bf6e4-e2a1-41dc-a4ae-88547d2fb09a",
        "tags" : [
        ]
      },
      {
        "id" : "0e3917e5-f4e1-49c9-bf53-4fba28ae9676",
        "parentId" : "ae524e5e-3384-4113-9dca-987f9791e216",
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "Ah that makes sense :)",
        "createdAt" : "2021-02-09T09:23:26Z",
        "updatedAt" : "2021-02-18T04:25:27Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "3acd78391af460d2719aa74eba865b61af3b69a6",
    "line" : 134,
    "diffHunk" : "@@ -1,1 +132,136 @@    actual_merged_env = mlflow.shap._merge_environments(test_shap_env, test_model_env)\n\n    assert sorted(expected_merged_env[\"channels\"]) == sorted(actual_merged_env[\"channels\"])\n\n    expected_conda_deps, expected_pip_deps = mlflow.shap._get_conda_and_pip_dependencies("
  },
  {
    "id" : "34d6003a-ba9c-4017-9e43-cbc3401da722",
    "prId" : 3989,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3989#pullrequestreview-587364945",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b27583b8-2287-4cbf-be53-5840dd1170a1",
        "parentId" : null,
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "```suggestion\r\n        \"channels\": [\"default\", \"conda-forge\"],\r\n```\r\n\r\nThe first element should be `default`, right?",
        "createdAt" : "2021-02-09T09:31:22Z",
        "updatedAt" : "2021-02-18T04:25:27Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      },
      {
        "id" : "75a9acaa-b501-40ca-a937-055e3b41ce3a",
        "parentId" : "b27583b8-2287-4cbf-be53-5840dd1170a1",
        "authorId" : "255bf6e4-e2a1-41dc-a4ae-88547d2fb09a",
        "body" : "its 'defaults' \r\nhttps://github.com/mlflow/mlflow/blob/ebd4e5ed2e12055d5b1d3ff3c740fd838301f616/mlflow/utils/environment.py#L5",
        "createdAt" : "2021-02-09T15:14:25Z",
        "updatedAt" : "2021-02-18T04:25:27Z",
        "lastEditedBy" : "255bf6e4-e2a1-41dc-a4ae-88547d2fb09a",
        "tags" : [
        ]
      },
      {
        "id" : "f1199cf1-26d7-43de-801e-f485534bf0a1",
        "parentId" : "b27583b8-2287-4cbf-be53-5840dd1170a1",
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "I just saw this change:\r\nhttps://github.com/mlflow/mlflow/pull/3989/commits/4bbe4270fb912bda1639ac21655f81ce862fdf3e#diff-51825b2d89b3dd80ba874d5f411374ae2bb3821675a64895e9d686df84b2d542R107-R113\r\n\r\nMakes sense to use `\"defaults\"` now.",
        "createdAt" : "2021-02-10T08:40:46Z",
        "updatedAt" : "2021-02-18T04:25:27Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "3acd78391af460d2719aa74eba865b61af3b69a6",
    "line" : 124,
    "diffHunk" : "@@ -1,1 +122,126 @@    expected_merged_env = {\n        \"name\": \"mlflow-env\",\n        \"channels\": [\"defaults\", \"conda-forge\"],\n        \"dependencies\": [\n            \"python={}\".format(PYTHON_VERSION),"
  }
]