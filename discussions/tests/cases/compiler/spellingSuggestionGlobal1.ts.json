[
  {
    "id" : "5ac8994e-29ec-4d30-b956-179f2dbb5e02",
    "prId" : 42262,
    "prUrl" : "https://github.com/microsoft/TypeScript/pull/42262#pullrequestreview-565886428",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0d7023ea-6e98-4573-b10c-0a98ad63930d",
        "parentId" : null,
        "authorId" : "54e8a7d9-0fe5-4af8-82f5-cbb0ff08ae8c",
        "body" : "In this case, it should probably suggest `globalThis`.",
        "createdAt" : "2021-01-11T13:22:25Z",
        "updatedAt" : "2021-01-20T18:58:12Z",
        "lastEditedBy" : "54e8a7d9-0fe5-4af8-82f5-cbb0ff08ae8c",
        "tags" : [
        ]
      },
      {
        "id" : "b431b603-9020-4812-a20c-a12cb8bdf893",
        "parentId" : "0d7023ea-6e98-4573-b10c-0a98ad63930d",
        "authorId" : "4f9b6f3b-d89b-40c2-8fae-5caf84f6fe6c",
        "body" : "Did you miss [my reply](https://github.com/microsoft/TypeScript/issues/42209#issuecomment-754903122) after you suggested that on the issue?\r\n\r\n[`globalThis.x` is not valid here](https://www.typescriptlang.org/play?#code/KYDwDg9gTgLgBAbwL4CgAmwDGAbAhlYOAc2wgCNdtE5MIA7AZ3hAC45c6BPOVE8ygCoALAJYMAdCCA).",
        "createdAt" : "2021-01-11T18:45:54Z",
        "updatedAt" : "2021-01-20T18:58:12Z",
        "lastEditedBy" : "4f9b6f3b-d89b-40c2-8fae-5caf84f6fe6c",
        "tags" : [
        ]
      },
      {
        "id" : "61a7121f-8e09-473c-96c2-69f827a1c73e",
        "parentId" : "0d7023ea-6e98-4573-b10c-0a98ad63930d",
        "authorId" : "54e8a7d9-0fe5-4af8-82f5-cbb0ff08ae8c",
        "body" : "It is valid when you do:\r\n```ts\r\ndeclare global { var x: any }\r\n```\r\nSo that case should be covered.",
        "createdAt" : "2021-01-11T19:45:22Z",
        "updatedAt" : "2021-01-20T18:58:12Z",
        "lastEditedBy" : "54e8a7d9-0fe5-4af8-82f5-cbb0ff08ae8c",
        "tags" : [
        ]
      },
      {
        "id" : "85d83862-b9db-4d1f-a037-38d97e4022d5",
        "parentId" : "0d7023ea-6e98-4573-b10c-0a98ad63930d",
        "authorId" : "4f9b6f3b-d89b-40c2-8fae-5caf84f6fe6c",
        "body" : "Let's make sure we're on the same page:\r\n\r\n**Are you saying `spellingSuggestionGlobal1.ts` (as written, with `const x`) should produce the error message `Cannot find name 'global'. Did you mean 'globalThis'?`?**\r\n\r\nIf so, I disagree. Users will follow that suggestion and change `global.x` to `globalThis.x`, then get another error (`Property 'x' does not exist on type 'typeof globalThis'.`), then be confused/frustrated and have to research why it doesn't work, then probably end up ignoring the suggestion anyway and write `x` instead of `globalThis.x`.\r\n\r\n**Or are you saying that in situations where `x` is a known property of `globalThis` and the user writes `global.x` that it would be nice to say `Cannot find name 'global'. Did you mean 'globalThis'?`?**\r\n\r\nIf so, I agree, but unfortunately that would be tricky to implement (unless I'm missing something). I'd bet that this situation occurs rarely in the wild, so it might not be worth the complexity cost to maintain a dedicated suggestion for it. I could be wrong, though.\r\n\r\nIn any case it seems orthogonal to the bugfix in this pull request. Currently [if you write something like `global.Math` the error message won't suggest `globalThis`](https://www.typescriptlang.org/play?#code/OYGw9gRghiB0CyUAuALIA), either.\r\n\r\n---\r\n\r\nRegardless, I should add a test case that uses `var` in the global declaration. I'll push a commit for that soon.",
        "createdAt" : "2021-01-12T02:12:04Z",
        "updatedAt" : "2021-01-20T18:58:12Z",
        "lastEditedBy" : "4f9b6f3b-d89b-40c2-8fae-5caf84f6fe6c",
        "tags" : [
        ]
      }
    ],
    "commit" : "fb3af21a0071d17c43f30fdda6e26bf3c36cdbcc",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +1,5 @@export {}\ndeclare global { const x: any }\nglobal.x // should not suggest `global` (GH#42209)"
  }
]