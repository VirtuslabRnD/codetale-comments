[
  {
    "id" : "975f8a6a-b22a-414d-b931-154507d90652",
    "prId" : 38045,
    "prUrl" : "https://github.com/microsoft/TypeScript/pull/38045#pullrequestreview-444078665",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4aeae4ed-7853-4a2f-811c-ae484fedb50f",
        "parentId" : null,
        "authorId" : "9302e396-f4ae-400e-962a-ed2cd3258fdf",
        "body" : "This _feels_ like maybe a bug? It's switching the type of newlines during the refactor (or is it now respecting default formatting options?)",
        "createdAt" : "2020-05-05T18:39:59Z",
        "updatedAt" : "2020-06-28T09:06:42Z",
        "lastEditedBy" : "9302e396-f4ae-400e-962a-ed2cd3258fdf",
        "tags" : [
        ]
      },
      {
        "id" : "6577ac2d-8d81-4748-996d-b838c0d8586f",
        "parentId" : "4aeae4ed-7853-4a2f-811c-ae484fedb50f",
        "authorId" : "abcb489c-ecaa-43d7-a864-2305b3feb38c",
        "body" : "@orta Thanks for the feedback üëç. It uses default formatting because we replacing node in-place and avoid copying comments block and creating a new node. What do you think does that make sense? Or do we need to copy comments?",
        "createdAt" : "2020-05-05T18:50:18Z",
        "updatedAt" : "2020-06-28T09:06:42Z",
        "lastEditedBy" : "abcb489c-ecaa-43d7-a864-2305b3feb38c",
        "tags" : [
        ]
      },
      {
        "id" : "d2a8b94f-29a8-4263-924a-fc5456170f0b",
        "parentId" : "4aeae4ed-7853-4a2f-811c-ae484fedb50f",
        "authorId" : "9302e396-f4ae-400e-962a-ed2cd3258fdf",
        "body" : "Yeah, let's copy the comment - that should be enough IMO üëç ",
        "createdAt" : "2020-05-05T20:10:40Z",
        "updatedAt" : "2020-06-28T09:06:42Z",
        "lastEditedBy" : "9302e396-f4ae-400e-962a-ed2cd3258fdf",
        "tags" : [
        ]
      },
      {
        "id" : "586a1600-79b5-4b00-bc1d-f9e7acf709fb",
        "parentId" : "4aeae4ed-7853-4a2f-811c-ae484fedb50f",
        "authorId" : "abcb489c-ecaa-43d7-a864-2305b3feb38c",
        "body" : "@orta Sorry, I didn't add clarification for my question :).\r\n\r\nIn the current implementation, there are three steps to insert a new class declaration\r\n1. copy comments., I think in this stage `copyLeadingComments` changes comment and adds `\\r` \r\n2. delete node (with comments, for that reason need to copy comments before)\r\n3. insert a new node\r\n\r\nAs I understood from the https://github.com/microsoft/TypeScript/issues/23871 description, better to combine three steps into one to just replace a node with a function by class declaration. Maybe I'm wrong and need to do the following steps \r\n\r\n1. copy comment before (to change comment with a carriage return) and remove (to avoid comment duplication) previous original comment (I'm not sure, however, we can try to use `{ leadingTriviaOption: textChanges.LeadingTriviaOption.IncludeAll }` in `replaceNode`)\r\n2. replace a node with function by a class declaration\r\n\r\nDo `fourslash/server` tests require explicit changing comments to add carriage return symbols?\r\n\r\n",
        "createdAt" : "2020-05-07T19:02:44Z",
        "updatedAt" : "2020-06-28T09:09:15Z",
        "lastEditedBy" : "abcb489c-ecaa-43d7-a864-2305b3feb38c",
        "tags" : [
        ]
      },
      {
        "id" : "d2289ccc-2f50-4b9d-98b8-b02df5f7233d",
        "parentId" : "4aeae4ed-7853-4a2f-811c-ae484fedb50f",
        "authorId" : "9302e396-f4ae-400e-962a-ed2cd3258fdf",
        "body" : "Argh, I didn't notice your comment ( I originally thought I just wrote a really long one because your avatar is white üíØ  )\r\n\r\nNo, I think this is acceptable based on the original spec. Let's get it in. ",
        "createdAt" : "2020-07-07T16:53:50Z",
        "updatedAt" : "2020-07-07T16:53:51Z",
        "lastEditedBy" : "9302e396-f4ae-400e-962a-ed2cd3258fdf",
        "tags" : [
        ]
      }
    ],
    "commit" : "a53e6430235888f2eb57cab738b3629e2f49e89a",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +19,23 @@`/**\n * JSDoc Comment\n */\nclass fn {\\r\n    constructor() {\\r"
  }
]