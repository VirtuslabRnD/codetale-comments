[
  {
    "id" : "bbdfdeda-b23f-4c71-a34a-902aaa64ba1e",
    "prId" : 8157,
    "prUrl" : "https://github.com/apache/airflow/pull/8157#pullrequestreview-389058360",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a23f10b1-137b-4968-abd1-8d815c3d3688",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Does this work in practice without base_url set, or are all the links and stylesheets pulled in at the wrong URLs?",
        "createdAt" : "2020-04-07T12:10:15Z",
        "updatedAt" : "2020-04-15T10:16:45Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "f81bf980-07ab-4278-8f85-6a9107d1bb16",
        "parentId" : "a23f10b1-137b-4968-abd1-8d815c3d3688",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "This works identically to base_url. From a technical point of view, these two middleware modify one variable.\r\nhttps://github.com/pallets/werkzeug/blob/master/src/werkzeug/middleware/proxy_fix.py#L167\r\nhttps://github.com/pallets/werkzeug/blob/master/src/werkzeug/middleware/dispatcher.py#L64\r\n",
        "createdAt" : "2020-04-07T12:19:32Z",
        "updatedAt" : "2020-04-15T10:16:45Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      }
    ],
    "commit" : "be8c5e552a8d0d3e4cd7d4ca94442ddab48dc17f",
    "line" : 69,
    "diffHunk" : "@@ -1,1 +52,56 @@            # Should respect HTTP_X_FORWARDED_PROTO, HTTP_X_FORWARDED_HOST, HTTP_X_FORWARDED_PORT,\n            # HTTP_X_FORWARDED_PREFIX\n            self.assertEqual(request.url, 'https://valid:445/proxy-prefix/debug')\n\n            return Response(\"success\")"
  },
  {
    "id" : "bb9c53f6-70d6-4d08-b293-c74e3590cfcd",
    "prId" : 8157,
    "prUrl" : "https://github.com/apache/airflow/pull/8157#pullrequestreview-393797954",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2574288b-2b84-4fbf-bfba-081a0ac2ac63",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "How come this one is using the X-Forwarded-* headers? ProxyFix is off by default isn't it? so shouldn't those headers be ignored here?",
        "createdAt" : "2020-04-15T09:32:20Z",
        "updatedAt" : "2020-04-15T10:16:45Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "be4e46c3-60b2-40b1-adff-8b5b614b2216",
        "parentId" : "2574288b-2b84-4fbf-bfba-081a0ac2ac63",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "On line 31 I enabled proxy fix. Original IP address is `192.168.0.2`, header IP is \"192.168.0.1\". We use header IP here.",
        "createdAt" : "2020-04-15T10:15:46Z",
        "updatedAt" : "2020-04-15T10:17:12Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "49e29581-bbda-4884-b4d9-a0a405c9fbc6",
        "parentId" : "2574288b-2b84-4fbf-bfba-081a0ac2ac63",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Oh yes, not _quite_ sure how I missed that. The :coffee:  obviously hadn't kicked in yet.",
        "createdAt" : "2020-04-15T13:56:11Z",
        "updatedAt" : "2020-04-15T13:56:12Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "be8c5e552a8d0d3e4cd7d4ca94442ddab48dc17f",
    "line" : 66,
    "diffHunk" : "@@ -1,1 +49,53 @@\n            # Should respect HTTP_X_FORWARDED_FOR\n            self.assertEqual(request.remote_addr, '192.168.0.1')\n            # Should respect HTTP_X_FORWARDED_PROTO, HTTP_X_FORWARDED_HOST, HTTP_X_FORWARDED_PORT,\n            # HTTP_X_FORWARDED_PREFIX"
  },
  {
    "id" : "20e65075-c0bf-4b5a-bd03-319846b62b85",
    "prId" : 14865,
    "prUrl" : "https://github.com/apache/airflow/pull/14865#pullrequestreview-615170915",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a05d5592-9345-4b87-a558-29a19365b134",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "For speed I haven't loaded the Connexion API, so this test is changed to one of the build-in FAB routes instead.",
        "createdAt" : "2021-03-17T23:04:07Z",
        "updatedAt" : "2021-03-17T23:04:07Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "0990f939-44e2-4f57-a60b-98996b94dd32",
        "parentId" : "a05d5592-9345-4b87-a558-29a19365b134",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "TIL about `runpy`",
        "createdAt" : "2021-03-17T23:09:10Z",
        "updatedAt" : "2021-03-17T23:09:11Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "56603a9f-83bc-43a8-92ca-5f0e97253cf0",
        "parentId" : "a05d5592-9345-4b87-a558-29a19365b134",
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "Me too - I felt there had to be a better way of doing it than my first hacky solution (`from flask.cli import cli; cli.main()`) which felt too tied in to the implementation detail of flask\r\n\r\nThis is much more \"stable\"",
        "createdAt" : "2021-03-18T09:52:02Z",
        "updatedAt" : "2021-03-18T09:52:02Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "9f461d4d30d0347743c41c65ed5622138c1fdd65",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +252,256 @@\n        output = capsys.readouterr()\n        assert \"/login/\" in output.out"
  }
]