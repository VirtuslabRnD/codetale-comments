[
  {
    "id" : "aac38058-00e1-4695-9341-b731b6af0b6e",
    "prId" : 8242,
    "prUrl" : "https://github.com/redis/redis/pull/8242#pullrequestreview-570053900",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "57ecd3dc-20ee-4f61-9d5a-d5ecd3eb3306",
        "parentId" : null,
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "i would like to move that file into the `tests/sentinel/tmp/` folder.",
        "createdAt" : "2021-01-17T12:14:25Z",
        "updatedAt" : "2021-01-19T19:23:57Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      },
      {
        "id" : "4379ff97-59f9-4031-829c-a357f5776fe3",
        "parentId" : "57ecd3dc-20ee-4f61-9d5a-d5ecd3eb3306",
        "authorId" : "f5e1a433-8cc0-463e-9c6d-e6fe8fda30eb",
        "body" : "Actually, this file would be created in that path by the current code:\r\nWARNING: sentinel test(s) failed, there are leaked fds in sentinel,\r\n        see output file: /data/c/redis/tests/sentinel/tmp/sentinel_fd_leaks for more details.",
        "createdAt" : "2021-01-17T12:44:04Z",
        "updatedAt" : "2021-01-19T19:23:57Z",
        "lastEditedBy" : "f5e1a433-8cc0-463e-9c6d-e6fe8fda30eb",
        "tags" : [
        ]
      }
    ],
    "commit" : "a3ce93ce6653842abb9c311672c60b22dcad75a4",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +392,396 @@# Execute all the units inside the 'tests' directory.\nproc run_tests {} {\n    set sentinel_fd_leaks_file \"sentinel_fd_leaks\"\n    if { [file exists $sentinel_fd_leaks_file] } {\n        file delete $sentinel_fd_leaks_file"
  },
  {
    "id" : "c6a62b0a-21cf-4a40-876f-b5e723be8024",
    "prId" : 7725,
    "prUrl" : "https://github.com/redis/redis/pull/7725#pullrequestreview-482370379",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "07566373-990a-43f5-80d5-b553518b7e60",
        "parentId" : null,
        "authorId" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "body" : "@oranagra Is there a particular reason you're redirecting `stderr` rather than use the valgrind `--log-file` option?\r\n\r\nIt may not matter if we don't expect `$prgname` to use `stderr` but that may not always be the case and error messages that were printed to console in the past would no longer be visible at real time.",
        "createdAt" : "2020-09-03T19:13:01Z",
        "updatedAt" : "2020-09-03T19:14:46Z",
        "lastEditedBy" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "tags" : [
        ]
      },
      {
        "id" : "3cc3089f-7b76-424d-876e-4da1111c5a38",
        "parentId" : "07566373-990a-43f5-80d5-b553518b7e60",
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "@yossigo I followed the same technique that is used by the main redis tests. \nThe main redis tests redirect stdout to one file and stderr to another. \nThe cluster tests are using the `logfile` config instead of redirecting the stdout. \n\nAnyway, redis doesn't normally outputs anything to stderr, and if we want to change the valgrind log approach, it's more important to change the main redis test suite too. \nAlthough come to think of it, both run multiple servers in parallel, so putting things, to stderr rather than a file may be confusing. \n\nLet me know if you still think this should be changed and if you wanna change both tests infra or just the one",
        "createdAt" : "2020-09-04T05:37:21Z",
        "updatedAt" : "2020-09-04T05:37:21Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      }
    ],
    "commit" : "33ca54f058d1b4226084b69784c46a78b2425c33",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +51,55 @@    set errfile [file join $dirname err.txt]\n    if {$::valgrind} {\n        set pid [exec valgrind --track-origins=yes --suppressions=../../../src/valgrind.sup --show-reachable=no --show-possibly-lost=no --leak-check=full ../../../src/${prgname} $cfgfile 2>> $errfile &]\n    } else {\n        set pid [exec ../../../src/${prgname} $cfgfile &]"
  },
  {
    "id" : "dd3e0a4b-a3b0-45ce-8ab9-ec32d190cc04",
    "prId" : 7635,
    "prUrl" : "https://github.com/redis/redis/pull/7635#pullrequestreview-463810534",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0ee38e7b-2f07-45c2-8b50-0ab3b4086063",
        "parentId" : null,
        "authorId" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "body" : "```suggestion\r\n                    puts $cfg \"tls-port $port\"\r\n                    puts $cfg \"port 0\"\r\n```",
        "createdAt" : "2020-08-08T14:24:23Z",
        "updatedAt" : "2020-08-08T14:25:58Z",
        "lastEditedBy" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "tags" : [
        ]
      },
      {
        "id" : "025e189a-2fc2-4cb4-bb85-e64f480afbf1",
        "parentId" : "0ee38e7b-2f07-45c2-8b50-0ab3b4086063",
        "authorId" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "body" : "Needed otherwise the instance will also attempt to listen on 6379 (and may fail).",
        "createdAt" : "2020-08-08T14:25:48Z",
        "updatedAt" : "2020-08-08T14:25:58Z",
        "lastEditedBy" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "tags" : [
        ]
      },
      {
        "id" : "ba8948f8-5ba6-4620-b6a3-162f3028eb1f",
        "parentId" : "0ee38e7b-2f07-45c2-8b50-0ab3b4086063",
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "@yossigo this code appends to the exiting config file.\r\nRedis will use the last one. \r\nThe line you requested it already there. \r\nThis is not an ideal solution, but I'm not expecting this retry loop to run many times (if at all) ",
        "createdAt" : "2020-08-08T15:44:15Z",
        "updatedAt" : "2020-08-08T15:44:15Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      }
    ],
    "commit" : "9dea1e688ab088baf84b582249e4bbf6cc0f1b2f",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +103,107 @@                set cfg [open $cfgfile a+]\n                if {$::tls} {\n                    puts $cfg \"tls-port $port\"\n                } else {\n                    puts $cfg \"port $port\""
  }
]