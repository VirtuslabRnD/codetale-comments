[
  {
    "id" : "1bb95b79-3233-4a96-969e-513e63480ee8",
    "prId" : 8967,
    "prUrl" : "https://github.com/redis/redis/pull/8967#pullrequestreview-664205666",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "17c51fab-cb99-4750-83bf-0d7062d85a42",
        "parentId" : null,
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "i think we need a call to the new `wait_load_handlers_disconnected` here.\r\notherwise, in theory, we can see that the master ans replica are in sync, but there are still some commands in the pipeline",
        "createdAt" : "2021-05-19T08:32:32Z",
        "updatedAt" : "2021-05-19T08:52:52Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      },
      {
        "id" : "a3ba5e75-7c30-4d4c-abee-2c4a62c657d3",
        "parentId" : "17c51fab-cb99-4750-83bf-0d7062d85a42",
        "authorId" : "7771fdb3-77a5-4020-a4d6-c5f249a2184d",
        "body" : "added",
        "createdAt" : "2021-05-20T10:23:36Z",
        "updatedAt" : "2021-05-20T10:23:37Z",
        "lastEditedBy" : "7771fdb3-77a5-4020-a4d6-c5f249a2184d",
        "tags" : [
        ]
      }
    ],
    "commit" : "13590b05785275192157567ad0c40bdd6cc767c0",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +320,324 @@                            wait_load_handlers_disconnected\n\n                            wait_for_ofs_sync $master [lindex $slaves 0]\n                            wait_for_ofs_sync $master [lindex $slaves 1]\n                            wait_for_ofs_sync $master [lindex $slaves 2]"
  },
  {
    "id" : "2a1dd673-1840-4ce5-b75a-3601681dec17",
    "prId" : 7572,
    "prUrl" : "https://github.com/redis/redis/pull/7572#pullrequestreview-455921713",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f7034bd3-150b-499c-bd0a-710f2f741287",
        "parentId" : null,
        "authorId" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "body" : "Do you intentionally print `$res` and not `$log_text`?",
        "createdAt" : "2020-07-27T14:41:01Z",
        "updatedAt" : "2020-07-27T14:41:21Z",
        "lastEditedBy" : "b35f6f04-eae9-4f88-8265-08b19050f11b",
        "tags" : [
        ]
      },
      {
        "id" : "f9f2ba7b-0a44-414e-986f-b81e015b052b",
        "parentId" : "f7034bd3-150b-499c-bd0a-710f2f741287",
        "authorId" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "body" : "Yes, when running with `--dont-clean` and looking  for a reason it failed, it helps to know the line numbers ",
        "createdAt" : "2020-07-27T16:01:55Z",
        "updatedAt" : "2020-07-27T16:01:56Z",
        "lastEditedBy" : "02e243fa-aeed-4b15-9e9e-405ca1702d7e",
        "tags" : [
        ]
      }
    ],
    "commit" : "e4436110d64678d3e21203433be7a3a4b2264f3a",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +451,455 @@\n                set res [wait_for_log_messages -1 {\"*Internal error in RDB*\" \"*Finished with success*\" \"*Successful partial resynchronization*\"} $loglines 1000 1]\n                if {$::verbose} { puts $res }\n                set log_text [lindex $res 0]\n                set loglines [lindex $res 1]"
  }
]