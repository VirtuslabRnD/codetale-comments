[
  {
    "id" : "f73e09e2-2476-4557-aacf-0665c87a38b7",
    "prId" : 604,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7b303166-228c-430f-a328-4f4116a66237",
        "parentId" : null,
        "authorId" : "0624866b-ba3a-41a3-abab-e487a9cfb78c",
        "body" : "`with timeout` would be nice, otherwise tests might run forever\n",
        "createdAt" : "2015-11-06T16:14:06Z",
        "updatedAt" : "2015-11-06T19:51:14Z",
        "lastEditedBy" : "0624866b-ba3a-41a3-abab-e487a9cfb78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "29747f0ec1e40a11de273fa79bf6848672ece3ae",
    "line" : null,
    "diffHunk" : "@@ -1,1 +732,736 @@                filepath='hdfs://user/hive/warehouse/airflow.db/static_babynames',\n                timeout=120,\n                dag=self.dag)\n            t.run(start_date=DEFAULT_DATE, end_date=DEFAULT_DATE, force=True)\n"
  },
  {
    "id" : "d1592c6a-9538-4f3b-8c98-b782993e9268",
    "prId" : 608,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27d69dd0-6ce3-452d-b369-79bda4720403",
        "parentId" : null,
        "authorId" : "0624866b-ba3a-41a3-abab-e487a9cfb78c",
        "body" : "![img](http://dykn.com/wp-content/uploads/2014/11/disney.jpg)\n",
        "createdAt" : "2015-11-10T22:12:09Z",
        "updatedAt" : "2015-11-10T23:13:31Z",
        "lastEditedBy" : "0624866b-ba3a-41a3-abab-e487a9cfb78c",
        "tags" : [
        ]
      }
    ],
    "commit" : "8783a10fd38d13bcb8eec5888fb089f68d894d83",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +130,134 @@        conn_id = \"sqlite_default\"\n\n        captainHook = BaseHook.get_hook(conn_id=conn_id)\n        captainHook.run(\"CREATE TABLE operator_test_table (a, b)\")\n        captainHook.run(\"insert into operator_test_table values (1,2)\")"
  },
  {
    "id" : "6893b808-0d27-4b72-8b12-6b5abdf5394b",
    "prId" : 668,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4508a6a2-bd15-48d5-9f32-a2469f51193f",
        "parentId" : null,
        "authorId" : "48bd394b-c88e-49f9-845d-b29b038e3141",
        "body" : "@mistercrunch I'll have these fixed in the next PR in the series, in terms of using `.format`\n",
        "createdAt" : "2015-11-20T19:29:09Z",
        "updatedAt" : "2015-11-20T19:29:09Z",
        "lastEditedBy" : "48bd394b-c88e-49f9-845d-b29b038e3141",
        "tags" : [
        ]
      }
    ],
    "commit" : "9cf63eb02a93dbd8c8d0ea9ced6667a108325201",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +63,67 @@        assert dag_run.run_id != ''\n        assert dag_run.execution_date == datetime(2015, 1, 2, 0, 0), (\n                'dag_run.execution_date did not match expectation: %s' % dag_run.execution_date)        \n        assert dag_run.state == models.State.RUNNING\n        assert dag_run.external_trigger == False"
  },
  {
    "id" : "537ae3a1-30d6-4364-ba48-dd67e3f937ec",
    "prId" : 1290,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "98507896-ee9a-4140-90db-a368f7e0c033",
        "parentId" : null,
        "authorId" : "537cec6b-32b7-4f8b-9f76-6932246f79b5",
        "body" : "configuration.test_mode() is used through out core.py. Should these all be replaced?\n",
        "createdAt" : "2016-04-05T08:10:36Z",
        "updatedAt" : "2016-04-05T18:51:35Z",
        "lastEditedBy" : "537cec6b-32b7-4f8b-9f76-6932246f79b5",
        "tags" : [
        ]
      },
      {
        "id" : "6c5ad066-edea-4433-b979-2b368f32dd07",
        "parentId" : "98507896-ee9a-4140-90db-a368f7e0c033",
        "authorId" : "0a40f9fd-4a0a-426e-b6f5-f97a4905eb99",
        "body" : "@bolkedebruin I deleted this one because it was already called on line 22 of `tests/core.py` -- but to be completely honest, I'm not sure if `configuration.test_mode()` actually does anything?\n\nThis is the entire function:\n\n``` python\n\ndef test_mode():\n    conf = ConfigParserWithDefaults(defaults)\n    conf.read(TEST_CONFIG)\n```\n\nIt creates a new `conf` object with the test parameters, but doesn't return it or overwrite the existing one. And it doesn't change values that were already read-in at the module level (like `DAGS_FOLDER` at the top of `models.py`)\n",
        "createdAt" : "2016-04-05T12:55:03Z",
        "updatedAt" : "2016-04-05T18:51:35Z",
        "lastEditedBy" : "0a40f9fd-4a0a-426e-b6f5-f97a4905eb99",
        "tags" : [
        ]
      }
    ],
    "commit" : "b2844af020cb5a470bd83ead09ddb121923084ca",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +44,48 @@DEFAULT_DATE_DS = DEFAULT_DATE_ISO[:10]\nTEST_DAG_ID = 'unit_tests'\n\n\ntry:"
  },
  {
    "id" : "28ebc4ef-0d5d-400b-b82e-6a2defd598ff",
    "prId" : 3714,
    "prUrl" : "https://github.com/apache/airflow/pull/3714#pullrequestreview-144175301",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "21d0357a-780f-4b64-80bb-a441c8293d32",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "(Not related to this Pr, but we have HDFS tests in core.py? o_O)",
        "createdAt" : "2018-08-07T20:40:51Z",
        "updatedAt" : "2018-08-07T22:22:32Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      }
    ],
    "commit" : "c3b5ea1a3f14df9fa1d62bc8fec7706605ff5096",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +2424,2428 @@    def setUp(self):\n        configuration.load_test_config()\n        os.environ['AIRFLOW_CONN_HDFS_DEFAULT'] = 'hdfs://localhost:8020'\n\n    def test_get_client(self):"
  },
  {
    "id" : "b95ad03e-b48e-4db6-9a0c-64e1a98f75fe",
    "prId" : 6101,
    "prUrl" : "https://github.com/apache/airflow/pull/6101#pullrequestreview-288363011",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f8ba506f-cd8b-44c4-851c-45e7ad223ea2",
        "parentId" : null,
        "authorId" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "body" : "I think it would be better to just create a new test.\r\n`def test_delete_existing_dag(self)` or `def test_delete_dag_exists(self)`",
        "createdAt" : "2019-09-14T15:46:43Z",
        "updatedAt" : "2019-09-16T10:36:54Z",
        "lastEditedBy" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "tags" : [
        ]
      },
      {
        "id" : "ce6fcde7-9b9a-4bd2-80b5-45cf11abbcbe",
        "parentId" : "f8ba506f-cd8b-44c4-851c-45e7ad223ea2",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Done",
        "createdAt" : "2019-09-15T13:28:39Z",
        "updatedAt" : "2019-09-16T10:36:54Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      }
    ],
    "commit" : "18041bc71c4a4db84081f2320ac2c80e6a40fa55",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +1698,1702 @@    def test_delete_dag_existing_file(self):\n        # Test to check that the DAG should be deleted even if\n        # the file containing it is not deleted\n        DM = DagModel\n        key = \"my_dag_id\""
  },
  {
    "id" : "4b8e0b82-e3c3-4576-9265-e4f4840f8dad",
    "prId" : 6401,
    "prUrl" : "https://github.com/apache/airflow/pull/6401#pullrequestreview-307837149",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dddb9019-8684-4b21-865e-f6f2eadb0dbc",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "I'm afraid this test is in the wrong place. tests/cli/test_cli.py is a better file.\r\n\r\nI am also afraid of sys.stdout mocking. Python has a special mechanism for this.Â \r\nhttps://github.com/sekikn/incubator-airflow/blob/9ff0c4f79a009618215a2af60418f664168456f4/tests/cli/test_cli.py#L344-L352",
        "createdAt" : "2019-10-25T12:41:39Z",
        "updatedAt" : "2019-10-25T12:41:39Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "d750ced3-777b-4af8-beee-4345dc868929",
        "parentId" : "dddb9019-8684-4b21-865e-f6f2eadb0dbc",
        "authorId" : "bc99d3ae-33fd-4120-baa2-0b0ebeef78f6",
        "body" : "Thanks for the comment @mik-laj!\r\n\r\n> I'm afraid this test is in the wrong place. tests/cli/test_cli.py is a better file.\r\n\r\nThe reason that I added the new test to test/core.py was it has many cli-related tests in its TestCli class. I have no objection to move the new test into tests/cli/test_cli.py, but is there any criteria to put a new cli-related test into it (or should we basically use tests/cli/test_cli.py in the future)?\r\n\r\n> I am also afraid of sys.stdout mocking. Python has a special mechanism for this.\r\n\r\nI didn't use `contextlib.redirect_stdout` because of concern for the compatibility with Python2, but I've just noticed [we're going to drop it on the master branch](https://cwiki.apache.org/confluence/display/AIRFLOW/AIP-3+Drop+support+for+Python+2). I'll address it on another PR, thanks :)",
        "createdAt" : "2019-10-28T13:16:08Z",
        "updatedAt" : "2019-10-28T13:16:08Z",
        "lastEditedBy" : "bc99d3ae-33fd-4120-baa2-0b0ebeef78f6",
        "tags" : [
        ]
      }
    ],
    "commit" : "9ff0c4f79a009618215a2af60418f664168456f4",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +1797,1801 @@        os.remove('variables3.json')\n\n    def test_cli_version(self):\n        with mock.patch('sys.stdout', new_callable=io.StringIO) as mock_stdout:\n            cli.version(self.parser.parse_args(['version']))"
  }
]