[
  {
    "id" : "8001d816-b2a6-4ab0-b5e3-b3fe98ad6bc9",
    "prId" : 6773,
    "prUrl" : "https://github.com/apache/airflow/pull/6773#pullrequestreview-331136159",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e52809c5-7ca6-4968-ba57-a60de2fc3248",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "I think we miss tests for callables.",
        "createdAt" : "2019-12-11T12:23:05Z",
        "updatedAt" : "2019-12-18T06:28:32Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "f0402ff7-f383-4cb7-a09f-f66d925aa0de",
        "parentId" : "e52809c5-7ca6-4968-ba57-a60de2fc3248",
        "authorId" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "body" : "Good catch. I've changed the functionality but still need to add tests regardless, so I'll do that :)",
        "createdAt" : "2019-12-12T10:37:40Z",
        "updatedAt" : "2019-12-18T06:28:32Z",
        "lastEditedBy" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "tags" : [
        ]
      }
    ],
    "commit" : "6f0a0648bddda85e99a7076c8dd066eebcc537c6",
    "line" : 1094,
    "diffHunk" : "@@ -1,1 +908,912 @@            task_ids=self.datasync.task_id, key=\"return_value\"\n        )[\"TaskArn\"]\n        self.assertEqual(pushed_task_arn, self.task_arn)\n        # ### Check mocks:\n        mock_get_conn.assert_called()"
  },
  {
    "id" : "dd8181b1-f649-4a8d-936f-875eb920f4c3",
    "prId" : 6773,
    "prUrl" : "https://github.com/apache/airflow/pull/6773#pullrequestreview-333735765",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f243f763-6f4a-4adc-9a49-22f5b5f3db04",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "NIT: should we split that to two tests?",
        "createdAt" : "2019-12-17T10:27:31Z",
        "updatedAt" : "2019-12-18T06:28:32Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "2c470c77-1ef2-4475-9c46-d3ab1ba1de84",
        "parentId" : "f243f763-6f4a-4adc-9a49-22f5b5f3db04",
        "authorId" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "body" : "I think it should be fine as-is; if its needed in future we can always split them up later.",
        "createdAt" : "2019-12-18T05:27:16Z",
        "updatedAt" : "2019-12-18T06:28:32Z",
        "lastEditedBy" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "tags" : [
        ]
      }
    ],
    "commit" : "6f0a0648bddda85e99a7076c8dd066eebcc537c6",
    "line" : 636,
    "diffHunk" : "@@ -1,1 +506,510 @@        # Assert 0 additional task and 0 additional locations\n        tasks = self.client.list_tasks()\n        self.assertEqual(len(tasks[\"Tasks\"]), 2)\n        locations = self.client.list_locations()\n        self.assertEqual(len(locations[\"Locations\"]), 2)"
  },
  {
    "id" : "6a6d2f83-59e5-4d0d-89d0-63eb4b4ef2e2",
    "prId" : 6773,
    "prUrl" : "https://github.com/apache/airflow/pull/6773#pullrequestreview-334056383",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "808f7317-b528-40d6-a17b-94bb410c4ce0",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "I think we should add mock_get_conn.assert_called_once_with() or similar in all those tests?",
        "createdAt" : "2019-12-17T10:32:01Z",
        "updatedAt" : "2019-12-18T06:28:32Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "fbcfcfa2-2e24-4aae-962f-25692c80c293",
        "parentId" : "808f7317-b528-40d6-a17b-94bb410c4ce0",
        "authorId" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "body" : "Good idea, I'll add something along those lines.",
        "createdAt" : "2019-12-18T05:27:42Z",
        "updatedAt" : "2019-12-18T06:28:32Z",
        "lastEditedBy" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "tags" : [
        ]
      },
      {
        "id" : "7ec9204b-2443-4d44-a3f9-23c6417dc806",
        "parentId" : "808f7317-b528-40d6-a17b-94bb410c4ce0",
        "authorId" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "body" : "In most of the tests the get_hook() method will be called more than once, except when we just test init success / fail. So I've added asserts for called vs not called. ",
        "createdAt" : "2019-12-18T05:44:17Z",
        "updatedAt" : "2019-12-18T06:28:32Z",
        "lastEditedBy" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "tags" : [
        ]
      },
      {
        "id" : "bcf1df3a-885d-4737-a88f-96dd7ea909d4",
        "parentId" : "808f7317-b528-40d6-a17b-94bb410c4ce0",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "üëç ",
        "createdAt" : "2019-12-18T15:31:36Z",
        "updatedAt" : "2019-12-18T15:31:36Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "6f0a0648bddda85e99a7076c8dd066eebcc537c6",
    "line" : 401,
    "diffHunk" : "@@ -1,1 +312,316 @@        # ### Check mocks:\n        mock_get_conn.assert_called()\n\n    def test_execute_specific_task(self, mock_get_conn):\n        # ### Set up mocks:"
  },
  {
    "id" : "398ba250-cb96-47fb-86db-e3ad6ed2e8a4",
    "prId" : 16589,
    "prUrl" : "https://github.com/apache/airflow/pull/16589#pullrequestreview-690644408",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "614d7146-3f23-4686-bafc-7b52b4991510",
        "parentId" : null,
        "authorId" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "body" : "What is this change for? It doesn‚Äôt seem to be related without others.",
        "createdAt" : "2021-06-23T10:54:37Z",
        "updatedAt" : "2021-06-23T10:54:38Z",
        "lastEditedBy" : "a5092e56-4956-45ec-9914-ecec6b63df73",
        "tags" : [
        ]
      },
      {
        "id" : "64f41bd6-b903-4778-8df6-fc59fcbae379",
        "parentId" : "614d7146-3f23-4686-bafc-7b52b4991510",
        "authorId" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "body" : "Thanks for the feedback, yes it is needed. \r\n\r\nWithout it, the test fails:\r\n`E               TypeError: kill_task() got an unexpected keyword argument 'max_iterations'`\r\n\r\nWe are mocking `AWSDataSyncHook::wait_for_task_execution` which takes the kwarg `max_iterations` (unchanged)\r\nOn `AWSDataSyncOperator` line 364 we are passing this kwarg for the first time, so the mock needs to be able to receive it also. (changed)\r\n",
        "createdAt" : "2021-06-23T13:21:15Z",
        "updatedAt" : "2021-06-23T13:21:16Z",
        "lastEditedBy" : "892a0dfc-e8a5-4923-93ad-99df2c9c34db",
        "tags" : [
        ]
      }
    ],
    "commit" : "86bb55d1ecd6342c486b4d4d2fab9a6d6166c648",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +711,715 @@\n        # Kill the task when doing wait_for_task_execution\n        def kill_task(*args, **kwargs):\n            self.datasync.on_kill()\n            return True"
  }
]