[
  {
    "id" : "1a65d4f7-c495-4660-91fe-7906d84eb99c",
    "prId" : 4544,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/4544#pullrequestreview-702660509",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "63976c8b-c35b-43db-85c6-0bd99ffc2550",
        "parentId" : null,
        "authorId" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "body" : "Can we add a test to ensure `is_in_databricks_runtime` returns True if `pyspark.databricks` can be imported?\r\n\r\n```python\r\nimport sys\r\nfrom unittest import mock\r\n\r\n\r\ndef test_is_in_databricks_runtime(tmpdir):\r\n    fake_databricks_runtime = tmpdir.mkdir(\"pyspark\")\r\n    fake_databricks_runtime.join(\"__init__.py\").write(\"\")\r\n    fake_databricks_runtime.join(\"databricks.py\").write(\"\")\r\n    \r\n    with mock.patch(\"sys.path\", new=[tmpdir.strpath, *sys.path]):\r\n        import pyspark.databricks  # pylint: disable=unused-import\r\n        \r\n        assert is_in_databricks_runtime()\r\n    \r\n    with pytest.raises(ModuleNotFoundError):\r\n        import pyspark.databricks  # pylint: disable=unused-import\r\n\r\n    assert not is_in_databricks_runtime()\r\n```",
        "createdAt" : "2021-07-09T03:52:32Z",
        "updatedAt" : "2021-07-09T06:46:14Z",
        "lastEditedBy" : "0e487e6e-a7e7-4430-a4d6-ca9e76a34cba",
        "tags" : [
        ]
      }
    ],
    "commit" : "541d56769857ab9eb7d0da336dad234c04817004",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +22,26 @@    assert not databricks_utils.is_in_databricks_job()\n    assert not databricks_utils.is_dbfs_fuse_available()\n    assert not databricks_utils.is_in_databricks_runtime()\n\n"
  },
  {
    "id" : "1d9fd36d-c4f6-4a5c-8e46-ca0d5c5aaad0",
    "prId" : 3232,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/3232#pullrequestreview-461927677",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4ce42b07-8d46-4882-982a-09f7a7e66545",
        "parentId" : null,
        "authorId" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "body" : "for test `test_is_databricks_default_tracking_uri` (line 123) we should add the `databricks://profile:prefix` case.",
        "createdAt" : "2020-08-05T18:41:14Z",
        "updatedAt" : "2020-08-07T19:07:48Z",
        "lastEditedBy" : "672c9aff-2ae2-4b23-92a1-3e0ef1c935e9",
        "tags" : [
        ]
      }
    ],
    "commit" : "59dae340c20f6df0255bb855eda2025d004db1e6",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +96,100 @@        mock_dbutils.secrets.get.assert_any_call(key='prefix-host', scope='profile')\n        mock_dbutils.secrets.get.assert_any_call(key='prefix-workspace-id', scope='profile')\n        assert workspace_host == 'workspace-placeholder-info'\n        assert workspace_id == 'workspace-placeholder-info'\n"
  },
  {
    "id" : "223d4b8b-ee89-4202-b51a-a948acebf53b",
    "prId" : 402,
    "prUrl" : "https://github.com/mlflow/mlflow/pull/402#pullrequestreview-150656592",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "739bfa65-1b61-4300-b5fa-c87b36b0845b",
        "parentId" : null,
        "authorId" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "body" : "These tests were more-or-less just moved from `rest_utils`, but the HTTP parts have been removed.",
        "createdAt" : "2018-08-29T16:49:38Z",
        "updatedAt" : "2018-08-30T19:28:49Z",
        "lastEditedBy" : "6e958077-8d60-494d-8079-e77af3a2951f",
        "tags" : [
        ]
      }
    ],
    "commit" : "150bfb4198cd39a2e87af813fab80c630ac7feff",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +14,18 @@\n\n@mock.patch('databricks_cli.configure.provider.get_config')\ndef test_databricks_params_token(get_config):\n    get_config.return_value = \\"
  }
]