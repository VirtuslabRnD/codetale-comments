[
  {
    "id" : "13eb3cae-c4a8-4650-ac52-477303755b5f",
    "prId" : 9813,
    "prUrl" : "https://github.com/lampepfl/dotty/pull/9813#pullrequestreview-490555632",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "20e689c0-4d60-468b-8f18-04ba8b8f1c4d",
        "parentId" : null,
        "authorId" : "a7e5fcc8-eade-485d-96d2-94106dd74f83",
        "body" : "Now, this reports correctly the NPE\r\n```scala\r\n-- Error: tests/pos-macros/i9801/Test_2.scala:1:21 ---------------------------------------------------------------------\r\n1 |def test: Unit = loop(4)\r\n  |                 ^^^^^^^\r\n  |       Exception occurred while executing macro expansion.\r\n  |       java.lang.NullPointerException\r\n  |             at dotty.tools.dotc.reporting.Message.dropNonSensical(Message.scala:65)\r\n  |             at dotty.tools.dotc.reporting.Message.message(Message.scala:78)\r\n  |             at dotty.tools.dotc.reporting.Message.isNonSensical(Message.scala:90)\r\n  |             at dotty.tools.dotc.reporting.HideNonSensicalMessages.isHidden(HideNonSensicalMessages.scala:16)\r\n  |             at dotty.tools.dotc.reporting.HideNonSensicalMessages.isHidden$(HideNonSensicalMessages.scala:10)\r\n  |             at dotty.tools.dotc.reporting.TestReporter.isHidden(TestReporter.scala:18)\r\n  |             at dotty.tools.dotc.reporting.Reporter.report(Reporter.scala:148)\r\n  |             at dotty.tools.dotc.report$.error(report.scala:71)\r\n  |             at dotty.tools.dotc.quoted.reflect.ReflectionCompilerInterface.error(ReflectionCompilerInterface.scala:90)\r\n  |             at dotty.tools.dotc.quoted.QuoteContextImpl$$anon$1.error(QuoteContextImpl.scala:42)\r\n  |             at Macro_1$package$.impl(Macro_1.scala:18)\r\n  |\r\n  | This location contains code that was inlined from Test_2.scala:2\r\n\r\ninlined at Test_2.scala:1:\r\n```",
        "createdAt" : "2020-09-17T08:23:54Z",
        "updatedAt" : "2020-09-17T08:37:37Z",
        "lastEditedBy" : "a7e5fcc8-eade-485d-96d2-94106dd74f83",
        "tags" : [
        ]
      },
      {
        "id" : "84845122-c90f-4b7e-a5a8-143ad83cb3a0",
        "parentId" : "20e689c0-4d60-468b-8f18-04ba8b8f1c4d",
        "authorId" : "a7e5fcc8-eade-485d-96d2-94106dd74f83",
        "body" : "Notice that in this particular case the user passed a `null` into the reporting which made the reporting itself fail.",
        "createdAt" : "2020-09-17T12:03:22Z",
        "updatedAt" : "2020-09-17T12:03:22Z",
        "lastEditedBy" : "a7e5fcc8-eade-485d-96d2-94106dd74f83",
        "tags" : [
        ]
      },
      {
        "id" : "ef0e1b73-d941-4924-9083-4f33831b8959",
        "parentId" : "20e689c0-4d60-468b-8f18-04ba8b8f1c4d",
        "authorId" : "bc4c7970-6d84-475b-b408-2ed0f22a7bf3",
        "body" : "You mean `e.getMessage` returns `null`?",
        "createdAt" : "2020-09-17T12:48:42Z",
        "updatedAt" : "2020-09-17T12:49:24Z",
        "lastEditedBy" : "bc4c7970-6d84-475b-b408-2ed0f22a7bf3",
        "tags" : [
        ]
      }
    ],
    "commit" : "ccf6c2ab3822729ff23eb917ee625f9e79804d53",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@def test: Unit = loop(4) // error"
  }
]