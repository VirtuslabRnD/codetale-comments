[
  {
    "id" : "0f4c6fa8-fc97-4284-8f09-5470ea8a9b6b",
    "prId" : 10995,
    "prUrl" : "https://github.com/apache/kafka/pull/10995#pullrequestreview-702293404",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ea34bee8-b300-43ac-8d1f-5b337bd98b0f",
        "parentId" : null,
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "The logic through `must_do`, which we were doing previously also redirects output and checks the command return. Should we do something similar?",
        "createdAt" : "2021-07-08T16:30:19Z",
        "updatedAt" : "2021-07-08T16:30:19Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "37b4c5ee-16d1-4f85-a35c-02132ae20f97",
        "parentId" : "ea34bee8-b300-43ac-8d1f-5b337bd98b0f",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "Well... I made this new function because the other one was checking the output and exiting if it was nonzero. That didn't allow me to print the error message I wanted. So doing the same thing here would defeat the point :)\r\n\r\nIf bash shell was a better language, I could add a lambda argument to the existing function and have the lambda return what to print on failure. But shell doesn't really do closures, so it would turn into kind of a mess.",
        "createdAt" : "2021-07-08T16:44:29Z",
        "updatedAt" : "2021-07-08T16:44:30Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      },
      {
        "id" : "70397e70-73b2-4bd7-8bb1-1f8e1a82e96e",
        "parentId" : "ea34bee8-b300-43ac-8d1f-5b337bd98b0f",
        "authorId" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "body" : "Fair enough.",
        "createdAt" : "2021-07-08T16:46:28Z",
        "updatedAt" : "2021-07-08T16:46:28Z",
        "lastEditedBy" : "5c21df64-97d8-46ab-9722-a7e9ba1d7c49",
        "tags" : [
        ]
      },
      {
        "id" : "d6dbb97d-d9f6-4c05-912a-57842b55be83",
        "parentId" : "ea34bee8-b300-43ac-8d1f-5b337bd98b0f",
        "authorId" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "body" : "Also I guess some people would say that I'm doing things too much the Java way here, and that the kewl bash way of doing this would be \r\n```\r\nset -x\r\n<run command>\r\nset +x\r\n```\r\nBut it still feels kind of like a mess since, does `set +x` change `$?` ?\r\nSigh.",
        "createdAt" : "2021-07-08T16:49:48Z",
        "updatedAt" : "2021-07-08T16:49:48Z",
        "lastEditedBy" : "514c0afb-8649-4fd9-a6ea-ee9e1b695274",
        "tags" : [
        ]
      }
    ],
    "commit" : "a657d735cf3ca1fafd4bd255137713a28509ed8a",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +189,193 @@    local cmd=\"${@}\"\n    echo \"${cmd}\"\n    ${cmd}\n}\n"
  }
]