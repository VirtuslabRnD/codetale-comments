[
  {
    "id" : "38ee1ad6-ea67-427c-8d18-a55e87534b06",
    "prId" : 7507,
    "prUrl" : "https://github.com/apache/airflow/pull/7507#pullrequestreview-363108123",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2633f98e-5501-45ba-9067-a9d334bbcf01",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "This test is failing !\r\n\r\n```\r\ntests/executors/test_kubernetes_executor.py ........F\r\n_______________ TestKubernetesExecutor.test_change_state_failed ________________\r\nself = <tests.executors.test_kubernetes_executor.TestKubernetesExecutor testMethod=test_change_state_failed>\r\nmock_delete_pod = <MagicMock name='delete_pod' id='139826376881768'>\r\nmock_get_kube_client = <MagicMock name='get_kube_client' id='139826376870040'>\r\nmock_kubernetes_job_watcher = <MagicMock name='KubernetesJobWatcher' id='139826376809104'>\r\n    @mock.patch('airflow.executors.kubernetes_executor.KubernetesJobWatcher')\r\n    @mock.patch('airflow.executors.kubernetes_executor.get_kube_client')\r\n    @mock.patch('airflow.executors.kubernetes_executor.AirflowKubernetesScheduler.delete_pod')\r\n    def test_change_state_failed(self, mock_delete_pod, mock_get_kube_client, mock_kubernetes_job_watcher):\r\n        executor = KubernetesExecutor()\r\n        executor.start()\r\n        key = ('dag_id', 'task_id', 'ex_time', 'try_number3')\r\n        executor._change_state(key, State.FAILED, 'pod_id')\r\n        self.assertTrue(executor.event_buffer[key] == State.FAILED)\r\n>       mock_delete_pod.assert_not_called()\r\ntests/executors/test_kubernetes_executor.py:263: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n_mock_self = <MagicMock name='delete_pod' id='139826376881768'>\r\n    def assert_not_called(_mock_self):\r\n        \"\"\"assert that the mock was never called.\r\n        \"\"\"\r\n        self = _mock_self\r\n        if self.call_count != 0:\r\n            msg = (\"Expected '%s' to not have been called. Called %s times.%s\"\r\n                   % (self._mock_name or 'mock',\r\n                      self.call_count,\r\n                      self._calls_repr()))\r\n>           raise AssertionError(msg)\r\nE           AssertionError: Expected 'delete_pod' to not have been called. Called 1 times.\r\nE           Calls: [call('pod_id')].\r\n/usr/local/lib/python3.6/site-packages/mock/mock.py:871: AssertionError\r\n```",
        "createdAt" : "2020-02-23T11:47:12Z",
        "updatedAt" : "2020-03-19T20:21:57Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "ed63ef35-75bf-4e68-8ecf-ee86885fa815",
        "parentId" : "2633f98e-5501-45ba-9067-a9d334bbcf01",
        "authorId" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "body" : "@kaxil fixed it. Was a bug in the edits.",
        "createdAt" : "2020-02-23T16:51:46Z",
        "updatedAt" : "2020-03-19T20:21:57Z",
        "lastEditedBy" : "b8b84983-5876-4ccf-886c-2449d94ca22f",
        "tags" : [
        ]
      }
    ],
    "commit" : "be002d4e4549f278c10d70bff2f90d45e84ac69c",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +271,275 @@        executor._change_state(key, State.FAILED, 'pod_id', 'default')\n        self.assertTrue(executor.event_buffer[key] == State.FAILED)\n        mock_delete_pod.assert_not_called()\n# pylint: enable=unused-argument\n"
  },
  {
    "id" : "dbdeda8f-91ee-462c-bc4b-684c7db4021a",
    "prId" : 17057,
    "prUrl" : "https://github.com/apache/airflow/pull/17057#pullrequestreview-709056439",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e3d651d9-e793-4674-a65b-f4e59e66a78f",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : ":D",
        "createdAt" : "2021-07-18T19:51:58Z",
        "updatedAt" : "2021-07-18T19:55:46Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "2e7ea912bff488bcb709d332c362626552c46e3d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +66,70 @@            (\"mydagid\" * 200, \"my_task_id\" * 200),\n            (\"my_dág_id\", \"my_tásk_id\"),\n            (\"Компьютер\", \"niedołężność\"),\n            (\"影師嗎\", \"中華民國;$\"),\n        ]"
  }
]