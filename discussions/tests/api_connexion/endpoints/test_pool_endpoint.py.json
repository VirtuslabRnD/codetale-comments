[
  {
    "id" : "0323ea72-4570-480c-ab04-896550445579",
    "prId" : 9329,
    "prUrl" : "https://github.com/apache/airflow/pull/9329#pullrequestreview-431888323",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ea646353-9f13-490c-837c-3c36c47614a1",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Could you add this error code to the specification?",
        "createdAt" : "2020-06-16T16:24:04Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "7cdc28ce-c3c2-4c28-8878-0c6be3f78361",
        "parentId" : "ea646353-9f13-490c-837c-3c36c47614a1",
        "authorId" : "503f5940-5247-48c7-b205-b52538648514",
        "body" : "Here is the change ~da4cf5b~ e591251 ",
        "createdAt" : "2020-06-16T21:01:21Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "503f5940-5247-48c7-b205-b52538648514",
        "tags" : [
        ]
      }
    ],
    "commit" : "46590f98d3e7c8c281b0ad0c7dbb9d6f32c3c6fa",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +191,195 @@\n    @provide_session\n    def test_response_409(self, session):\n        pool_name = \"test_pool_a\"\n        pool_instance = Pool(pool=pool_name, slots=3)"
  },
  {
    "id" : "da061fe2-edab-416a-8b62-9decea35a384",
    "prId" : 9329,
    "prUrl" : "https://github.com/apache/airflow/pull/9329#pullrequestreview-431888169",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4a3c82fb-6421-4657-9718-a3b01e525f3c",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Can you also add a test that check handling for 400?",
        "createdAt" : "2020-06-16T16:24:55Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "1d18c5a7-5ae9-4f99-8b7c-270227534a9f",
        "parentId" : "4a3c82fb-6421-4657-9718-a3b01e525f3c",
        "authorId" : "503f5940-5247-48c7-b205-b52538648514",
        "body" : "Here is the change ~da4cf5b~ e591251 ",
        "createdAt" : "2020-06-16T21:01:07Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "503f5940-5247-48c7-b205-b52538648514",
        "tags" : [
        ]
      }
    ],
    "commit" : "46590f98d3e7c8c281b0ad0c7dbb9d6f32c3c6fa",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +172,176 @@\n\nclass TestPostPool(TestBasePoolEndpoints):\n    def test_response_200(self):\n        response = self.client.post("
  },
  {
    "id" : "352730f1-4885-4967-9a5f-112f57457b94",
    "prId" : 9329,
    "prUrl" : "https://github.com/apache/airflow/pull/9329#pullrequestreview-434502076",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "201193cf-9e10-49fb-9b92-17eba6f80cad",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Can you add a test that tries to update the read-only field e.g. occupied_slots?",
        "createdAt" : "2020-06-21T09:07:35Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "717c6232-8d95-4465-8d83-ddf986f45256",
        "parentId" : "201193cf-9e10-49fb-9b92-17eba6f80cad",
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "Also a test where there's a typo in the fields in update mask?",
        "createdAt" : "2020-06-21T11:43:02Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      },
      {
        "id" : "ca5d03d7-7732-4886-9160-de98a092b50d",
        "parentId" : "201193cf-9e10-49fb-9b92-17eba6f80cad",
        "authorId" : "503f5940-5247-48c7-b205-b52538648514",
        "body" : "> Can you add a test that tries to update the read-only field e.g. occupied_slots?\r\n\r\nHere is the [change](https://github.com/apache/airflow/pull/9329/files#diff-83587b0e0b4bb59a06b380179eb8e914R318-R329)",
        "createdAt" : "2020-06-21T13:35:23Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "503f5940-5247-48c7-b205-b52538648514",
        "tags" : [
        ]
      },
      {
        "id" : "24a04716-c7b3-4495-92b7-12f82ff23c55",
        "parentId" : "201193cf-9e10-49fb-9b92-17eba6f80cad",
        "authorId" : "503f5940-5247-48c7-b205-b52538648514",
        "body" : "> Also a test where there's a typo in the fields in update mask?\r\n\r\nHere is [change](https://github.com/apache/airflow/pull/9329/files#diff-83587b0e0b4bb59a06b380179eb8e914R330-R341)",
        "createdAt" : "2020-06-21T13:36:49Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "503f5940-5247-48c7-b205-b52538648514",
        "tags" : [
        ]
      }
    ],
    "commit" : "46590f98d3e7c8c281b0ad0c7dbb9d6f32c3c6fa",
    "line" : 258,
    "diffHunk" : "@@ -1,1 +387,391 @@        [\n            (\n                \"api/v1/pools/test_pool?update_mask=name, slots\",\n                {\"name\": \"test_pool_a\", \"slots\": 2},\n                \"test_pool_a\","
  },
  {
    "id" : "c3990db2-f4a2-44f8-955e-9d2cb573850a",
    "prId" : 9329,
    "prUrl" : "https://github.com/apache/airflow/pull/9329#pullrequestreview-434526137",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "da9a1c1c-e34f-4a23-b6d0-c4f1f9d1493e",
        "parentId" : null,
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "Can you add a test where name is missing. The change in spec will not allow it. I just had same problem. This is how I solved it https://github.com/apache/airflow/commit/1a4efd35d37bae28735af470d7846ff3b0bce6f6",
        "createdAt" : "2020-06-21T14:30:49Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      },
      {
        "id" : "13c5da26-b232-42d6-87fb-4449e2572637",
        "parentId" : "da9a1c1c-e34f-4a23-b6d0-c4f1f9d1493e",
        "authorId" : "503f5940-5247-48c7-b205-b52538648514",
        "body" : "> Can you add a test where name is missing\r\n\r\nHere is the [test](https://github.com/apache/airflow/pull/9329/files#diff-83587b0e0b4bb59a06b380179eb8e914R270-R285)\r\nBut removing `name` and `slots` from the required fields in spec doesn't makes sense to me. Patching selected fields should be handled by the update_mask meaning the request json should always have all updatable fields.  ",
        "createdAt" : "2020-06-21T17:46:02Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "503f5940-5247-48c7-b205-b52538648514",
        "tags" : [
        ]
      },
      {
        "id" : "fb2ac6d8-4ea6-4d49-a1d4-ca3a75e245e1",
        "parentId" : "da9a1c1c-e34f-4a23-b6d0-c4f1f9d1493e",
        "authorId" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "body" : "I actually mean to exclude name on your patch method test. That is, to have the payload go with only slots. {\"slots\":3}. \r\nName is already on the path, the normal thing is that it shouldn't be on the payload.\r\nThat's what most users would expect",
        "createdAt" : "2020-06-21T17:55:49Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "c7b0cb1c-ff95-4ec9-a0c6-a9f1b5135a52",
        "tags" : [
        ]
      },
      {
        "id" : "efdcd174-ef62-4ef4-95e8-50619b96552a",
        "parentId" : "da9a1c1c-e34f-4a23-b6d0-c4f1f9d1493e",
        "authorId" : "503f5940-5247-48c7-b205-b52538648514",
        "body" : "> Name is already on the path, the normal thing is that it shouldn't be on the payload.\r\nThat's what most users would expect\r\n\r\nName is the lookup field to retrieve the instance but it's also a patchable field according to the [spec](https://redocly.github.io/redoc/?url=https://raw.githubusercontent.com/OmairK/airflow/healt-endpoint-8144/airflow/api_connexion/openapi/v1.yaml#operation/airflow.api_connexion.endpoints.pool_endpoint.patch_pool).\r\n ",
        "createdAt" : "2020-06-21T19:24:28Z",
        "updatedAt" : "2020-06-29T15:32:22Z",
        "lastEditedBy" : "503f5940-5247-48c7-b205-b52538648514",
        "tags" : [
        ]
      }
    ],
    "commit" : "46590f98d3e7c8c281b0ad0c7dbb9d6f32c3c6fa",
    "line" : 111,
    "diffHunk" : "@@ -1,1 +240,244 @@\n\nclass TestPatchPool(TestBasePoolEndpoints):\n    @provide_session\n    def test_response_200(self, session):"
  }
]