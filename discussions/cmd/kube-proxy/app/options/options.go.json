[
  {
    "id" : "388b7b73-89d8-4a3c-8ec1-a1c62460dd98",
    "prId" : 35334,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/35334#pullrequestreview-5574008",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a03a0f45-ee44-4a79-b544-1023fa0cd7b6",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "What if this is > iptables-sync-period?  Comment should say it can';t be and should be validated\n",
        "createdAt" : "2016-10-24T22:07:06Z",
        "updatedAt" : "2016-11-04T17:30:49Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "fa19610e-f4fa-4b04-ac49-0edee86d61c4",
        "parentId" : "a03a0f45-ee44-4a79-b544-1023fa0cd7b6",
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "Added logic check. \n",
        "createdAt" : "2016-10-25T02:31:18Z",
        "updatedAt" : "2016-11-04T17:30:49Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      }
    ],
    "commit" : "1cb97b83cab57372826a0fa9e2a89a92bfbb80a6",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +79,83 @@\tfs.Int32Var(s.IPTablesMasqueradeBit, \"iptables-masquerade-bit\", util.Int32PtrDerefOr(s.IPTablesMasqueradeBit, 14), \"If using the pure iptables proxy, the bit of the fwmark space to mark packets requiring SNAT with.  Must be within the range [0, 31].\")\n\tfs.DurationVar(&s.IPTablesSyncPeriod.Duration, \"iptables-sync-period\", s.IPTablesSyncPeriod.Duration, \"The maximum interval of how often iptables rules are refreshed (e.g. '5s', '1m', '2h22m').  Must be greater than 0.\")\n\tfs.DurationVar(&s.IPTablesMinSyncPeriod.Duration, \"iptables-min-sync-period\", s.IPTablesMinSyncPeriod.Duration, \"The minimum interval of how often the iptables rules can be refreshed as endpoints and services change (e.g. '5s', '1m', '2h22m').  Must be greater than 0.\")\n\tfs.DurationVar(&s.ConfigSyncPeriod, \"config-sync-period\", s.ConfigSyncPeriod, \"How often configuration from the apiserver is refreshed.  Must be greater than 0.\")\n\tfs.BoolVar(&s.MasqueradeAll, \"masquerade-all\", s.MasqueradeAll, \"If using the pure iptables proxy, SNAT everything\")"
  },
  {
    "id" : "dc640ebf-bfa3-45f0-bc81-318afedb8a13",
    "prId" : 28876,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a7ddad6e-be2a-4ae6-88a8-b837698a1a71",
        "parentId" : null,
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "Would it be useful to add the default value here? (32 \\* 1024)\n",
        "createdAt" : "2016-07-13T11:01:04Z",
        "updatedAt" : "2016-07-15T23:36:47Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      },
      {
        "id" : "8d38b963-6333-4c4f-a45a-386c7107cc37",
        "parentId" : "a7ddad6e-be2a-4ae6-88a8-b837698a1a71",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "The default value gets set in code elsewhere.  I'm not really happy with the state of it all, but I didn't want to buck the trend for this PR.  When you run `kube-proxy -?` it shows the 32k default.\n",
        "createdAt" : "2016-07-13T17:16:00Z",
        "updatedAt" : "2016-07-15T23:36:47Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "1e549a22-6e3b-46a6-8add-7f32e1fb215e",
        "parentId" : "a7ddad6e-be2a-4ae6-88a8-b837698a1a71",
        "authorId" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "body" : "Ack. thanks!\n",
        "createdAt" : "2016-07-13T17:19:10Z",
        "updatedAt" : "2016-07-15T23:36:47Z",
        "lastEditedBy" : "bd04f755-e62f-45fb-8771-4cc2b5db49d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "1f37281daee74bbc8d0c99b73d0d22827407f595",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +87,91 @@\t\t\"Maximum number of NAT connections to track (0 to leave as-is).\")\n\tfs.Int32Var(&s.ConntrackMaxPerCore, \"conntrack-max-per-core\", s.ConntrackMaxPerCore,\n\t\t\"Maximum number of NAT connections to track per CPU core (0 to leave as-is). This is only considered if conntrack-max is 0.\")\n\tfs.DurationVar(&s.ConntrackTCPEstablishedTimeout.Duration, \"conntrack-tcp-timeout-established\", s.ConntrackTCPEstablishedTimeout.Duration, \"Idle timeout for established TCP connections (0 to leave as-is)\")\n}"
  },
  {
    "id" : "702e716a-6831-47ec-a567-5b39f1c0a6fa",
    "prId" : 28876,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ccf7f8a2-c7b2-4f2a-950b-cf76e02b9fde",
        "parentId" : null,
        "authorId" : "9680f0db-1c00-49c9-968a-be3d5084d153",
        "body" : "@thockin Is there an easy way to let user know if they set both that is incorrect?\n",
        "createdAt" : "2016-07-15T20:00:21Z",
        "updatedAt" : "2016-07-15T23:36:47Z",
        "lastEditedBy" : "9680f0db-1c00-49c9-968a-be3d5084d153",
        "tags" : [
        ]
      },
      {
        "id" : "73626534-6d72-4c38-86b6-2df201433c6d",
        "parentId" : "ccf7f8a2-c7b2-4f2a-950b-cf76e02b9fde",
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "Fair enough.  Done.\n",
        "createdAt" : "2016-07-15T20:13:52Z",
        "updatedAt" : "2016-07-15T23:36:47Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      }
    ],
    "commit" : "1f37281daee74bbc8d0c99b73d0d22827407f595",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +86,90 @@\tfs.Int32Var(&s.ConntrackMax, \"conntrack-max\", s.ConntrackMax,\n\t\t\"Maximum number of NAT connections to track (0 to leave as-is).\")\n\tfs.Int32Var(&s.ConntrackMaxPerCore, \"conntrack-max-per-core\", s.ConntrackMaxPerCore,\n\t\t\"Maximum number of NAT connections to track per CPU core (0 to leave as-is). This is only considered if conntrack-max is 0.\")\n\tfs.DurationVar(&s.ConntrackTCPEstablishedTimeout.Duration, \"conntrack-tcp-timeout-established\", s.ConntrackTCPEstablishedTimeout.Duration, \"Idle timeout for established TCP connections (0 to leave as-is)\")"
  },
  {
    "id" : "f1f9e99f-ea1e-4a24-92c4-16a81e3648f9",
    "prId" : 20775,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "00ef1bc8-939e-40e1-86af-eea84fd0ce59",
        "parentId" : null,
        "authorId" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "body" : "This one is interesting - it's really a flag.  It is not a config parameter, and it doesn't make sense in a config \"file\".  Do we want to handle that difference?\n\n@mikedanese \n",
        "createdAt" : "2016-02-06T21:45:15Z",
        "updatedAt" : "2016-02-06T21:45:15Z",
        "lastEditedBy" : "f87fe7d3-581c-4cb6-b17e-b807c6f2c789",
        "tags" : [
        ]
      },
      {
        "id" : "ab01e6f1-c7aa-4af0-be21-87ed78461e67",
        "parentId" : "00ef1bc8-939e-40e1-86af-eea84fd0ce59",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "Doesn't matter to me, as long as things that tie to config struct fields pull default values from those fields. \n",
        "createdAt" : "2016-02-06T21:53:24Z",
        "updatedAt" : "2016-02-06T21:53:24Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "14832407-7001-4e4c-b26b-748c6f253981",
        "parentId" : "00ef1bc8-939e-40e1-86af-eea84fd0ce59",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "this looks good to me. I agree that we may want to pull this field out of the kube-proxy configuration, but I don't think we have to do it here. We should do a holistic review of the config objects and decide some criteria for flags vs config fields.\n",
        "createdAt" : "2016-02-06T22:00:18Z",
        "updatedAt" : "2016-02-06T22:00:18Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "df400cd0-6ac2-4562-a53c-df2943ad0be9",
        "parentId" : "00ef1bc8-939e-40e1-86af-eea84fd0ce59",
        "authorId" : null,
        "body" : "Sgtm.  I am on mobile, so feel free to self-label LGTM\nOn Feb 6, 2016 2:00 PM, \"Mike Danese\" notifications@github.com wrote:\n\n> In cmd/kube-proxy/app/options/options.go\n> https://github.com/kubernetes/kubernetes/pull/20775#discussion_r52108130\n> :\n> \n> > @@ -73,8 +73,8 @@ func (s *ProxyServerConfig) AddFlags(fs *pflag.FlagSet) {\n> >     fs.Var(&s.Mode, \"proxy-mode\", \"Which proxy mode to use: 'userspace' (older) or 'iptables' (faster). If blank, look at the Node object on the Kubernetes API and respect the '\"+ExperimentalProxyModeAnnotation+\"' annotation if provided.  Otherwise use the best-available proxy (currently iptables).  If the iptables proxy is selected, regardless of how, but the system's kernel or iptables versions are insufficient, this always falls back to the userspace proxy.\")\n> >     fs.DurationVar(&s.IPTablesSyncPeriod.Duration, \"iptables-sync-period\", s.IPTablesSyncPeriod.Duration, \"How often iptables rules are refreshed (e.g. '5s', '1m', '2h22m').  Must be greater than 0.\")\n> >     fs.DurationVar(&s.ConfigSyncPeriod, \"config-sync-period\", s.ConfigSyncPeriod, \"How often configuration from the apiserver is refreshed.  Must be greater than 0.\")\n> > -   fs.BoolVar(&s.MasqueradeAll, \"masquerade-all\", false, \"If using the pure iptables proxy, SNAT everything\")\n> > -   fs.BoolVar(&s.CleanupAndExit, \"cleanup-iptables\", false, \"If true cleanup iptables rules and exit.\")\n> > -   fs.BoolVar(&s.MasqueradeAll, \"masquerade-all\", s.MasqueradeAll, \"If using the pure iptables proxy, SNAT everything\")\n> > -   fs.BoolVar(&s.CleanupAndExit, \"cleanup-iptables\", s.CleanupAndExit, \"If true cleanup iptables rules and exit.\")\n> \n> this looks good to me. I agree that we may want to pull this field out of\n> the kube-proxy configuration, but I don't think we have to do it here. We\n> should do a holistic review of the config objects and decide some criteria\n> for flags vs config fields.\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/kubernetes/kubernetes/pull/20775/files#r52108130.\n",
        "createdAt" : "2016-02-06T22:22:35Z",
        "updatedAt" : "2016-02-06T22:22:35Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "544af0a910b9d2a48fdbbdb6147cc4cc20d71108",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +75,79 @@\tfs.DurationVar(&s.ConfigSyncPeriod, \"config-sync-period\", s.ConfigSyncPeriod, \"How often configuration from the apiserver is refreshed.  Must be greater than 0.\")\n\tfs.BoolVar(&s.MasqueradeAll, \"masquerade-all\", s.MasqueradeAll, \"If using the pure iptables proxy, SNAT everything\")\n\tfs.BoolVar(&s.CleanupAndExit, \"cleanup-iptables\", s.CleanupAndExit, \"If true cleanup iptables rules and exit.\")\n\tfs.Float32Var(&s.KubeAPIQPS, \"kube-api-qps\", s.KubeAPIQPS, \"QPS to use while talking with kubernetes apiserver\")\n\tfs.IntVar(&s.KubeAPIBurst, \"kube-api-burst\", s.KubeAPIBurst, \"Burst to use while talking with kubernetes apiserver\")"
  }
]