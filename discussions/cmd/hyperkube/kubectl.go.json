[
  {
    "id" : "a0c677b9-b0bb-4cba-9b19-aa4b04282e6b",
    "prId" : 25512,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0893f640-3daa-4cc5-af9d-7e3074d9a68d",
        "parentId" : null,
        "authorId" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "body" : "So far hyperkube has always collected cmds from `k8s.io/kubernetes/cmd` as it adds another layer between `k8s.io/kubernetes/pkg` and `k8s.io/kubernetes/cmd/hyperkube`.  Calling `cmd.NewKubectlCommand` right here is against that. Not sure, if it really matters. Still, I see the additional layer as a useful assumption when debugging hyperkube. At the same time the common pattern of defining `Server.Run` (as bellow) is to delegate the call to another `app.Run`.\n",
        "createdAt" : "2016-05-12T07:31:24Z",
        "updatedAt" : "2016-05-13T22:42:51Z",
        "lastEditedBy" : "c63e1ceb-64bd-4726-b8ef-e647d73dae0c",
        "tags" : [
        ]
      },
      {
        "id" : "37360386-0e1d-4ee1-b901-3c006d5640b0",
        "parentId" : "0893f640-3daa-4cc5-af9d-7e3074d9a68d",
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "I'm okay with skipping `k8s.io/kubernetes/cmd/kubectl` as long as we put a big comment in there that any significant changes need to be duplicated here.  At some point hopefully we can finish the hyperkube transition and hyperkube will be the _only_ way to get at this stuff.  Until the, we need to keep stuff in sync.\n",
        "createdAt" : "2016-05-12T18:25:38Z",
        "updatedAt" : "2016-05-13T22:42:51Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      },
      {
        "id" : "186e2ad7-81a0-4f03-84fe-1fad807e1eb5",
        "parentId" : "0893f640-3daa-4cc5-af9d-7e3074d9a68d",
        "authorId" : "815980f5-2f9b-482a-89ad-0fc8f02a9994",
        "body" : "addressed in followup commit.\n",
        "createdAt" : "2016-05-12T21:59:08Z",
        "updatedAt" : "2016-05-13T22:42:51Z",
        "lastEditedBy" : "815980f5-2f9b-482a-89ad-0fc8f02a9994",
        "tags" : [
        ]
      }
    ],
    "commit" : "fd1771e7ae9f6cf118d173f00c215ba570626c3e",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +25,29 @@\nfunc NewKubectlServer() *Server {\n\tcmd := cmd.NewKubectlCommand(cmdutil.NewFactory(nil), os.Stdin, os.Stdout, os.Stderr)\n\tlocalFlags := cmd.LocalFlags()\n\tlocalFlags.SetInterspersed(false)"
  },
  {
    "id" : "e3e8304e-6559-41da-bcd6-5978bde47552",
    "prId" : 25512,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "14e321b5-ba15-418d-90b2-045a96cda43f",
        "parentId" : null,
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "if we don't muck with args above, this should be args[1:]\n",
        "createdAt" : "2016-05-12T18:24:12Z",
        "updatedAt" : "2016-05-13T22:42:51Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      },
      {
        "id" : "a443e468-a854-4216-bbca-0b144ccb5d20",
        "parentId" : "14e321b5-ba15-418d-90b2-045a96cda43f",
        "authorId" : "815980f5-2f9b-482a-89ad-0fc8f02a9994",
        "body" : "Depending on whether or not it's a softlink (`os.Args[0] == \"hyperkube\"`), it's either `os.Args[1:]` or `os.Args[2:]`. It's kind of nice to let the hyperkube server deal with that logic and sub-servers can just assume that their args list starts with the first relevant flag. This would easily support, for example, nesting servers in servers.\n",
        "createdAt" : "2016-05-12T21:53:22Z",
        "updatedAt" : "2016-05-13T22:42:51Z",
        "lastEditedBy" : "815980f5-2f9b-482a-89ad-0fc8f02a9994",
        "tags" : [
        ]
      }
    ],
    "commit" : "fd1771e7ae9f6cf118d173f00c215ba570626c3e",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +34,38 @@\t\tLong:        \"Kubernetes command line client\",\n\t\tRun: func(s *Server, args []string) error {\n\t\t\tcmd.SetArgs(args)\n\t\t\treturn cmd.Execute()\n\t\t},"
  },
  {
    "id" : "d33760ba-f842-4b8c-b45a-3d7dd2265c03",
    "prId" : 25273,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2e775dbf-6da8-43bc-ac01-4ce38a0e356a",
        "parentId" : null,
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Is this not a problem on all the clients that have to deal with exec?  Why specifically here?\n",
        "createdAt" : "2016-07-06T15:48:34Z",
        "updatedAt" : "2016-07-13T21:06:20Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "f1fd03b5-290f-4309-a53d-85c3245a5aac",
        "parentId" : "2e775dbf-6da8-43bc-ac01-4ce38a0e356a",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Does any other code have to take this into account?\n",
        "createdAt" : "2016-07-06T15:49:19Z",
        "updatedAt" : "2016-07-13T21:06:20Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "a4c6c1f9-0621-42f6-b6c4-5b5ef9e26995",
        "parentId" : "2e775dbf-6da8-43bc-ac01-4ce38a0e356a",
        "authorId" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "body" : "I did it here for hyperkube and also below for kubectl. I did it here because I figured the top-down approach made the most sense, instead of specifically going into the exec/run/attach commands and ignoring what was passed in for stdout and overriding it with the value from term.StdStreams.\n",
        "createdAt" : "2016-07-06T15:51:52Z",
        "updatedAt" : "2016-07-13T21:06:20Z",
        "lastEditedBy" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "tags" : [
        ]
      }
    ],
    "commit" : "3b21a9901bcd48bb452d3bf1a0cddc90dae142c4",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +24,28 @@\nfunc NewKubectlServer() *Server {\n\t// need to use term.StdStreams to get the right IO refs on Windows\n\tstdin, stdout, stderr := term.StdStreams()\n\tcmd := cmd.NewKubectlCommand(cmdutil.NewFactory(nil), stdin, stdout, stderr)"
  }
]