[
  {
    "id" : "c2385717-a526-4371-abbf-e8bed4153c18",
    "prId" : 69013,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/69013#pullrequestreview-160056145",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "06357de1-5cae-4ea8-ab6a-9c3e0a1e3765",
        "parentId" : null,
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "There's a special-case method for this: [`http.NotFound(w ResponseWriter, r *Request)`](https://golang.org/pkg/net/http/?#NotFound)",
        "createdAt" : "2018-09-29T00:14:23Z",
        "updatedAt" : "2018-10-14T02:58:42Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      }
    ],
    "commit" : "2fb3ba71f196031e9b36095d64c921cacc54f44e",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +141,145 @@\t\t\tif req.URL.Path != \"/api/v1/nodes/\"+hostname {\n\t\t\t\tt.Errorf(\"MarkMaster(%s): request for unexpected HTTP resource: %v\", tc.name, req.URL.Path)\n\t\t\t\thttp.Error(w, \"\", http.StatusNotFound)\n\t\t\t\treturn\n\t\t\t}"
  },
  {
    "id" : "1f1596f3-a14a-4362-826f-7af238cf6657",
    "prId" : 69013,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/69013#pullrequestreview-163116577",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d88535d7-76c6-4317-8360-745ad6d918bf",
        "parentId" : null,
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "Error will overwrite the json content type. Is that OK, or will it be a problem for clients expecting to get json back?",
        "createdAt" : "2018-09-29T00:15:26Z",
        "updatedAt" : "2018-10-14T02:58:42Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      },
      {
        "id" : "423ef10d-ba19-4569-a270-e9efd06ab439",
        "parentId" : "d88535d7-76c6-4317-8360-745ad6d918bf",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "if we're sending our json (or proto) error content, the content type should definitely be json, etc",
        "createdAt" : "2018-09-29T01:02:52Z",
        "updatedAt" : "2018-10-14T02:58:42Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "94c64477-e006-4402-b657-b28d207300d0",
        "parentId" : "d88535d7-76c6-4317-8360-745ad6d918bf",
        "authorId" : "4b28dc7d-4168-4f52-9b25-b2705258a6c6",
        "body" : "`http.Error` is only called in an error case. Otherwise, the original `Content-Type` header is kept with the JSON response returned.",
        "createdAt" : "2018-09-29T01:12:12Z",
        "updatedAt" : "2018-10-14T02:58:42Z",
        "lastEditedBy" : "4b28dc7d-4168-4f52-9b25-b2705258a6c6",
        "tags" : [
        ]
      },
      {
        "id" : "65c70313-a389-4cd4-960d-9ce75cdaadbb",
        "parentId" : "d88535d7-76c6-4317-8360-745ad6d918bf",
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "Yeah, looks like the body is empty in this case.",
        "createdAt" : "2018-10-09T22:03:47Z",
        "updatedAt" : "2018-10-14T02:58:42Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      }
    ],
    "commit" : "2fb3ba71f196031e9b36095d64c921cacc54f44e",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +138,142 @@\t\ts := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, req *http.Request) {\n\t\t\tw.Header().Set(\"Content-Type\", \"application/json\")\n\n\t\t\tif req.URL.Path != \"/api/v1/nodes/\"+hostname {\n\t\t\t\tt.Errorf(\"MarkMaster(%s): request for unexpected HTTP resource: %v\", tc.name, req.URL.Path)"
  },
  {
    "id" : "81f92493-ea56-4c56-a96f-f8542a44d377",
    "prId" : 69013,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/69013#pullrequestreview-160498020",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "598f843d-c8f3-4910-97fa-597fbbf9629f",
        "parentId" : null,
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "I feel like this should probably be `StatusMethodNotAllowed`?\r\n\r\n> The HyperText Transfer Protocol (HTTP) 405 Method Not Allowed response status code indicates that the request method is known by the server but is not supported by the target resource.\r\n\r\nIn which case:\r\n\r\n> The server MUST generate an Allow header field in a 405 response containing a list of the target resource's currently supported methods.\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\r\n\r\nMaybe this is out of scope for this PR.",
        "createdAt" : "2018-09-29T00:16:16Z",
        "updatedAt" : "2018-10-14T02:58:42Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      },
      {
        "id" : "5f0f938e-39d1-450d-ac3a-44bb64ff89bd",
        "parentId" : "598f843d-c8f3-4910-97fa-597fbbf9629f",
        "authorId" : "4b28dc7d-4168-4f52-9b25-b2705258a6c6",
        "body" : "I tried to not change anything besides the switching to `http.Error` in this PR. Should I make these changes in another PR?",
        "createdAt" : "2018-09-29T00:52:00Z",
        "updatedAt" : "2018-10-14T02:58:42Z",
        "lastEditedBy" : "4b28dc7d-4168-4f52-9b25-b2705258a6c6",
        "tags" : [
        ]
      },
      {
        "id" : "780d1ec0-20e0-4c53-b746-c2d4386a9f1c",
        "parentId" : "598f843d-c8f3-4910-97fa-597fbbf9629f",
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "> Should I make these changes in another PR?\r\n\r\nThat would be great :+1: ",
        "createdAt" : "2018-10-01T21:44:14Z",
        "updatedAt" : "2018-10-14T02:58:42Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      }
    ],
    "commit" : "2fb3ba71f196031e9b36095d64c921cacc54f44e",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +151,155 @@\t\t\tdefault:\n\t\t\t\tt.Errorf(\"MarkMaster(%s): request for unexpected HTTP verb: %v\", tc.name, req.Method)\n\t\t\t\thttp.Error(w, \"\", http.StatusNotFound)\n\t\t\t\treturn\n\t\t\t}"
  }
]