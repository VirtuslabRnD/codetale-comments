[
  {
    "id" : "593727ae-09a6-41ee-b1e2-e14b6df6553c",
    "prId" : 50766,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/50766#pullrequestreview-57320519",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d1e91b75-e8d1-4bf0-b921-2307c7bd3b0f",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "note; this is all semi-autogenerated code. I just copied the value of the static pod and later what the DaemonSet looked like when initialized in the cluster.",
        "createdAt" : "2017-08-18T21:52:14Z",
        "updatedAt" : "2017-08-18T21:52:14Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "d2e08fd739fae0c4deea0d1a7bd7fb61d51689c4",
    "line" : 108,
    "diffHunk" : "@@ -1,1 +43,47 @@    - kube-apiserver\n    - --service-account-key-file=/etc/kubernetes/pki/sa.pub\n    - --kubelet-client-key=/etc/kubernetes/pki/apiserver-kubelet-client.key\n    - --secure-port=6443\n    - --proxy-client-cert-file=/etc/kubernetes/pki/front-proxy-client.crt"
  },
  {
    "id" : "c241c567-c177-4ede-9c04-dd819ee3bf20",
    "prId" : 47435,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47435#pullrequestreview-48075438",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b0c8b52-b070-4a86-adc3-7e64ee26ffb1",
        "parentId" : null,
        "authorId" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "body" : "can we change this arg to `0.0.0.0`. that will allow us to take off host network. same for scheduler",
        "createdAt" : "2017-07-05T10:39:52Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "tags" : [
        ]
      },
      {
        "id" : "b2b404ec-1bcc-47e9-83e0-6d2f353d77a2",
        "parentId" : "3b0c8b52-b070-4a86-adc3-7e64ee26ffb1",
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "Hmm, I'm not sure why that would allow us to remove `hostNetwork`...\r\nAs I understand this, the current state is \"use the host's network, but don't expose anything widely\"\r\nWe still need hostNetwork for being able to run things without CNI set up.",
        "createdAt" : "2017-07-05T14:46:47Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "9f1c5a6f0f86651b651a07d57dfba6a6779d4eb7",
    "line" : 214,
    "diffHunk" : "@@ -1,1 +212,216 @@    - --controllers=*,bootstrapsigner,tokencleaner\n    - --root-ca-file=/etc/kubernetes/pki/ca.crt\n    - --address=127.0.0.1\n    - --use-service-account-credentials=true\n    image: gcr.io/google_containers/kube-controller-manager-amd64:v1.7.0"
  },
  {
    "id" : "874cd4e6-5bbd-4389-9968-8149f3830681",
    "prId" : 47435,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47435#pullrequestreview-48096101",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "96b9dff1-dec1-4a2c-9030-5ba0e257fe93",
        "parentId" : null,
        "authorId" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "body" : "also, can we make this an empty string? it defaults to pod IP if left blank. I see no reason to hardcode localhost here, especially if we want to move off host network",
        "createdAt" : "2017-07-05T10:40:36Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "tags" : [
        ]
      },
      {
        "id" : "9e7ab9a2-8bc7-47ce-8212-8cf88395dc4b",
        "parentId" : "96b9dff1-dec1-4a2c-9030-5ba0e257fe93",
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "I'd rather not do that in this PR. It's set in `app/phases/controlplane/manifests.go` since a long time back.\r\n\r\nThis is just testing data, but based on actual output from kubeadm.",
        "createdAt" : "2017-07-05T14:51:49Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      },
      {
        "id" : "84fea3f8-cb37-4d7c-b40e-b66eaf0c6b4d",
        "parentId" : "96b9dff1-dec1-4a2c-9030-5ba0e257fe93",
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "Also ref this statement: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/\r\n\r\n> Here’s one scenario where you would set it. Suppose the Container listens on 127.0.0.1 and the Pod’s hostNetwork field is true. Then host, under httpGet, should be set to 127.0.0.1.\r\n\r\nTo me it seems like it's required for hostNetwork=true",
        "createdAt" : "2017-07-05T14:53:49Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      },
      {
        "id" : "0b0bba30-8695-4b10-8aab-c54a531f714b",
        "parentId" : "96b9dff1-dec1-4a2c-9030-5ba0e257fe93",
        "authorId" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "body" : "Yeah, but my point is that the scheduler and controller manager don't need to be on host network. For apiserver (which is on host network), leaving blank will still work because it'll just ping that pod's IP",
        "createdAt" : "2017-07-05T15:06:35Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "tags" : [
        ]
      },
      {
        "id" : "96a4be6a-9d52-4d5c-a709-1962c991dd63",
        "parentId" : "96b9dff1-dec1-4a2c-9030-5ba0e257fe93",
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "They must be on the host network due to that CNI is uninitialized, so we don't have any other option here really",
        "createdAt" : "2017-07-05T15:46:48Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "9f1c5a6f0f86651b651a07d57dfba6a6779d4eb7",
    "line" : 220,
    "diffHunk" : "@@ -1,1 +218,222 @@      failureThreshold: 8\n      httpGet:\n        host: 127.0.0.1\n        path: /healthz\n        port: 10252"
  },
  {
    "id" : "107bc215-5fe5-4be8-afb8-423f8d1991eb",
    "prId" : 47435,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47435#pullrequestreview-48076722",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "110e0fcb-c744-416f-b584-d0dce0ab69d3",
        "parentId" : null,
        "authorId" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "body" : "minor nit: I don't think unit tests should be modify external state - whether it be filesystem or DB. But due to the current state of our e2e tests maybe it's better to put here instead. What do you think?",
        "createdAt" : "2017-07-05T10:43:01Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "tags" : [
        ]
      },
      {
        "id" : "b3bf63d1-9bc3-4c8b-a548-6e817ccdb213",
        "parentId" : "110e0fcb-c744-416f-b584-d0dce0ab69d3",
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "I've seen lots of unit tests that create temp files and then remove them.\r\nA quick search for `ioutil.TempFile(` for files `kubernetes/*_test.go` yielded 170 results.\r\nIt's a pattern I definitely think we can use",
        "createdAt" : "2017-07-05T14:50:48Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "9f1c5a6f0f86651b651a07d57dfba6a6779d4eb7",
    "line" : 532,
    "diffHunk" : "@@ -1,1 +530,534 @@}\n\nfunc createTempFileWithContent(content []byte) (string, error) {\n\ttempFile, err := ioutil.TempFile(\"\", \"\")\n\tif err != nil {"
  }
]