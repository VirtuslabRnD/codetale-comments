[
  {
    "id" : "60bc9f54-1bef-4134-9a97-0c68c926597d",
    "prId" : 67944,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/67944#pullrequestreview-151612276",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ef1f18a2-8ab2-4257-8ee9-f38e22e1e6f4",
        "parentId" : null,
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "Do we have tests to validate the updated RBAC rules?",
        "createdAt" : "2018-09-02T00:17:56Z",
        "updatedAt" : "2018-09-04T07:12:07Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "e6ab52e3-87f3-4d25-90a4-a97839c00387",
        "parentId" : "ef1f18a2-8ab2-4257-8ee9-f38e22e1e6f4",
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "The only test on RBAC I'm aware of are in `test\\e2e_kubeadm` but I'm not sure if those test are used in test grid batches...\r\n",
        "createdAt" : "2018-09-02T07:46:49Z",
        "updatedAt" : "2018-09-04T07:12:07Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      }
    ],
    "commit" : "d9b4b1fc1ad00e61c286187abbf63a5ad78d0a84",
    "line" : 56,
    "diffHunk" : "@@ -1,1 +157,161 @@\n\t// Create a role for granting read only access to the kube-proxy component config ConfigMap\n\tif err := apiclient.CreateOrUpdateRole(client, &rbac.Role{\n\t\tObjectMeta: metav1.ObjectMeta{\n\t\t\tName:      constants.KubeProxyConfigMap,"
  },
  {
    "id" : "85f8bc3d-75cc-431a-a409-1af506d58f5f",
    "prId" : 50626,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/50626#pullrequestreview-56329943",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "46c9eda3-b19a-4bb9-bfdb-fe2151088b44",
        "parentId" : null,
        "authorId" : "6682fc41-9e62-4c69-b891-a0be20e50c30",
        "body" : "This looks easy to inline if it's not used elsewhere.",
        "createdAt" : "2017-08-14T21:02:15Z",
        "updatedAt" : "2017-08-15T12:52:59Z",
        "lastEditedBy" : "6682fc41-9e62-4c69-b891-a0be20e50c30",
        "tags" : [
        ]
      },
      {
        "id" : "74dd01b2-f1b3-4c90-8463-f8cb3a71fd8c",
        "parentId" : "46c9eda3-b19a-4bb9-bfdb-fe2151088b44",
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "We agreed with @andrewrynhard that it might be a nice pattern to keep for consumers at golang code:\r\n - EnsureFooAddon\r\n - CreateRBACRules\r\n - CreateServiceAccount\r\n\r\nwhere the last two are optional for the phase to provide",
        "createdAt" : "2017-08-15T12:45:05Z",
        "updatedAt" : "2017-08-15T12:52:59Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c5c3ca197c54628a2cba151350cc03bc8ab9053",
    "line" : 79,
    "diffHunk" : "@@ -1,1 +94,98 @@\n// CreateRBACRules creates the essential RBAC rules for a minimally set-up cluster\nfunc CreateRBACRules(client clientset.Interface) error {\n\tif err := createClusterRoleBindings(client); err != nil {\n\t\treturn err"
  },
  {
    "id" : "ffd61cb2-a2c3-475a-b8fb-ed75c26b1d84",
    "prId" : 50626,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/50626#pullrequestreview-56253884",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a9c28fa3-7513-450e-be39-b0c5ca6c9bc9",
        "parentId" : null,
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "@ncdc This theme repeats itself, we should try to push into the client, and dedupe.  ",
        "createdAt" : "2017-08-15T03:03:34Z",
        "updatedAt" : "2017-08-15T12:52:59Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      }
    ],
    "commit" : "8c5c3ca197c54628a2cba151350cc03bc8ab9053",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +85,89 @@func CreateServiceAccount(client clientset.Interface) error {\n\n\treturn apiclient.CreateOrUpdateServiceAccount(client, &v1.ServiceAccount{\n\t\tObjectMeta: metav1.ObjectMeta{\n\t\t\tName:      KubeProxyServiceAccountName,"
  },
  {
    "id" : "8455ff99-bb79-4795-b5df-ea5b285386ef",
    "prId" : 50214,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/50214#pullrequestreview-56056420",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a5182141-9e58-4ca5-ba8a-99cb07683b7e",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "Again, the serviceaccount should be created as the first step here",
        "createdAt" : "2017-08-14T11:44:04Z",
        "updatedAt" : "2017-08-14T17:21:40Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "967a5bb4f164c97a226414e963e0f79df99963ac",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +45,49 @@\n// EnsureProxyAddon creates the kube-proxy and kube-dns addons\nfunc EnsureProxyAddon(cfg *kubeadmapi.MasterConfiguration, client clientset.Interface) error {\n\tif err := CreateServiceAccount(client); err != nil {\n\t\treturn fmt.Errorf(\"error when creating kube-proxy service account: %v\", err)"
  },
  {
    "id" : "98ed5a74-8d44-417b-a971-6fc77f13bb2e",
    "prId" : 50214,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/50214#pullrequestreview-56056420",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6023b2e5-31ab-4c04-a3d7-cf882eeeb5e2",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "I really like the idea of having `EnsureFooAddon`, `CreateServiceAccount` and `CreateRBACRules` as the three exported funcs of every addon phase (even if some of them no-op).\r\n",
        "createdAt" : "2017-08-14T11:56:16Z",
        "updatedAt" : "2017-08-14T17:21:40Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "967a5bb4f164c97a226414e963e0f79df99963ac",
    "line" : 108,
    "diffHunk" : "@@ -1,1 +106,110 @@// CreateRBACRules creates the essential RBAC rules for a minimally set-up cluster\nfunc CreateRBACRules(client clientset.Interface, k8sVersion *k8sversion.Version) error {\n\tif err := createClusterRoleBindings(client); err != nil {\n\t\treturn err\n\t}"
  }
]