[
  {
    "id" : "85f9ea55-5e57-4cbb-a85a-e7c82d2b1f6c",
    "prId" : 70809,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70809#pullrequestreview-175139914",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6c4bb44d-16c0-4a71-a0c9-fbb818024915",
        "parentId" : null,
        "authorId" : "a2762dd2-4f61-45ce-b5d5-d94727263ab7",
        "body" : "I don't love that we have to do this, but I don't see any other way to plum this",
        "createdAt" : "2018-11-15T00:10:44Z",
        "updatedAt" : "2018-11-15T18:48:06Z",
        "lastEditedBy" : "a2762dd2-4f61-45ce-b5d5-d94727263ab7",
        "tags" : [
        ]
      }
    ],
    "commit" : "5fc1a9a87ca18d4181a0cf2fa207c9a8369d2756",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +50,54 @@\nvar (\n\tcsrOnly bool\n\tcsrDir  string\n)"
  },
  {
    "id" : "95ab61aa-eec3-47da-9d98-fe2ec62c8328",
    "prId" : 70331,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70331#pullrequestreview-169095950",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5820c465-ce74-49f5-a921-7cc68f6341b6",
        "parentId" : null,
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "The UX generation for subcommands is kind of fragmented: `getCertsSubPhases`, `makePhase`, `makePhaseForCert`, `makePhasesForCA`\r\nIMO, as soon as run functions will be moved into functions as suggested below, the above set of functions can be simplified...",
        "createdAt" : "2018-10-28T13:04:28Z",
        "updatedAt" : "2018-10-29T16:23:49Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      },
      {
        "id" : "0a28555e-6f88-4e0a-87c5-b7e8e2eed3b2",
        "parentId" : "5820c465-ce74-49f5-a921-7cc68f6341b6",
        "authorId" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "body" : "Updated",
        "createdAt" : "2018-10-28T15:00:45Z",
        "updatedAt" : "2018-10-29T16:23:49Z",
        "lastEditedBy" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "tags" : [
        ]
      }
    ],
    "commit" : "24b4e378c80fb30c4e66f4a740e1d2d78841334a",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +81,85 @@\t\tName:   \"certs\",\n\t\tShort:  \"Certificate generation\",\n\t\tPhases: getCertsSubPhases(),\n\t}\n}"
  },
  {
    "id" : "5d8be1fb-0657-4d65-bb85-aef3d51faed8",
    "prId" : 70331,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70331#pullrequestreview-169211693",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "786a7f37-fc96-48c4-9cbb-d3d4b5d2d4a1",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "we don't need both a \"cert\" phase and a command. the phase will create/handle the command creation.\r\n[2]\r\n",
        "createdAt" : "2018-10-28T17:49:13Z",
        "updatedAt" : "2018-10-29T16:23:49Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "028dfb31-0c99-4397-a5c8-bf4332846b2c",
        "parentId" : "786a7f37-fc96-48c4-9cbb-d3d4b5d2d4a1",
        "authorId" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "body" : "I kept this for the renewal, it's the only thing it contains, and it shouldn't go in the init workflow.",
        "createdAt" : "2018-10-28T18:07:03Z",
        "updatedAt" : "2018-10-29T16:23:49Z",
        "lastEditedBy" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "tags" : [
        ]
      },
      {
        "id" : "50440dc9-27e6-4153-a5d8-cd81ce82ab18",
        "parentId" : "786a7f37-fc96-48c4-9cbb-d3d4b5d2d4a1",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "i think the renew part needs to be synced with @fabriziopandini 's PR here:\r\nhttps://github.com/kubernetes/kubernetes/pull/70333\r\n\r\nmaybe this PR should not touch it, but rather the other PR should perform the move.\r\n",
        "createdAt" : "2018-10-28T18:19:38Z",
        "updatedAt" : "2018-10-29T16:23:49Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "1da5483b-295c-4831-b721-4567875081f6",
        "parentId" : "786a7f37-fc96-48c4-9cbb-d3d4b5d2d4a1",
        "authorId" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "body" : "Will have a look on how to avoid this change at all so I don't introduce conflicts in https://github.com/kubernetes/kubernetes/pull/70333. @fabriziopandini how do you feel about this change? Should I avoid it completely?",
        "createdAt" : "2018-10-28T20:10:04Z",
        "updatedAt" : "2018-10-29T16:23:49Z",
        "lastEditedBy" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "tags" : [
        ]
      },
      {
        "id" : "cfcab9c2-740b-4cea-86ed-19634d1743c5",
        "parentId" : "786a7f37-fc96-48c4-9cbb-d3d4b5d2d4a1",
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "@ereslibre I'm fine with the current proposed implementation. \r\nI will rebase #70333 after this one merge.",
        "createdAt" : "2018-10-29T08:49:01Z",
        "updatedAt" : "2018-10-29T16:23:49Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      },
      {
        "id" : "4c4af0fa-1d6e-44a7-8368-47cf77aa6179",
        "parentId" : "786a7f37-fc96-48c4-9cbb-d3d4b5d2d4a1",
        "authorId" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "body" : "I removed all changes related to this on this PR",
        "createdAt" : "2018-10-29T09:36:57Z",
        "updatedAt" : "2018-10-29T16:23:49Z",
        "lastEditedBy" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "tags" : [
        ]
      }
    ],
    "commit" : "24b4e378c80fb30c4e66f4a740e1d2d78841334a",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +86,90 @@\n// NewCmdCerts returns main command for certs phase\nfunc NewCmdCerts() *cobra.Command {\n\tcmd := &cobra.Command{\n\t\tUse:     \"certs\","
  },
  {
    "id" : "1b4b88a2-edaf-4020-a2cb-13745b2ec4a4",
    "prId" : 70098,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70098#pullrequestreview-169810984",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d28a4c70-5e3d-4839-8fb7-61880c048a1f",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "btw, unless i'm mistaken allCertsLongDesc and allCertsExample are unused in this file.\r\n",
        "createdAt" : "2018-10-30T13:49:03Z",
        "updatedAt" : "2018-10-30T15:36:41Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "0c4d90c6-d57e-49f5-8017-57b36508686f",
        "parentId" : "d28a4c70-5e3d-4839-8fb7-61880c048a1f",
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "done",
        "createdAt" : "2018-10-30T14:42:55Z",
        "updatedAt" : "2018-10-30T15:36:41Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      }
    ],
    "commit" : "4f26d1de5f45a16eb113e9e5e1a9766dad70f6a7",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +52,56 @@// have. Please note that we are using an interface in order to make this phase reusable in different workflows\n// (and thus with different runtime data struct, all of them requested to be compliant to this interface)\ntype certsData interface {\n\tCfg() *kubeadmapi.InitConfiguration\n\tExternalCA() bool"
  },
  {
    "id" : "a2a50b51-4536-4f62-b87a-1b89105e2379",
    "prId" : 70098,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70098#pullrequestreview-169812135",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "30d556dc-e7ab-4f59-a877-e98b6b7054f1",
        "parentId" : null,
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "It's really not clear why this is deferred here, and in the other sections, but it looks to be pulled.  \r\n\r\nAt some point post GA we should do a code audit.  ",
        "createdAt" : "2018-10-30T13:56:16Z",
        "updatedAt" : "2018-10-30T15:36:41Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "47db41b9-0c99-423c-9b32-33c3fa74ad33",
        "parentId" : "30d556dc-e7ab-4f59-a877-e98b6b7054f1",
        "authorId" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "body" : "The idea behind this was to unset the `CertificatesDir` change, even if the phase logic grows more complex and we have several exit points in the future. Maybe it's less clear at the moment that we only have one exit point...",
        "createdAt" : "2018-10-30T14:37:45Z",
        "updatedAt" : "2018-10-30T15:36:41Z",
        "lastEditedBy" : "67bc6085-2cd9-4674-9dbc-d2a266f478be",
        "tags" : [
        ]
      },
      {
        "id" : "72477461-8d06-4ca5-b799-6ceb3b1f5517",
        "parentId" : "30d556dc-e7ab-4f59-a877-e98b6b7054f1",
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "@timothysc yes, the logic around paths and temporary paths could be improved.\r\nThere is already an open issue, but definitely +100 on code audit sessions",
        "createdAt" : "2018-10-30T14:44:50Z",
        "updatedAt" : "2018-10-30T15:36:41Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      }
    ],
    "commit" : "4f26d1de5f45a16eb113e9e5e1a9766dad70f6a7",
    "line" : 109,
    "diffHunk" : "@@ -1,1 +180,184 @@\tcfg := data.Cfg()\n\tcfg.CertificatesDir = data.CertificateWriteDir()\n\tdefer func() { cfg.CertificatesDir = data.CertificateDir() }()\n\n\t// create the new service account key (or use existing)"
  },
  {
    "id" : "401343aa-bb27-407e-addc-07bb780746da",
    "prId" : 67832,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/67832#pullrequestreview-149518775",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cad02a9e-f93f-406b-8475-db467eccd88e",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "@kad ^ FYI",
        "createdAt" : "2018-08-24T21:35:16Z",
        "updatedAt" : "2018-08-27T07:01:06Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "d8373c4a-a3fc-4b09-9a74-3f17b4b4caae",
        "parentId" : "cad02a9e-f93f-406b-8475-db467eccd88e",
        "authorId" : "659c7c1f-39ba-41a7-8331-fcc6b3b5f2fb",
        "body" : "Maybe in such scenarios where we don't have good IP address, it is better to skip it in cert generation phase, but having default to localhost doesn't really make sense, as it leads to non-functional control plane.",
        "createdAt" : "2018-08-25T07:22:50Z",
        "updatedAt" : "2018-08-27T07:01:06Z",
        "lastEditedBy" : "659c7c1f-39ba-41a7-8331-fcc6b3b5f2fb",
        "tags" : [
        ]
      },
      {
        "id" : "301d8f4c-4717-4c64-8324-5b1cfa392f67",
        "parentId" : "cad02a9e-f93f-406b-8475-db467eccd88e",
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "@kad @neolit123 this PR doesn't implemented/changed this bit, only refactored the API struct.\r\nIf something should be fixed, this should be address in a separated PR (this one is already XXL 😉)",
        "createdAt" : "2018-08-25T08:48:45Z",
        "updatedAt" : "2018-08-27T07:01:06Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      },
      {
        "id" : "d6c9b5f2-c3cf-40ba-b36e-6e601c4580ea",
        "parentId" : "cad02a9e-f93f-406b-8475-db467eccd88e",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "yeah, i'm just pointing it out because we had a discussion about 127.0.0.1 earlier.\r\n",
        "createdAt" : "2018-08-25T19:19:06Z",
        "updatedAt" : "2018-08-27T07:01:06Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      }
    ],
    "commit" : "0add7f9c620889ffbf54bde0294016e58e940994",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +155,159 @@\t\tAPIEndpoint: kubeadmapiv1alpha3.APIEndpoint{\n\t\t\t// GetAPIServerAltNames errors without an AdvertiseAddress; this is as good as any.\n\t\t\tAdvertiseAddress: \"127.0.0.1\",\n\t\t},\n\t}"
  },
  {
    "id" : "263e2343-31b7-4b4c-84ce-b6aaf3d771a5",
    "prId" : 57415,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/57415#pullrequestreview-96598153",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1cd9e414-556f-4989-9007-7f0ec8322340",
        "parentId" : null,
        "authorId" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "body" : "etcd-client-cert?",
        "createdAt" : "2018-01-12T17:36:29Z",
        "updatedAt" : "2018-02-24T00:05:51Z",
        "lastEditedBy" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "tags" : [
        ]
      },
      {
        "id" : "9454ef7a-76c7-4fbc-a47d-d8a22ad477bb",
        "parentId" : "1cd9e414-556f-4989-9007-7f0ec8322340",
        "authorId" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "body" : "I made this match `phase certs apiserver-kubelet-client`.\r\nThis naming emphasizes it's an apiserver cert.\r\n\r\nDo we want to flip this around?\r\nWe can but it won't match the other example of this relationship.\r\nPhases are alpha, so we can also change the `apiserver-kubelet-client` cert command.",
        "createdAt" : "2018-02-14T18:00:12Z",
        "updatedAt" : "2018-02-24T00:05:51Z",
        "lastEditedBy" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "tags" : [
        ]
      }
    ],
    "commit" : "509e9af5223de6849b7d99dbb53796f794876752",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +196,200 @@\t\t},\n\t\t{\n\t\t\tuse:     \"apiserver-etcd-client\",\n\t\t\tshort:   \"Generates client certificate for the API server to connect to etcd securely\",\n\t\t\tlong:    apiServerEtcdServerCertLongDesc,"
  },
  {
    "id" : "72f29fbe-795d-4dec-a86a-45db4b223427",
    "prId" : 57415,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/57415#pullrequestreview-98309053",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9527d8f4-2692-4198-92bb-6b08327f6fc8",
        "parentId" : null,
        "authorId" : "2eb6ad87-e305-458f-a360-22c64806994c",
        "body" : "Maybe capitalize `Subject Alternative Names` so that it's more clear that `SAN` (used later) is abbreviating that (applies below too).",
        "createdAt" : "2018-02-21T18:30:55Z",
        "updatedAt" : "2018-02-24T00:05:51Z",
        "lastEditedBy" : "2eb6ad87-e305-458f-a360-22c64806994c",
        "tags" : [
        ]
      }
    ],
    "commit" : "509e9af5223de6849b7d99dbb53796f794876752",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +61,65 @@\t\tGenerates the API server serving certificate and key and saves them into %s and %s files.\n\t\t\n\t\tThe certificate includes default subject alternative names and additional SANs provided by the user;\n\t\tdefault SANs are: <node-name>, <apiserver-advertise-address>, kubernetes, kubernetes.default, kubernetes.default.svc,\n\t\tkubernetes.default.svc.<service-dns-domain>, <internalAPIServerVirtualIP> (that is the .10 address in <service-cidr> address space)."
  },
  {
    "id" : "2b5f0498-e823-4ef2-97d2-1e674e1e9a87",
    "prId" : 48196,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/48196#pullrequestreview-46865431",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27a7458a-4848-4251-b3c5-9c2e8f454f22",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "Not sure if it should be done in this PR or a follow-up, but it would make sense to have these flags in one place, `../app/cmd/options` or so, where the flags could be registered to the FlagSet in one go (like `AddAPIServerFlags(fs)`, so that the same code could be re-used between init/certs/whatever",
        "createdAt" : "2017-06-28T14:56:49Z",
        "updatedAt" : "2017-07-08T12:58:59Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "c2e9052aead4b56a675fa145d00da0a8a00f314d",
    "line" : 116,
    "diffHunk" : "@@ -1,1 +111,115 @@\t\tcmd.Flags().StringVar(&cfg.CertificatesDir, \"cert-dir\", cfg.CertificatesDir, \"The path where to save and store the certificates\")\n\t\tif properties.use == \"all\" || properties.use == \"apiserver\" {\n\t\t\tcmd.Flags().StringVar(&cfg.Networking.DNSDomain, \"service-dns-domain\", cfg.Networking.DNSDomain, \"Use alternative domain for services, e.g. \\\"myorg.internal\\\"\")\n\t\t\tcmd.Flags().StringVar(&cfg.Networking.ServiceSubnet, \"service-cidr\", cfg.Networking.ServiceSubnet, \"Use alternative range of IP address for service VIPs\")\n\t\t\tcmd.Flags().StringSliceVar(&cfg.APIServerCertSANs, \"apiserver-cert-extra-sans\", []string{}, \"Optional extra altnames to use for the API Server serving cert. Can be both IP addresses and dns names.\")"
  }
]