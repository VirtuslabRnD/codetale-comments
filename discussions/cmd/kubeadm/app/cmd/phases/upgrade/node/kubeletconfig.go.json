[
  {
    "id" : "2676f1ce-d318-40e9-8657-31d38beeb57f",
    "prId" : 86070,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/86070#pullrequestreview-357426072",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d636c0d3-86d0-446a-abdd-3bc407168bca",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "we can keep one level of backup manged in `WriteConfigToDisk()`, i guess.",
        "createdAt" : "2020-02-11T15:19:35Z",
        "updatedAt" : "2020-06-01T14:58:16Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "7cae2d80-46ad-429b-954e-a11405acea3a",
        "parentId" : "d636c0d3-86d0-446a-abdd-3bc407168bca",
        "authorId" : "cccc7bed-95f4-42a9-83ef-6ba1a4dca7ec",
        "body" : "I suppose so. That's another story. I just moved this TODO into a more visible spot.",
        "createdAt" : "2020-02-12T12:52:18Z",
        "updatedAt" : "2020-06-01T14:58:16Z",
        "lastEditedBy" : "cccc7bed-95f4-42a9-83ef-6ba1a4dca7ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "5d6cf8ecd486464ba5c18d7ff389ebd8597c36c2",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +74,78 @@\t\t}\n\n\t\t// TODO: Checkpoint the current configuration first so that if something goes wrong it can be recovered\n\n\t\t// Store the kubelet component configuration."
  },
  {
    "id" : "152d5817-f438-40a6-a34e-deddaff95166",
    "prId" : 86070,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/86070#pullrequestreview-357430596",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2268d4f7-f06e-4272-8783-4823a7eec470",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "we are removing the command here:\r\nhttps://github.com/kubernetes/kubernetes/pull/87975\r\nthe PR is lgtm/approved.\r\n\r\nafter it merges, can we download based on the ClusterConfiguration version only?\r\n\r\nalso, we should stop versioning the kubelet ConfigMap name, at some point:\r\nxref https://github.com/kubernetes/kubeadm/issues/1582\r\n",
        "createdAt" : "2020-02-11T15:23:25Z",
        "updatedAt" : "2020-06-01T14:58:16Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "2312b7de-8e46-4537-97fd-e40e60f85e61",
        "parentId" : "2268d4f7-f06e-4272-8783-4823a7eec470",
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "I'm +1 to preserve the logic as it is, I think it is more resilient",
        "createdAt" : "2020-02-12T09:23:36Z",
        "updatedAt" : "2020-06-01T14:58:16Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      },
      {
        "id" : "0b84f7cb-bd0d-4b14-b473-be201edcb35e",
        "parentId" : "2268d4f7-f06e-4272-8783-4823a7eec470",
        "authorId" : "cccc7bed-95f4-42a9-83ef-6ba1a4dca7ec",
        "body" : "Unfortunately, we can't remove it now. We have to keep it because `--kubelet-version` continues to be exposed through `kubeadm upgrade node` and it continues to work much in the same way as it did when `kubeadm upgrade node config` was around.\r\nWe didn't explicitly deprecate `--kubelet-version` until #87942 which was last week.\r\nThis is basically the last remaining vestige of the `kubelet.DownloadConfig` function in kubeadm, but we have to keep it for another year. That's the GA rules.",
        "createdAt" : "2020-02-12T12:59:45Z",
        "updatedAt" : "2020-06-01T14:58:16Z",
        "lastEditedBy" : "cccc7bed-95f4-42a9-83ef-6ba1a4dca7ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "5d6cf8ecd486464ba5c18d7ff389ebd8597c36c2",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +79,83 @@\t\t// By default the kubelet version is expected to be equal to cfg.ClusterConfiguration.KubernetesVersion, but\n\t\t// users can specify a different kubelet version (this is a legacy of the original implementation\n\t\t// of `kubeadm upgrade node config` which we are preserving in order to not break the GA contract)\n\t\tif data.KubeletVersion() != \"\" && data.KubeletVersion() != cfg.ClusterConfiguration.KubernetesVersion {\n\t\t\tfmt.Printf(\"[upgrade] Using kubelet config version %s, while kubernetes-version is %s\\n\", data.KubeletVersion(), cfg.ClusterConfiguration.KubernetesVersion)"
  },
  {
    "id" : "5a9a4480-952c-40ae-8671-aba7dc51c61f",
    "prId" : 86070,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/86070#pullrequestreview-414391924",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1c0fd4fb-a403-456b-8c36-dbf10552fd4d",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "are gofmt/lint happy about this comment indent?",
        "createdAt" : "2020-05-19T12:12:08Z",
        "updatedAt" : "2020-06-01T14:58:16Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "11c3c380-8d14-482c-b654-0a770fe240ca",
        "parentId" : "1c0fd4fb-a403-456b-8c36-dbf10552fd4d",
        "authorId" : "cccc7bed-95f4-42a9-83ef-6ba1a4dca7ec",
        "body" : "This was updated with `update-gofmt`. But I am in doubt that this is running as part of the pipeline, because if you run `update-gofmt` ATM, it will change a bunch of stuff outside of kubeadm's code. That means that `verify-gofmt` is probably being skipped in k/k for some reason.",
        "createdAt" : "2020-05-19T12:20:50Z",
        "updatedAt" : "2020-06-01T14:58:16Z",
        "lastEditedBy" : "cccc7bed-95f4-42a9-83ef-6ba1a4dca7ec",
        "tags" : [
        ]
      },
      {
        "id" : "6512f6ad-2ed4-48e6-a43d-9a85e5069477",
        "parentId" : "1c0fd4fb-a403-456b-8c36-dbf10552fd4d",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "i've seen this happen if my local go version does not match the k/k go version exactly.\r\nhttps://github.com/kubernetes/kubernetes/blob/master/build/dependencies.yaml#L72\r\nk/k is at 1.13.9.\r\n\r\nbut i would not be surprised if verify-gofmt is currently broken in CI too.\r\n",
        "createdAt" : "2020-05-19T12:26:41Z",
        "updatedAt" : "2020-06-01T14:58:16Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      }
    ],
    "commit" : "5d6cf8ecd486464ba5c18d7ff389ebd8597c36c2",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +86,90 @@\t\t\t}\n\n\t\t\t// WriteConfigToDisk is what we should be calling since we already have the correct component config loaded\n\t\t} else if err = kubeletphase.WriteConfigToDisk(&cfg.ClusterConfiguration, kubeletDir); err != nil {\n\t\t\treturn err"
  },
  {
    "id" : "611b122a-df16-40a5-a9fe-b571b762cef8",
    "prId" : 78408,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/78408#pullrequestreview-243017028",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4987546d-031e-45a1-a646-40f6991ec9ed",
        "parentId" : null,
        "authorId" : "0de88c3b-1f1a-401f-9fd1-cd63adc590fd",
        "body" : "Should it be `[kubelet-config]  ...`?",
        "createdAt" : "2019-05-29T03:01:00Z",
        "updatedAt" : "2019-05-29T20:07:03Z",
        "lastEditedBy" : "0de88c3b-1f1a-401f-9fd1-cd63adc590fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "67d76c46c72b6baf44a49112016aae3a5f076ce9",
    "line" : 86,
    "diffHunk" : "@@ -1,1 +84,88 @@\t\tif data.KubeletVersion() != \"\" && data.KubeletVersion() != kubeletVersionStr {\n\t\t\tkubeletVersionStr = data.KubeletVersion()\n\t\t\tfmt.Printf(\"[upgrade] Using kubelet config version %s, while kubernetes-version is %s\\n\", kubeletVersionStr, cfg.ClusterConfiguration.KubernetesVersion)\n\t\t}\n"
  },
  {
    "id" : "af7a6c5e-21a3-4c75-bcfe-75039f8b87c7",
    "prId" : 78408,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/78408#pullrequestreview-243017028",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c23b2ee2-630b-4408-85ca-d590f98f7324",
        "parentId" : null,
        "authorId" : "0de88c3b-1f1a-401f-9fd1-cd63adc590fd",
        "body" : "Due  we are calling it  from `if dryRun {}` we can remove this if and rename to `printFiles`",
        "createdAt" : "2019-05-29T03:03:08Z",
        "updatedAt" : "2019-05-29T20:07:03Z",
        "lastEditedBy" : "0de88c3b-1f1a-401f-9fd1-cd63adc590fd",
        "tags" : [
        ]
      }
    ],
    "commit" : "67d76c46c72b6baf44a49112016aae3a5f076ce9",
    "line" : 116,
    "diffHunk" : "@@ -1,1 +114,118 @@// printFilesIfDryRunning prints the Static Pod manifests to stdout and informs about the temporary directory to go and lookup\nfunc printFilesIfDryRunning(dryRun bool, kubeletDir string) error {\n\tif !dryRun {\n\t\treturn nil\n\t}"
  }
]