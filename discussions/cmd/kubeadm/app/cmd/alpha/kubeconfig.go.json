[
  {
    "id" : "f8656d56-d378-4eee-9bae-8a3681e528c7",
    "prId" : 100907,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/100907#pullrequestreview-631249119",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9328e18e-c5c0-45f8-a773-30fb33f480da",
        "parentId" : null,
        "authorId" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "body" : "Default is 1 year.\r\nNeed we add the default value in the flag description?",
        "createdAt" : "2021-04-08T07:37:22Z",
        "updatedAt" : "2021-04-09T06:40:31Z",
        "lastEditedBy" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "tags" : [
        ]
      },
      {
        "id" : "8de60750-dda7-4344-9022-83c98d72a395",
        "parentId" : "9328e18e-c5c0-45f8-a773-30fb33f480da",
        "authorId" : "e7b8fd7e-f93b-44b6-b6d0-4331207d901c",
        "body" : "It seems that `cobra` will automatically display the default value.\r\n```sh\r\n# kubeadm kubeconfig user -h\r\nFlags:\r\n          --validity-period duration   The validity period of the client certificate. It is an offset from the current time. (default 8760h0m0s)\r\n```",
        "createdAt" : "2021-04-08T10:50:35Z",
        "updatedAt" : "2021-04-09T06:40:31Z",
        "lastEditedBy" : "e7b8fd7e-f93b-44b6-b6d0-4331207d901c",
        "tags" : [
        ]
      }
    ],
    "commit" : "dc154e412e2c978ff0ff3cc0664546ee9b433ca5",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +108,112 @@\tcmd.Flags().StringVar(&clientName, \"client-name\", clientName, \"The name of user. It will be used as the CN if client certificates are created\")\n\tcmd.Flags().StringSliceVar(&organizations, \"org\", organizations, \"The orgnizations of the client certificate. It will be used as the O if client certificates are created\")\n\tcmd.Flags().DurationVar(&validityPeriod, \"validity-period\", kubeadmconstants.CertificateValidity, \"The validity period of the client certificate. It is an offset from the current time.\")\n\n\tcmd.MarkFlagRequired(options.CfgPath)"
  },
  {
    "id" : "9a37ce87-1c10-48ed-b264-a9ff40dd8f29",
    "prId" : 94879,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94879#pullrequestreview-492207763",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3317bc9e-e769-49b0-8cfc-6b8548b7ce53",
        "parentId" : null,
        "authorId" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "body" : "@neolit123 Currently this command only accept local kubeadm config, should we also consider the config saved in cluster?",
        "createdAt" : "2020-09-18T08:07:45Z",
        "updatedAt" : "2020-09-22T15:11:09Z",
        "lastEditedBy" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "tags" : [
        ]
      },
      {
        "id" : "032079d9-69d0-471a-9b07-454669b4e9e0",
        "parentId" : "3317bc9e-e769-49b0-8cfc-6b8548b7ce53",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "thanks for the PR, i can have a deeper look next week.\r\n\r\nthat is a good question. we had previous discussions whether certain kubeadm commands should use the kubeadm-config CM. my take is that if a command has potential to *not operate* on the running cluster it should not fetch the CM.\r\n\r\nfor example, if the command is currently being run on a Node part of a cluster and if a kubeconfig to access the cluster is in the user home dir, the user might still want to create a kubeadm for a completely different cluster, but the command will use the configuration from the cluster, which might not be desired.\r\n\r\ni had the same argument for the command \"kubeadm config images...\". \"kubeadm alpha certs renew\" on the other hand has CM fetch, but the idea of the command is to renew certs for this Node / cluster.\r\n\r\nso my preference here would be the following:\r\n- the user should feed --config and the command should fail without it.\r\n- if the user wants to feed the --config for the current cluster they can fetch the ClusterConfiguration from the CM.\r\n",
        "createdAt" : "2020-09-19T00:02:45Z",
        "updatedAt" : "2020-09-22T15:11:09Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "47a14731-1d24-4f38-a477-071099f70c3e",
        "parentId" : "3317bc9e-e769-49b0-8cfc-6b8548b7ce53",
        "authorId" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "body" : "I got it, thanks for your detailed clarification!",
        "createdAt" : "2020-09-20T16:59:37Z",
        "updatedAt" : "2020-09-22T15:11:09Z",
        "lastEditedBy" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "tags" : [
        ]
      }
    ],
    "commit" : "36eb74a803cafd6837cd114d695d9360d9d1b07f",
    "line" : 74,
    "diffHunk" : "@@ -1,1 +91,95 @@\t}\n\n\toptions.AddConfigFlag(cmd.Flags(), &cfgPath)\n\n\t// Add command specific flags"
  },
  {
    "id" : "d189dda5-b46d-46f0-80de-aadd65950695",
    "prId" : 94879,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94879#pullrequestreview-492867786",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "34aec98b-215a-455e-afc5-ba91126ae972",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "we should update the above example too:\r\n```\r\nuserKubeconfigExample = cmdutil.Examples(`\r\n\t# Output a kubeconfig file for an additional user named foo using a kubeadm config file bar\r\n\tkubeadm alpha kubeconfig user --client-name=foo --config=bar\r\n\t`)\r\n```\r\n",
        "createdAt" : "2020-09-21T18:17:55Z",
        "updatedAt" : "2020-09-22T15:11:09Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      }
    ],
    "commit" : "36eb74a803cafd6837cd114d695d9360d9d1b07f",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +59,63 @@func newCmdUserKubeConfig(out io.Writer) *cobra.Command {\n\n\tinitCfg := &kubeadmapiv1beta2.InitConfiguration{}\n\tclusterCfg := &kubeadmapiv1beta2.ClusterConfiguration{}\n"
  },
  {
    "id" : "1ca92967-3eca-411a-9dac-0ef4568b77d0",
    "prId" : 77739,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77739#pullrequestreview-237093614",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5c479e22-3e6c-4532-85ff-ef319667f99f",
        "parentId" : null,
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "nit\r\nIt would be great if we can split flags in groups (init configuration flags, cluster flags, command configuration specific flags)",
        "createdAt" : "2019-05-12T21:09:43Z",
        "updatedAt" : "2019-05-29T09:13:55Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      },
      {
        "id" : "505b838c-f8d8-48e3-b0b4-accbe5fe3338",
        "parentId" : "5c479e22-3e6c-4532-85ff-ef319667f99f",
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "I'd hope we get that for free in the ComponentConfig Machinery in the long haul. \r\n/cc @luxas ",
        "createdAt" : "2019-05-13T21:28:58Z",
        "updatedAt" : "2019-05-29T09:13:55Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "f91f73c5-7fa8-42f8-b1ee-cc52bbe8eafd",
        "parentId" : "5c479e22-3e6c-4532-85ff-ef319667f99f",
        "authorId" : "cccc7bed-95f4-42a9-83ef-6ba1a4dca7ec",
        "body" : "@fabriziopandini fixed\r\n@timothysc that's one of the main goals of the component standard work ATM. There is even a proof of concept design on how to do that in #73494",
        "createdAt" : "2019-05-14T08:24:59Z",
        "updatedAt" : "2019-05-29T09:13:55Z",
        "lastEditedBy" : "cccc7bed-95f4-42a9-83ef-6ba1a4dca7ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "5671ea9cf14e33a326df52373595027844b00f35",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +99,103 @@\n\t// Add ClusterConfiguration backed flags to the command\n\tcmd.Flags().StringVar(&clusterCfg.CertificatesDir, options.CertificatesDir, clusterCfg.CertificatesDir, \"The path where certificates are stored\")\n\n\t// Add ClusterConfiguration backed flags to the command"
  },
  {
    "id" : "a64023a6-b900-4b29-8979-c855dc819fda",
    "prId" : 70333,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/70333#pullrequestreview-170475441",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "305a2df4-81e9-4992-b45d-682e9667fad7",
        "parentId" : null,
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "I still don't like versioned-aliased references to versioned objects.  \r\n\r\nkubeadmapi.foo should be sufficient and minimize future impact to the surrounding code when we bump versions again. ",
        "createdAt" : "2018-10-31T15:41:44Z",
        "updatedAt" : "2018-10-31T21:19:44Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "dec964a3-28f8-40ee-9de0-fbf85158760c",
        "parentId" : "305a2df4-81e9-4992-b45d-682e9667fad7",
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "this is a v1beta1 object, and flags rely on it and the defaulting machinery that is implemented for the versioned object.\r\nThen it is converted (with the flag values assigned) to an internal object by ConfigFileAndDefaultsToInternalConfig",
        "createdAt" : "2018-10-31T21:14:19Z",
        "updatedAt" : "2018-10-31T21:19:44Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      }
    ],
    "commit" : "b56e122e666b1c440c6719480cae44b4fe5cf54e",
    "line" : 63,
    "diffHunk" : "@@ -1,1 +61,65 @@func newCmdUserKubeConfig(out io.Writer) *cobra.Command {\n\n\tcfg := &kubeadmapiv1beta1.InitConfiguration{}\n\n\t// Default values for the cobra help text"
  }
]