[
  {
    "id" : "227ddc8f-dd9c-4cba-be37-ba3a2d1ccfa7",
    "prId" : 102964,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102964#pullrequestreview-686879208",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "79b545dc-f95f-4ab9-812c-09a0afa9b136",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "these and the tests in utils_test.go are copied from the versioned / internal bootstrap* files.",
        "createdAt" : "2021-06-17T22:03:43Z",
        "updatedAt" : "2021-06-17T22:03:44Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      }
    ],
    "commit" : "622f69bf8d4637099ab35a0e766aeaac58bfe51d",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@/*\nCopyright 2021 The Kubernetes Authors.\n"
  },
  {
    "id" : "e64b5919-db24-470b-9666-ab676f844c4b",
    "prId" : 102964,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102964#pullrequestreview-686883683",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0aba245b-2425-4e78-8f11-6415439ed7f5",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "this is a refactor for consistency.\r\n",
        "createdAt" : "2021-06-17T22:11:57Z",
        "updatedAt" : "2021-06-17T22:11:58Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      }
    ],
    "commit" : "622f69bf8d4637099ab35a0e766aeaac58bfe51d",
    "line" : 79,
    "diffHunk" : "@@ -1,1 +86,90 @@// BootstrapTokenToSecret converts the given BootstrapToken object to its Secret representation that\n// may be submitted to the API Server in order to be stored.\nfunc BootstrapTokenToSecret(bt *BootstrapToken) *v1.Secret {\n\treturn &v1.Secret{\n\t\tObjectMeta: metav1.ObjectMeta{"
  },
  {
    "id" : "fc615dcc-192a-4222-be26-81c08422c1b1",
    "prId" : 102964,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102964#pullrequestreview-697615856",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0434209d-47bb-4778-b358-31923aaff40f",
        "parentId" : null,
        "authorId" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "body" : "Overall LGTM\r\n/lgtm\r\n\r\nWhen I go thought the code, I find `IsValidBootstrapToken` , `BootstrapTokenRegexp` are only used in `/cmd/`\r\n\r\nNot sure if we need to move Regexp and isVaild func in `kubernetes/staging/src/k8s.io/cluster-bootstrap/token/util/helpers.go` to this utils.\r\n\r\nAnd there is an old comment:\r\nhttps://github.com/kubernetes/kubernetes/blob/ea0764452222146c47ec826977f49d7001b0ea8c/staging/src/k8s.io/cluster-bootstrap/token/util/helpers.go#L30\r\n",
        "createdAt" : "2021-07-01T04:00:28Z",
        "updatedAt" : "2021-07-01T04:01:34Z",
        "lastEditedBy" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "tags" : [
        ]
      },
      {
        "id" : "70a655be-aa7a-42a5-8c69-8eb28da3e8c2",
        "parentId" : "0434209d-47bb-4778-b358-31923aaff40f",
        "authorId" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "body" : "@dixudx any ideas?",
        "createdAt" : "2021-07-01T04:01:55Z",
        "updatedAt" : "2021-07-01T04:01:55Z",
        "lastEditedBy" : "5e225159-999d-430a-8b58-d5220dc1429d",
        "tags" : [
        ]
      },
      {
        "id" : "1026e5ae-91da-4cf7-bc2d-81d5d6685618",
        "parentId" : "0434209d-47bb-4778-b358-31923aaff40f",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "originally we wanted the kubeadm bootstraptoken utils to live in k8s.io/cluster-bootstrap, but the idea was rejected with the argument that these introduce wrapper APIs that are kubeadm specific. only the bootstrap token Secret format matters as a specification and not the kubeadm originated BootstrapTokenString.\r\n\r\nso what we ended up having is:\r\n- generic utils that can be used outside of kubeadm and residing in a library under k8s.io/cluster-bootstrap\r\n- kubeadm specific code in /cmd/kubeadm/...api including the one responsible converting token data <-> secret\r\n\r\noverall what is in k8s.io/cluster-bootstrap is a library API at this point and moving it can be a breaking change to users, so we rather not do it.\r\n\r\nthings like BootstrapTokenRegexp and IsValidBootstrapToken makes sense to be in k8s.io/cluster-bootstrap. if someone wishes to use bootstrap tokens with their own bootstrap mechanism and without kubeadm.\r\nthe kubeadm \"token data <-> secret\" and other utils are quite useful but were not accepted in k8s.io/cluster-bootstrap.\r\n\r\n",
        "createdAt" : "2021-07-01T20:00:27Z",
        "updatedAt" : "2021-07-01T20:01:32Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "adee1b94-9ac9-4a6a-be92-c01d46440c56",
        "parentId" : "0434209d-47bb-4778-b358-31923aaff40f",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "> // TODO(dixudx): refactor this to util/secrets and util/tokens \r\n\r\nthis TODO seems still relevant as something that can be done in `/staging/... /cluster-bootstrap`,  e.g. having to separate files `tokens.go` and `secrets.go`. i don't remember the discussions about it.",
        "createdAt" : "2021-07-01T20:11:59Z",
        "updatedAt" : "2021-07-01T20:11:59Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      }
    ],
    "commit" : "622f69bf8d4637099ab35a0e766aeaac58bfe51d",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +69,73 @@// is of the right format\nfunc NewBootstrapTokenString(token string) (*BootstrapTokenString, error) {\n\tsubstrs := bootstraputil.BootstrapTokenRegexp.FindStringSubmatch(token)\n\t// TODO: Add a constant for the 3 value here, and explain better why it's needed (other than because how the regexp parsin works)\n\tif len(substrs) != 3 {"
  }
]