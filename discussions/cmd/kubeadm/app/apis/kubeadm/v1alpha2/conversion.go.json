[
  {
    "id" : "603573de-ca9e-45f5-8141-114ef3017fcb",
    "prId" : 67830,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/67830#pullrequestreview-149448017",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "573d9ec3-7e15-4890-9013-f485959604e3",
        "parentId" : null,
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "Do we have UT that covers the conversion tests?  ",
        "createdAt" : "2018-08-24T16:17:20Z",
        "updatedAt" : "2018-08-24T16:29:46Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "c945e171-5847-48bd-adb1-3c521d2af361",
        "parentId" : "573d9ec3-7e15-4890-9013-f485959604e3",
        "authorId" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "body" : "Also, I'm not certain why this code is under v1alpha2 ClusterConfiguration is only v1alpha3.",
        "createdAt" : "2018-08-24T16:26:37Z",
        "updatedAt" : "2018-08-24T16:29:46Z",
        "lastEditedBy" : "f81960f6-a033-4403-bebf-c8ebb484e444",
        "tags" : [
        ]
      },
      {
        "id" : "8b2adbd7-fcb6-44ce-803b-c59103e756a5",
        "parentId" : "573d9ec3-7e15-4890-9013-f485959604e3",
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "> Do we have UT that covers the conversion tests?\r\n\r\nFor tests I followed Luxas approach already used for API changes during last cycle.\r\n\r\nThere is a robust and estensive integration test under `cmd/kubeadm/app/util/config` (but no UT for each function strinctly speaking); with the integration test we are doing the following roundtrips back and forth different API formats\r\n- v1alpha2 -> internal\r\n- v1alpha3 -> internal\r\n- v1alpha2 -> internal -> v1alpha3\r\n- v1alpha3 -> internal -> v1alpha3\r\n- v1alpha2 -> default -> validate -> internal -> v1alpha3\r\n\r\nAnd then we check that no data are lost, so I'm pretty confident that everything is covered.",
        "createdAt" : "2018-08-24T20:13:26Z",
        "updatedAt" : "2018-08-24T20:13:26Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      },
      {
        "id" : "31433d35-b8ad-4261-a425-c26e168880d8",
        "parentId" : "573d9ec3-7e15-4890-9013-f485959604e3",
        "authorId" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "body" : "> Also, I'm not certain why this code is under v1alpha2 ClusterConfiguration is only v1alpha3.\r\n\r\nClusterConfiguration is in v1alpha3 and in internal API too.\r\n\r\nConversion function under v1alpha2 implement v1alpha2<-->internal API, and because the differences in the two versions (e.g. ClusterConfiguration exists only in internal API) it is necessary to provide custom conversion function.\r\n\r\nOn the contrary  v1alpha3<-->internal API does not requires custom conversion function (because types are equal in the two versions and everything can be automagically managed by API machinery)",
        "createdAt" : "2018-08-24T20:21:29Z",
        "updatedAt" : "2018-08-24T20:21:29Z",
        "lastEditedBy" : "8a27151d-3530-4221-90e8-48b3a85cba37",
        "tags" : [
        ]
      }
    ],
    "commit" : "960ef7bf67a4cbe976c232d661edd0515469e45e",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +40,44 @@\nfunc split_v1alpha2_InitConfiguration_into_kubeadm_ClusterConfiguration(in *InitConfiguration, out *kubeadm.ClusterConfiguration, s conversion.Scope) error {\n\tif err := split_v1alpha2_InitConfiguration_into_kubeadm_ComponentConfigs(in, &out.ComponentConfigs, s); err != nil {\n\t\treturn err\n\t}"
  }
]