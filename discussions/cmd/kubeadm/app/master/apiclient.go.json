[
  {
    "id" : "af8c4193-1eb1-41f7-ab21-ffcca39b549f",
    "prId" : 43835,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/43835#pullrequestreview-30043989",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d1872e6a-f073-47ce-9ff2-f678c63b71ba",
        "parentId" : null,
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "Nit: you change this comment but don't fix up line 47.  Most users won't parse registered vs. ready though.",
        "createdAt" : "2017-03-30T03:15:27Z",
        "updatedAt" : "2017-03-30T16:25:10Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      },
      {
        "id" : "40f3a184-94e3-4205-8444-f5ac3f391f5f",
        "parentId" : "d1872e6a-f073-47ce-9ff2-f678c63b71ba",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "Fixed",
        "createdAt" : "2017-03-30T16:26:41Z",
        "updatedAt" : "2017-03-30T16:26:41Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      }
    ],
    "commit" : "89557110ed4693a7d23e515e738ced266e099365",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +57,61 @@\t\t}\n\n\t\tfmt.Printf(\"[apiclient] First node has registered after %f seconds\\n\", time.Since(start).Seconds())\n\t\treturn true, nil\n\t})"
  },
  {
    "id" : "009dedb0-d7ac-4029-a123-ff79ffb4bc87",
    "prId" : 40154,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40154#pullrequestreview-17698307",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8e925da7-18e5-466e-bed1-3db50990eba0",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "It would be good to gate this behind a `--v` flag or something, I don't think it's necessary to show every time",
        "createdAt" : "2017-01-19T19:44:40Z",
        "updatedAt" : "2017-01-19T19:57:06Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      },
      {
        "id" : "ea598b65-f1cc-4419-969d-8ccbd3992616",
        "parentId" : "8e925da7-18e5-466e-bed1-3db50990eba0",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "if the client appears to hang as long as this is true, printing something while it's breaking on this state seems good to me (see the printlns in the other shortcircuiting checks in this Poll)",
        "createdAt" : "2017-01-19T19:56:10Z",
        "updatedAt" : "2017-01-19T19:57:11Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "14f815f9-1a5d-4429-bea4-1893253d0d0a",
        "parentId" : "8e925da7-18e5-466e-bed1-3db50990eba0",
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "Anyway, do as you like here, I'm fine with this present or removed, I don't feel strongly either way",
        "createdAt" : "2017-01-19T19:58:31Z",
        "updatedAt" : "2017-01-19T19:58:31Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      },
      {
        "id" : "1dc660e8-b555-4d99-9f45-5f7494fff685",
        "parentId" : "8e925da7-18e5-466e-bed1-3db50990eba0",
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "@liggitt please omit this file change as we're deleting this func in #40075 and fixing it on that side\r\n\r\njust in order to avoid rebases. Thank you",
        "createdAt" : "2017-01-20T15:27:12Z",
        "updatedAt" : "2017-01-20T15:27:12Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      }
    ],
    "commit" : "083ffb6e93db594f9b7da98276ade74a365e1dfe",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +74,78 @@\t\tif err != nil {\n\t\t\tif apierrs.IsForbidden(err) {\n\t\t\t\tfmt.Println(\"[apiclient] Waiting for API server authorization\")\n\t\t\t}\n\t\t\treturn false, nil"
  },
  {
    "id" : "9a43a2e6-1475-44b9-ac04-978756b417a8",
    "prId" : 39846,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/39846#pullrequestreview-17032376",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3d9dd44c-0084-4f96-8631-57ff96fa7509",
        "parentId" : null,
        "authorId" : "19c6d4c2-ebee-46fd-8427-5a6ae5c98a9d",
        "body" : "This causes `kubeadm init` to fail when I was testing with hyperkube built from HEAD. Seems like a race condition. Commented this out and now it is working. Do we want to error if forbidden?",
        "createdAt" : "2017-01-17T16:18:07Z",
        "updatedAt" : "2017-01-18T22:03:09Z",
        "lastEditedBy" : "19c6d4c2-ebee-46fd-8427-5a6ae5c98a9d",
        "tags" : [
        ]
      },
      {
        "id" : "68c9f81d-8b17-451a-b8e0-53a2b2998dae",
        "parentId" : "3d9dd44c-0084-4f96-8631-57ff96fa7509",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "since authorizers default to deny, they can forbid requests that are made before they are initialized as the apiserver is coming up. I could maybe see logging forbidden errors, but I wouldn't short-circuit on them",
        "createdAt" : "2017-01-17T16:25:46Z",
        "updatedAt" : "2017-01-18T22:03:09Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "81dc3f70-6c0e-45d6-b844-5cb455c6c26d",
        "parentId" : "3d9dd44c-0084-4f96-8631-57ff96fa7509",
        "authorId" : "19c6d4c2-ebee-46fd-8427-5a6ae5c98a9d",
        "body" : "Ok. Will fix this up.",
        "createdAt" : "2017-01-17T16:28:06Z",
        "updatedAt" : "2017-01-18T22:03:09Z",
        "lastEditedBy" : "19c6d4c2-ebee-46fd-8427-5a6ae5c98a9d",
        "tags" : [
        ]
      }
    ],
    "commit" : "f46bf42ba0b1cbcb2cb1d0aec0d4097d91572eed",
    "line" : null,
    "diffHunk" : "@@ -1,1 +73,77 @@\t\tcs, err := client.ComponentStatuses().List(v1.ListOptions{})\n\t\tif err != nil {\n\t\t\tif apierrs.IsForbidden(err) {\n\t\t\t\tfmt.Print(\"\\r[apiclient] Waiting for the API server to create RBAC policies\")\n\t\t\t}"
  },
  {
    "id" : "22461c0e-a834-48bf-90d9-001c53a9f017",
    "prId" : 39846,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/39846#pullrequestreview-17047408",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "907fbb89-e273-4358-992a-d9a483cc287b",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "also, as a TODO, the componentstatuses API assumes things about the cluster topology we should not assume (control plane healthz available over localhost unsecured ports, etcd is unsecured, etc). I would probably switch this to check the API /healthz instead. follow up is fine.",
        "createdAt" : "2017-01-17T16:29:29Z",
        "updatedAt" : "2017-01-18T22:03:09Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "ae2f7f3b-af99-4410-8ee9-890104343e92",
        "parentId" : "907fbb89-e273-4358-992a-d9a483cc287b",
        "authorId" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "body" : "+1 on switching to /healthz endpoints. I thought the component status api was a black sheep. cc @bgrant0607 ",
        "createdAt" : "2017-01-17T16:40:47Z",
        "updatedAt" : "2017-01-18T22:03:09Z",
        "lastEditedBy" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "tags" : [
        ]
      },
      {
        "id" : "5d275452-61ed-4c2b-94ca-c9212c516c77",
        "parentId" : "907fbb89-e273-4358-992a-d9a483cc287b",
        "authorId" : "7be32503-562e-4caa-838d-bba025e626b5",
        "body" : "@liggitt @kargakis componentstatuses has hardcoded component identities and doesn't work in many deployment scenarios. PTAL at #18610.",
        "createdAt" : "2017-01-17T17:30:36Z",
        "updatedAt" : "2017-01-18T22:03:09Z",
        "lastEditedBy" : "7be32503-562e-4caa-838d-bba025e626b5",
        "tags" : [
        ]
      }
    ],
    "commit" : "f46bf42ba0b1cbcb2cb1d0aec0d4097d91572eed",
    "line" : null,
    "diffHunk" : "@@ -1,1 +71,75 @@\twait.PollInfinite(apiCallRetryInterval, func() (bool, error) {\n\t\t// TODO: use /healthz API instead of this\n\t\tcs, err := client.ComponentStatuses().List(v1.ListOptions{})\n\t\tif err != nil {\n\t\t\tif apierrs.IsForbidden(err) {"
  },
  {
    "id" : "9153c95c-dd39-46ec-8c7e-b8caa82d02a7",
    "prId" : 36625,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/36625#pullrequestreview-10966502",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ecba8a7b-2624-490c-b93c-46bdfb256656",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "isn't this exactly what the `RetryOnConflict` is for? Also, how does ever succeed if you aren't changing `n`?",
        "createdAt" : "2016-12-01T13:46:19Z",
        "updatedAt" : "2016-12-01T13:46:19Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      }
    ],
    "commit" : "f3c5a6ef8f3dd1d1abeab2f8476c2b89205d26a4",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +180,184 @@\tfor {\n\t\tif _, err := client.Nodes().Update(n); err != nil {\n\t\t\tif apierrs.IsConflict(err) {\n\t\t\t\tfmt.Println(\"<master/apiclient> temporarily unable to update master node metadata due to conflict (will retry)\")\n\t\t\t\ttime.Sleep(apiCallRetryInterval)"
  },
  {
    "id" : "8f669ede-3713-4e44-b2d2-8745a0e1b7ce",
    "prId" : 35124,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/35124#pullrequestreview-5084648",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1a25ba18-3028-45a6-98c2-8d07009302e9",
        "parentId" : null,
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "We don't have documentation on public functions here and we should probably start.  Can you start documenting some of this stuff as you touch it?\n",
        "createdAt" : "2016-10-19T18:33:34Z",
        "updatedAt" : "2016-10-21T13:56:13Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      },
      {
        "id" : "f26cc676-51ef-4163-8e83-59e41e062306",
        "parentId" : "1a25ba18-3028-45a6-98c2-8d07009302e9",
        "authorId" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "body" : "Ack.\n",
        "createdAt" : "2016-10-20T14:45:13Z",
        "updatedAt" : "2016-10-21T13:56:13Z",
        "lastEditedBy" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "9703df391f7584298537a4425d3a6a094bbc9031",
    "line" : null,
    "diffHunk" : "@@ -1,1 +209,213 @@\n// SetNodeAffinity is a basic helper to set meta.Annotations[api.AffinityAnnotationKey] for one or more api.NodeSelectorRequirement(s)\nfunc SetNodeAffinity(meta *api.ObjectMeta, expr ...api.NodeSelectorRequirement) {\n\tnodeAffinity := &api.NodeAffinity{\n\t\tRequiredDuringSchedulingIgnoredDuringExecution: &api.NodeSelector{"
  },
  {
    "id" : "c0eceb4f-9bbe-4567-bcce-efedbf9f9407",
    "prId" : 35124,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/35124#pullrequestreview-4933782",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "79330b0c-f218-435d-92ac-ed4715e352fb",
        "parentId" : null,
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "Doc?\n",
        "createdAt" : "2016-10-19T18:33:39Z",
        "updatedAt" : "2016-10-21T13:56:13Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      }
    ],
    "commit" : "9703df391f7584298537a4425d3a6a094bbc9031",
    "line" : null,
    "diffHunk" : "@@ -1,1 +223,227 @@\n// MasterNodeAffinity returns api.NodeSelectorRequirement to be used with SetNodeAffinity to set affinity to master node\nfunc MasterNodeAffinity() api.NodeSelectorRequirement {\n\treturn api.NodeSelectorRequirement{\n\t\tKey: \"kubeadm.alpha.kubernetes.io/role\", Operator: api.NodeSelectorOpIn, Values: []string{\"master\"},"
  },
  {
    "id" : "2f156f94-0a59-4369-bccb-0e9fb5b900d5",
    "prId" : 34573,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/34573#pullrequestreview-3894988",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a0aa4cfd-691a-437c-9566-adfef0116aea",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "This seems like it could run forever silently. Can we add a timeout or occasionally report statuses?\n",
        "createdAt" : "2016-10-12T15:01:33Z",
        "updatedAt" : "2016-10-12T15:01:33Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "a5016507-90a8-4b74-9e90-f469b3d78516",
        "parentId" : "a0aa4cfd-691a-437c-9566-adfef0116aea",
        "authorId" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "body" : "There is a status line below... \n",
        "createdAt" : "2016-10-12T15:11:01Z",
        "updatedAt" : "2016-10-12T15:11:02Z",
        "lastEditedBy" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "tags" : [
        ]
      },
      {
        "id" : "bc227d7d-f7ad-4b9c-ba03-d33e7e4148ba",
        "parentId" : "a0aa4cfd-691a-437c-9566-adfef0116aea",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "Oops, misread.\n",
        "createdAt" : "2016-10-12T15:13:36Z",
        "updatedAt" : "2016-10-12T15:13:36Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "adeeb605-4c36-4bcd-8a66-216e640611e5",
        "parentId" : "a0aa4cfd-691a-437c-9566-adfef0116aea",
        "authorId" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "body" : "I'd like to find a way to improve our usage of `wait.PollInfinite()` everywhere, but haven't quite figured it out yet. We would definitely benefit from kubelet API, if it will allow us to do less polling and get instant confirmation of control plane components getting deployed or erroring otherwise...\n",
        "createdAt" : "2016-10-12T15:13:49Z",
        "updatedAt" : "2016-10-12T15:13:49Z",
        "lastEditedBy" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "53e393ad421394ad664da09bbab86bf6f1d458e1",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +234,238 @@\t})\n\n\twait.PollInfinite(apiCallRetryInterval, func() (bool, error) {\n\t\t// TODO: we should check the error, as some cases may be fatal\n\t\tif _, err := client.Extensions().Deployments(api.NamespaceSystem).Create(dummyDeployment); err != nil {"
  },
  {
    "id" : "e3aba7cc-7cec-46f2-a407-ef229ddb72ed",
    "prId" : 34573,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/34573#pullrequestreview-3895125",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ed718551-dfd1-484d-9f11-596ede107c2b",
        "parentId" : null,
        "authorId" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "body" : "This will make it wait silently, but hopefully it should be quick enough...\n",
        "createdAt" : "2016-10-12T15:14:33Z",
        "updatedAt" : "2016-10-12T15:14:33Z",
        "lastEditedBy" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "53e393ad421394ad664da09bbab86bf6f1d458e1",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +250,254 @@\t\t}\n\t\tif d.Status.AvailableReplicas < 1 {\n\t\t\treturn false, nil\n\t\t}\n\t\treturn true, nil"
  },
  {
    "id" : "eaf4e874-a539-44b7-ba63-2df3064d0d05",
    "prId" : 33262,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/33262#pullrequestreview-1434273",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5ec5abf0-b7b0-4efc-b8cb-b622c8535c52",
        "parentId" : null,
        "authorId" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "body" : "Change this to a loop instead of recursion.\n",
        "createdAt" : "2016-09-23T22:55:42Z",
        "updatedAt" : "2016-09-26T08:13:51Z",
        "lastEditedBy" : "ad0a3561-db60-47a9-b82f-ac613199f968",
        "tags" : [
        ]
      },
      {
        "id" : "0d3d7e1a-ea49-45ed-8a12-40b357984ab7",
        "parentId" : "5ec5abf0-b7b0-4efc-b8cb-b622c8535c52",
        "authorId" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "body" : "Without recursion you can merge it into UpdateMasterRoleLabelsAndTaints\n",
        "createdAt" : "2016-09-23T23:56:14Z",
        "updatedAt" : "2016-09-26T08:13:51Z",
        "lastEditedBy" : "e19009d8-ed5c-45bb-b5ce-4f8d956c6c45",
        "tags" : [
        ]
      },
      {
        "id" : "affd6ce4-611d-4903-9b11-089a053960e9",
        "parentId" : "5ec5abf0-b7b0-4efc-b8cb-b622c8535c52",
        "authorId" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "body" : "Ack.\n",
        "createdAt" : "2016-09-24T12:30:48Z",
        "updatedAt" : "2016-09-26T08:13:51Z",
        "lastEditedBy" : "d37d9758-bdf5-4c23-a40e-a85099689a0c",
        "tags" : [
        ]
      }
    ],
    "commit" : "3a4613d3b25dd1944a7f26b6d2037c9e82fcde7e",
    "line" : 176,
    "diffHunk" : "@@ -1,1 +174,178 @@\t}\n\n\tif _, err := client.Nodes().Update(n); err != nil {\n\t\tif apierrs.IsConflict(err) {\n\t\t\tfmt.Println(\"<master/apiclient> temporarily unable to update master node metadata due to conflict (will retry)\")"
  }
]