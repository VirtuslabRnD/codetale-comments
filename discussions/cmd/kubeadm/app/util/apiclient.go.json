[
  {
    "id" : "998e40ef-eca5-496c-a300-002f95afbb1a",
    "prId" : 47435,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47435#pullrequestreview-47998362",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a49a00b6-ed60-4c5e-946e-92b24a0fdbde",
        "parentId" : null,
        "authorId" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "body" : "Do you prefer adding the /healthz check inside WaitForAPI as a readiness probe inside the static pod or by mutating the DaemonSet pod spec and then wait for Ready pods here instead of Running?",
        "createdAt" : "2017-07-04T21:01:19Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "11efe503-096f-46dd-a8c8-28ba38a0157a",
        "tags" : [
        ]
      },
      {
        "id" : "bc607325-4798-43b5-9a6d-586e0e6a7297",
        "parentId" : "a49a00b6-ed60-4c5e-946e-92b24a0fdbde",
        "authorId" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "body" : "We might need to disable healthz check on the bootstrap apiserver for self-hosted etcd due to [various race conditions](https://github.com/kubernetes-incubator/bootkube/issues/495), so I think this is the best solution for time being",
        "createdAt" : "2017-07-05T10:38:53Z",
        "updatedAt" : "2017-07-06T17:55:06Z",
        "lastEditedBy" : "bdc500eb-fd23-4d89-81ce-2986aa831dfa",
        "tags" : [
        ]
      }
    ],
    "commit" : "9f1c5a6f0f86651b651a07d57dfba6a6779d4eb7",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +76,80 @@\t\tfor _, pod := range apiPods.Items {\n\t\t\tfmt.Printf(\"[apiclient] Pod %s status: %s\\n\", pod.Name, pod.Status.Phase)\n\t\t\tif pod.Status.Phase != v1.PodRunning {\n\t\t\t\treturn false, nil\n\t\t\t}"
  }
]