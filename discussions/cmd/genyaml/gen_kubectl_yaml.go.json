[
  {
    "id" : "394dc9ac-2bdf-452b-a4f2-7a3db8104cd6",
    "prId" : 75432,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/75432#pullrequestreview-234068156",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8a3ab8a9-7673-453f-a6d4-be032876d593",
        "parentId" : null,
        "authorId" : "177cd6e2-402c-41d0-804c-446a933e9330",
        "body" : "just curious , can we make /home/username as variable somewhere ?",
        "createdAt" : "2019-05-03T18:10:16Z",
        "updatedAt" : "2019-05-03T18:10:16Z",
        "lastEditedBy" : "177cd6e2-402c-41d0-804c-446a933e9330",
        "tags" : [
        ]
      },
      {
        "id" : "a6650afd-c413-421f-8f68-4372be4edd21",
        "parentId" : "8a3ab8a9-7673-453f-a6d4-be032876d593",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "That is definitely an unexpected line of code. It might be good to dig through the history and find someone who can explain it more.",
        "createdAt" : "2019-05-06T16:17:20Z",
        "updatedAt" : "2019-05-06T16:17:20Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "33e61267e39b7d372ddc2eae4f7c43c1d295795f",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +65,69 @@\t// Set environment variables used by kubectl so the output is consistent,\n\t// regardless of where we run.\n\tos.Setenv(\"HOME\", \"/home/username\")\n\tkubectl := cmd.NewKubectlCommand(bytes.NewReader(nil), ioutil.Discard, ioutil.Discard)\n\tgenYaml(kubectl, \"\", outDir)"
  },
  {
    "id" : "fa55edda-164e-4e6b-bdab-628050f0c107",
    "prId" : 23526,
    "prUrl" : null,
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91d340f5-2127-44e3-9e43-198ad38d23d2",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Please take a look at https://github.com/kubernetes/kubernetes/blob/643cb7a1c7499df4e569f4f0fbd3b18c0c4e63ce/cmd/genkubedocs/gen_kube_docs.go\n\nIt would be much better to use that system than this system, if possible?\n",
        "createdAt" : "2016-03-28T22:54:20Z",
        "updatedAt" : "2016-04-12T00:08:01Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "56a88ddd-5963-42a6-9067-9d3e18e9a6c8",
        "parentId" : "91d340f5-2127-44e3-9e43-198ad38d23d2",
        "authorId" : "3fe0a6a0-e082-4a7e-9b9c-20ed9994bb22",
        "body" : "@lavalamp \nThanks for the feedback! Cobra at the moment doesn't seem to have a convenient GenYamlTree function, so I based this off of this old gen man pages script for the time being:\n\nhttps://github.com/kubernetes/kubernetes/blob/643cb7a1c7499df4e569f4f0fbd3b18c0c4e63ce/cmd/genman/gen_kubectl_man.go\n\n(I also couldn't find an easy existing method to convert markdown directly into yaml in this way)\n\nAs a side note, since the time of that genman script's writing, cobra now has built-in man page generation (GenManTree function, see: https://github.com/spf13/hugo/issues/1369), so it might be possible to clean up that script and really easily extend man page generation to other kube commands (I can look into this if you'd like!).\n\nRegarding the current code, maybe another option would be to suggest a PR adding a GenYamlTree function to the cobra repo, and if it does get approved, use that here in place of the messy custom logic? Though that might take some time.\n\nP.S. If this is getting too lengthy, we can move the talk to the issue thread.\n",
        "createdAt" : "2016-03-28T23:51:20Z",
        "updatedAt" : "2016-04-12T00:08:01Z",
        "lastEditedBy" : "3fe0a6a0-e082-4a7e-9b9c-20ed9994bb22",
        "tags" : [
        ]
      },
      {
        "id" : "425208d0-11a2-4ab1-8608-e102a2235276",
        "parentId" : "91d340f5-2127-44e3-9e43-198ad38d23d2",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Yeah, getting a GenYAMLTree into cobra was the route that I was going to\ntake personally.\n\nI'll think about whether we should just take this as-is in the meantime. :)\n\nOn Mon, Mar 28, 2016 at 4:51 PM, Thomas Liu notifications@github.com\nwrote:\n\n> In cmd/genyaml/gen_kubectl_yaml.go\n> https://github.com/kubernetes/kubernetes/pull/23526#discussion_r57653526\n> :\n> \n> > -   Shorthand    string `yaml:\",omitempty\"`\n> > -   DefaultValue string `yaml:\"default_value,omitempty\"`\n> > -   Usage        string `yaml:\",omitempty\"`\n> >   +}\n> >   +\n> >   +type cmdDoc struct {\n> > -   Name             string\n> > -   Synopsis         string       `yaml:\",omitempty\"`\n> > -   Description      string       `yaml:\",omitempty\"`\n> > -   Options          []cmdOption  `yaml:\",omitempty\"`\n> > -   InheritedOptions []cmdOption    `yaml:\"inherited_options,omitempty\"`\n> > -   Example          string       `yaml:\",omitempty\"`\n> > -   SeeAlso          []string     `yaml:\"see_also,omitempty\"`\n> >   +}\n> >   +\n> >   +func main() {\n> \n> Thanks for the feedback! Cobra at the moment doesn't seem to have a\n> convenient GenYamlTree function, so I based this off of this old gen man\n> pages script for the time being:\n> \n> https://github.com/kubernetes/kubernetes/blob/643cb7a1c7499df4e569f4f0fbd3b18c0c4e63ce/cmd/genman/gen_kubectl_man.go\n> \n> As a side note, since the time of that genman script's writing, cobra now\n> has built-in man page generation (GenManTree function, see:\n> spf13/hugo#1369 https://github.com/spf13/hugo/issues/1369), so it might\n> be possible to clean up that script and really easily extend man page\n> generation to other kube commands (I can look into this if you'd like!).\n> \n> Regarding the current code, maybe another option would be to suggest a PR\n> adding a GenYamlTree function to the cobra repo, and if it does get\n> approved, use that here in place of the messy custom logic? Though that\n> might take some time.\n> \n> —\n> You are receiving this because you were assigned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/kubernetes/kubernetes/pull/23526/files/0f08dc4bb7d601f9e2021bebbfa8878af7e201ab..c81f0a7b8222456d74098ffb8cd9cf09531e7a3f#r57653526\n",
        "createdAt" : "2016-03-29T20:12:50Z",
        "updatedAt" : "2016-04-12T00:08:01Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "6c5bd654-dd36-4e91-ae73-b8362a059e2d",
        "parentId" : "91d340f5-2127-44e3-9e43-198ad38d23d2",
        "authorId" : "3fe0a6a0-e082-4a7e-9b9c-20ed9994bb22",
        "body" : "Sounds good - would making that change to cobra be something I could give a\ntry, or were you planning to take it on? Thanks!\n",
        "createdAt" : "2016-03-29T21:23:06Z",
        "updatedAt" : "2016-04-12T00:08:01Z",
        "lastEditedBy" : "3fe0a6a0-e082-4a7e-9b9c-20ed9994bb22",
        "tags" : [
        ]
      },
      {
        "id" : "dc180dba-5934-41d4-97b6-340f00ee695a",
        "parentId" : "91d340f5-2127-44e3-9e43-198ad38d23d2",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Please go for it, that would be awesome!\n\nOn Tue, Mar 29, 2016 at 2:23 PM, Thomas Liu notifications@github.com\nwrote:\n\n> In cmd/genyaml/gen_kubectl_yaml.go\n> https://github.com/kubernetes/kubernetes/pull/23526#discussion_r57803249\n> :\n> \n> > -   Shorthand    string `yaml:\",omitempty\"`\n> > -   DefaultValue string `yaml:\"default_value,omitempty\"`\n> > -   Usage        string `yaml:\",omitempty\"`\n> >   +}\n> >   +\n> >   +type cmdDoc struct {\n> > -   Name             string\n> > -   Synopsis         string       `yaml:\",omitempty\"`\n> > -   Description      string       `yaml:\",omitempty\"`\n> > -   Options          []cmdOption  `yaml:\",omitempty\"`\n> > -   InheritedOptions []cmdOption    `yaml:\"inherited_options,omitempty\"`\n> > -   Example          string       `yaml:\",omitempty\"`\n> > -   SeeAlso          []string     `yaml:\"see_also,omitempty\"`\n> >   +}\n> >   +\n> >   +func main() {\n> \n> Sounds good - would making that change to cobra be something I could give\n> a try, or were you planning to take it on? Thanks!\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/kubernetes/kubernetes/pull/23526/files/0f08dc4bb7d601f9e2021bebbfa8878af7e201ab..c81f0a7b8222456d74098ffb8cd9cf09531e7a3f#r57803249\n",
        "createdAt" : "2016-03-29T23:26:45Z",
        "updatedAt" : "2016-04-12T00:08:01Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "ad9f9d2ce02d1451a3ade59f2e679115eeae37c1",
    "line" : null,
    "diffHunk" : "@@ -1,1 +48,52 @@}\n\nfunc main() {\n\tpath := \"docs/yaml/kubectl\"\n\tif len(os.Args) == 2 {"
  }
]