[
  {
    "id" : "5f7d0113-64e8-45a8-a20f-c8133425b76d",
    "prId" : 103445,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/103445#pullrequestreview-700209384",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "74abc060-9880-47da-8807-a2dc975e5efa",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "this bit is interesting… someone who wanted to run the admission hook on their own types would need to do a custom PodSpecExtractor and custom decoder? that bit feels like it should be paired into the same object or interface… not sure ",
        "createdAt" : "2021-07-04T20:22:37Z",
        "updatedAt" : "2021-07-04T20:22:59Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "b38359ea-53e9-41f7-bee8-853d8cb0a888",
        "parentId" : "74abc060-9880-47da-8807-a2dc975e5efa",
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "Interesting idea. This one also needs to know about name spaces, but I imagine if someone wanted to do their own type, they would probably just wrap (or copy) the built in.",
        "createdAt" : "2021-07-06T16:24:55Z",
        "updatedAt" : "2021-07-06T16:24:55Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      },
      {
        "id" : "9f79262e-f34a-41ae-b35e-b7d07612c5c8",
        "parentId" : "74abc060-9880-47da-8807-a2dc975e5efa",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "this is already taking a Decoder interface... I more meant this type switching should live in that interface:\r\n\r\n`DecodeRaw(groupResource schema.GroupResource, rawObj runtime.RawExtension) (runtime.Object, error)`\r\n\r\nand there be a default decoder impl that understands namespaces/pods/built-in types",
        "createdAt" : "2021-07-06T17:00:09Z",
        "updatedAt" : "2021-07-06T17:00:10Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "74d4363b-649e-4f99-aa18-33854af6d384",
        "parentId" : "74abc060-9880-47da-8807-a2dc975e5efa",
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "I realized I could eliminate most of this and just use the generic runtime.Decoder interface. Much improved.",
        "createdAt" : "2021-07-06T17:26:06Z",
        "updatedAt" : "2021-07-06T17:26:07Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      }
    ],
    "commit" : "cf6ba6096f94017eda4644e1bebe169dc147ef78",
    "line" : 126,
    "diffHunk" : "@@ -1,1 +124,128 @@\treturn a.decode(a.r.OldObject)\n}\nfunc (a *attributes) decode(in runtime.RawExtension) (runtime.Object, error) {\n\tif in.Raw == nil {\n\t\treturn nil, nil"
  },
  {
    "id" : "48610daa-416c-45f3-9b55-9f673635384c",
    "prId" : 103445,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/103445#pullrequestreview-700234566",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1ee83293-6b9e-43d7-aa65-99ec2a135837",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "does this do the right thing if OldObject is nil?",
        "createdAt" : "2021-07-06T17:56:06Z",
        "updatedAt" : "2021-07-06T17:56:06Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "cf6ba6096f94017eda4644e1bebe169dc147ef78",
    "line" : 124,
    "diffHunk" : "@@ -1,1 +122,126 @@}\nfunc (a *attributes) GetOldObject() (runtime.Object, error) {\n\treturn a.decode(a.r.OldObject)\n}\nfunc (a *attributes) decode(in runtime.RawExtension) (runtime.Object, error) {"
  },
  {
    "id" : "6f105eb5-055f-4e25-9b12-0e9d48b481b6",
    "prId" : 103445,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/103445#pullrequestreview-700234707",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "25697171-8602-4495-a93d-3fd5c08e89cc",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "does this do the right thing if Object is nil?",
        "createdAt" : "2021-07-06T17:56:16Z",
        "updatedAt" : "2021-07-06T17:56:16Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "cf6ba6096f94017eda4644e1bebe169dc147ef78",
    "line" : 121,
    "diffHunk" : "@@ -1,1 +119,123 @@}\nfunc (a *attributes) GetObject() (runtime.Object, error) {\n\treturn a.decode(a.r.Object)\n}\nfunc (a *attributes) GetOldObject() (runtime.Object, error) {"
  }
]