[
  {
    "id" : "fbf7cb0e-aa99-4fdb-907e-eabd3f5c4fe2",
    "prId" : 97385,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97385#pullrequestreview-598375220",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4b63c212-2165-4861-887d-7ba84e9cf838",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "does code coverage show this line being exercised in unit tests?",
        "createdAt" : "2021-02-24T18:49:36Z",
        "updatedAt" : "2021-02-25T09:29:59Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "6084ae42-1435-49da-aa00-a4b67d7788fb",
        "parentId" : "4b63c212-2165-4861-887d-7ba84e9cf838",
        "authorId" : "5ac1fbf3-66c1-4895-bdfb-5f9004957387",
        "body" : "@liggitt it was not. I added a new test case to `TestServeHTTP`, that covers it and tests this explicitly.",
        "createdAt" : "2021-02-25T09:46:28Z",
        "updatedAt" : "2021-02-25T11:41:29Z",
        "lastEditedBy" : "5ac1fbf3-66c1-4895-bdfb-5f9004957387",
        "tags" : [
        ]
      }
    ],
    "commit" : "379b541070bf5a5f31abe513d717c0f7b12845a8",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +295,299 @@\t\tklog.V(6).Infof(\"Connecting to backend proxy (direct dial) %s\\n  Headers: %v\", &location, clone.Header)\n\t\tif h.UseLocationHost {\n\t\t\tclone.Host = h.Location.Host\n\t\t}\n\t\tclone.URL = &location"
  },
  {
    "id" : "100b48da-7d68-4c18-b870-ca3d75fca3e3",
    "prId" : 97385,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97385#pullrequestreview-598378902",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99c9c1ec-858c-49e3-924e-af7a1d8ffefb",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "does code coverage show this line being exercised in unit tests?",
        "createdAt" : "2021-02-24T18:50:07Z",
        "updatedAt" : "2021-02-25T09:29:59Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "70127d8b-85a4-429c-af28-c97168c82582",
        "parentId" : "99c9c1ec-858c-49e3-924e-af7a1d8ffefb",
        "authorId" : "5ac1fbf3-66c1-4895-bdfb-5f9004957387",
        "body" : "@liggitt that is covered by the test case `use location host` in `TestServeHTTP `",
        "createdAt" : "2021-02-25T09:50:15Z",
        "updatedAt" : "2021-02-25T09:59:26Z",
        "lastEditedBy" : "5ac1fbf3-66c1-4895-bdfb-5f9004957387",
        "tags" : [
        ]
      }
    ],
    "commit" : "379b541070bf5a5f31abe513d717c0f7b12845a8",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +237,241 @@\t\t// exchanging req.Host with the backend location is necessary for backends that act on the HTTP host header (e.g. API gateways),\n\t\t// because req.Host has preference over req.URL.Host in filling this header field\n\t\tnewReq.Host = h.Location.Host\n\t}\n"
  },
  {
    "id" : "5c4c698e-4578-4e9c-b6a5-4c3ddbca3929",
    "prId" : 92217,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/92217#pullrequestreview-438203301",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9e9ef144-751f-41a8-8e96-371e7200e23d",
        "parentId" : null,
        "authorId" : "13c01cb8-6052-4a98-b6fd-20d3acd6332f",
        "body" : "@liggitt FYI I'm going to use it in https://github.com/kubernetes/kubernetes/pull/92291 which introduces a retry mechanism for the aggregator. PTAL if you are interested.",
        "createdAt" : "2020-06-26T10:58:56Z",
        "updatedAt" : "2020-06-26T10:58:56Z",
        "lastEditedBy" : "13c01cb8-6052-4a98-b6fd-20d3acd6332f",
        "tags" : [
        ]
      }
    ],
    "commit" : "c0593b68d9dec7966f31d6bf8387a45f677da955",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +237,241 @@\t\t// the custom responder might be used for providing a unified error reporting\n\t\t// or supporting retry mechanisms by not sending non-fatal errors to the clients\n\t\tproxy.ErrorHandler = h.Responder.Error\n\t}\n\tproxy.ServeHTTP(w, newReq)"
  },
  {
    "id" : "cb17233d-3f84-4924-aa69-ef9aba94627f",
    "prId" : 81776,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/81776#pullrequestreview-278672494",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f747dfbc-3185-429f-8eaf-9dee8124b519",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "can we limit this to tests, or only to termination time, rather than pipe all server logs through a substring check?",
        "createdAt" : "2019-08-22T20:23:05Z",
        "updatedAt" : "2019-08-22T20:23:05Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "ad1b89a4-2a84-434f-8dac-856a8e139977",
        "parentId" : "f747dfbc-3185-429f-8eaf-9dee8124b519",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "This logger is used to log 3 static strings in the reverse proxy code. There is no high load.\r\n\r\nThis warning is noise in every log. The word panic causes panic when people read the logs.",
        "createdAt" : "2019-08-22T20:24:58Z",
        "updatedAt" : "2019-08-22T20:25:32Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "cedde6bc-3ba4-46df-93c2-f9cdf011ea46",
        "parentId" : "f747dfbc-3185-429f-8eaf-9dee8124b519",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "If you are concerned about complexity (string containment is super fast, assuming Golang devs have read Knuth), we can change it into a prefix check. But as this directly prints to stderr normally, without any verbosity check, I think a string check is better than any IO performance-wise.",
        "createdAt" : "2019-08-22T20:31:37Z",
        "updatedAt" : "2019-08-22T20:31:37Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "8da9e2be-d8e9-4fe7-8dc0-b7316c9fbd0d",
        "parentId" : "f747dfbc-3185-429f-8eaf-9dee8124b519",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "ah, didn't realize the context. I thought this was used for more. ugly, but so is a lot of detailed integration with the http stdlib :-/",
        "createdAt" : "2019-08-22T20:36:32Z",
        "updatedAt" : "2019-08-22T20:36:33Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "f507f288a649274fcc27cbb5a0cd693fedd22f4b",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +243,247 @@\t// that ends up in CI tests on each kube-apiserver termination as noise and\n\t// everybody thinks this is fatal.\n\tif strings.Contains(string(p), \"suppressing panic\") {\n\t\treturn len(p), nil\n\t}"
  },
  {
    "id" : "d3ee4913-a1f9-4220-ae23-8a2f35bf0d69",
    "prId" : 75887,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/75887#pullrequestreview-221791171",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9bba4922-9d06-4f10-9b21-4e7bf55207d3",
        "parentId" : null,
        "authorId" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "body" : "Seems like it would be good to track that this happened. Maybe log that we may not flush the headers correctly along with the type of the writer not supporting this?",
        "createdAt" : "2019-04-02T05:46:18Z",
        "updatedAt" : "2019-04-02T06:03:22Z",
        "lastEditedBy" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "tags" : [
        ]
      },
      {
        "id" : "60fcb551-c975-4c91-9d6f-6c76f2196604",
        "parentId" : "9bba4922-9d06-4f10-9b21-4e7bf55207d3",
        "authorId" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "body" : "NM, https://golang.org/src/net/http/httputil/reverseproxy.go?h=handleUpgradeResponse#L518 looks like it will give us the error message I was looking for.",
        "createdAt" : "2019-04-02T17:11:56Z",
        "updatedAt" : "2019-04-02T17:11:56Z",
        "lastEditedBy" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa8e75c975df00dc9eef9f5ede9bfd9655c1152f",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +244,248 @@\t// if the given writer can't support all three, return the original writer.\n\tif !isFlusher || !isHijacker || !isCloseNotifier {\n\t\treturn w\n\t}\n\treturn &flushHeadersWriter{w, flusher, hijacker, closeNotifier}"
  },
  {
    "id" : "cffe8782-8d92-4b84-9fc1-f984d40eb344",
    "prId" : 75887,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/75887#pullrequestreview-221791433",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f6356c1a-3342-45fc-a4ca-ec374ee6aeaf",
        "parentId" : null,
        "authorId" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "body" : "Do we know why we need Hijacker (Other than it was in the sample code from https://github.com/golang/go/issues/31125)? I don't see us actually calling Hijack().",
        "createdAt" : "2019-04-02T05:57:31Z",
        "updatedAt" : "2019-04-02T06:03:22Z",
        "lastEditedBy" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "tags" : [
        ]
      },
      {
        "id" : "ca927b72-ec21-4c44-b8f5-896a332d0503",
        "parentId" : "f6356c1a-3342-45fc-a4ca-ec374ee6aeaf",
        "authorId" : "8787f184-4465-4b44-9881-53c8042338f5",
        "body" : "Httputil.ReverseProxy requires it. (Note that all these interfaces are embedded in the structure, to make it implement all of them)",
        "createdAt" : "2019-04-02T06:57:53Z",
        "updatedAt" : "2019-04-02T06:57:54Z",
        "lastEditedBy" : "8787f184-4465-4b44-9881-53c8042338f5",
        "tags" : [
        ]
      },
      {
        "id" : "8ca59d5e-c575-4dab-a05f-35cd3ac7346a",
        "parentId" : "f6356c1a-3342-45fc-a4ca-ec374ee6aeaf",
        "authorId" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "body" : "Thanks, I think that cleared up both my concerns.",
        "createdAt" : "2019-04-02T17:12:27Z",
        "updatedAt" : "2019-04-02T17:12:27Z",
        "lastEditedBy" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "tags" : [
        ]
      }
    ],
    "commit" : "aa8e75c975df00dc9eef9f5ede9bfd9655c1152f",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +252,256 @@\thttp.ResponseWriter\n\thttp.Flusher\n\thttp.Hijacker\n\thttp.CloseNotifier\n}"
  },
  {
    "id" : "40ab6996-012c-4e48-af5d-34afdc819619",
    "prId" : 51168,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/51168#pullrequestreview-57969527",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a5a70cc9-adf4-44a0-8b40-02b0e7284fd0",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "you absolutely sure you don't want to call this `OneWayTrip(*http.Request) (*http.Request, error)`?",
        "createdAt" : "2017-08-23T03:54:38Z",
        "updatedAt" : "2017-08-25T00:18:22Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "9d263c0a-fb37-4ad4-889f-a78e4db592b5",
        "parentId" : "a5a70cc9-adf4-44a0-8b40-02b0e7284fd0",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Technically it's not one way since it doesn't go anywhere.",
        "createdAt" : "2017-08-23T04:05:48Z",
        "updatedAt" : "2017-08-25T00:18:22Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "9347d8cf-aaa0-49a1-ba2b-95a7e9e6ef3a",
        "parentId" : "a5a70cc9-adf4-44a0-8b40-02b0e7284fd0",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "So it's not a trip.  Maybe `OneWayDirections`?",
        "createdAt" : "2017-08-23T04:05:58Z",
        "updatedAt" : "2017-08-25T00:18:22Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      },
      {
        "id" : "1f0f2a8b-49a5-4964-bb1e-5e4183eeeb2a",
        "parentId" : "a5a70cc9-adf4-44a0-8b40-02b0e7284fd0",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "WrapRequest is fine",
        "createdAt" : "2017-08-23T04:12:53Z",
        "updatedAt" : "2017-08-25T00:18:22Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "b16af454548010dbd5bc321c8be437d0756f100c",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +50,54 @@\t// an upgrade on the server. It does not get a chance to see the response and\n\t// should bypass any request side logic that expects to see the response.\n\tWrapRequest(*http.Request) (*http.Request, error)\n}\n"
  },
  {
    "id" : "b9d1ca32-54b6-4fb7-a0c6-e100c3e048d6",
    "prId" : 49534,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/49534#pullrequestreview-54418245",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "61af8ef8-066a-47c6-bbc7-ac0812551d65",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "odd that `w` is ignored.",
        "createdAt" : "2017-08-02T08:25:51Z",
        "updatedAt" : "2017-08-04T16:48:43Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "d174dbd5-0cc6-4ae0-a546-1ff9c4ebce22",
        "parentId" : "61af8ef8-066a-47c6-bbc7-ac0812551d65",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Comment below, will open a follow up.",
        "createdAt" : "2017-08-04T16:45:33Z",
        "updatedAt" : "2017-08-04T16:48:43Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "c42531cc51b67c7ab67ba6b5d94db2320feec66e",
    "line" : 56,
    "diffHunk" : "@@ -1,1 +88,92 @@\nfunc (r simpleResponder) Error(w http.ResponseWriter, req *http.Request, err error) {\n\tr.responder.Error(err)\n}\n"
  }
]