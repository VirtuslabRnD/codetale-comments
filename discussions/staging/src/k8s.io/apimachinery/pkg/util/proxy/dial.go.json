[
  {
    "id" : "83c3226a-8e4e-47b7-9407-c9803400a029",
    "prId" : 88781,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88781#pullrequestreview-369281618",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "befe6be9-8136-4e01-835d-be4563401b21",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "The above block tries hard not to modify the tlsConfig that is passed in. Do we need to make a copy here?",
        "createdAt" : "2020-03-05T01:26:46Z",
        "updatedAt" : "2020-03-06T00:31:36Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "6b95fa22-34a4-4ed0-9bb3-37d23698de12",
        "parentId" : "befe6be9-8136-4e01-835d-be4563401b21",
        "authorId" : "66fd28ab-dec7-4d05-a03d-9d4887f12f15",
        "body" : "You're correct, I thought it was already copied or new at this point but I see I'm wrong.",
        "createdAt" : "2020-03-05T03:57:10Z",
        "updatedAt" : "2020-03-06T00:31:36Z",
        "lastEditedBy" : "66fd28ab-dec7-4d05-a03d-9d4887f12f15",
        "tags" : [
        ]
      }
    ],
    "commit" : "eb9cf777dce227c518057f70c49dece6bf774075",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +93,97 @@\t\t\tif supportsHTTP11(tlsConfig.NextProtos) {\n\t\t\t\ttlsConfig = tlsConfig.Clone()\n\t\t\t\ttlsConfig.NextProtos = []string{\"http/1.1\"}\n\t\t\t}\n"
  },
  {
    "id" : "6396b5fe-d0d4-4933-bcba-11b1ca027843",
    "prId" : 88781,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88781#pullrequestreview-370073591",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8eab34e1-b01d-408b-8409-c5c9b7423261",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "What does \"Connection: Upgrade\" mean? Is it a term?",
        "createdAt" : "2020-03-05T22:22:38Z",
        "updatedAt" : "2020-03-06T00:31:36Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      },
      {
        "id" : "127611f9-ab47-4959-bbff-42a03ada53d1",
        "parentId" : "8eab34e1-b01d-408b-8409-c5c9b7423261",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "https://tools.ietf.org/html/rfc7230#section-6.7\r\n\r\nWe upgrade http requests to websocket or spdy for streaming request like exec and logs. The headers communicates that you are switching protocols from http1/1 to X so when the upgrade is complete you can send whatever over it like it's just a tcp connection. Sending an upgrade request over http/2 is a connection error because underlying tcp connections are shared between requests. We can eventually migrate off of http1/1 altogether but we are waiting for go support to land. https://github.com/golang/go/issues/27244#issuecomment-489469332",
        "createdAt" : "2020-03-06T00:04:10Z",
        "updatedAt" : "2020-03-06T00:31:36Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "068a77bb-11c2-4c46-8d5b-3d1163dfe822",
        "parentId" : "8eab34e1-b01d-408b-8409-c5c9b7423261",
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "Thanks. It's an http header. \r\nnit: should be \"Connection: upgrade\" according to the RFC.",
        "createdAt" : "2020-03-06T04:16:44Z",
        "updatedAt" : "2020-03-06T04:16:44Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "eb9cf777dce227c518057f70c49dece6bf774075",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +88,92 @@\t\t\t}\n\n\t\t\t// Since this method is primary used within a \"Connection: Upgrade\" call we assume the caller is\n\t\t\t// going to write HTTP/1.1 request to the wire. http2 should not be allowed in the TLSConfig.NextProtos,\n\t\t\t// so we explicitly set that here. We only do this check if the TLSConfig support http/1.1."
  }
]