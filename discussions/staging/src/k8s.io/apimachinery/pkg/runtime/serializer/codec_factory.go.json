[
  {
    "id" : "47131f1f-fc57-477f-87f2-9568e8e68971",
    "prId" : 76805,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76805#pullrequestreview-229696557",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "37795ac5-2eaf-4b74-b852-b5f8d31134ae",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "should we add similar comment/details as in SerializerOptions, that Pretty is only for JSON encoding and Strict is only for decoding?\r\n",
        "createdAt" : "2019-04-19T10:35:15Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "18522d00-4226-419d-871c-c933e7d1d02a",
        "parentId" : "37795ac5-2eaf-4b74-b852-b5f8d31134ae",
        "authorId" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "body" : "I'm not sure.\r\nMaintaining these docs is tougher if the behavior of `SerializerOptions` changes.\r\n\r\nI'm fine to add more detail here -- it's good for library users.\r\nLet me know what you think.",
        "createdAt" : "2019-04-19T17:44:39Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "tags" : [
        ]
      },
      {
        "id" : "4a187def-3185-49e8-add0-917cf8f7ade9",
        "parentId" : "37795ac5-2eaf-4b74-b852-b5f8d31134ae",
        "authorId" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "body" : "I could add a note that refers to the SerializerOptions godoc?",
        "createdAt" : "2019-04-19T17:45:10Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "tags" : [
        ]
      },
      {
        "id" : "29251d89-fd37-4627-a92a-b09a0444f4c4",
        "parentId" : "37795ac5-2eaf-4b74-b852-b5f8d31134ae",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "i'm leaning towards adding the notes, but let's see what the others think.\r\n",
        "createdAt" : "2019-04-19T17:49:14Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "e9494068-424c-43a4-b008-1b725b6d059e",
        "parentId" : "37795ac5-2eaf-4b74-b852-b5f8d31134ae",
        "authorId" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "body" : "Personally, I'd prefer the details here. I had to trace through the code to see why `CodecFactoryOptions` ignored the value for field `Pretty` for the yamlSerializer in `newSerializersForScheme`.",
        "createdAt" : "2019-04-23T17:39:22Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "9552658a10053a622650cb38d7d1a47d0ff1441d",
    "line" : 82,
    "diffHunk" : "@@ -1,1 +122,126 @@\tStrict bool\n\t// Pretty includes a pretty serializer along with the non-pretty one\n\tPretty bool\n}\n"
  },
  {
    "id" : "f2c8869e-051f-4a2d-8218-c7c5f731ad90",
    "prId" : 76805,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76805#pullrequestreview-228868752",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9144b6ad-6c37-4529-a773-9e8fa1d4b083",
        "parentId" : null,
        "authorId" : "05637862-b60e-403e-8519-09d1b3f0c9c2",
        "body" : "must we construct `jsonPrettySerializer` , rather than decided by `options.Pretty`?",
        "createdAt" : "2019-04-19T10:54:29Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "05637862-b60e-403e-8519-09d1b3f0c9c2",
        "tags" : [
        ]
      },
      {
        "id" : "576d1ac0-a7a7-4c91-974f-8bda2ea1d889",
        "parentId" : "9144b6ad-6c37-4529-a773-9e8fa1d4b083",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "i think @stewart-yu is correct.",
        "createdAt" : "2019-04-19T11:01:01Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "3bb912ab-70be-44c9-b1b8-77ee57dc2973",
        "parentId" : "9144b6ad-6c37-4529-a773-9e8fa1d4b083",
        "authorId" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "body" : "The YAML one just leaves it defaulted.\r\nThis is the first thing I think to do to make `Pretty` optional.\r\n\r\nWe need to look at how the `serializerType`'s are used `newCodecFactory` though. Some logic might be missing here.",
        "createdAt" : "2019-04-19T17:40:33Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "tags" : [
        ]
      },
      {
        "id" : "37979165-79c0-4c59-be27-1202fbbaf7f7",
        "parentId" : "9144b6ad-6c37-4529-a773-9e8fa1d4b083",
        "authorId" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "body" : "@stewart-yu are you saying `jsonSerializerType.PrettySerializer` is always required even when `Pretty: false` ?",
        "createdAt" : "2019-04-19T17:42:01Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "tags" : [
        ]
      },
      {
        "id" : "32ea92da-6691-4407-ad1d-0a08e513fb6c",
        "parentId" : "9144b6ad-6c37-4529-a773-9e8fa1d4b083",
        "authorId" : "05637862-b60e-403e-8519-09d1b3f0c9c2",
        "body" : "yes",
        "createdAt" : "2019-04-20T06:42:31Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "05637862-b60e-403e-8519-09d1b3f0c9c2",
        "tags" : [
        ]
      }
    ],
    "commit" : "9552658a10053a622650cb38d7d1a47d0ff1441d",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +64,68 @@\t\tStreamSerializer: jsonSerializer,\n\t}\n\tif options.Pretty {\n\t\tjsonSerializerType.PrettySerializer = json.NewSerializerWithOptions(\n\t\t\tmf, scheme, scheme,"
  },
  {
    "id" : "e4e18eb5-d89a-49d4-bc7a-1ea26e395296",
    "prId" : 76805,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76805#pullrequestreview-239113929",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bd20415c-a66a-4dd0-a252-f7c14f5dcbd5",
        "parentId" : null,
        "authorId" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "body" : "Is it better to omit the pretty field here since it no-opts (according to `SerializerOptions` documentation)?",
        "createdAt" : "2019-04-23T17:38:04Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "tags" : [
        ]
      },
      {
        "id" : "2a794264-d19b-49b2-9299-00fcf2e5b64d",
        "parentId" : "bd20415c-a66a-4dd0-a252-f7c14f5dcbd5",
        "authorId" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "body" : "My thinking here was that Pretty would be set to `false` to imply that it doesn't matter for YAML.\r\nThis is the trouble with implementing a single Options struct in Serializer... adding more doesn't sound better though.\r\n\r\nI'm fine with omitting this if you think it's more appropriate.",
        "createdAt" : "2019-05-17T20:07:46Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "tags" : [
        ]
      },
      {
        "id" : "fb563042-0d81-423d-be0c-cd207ec6a93e",
        "parentId" : "bd20415c-a66a-4dd0-a252-f7c14f5dcbd5",
        "authorId" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "body" : "Also, @luxas suggests that we use option mutator funcs for `NewSerializer`, but the signature change will require a code refactor, so I'm not sure if it's worth doing.\r\n\r\nI'm adding a patch to this PR to try out the mutator funcs for `NewCodecFactory` since the current signature does not have any options.",
        "createdAt" : "2019-05-17T20:10:07Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "tags" : [
        ]
      }
    ],
    "commit" : "9552658a10053a622650cb38d7d1a47d0ff1441d",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +73,77 @@\tyamlSerializer := json.NewSerializerWithOptions(\n\t\tmf, scheme, scheme,\n\t\tjson.SerializerOptions{Yaml: true, Pretty: false, Strict: options.Strict},\n\t)\n\tprotoSerializer := protobuf.NewSerializer(scheme, scheme)"
  },
  {
    "id" : "1f84b3d1-5a2a-4eba-bce3-c3766d26dfe0",
    "prId" : 76805,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/76805#pullrequestreview-268591060",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2cf4d92b-42fa-4aae-8186-dc95fbb2f13f",
        "parentId" : null,
        "authorId" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "body" : "Instead of doing it this way, please keep the list, and just use the same variables like before, that you create conditionally",
        "createdAt" : "2019-05-21T13:38:46Z",
        "updatedAt" : "2019-07-30T18:36:31Z",
        "lastEditedBy" : "bfe6ebf1-cfa7-4758-abb1-9960fa09b194",
        "tags" : [
        ]
      },
      {
        "id" : "5ffc0b9c-3c40-4b8a-9e05-db945150e106",
        "parentId" : "2cf4d92b-42fa-4aae-8186-dc95fbb2f13f",
        "authorId" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "body" : "reduced this :heavy_check_mark: ",
        "createdAt" : "2019-07-30T18:38:36Z",
        "updatedAt" : "2019-07-30T18:38:36Z",
        "lastEditedBy" : "bf66f693-b705-46d8-a378-3750b55f033c",
        "tags" : [
        ]
      }
    ],
    "commit" : "9552658a10053a622650cb38d7d1a47d0ff1441d",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +50,54 @@\nfunc newSerializersForScheme(scheme *runtime.Scheme, mf json.MetaFactory, options CodecFactoryOptions) []serializerType {\n\tjsonSerializer := json.NewSerializerWithOptions(\n\t\tmf, scheme, scheme,\n\t\tjson.SerializerOptions{Yaml: false, Pretty: false, Strict: options.Strict},"
  }
]