[
  {
    "id" : "b03272cb-33be-4acf-8b6a-8dd1a8858eb6",
    "prId" : 85077,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/85077#pullrequestreview-316599064",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "95222d75-143d-475c-91b5-7e0ca75dc173",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "is there a test demonstrating what bug this change is fixing?",
        "createdAt" : "2019-11-13T13:25:11Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "8d522768-f384-4ff8-82ad-b9e1e55accc6",
        "parentId" : "95222d75-143d-475c-91b5-7e0ca75dc173",
        "authorId" : "ffdbc0a5-19fd-4509-a56e-a4979ac0c1d7",
        "body" : "I'm confused now about TestConvertSliceStringToDeletionPropagation is ok, but TestAppsGroupBackwardCompatibility throw a nil pointer panic\r\n```\r\nI1113 12:05:12.864854  107721 panic.go:679] DELETE /apis/apps/v1/namespaces/default/deployments/test-deployment2?propagationPolicy=Orphan: (463.225Âµs) 0 [Go-http-client/1.1 127.0.0.1:44308]\r\nE1113 12:05:12.865064  107721 runtime.go:76] Observed a panic: runtime error: invalid memory address or nil pointer dereference\r\ngoroutine 174233 [running]:\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/filters.(*timeoutHandler).ServeHTTP.func1.1(0xc13aecac60)\r\n\t/home/prow/go/src/k8s.io/kubernetes/_output/local/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/filters/timeout.go:108 +0x107\r\npanic(0x3cae260, 0x753b9d0)\r\n\t/usr/local/go/src/runtime/panic.go:679 +0x1b2\r\nk8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/apis/meta/v1.Convert_Slice_string_To_Pointer_v1_DeletionPropagation(...)\r\n\t/home/prow/go/src/k8s.io/kubernetes/_output/local/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/apis/meta/v1/conversion.go:360\r\nk8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/apis/meta/v1.autoConvert_url_Values_To_v1_DeleteOptions(0xc018adab48, 0xc10906b080, 0x50550e0, 0xc147596ff0, 0x43a55a0, 0x43a55a0)\r\n\t/home/prow/go/src/k8s.io/kubernetes/_output/local/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/apis/meta/v1/zz_generated.conversion.go:323 +0x183\r\n```\r\nstill trying to fix it.",
        "createdAt" : "2019-11-13T13:34:34Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "ffdbc0a5-19fd-4509-a56e-a4979ac0c1d7",
        "tags" : [
        ]
      },
      {
        "id" : "4794666f-abfb-4aa5-ab94-2358a6a27037",
        "parentId" : "95222d75-143d-475c-91b5-7e0ca75dc173",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "propagationPolicy was properly parsed from URLs before...  can you describe what led you to change this method?",
        "createdAt" : "2019-11-13T13:48:59Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "491b0f2b-05ed-46d1-ae49-2a99e505a2bc",
        "parentId" : "95222d75-143d-475c-91b5-7e0ca75dc173",
        "authorId" : "ffdbc0a5-19fd-4509-a56e-a4979ac0c1d7",
        "body" : "original method won't auto generate  Convert_Slice_string_To_v1_DeletionPropagation in autoConvert_url_Values_To_v1_DeleteOptions method, and DeleteOptions has a member of *DeletionPropagation rather than DeletionPropagation",
        "createdAt" : "2019-11-13T14:05:08Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "ffdbc0a5-19fd-4509-a56e-a4979ac0c1d7",
        "tags" : [
        ]
      },
      {
        "id" : "c5fbecca-8728-4ae4-b2f5-5c5c51635f8a",
        "parentId" : "95222d75-143d-475c-91b5-7e0ca75dc173",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "PropagationPolicy is of type `*DeletionPropagation` - that change actually seems to be a valid one.\r\n\r\nThat said the way how it works seems incorrect to me - it should look more like:\r\n`Convert_Slice_string_To_Pointer_v1_Time`:\r\nhttps://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/apimachinery/pkg/apis/meta/v1/conversion.go#L267",
        "createdAt" : "2019-11-13T14:06:02Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "b604db0a-e433-43ac-80eb-c3894b2bfe25",
        "parentId" : "95222d75-143d-475c-91b5-7e0ca75dc173",
        "authorId" : "ffdbc0a5-19fd-4509-a56e-a4979ac0c1d7",
        "body" : "While I prefer DeletionPropagation as PropagationPolicy ",
        "createdAt" : "2019-11-13T15:46:01Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "ffdbc0a5-19fd-4509-a56e-a4979ac0c1d7",
        "tags" : [
        ]
      },
      {
        "id" : "a92ba4a5-4dee-452e-8fb7-0c3c5e61fbdb",
        "parentId" : "95222d75-143d-475c-91b5-7e0ca75dc173",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "verified both master and this PR populate the value correctly when parsed from URL",
        "createdAt" : "2019-11-13T22:22:59Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "aaa63d75327e49b986d0d02ad162f9c4d9f018ec",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +356,360 @@\n// Convert_Slice_string_To_Pointer_v1_DeletionPropagation allows converting a URL query parameter propagationPolicy\nfunc Convert_Slice_string_To_Pointer_v1_DeletionPropagation(in *[]string, out **DeletionPropagation, s conversion.Scope) error {\n\tvar str string\n\tif len(*in) > 0 {"
  },
  {
    "id" : "9494da72-4821-4a59-bf0f-5a0e33f9db3f",
    "prId" : 85077,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/85077#pullrequestreview-316604787",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e3842ac6-8d1b-4aed-9dfb-acdf278f3cab",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "This looks fine to me, though I would like to get explicit ACK from Jordan that this is how we would like to handle [in!=nil && len(in) = 0]",
        "createdAt" : "2019-11-13T15:15:49Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "a484bfda-f790-4613-b081-4a599c1673a5",
        "parentId" : "e3842ac6-8d1b-4aed-9dfb-acdf278f3cab",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "In practice, this method is only called with non-nil, non-zero-length slices, but we should remain consistent with previous behavior, so keep the `} else { ... = \"\" }` block.\r\n\r\nOn both master and the current state of this branch, query parameters have the following behavior:\r\n* `?` -> nil\r\n* `?propagationPolicy` -> &\"\"\r\n* `?propagationPolicy=` -> &\"\"\r\n* `?propagationPolicy=foo` -> &\"foo\"\r\n* `?propagationPolicy=Orphan` -> &\"Orphan\"",
        "createdAt" : "2019-11-13T22:34:33Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "aaa63d75327e49b986d0d02ad162f9c4d9f018ec",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +359,363 @@\tvar str string\n\tif len(*in) > 0 {\n\t\tstr = (*in)[0]\n\t} else {\n\t\tstr = \"\""
  },
  {
    "id" : "836f4022-cdfc-4df6-bc9f-5b0e8605feb6",
    "prId" : 85077,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/85077#pullrequestreview-316671930",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "832eb443-52db-4901-8cc4-688b3b27e070",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "restore the else block that sets the out value to an empty string",
        "createdAt" : "2019-11-13T22:44:06Z",
        "updatedAt" : "2019-11-14T01:57:18Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "1698c72a-fcb4-463c-bf1a-d64ab52800f4",
        "parentId" : "832eb443-52db-4901-8cc4-688b3b27e070",
        "authorId" : "ffdbc0a5-19fd-4509-a56e-a4979ac0c1d7",
        "body" : "addressed",
        "createdAt" : "2019-11-14T01:57:38Z",
        "updatedAt" : "2019-11-14T01:57:38Z",
        "lastEditedBy" : "ffdbc0a5-19fd-4509-a56e-a4979ac0c1d7",
        "tags" : [
        ]
      }
    ],
    "commit" : "aaa63d75327e49b986d0d02ad162f9c4d9f018ec",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +362,366 @@\t} else {\n\t\tstr = \"\"\n\t}\n\ttemp := DeletionPropagation(str)\n\t*out = &temp"
  },
  {
    "id" : "48d11fec-9b26-4b6e-9526-d571eceba0ad",
    "prId" : 82832,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/82832#pullrequestreview-289948956",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a33860dc-d0df-4249-bbb3-c6eb97152684",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "it's surprising/annoying we have to do this",
        "createdAt" : "2019-09-18T13:55:37Z",
        "updatedAt" : "2019-09-19T13:01:33Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "fcd1b5c6-0355-4c62-8885-c0455ea27b9e",
        "parentId" : "a33860dc-d0df-4249-bbb3-c6eb97152684",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "I agree - but apparently it's needed (we do the same above for ListMeta)",
        "createdAt" : "2019-09-18T14:10:08Z",
        "updatedAt" : "2019-09-19T13:01:33Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "f8bc44ac61dc0045de07f9f6d9a01f41b6f245d9",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +198,202 @@\n// +k8s:conversion-fn=copy-only\nfunc Convert_v1_DeleteOptions_To_v1_DeleteOptions(in, out *DeleteOptions, s conversion.Scope) error {\n\t*out = *in\n\treturn nil"
  },
  {
    "id" : "dd5962e2-83cb-477b-8229-503e1cdbdc4a",
    "prId" : 63414,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/63414#pullrequestreview-119186852",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "77cb830f-daa3-4887-83ae-b384376f6c83",
        "parentId" : null,
        "authorId" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "body" : "Don't you need to check if `*input` is `nil` first?",
        "createdAt" : "2018-05-10T14:03:32Z",
        "updatedAt" : "2018-05-10T14:03:32Z",
        "lastEditedBy" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "tags" : [
        ]
      },
      {
        "id" : "74371b6f-6847-4c9d-a413-7cd5ce33ad74",
        "parentId" : "77cb830f-daa3-4887-83ae-b384376f6c83",
        "authorId" : "695b6860-569c-4e63-a215-7342e2279a94",
        "body" : "We don't check if `*input` and `*output` are `nil` in conversion functions, e.g. https://github.com/kubernetes/kubernetes/blob/7e75a09db6dc13218b4f5e06493115ae96f83774/staging/src/k8s.io/apimachinery/pkg/runtime/conversion.go\r\nhttps://github.com/kubernetes/kubernetes/blob/7e75a09db6dc13218b4f5e06493115ae96f83774/staging/src/k8s.io/apimachinery/pkg/apis/meta/v1beta1/conversion.go\r\nI will take another look to see where is it enforced. ",
        "createdAt" : "2018-05-10T17:00:15Z",
        "updatedAt" : "2018-05-10T17:00:15Z",
        "lastEditedBy" : "695b6860-569c-4e63-a215-7342e2279a94",
        "tags" : [
        ]
      },
      {
        "id" : "263f35af-692c-44c1-aa11-3b0b251d78ec",
        "parentId" : "77cb830f-daa3-4887-83ae-b384376f6c83",
        "authorId" : "695b6860-569c-4e63-a215-7342e2279a94",
        "body" : "It's enforced by \r\nhttps://github.com/kubernetes/kubernetes/blob/bed45311315f63f7b0ddce756559920c0139273e/staging/src/k8s.io/apimachinery/pkg/conversion/converter.go#L497\r\nthrough\r\nhttps://github.com/kubernetes/kubernetes/blob/bed45311315f63f7b0ddce756559920c0139273e/staging/src/k8s.io/apimachinery/pkg/conversion/helper.go#L27-L39",
        "createdAt" : "2018-05-10T18:02:33Z",
        "updatedAt" : "2018-05-10T18:02:33Z",
        "lastEditedBy" : "695b6860-569c-4e63-a215-7342e2279a94",
        "tags" : [
        ]
      },
      {
        "id" : "e74614f1-6dd5-460f-ab17-2fc6488376c3",
        "parentId" : "77cb830f-daa3-4887-83ae-b384376f6c83",
        "authorId" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "body" : "Ok thanks ð ",
        "createdAt" : "2018-05-10T18:04:24Z",
        "updatedAt" : "2018-05-10T18:04:25Z",
        "lastEditedBy" : "b15d5707-82a8-4448-b49d-a2d6502b10f9",
        "tags" : [
        ]
      }
    ],
    "commit" : "294e00c66908d6979766aead408ce6d880061035",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +310,314 @@// Convert_Slice_string_To_v1_DeletionPropagation allows converting a URL query parameter propagationPolicy\nfunc Convert_Slice_string_To_v1_DeletionPropagation(input *[]string, out *DeletionPropagation, s conversion.Scope) error {\n\tif len(*input) > 0 {\n\t\t*out = DeletionPropagation((*input)[0])\n\t} else {"
  }
]