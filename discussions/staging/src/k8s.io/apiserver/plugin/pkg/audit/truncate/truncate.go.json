[
  {
    "id" : "5a920e26-6fbe-4977-9ea7-b3c5960b55ff",
    "prId" : 65823,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/65823#pullrequestreview-134540395",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f91fdd68-20ce-4294-9788-939a8ea1880e",
        "parentId" : null,
        "authorId" : "b41ac763-2378-4c8a-a9bf-7a3dd4082826",
        "body" : "Should also call b.delegateBackend.Shutdown() here.",
        "createdAt" : "2018-07-05T02:42:41Z",
        "updatedAt" : "2018-07-09T08:26:23Z",
        "lastEditedBy" : "b41ac763-2378-4c8a-a9bf-7a3dd4082826",
        "tags" : [
        ]
      },
      {
        "id" : "6f163440-f13a-435c-bf9b-a53efeb040da",
        "parentId" : "f91fdd68-20ce-4294-9788-939a8ea1880e",
        "authorId" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "body" : "Done.",
        "createdAt" : "2018-07-05T07:55:59Z",
        "updatedAt" : "2018-07-09T08:26:23Z",
        "lastEditedBy" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "tags" : [
        ]
      }
    ],
    "commit" : "20fb0b5eb180fb4cb9be18ab3fc8cd259c7f7bf0",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +133,137 @@}\n\nfunc (b *backend) Shutdown() {\n\tb.delegateBackend.Shutdown()\n}"
  },
  {
    "id" : "250e3850-2060-4899-9e86-b06ebe81b5ee",
    "prId" : 65823,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/65823#pullrequestreview-134957265",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9deb42f1-febe-43da-b2ab-a82d56bb2ca2",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "can we add that to the (not existing) godoc? Either here or above for the constructor at least: It runs and shuts down the delegate.",
        "createdAt" : "2018-07-06T09:44:12Z",
        "updatedAt" : "2018-07-09T08:26:23Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "efc185bd-1532-40d5-95fc-69b3b9d056cd",
        "parentId" : "9deb42f1-febe-43da-b2ab-a82d56bb2ca2",
        "authorId" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "body" : "I have added comment both to the truncate and buffered backends.",
        "createdAt" : "2018-07-06T10:02:25Z",
        "updatedAt" : "2018-07-09T08:26:23Z",
        "lastEditedBy" : "5b1d97bd-de49-4ef5-bcbf-0d8dfead7b61",
        "tags" : [
        ]
      }
    ],
    "commit" : "20fb0b5eb180fb4cb9be18ab3fc8cd259c7f7bf0",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +130,134 @@\nfunc (b *backend) Run(stopCh <-chan struct{}) error {\n\treturn b.delegateBackend.Run(stopCh)\n}\n"
  },
  {
    "id" : "3bbc5ea5-4600-473c-809c-4aaac8d27c89",
    "prId" : 61711,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/61711#pullrequestreview-108331888",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "33161c22-3e45-4e45-95b9-b568e1a1737b",
        "parentId" : null,
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "`HandlePluginError` writes the event to the debug log. I'm worried this could be problematic for very large events. OTOH, this error \"shouldn't happen\" so that could be useful debugging information...",
        "createdAt" : "2018-03-28T16:50:47Z",
        "updatedAt" : "2018-04-10T17:17:18Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      },
      {
        "id" : "3f178851-2eda-4f14-b1fe-eadebdfda4bb",
        "parentId" : "33161c22-3e45-4e45-95b9-b568e1a1737b",
        "authorId" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "body" : "> OTOH, this error \"shouldn't happen\" so that could be useful debugging information...\r\n\r\nMy point. Also, `HandlePluginError` doesn't write request body: https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/apiserver/pkg/audit/format.go#L30",
        "createdAt" : "2018-03-30T13:31:23Z",
        "updatedAt" : "2018-04-10T17:17:19Z",
        "lastEditedBy" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "tags" : [
        ]
      }
    ],
    "commit" : "52fae991305e3252ccc5c9c86a9b7abc04c149af",
    "line" : 94,
    "diffHunk" : "@@ -1,1 +92,96 @@\t\tif size > b.c.MaxEventSize {\n\t\t\terrors = append(errors, fmt.Errorf(\"event is too large even after truncating\"))\n\t\t\timpacted = append(impacted, event)\n\t\t\tcontinue\n\t\t}"
  },
  {
    "id" : "509e9b26-a6e2-4e6e-8a61-92293678f431",
    "prId" : 61711,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/61711#pullrequestreview-111060276",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f80882ea-42d1-4ce3-b4ab-ae333a4b81a9",
        "parentId" : null,
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "This can be a follow-up, but I think it might be a good idea to instrument this, along with the resource type + verb. That way, if we see that a specific request is frequently being truncated, we can consider adjusting the policy for that request type.",
        "createdAt" : "2018-04-07T01:03:13Z",
        "updatedAt" : "2018-04-10T17:17:19Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      },
      {
        "id" : "7f599541-159b-4d43-a3d3-7aee078da24f",
        "parentId" : "f80882ea-42d1-4ce3-b4ab-ae333a4b81a9",
        "authorId" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "body" : "Could you please create an issue?",
        "createdAt" : "2018-04-10T17:17:20Z",
        "updatedAt" : "2018-04-10T17:17:41Z",
        "lastEditedBy" : "fb41b733-ba12-42d8-b026-942db6e3696f",
        "tags" : [
        ]
      },
      {
        "id" : "d9213baf-ef7b-4b01-81c8-de3836d4eefa",
        "parentId" : "f80882ea-42d1-4ce3-b4ab-ae333a4b81a9",
        "authorId" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "body" : "https://github.com/kubernetes/kubernetes/issues/62363",
        "createdAt" : "2018-04-11T01:08:36Z",
        "updatedAt" : "2018-04-11T01:08:36Z",
        "lastEditedBy" : "9f030d50-62db-4b00-a28c-847709b74d97",
        "tags" : [
        ]
      }
    ],
    "commit" : "52fae991305e3252ccc5c9c86a9b7abc04c149af",
    "line" : 83,
    "diffHunk" : "@@ -1,1 +81,85 @@\t\t// and it makes sense to do trimming, i.e. there's a request and/or\n\t\t// response present, try to strip away request and response.\n\t\tif err == nil && size > b.c.MaxEventSize && event.Level.GreaterOrEqual(auditinternal.LevelRequest) {\n\t\t\tevent = truncate(event)\n\t\t\tsize, err = b.calcSize(event)"
  }
]