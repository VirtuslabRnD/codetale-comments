[
  {
    "id" : "11661664-11f8-4a06-bad4-8ec5efa55cf5",
    "prId" : 65039,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/65039#pullrequestreview-129301395",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "af2395be-d3b7-4eed-a2db-013173aebce1",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "nit: s/workflowId/workflowID/ next time you touch this file.",
        "createdAt" : "2018-06-15T20:07:23Z",
        "updatedAt" : "2018-06-15T20:07:24Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "ac18c09f7d91978eb83dfd660f50086fdbcffab7",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +169,173 @@\t}\n\n\tif err := p.saveNewIntent(newIntent, workflowId, objToCreate); err != nil {\n\t\treturn nil, fmt.Errorf(\"failed to save last intent: %v\", err)\n\t}"
  },
  {
    "id" : "4a6dbc8f-e23b-4e91-9221-ab31b8db1d3d",
    "prId" : 64893,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64893#pullrequestreview-126998726",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7bdee603-eb28-4c0a-933e-54e26187637e",
        "parentId" : null,
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "@lavalamp I fixed this, let me know if it's not OK. Otherwise, feel free to merge :-)",
        "createdAt" : "2018-06-08T00:19:35Z",
        "updatedAt" : "2018-06-11T16:45:36Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      }
    ],
    "commit" : "4bae4d65b745e5ede3bb723660e1b49bbf468721",
    "line" : 93,
    "diffHunk" : "@@ -1,1 +91,95 @@}\n\nfunc (p *applyPatcher) saveNewIntent(workflow string, dst runtime.Object) error {\n\t// We want to consistently save the intent in JSon.\n\tjson, err := yaml.YAMLToJSON(p.patchBytes)"
  },
  {
    "id" : "1f9e6e4c-7722-4230-b7df-3a1cd902001f",
    "prId" : 64893,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64893#pullrequestreview-127652931",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "560e9d48-3636-47a3-b934-de222fff36e1",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "This (i.e., modifying a map that's embedded in an object) is safe only because we know we just constructed this object. Maybe worth a note to the reader (in a follow up)?",
        "createdAt" : "2018-06-11T16:53:58Z",
        "updatedAt" : "2018-06-11T16:53:58Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "4aa367d5-909a-4a00-8846-80510e7728b8",
        "parentId" : "560e9d48-3636-47a3-b934-de222fff36e1",
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "I can change now.",
        "createdAt" : "2018-06-11T16:54:43Z",
        "updatedAt" : "2018-06-11T16:54:43Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      }
    ],
    "commit" : "4bae4d65b745e5ede3bb723660e1b49bbf468721",
    "line" : 103,
    "diffHunk" : "@@ -1,1 +101,105 @@\t\treturn fmt.Errorf(\"couldn't get accessor: %v\", err)\n\t}\n\tm := accessor.GetLastApplied()\n\tif m == nil {\n\t\tm = make(map[string]string)"
  },
  {
    "id" : "3cc5013d-531c-41ec-a085-f7a12aaeff5e",
    "prId" : 64893,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64893#pullrequestreview-127655413",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "71eaf08d-69bf-460c-a3e9-607d387d3907",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "TODO: we need to make sure that type information is included in the string. E.g. in at least some paths in our API, it'll assume that if you send an object to deployments/v1, it's a v1 deployment even if you omit the type meta. But we need to verify that type meta is set correctly before storing, or we'll lose context when we read it later.",
        "createdAt" : "2018-06-11T17:01:41Z",
        "updatedAt" : "2018-06-11T17:01:41Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "4bae4d65b745e5ede3bb723660e1b49bbf468721",
    "line" : 107,
    "diffHunk" : "@@ -1,1 +105,109 @@\t\tm = make(map[string]string)\n\t}\n\tm[workflow] = string(json)\n\taccessor.SetLastApplied(m)\n\treturn nil"
  },
  {
    "id" : "5abc3565-8030-40eb-9413-6014971fd42b",
    "prId" : 64892,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64892#pullrequestreview-128153729",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b51cd75a-ba09-4a0d-a208-c31036495369",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Should this be defaulted?",
        "createdAt" : "2018-06-12T21:14:13Z",
        "updatedAt" : "2018-06-12T22:20:09Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "ed83d46d-2384-45ad-a299-9f3f76f9c4b0",
        "parentId" : "b51cd75a-ba09-4a0d-a208-c31036495369",
        "authorId" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "body" : "I think the defaulting is working. The integration test creates a pod which has only containers field populated but many of the other fields are required and get defaulted.",
        "createdAt" : "2018-06-12T21:21:07Z",
        "updatedAt" : "2018-06-12T22:20:09Z",
        "lastEditedBy" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3c7b21a15034f6fe98c5871e42b1466e4d81a7c",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +156,160 @@\tif err != nil {\n\t\treturn nil, transformDecodeError(p.typer, err, original, gvk, p.patchBytes)\n\t}\n\tif gvk.GroupVersion() != p.kind.GroupVersion() {\n\t\treturn nil, errors.NewBadRequest(fmt.Sprintf(\"the API version in the data (%s) does not match the expected API version (%v)\", gvk.GroupVersion().String(), p.kind.GroupVersion().String()))"
  },
  {
    "id" : "920ed298-1256-4377-b1ca-daa4f3505ce4",
    "prId" : 64892,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/64892#pullrequestreview-128154793",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9eeb2dac-a22b-47f9-be6d-522d23178a03",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Shouldn't decode have failed if this was the wrong type?",
        "createdAt" : "2018-06-12T21:14:51Z",
        "updatedAt" : "2018-06-12T22:20:09Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "107dbbca-1822-4886-9c18-11626c903efe",
        "parentId" : "9eeb2dac-a22b-47f9-be6d-522d23178a03",
        "authorId" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "body" : "That may be true but this is how the create handler does it, https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/apiserver/pkg/endpoints/handlers/create.go#L86-L96",
        "createdAt" : "2018-06-12T21:24:22Z",
        "updatedAt" : "2018-06-12T22:20:09Z",
        "lastEditedBy" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "tags" : [
        ]
      }
    ],
    "commit" : "e3c7b21a15034f6fe98c5871e42b1466e4d81a7c",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +157,161 @@\t\treturn nil, transformDecodeError(p.typer, err, original, gvk, p.patchBytes)\n\t}\n\tif gvk.GroupVersion() != p.kind.GroupVersion() {\n\t\treturn nil, errors.NewBadRequest(fmt.Sprintf(\"the API version in the data (%s) does not match the expected API version (%v)\", gvk.GroupVersion().String(), p.kind.GroupVersion().String()))\n\t}"
  }
]