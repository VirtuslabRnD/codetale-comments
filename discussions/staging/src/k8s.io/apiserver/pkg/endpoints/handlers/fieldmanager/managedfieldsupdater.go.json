[
  {
    "id" : "af39e438-a1fc-4174-a848-220467f002e3",
    "prId" : 88875,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88875#pullrequestreview-370569333",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2e6b7754-fb62-490b-8524-63ad97f5b61e",
        "parentId" : null,
        "authorId" : "f40287b7-c508-4d95-b3ad-07d0de320962",
        "body" : "This isn't really related to the bug, but ideally could `Update` use the same method as `Apply` to check for previous + new managed field equality? i.e. `managed.Fields().Equals(formerManaged)`\r\n",
        "createdAt" : "2020-03-05T23:15:36Z",
        "updatedAt" : "2020-03-05T23:25:19Z",
        "lastEditedBy" : "f40287b7-c508-4d95-b3ad-07d0de320962",
        "tags" : [
        ]
      },
      {
        "id" : "b19603be-c66b-42e3-9dca-e8d45730b644",
        "parentId" : "2e6b7754-fb62-490b-8524-63ad97f5b61e",
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "That sounds possible to be honest, what do you think @jennybuckley ?",
        "createdAt" : "2020-03-05T23:24:35Z",
        "updatedAt" : "2020-03-05T23:25:19Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      },
      {
        "id" : "75c58063-5e46-4d2b-b0ec-74a51be7b527",
        "parentId" : "2e6b7754-fb62-490b-8524-63ad97f5b61e",
        "authorId" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "body" : "I think it's mostly equivalent, since \"self\" can never own any fields before the update, if any values were changed by the update, then self would own them.\r\n\r\nI think the only difference would be that, doing a `managed.Fields().Equals(formerManaged)` would mean we would also update the updater's timestamp if the updater removed something. Whereas the way we do it today that doesn't cause the timestamp to change",
        "createdAt" : "2020-03-06T00:11:18Z",
        "updatedAt" : "2020-03-06T00:11:19Z",
        "lastEditedBy" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "tags" : [
        ]
      },
      {
        "id" : "30bbb911-1b01-4534-afde-6b65978a9f83",
        "parentId" : "2e6b7754-fb62-490b-8524-63ad97f5b61e",
        "authorId" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "body" : "Not sure which is better",
        "createdAt" : "2020-03-06T00:11:32Z",
        "updatedAt" : "2020-03-06T00:11:32Z",
        "lastEditedBy" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "tags" : [
        ]
      },
      {
        "id" : "df9a205b-8397-4581-9823-00d36080b049",
        "parentId" : "2e6b7754-fb62-490b-8524-63ad97f5b61e",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Why wouldn't the timestamp update if something is removed? That sounds like it should happen?",
        "createdAt" : "2020-03-06T19:24:40Z",
        "updatedAt" : "2020-03-06T19:24:40Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "5231c6815c7b06248575892f3ec96c15c634d368",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +52,56 @@\t// If the current operation took any fields from anything, it means the object changed,\n\t// so update the timestamp of the managedFieldsEntry and merge with any previous updates from the same manager\n\tif vs, ok := managed.Fields()[self]; ok {\n\t\tdelete(managed.Fields(), self)\n"
  },
  {
    "id" : "e4f2fde6-e3be-490b-a1ec-846a34ea29fe",
    "prId" : 88875,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88875#pullrequestreview-463684992",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e5e9dabb-5de7-4a21-9223-a843c501a018",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Will this logic continue to work if we add e.g. a \"tombstone field\" marker (\"ensure this field doesn't exist even if I don't own it\")? ",
        "createdAt" : "2020-03-06T19:23:49Z",
        "updatedAt" : "2020-03-06T19:23:49Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "1ca2252c-b891-41fd-9b9d-ce8813117818",
        "parentId" : "e5e9dabb-5de7-4a21-9223-a843c501a018",
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "@jpbetz",
        "createdAt" : "2020-08-07T23:19:39Z",
        "updatedAt" : "2020-08-07T23:19:39Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      }
    ],
    "commit" : "5231c6815c7b06248575892f3ec96c15c634d368",
    "line" : 75,
    "diffHunk" : "@@ -1,1 +73,77 @@\t\treturn object, managed, err\n\t}\n\tif object != nil || !managed.Fields().Equals(formerManaged) {\n\t\tmanaged.Times()[fieldManager] = &metav1.Time{Time: time.Now().UTC()}\n\t}"
  }
]