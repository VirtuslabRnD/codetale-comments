[
  {
    "id" : "97a81d37-2d46-41b1-9fe6-0209da452788",
    "prId" : 84860,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/84860#pullrequestreview-313367040",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "91980e5f-16be-40ff-84ec-164c39da1cd3",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "@smarterclayton - can you please confirm that this is correct (all tests are passing, but I want to ensure that I didn't miss any nuance with it)",
        "createdAt" : "2019-11-06T13:09:53Z",
        "updatedAt" : "2019-11-06T13:09:54Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "ba057642-c109-4aff-a9a7-536b61d430d5",
        "parentId" : "91980e5f-16be-40ff-84ec-164c39da1cd3",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "Hrm.  I think it's correct.  I did this deliberately, and the set of tests should be sufficient.",
        "createdAt" : "2019-11-07T14:14:55Z",
        "updatedAt" : "2019-11-07T14:14:56Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "ccded1494116d6aa1ac3f4612b4a613b56a2044a",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +95,99 @@\tcase target.Kind == \"Table\" && (target.GroupVersion() == metav1beta1.SchemeGroupVersion || target.GroupVersion() == metav1.SchemeGroupVersion):\n\t\topts := &metav1beta1.TableOptions{}\n\t\tif err := metainternalversionscheme.ParameterCodec.DecodeParameters(req.URL.Query(), metav1beta1.SchemeGroupVersion, opts); err != nil {\n\t\t\treturn nil, err\n\t\t}"
  },
  {
    "id" : "fba50b16-d60c-4d40-84b3-e970ea3a1834",
    "prId" : 77448,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77448#pullrequestreview-235573432",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8910162a-9a48-4a33-b1ce-11691e4b7033",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "I'm surprised that we'd be still be passing v1beta1 options around?",
        "createdAt" : "2019-05-08T23:34:41Z",
        "updatedAt" : "2019-05-10T19:29:24Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "f8f02825-faf6-4547-a054-12253b7175d6",
        "parentId" : "8910162a-9a48-4a33-b1ce-11691e4b7033",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "they're aliased the same internally, as mentioned above I wanted to do a separate followup refactor that changes etcd / storage signature (ConvertToTable) globally, and didn't want it blocking the enablement.",
        "createdAt" : "2019-05-09T13:00:30Z",
        "updatedAt" : "2019-05-10T19:29:24Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "33a3e325f754d179b25558dee116fca1c67d353a",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +57,61 @@\n\tcase target.Kind == \"Table\":\n\t\toptions, ok := opts.(*metav1beta1.TableOptions)\n\t\tif !ok {\n\t\t\treturn nil, fmt.Errorf(\"unexpected TableOptions, got %T\", opts)"
  },
  {
    "id" : "d22999a4-c511-4d7e-8842-a148d2e56cbe",
    "prId" : 71542,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/71542#pullrequestreview-183426774",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e532b506-87d9-42ef-b0ac-1915b09f3063",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "Is this TODO still valid?",
        "createdAt" : "2018-12-10T22:17:46Z",
        "updatedAt" : "2018-12-10T22:27:32Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "63c49ba55a8da571522a9615dfa64471c5e9041e",
    "line" : 264,
    "diffHunk" : "@@ -1,1 +173,177 @@func asV1Beta1PartialObjectMetadata(result runtime.Object) (runtime.Object, error) {\n\tif meta.IsListType(result) {\n\t\t// TODO: this should be calculated earlier\n\t\terr := newNotAcceptableError(fmt.Sprintf(\"you requested PartialObjectMetadata, but the requested object is a list (%T)\", result))\n\t\treturn nil, err"
  },
  {
    "id" : "b7d0a60f-c697-4399-9fc9-3e8706859778",
    "prId" : 71542,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/71542#pullrequestreview-183426774",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5dc5be52-d02a-4a15-ab37-442180c8e980",
        "parentId" : null,
        "authorId" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "body" : "`updateScopeForTransform` in #71548 is cleaner than `writeMetaInternalVersion`. It's ok as long as we don't get stuck in this intermediate state.",
        "createdAt" : "2018-12-10T22:24:00Z",
        "updatedAt" : "2018-12-10T22:27:32Z",
        "lastEditedBy" : "ca7e5a52-cab7-4f09-8ff8-da79f43339d4",
        "tags" : [
        ]
      }
    ],
    "commit" : "63c49ba55a8da571522a9615dfa64471c5e9041e",
    "line" : 111,
    "diffHunk" : "@@ -1,1 +64,68 @@\t\t}\n\n\t\tif err := writeMetaInternalVersion(partial, statusCode, w, req, &scope, target.GroupVersion()); err != nil {\n\t\t\tscope.err(err, w, req)\n\t\t\treturn"
  },
  {
    "id" : "182a3d8f-7b91-4899-a965-dd1129cae9bd",
    "prId" : 69756,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/69756#pullrequestreview-169174336",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99c9d004-9066-46e2-8a45-91b6ece1a1a6",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "I think this one won't provide much value - negotiation is really fast.",
        "createdAt" : "2018-10-16T08:30:00Z",
        "updatedAt" : "2018-10-29T07:38:05Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "343521f0-8556-438e-a8d6-925b1ffccd1f",
        "parentId" : "99c9d004-9066-46e2-8a45-91b6ece1a1a6",
        "authorId" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "body" : "Granted but I suspect that some of the time the problem is actually writing the response to the requester. As such I would like a tight bracket around the \"responsewriters.WriteRawJSON(int(status.Code), status, w)\" call.  ",
        "createdAt" : "2018-10-16T20:57:08Z",
        "updatedAt" : "2018-10-29T07:38:05Z",
        "lastEditedBy" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "tags" : [
        ]
      },
      {
        "id" : "17984224-ed76-46f3-9ca5-6bbcf20281ce",
        "parentId" : "99c9d004-9066-46e2-8a45-91b6ece1a1a6",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Yes - writing response is many times dominating factor - I completely agree that.\r\n\r\nI completely wasn't clear what I wanted to say - sorry for that.\r\nMy point was that - the time between \"negotiating output media type\" and this step should be negligible.\r\n\r\nSo given that your point is completely correct, I think what I wanted to say is to:\r\n- leave this one (to see whether we spent time here)\r\n- but remove the \"negotiating output media type\" step (since different between this one and that should be negligible).\r\n\r\nDoes it make sense now?",
        "createdAt" : "2018-10-17T08:00:01Z",
        "updatedAt" : "2018-10-29T07:38:05Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "fca47809-542e-4411-91d0-bcc419194d29",
        "parentId" : "99c9d004-9066-46e2-8a45-91b6ece1a1a6",
        "authorId" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "body" : "Done",
        "createdAt" : "2018-10-29T07:33:34Z",
        "updatedAt" : "2018-10-29T07:38:05Z",
        "lastEditedBy" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "tags" : [
        ]
      }
    ],
    "commit" : "99ebe8747176a10c718d5e3276c64d8c507bfb3b",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +40,44 @@\tif err != nil {\n\t\tstatus := responsewriters.ErrorToAPIStatus(err)\n\t\ttrace.Step(\"Writing raw JSON response\")\n\t\tresponsewriters.WriteRawJSON(int(status.Code), status, w)\n\t\treturn"
  },
  {
    "id" : "4162463f-a1d6-4cf6-afe2-5e5dc51fc905",
    "prId" : 69756,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/69756#pullrequestreview-169174433",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "31423425-09c6-4747-aa94-295f65de4580",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "I'm 99,9% sure that all the time will spent after this.\r\n\r\nSo TBH, I would skip the previous steps (as tracing itself has some overhead) and leave just this one...",
        "createdAt" : "2018-10-16T08:33:20Z",
        "updatedAt" : "2018-10-29T07:38:05Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "7f15ccb6-71fc-4221-9d6e-83a27ed6fb81",
        "parentId" : "31423425-09c6-4747-aa94-295f65de4580",
        "authorId" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "body" : "Again trying to get a tight bracket around the \"responsewriters.SerializeObject(info.MediaType, encoder, w, req, statusCode, partial)\" call.",
        "createdAt" : "2018-10-16T20:57:43Z",
        "updatedAt" : "2018-10-29T07:38:05Z",
        "lastEditedBy" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "tags" : [
        ]
      },
      {
        "id" : "39d34b87-b28b-4e99-ab17-a91d0b82c1d9",
        "parentId" : "31423425-09c6-4747-aa94-295f65de4580",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Same point here (sorry for being completely unclear on that).\r\n\r\nI completely agree that this Step has value.\r\nI just suggest removing those previous two ones (that should be negligible):\r\n- trace.Step(\"Getting object kind, setting GVK\")\r\n- trace.Step(\"Renegotiating internal version\")",
        "createdAt" : "2018-10-17T08:01:12Z",
        "updatedAt" : "2018-10-29T07:38:05Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "f7f98053-92e6-4467-9a6a-cc7b5f2ba94f",
        "parentId" : "31423425-09c6-4747-aa94-295f65de4580",
        "authorId" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "body" : "Done",
        "createdAt" : "2018-10-29T07:34:03Z",
        "updatedAt" : "2018-10-29T07:38:05Z",
        "lastEditedBy" : "7aca96c2-45d7-4567-99be-0323d7556c55",
        "tags" : [
        ]
      }
    ],
    "commit" : "99ebe8747176a10c718d5e3276c64d8c507bfb3b",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +71,75 @@\t\t\t}\n\t\t\tencoder := metainternalversion.Codecs.EncoderForVersion(info.Serializer, metav1beta1.SchemeGroupVersion)\n\t\t\ttrace.Step(fmt.Sprintf(\"Serializing response as type %s\", info.MediaType))\n\t\t\tresponsewriters.SerializeObject(info.MediaType, encoder, w, req, statusCode, partial)\n\t\t\treturn"
  },
  {
    "id" : "745a8a3c-32b2-4ea4-a2a7-41f4225fed4c",
    "prId" : 40848,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/40848#pullrequestreview-39831882",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27f279f6-134a-4af5-9d42-5a20466fbe2b",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "I'm not allowed to get a list of paritalObjectMetadata?  That seems pretty limiting.",
        "createdAt" : "2017-05-23T16:09:19Z",
        "updatedAt" : "2017-05-29T22:30:17Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "b24f0216-9b47-48c7-95c2-a02a15846342",
        "parentId" : "27f279f6-134a-4af5-9d42-5a20466fbe2b",
        "authorId" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "body" : "you are, you have to ask for `PartialObjectMetadataList`.  I didn't want to have special assumptions.  `as` is \"you get a schema\".",
        "createdAt" : "2017-05-23T18:38:42Z",
        "updatedAt" : "2017-05-29T22:30:17Z",
        "lastEditedBy" : "6e2b5eda-1533-4798-a56c-432faaf38480",
        "tags" : [
        ]
      }
    ],
    "commit" : "7ce63eb608cdf95df429d6138ccf8dbf8b47a740",
    "line" : 50,
    "diffHunk" : "@@ -1,1 +48,52 @@\n\t\tcase target.Kind == \"PartialObjectMetadata\" && target.GroupVersion() == metav1alpha1.SchemeGroupVersion:\n\t\t\tif meta.IsListType(result) {\n\t\t\t\t// TODO: this should be calculated earlier\n\t\t\t\terr = newNotAcceptableError(fmt.Sprintf(\"you requested PartialObjectMetadata, but the requested object is a list (%T)\", result))"
  }
]