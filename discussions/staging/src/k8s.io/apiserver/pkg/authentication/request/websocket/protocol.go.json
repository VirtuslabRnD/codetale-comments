[
  {
    "id" : "6a62d5b6-7807-4e23-b425-c4f58f7767b8",
    "prId" : 47740,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47740#pullrequestreview-45723709",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aef6b118-cdf8-4580-824a-abc39850f546",
        "parentId" : null,
        "authorId" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "body" : "Why do we set an error here? Can't it still be evaluated by other bearer token authenticators?",
        "createdAt" : "2017-06-21T17:57:42Z",
        "updatedAt" : "2017-06-21T18:03:05Z",
        "lastEditedBy" : "0af48e59-4be9-46ce-9275-aa218813b6fd",
        "tags" : [
        ]
      },
      {
        "id" : "1d0d1d65-d633-4506-a15a-2d26daa1fee4",
        "parentId" : "aef6b118-cdf8-4580-824a-abc39850f546",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "yes, the containing union continues on error, but does not fall back to anonymous",
        "createdAt" : "2017-06-21T18:10:26Z",
        "updatedAt" : "2017-06-21T18:10:37Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "07b118ec-900b-4218-be60-bd2c437af070",
        "parentId" : "aef6b118-cdf8-4580-824a-abc39850f546",
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "> Why do we set an error here? Can't it still be evaluated by other bearer token authenticators?\r\n\r\nIt seems to be a failure of the authentication interface that an evaluation error (I can't check because of X) is abused to sometimes contain a failure reason (you're denied because the token expired).   Evaluation errors should fall through, but failures should just stop.  The lack of this distinction makes building chains non-obvious and often creates nested unions of chains only a couple items.",
        "createdAt" : "2017-06-22T13:10:25Z",
        "updatedAt" : "2017-06-22T13:10:25Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "732801c6-34a3-40ec-8d42-1c7c095d4d61",
        "parentId" : "aef6b118-cdf8-4580-824a-abc39850f546",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "we can certainly consider changes to the interface if richer information would make composition better, but that's out of scope for this PR",
        "createdAt" : "2017-06-22T13:44:54Z",
        "updatedAt" : "2017-06-22T13:44:54Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "6a872c09ebc8bff4efccc6d0206b0b5639be31ae",
    "line" : 103,
    "diffHunk" : "@@ -1,1 +101,105 @@\t}\n\n\t// If the token authenticator didn't error, provide a default error\n\tif !ok && err == nil {\n\t\terr = invalidToken"
  },
  {
    "id" : "5510cac7-7562-405a-9df8-c044f29e6964",
    "prId" : 47740,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/47740#pullrequestreview-45808255",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "daa92166-3583-49c8-9b23-2f4fae1c7ed9",
        "parentId" : null,
        "authorId" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "body" : "nit: should the filtered protocols be joined by `\", \"`? In your example, there is a space.",
        "createdAt" : "2017-06-22T18:31:53Z",
        "updatedAt" : "2017-06-22T18:37:04Z",
        "lastEditedBy" : "0adf587c-aaa2-4e47-be0f-a26d4fde14ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "6a872c09ebc8bff4efccc6d0206b0b5639be31ae",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +98,102 @@\t\t// https://tools.ietf.org/html/rfc6455#section-11.3.4 indicates the Sec-WebSocket-Protocol header may appear multiple times\n\t\t// in a request, and is logically the same as a single Sec-WebSocket-Protocol header field that contains all values\n\t\treq.Header.Set(protocolHeader, strings.Join(filteredProtocols, \",\"))\n\t}\n"
  }
]