[
  {
    "id" : "a4533db1-4e88-4b4d-a301-afc4ad4d7664",
    "prId" : 63893,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/63893#pullrequestreview-122279249",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "17e75939-806a-4b1f-92e0-88fcb5eb14a7",
        "parentId" : null,
        "authorId" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "body" : "Note: 90% of the logic for this is from [k8s.io/kubectl/pkg/framework/openapi](https://github.com/kubernetes/kubectl/blob/master/pkg/framework/openapi/openapi.go) since apply will expect the schema to be of the type defined in [k8s.io/kube-openapi/pkg/util/proto](https://github.com/kubernetes/kube-openapi/blob/master/pkg/util/proto/openapi.go) which accepts visitors.\r\nThe exception to this being newMinimalValidOpenAPISpec() so we can convert a spec.Definitions to a valid spec.Swagger",
        "createdAt" : "2018-05-22T17:44:29Z",
        "updatedAt" : "2018-05-24T16:55:51Z",
        "lastEditedBy" : "37324129-fa96-456d-92ea-e5f9b41f8c7f",
        "tags" : [
        ]
      }
    ],
    "commit" : "349fbdfe9fbcad91fcecbfe4e71fa91d235dad6d",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +38,42 @@\n// ToProtoSchema builds the proto formatted schema from an OpenAPI spec\nfunc ToProtoSchema(openAPIDefinitions *spec.Definitions, gvk schema.GroupVersionKind) (proto.Schema, error) {\n\topenAPISpec := newMinimalValidOpenAPISpec()\n\topenAPISpec.Definitions = *openAPIDefinitions"
  }
]