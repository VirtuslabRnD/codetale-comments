[
  {
    "id" : "275a6e14-69c7-4c80-8a9e-0aea13cdb38d",
    "prId" : 91277,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/91277#pullrequestreview-419798792",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cbe68026-9a4b-4fa9-ba04-98ca2b46899d",
        "parentId" : null,
        "authorId" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "body" : "This is not a typical pattern.. there is an implicit contract with process_start_time_seconds that allows the server to maintain the monotonically increasing property of a counter. \r\n\r\nWhy do you need the Reset?",
        "createdAt" : "2020-05-28T04:23:50Z",
        "updatedAt" : "2020-05-28T04:24:22Z",
        "lastEditedBy" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "tags" : [
        ]
      },
      {
        "id" : "1f43b21b-977c-4a89-8919-b9c1d2577fc2",
        "parentId" : "cbe68026-9a4b-4fa9-ba04-98ca2b46899d",
        "authorId" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "body" : "It doesn't look used anywhere, can we delete this?",
        "createdAt" : "2020-05-28T04:24:19Z",
        "updatedAt" : "2020-05-28T04:24:22Z",
        "lastEditedBy" : "09e31512-b413-47a1-bc83-20b5a77064ee",
        "tags" : [
        ]
      },
      {
        "id" : "dd1917e8-824b-40f6-9604-ece665a8bd2c",
        "parentId" : "cbe68026-9a4b-4fa9-ba04-98ca2b46899d",
        "authorId" : "c840f310-2760-4562-b9d3-14db6553a5a6",
        "body" : "As discussed, type of TLSHandshakeErrors is changed from CounterVec to Counter, which did not support Reset() method. To keep align with other metircs, I added Reset() method for Counter type. \r\n\r\nThis Reset() method is called when requesting DELETE on apiserver /metrics:\r\nhttps://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/apiserver/pkg/server/routes/metrics.go#L49",
        "createdAt" : "2020-05-28T06:01:38Z",
        "updatedAt" : "2020-05-28T06:01:39Z",
        "lastEditedBy" : "c840f310-2760-4562-b9d3-14db6553a5a6",
        "tags" : [
        ]
      }
    ],
    "commit" : "eabb362aa37f7acc85bc64f2035dadc5511d3716",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +53,57 @@\tc.setPrometheusCounter(prometheus.NewCounter(c.CounterOpts.toPromCounterOpts()))\n}\n\n// setPrometheusCounter sets the underlying CounterMetric object, i.e. the thing that does the measurement.\nfunc (c *Counter) setPrometheusCounter(counter prometheus.Counter) {"
  }
]