[
  {
    "id" : "39a9bf25-87f3-46b0-bbc7-182fd71b3230",
    "prId" : 102623,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102623#pullrequestreview-687382468",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7a1411b3-c403-48d6-aab6-df68abc4e37c",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "IMO it's better to make the `NewStringSlice` detect this (and e.g. panic)? This is really a coding error, not a runtime error, you want to detect it as soon as possible. It'd be best if you could make it not compile, but I don't see a good way to do that.",
        "createdAt" : "2021-06-17T16:14:07Z",
        "updatedAt" : "2021-06-17T16:14:07Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "528195c8-51c0-43fe-95fd-4476e580acd7",
        "parentId" : "7a1411b3-c403-48d6-aab6-df68abc4e37c",
        "authorId" : "bdb4f949-0ca8-4bb8-ad3e-f01d2fed9528",
        "body" : "```golang\r\nfunc NewStringSlice(s *[]string) *StringSlice {\r\n\tif s == nil {\r\n\t\tpanic(\"no target (nil pointer to []string)\")\r\n\t}\r\n\treturn &StringSlice{value: s}\r\n}\r\n```\r\nIs this? This is somewhat inconsistent with the previous code style\r\n",
        "createdAt" : "2021-06-18T13:02:31Z",
        "updatedAt" : "2021-06-18T13:02:31Z",
        "lastEditedBy" : "bdb4f949-0ca8-4bb8-ad3e-f01d2fed9528",
        "tags" : [
        ]
      }
    ],
    "commit" : "ab4918b6bc041dab5fd162bd84d4d6495ebc1ce5",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +48,52 @@func (s *StringSlice) Set(val string) error {\n\tif s.value == nil {\n\t\treturn fmt.Errorf(\"no target (nil pointer to []string)\")\n\t}\n\tif !s.changed {"
  },
  {
    "id" : "dcf6d084-5e6c-450c-8f8d-bf9ec7286602",
    "prId" : 102623,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/102623#pullrequestreview-687389058",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0690c936-086a-4d71-a1ec-8d4debeb0d30",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "append already does this if the first arg is nil, so I don't think you need the first clause in the `if` at least",
        "createdAt" : "2021-06-17T16:14:20Z",
        "updatedAt" : "2021-06-17T16:14:20Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "cd97ccc6-e358-4723-a78d-fbbfdc1493ae",
        "parentId" : "0690c936-086a-4d71-a1ec-8d4debeb0d30",
        "authorId" : "bdb4f949-0ca8-4bb8-ad3e-f01d2fed9528",
        "body" : "As far as I can think of, this is indeed redundant. But I paid attention to similar codes, they all wrote this way, so I kept the first clause in the `if`.\r\n\r\nhttps://github.com/kubernetes/kubernetes/blob/48b7492f92997ac8cbb8b6c559a0c68cba3021ab/staging/src/k8s.io/component-base/cli/flag/map_string_string.go#L69",
        "createdAt" : "2021-06-18T13:09:20Z",
        "updatedAt" : "2021-06-18T13:09:20Z",
        "lastEditedBy" : "bdb4f949-0ca8-4bb8-ad3e-f01d2fed9528",
        "tags" : [
        ]
      }
    ],
    "commit" : "ab4918b6bc041dab5fd162bd84d4d6495ebc1ce5",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +51,55 @@\t}\n\tif !s.changed {\n\t\t*s.value = make([]string, 0)\n\t}\n\t*s.value = append(*s.value, val)"
  },
  {
    "id" : "329c9dc7-e7c0-43b7-9538-4166e0d0a497",
    "prId" : 100362,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/100362#pullrequestreview-615874880",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "840150ae-ca5d-4d58-b8c7-6fd9af03b881",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "why does this happen?\r\n\r\ni saw the linked PR:\r\nhttps://github.com/kubernetes/kubernetes/pull/98787/files\r\n\r\nand it has https://github.com/kubernetes/kubernetes/pull/98787/files#diff-c017e0c5e68c14cb966137bc87de3d3ab8475dc25f9b5fdb47a2b8174830054fR343\r\n\r\n```\r\nflags.Var(cliflag.NewStringSlice(&cloudConfig.Zones), \"gce-zones\", \"The set of zones to use in a multi-zone test instead of querying the cloud provider.\")\r\n```\r\n\r\nisn't that sufficient for `--help` not to panic?\r\n",
        "createdAt" : "2021-03-18T20:09:01Z",
        "updatedAt" : "2021-03-18T20:09:01Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "f2d3b0a3-3fb7-40ef-a279-0708a10ef264",
        "parentId" : "840150ae-ca5d-4d58-b8c7-6fd9af03b881",
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "ok, looks like this change is valid, given we want to append to the cloudConfig.Zones slice.",
        "createdAt" : "2021-03-18T21:08:38Z",
        "updatedAt" : "2021-03-18T21:08:38Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      }
    ],
    "commit" : "d93ed65a356dcfcf0c01491fbd43ac9cf2e6e307",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +39,43 @@\nfunc (s *StringSlice) String() string {\n\tif s == nil || s.value == nil {\n\t\treturn \"\"\n\t}"
  }
]