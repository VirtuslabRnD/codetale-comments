[
  {
    "id" : "73feb4cf-7e0f-41cd-acc3-94943a7110ff",
    "prId" : 71795,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/71795#pullrequestreview-182689098",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5215ae70-0069-46f5-8c13-3d384db43d54",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "cc @sttts ",
        "createdAt" : "2018-12-07T03:16:01Z",
        "updatedAt" : "2018-12-07T13:18:52Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "8f69a390-3091-4573-8aaa-e2c7efd495e2",
        "parentId" : "5215ae70-0069-46f5-8c13-3d384db43d54",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "This also disables conversion-gen and defaulter-gen. We should have a way to generate for an apiserver, but disable the internal clients/informers/listers.",
        "createdAt" : "2018-12-07T11:29:40Z",
        "updatedAt" : "2018-12-07T13:18:52Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "a00e9223-160c-4780-a650-fcbba201bbaa",
        "parentId" : "5215ae70-0069-46f5-8c13-3d384db43d54",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "E.g. we could move internal generation to \"{client,informer,lister}-internal\" and remove them from the \"all\" logic. This way there is a way to generate the internal variants for those who need them, but they have to add them manually. Seems to be fair.",
        "createdAt" : "2018-12-07T11:32:49Z",
        "updatedAt" : "2018-12-07T13:18:52Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "74cf3ac8-c107-4750-99ba-3cd7a1f778cd",
        "parentId" : "5215ae70-0069-46f5-8c13-3d384db43d54",
        "authorId" : "b636cffe-e356-4628-b016-7e9b414c5367",
        "body" : "thanks for review, I added generate-internal-groups back, but only generate defaulter, deep copy and conversion",
        "createdAt" : "2018-12-07T13:21:39Z",
        "updatedAt" : "2018-12-07T13:21:40Z",
        "lastEditedBy" : "b636cffe-e356-4628-b016-7e9b414c5367",
        "tags" : [
        ]
      }
    ],
    "commit" : "a9c35d3b8473b949a75811089a3c7cde5bf25ea1",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +27,31 @@#                  instead of the $GOPATH directly. For normal projects this can be dropped.\n${CODEGEN_PKG}/generate-groups.sh all \\\n  k8s.io/sample-apiserver/pkg/client k8s.io/sample-apiserver/pkg/apis \\\n  \"wardle:v1alpha1,v1beta1\" \\\n  --output-base \"$(dirname ${BASH_SOURCE})/../../..\" \\"
  },
  {
    "id" : "c71f40fd-8660-4de8-a061-d6b0d099aee3",
    "prId" : 48549,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/48549#pullrequestreview-48546515",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bacdd0e7-326f-4445-ba22-ad6bde207c1c",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "that are a lot of variables now ðŸ‘€ ",
        "createdAt" : "2017-07-07T08:14:37Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "e52f4f61-1010-4656-a94d-5a0414197958",
        "parentId" : "bacdd0e7-326f-4445-ba22-ad6bde207c1c",
        "authorId" : "f8837b31-bb5d-470f-b017-9ccdb64fcf38",
        "body" : "Yes the intention was to make it easier for someone using the sample-apiserver as a base to modify the script and use it for their own purposes.",
        "createdAt" : "2017-07-07T08:16:00Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "f8837b31-bb5d-470f-b017-9ccdb64fcf38",
        "tags" : [
        ]
      },
      {
        "id" : "eba487c2-f885-4dfa-94f3-c2beccb52502",
        "parentId" : "bacdd0e7-326f-4445-ba22-ad6bde207c1c",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "To make this reusable and easier to read: what about turning the generator calls into one big bash functions that gets GROUP_NAME, VERSION as parameters:\r\n```\r\ngenerate_group wardle v1alpha1\r\n```\r\nThen only BASE_PATH and BASE_PKG would be global variables. The other *_PKG variables can become local variables in the generate_group func.",
        "createdAt" : "2017-07-07T08:23:12Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "85f68aff-2dbb-465f-b06e-9c8627ac781c",
        "parentId" : "bacdd0e7-326f-4445-ba22-ad6bde207c1c",
        "authorId" : "f8837b31-bb5d-470f-b017-9ccdb64fcf38",
        "body" : "sure that seems reasonable",
        "createdAt" : "2017-07-07T08:29:00Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "f8837b31-bb5d-470f-b017-9ccdb64fcf38",
        "tags" : [
        ]
      }
    ],
    "commit" : "87f8e796585df313b08f53a850882e1c7759dcdf",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +19,23 @@set -o pipefail\n\nKUBE_ROOT=${GOPATH}/src/k8s.io/kubernetes\nBASE_PATH=k8s.io/kubernetes/staging/src/\nBASE_PKG=k8s.io/sample-apiserver"
  },
  {
    "id" : "11b38220-453a-4e89-961d-cfcedb11318b",
    "prId" : 48549,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/48549#pullrequestreview-48841804",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0f853845-98e6-43bf-9eed-7de827bb59fa",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "looks much better.\r\n\r\nOne question: if there is more than one group or version, can this script be easily adapted? Can you try to clone the existing group locally and see how to adapt the script? Would be great if this script could be used as a blue print for people building apiservers.",
        "createdAt" : "2017-07-07T09:05:17Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "e0fbde03-bcb3-45f4-9758-0ea1844380d0",
        "parentId" : "0f853845-98e6-43bf-9eed-7de827bb59fa",
        "authorId" : "f8837b31-bb5d-470f-b017-9ccdb64fcf38",
        "body" : "Great.\r\nOn your questions. \r\nIf there is more than one group or version, I think it would be relatively easy. But I can try this out. I am relatively new to apiservers, is there any tool for generating the scaffold of an api group and version, or is it case of copy and modify?\r\n\r\nOne your second question. I am not sure I follow. When you say \"the existing group\" are you referring to the repo https://github.com/kubernetes/sample-apiserver or something different?",
        "createdAt" : "2017-07-07T10:27:46Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "f8837b31-bb5d-470f-b017-9ccdb64fcf38",
        "tags" : [
        ]
      },
      {
        "id" : "4210ae03-b0ea-4ae7-b2eb-84cdd29804ff",
        "parentId" : "0f853845-98e6-43bf-9eed-7de827bb59fa",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "This repo is meant as a blue print. \r\n\r\nThere is also https://github.com/kubernetes-incubator/apiserver-builder which is meant as an alternative, opinionated way to create apiservers.\r\n\r\nWould be great to test it with multiple groups/versions. It might be that you have to pass all of them at once to clientgen because the created clients will share code. So maybe the structure of the function must be different.",
        "createdAt" : "2017-07-07T10:42:04Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "c0bd29fe-eef8-4e66-9045-b8bb90814f06",
        "parentId" : "0f853845-98e6-43bf-9eed-7de827bb59fa",
        "authorId" : "f8837b31-bb5d-470f-b017-9ccdb64fcf38",
        "body" : "@sttts you are correct. When generating for multiple groups in its current form the script will generate only for the last group passed.\r\nI can take a look at improving this. One question though as I believe @p0lyn0mial is wanting to use the generated clients and the proposed script will successfully generate the clients which it wouldn't before, is there enough value in the current PR to move forward with it and then follow up with improvements to the generate script? Or would you prefer we keep this open?  ",
        "createdAt" : "2017-07-10T08:28:34Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "f8837b31-bb5d-470f-b017-9ccdb64fcf38",
        "tags" : [
        ]
      },
      {
        "id" : "688d7db1-093e-4a16-bb09-c7e076de1a95",
        "parentId" : "0f853845-98e6-43bf-9eed-7de827bb59fa",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "If @p0lyn0mial is blocked by this, it's fine to merge as is and improve in a follow-up. Otherwise, it wouldn't mind to have it here.",
        "createdAt" : "2017-07-10T08:48:51Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "47f72736-7511-4dab-a126-edcb472ecf03",
        "parentId" : "0f853845-98e6-43bf-9eed-7de827bb59fa",
        "authorId" : "13c01cb8-6052-4a98-b6fd-20d3acd6332f",
        "body" : "yes, I need the `clientset` in my admission plugin. Thanks.",
        "createdAt" : "2017-07-10T08:54:34Z",
        "updatedAt" : "2017-07-11T18:50:21Z",
        "lastEditedBy" : "13c01cb8-6052-4a98-b6fd-20d3acd6332f",
        "tags" : [
        ]
      }
    ],
    "commit" : "87f8e796585df313b08f53a850882e1c7759dcdf",
    "line" : 94,
    "diffHunk" : "@@ -1,1 +75,79 @@}\n\ngenerate_group wardle v1alpha1"
  }
]