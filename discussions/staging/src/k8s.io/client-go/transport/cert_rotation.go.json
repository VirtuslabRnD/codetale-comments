[
  {
    "id" : "bdc46d1d-bbd1-490a-9c13-3385c36c2caa",
    "prId" : 79083,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/79083#pullrequestreview-318017799",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "86c1e4a6-ff9f-4915-b364-b939e6b58c55",
        "parentId" : null,
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "Should this be a field in rotatingClientCert?",
        "createdAt" : "2019-11-15T16:22:47Z",
        "updatedAt" : "2020-03-02T17:20:45Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      },
      {
        "id" : "15492f0f-fa51-42a3-82b1-792802d98bfe",
        "parentId" : "86c1e4a6-ff9f-4915-b364-b939e6b58c55",
        "authorId" : "c8bfafed-d184-4111-b0f7-47520a7dc6f5",
        "body" : "If we do that, how will tests change it?",
        "createdAt" : "2019-11-17T12:38:18Z",
        "updatedAt" : "2020-03-02T17:20:45Z",
        "lastEditedBy" : "c8bfafed-d184-4111-b0f7-47520a7dc6f5",
        "tags" : [
        ]
      }
    ],
    "commit" : "929b1559a0b855d996257ab3ad5364605edc253d",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +36,40 @@\n// CertCallbackRefreshDuration is exposed so that integration tests can crank up the reload speed.\nvar CertCallbackRefreshDuration = 5 * time.Minute\n\ntype reloadFunc func(*tls.CertificateRequestInfo) (*tls.Certificate, error)"
  },
  {
    "id" : "238713b3-614d-4ac1-b18f-1a25f6a0977a",
    "prId" : 79083,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/79083#pullrequestreview-367464342",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b6b67137-d74d-4ee4-a24f-b95d865c0150",
        "parentId" : null,
        "authorId" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "body" : "I thought colliding names produced errors.",
        "createdAt" : "2020-01-15T18:09:29Z",
        "updatedAt" : "2020-03-02T17:20:45Z",
        "lastEditedBy" : "fa477146-9a47-4754-b38c-de8062e65e13",
        "tags" : [
        ]
      },
      {
        "id" : "cdd6b9d9-41cd-48f0-965f-d8094a417906",
        "parentId" : "b6b67137-d74d-4ee4-a24f-b95d865c0150",
        "authorId" : "c8bfafed-d184-4111-b0f7-47520a7dc6f5",
        "body" : "I don't think so, looking at the code the metrics will get shared if there are multiple queues with the same name\r\nI could be wrong!\r\nWe could try to add the cert file names here, but technically we don't know them and there may be a GetCert function in which case we don't really have any kind of identifier beyond a pointer",
        "createdAt" : "2020-01-17T12:05:14Z",
        "updatedAt" : "2020-03-02T17:20:46Z",
        "lastEditedBy" : "c8bfafed-d184-4111-b0f7-47520a7dc6f5",
        "tags" : [
        ]
      },
      {
        "id" : "62904cba-1bc5-4d64-a749-64e1052a51c9",
        "parentId" : "b6b67137-d74d-4ee4-a24f-b95d865c0150",
        "authorId" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "body" : "Name is only used for metrics AFAIK. Multiple queue's with same name just get aggreted in queue metrics which isn't terrible. Nit: traditionally the names have been lower snake case, but I see we've diverged on that convention for some of the other cert stuff.",
        "createdAt" : "2020-03-02T19:26:20Z",
        "updatedAt" : "2020-03-02T19:26:20Z",
        "lastEditedBy" : "392f7c7a-6820-4848-94e2-2b8e009fec9d",
        "tags" : [
        ]
      }
    ],
    "commit" : "929b1559a0b855d996257ab3ad5364605edc253d",
    "line" : 57,
    "diffHunk" : "@@ -1,1 +55,59 @@\t\treload:     reload,\n\t\tconnDialer: connrotation.NewDialer(connrotation.DialFunc(dial)),\n\t\tqueue:      workqueue.NewNamedRateLimitingQueue(workqueue.DefaultControllerRateLimiter(), \"DynamicClientCertificate\"),\n\t}\n"
  },
  {
    "id" : "8d109f53-4f1b-489b-96dc-0d6a3fe073a2",
    "prId" : 79083,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/79083#pullrequestreview-368399764",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5723a72e-56ae-40cf-8bb1-4d0a95e3acdb",
        "parentId" : null,
        "authorId" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "body" : "these lines introduced non-verbose output to `kubectl auth`:\r\n\r\n```\r\nkubectl auth can-i get --kubeconfig=/etc/kubernetes/kubelet.conf --namespace=kube-system configmaps/kube-proxy\r\nI0303 23:14:14.609921    7176 cert_rotation.go:137] Starting client certificate rotation controller\r\nyes\r\n```\r\n\r\npotentially breaking consumers of CombinedOutput looking for just \"yes\".\r\n\r\nunless there are immediate objections i'm going to send a PR to `.V(1)` the log messages.\r\n\r\n",
        "createdAt" : "2020-03-03T23:20:35Z",
        "updatedAt" : "2020-03-03T23:21:19Z",
        "lastEditedBy" : "2ce2b44c-9841-49e7-983e-fb7696974908",
        "tags" : [
        ]
      },
      {
        "id" : "0c2268e7-d3b4-4304-8e28-7d3a73a82f69",
        "parentId" : "5723a72e-56ae-40cf-8bb1-4d0a95e3acdb",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "Definitely. I'd probably call it v3",
        "createdAt" : "2020-03-03T23:25:04Z",
        "updatedAt" : "2020-03-03T23:25:04Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "929b1559a0b855d996257ab3ad5364605edc253d",
    "line" : 138,
    "diffHunk" : "@@ -1,1 +136,140 @@\n\tklog.Infof(\"Starting client certificate rotation controller\")\n\tdefer klog.Infof(\"Shutting down client certificate rotation controller\")\n\n\tgo wait.Until(c.runWorker, time.Second, stopCh)"
  },
  {
    "id" : "bdeb8b29-3bab-4079-a0ae-b79c4bcc2612",
    "prId" : 79083,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/79083#pullrequestreview-370335043",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8021aac3-e91e-4b56-a931-8e6a23779389",
        "parentId" : null,
        "authorId" : "443f9b92-20b0-45c2-a13f-20c6f64f89eb",
        "body" : "Why was the default chosen so high? The IO and CPU load would surely withstand a more responsive default like 15s / 30s. If I change a cert that is live reloaded I'd expect it to manifest way sooner then 5 minutes.",
        "createdAt" : "2020-03-06T13:52:16Z",
        "updatedAt" : "2020-03-06T13:52:16Z",
        "lastEditedBy" : "443f9b92-20b0-45c2-a13f-20c6f64f89eb",
        "tags" : [
        ]
      }
    ],
    "commit" : "929b1559a0b855d996257ab3ad5364605edc253d",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +36,40 @@\n// CertCallbackRefreshDuration is exposed so that integration tests can crank up the reload speed.\nvar CertCallbackRefreshDuration = 5 * time.Minute\n\ntype reloadFunc func(*tls.CertificateRequestInfo) (*tls.Certificate, error)"
  }
]