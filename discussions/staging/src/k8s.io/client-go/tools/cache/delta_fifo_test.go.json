[
  {
    "id" : "1824b719-0ca1-48ac-949c-35bdd2d23d66",
    "prId" : 96797,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/96797#pullrequestreview-541471147",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "462a213f-e5cd-4d71-a189-ab2eb1f7485e",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Replace always captures a complete snapshot consistent in time; there cannot be duplicate keys in the list or apiserver is broken.\r\n\r\n...I guess maybe it can still be tested but please add a comment explaining that (and why) this is not testing a normal codepath.",
        "createdAt" : "2020-11-23T17:13:24Z",
        "updatedAt" : "2020-12-01T03:52:04Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "d70d012d-88a1-4ba0-be45-e4506c8e65e3",
        "parentId" : "462a213f-e5cd-4d71-a189-ab2eb1f7485e",
        "authorId" : "7798b63f-c2b2-4bb6-b5a9-16d37fe33e03",
        "body" : "Thanks. Added comment per suggestion. @lavalamp ",
        "createdAt" : "2020-11-24T05:07:14Z",
        "updatedAt" : "2020-12-01T03:52:04Z",
        "lastEditedBy" : "7798b63f-c2b2-4bb6-b5a9-16d37fe33e03",
        "tags" : [
        ]
      },
      {
        "id" : "eda3aafe-0c96-435a-8aa8-2c84118eef6e",
        "parentId" : "462a213f-e5cd-4d71-a189-ab2eb1f7485e",
        "authorId" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "body" : "The wording from @lavalamp , copied into the comment, seems a bit misdirected to me.  Rather than saying \"Replace always captures\" --- which suggests that the responsibility for this behavior is inside Replace --- I suggest something more like \"A Reflector always passes to Replace\".  It looks to me like the whole point of this PR is to move beyond the limited usage documented at https://github.com/kubernetes/kubernetes/blob/e3de62298a730415c5d2ab72607ef6adadd6304d/staging/src/k8s.io/client-go/tools/cache/delta_fifo.go#L134-L135 (\"where a Reflector is intended to be the producer\").",
        "createdAt" : "2020-11-30T06:01:40Z",
        "updatedAt" : "2020-12-01T03:52:04Z",
        "lastEditedBy" : "7a59a326-58b3-4590-b70a-297d2e27daa5",
        "tags" : [
        ]
      },
      {
        "id" : "2a3eddc0-d321-4aca-bc7a-cf2ead75b30b",
        "parentId" : "462a213f-e5cd-4d71-a189-ab2eb1f7485e",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Yeah perhaps \"expects\" would have been a better word than \"captures\".\r\n\r\nHaving the comment start on the same line as the brace looks a little odd, I don't think we do that usually?\r\n\r\nIf you can fix these two tiny nits I can LGTM",
        "createdAt" : "2020-11-30T21:32:52Z",
        "updatedAt" : "2020-12-01T03:52:04Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "7e9c9e29-419c-4ba4-875f-de36125ee932",
        "parentId" : "462a213f-e5cd-4d71-a189-ab2eb1f7485e",
        "authorId" : "7798b63f-c2b2-4bb6-b5a9-16d37fe33e03",
        "body" : "Thanks @MikeSpreitzer and @lavalamp. \r\n\r\nI rephrased the comments in the test to \r\n\r\n> This test case won't happen in practice since a Reflector, the only producer for delta_fifo today, always passes a complete snapshot consistent in time; there cannot be duplicate keys in the list or apiserver is broken.\r\n\r\nPlease let me know if this looks better.",
        "createdAt" : "2020-12-01T03:55:27Z",
        "updatedAt" : "2020-12-01T03:55:28Z",
        "lastEditedBy" : "7798b63f-c2b2-4bb6-b5a9-16d37fe33e03",
        "tags" : [
        ]
      }
    ],
    "commit" : "bc39672c0638426979feef95baeff39d170161eb",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +638,642 @@\t\t\t// there cannot be duplicate keys in the list or apiserver is broken.\n\t\t\tactions: []func(f *DeltaFIFO){\n\t\t\t\tfunc(f *DeltaFIFO) { f.Replace([]interface{}{mkFifoObj(\"a\", 1), mkFifoObj(\"a\", 2)}, \"0\") },\n\t\t\t\tfunc(f *DeltaFIFO) { Pop(f) },\n\t\t\t},"
  },
  {
    "id" : "1237778e-72bf-4a17-bd24-f3df73303517",
    "prId" : 86774,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/86774#pullrequestreview-341151342",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4a1c30f5-fb05-4cd5-8729-2ef160fd0f19",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "nice tests - thanks!",
        "createdAt" : "2020-01-10T13:18:10Z",
        "updatedAt" : "2020-01-10T21:06:33Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "59807be5abe6a96aad715823b7bab9fbd5d837bd",
    "line" : 129,
    "diffHunk" : "@@ -1,1 +382,386 @@\t\t\tt.Errorf(\"Expected %#v, got %#v\", e, a)\n\t\t}\n\t}\n}\n"
  }
]