[
  {
    "id" : "3a18697a-f7c9-4fc6-9ea3-a882c1e91849",
    "prId" : 100878,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/100878#pullrequestreview-631471884",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41749a86-92a2-40bc-920a-069c1e42c872",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "does this exercise both code paths introduced above?",
        "createdAt" : "2021-04-08T13:32:53Z",
        "updatedAt" : "2021-04-08T15:30:57Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "b20e04ba-ef89-4912-94d3-de75a47c6ad8",
        "parentId" : "41749a86-92a2-40bc-920a-069c1e42c872",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Yes - the case 0 exercises the path of error from the watch requests, case 1 (in the switch in watch func) exercises the \"watch event of type error\".",
        "createdAt" : "2021-04-08T14:32:39Z",
        "updatedAt" : "2021-04-08T15:30:57Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "a9daa46d470e87ed328688bebd9314cc5ac0fc4a",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +447,451 @@}\n\nfunc TestBackoffOnTooManyRequests(t *testing.T) {\n\terr := apierrors.NewTooManyRequests(\"too many requests\", 1)\n\tclock := &clock.RealClock{}"
  },
  {
    "id" : "0926f76f-c461-4291-8575-d0957bbcd60b",
    "prId" : 94316,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94316#pullrequestreview-478654152",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41e58617-ffd4-4fb2-8e1e-ddb49604cb9d",
        "parentId" : null,
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "create stopCh just once",
        "createdAt" : "2020-08-31T12:49:43Z",
        "updatedAt" : "2020-09-01T19:20:08Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "64b58496-15f2-44ab-9272-88ed14fe78c1",
        "parentId" : "41e58617-ffd4-4fb2-8e1e-ddb49604cb9d",
        "authorId" : "4cc401e7-5edc-423d-839c-940503ac75c7",
        "body" : "I think each iteration needs a new channel otherwise it would mean passing an already closed channel to  `ListAndWatch` on the second iteration. Reusing the same channel make the test fail like this:\r\n\r\n```\r\nW0831 15:24:13.372859   82189 reflector.go:424] testing/testing.go:1108: watch of *v1.Pod ended with: very short watch: testing/testing.go:1108: Unexpected watch close - watch lasted less than a second and no items received\r\nW0831 15:24:13.375340   82189 reflector.go:424] testing/testing.go:1108: watch of *v1.Pod ended with: expected resync reached\r\n--- FAIL: TestReflectorFullListIfTooLarge (0.00s)\r\n```",
        "createdAt" : "2020-08-31T13:42:16Z",
        "updatedAt" : "2020-09-01T19:20:08Z",
        "lastEditedBy" : "4cc401e7-5edc-423d-839c-940503ac75c7",
        "tags" : [
        ]
      },
      {
        "id" : "e8e3e137-76cf-48cd-98ec-d342b9c118b8",
        "parentId" : "41e58617-ffd4-4fb2-8e1e-ddb49604cb9d",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "aah ok - we're closing the channel in line 725. Thanks for checking.",
        "createdAt" : "2020-08-31T14:15:00Z",
        "updatedAt" : "2020-09-01T19:20:08Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "e1f4bfe1db8d3975bf626c2c8536dd8076aeb7d4",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +767,771 @@\tfor i := 1; i <= 2; i++ {\n\t\t// relist twice to cover the two variants of TooLargeResourceVersion api errors\n\t\tstopCh = make(chan struct{})\n\t\tif err := r.ListAndWatch(stopCh); err != nil {\n\t\t\tt.Fatal(err)"
  },
  {
    "id" : "87a33107-8441-4281-a7cb-24267b62c498",
    "prId" : 94235,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94235#pullrequestreview-481286257",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "211c156a-899d-4d41-bcf3-6bdc2b66ea67",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "I do recommend small sleeps just so you're not running a hot loop while the other thread is busy. e.g. `time.Sleep(100*time.Microsecond)` or something.",
        "createdAt" : "2020-09-02T20:38:46Z",
        "updatedAt" : "2020-09-02T21:45:30Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "5da7e723-522d-412d-906f-c6985f31016f",
        "parentId" : "211c156a-899d-4d41-bcf3-6bdc2b66ea67",
        "authorId" : "f4ac3f8f-7ffb-4966-8247-0d4dc4a5bca1",
        "body" : "done.",
        "createdAt" : "2020-09-02T20:45:37Z",
        "updatedAt" : "2020-09-02T21:45:30Z",
        "lastEditedBy" : "f4ac3f8f-7ffb-4966-8247-0d4dc4a5bca1",
        "tags" : [
        ]
      }
    ],
    "commit" : "1ff789f2bb9bf7fbb3df35977bc249c0dd019d31",
    "line" : 58,
    "diffHunk" : "@@ -1,1 +396,400 @@\t\t\t\t\t\t\tfakeClock.Step(step)\n\t\t\t\t\t\t\ti++\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttime.Sleep(100 * time.Microsecond)\n\t\t\t\t\t}"
  },
  {
    "id" : "6da219d5-5ec0-470b-907a-29b3fb06d5f8",
    "prId" : 86430,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/86430#pullrequestreview-339897052",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7b801d4a-480a-48e5-ac3f-27e6e46585c7",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "can we also separately test behavior when WatchListPageSize is set?",
        "createdAt" : "2020-01-08T14:11:39Z",
        "updatedAt" : "2020-01-31T10:50:48Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "09b36bd6-ccfe-4d89-b380-9f7164105eb1",
        "parentId" : "7b801d4a-480a-48e5-ac3f-27e6e46585c7",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "The test above already does that - `TestReflectorWatchListPageSize`",
        "createdAt" : "2020-01-08T14:29:54Z",
        "updatedAt" : "2020-01-31T10:50:48Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      },
      {
        "id" : "ffa984c6-a655-4f71-b604-334cc8c25a92",
        "parentId" : "7b801d4a-480a-48e5-ac3f-27e6e46585c7",
        "authorId" : "24302707-9254-48df-89a5-cbcc349462b8",
        "body" : "Aah - I guess you're asking about case for explicit RV (that test was using RV=\"0\").\r\nSet RV explicitly in that test.",
        "createdAt" : "2020-01-08T14:32:37Z",
        "updatedAt" : "2020-01-31T10:50:48Z",
        "lastEditedBy" : "24302707-9254-48df-89a5-cbcc349462b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "5dcf08c1993718e94cf6537af50e0a411dd2878c",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +438,442 @@}\n\nfunc TestReflectorNotPaginatingNotConsistentReads(t *testing.T) {\n\tstopCh := make(chan struct{})\n\ts := NewStore(MetaNamespaceKeyFunc)"
  },
  {
    "id" : "5045e28e-923d-474e-b804-0ced21886af5",
    "prId" : 85272,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/85272#pullrequestreview-317104820",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2c66de5f-f84c-46be-abfa-17694bf1253e",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "should we ensure Continue and Limit match our expectations here?",
        "createdAt" : "2019-11-14T16:39:20Z",
        "updatedAt" : "2019-11-15T08:07:38Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "dace12b8-613a-4a9b-ac82-b63469e10d2f",
        "parentId" : "2c66de5f-f84c-46be-abfa-17694bf1253e",
        "authorId" : "efa0987e-7d25-471d-9dea-9daaf77c2120",
        "body" : "Done.",
        "createdAt" : "2019-11-14T16:48:14Z",
        "updatedAt" : "2019-11-15T08:07:38Z",
        "lastEditedBy" : "efa0987e-7d25-471d-9dea-9daaf77c2120",
        "tags" : [
        ]
      }
    ],
    "commit" : "977ca43d640d2a85e199a8a282e2df8ebd88055a",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +579,583 @@\t\t\t// initial limited list\n\t\t\tcase rvContinueLimit(\"0\", \"\", 4):\n\t\t\t\treturn &v1.PodList{ListMeta: metav1.ListMeta{ResourceVersion: \"10\"}, Items: pods[0:4]}, nil\n\t\t\t// first page of the rv=10 list\n\t\t\tcase rvContinueLimit(\"10\", \"\", 4):"
  }
]