[
  {
    "id" : "3d86db7d-747d-430e-bd8e-a8af4b7b40c1",
    "prId" : 90309,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/90309#pullrequestreview-399497797",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fccc130f-823e-4d77-a672-633f3f749963",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "do we need a symmetric EncodeNestedObjects so we can round-trip a scheduler config from v1alpha2 -> internal -> v1alpha2 and the args convert and get marshaled correctly?",
        "createdAt" : "2020-04-22T13:45:03Z",
        "updatedAt" : "2020-04-29T21:07:28Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "bc05e361-3dca-4b5e-a18f-24f89f2ef025",
        "parentId" : "fccc130f-823e-4d77-a672-633f3f749963",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "We don't need conversion from internal to v1alpha2. But I added test to encode from v1alpha2",
        "createdAt" : "2020-04-22T21:22:44Z",
        "updatedAt" : "2020-04-29T21:07:28Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "5d2a8956-4c1c-4326-859b-b21b19710f3d",
        "parentId" : "fccc130f-823e-4d77-a672-633f3f749963",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "> We don't need conversion from internal to v1alpha2\r\n\r\nAre you sure? Does the following work:\r\n1. decode config file with args to internal KubeSchedulerConfiguration (args end up as internal Args objects)\r\n2. encode that internal KubeSchedulerConfiguration object to v1alpha2 (args should get converted back to v1alpha2 and serialized correctly)",
        "createdAt" : "2020-04-23T15:01:04Z",
        "updatedAt" : "2020-04-29T21:07:28Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "ac3b42d6-9d7d-4a34-8db3-06b28dce3b54",
        "parentId" : "fccc130f-823e-4d77-a672-633f3f749963",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "With the code as-is, that doesn't work (the nested types are directly encoded from internal, thus get a starting Uppercase). We would need to implement the interface.",
        "createdAt" : "2020-04-23T18:26:40Z",
        "updatedAt" : "2020-04-29T21:07:28Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "e6deb577-30cb-43df-9695-11ff968d5337",
        "parentId" : "fccc130f-823e-4d77-a672-633f3f749963",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "I realized that, with the current implementation, v1alpha2 args don't get gvk, which might be dangerous.\r\nBut now there is an issue, because the nested objects get enconded into YAML before\r\nhttps://github.com/kubernetes/kubernetes/blob/470dfbfc4848cee4897a1b176d20611668820492/staging/src/k8s.io/apimachinery/pkg/runtime/serializer/json/json.go#L305-L314",
        "createdAt" : "2020-04-23T21:41:58Z",
        "updatedAt" : "2020-04-29T21:07:28Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      }
    ],
    "commit" : "98d1e241f1f337b77c30ad94e11e3bec4c1dc199",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +105,109 @@\n// DecodeNestedObjects decodes plugin args for known types.\nfunc (c *KubeSchedulerConfiguration) DecodeNestedObjects(d runtime.Decoder) error {\n\tfor i := range c.Profiles {\n\t\tprof := &c.Profiles[i]"
  },
  {
    "id" : "3a88fe5a-5dd1-4612-adc6-6c24d2108e14",
    "prId" : 90309,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/90309#pullrequestreview-398532390",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4cfd8dd8-c742-4631-8652-9cbdb9909669",
        "parentId" : null,
        "authorId" : "06cbf859-1cac-4be7-80e6-3b34dcff1812",
        "body" : "Can `c.Args.Raw` be empty slice? If so, `err` would be a plain one with message \"empty data\".",
        "createdAt" : "2020-04-22T19:14:40Z",
        "updatedAt" : "2020-04-29T21:07:28Z",
        "lastEditedBy" : "06cbf859-1cac-4be7-80e6-3b34dcff1812",
        "tags" : [
        ]
      },
      {
        "id" : "15fe4bb4-567c-42aa-bce8-117bb0729b1b",
        "parentId" : "4cfd8dd8-c742-4631-8652-9cbdb9909669",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "I added this to scheme_test.go",
        "createdAt" : "2020-04-22T19:53:55Z",
        "updatedAt" : "2020-04-29T21:07:28Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      }
    ],
    "commit" : "98d1e241f1f337b77c30ad94e11e3bec4c1dc199",
    "line" : 91,
    "diffHunk" : "@@ -1,1 +243,247 @@\t}\n\n\tobj, parsedGvk, err := d.Decode(c.Args.Raw, &gvk, nil)\n\tif err != nil {\n\t\treturn fmt.Errorf(\"decoding args for plugin %s: %w\", c.Name, err)"
  },
  {
    "id" : "03f69836-270e-4e1b-bb13-041bab23eb08",
    "prId" : 90309,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/90309#pullrequestreview-399365352",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "01ebe367-7f52-4730-9422-622cfb09773a",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "decoding nil returns success?",
        "createdAt" : "2020-04-23T15:01:52Z",
        "updatedAt" : "2020-04-29T21:07:28Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "61a18b63-b3bd-423b-a6d8-5a68c0f17f9d",
        "parentId" : "01ebe367-7f52-4730-9422-622cfb09773a",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "With the provided gvk, yes :)",
        "createdAt" : "2020-04-23T18:27:36Z",
        "updatedAt" : "2020-04-29T21:07:28Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      }
    ],
    "commit" : "98d1e241f1f337b77c30ad94e11e3bec4c1dc199",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +239,243 @@\tgvk := SchemeGroupVersion.WithKind(c.Name + \"Args\")\n\t// dry-run to detect and skip out-of-tree plugin args.\n\tif _, _, err := d.Decode(nil, &gvk, nil); runtime.IsNotRegisteredError(err) {\n\t\treturn nil\n\t}"
  },
  {
    "id" : "1f24a154-ef1c-472e-aa9e-18f49df0cf42",
    "prId" : 88768,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88768#pullrequestreview-368214576",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "985a2f09-4d58-4d77-be22-cfec8fbc4f16",
        "parentId" : null,
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "I think this requires to update `stating/publishing/import-restrictions.yaml`",
        "createdAt" : "2020-03-03T18:20:51Z",
        "updatedAt" : "2020-03-05T21:42:22Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      }
    ],
    "commit" : "1d7006c38d030a4f2a9f4d3c1e3d89e129133043",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +97,101 @@\t// with the extender. These extenders are shared by all scheduler profiles.\n\t// +listType=set\n\tExtenders []v1.Extender `json:\"extenders\"`\n}\n"
  },
  {
    "id" : "85ed618f-f456-4952-866f-fd20672f4705",
    "prId" : 88768,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88768#pullrequestreview-369899934",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bf40afbd-9248-40bf-9e0d-af02472b0f14",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Whoa, this is blowing my mind, I would have expected this to be v2alpha1 if you already have a v1?\r\n\r\nAt any rate, one generally copies types rather than cross-link versions like this.",
        "createdAt" : "2020-03-05T20:37:13Z",
        "updatedAt" : "2020-03-05T21:42:22Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "63ea96e2-e913-4825-9ac1-2246df24efd9",
        "parentId" : "bf40afbd-9248-40bf-9e0d-af02472b0f14",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "The scheduler has currently 2 APIs: Policy (v1) and componentconfig (v1alpha2)\r\n\r\nThey aren't necessarily mutually exclusive and once graduated to GA, componentconfig will be appended in v1.\r\n\r\nSo, is it at that point that we should deduplicate the types? I assume we can still share the internal types, right?",
        "createdAt" : "2020-03-05T20:40:39Z",
        "updatedAt" : "2020-03-05T21:42:22Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "b40bcf9b-3079-4ab6-99e2-c08175533714",
        "parentId" : "bf40afbd-9248-40bf-9e0d-af02472b0f14",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "ah, I see. This is probably OK then.",
        "createdAt" : "2020-03-05T20:43:54Z",
        "updatedAt" : "2020-03-05T21:42:22Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      }
    ],
    "commit" : "1d7006c38d030a4f2a9f4d3c1e3d89e129133043",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +21,25 @@\t\"k8s.io/apimachinery/pkg/runtime\"\n\tcomponentbaseconfigv1alpha1 \"k8s.io/component-base/config/v1alpha1\"\n\tv1 \"k8s.io/kube-scheduler/config/v1\"\n)\n"
  }
]