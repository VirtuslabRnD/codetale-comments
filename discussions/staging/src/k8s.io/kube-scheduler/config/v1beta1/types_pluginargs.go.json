[
  {
    "id" : "18b91b21-9a5c-4de5-802e-6434a111990a",
    "prId" : 101822,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101822#pullrequestreview-687341612",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2401fc85-24f6-47a8-939a-6dfb36fcda32",
        "parentId" : null,
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "add: Weight defaults to 1 if not specified or explicitly set to 0.",
        "createdAt" : "2021-06-18T12:13:44Z",
        "updatedAt" : "2021-06-18T12:13:44Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      }
    ],
    "commit" : "deb14b995acf9acd3d7efc1e3fcdb640f09ebdb9",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +265,269 @@\t// Resources to consider when scoring.\n\t// The default resource set includes \"cpu\" and \"memory\" with an equal weight.\n\t// Allowed weights go from 1 to 100.\n\t// Weight defaults to 1 if not specified or explicitly set to 0.\n\t// +listType=map"
  },
  {
    "id" : "21f287eb-2c41-4b14-bc6d-0ea778642e11",
    "prId" : 101822,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101822#pullrequestreview-690205420",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3e83d4fb-054c-4a1c-bf20-beecde0a0248",
        "parentId" : null,
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "this should be a reference. We wanted to revert the change, in the original one those were references.",
        "createdAt" : "2021-06-23T04:41:43Z",
        "updatedAt" : "2021-06-23T04:48:21Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      }
    ],
    "commit" : "deb14b995acf9acd3d7efc1e3fcdb640f09ebdb9",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +261,265 @@type ScoringStrategy struct {\n\t// Type selects which strategy to run.\n\tType ScoringStrategyType `json:\"type,omitempty\"`\n\n\t// Resources to consider when scoring."
  },
  {
    "id" : "7423d958-adcd-4530-957c-5cbd6700953e",
    "prId" : 101822,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/101822#pullrequestreview-692260553",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "parentId" : null,
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "We should not add this field in v1beta1 so that we don't have to worry about conflicts with existing plugins. If users want the new behavior, they can simply use v1beta2.",
        "createdAt" : "2021-06-24T17:11:24Z",
        "updatedAt" : "2021-06-24T17:12:35Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "e37c91c6-0f8c-4b89-abcc-0ec7ba409e47",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "if we do that then we will need to explicitly list the score plugin as \"deprecated\" in v1beta1, so lets keep it in v1beta1 it may also help users migrate to the new plugin.",
        "createdAt" : "2021-06-24T17:18:10Z",
        "updatedAt" : "2021-06-24T17:50:10Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "e27aec03-da3b-407e-b99d-ef13d904c843",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "It's fine to allow it. The plugin would just return immediately because there is no strategy set. I don't think it's worth the custom validation.",
        "createdAt" : "2021-06-24T18:15:34Z",
        "updatedAt" : "2021-06-24T18:15:34Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "b32659d6-5772-465b-b0da-eea78f9cf414",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "it would be confusing to users, we allow it but does nothing.",
        "createdAt" : "2021-06-24T18:16:29Z",
        "updatedAt" : "2021-06-24T18:16:29Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "2702b71e-a82c-41c8-bbe8-d1f5969a72fc",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "Then just allowing both plugins should be fine. Worst case, there are 2 scores calculating the same, essentially a weight of 2. They don't really conflict.",
        "createdAt" : "2021-06-24T18:19:17Z",
        "updatedAt" : "2021-06-24T18:19:17Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "7e3daf9f-b90d-48ff-899b-939fdeb997b9",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "the conflict validation is not complex...",
        "createdAt" : "2021-06-24T18:19:27Z",
        "updatedAt" : "2021-06-24T18:19:27Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "560c4935-9027-4569-84a1-8c00e572002e",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "The current implementation is suggesting possibility of expansion. We don't want to encourage that.",
        "createdAt" : "2021-06-24T18:24:12Z",
        "updatedAt" : "2021-06-24T18:24:13Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "41249294-1c6b-4fdb-8780-b85f063afad4",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "Expansion of what?",
        "createdAt" : "2021-06-24T18:26:00Z",
        "updatedAt" : "2021-06-24T18:26:01Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "ab590e85-fefe-45e9-983a-a34195331ad8",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "Of conflict checking. In general, we don't want to check for conflicts on released API versions.",
        "createdAt" : "2021-06-24T18:29:18Z",
        "updatedAt" : "2021-06-24T18:29:18Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "e824d366-2db3-4e19-b207-0fd4d8166f4a",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "We are not checking for conflicts against released plugins, this is a new plugin and we are adding validation to that specific newly released plugin, there is no change of behavior. Also, any misinterpretation of intent can be fixed with a comment if we are worried about future additions to this list (which we will remove with v1beta1 deprecation).",
        "createdAt" : "2021-06-24T18:32:57Z",
        "updatedAt" : "2021-06-24T18:32:57Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "93f08cee-5203-44f6-8e6e-5d454bdf3705",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "> Then just allowing both plugins should be fine. Worst case, there are 2 scores calculating the same, essentially a weight of 2. They don't really conflict.\r\n\r\nThis adds even more confusion to the users.\r\n\r\nWhat problem are you trying to solve? having those few lines of code is not significant compared to protecting users from surprises.",
        "createdAt" : "2021-06-24T18:35:50Z",
        "updatedAt" : "2021-06-24T18:35:50Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "32cea323-cf30-4e76-b7a3-f78f71910cb2",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "I'm trying to prevent a misuse of the current conflict detection machinery that could break old APIs in the future.",
        "createdAt" : "2021-06-24T18:53:22Z",
        "updatedAt" : "2021-06-24T18:53:22Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "1756bd3f-1838-4fd6-96b1-164c8f69cec1",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "But that applies to all validation logic, we can break old APIs by altering any existing validation logic, and we can only prevent that with reviews. As for the new conflict checking logic, as I mentioned, we can clarify intent with proper commenting that discourages expending it, and it only exists to support a legacy case. In my opinion, protecting users from surprises takes higher priority here. ",
        "createdAt" : "2021-06-24T18:59:15Z",
        "updatedAt" : "2021-06-24T18:59:15Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      },
      {
        "id" : "cf498fc9-b8ce-4e00-9de7-85ff04f35c17",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "> this is a new plugin\r\n\r\nThe plugin was in 1.21:\r\n\r\nhttps://github.com/kubernetes/kubernetes/blob/release-1.21/staging/src/k8s.io/kube-scheduler/config/v1beta1/types_pluginargs.go#L79-L93\r\n\r\nI don't think we should add new capabilities to the v1beta1 config and simultaneously add conflict detection on that API version. It's easier to leave v1beta1 alone, limit the scheduler behavior changes to fields which can only be set using v1beta2 config, and limit deprecations to new config versions",
        "createdAt" : "2021-06-24T21:40:13Z",
        "updatedAt" : "2021-06-24T21:40:13Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "6426e96b-7eab-4ef9-acef-225a6b1154cd",
        "parentId" : "7dd893bd-fae1-4c6b-9c37-940e451a72f2",
        "authorId" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "body" : "This is a new **scoring** plugin, the new validation on conflict is not a breaking change because the validation will be on the scoring set only.",
        "createdAt" : "2021-06-24T21:57:20Z",
        "updatedAt" : "2021-06-24T22:10:57Z",
        "lastEditedBy" : "570b631b-84a0-4888-a815-ca0e7934e412",
        "tags" : [
        ]
      }
    ],
    "commit" : "deb14b995acf9acd3d7efc1e3fcdb640f09ebdb9",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +98,102 @@\t// ScoringStrategy selects the node resource scoring strategy.\n\t// The default strategy is LeastAllocated with an equal \"cpu\" and \"memory\" weight.\n\tScoringStrategy *ScoringStrategy `json:\"scoringStrategy,omitempty\"`\n}\n"
  },
  {
    "id" : "c25f780a-06cf-42c2-b7e2-23082400a705",
    "prId" : 95048,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95048#pullrequestreview-497046337",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ae731482-1027-48c4-b1dd-47e4ed6aa12e",
        "parentId" : null,
        "authorId" : "1fde46ca-8fae-4b82-9978-f266fdae6ffe",
        "body" : "add back \"// +optional\" for this config and `DisableDefaultConstraints` below.",
        "createdAt" : "2020-09-25T10:21:57Z",
        "updatedAt" : "2020-10-09T21:12:28Z",
        "lastEditedBy" : "1fde46ca-8fae-4b82-9978-f266fdae6ffe",
        "tags" : [
        ]
      },
      {
        "id" : "b928ef27-ea00-4749-81fd-e1f734d262ba",
        "parentId" : "ae731482-1027-48c4-b1dd-47e4ed6aa12e",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "What was that for again? What's the documentation for it?\r\n\r\nI arrived to this, which doesn't help https://github.com/kubernetes/kube-openapi/blob/master/pkg/idl/doc.go#L109",
        "createdAt" : "2020-09-25T14:24:22Z",
        "updatedAt" : "2020-10-09T21:12:28Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "5b0715af-d2dd-4ee1-bc55-c635888f8566",
        "parentId" : "ae731482-1027-48c4-b1dd-47e4ed6aa12e",
        "authorId" : "1fde46ca-8fae-4b82-9978-f266fdae6ffe",
        "body" : "We'd better to keep the still valid comment directive here. I don't have a better documentation for it either, seems like this will help to generate a better API documentation? I am not sure.",
        "createdAt" : "2020-09-27T03:09:52Z",
        "updatedAt" : "2020-10-09T21:12:28Z",
        "lastEditedBy" : "1fde46ca-8fae-4b82-9978-f266fdae6ffe",
        "tags" : [
        ]
      }
    ],
    "commit" : "c8a0b9e8e7d5d0535a03ffa94f87e504aac483ad",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +95,99 @@\t// When not empty, .defaultingType must be \"List\".\n\t// +optional\n\t// +listType=atomic\n\tDefaultConstraints []corev1.TopologySpreadConstraint `json:\"defaultConstraints,omitempty\"`\n"
  },
  {
    "id" : "528e8b9c-abed-4c75-8960-65851e7a0b4e",
    "prId" : 95048,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95048#pullrequestreview-505992138",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fa18fb1e-da04-4ed8-ac8c-14721e6fd7b3",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Mention that this only applies if .defaultingType is \"List\".",
        "createdAt" : "2020-10-09T20:43:13Z",
        "updatedAt" : "2020-10-09T21:12:28Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "328edcfd-c3f2-4b6c-a9fa-b7a58bb0fd67",
        "parentId" : "fa18fb1e-da04-4ed8-ac8c-14721e6fd7b3",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "Done",
        "createdAt" : "2020-10-09T21:12:50Z",
        "updatedAt" : "2020-10-09T21:12:51Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      }
    ],
    "commit" : "c8a0b9e8e7d5d0535a03ffa94f87e504aac483ad",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +92,96 @@\t// `.defaultConstraints[*].labelSelectors` must be empty, as they are\n\t// deduced from the Pod's membership to Services, ReplicationControllers,\n\t// ReplicaSets or StatefulSets.\n\t// When not empty, .defaultingType must be \"List\".\n\t// +optional"
  },
  {
    "id" : "8745050f-9667-4291-8760-a7a600c42a05",
    "prId" : 95048,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95048#pullrequestreview-505992188",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c883c372-1a87-479e-9d3f-d8dac78cd990",
        "parentId" : null,
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Mention the default of this field?",
        "createdAt" : "2020-10-09T20:43:34Z",
        "updatedAt" : "2020-10-09T21:12:28Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "eab8c3ff-3c7b-4623-b96d-756da2afbf32",
        "parentId" : "c883c372-1a87-479e-9d3f-d8dac78cd990",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "It depends on the feature gate. I guess that's fair to mention until it gets deleted?",
        "createdAt" : "2020-10-09T21:02:52Z",
        "updatedAt" : "2020-10-09T21:12:28Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      },
      {
        "id" : "c61d4881-fd7e-4902-9775-0ba9d7a90415",
        "parentId" : "c883c372-1a87-479e-9d3f-d8dac78cd990",
        "authorId" : "b86e7e78-bb07-417f-8470-39407559c779",
        "body" : "Yeah, I think so.",
        "createdAt" : "2020-10-09T21:07:57Z",
        "updatedAt" : "2020-10-09T21:12:28Z",
        "lastEditedBy" : "b86e7e78-bb07-417f-8470-39407559c779",
        "tags" : [
        ]
      },
      {
        "id" : "0d838d45-9095-4727-910a-33080bf3c9d6",
        "parentId" : "c883c372-1a87-479e-9d3f-d8dac78cd990",
        "authorId" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "body" : "Done",
        "createdAt" : "2020-10-09T21:12:56Z",
        "updatedAt" : "2020-10-09T21:12:56Z",
        "lastEditedBy" : "31fbce73-ef64-43f8-9faa-047479d8fc32",
        "tags" : [
        ]
      }
    ],
    "commit" : "c8a0b9e8e7d5d0535a03ffa94f87e504aac483ad",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +107,111 @@\t// Defaults to \"List\" if feature gate DefaultPodTopologySpread is disabled\n\t// and to \"System\" if enabled.\n\t// +optional\n\tDefaultingType PodTopologySpreadConstraintsDefaulting `json:\"defaultingType,omitempty\"`\n}"
  },
  {
    "id" : "abe8eaac-4baf-4772-8893-04b5b79dae60",
    "prId" : 94814,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94814#pullrequestreview-504279905",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1b276541-d1a2-4177-9e00-408d18533f9b",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "document default, min, and max",
        "createdAt" : "2020-10-07T20:13:23Z",
        "updatedAt" : "2020-11-04T22:40:12Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "d8d2b77b-20b6-4074-bae1-382ac1313552",
        "parentId" : "1b276541-d1a2-4177-9e00-408d18533f9b",
        "authorId" : "521b6fc2-4b36-4594-8b5b-9d1e5bcc8759",
        "body" : "Done.",
        "createdAt" : "2020-10-07T21:27:01Z",
        "updatedAt" : "2020-11-04T22:40:13Z",
        "lastEditedBy" : "521b6fc2-4b36-4594-8b5b-9d1e5bcc8759",
        "tags" : [
        ]
      }
    ],
    "commit" : "a3d94b53ca43e0f1087a7b9c2e5809e6430c6b53",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +30,34 @@\n\t// MinCandidateNodesPercentage is the minimum number of candidates to\n\t// shortlist when dry running preemption as a percentage of number of nodes.\n\t// Must be in the range [0, 100]. Defaults to 10% of the cluster size if\n\t// unspecified."
  }
]