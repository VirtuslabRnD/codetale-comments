[
  {
    "id" : "09f1ba36-05a1-478a-af7c-067838acadaa",
    "prId" : 98946,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/98946#pullrequestreview-601513874",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "904987a9-a472-4f53-ab58-9b6a805af373",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "is the generated suffix expected to be stable or is it ok that this changed?",
        "createdAt" : "2021-03-02T04:26:03Z",
        "updatedAt" : "2021-03-09T00:51:26Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "36fbdfb1-6a3a-4721-b3f4-ea167b2eb515",
        "parentId" : "904987a9-a472-4f53-ab58-9b6a805af373",
        "authorId" : "273a1fe2-2c42-473d-a40f-7ed06da98d90",
        "body" : "The hashes are stable for a given major version of the software, but that changed here - the serialization scheme differs.  So it's an expected change.  is it ok?\r\n\r\nsay one uses old kustomize and new kustomize on the same cluster, which can happen because version skew is allowed.  Old kustomize creates a map with content \"foo\" and a deployment pointing to it.  New kustomize is used to create a new map with new content \"bar\", and a patch for the deployment telling it to look at the new map.\r\n\r\nSay new kustomize hashes the new \"bar\" content to the same 256 bits.  So the map's name doesn't change, meaning the Deployment has no reason to load the new data, so the user doesn't get the change they want.  The chance of this happening is the chance of a `crypto/sha256` collision, and presumably can happen despite using only one version of kustomize.  \r\n\r\nI don't see production problems here, but it will annoy people who've established test coverage that contains the names of generated maps or secrets.  We've not promised those would be stable over major releases.\r\n",
        "createdAt" : "2021-03-02T07:52:36Z",
        "updatedAt" : "2021-03-09T00:51:26Z",
        "lastEditedBy" : "273a1fe2-2c42-473d-a40f-7ed06da98d90",
        "tags" : [
        ]
      }
    ],
    "commit" : "ba39d22e3976540d66fde0a650a7a463d75d5b17",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +92,96 @@  labels:\n    app: nginx\n  name: foo-literalConfigMap-bar-g5f6t456f5\n  namespace: ns1\n---"
  },
  {
    "id" : "46945e19-9cc7-4ac3-8917-11aa4cc54633",
    "prId" : 98946,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/98946#pullrequestreview-601514152",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f95d9cde-a09e-460b-a3cf-2639f44bed6c",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "same question about the generated suffix changing",
        "createdAt" : "2021-03-02T04:26:15Z",
        "updatedAt" : "2021-03-09T00:51:26Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "03c96e28-a4d4-4578-9bf8-06240785634b",
        "parentId" : "f95d9cde-a09e-460b-a3cf-2639f44bed6c",
        "authorId" : "273a1fe2-2c42-473d-a40f-7ed06da98d90",
        "body" : "same thing happening here",
        "createdAt" : "2021-03-02T07:53:03Z",
        "updatedAt" : "2021-03-09T00:51:26Z",
        "lastEditedBy" : "273a1fe2-2c42-473d-a40f-7ed06da98d90",
        "tags" : [
        ]
      }
    ],
    "commit" : "ba39d22e3976540d66fde0a650a7a463d75d5b17",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +105,109 @@  labels:\n    app: nginx\n  name: foo-secret-bar-82c2g5f8f6\n  namespace: ns1\ntype: Opaque"
  }
]