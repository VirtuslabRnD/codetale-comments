[
  {
    "id" : "ef4225c3-c8de-450d-99fd-146887eb3cb7",
    "prId" : 74140,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74140#pullrequestreview-205408671",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dbd877f6-3f4a-41aa-a58e-1cb8e8112ec4",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "it's likely many FilenameOptions/Builder users will not call this new method. should this validation go into `Builder#FilenameParam` and append to Builder#errs instead?",
        "createdAt" : "2019-02-16T02:23:54Z",
        "updatedAt" : "2019-02-26T22:13:23Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "2bf7e411-98fd-44e8-a34a-f3b018329190",
        "parentId" : "dbd877f6-3f4a-41aa-a58e-1cb8e8112ec4",
        "authorId" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "body" : "I added two functions to `FilenameOptions`: `Validate()` and `IsSourceEmpty()`. \r\n\r\n`Validate()` is to make sure there is no `-f` and `-k` conflicts. This function is needed wherever `FilenameOptions` is used. So it makes sense to move it into `Builder#FilenameParam`.  \r\n\r\n`IsSourceEmpty()` is to check both `-f` and `-k` are not set. This is used to make sure at least one of `-f` and `-k` is specified. There are subcommands such as `apply`. Previously, `-f` is required in those subcommands. So we need to change them to require one of `-f` and `-k`. ",
        "createdAt" : "2019-02-19T17:21:08Z",
        "updatedAt" : "2019-02-26T22:13:23Z",
        "lastEditedBy" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "tags" : [
        ]
      },
      {
        "id" : "49098789-2180-43e8-aa35-fcac7af4348f",
        "parentId" : "dbd877f6-3f4a-41aa-a58e-1cb8e8112ec4",
        "authorId" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "body" : "`validate` now is triggered inside `FilenameParam` function. In addition, I renamed `IsSourceEmpty()` to `RequireFilenameOrKustomize`.",
        "createdAt" : "2019-02-19T19:31:02Z",
        "updatedAt" : "2019-02-26T22:13:23Z",
        "lastEditedBy" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "tags" : [
        ]
      }
    ],
    "commit" : "127c2f1e7410b68510a850c44e7f6e3c63bb42f4",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +137,141 @@func (o *FilenameOptions) validate() []error {\n\tvar errs []error\n\tif len(o.Filenames) > 0 && len(o.Kustomize) > 0 {\n\t\terrs = append(errs, fmt.Errorf(\"only one of -f or -k can be specified\"))\n\t}"
  },
  {
    "id" : "91861967-4308-4df7-98f9-8c42fc375e21",
    "prId" : 74140,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/74140#pullrequestreview-207707618",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "72728599-b7c2-4b14-b35b-fedf1910fbb6",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "if this doesn't validate, should we return early?",
        "createdAt" : "2019-02-22T05:21:53Z",
        "updatedAt" : "2019-02-26T22:13:23Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "52961330-be5f-450d-8e65-eaf4cde7cdd5",
        "parentId" : "72728599-b7c2-4b14-b35b-fedf1910fbb6",
        "authorId" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "body" : "Yes, we should. I'll update it.",
        "createdAt" : "2019-02-22T16:40:06Z",
        "updatedAt" : "2019-02-26T22:13:23Z",
        "lastEditedBy" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "tags" : [
        ]
      },
      {
        "id" : "7a6fe948-88ec-491a-b335-67f4a899c9ff",
        "parentId" : "72728599-b7c2-4b14-b35b-fedf1910fbb6",
        "authorId" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "body" : "updated it.",
        "createdAt" : "2019-02-26T00:32:17Z",
        "updatedAt" : "2019-02-26T22:13:23Z",
        "lastEditedBy" : "02186dc1-661d-4676-abc0-1cb761b7a64e",
        "tags" : [
        ]
      }
    ],
    "commit" : "127c2f1e7410b68510a850c44e7f6e3c63bb42f4",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +216,220 @@func (b *Builder) FilenameParam(enforceNamespace bool, filenameOptions *FilenameOptions) *Builder {\n\tif errs := filenameOptions.validate(); len(errs) > 0 {\n\t\tb.errs = append(b.errs, errs...)\n\t\treturn b\n\t}"
  }
]