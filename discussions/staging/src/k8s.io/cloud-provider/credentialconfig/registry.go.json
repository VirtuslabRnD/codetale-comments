[
  {
    "id" : "507e9b2a-7326-49a7-9acc-84a1ad8e8231",
    "prId" : 95775,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95775#pullrequestreview-573714973",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d73b8d19-40f6-45a1-ae9d-1cdccff6b30e",
        "parentId" : null,
        "authorId" : "31a53f84-ffd9-4c4e-9545-3b1e1c097451",
        "body" : "@andyzhangx @nilo19 Continuing our discussion from https://github.com/kubernetes-sigs/cloud-provider-azure/issues/289, I was hoping this might work for the Azure external credential provider. This should be fairly close to `DockerConfigEntry`, sans `Provider` and a couple other details. Converting from `RegistryConfig` to `DockerConfig`/from `RegistryConfigEntry` to `DockerConfigEntry` is as simple as:\r\n\r\n```go\r\nfunc registryToDocker(registryConfig credentialconfig.RegistryConfig) credentialprovider.DockerConfig {\r\n\tdockerConfig := credentialprovider.DockerConfig{}\r\n\tfor k, v := range registryConfig {\r\n\t\tdockerConfig[k] = credentialprovider.DockerConfigEntry{\r\n\t\t\tUsername: v.Username,\r\n\t\t\tPassword: v.Password,\r\n\t\t\tEmail:    v.Email,\r\n\t\t}\r\n\t}\r\n\treturn dockerConfig\r\n}\r\n```\r\n\r\n@andrewsykim - feel free to weigh in if you have any thoughts, too!",
        "createdAt" : "2021-01-20T17:48:06Z",
        "updatedAt" : "2021-03-02T00:09:33Z",
        "lastEditedBy" : "31a53f84-ffd9-4c4e-9545-3b1e1c097451",
        "tags" : [
        ]
      },
      {
        "id" : "364697a7-e8d1-4d08-9ebe-924586640ac1",
        "parentId" : "d73b8d19-40f6-45a1-ae9d-1cdccff6b30e",
        "authorId" : "e0218e0a-9e55-43f5-8929-04673eea9015",
        "body" : "@DangerOnTheRanger thanks, lgtm. And what's the next action when this PR get merged? Do I need to implement similar functionalities in staging folder for Azure credential provider? ",
        "createdAt" : "2021-01-21T13:33:12Z",
        "updatedAt" : "2021-03-02T00:09:33Z",
        "lastEditedBy" : "e0218e0a-9e55-43f5-8929-04673eea9015",
        "tags" : [
        ]
      },
      {
        "id" : "8dcb3e74-0e3b-4b28-8f61-117b0da4b926",
        "parentId" : "d73b8d19-40f6-45a1-ae9d-1cdccff6b30e",
        "authorId" : "31a53f84-ffd9-4c4e-9545-3b1e1c097451",
        "body" : "Refactoring out the main functionality of the credential provider into a package in staging/ while leaving behind anything specific to pkg/credentialprovider should be sufficient. It needs to undergo some review, but the GCP credential provider code in this PR should provide a good example, with both pkg/credentialprovider/gcp and staging/k8s.io/legacy-cloud-providers/gce/gcpcredential.",
        "createdAt" : "2021-01-21T20:36:23Z",
        "updatedAt" : "2021-03-02T00:09:33Z",
        "lastEditedBy" : "31a53f84-ffd9-4c4e-9545-3b1e1c097451",
        "tags" : [
        ]
      }
    ],
    "commit" : "0dcafb1f37ee522be3c045753623138e5b907001",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +25,29 @@\n// RegistryConfigEntry wraps a docker config as a entry\ntype RegistryConfigEntry struct {\n\tUsername string\n\tPassword string"
  }
]