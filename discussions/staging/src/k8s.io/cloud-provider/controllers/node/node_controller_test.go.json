[
  {
    "id" : "40dec1d5-8748-4009-b1fd-b52ebc224b15",
    "prId" : 95342,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95342#pullrequestreview-504131051",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "adf601d5-ae2e-461d-a6bb-53cf41f756d6",
        "parentId" : null,
        "authorId" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "body" : "Nice, thank you for adding this!",
        "createdAt" : "2020-10-07T17:56:49Z",
        "updatedAt" : "2020-10-08T19:41:08Z",
        "lastEditedBy" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "tags" : [
        ]
      }
    ],
    "commit" : "db8774391309cefa185668e5799c5f7f0b3d723a",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +1881,1885 @@}\n\nfunc TestGetProviderID(t *testing.T) {\n\ttests := []struct {\n\t\tname               string"
  },
  {
    "id" : "a69443a4-9157-4b23-9885-41290c400d53",
    "prId" : 95342,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95342#pullrequestreview-504346526",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "abf58cf8-3dfc-48f3-9833-aa6cd2ff1942",
        "parentId" : null,
        "authorId" : "7e9fb5d8-50c6-43cb-99c1-327a2bc8005d",
        "body" : "@andrewsykim added a unit test to return an empty string, PTAL :)",
        "createdAt" : "2020-10-08T00:01:21Z",
        "updatedAt" : "2020-10-08T19:41:08Z",
        "lastEditedBy" : "7e9fb5d8-50c6-43cb-99c1-327a2bc8005d",
        "tags" : [
        ]
      }
    ],
    "commit" : "db8774391309cefa185668e5799c5f7f0b3d723a",
    "line" : 163,
    "diffHunk" : "@@ -1,1 +2013,2017 @@\t\t\texpectedProviderID: \"fake://12345\",\n\t\t},\n\t\t{\n\t\t\tname: \"cloud implemented with InstancesV2 (without providerID)\",\n\t\t\tfakeCloud: &fakecloud.Cloud{"
  },
  {
    "id" : "56fa0410-866c-445e-9c1b-6e23f53b6eac",
    "prId" : 95342,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95342#pullrequestreview-504407868",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "27d715da-348e-4d88-a1e8-92c2f905d5f8",
        "parentId" : null,
        "authorId" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "body" : "I think getProviderID can actually be tested without setting up the controller and running informers",
        "createdAt" : "2020-10-08T00:24:50Z",
        "updatedAt" : "2020-10-08T19:41:08Z",
        "lastEditedBy" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "tags" : [
        ]
      },
      {
        "id" : "d1e9abfb-01d6-4a94-9af6-4541a5e32ec8",
        "parentId" : "27d715da-348e-4d88-a1e8-92c2f905d5f8",
        "authorId" : "7e9fb5d8-50c6-43cb-99c1-327a2bc8005d",
        "body" : "yeah you are right, but we need to at least set up one item in cloudNodeController to avoid runtime error, e.g. nil pointer",
        "createdAt" : "2020-10-08T03:41:37Z",
        "updatedAt" : "2020-10-08T19:41:08Z",
        "lastEditedBy" : "7e9fb5d8-50c6-43cb-99c1-327a2bc8005d",
        "tags" : [
        ]
      }
    ],
    "commit" : "db8774391309cefa185668e5799c5f7f0b3d723a",
    "line" : 211,
    "diffHunk" : "@@ -1,1 +2061,2065 @@\tfor _, test := range tests {\n\t\tt.Run(test.name, func(t *testing.T) {\n\t\t\tcloudNodeController := &CloudNodeController{\n\t\t\t\tcloud: test.fakeCloud,\n\t\t\t}"
  },
  {
    "id" : "cf0ea542-54fe-4ddd-b469-45cb42f44fcc",
    "prId" : 95342,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/95342#pullrequestreview-505071524",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1ff2d918-744c-437b-aceb-f97861120f03",
        "parentId" : null,
        "authorId" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "body" : "I think we still want a test case where the existing node doesn't have provider ID already set. I think this requires a larger refactor in the fake cloud provider though, so I'm okay to address this in a follow-up PR ",
        "createdAt" : "2020-10-08T18:50:09Z",
        "updatedAt" : "2020-10-08T19:41:08Z",
        "lastEditedBy" : "6dd71efb-88b1-4bb0-b30a-0df658362f14",
        "tags" : [
        ]
      }
    ],
    "commit" : "db8774391309cefa185668e5799c5f7f0b3d723a",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +765,769 @@\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tProviderID: \"fake://12345\",\n\t\t\t\t},\n\t\t\t},"
  },
  {
    "id" : "35ab62c1-553a-4a3c-8b0f-256ac0909698",
    "prId" : 94736,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/94736#pullrequestreview-489119960",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a1538087-5322-4730-9ab9-da0d0fede8a2",
        "parentId" : null,
        "authorId" : "7e9fb5d8-50c6-43cb-99c1-327a2bc8005d",
        "body" : "@andrewsykim I got a wired thing, even if I set up the lister correctly, I still get \r\n```\r\n--- FAIL: TestGCEConditionV2 (0.10s)\r\n    node_controller_test.go:1403:\r\n        \tError Trace:\tnode_controller_test.go:1403\r\n        \tError:      \tShould be true\r\n        \tTest:       \tTestGCEConditionV2\r\n        \tMessages:   \tNetwork Route Condition for GCE not added by external cloud initializer\r\nI0915 13:56:13.190000   55392 node_controller.go:438] Initializing node node0 with cloud provider\r\nI0915 13:56:13.190204   55392 node_controller.go:472] Successfully initialized node node0 with cloud provider\r\nI0915 13:56:13.190262   55392 event.go:282] Event(v1.ObjectReference{Kind:\"Node\", Namespace:\"\", Name:\"node0\", UID:\"\", APIVersion:\"v1\", ResourceVersion:\"\", FieldPath:\"\"}): type: 'Normal' reason: 'Synced' Node synced successfully\r\n--- FAIL: TestGCECondition (0.10s)\r\n    node_controller_test.go:1491:\r\n        \tError Trace:\tnode_controller_test.go:1491\r\n        \tError:      \tShould be true\r\n        \tTest:       \tTestGCECondition\r\n        \tMessages:   \tNetwork Route Condition for GCE not added by external cloud initializer\r\nFAIL\r\nFAIL\tk8s.io/cloud-provider/controllers/node\t1.959s\r\nFAIL\r\n```\r\nBut the logs look fine\r\nAnd when I trigger the test directly from my IDE, I got the tests running correctly, but running \"go test ./...\" commands will show the failing tests with above message",
        "createdAt" : "2020-09-15T20:58:23Z",
        "updatedAt" : "2020-09-16T22:42:03Z",
        "lastEditedBy" : "7e9fb5d8-50c6-43cb-99c1-327a2bc8005d",
        "tags" : [
        ]
      },
      {
        "id" : "65a76c8c-0798-4f30-8b76-58059ffc62a8",
        "parentId" : "a1538087-5322-4730-9ab9-da0d0fede8a2",
        "authorId" : "7e9fb5d8-50c6-43cb-99c1-327a2bc8005d",
        "body" : "and https://prow.k8s.io/view/gs/kubernetes-jenkins/pr-logs/pull/94736/pull-kubernetes-bazel-test/1305973363159601155 logs the error ðŸ¤” But not sure where goes wrong",
        "createdAt" : "2020-09-15T21:32:40Z",
        "updatedAt" : "2020-09-16T22:42:03Z",
        "lastEditedBy" : "7e9fb5d8-50c6-43cb-99c1-327a2bc8005d",
        "tags" : [
        ]
      }
    ],
    "commit" : "4ba09a82227fa683d987c28aa10c59c629f15583",
    "line" : 72,
    "diffHunk" : "@@ -1,1 +1471,1475 @@\tfactory.Start(nil)\n\tfactory.WaitForCacheSync(nil)\n\n\tw := eventBroadcaster.StartLogging(klog.Infof)\n\tdefer w.Stop()"
  }
]