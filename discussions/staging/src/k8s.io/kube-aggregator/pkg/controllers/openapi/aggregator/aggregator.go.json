[
  {
    "id" : "33e2ae77-c682-43d4-bd6f-424e71154c9a",
    "prId" : 73953,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/73953#pullrequestreview-202912921",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d1bf6449-8011-41b8-a952-6eb20b204500",
        "parentId" : null,
        "authorId" : "ec801d33-3a38-47a2-a267-f72db1de574b",
        "body" : "can we add `s. addLocalSpecCalled = true` and then panic when this function is called again? ",
        "createdAt" : "2019-02-12T12:38:26Z",
        "updatedAt" : "2019-02-12T15:06:23Z",
        "lastEditedBy" : "ec801d33-3a38-47a2-a267-f72db1de574b",
        "tags" : [
        ]
      },
      {
        "id" : "442dd151-1037-4b3b-aee4-8b24c1a5ff29",
        "parentId" : "d1bf6449-8011-41b8-a952-6eb20b204500",
        "authorId" : "ec801d33-3a38-47a2-a267-f72db1de574b",
        "body" : "or rename this to `addLocalSpecOnce` ?",
        "createdAt" : "2019-02-12T12:38:41Z",
        "updatedAt" : "2019-02-12T15:06:23Z",
        "lastEditedBy" : "ec801d33-3a38-47a2-a267-f72db1de574b",
        "tags" : [
        ]
      },
      {
        "id" : "07a8e13a-d321-4d12-b3aa-c9a5db67dde6",
        "parentId" : "d1bf6449-8011-41b8-a952-6eb20b204500",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "Why?\r\n\r\nIt's only called from the speAggregator constructor `BuildAndRegisterAggregator`. What are you fearing here?",
        "createdAt" : "2019-02-12T12:45:30Z",
        "updatedAt" : "2019-02-12T15:06:23Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "c1492c70-bed6-4f51-84ed-df79a746ea77",
        "parentId" : "d1bf6449-8011-41b8-a952-6eb20b204500",
        "authorId" : "ec801d33-3a38-47a2-a267-f72db1de574b",
        "body" : "@sttts fearing every function that has \"should be only called once on startup\"  :-)",
        "createdAt" : "2019-02-12T12:50:32Z",
        "updatedAt" : "2019-02-12T15:06:23Z",
        "lastEditedBy" : "ec801d33-3a38-47a2-a267-f72db1de574b",
        "tags" : [
        ]
      },
      {
        "id" : "e14b82f8-c9c4-4f47-b6cb-59f51a0e4197",
        "parentId" : "d1bf6449-8011-41b8-a952-6eb20b204500",
        "authorId" : "7f521a0d-2137-47c7-a390-3b4bdcffe306",
        "body" : "I will point out that the function is private and restricted to be used in this file. For that I won't add a once to be called logic. Also it may run more than once for local specs on startup.",
        "createdAt" : "2019-02-12T21:19:37Z",
        "updatedAt" : "2019-02-12T21:19:38Z",
        "lastEditedBy" : "7f521a0d-2137-47c7-a390-3b4bdcffe306",
        "tags" : [
        ]
      }
    ],
    "commit" : "a48c9f2fb65e7378247031976867a5237d86a0e1",
    "line" : 93,
    "diffHunk" : "@@ -1,1 +115,119 @@\n// This function is not thread safe as it only being called on startup.\nfunc (s *specAggregator) addLocalSpec(spec *spec.Swagger, localHandler http.Handler, name, etag string) {\n\tlocalAPIService := apiregistration.APIService{}\n\tlocalAPIService.Name = name"
  }
]