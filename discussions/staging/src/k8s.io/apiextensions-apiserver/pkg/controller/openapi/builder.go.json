[
  {
    "id" : "c27879b3-766a-4093-81ac-b4d55fe55b0d",
    "prId" : 80074,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/80074#pullrequestreview-261172139",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e289c8c0-eceb-4de1-95a1-a6c468b775c6",
        "parentId" : null,
        "authorId" : "13c01cb8-6052-4a98-b6fd-20d3acd6332f",
        "body" : "at this point we could simply add `nameParam` to `params` and pass `params` to the `buildRoute` method for all invocations bellow. WDYT ?",
        "createdAt" : "2019-07-12T07:39:51Z",
        "updatedAt" : "2019-08-08T10:57:31Z",
        "lastEditedBy" : "13c01cb8-6052-4a98-b6fd-20d3acd6332f",
        "tags" : [
        ]
      },
      {
        "id" : "e8636558-7c67-4ac2-9157-ebede054f8c4",
        "parentId" : "e289c8c0-eceb-4de1-95a1-a6c468b775c6",
        "authorId" : "bc182326-9017-48d6-8ee0-4609046c1366",
        "body" : "good point",
        "createdAt" : "2019-07-12T10:07:06Z",
        "updatedAt" : "2019-08-08T10:57:31Z",
        "lastEditedBy" : "bc182326-9017-48d6-8ee0-4609046c1366",
        "tags" : [
        ]
      }
    ],
    "commit" : "18c27b77dc03d6deafcb36286de45bd025614440",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +108,112 @@\troutes = append(routes, b.buildRoute(root, \"\", \"POST\", \"post\", \"create\", sample).Reads(sample))\n\troutes = append(routes, b.buildRoute(root, \"\", \"DELETE\", \"deletecollection\", \"deletecollection\", status))\n\n\troutes = append(routes, b.buildRoute(root, \"/{name}\", \"GET\", \"get\", \"read\", sample))\n\troutes = append(routes, b.buildRoute(root, \"/{name}\", \"PUT\", \"put\", \"replace\", sample).Reads(sample))"
  },
  {
    "id" : "9daded79-6de2-4096-9452-5dcc9cfe3f4c",
    "prId" : 78788,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/78788#pullrequestreview-247267782",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1fc5556b-eb7e-4f83-9dcd-663181c0256d",
        "parentId" : null,
        "authorId" : "695b6860-569c-4e63-a215-7342e2279a94",
        "body" : "ideally I'd expect this to happen in [unfold](https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/apiextensions-apiserver/pkg/apiserver/schema/unfold.go) or at least before `ToStructuralOpenAPIV2` conversion. I can see it being here for now given the builtin schemata only use v2 features, and depend on go-openapi heavily",
        "createdAt" : "2019-06-07T16:34:25Z",
        "updatedAt" : "2019-06-10T14:36:04Z",
        "lastEditedBy" : "695b6860-569c-4e63-a215-7342e2279a94",
        "tags" : [
        ]
      },
      {
        "id" : "9ce8ae32-3a03-4a01-bb61-cc063769ca1d",
        "parentId" : "1fc5556b-eb7e-4f83-9dcd-663181c0256d",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "true. That's why we have unfold.",
        "createdAt" : "2019-06-07T16:51:08Z",
        "updatedAt" : "2019-06-10T14:36:04Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "b234cf5a-4d57-4626-804e-ae96162e0638",
        "parentId" : "1fc5556b-eb7e-4f83-9dcd-663181c0256d",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "I initially added it there but it made round tripping weird",
        "createdAt" : "2019-06-07T19:24:29Z",
        "updatedAt" : "2019-06-10T14:36:04Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "d86cc85448dbb733eef1c864742c043484a6661e",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +325,329 @@}\n\nfunc addEmbeddedProperties(s *spec.Schema) {\n\tif s == nil {\n\t\treturn"
  },
  {
    "id" : "6582ce21-d538-42a3-b23b-956168cae99d",
    "prId" : 78788,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/78788#pullrequestreview-247358446",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9860a3d6-862b-45f5-95f5-8267caa79b23",
        "parentId" : null,
        "authorId" : "695b6860-569c-4e63-a215-7342e2279a94",
        "body" : "we don't require kind and apiVersion in builtin schema. We can remove the requirement here to be consistent. It's okay for client-side validation to be less strict",
        "createdAt" : "2019-06-07T16:37:54Z",
        "updatedAt" : "2019-06-10T14:36:04Z",
        "lastEditedBy" : "695b6860-569c-4e63-a215-7342e2279a94",
        "tags" : [
        ]
      },
      {
        "id" : "bffb2222-5f22-4841-8739-dfede2982061",
        "parentId" : "9860a3d6-862b-45f5-95f5-8267caa79b23",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "RawExtensions need it. Otherwise, it is not a valid object.",
        "createdAt" : "2019-06-07T16:53:51Z",
        "updatedAt" : "2019-06-10T14:36:04Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "71342cdc-ff07-4926-9b48-b857f9990516",
        "parentId" : "9860a3d6-862b-45f5-95f5-8267caa79b23",
        "authorId" : "695b6860-569c-4e63-a215-7342e2279a94",
        "body" : "I assume we require them in server-side validation, and that will be sufficient\r\n\r\nhaving the requirement in client-side doesn't hurt, perhaps we could add the same to the [builtin schemata](https://raw.githubusercontent.com/kubernetes/kubernetes/master/api/openapi-spec/swagger.json) later to be consistent",
        "createdAt" : "2019-06-07T17:02:49Z",
        "updatedAt" : "2019-06-10T14:36:04Z",
        "lastEditedBy" : "695b6860-569c-4e63-a215-7342e2279a94",
        "tags" : [
        ]
      },
      {
        "id" : "0a1c29cd-39a9-4693-95c0-aa1dfafb0a7c",
        "parentId" : "9860a3d6-862b-45f5-95f5-8267caa79b23",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "It's required for embedded. In some cases, I think it can be inferred from the endpoint for the top-level resources. I would still like to make it required from the beginning for embedded resources here",
        "createdAt" : "2019-06-07T19:30:19Z",
        "updatedAt" : "2019-06-10T14:36:04Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "08f00c81-64ba-446e-9ef7-89e84cd7c593",
        "parentId" : "9860a3d6-862b-45f5-95f5-8267caa79b23",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "+1",
        "createdAt" : "2019-06-07T19:41:18Z",
        "updatedAt" : "2019-06-10T14:36:04Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "bc48d297-8b6b-4343-89e6-0d2ab589b1c9",
        "parentId" : "9860a3d6-862b-45f5-95f5-8267caa79b23",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "required now.",
        "createdAt" : "2019-06-08T07:16:56Z",
        "updatedAt" : "2019-06-10T14:36:04Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      }
    ],
    "commit" : "d86cc85448dbb733eef1c864742c043484a6661e",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +353,357 @@\t\treq := sets.NewString(s.Required...)\n\t\tif !req.Has(\"kind\") {\n\t\t\ts.Required = append(s.Required, \"kind\")\n\t\t}\n\t\tif !req.Has(\"apiVersion\") {"
  },
  {
    "id" : "27909852-b4f3-43ea-83ce-f6abacc58c72",
    "prId" : 77554,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77554#pullrequestreview-235564857",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41f91079-5ef6-49be-958f-a43fe947f7e7",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "This is always true from what I'm seeing, why we need it like that right now? Or am I missing something? ",
        "createdAt" : "2019-05-09T10:32:28Z",
        "updatedAt" : "2019-05-18T09:13:00Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "4943204b-e448-4e0c-b5c2-7d771474fa2a",
        "parentId" : "41f91079-5ef6-49be-958f-a43fe947f7e7",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "We will publish v3 at some point. This is the start for that.",
        "createdAt" : "2019-05-09T12:42:19Z",
        "updatedAt" : "2019-05-18T09:13:00Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      }
    ],
    "commit" : "d01e942d37eb5afbaec6135af5975269b3b3a781",
    "line" : 57,
    "diffHunk" : "@@ -1,1 +304,308 @@\t\t// unknown fields for anything else.\n\t} else {\n\t\tif v2 {\n\t\t\tschema = ToStructuralOpenAPIV2(schema)\n\t\t}"
  },
  {
    "id" : "980d0516-128d-494d-b497-9fa0dc776d9c",
    "prId" : 71192,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/71192#pullrequestreview-203223760",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f6e6b581-5106-4167-b45e-5187c7a6a7cd",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "I am surprised to see all this logic here which should be generic for every resource, not only CRDs. Where is it copied from?",
        "createdAt" : "2019-01-28T10:10:37Z",
        "updatedAt" : "2019-03-07T04:37:11Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "50ae961a-51ee-4406-90ea-1066b0c4e514",
        "parentId" : "f6e6b581-5106-4167-b45e-5187c7a6a7cd",
        "authorId" : "695b6860-569c-4e63-a215-7342e2279a94",
        "body" : "The logic comes from https://github.com/kubernetes/kubernetes/blob/8b98e802eddb9f478ff7d991a2f72f60c165388a/staging/src/k8s.io/apiserver/pkg/endpoints/installer.go#L166 It's quite complex for built-in types",
        "createdAt" : "2019-01-28T17:44:05Z",
        "updatedAt" : "2019-03-07T04:37:11Z",
        "lastEditedBy" : "695b6860-569c-4e63-a215-7342e2279a94",
        "tags" : [
        ]
      },
      {
        "id" : "fab9f4e4-deb4-4f20-83cb-50cd89ea7e64",
        "parentId" : "f6e6b581-5106-4167-b45e-5187c7a6a7cd",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "IMO it is a no-go to move forward with the PR as long as this whole code is duplicated. ",
        "createdAt" : "2019-02-13T14:00:55Z",
        "updatedAt" : "2019-03-07T04:37:11Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      }
    ],
    "commit" : "54b99413b2b58f50561b6fba20c47af979fec77e",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +98,102 @@\t\troot = fmt.Sprintf(\"/apis/%s/%s/namespaces/{namespace}/%s\", b.group, b.version, b.plural)\n\t}\n\troutes = append(routes, b.buildRoute(root, \"\", \"GET\", \"list\", sampleList))\n\troutes = append(routes, b.buildRoute(root, \"\", \"POST\", \"create\", sample).Reads(sample))\n\troutes = append(routes, b.buildRoute(root, \"\", \"DELETE\", \"deletecollection\", status))"
  }
]