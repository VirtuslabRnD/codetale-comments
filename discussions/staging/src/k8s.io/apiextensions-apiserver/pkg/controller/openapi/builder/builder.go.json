[
  {
    "id" : "ede1756b-d15f-465a-9c51-307dc26c2936",
    "prId" : 97172,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97172#pullrequestreview-563401317",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7f29dbdd-09fb-45a8-b78a-db52ead70f3a",
        "parentId" : null,
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "Maybe add a comment that this will add anyOf that needs to be stripped by the line below.",
        "createdAt" : "2020-12-10T20:33:35Z",
        "updatedAt" : "2020-12-10T23:33:33Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      },
      {
        "id" : "65012c35-227b-40a9-b2e2-e9162450d4c8",
        "parentId" : "7f29dbdd-09fb-45a8-b78a-db52ead70f3a",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "Why was this moved? In order to also skip the value validations coming from unfolding?",
        "createdAt" : "2021-01-06T10:28:39Z",
        "updatedAt" : "2021-01-06T10:28:39Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "a3b5af4c-c941-4e68-a16c-e3b709a02d7d",
        "parentId" : "7f29dbdd-09fb-45a8-b78a-db52ead70f3a",
        "authorId" : "3f579bf7-089d-41f0-abf9-3bf5462ec695",
        "body" : "Yes. Unfolding adds the `anyOf` tag if x-int-or-string is set. The tag isn't compatible with the v2 schema so we need to strip them via `schema.StripValueValidations()`",
        "createdAt" : "2021-01-06T20:32:28Z",
        "updatedAt" : "2021-01-06T20:32:28Z",
        "lastEditedBy" : "3f579bf7-089d-41f0-abf9-3bf5462ec695",
        "tags" : [
        ]
      },
      {
        "id" : "0be5f76b-ad8c-4024-94fc-1a4596931cc9",
        "parentId" : "7f29dbdd-09fb-45a8-b78a-db52ead70f3a",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "lgtm",
        "createdAt" : "2021-01-07T11:08:27Z",
        "updatedAt" : "2021-01-07T11:08:28Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      }
    ],
    "commit" : "32a64cf14cebbc706efdb301fe3b290335927a80",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +105,109 @@\n\t\t\t\t\t// This adds ValueValidation fields (anyOf, allOf) which may be stripped below if opts.StripValueValidation is true\n\t\t\t\t\tschema = schema.Unfold()\n\n\t\t\t\t\tif opts.StripValueValidation {"
  },
  {
    "id" : "3706b7ca-90da-4b18-bc04-7d4cff0e02d6",
    "prId" : 81480,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/81480#pullrequestreview-275849978",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "38267604-5c42-4a77-9002-247850729949",
        "parentId" : null,
        "authorId" : "13c01cb8-6052-4a98-b6fd-20d3acd6332f",
        "body" : "This builder always returns the spec in `v2`, the new builder will return the spec in `v3`. I'm not sure if we need to declare this field for this builder unless the `Options` struct will be shared with the new builder.",
        "createdAt" : "2019-08-16T08:59:43Z",
        "updatedAt" : "2019-08-22T11:28:21Z",
        "lastEditedBy" : "13c01cb8-6052-4a98-b6fd-20d3acd6332f",
        "tags" : [
        ]
      },
      {
        "id" : "2f04c1d6-e619-4924-b1c3-a4b0009c851e",
        "parentId" : "38267604-5c42-4a77-9002-247850729949",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "No, the spec is already partly v3. This skips the filtering we do for that (and for kubectl).",
        "createdAt" : "2019-08-16T09:13:05Z",
        "updatedAt" : "2019-08-22T11:28:21Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "4a04041f-fbb6-47c0-952d-5aa2a14e0be6",
        "parentId" : "38267604-5c42-4a77-9002-247850729949",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "The new builder will be probably independent. But that's nothing we have to decide now, but can do when we add the v3 builder. This is not meant as the final state of v3 publishing, but best effort v3 output to be used for server side apply.",
        "createdAt" : "2019-08-16T09:14:25Z",
        "updatedAt" : "2019-08-22T11:28:21Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      }
    ],
    "commit" : "c0594d2e38252b59ffc7f5b8ec0a74c0928a598b",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +69,73 @@type Options struct {\n\t// Convert to OpenAPI v2.\n\tV2 bool\n\n\t// Strip defaults."
  }
]