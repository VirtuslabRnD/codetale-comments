[
  {
    "id" : "4381f2d8-bfc3-4580-b38d-59a7f86cb6f0",
    "prId" : 78133,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/78133#pullrequestreview-239759368",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5976944f-e848-48c7-91f2-e8969a8219a6",
        "parentId" : null,
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "It seems a read lock here should suffice.",
        "createdAt" : "2019-05-20T22:51:55Z",
        "updatedAt" : "2019-05-20T22:51:56Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      },
      {
        "id" : "d11ef487-a923-4bd1-8a88-16fab7deeb2e",
        "parentId" : "5976944f-e848-48c7-91f2-e8969a8219a6",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "true, but this is a slow moving api with an extremely short critical section.  I don't expect significant contention here at all",
        "createdAt" : "2019-05-20T22:55:01Z",
        "updatedAt" : "2019-05-20T22:55:01Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "dbc7204b-ac04-4b2c-94a9-9beb91d6951c",
        "parentId" : "5976944f-e848-48c7-91f2-e8969a8219a6",
        "authorId" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "body" : "Thanks for the clarification.\r\nMaybe put the above where the mutex is declared so that people know the background",
        "createdAt" : "2019-05-20T23:01:24Z",
        "updatedAt" : "2019-05-21T00:04:32Z",
        "lastEditedBy" : "42b1e004-4fa7-4e43-84cf-5378839b49ad",
        "tags" : [
        ]
      }
    ],
    "commit" : "2cfc3c69dc7c17b2711af0168f39ed7f515675c2",
    "line" : 48,
    "diffHunk" : "@@ -1,1 +139,143 @@\n\t// avoid repeated calculation for the same generation\n\tc.lastSeenGenerationLock.Lock()\n\tlastSeen, seenBefore := c.lastSeenGeneration[inCustomResourceDefinition.Name]\n\tc.lastSeenGenerationLock.Unlock()"
  },
  {
    "id" : "3c97dfa1-9003-49a1-a204-304ad7f25857",
    "prId" : 77207,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/77207#pullrequestreview-235452636",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2cf1ab3b-8a22-4c43-b68d-2552cf17a8d8",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "from an end-user perspective, it's unclear why this would be treated differently than validation errors from ValidateStructural/ValidateStructuralCompleteness",
        "createdAt" : "2019-05-08T18:40:25Z",
        "updatedAt" : "2019-05-09T19:41:12Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "5225dbaf-9317-4fb1-a09f-014e0a0d6433",
        "parentId" : "2cf1ab3b-8a22-4c43-b68d-2552cf17a8d8",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "if we have done everything right, this will never show up at all. General validation should catch it.",
        "createdAt" : "2019-05-09T08:12:28Z",
        "updatedAt" : "2019-05-09T19:41:12Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      }
    ],
    "commit" : "c836a2518913c90d266fdd3919fabc55b6893b63",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +85,89 @@\t\ts, err := schema.NewStructural(in.Spec.Validation.OpenAPIV3Schema)\n\t\tif err != nil {\n\t\t\tcond.Reason = \"StructuralError\"\n\t\t\tcond.Message = fmt.Sprintf(\"failed to check global validation schema: %v\", err)\n\t\t\treturn cond"
  }
]