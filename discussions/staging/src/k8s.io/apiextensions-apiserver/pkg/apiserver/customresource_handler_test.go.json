[
  {
    "id" : "7546ef51-1eef-428a-9665-408e91e93290",
    "prId" : 98694,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/98694#pullrequestreview-581378468",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5c6c99d3-5edf-4448-99a3-ae8ca84578ab",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "adds a check that the model was actually built successfully",
        "createdAt" : "2021-02-02T14:08:48Z",
        "updatedAt" : "2021-02-02T16:17:36Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "394914f5449157c3aef98529a6de4c944a9d5e61",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +831,835 @@\t\t\tt.Fatalf(\"failed to convert to apply model: %v\", err)\n\t\t}\n\t\tif models == nil {\n\t\t\tt.Fatalf(\"%d: failed to convert to apply model: nil\", i)\n\t\t}"
  },
  {
    "id" : "3ac021e0-3c84-43fa-be23-02f9872766f3",
    "prId" : 98694,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/98694#pullrequestreview-581579760",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "963b1452-241a-4aab-8d1f-9814921d6fb2",
        "parentId" : null,
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "That is simpler.",
        "createdAt" : "2021-02-02T17:12:53Z",
        "updatedAt" : "2021-02-02T17:15:45Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      }
    ],
    "commit" : "394914f5449157c3aef98529a6de4c944a9d5e61",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +838,842 @@\nfunc getOpenAPISpecFromFile() (*spec.Swagger, error) {\n\tpath := filepath.Join(\"testdata\", \"swagger.json\")\n\t_, err := os.Stat(path)\n\tif err != nil {"
  },
  {
    "id" : "399a496f-79da-4c9b-b714-65e1f17063c0",
    "prId" : 97172,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97172#pullrequestreview-549578548",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a50df17b-ae49-469d-b455-b154f60c33fb",
        "parentId" : null,
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "I'm surprised you have to implement that, don't we already do that in a few places?",
        "createdAt" : "2020-12-10T20:15:02Z",
        "updatedAt" : "2020-12-10T23:33:33Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      },
      {
        "id" : "944ab262-b65e-40b1-86fc-59bacc00f936",
        "parentId" : "a50df17b-ae49-469d-b455-b154f60c33fb",
        "authorId" : "3f579bf7-089d-41f0-abf9-3bf5462ec695",
        "body" : "We do, but those convert directly from the swagger file to a proto (https://github.com/kubernetes/kube-openapi/blob/master/pkg/util/proto/testing/openapi.go#L41).\r\n\r\nWe could move this to a utility file but I'm not exactly sure where we should put it.",
        "createdAt" : "2020-12-10T20:29:00Z",
        "updatedAt" : "2020-12-10T23:33:33Z",
        "lastEditedBy" : "3f579bf7-089d-41f0-abf9-3bf5462ec695",
        "tags" : [
        ]
      },
      {
        "id" : "68ccaf1d-0d67-4a45-b3d7-2d939eaacf88",
        "parentId" : "a50df17b-ae49-469d-b455-b154f60c33fb",
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "Yeah, ok that's fine for now, thanks! :-)",
        "createdAt" : "2020-12-10T20:33:09Z",
        "updatedAt" : "2020-12-10T23:33:33Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      }
    ],
    "commit" : "32a64cf14cebbc706efdb301fe3b290335927a80",
    "line" : 93,
    "diffHunk" : "@@ -1,1 +834,838 @@}\n\nfunc getOpenAPISpecFromFile() (*spec.Swagger, error) {\n\tpath := filepath.Join(\n\t\tstrings.Repeat(\"..\"+string(filepath.Separator), 6),"
  },
  {
    "id" : "1d4ab9b4-9cb1-4c28-9fcc-2904761611db",
    "prId" : 97172,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97172#pullrequestreview-549577479",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d029af91-e438-4510-a2b8-798261a98672",
        "parentId" : null,
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "Can you test a nullable? Can we find a list of the differences between v3 and v2 and proactively see what could cause an error in the future?",
        "createdAt" : "2020-12-10T20:31:34Z",
        "updatedAt" : "2020-12-10T23:33:33Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      }
    ],
    "commit" : "32a64cf14cebbc706efdb301fe3b290335927a80",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +763,767 @@func TestBuildOpenAPIModelsForApply(t *testing.T) {\n\t// This is a list of validation that we expect to work.\n\ttests := []apiextensionsv1.CustomResourceValidation{\n\t\t{\n\t\t\tOpenAPIV3Schema: &apiextensionsv1.JSONSchemaProps{"
  },
  {
    "id" : "34f3fe31-cc5a-4500-8ef6-68662c75f56b",
    "prId" : 97172,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97172#pullrequestreview-581349118",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "38724a10-2462-473c-b992-30c9365b035b",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "Am not a fan of tests in staging repos that use files outside. This makes splitting repos hard some day.",
        "createdAt" : "2021-01-12T21:01:18Z",
        "updatedAt" : "2021-01-12T21:01:18Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "0c263a3f-c42f-49b1-9fa4-47754b61d0c0",
        "parentId" : "38724a10-2462-473c-b992-30c9365b035b",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "+1, in addition to the fact that we don't need most of the types defined in this file (and json unmarshalling deep structures is slooooow in race mode)",
        "createdAt" : "2021-02-02T13:40:01Z",
        "updatedAt" : "2021-02-02T13:53:55Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      },
      {
        "id" : "4ec9607e-8166-49d0-93a7-b603e3892c56",
        "parentId" : "38724a10-2462-473c-b992-30c9365b035b",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "opened https://github.com/kubernetes/kubernetes/pull/98694 with a local / trimmed swagger.json to use for the test",
        "createdAt" : "2021-02-02T13:53:52Z",
        "updatedAt" : "2021-02-02T13:53:55Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "32a64cf14cebbc706efdb301fe3b290335927a80",
    "line" : 113,
    "diffHunk" : "@@ -1,1 +854,858 @@\n\treturn staticSpec, nil\n}"
  },
  {
    "id" : "bda4278e-402e-4eba-8e5d-6861dd570995",
    "prId" : 97172,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97172#pullrequestreview-566698147",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bbd94a72-87c1-4da3-908c-403490ee6a22",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "t.Error",
        "createdAt" : "2021-01-12T21:02:17Z",
        "updatedAt" : "2021-01-12T21:02:17Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "63c517ae-e74f-4179-8abd-77a757fc21b6",
        "parentId" : "bbd94a72-87c1-4da3-908c-403490ee6a22",
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "and print the index, or give the tests names",
        "createdAt" : "2021-01-12T21:02:35Z",
        "updatedAt" : "2021-01-12T21:02:41Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      }
    ],
    "commit" : "32a64cf14cebbc706efdb301fe3b290335927a80",
    "line" : 88,
    "diffHunk" : "@@ -1,1 +829,833 @@\t\tcrd.Spec.Versions[0].Schema = &test\n\t\tif _, err := buildOpenAPIModelsForApply(staticSpec, &crd); err != nil {\n\t\t\tt.Fatalf(\"failed to convert to apply model: %v\", err)\n\t\t}\n\t}"
  },
  {
    "id" : "5c634df2-260d-4a39-83d0-5b0b56173eef",
    "prId" : 97172,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97172#pullrequestreview-581349118",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "788e458c-a294-4a37-99f4-9589e0b86172",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "this line takes ~12 seconds to run in unit tests run with `-race` detection\r\n\r\n",
        "createdAt" : "2021-02-02T13:39:08Z",
        "updatedAt" : "2021-02-02T13:53:55Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "32a64cf14cebbc706efdb301fe3b290335927a80",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +802,806 @@\t}\n\n\tstaticSpec, err := getOpenAPISpecFromFile()\n\tif err != nil {\n\t\tt.Fatalf(\"Failed to load openapi spec: %v\", err)"
  },
  {
    "id" : "8006ab93-bf05-41a6-bea9-3d321959f9fd",
    "prId" : 97172,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/97172#pullrequestreview-581349118",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "49d43797-f782-4e1d-9757-b40dd7d7a7c8",
        "parentId" : null,
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "this line takes ~6 seconds to run in unit tests with -race detection on",
        "createdAt" : "2021-02-02T13:40:24Z",
        "updatedAt" : "2021-02-02T13:53:55Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "32a64cf14cebbc706efdb301fe3b290335927a80",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +828,832 @@\tfor _, test := range tests {\n\t\tcrd.Spec.Versions[0].Schema = &test\n\t\tif _, err := buildOpenAPIModelsForApply(staticSpec, &crd); err != nil {\n\t\t\tt.Fatalf(\"failed to convert to apply model: %v\", err)\n\t\t}"
  },
  {
    "id" : "7098b078-bff0-4526-b6d7-3ce3271be40e",
    "prId" : 88995,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88995#pullrequestreview-372058158",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "51cc1fdf-d86c-40d0-ae21-b36f151a584e",
        "parentId" : null,
        "authorId" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "body" : "Is this long enough to not flake in CI (same comment for all the sleeps)?",
        "createdAt" : "2020-03-10T15:03:17Z",
        "updatedAt" : "2020-03-10T15:19:38Z",
        "lastEditedBy" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "tags" : [
        ]
      },
      {
        "id" : "c0ad0b12-2fdb-4e15-a30e-3329185112f8",
        "parentId" : "51cc1fdf-d86c-40d0-ae21-b36f151a584e",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "we're the only reader/writer in this test, and I didn't want to slow unit tests down more than that, so this feels generous. if the watch cache is really slow for some reason, it will fall through to underlying storage and the test will still pass, not flake.",
        "createdAt" : "2020-03-10T15:23:51Z",
        "updatedAt" : "2020-03-10T15:23:52Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa12441ab99cac81b0034208fd10d8a4fc3d5bd0",
    "line" : 115,
    "diffHunk" : "@@ -1,1 +506,510 @@\tif enableWatchCache {\n\t\t// Let watch cache establish initial list\n\t\ttime.Sleep(time.Second)\n\t}\n"
  },
  {
    "id" : "ca0d4fa7-7407-45b8-af6c-ec1dfb401473",
    "prId" : 88995,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88995#pullrequestreview-372038299",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4a8d2448-3601-46e6-abbd-ff33a3eab41e",
        "parentId" : null,
        "authorId" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "body" : "I think you need this is because you never start the informers?  Probably worth a comment.",
        "createdAt" : "2020-03-10T15:04:40Z",
        "updatedAt" : "2020-03-10T15:19:38Z",
        "lastEditedBy" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa12441ab99cac81b0034208fd10d8a4fc3d5bd0",
    "line" : 72,
    "diffHunk" : "@@ -1,1 +463,467 @@\tif err := crdInformer.Informer().GetStore().Add(crd); err != nil {\n\t\tt.Fatal(err)\n\t}\n\n\tetcdOptions := options.NewEtcdOptions(storageConfig)"
  },
  {
    "id" : "53a27f1e-300d-4ba6-99fb-8227987c16dd",
    "prId" : 88995,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/88995#pullrequestreview-372058479",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "47054dcd-e960-418e-8659-50849f5ec93a",
        "parentId" : null,
        "authorId" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "body" : "I assume etcd compaction is a non-issue?",
        "createdAt" : "2020-03-10T15:19:13Z",
        "updatedAt" : "2020-03-10T15:19:38Z",
        "lastEditedBy" : "e58080d6-2177-419f-a546-b51075d7bcb8",
        "tags" : [
        ]
      },
      {
        "id" : "c58a4df4-a82c-40b8-8329-4f3252b51203",
        "parentId" : "47054dcd-e960-418e-8659-50849f5ec93a",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "yeah, compaction runs every 5 minutes. this test takes ~2-5 seconds",
        "createdAt" : "2020-03-10T15:24:11Z",
        "updatedAt" : "2020-03-10T15:24:12Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa12441ab99cac81b0034208fd10d8a4fc3d5bd0",
    "line" : 208,
    "diffHunk" : "@@ -1,1 +599,603 @@\t\t\tt.Fatal(err)\n\t\t}\n\t\t// 5 events: delete marker, create v1alpha1, create v1beta1, update v1alpha1, update v1beta1\n\t\tfor i := 0; i < 5; i++ {\n\t\t\tselect {"
  },
  {
    "id" : "386e2c67-cbe8-49f9-8631-0e3ebb401491",
    "prId" : 65138,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/65138#pullrequestreview-129162164",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "71b00c3d-292f-4297-b970-4fd14114bb1f",
        "parentId" : null,
        "authorId" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "body" : "remembering discussion about deeply nested fields in the json iterator patch thread, behaving differently than toplevel fields. Maybe add a `mEtaData`?",
        "createdAt" : "2018-06-15T13:21:53Z",
        "updatedAt" : "2018-06-15T13:43:08Z",
        "lastEditedBy" : "f0985d19-4073-49b4-832a-0b89b15a1431",
        "tags" : [
        ]
      },
      {
        "id" : "ac3ecd98-5ec3-49af-b47d-1d0f6249a60c",
        "parentId" : "71b00c3d-292f-4297-b970-4fd14114bb1f",
        "authorId" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "body" : "> remembering discussion about deeply nested fields in the json iterator patch thread, behaving differently than toplevel fields. Maybe add a mEtaData?\r\n\r\nthat ended up being due to the way json-iter treats structs with < 10 fields differently, not a nesting issue. I think that is covered by the json-iter unit tests",
        "createdAt" : "2018-06-15T13:31:05Z",
        "updatedAt" : "2018-06-15T13:43:08Z",
        "lastEditedBy" : "8be927c4-cfb4-4077-b355-f4f3d84849b8",
        "tags" : [
        ]
      }
    ],
    "commit" : "486f42d2a4be30de6f035663e81f3784e16f6b23",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +296,300 @@\t\t\t\t\"creationTimestamp\": \"a\",\n\t\t\t},\n\t\t}}\n\n\t\tmeta, _, err := getObjectMeta(u, true)"
  }
]