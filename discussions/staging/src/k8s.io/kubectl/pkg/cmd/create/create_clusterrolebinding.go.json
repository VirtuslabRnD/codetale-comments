[
  {
    "id" : "235d5d97-da09-42ed-ae68-97a1b5fad103",
    "prId" : 91127,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/91127#pullrequestreview-418287669",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "01cac8d6-a6b4-440e-81c9-aa95b6ad569f",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "Nit, but we try to group the imports in the following categories:\r\n1. builtin\r\n2. other\r\n3. k8s imports. ",
        "createdAt" : "2020-05-26T10:56:51Z",
        "updatedAt" : "2020-06-23T06:43:46Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "61febd77-22a6-4c92-ae2a-ec8586ce2d6a",
        "parentId" : "01cac8d6-a6b4-440e-81c9-aa95b6ad569f",
        "authorId" : "a8ed2bff-7d0d-4384-be1c-b86693e89153",
        "body" : "done ",
        "createdAt" : "2020-05-26T13:18:20Z",
        "updatedAt" : "2020-06-23T06:43:46Z",
        "lastEditedBy" : "a8ed2bff-7d0d-4384-be1c-b86693e89153",
        "tags" : [
        ]
      }
    ],
    "commit" : "484361a1d1eb1e7d37569d0bbe7f3a6ca0de986b",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +22,26 @@\t\"strings\"\n\n\t\"github.com/spf13/cobra\"\n\n\trbacv1 \"k8s.io/api/rbac/v1\""
  },
  {
    "id" : "550c732a-f16c-455e-9b19-87f10c496867",
    "prId" : 91127,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/91127#pullrequestreview-420840796",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a1dbe9e7-d94a-43bd-8423-a42f4bccbc39",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "The above code is unnecessary, since you know what you're working with just use `ClusterRoleBinding` client directly, this will save you from the unnecessary conversion to work with dynamic client here. ",
        "createdAt" : "2020-05-26T11:05:11Z",
        "updatedAt" : "2020-06-23T06:43:46Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "34f82ae2-3788-4624-8302-27db9d32ac13",
        "parentId" : "a1dbe9e7-d94a-43bd-8423-a42f4bccbc39",
        "authorId" : "a8ed2bff-7d0d-4384-be1c-b86693e89153",
        "body" : "I'm still trying to figure out how to do that. As mentioned in the special notes, I stuck to the current implementation in order to not break the unit tests, that depend on a mock of a generic client.\r\n\r\nUsing \r\n\r\n```golang\r\nrestConfig, err := f.ToRESTConfig()\r\nif err != nil {\r\n\treturn err\r\n}\r\no.Client, err = rbacv1client.NewForConfig(restConfig)\r\nif err != nil {\r\n\treturn err\r\n}\r\n```\r\n\r\nresults in a broken unit test with the following message:\r\n\r\n```\r\nerror: failed to create deployment: Post \"http://localhost:8080/apis/rbac.authorization.k8s.io/v1/clusterrolebindings?fieldManager=kubectl-create\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nexit status 1\r\n```",
        "createdAt" : "2020-05-26T13:22:14Z",
        "updatedAt" : "2020-06-23T06:43:46Z",
        "lastEditedBy" : "a8ed2bff-7d0d-4384-be1c-b86693e89153",
        "tags" : [
        ]
      },
      {
        "id" : "9b4916df-fc25-464b-a412-70ca339cb0d0",
        "parentId" : "a1dbe9e7-d94a-43bd-8423-a42f4bccbc39",
        "authorId" : "a8ed2bff-7d0d-4384-be1c-b86693e89153",
        "body" : "Done, I had to adapt the UT code, but I'm quite happy with the result. Let me know what you think @soltysh ",
        "createdAt" : "2020-05-29T10:39:10Z",
        "updatedAt" : "2020-06-23T06:43:46Z",
        "lastEditedBy" : "a8ed2bff-7d0d-4384-be1c-b86693e89153",
        "tags" : [
        ]
      }
    ],
    "commit" : "484361a1d1eb1e7d37569d0bbe7f3a6ca0de986b",
    "line" : 175,
    "diffHunk" : "@@ -1,1 +175,179 @@\t\tclusterRoleBinding, err = o.Client.ClusterRoleBindings().Create(context.TODO(), clusterRoleBinding, createOptions)\n\t\tif err != nil {\n\t\t\treturn fmt.Errorf(\"failed to create clusterrolebinding: %v\", err)\n\t\t}\n\t}"
  },
  {
    "id" : "5baa4570-13c4-41d6-9200-4cd745716b5f",
    "prId" : 91127,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/91127#pullrequestreview-429828563",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8935006e-5ee7-48e8-9b81-c3d8052754c5",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "You're missing a fix similar to what I've done in https://github.com/kubernetes/kubernetes/pull/91901 here as well. ",
        "createdAt" : "2020-06-09T15:45:31Z",
        "updatedAt" : "2020-06-23T06:43:46Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      },
      {
        "id" : "a0289503-2706-41a8-8aa0-46e54ddbb89e",
        "parentId" : "8935006e-5ee7-48e8-9b81-c3d8052754c5",
        "authorId" : "a8ed2bff-7d0d-4384-be1c-b86693e89153",
        "body" : "done",
        "createdAt" : "2020-06-12T15:18:55Z",
        "updatedAt" : "2020-06-23T06:43:46Z",
        "lastEditedBy" : "a8ed2bff-7d0d-4384-be1c-b86693e89153",
        "tags" : [
        ]
      }
    ],
    "commit" : "484361a1d1eb1e7d37569d0bbe7f3a6ca0de986b",
    "line" : 156,
    "diffHunk" : "@@ -1,1 +156,160 @@\t\treturn err\n\t}\n\n\tif err := util.CreateOrUpdateAnnotation(o.CreateAnnotation, clusterRoleBinding, scheme.DefaultJSONEncoder()); err != nil {\n\t\treturn err"
  },
  {
    "id" : "24d80162-9f07-4457-94b0-08966e43c8b7",
    "prId" : 91127,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/91127#pullrequestreview-444612500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "45b8bc12-b99a-46dd-ae6b-4c22c383807d",
        "parentId" : null,
        "authorId" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "body" : "It's preferred to create rbac client directly, so `rbacv1client.NewForConfig(clientConfig)` is better here. ",
        "createdAt" : "2020-07-08T10:24:54Z",
        "updatedAt" : "2020-07-08T10:26:41Z",
        "lastEditedBy" : "b7d2a698-a6e1-4031-bb69-8b45505badb5",
        "tags" : [
        ]
      }
    ],
    "commit" : "484361a1d1eb1e7d37569d0bbe7f3a6ca0de986b",
    "line" : 111,
    "diffHunk" : "@@ -1,1 +120,124 @@\t\treturn err\n\t}\n\to.Client = cs.RbacV1()\n\n\to.CreateAnnotation = cmdutil.GetFlagBool(cmd, cmdutil.ApplyAnnotationsFlag)"
  }
]