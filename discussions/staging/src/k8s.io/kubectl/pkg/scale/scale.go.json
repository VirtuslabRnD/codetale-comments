[
  {
    "id" : "5e749d6f-b24d-42e5-983b-535878deefa1",
    "prId" : 81342,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/81342#pullrequestreview-278352689",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dc9c97e7-e279-4489-9617-999651817658",
        "parentId" : null,
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "This is breaking the precondition though, you would have to send the \"resourceVersion\" in the patch if that's what you want, otherwise there might be a race condition. Or you could use update on preconditions, and do the patch otherwise.",
        "createdAt" : "2019-08-21T22:58:15Z",
        "updatedAt" : "2019-08-23T02:19:21Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      },
      {
        "id" : "f9bd2957-177f-4b49-b3c1-5a019c0e56c6",
        "parentId" : "dc9c97e7-e279-4489-9617-999651817658",
        "authorId" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "body" : "@apelisse That's a good point! I have switched to updating scale subresource on preconditions and patching otherwise, PTAL.",
        "createdAt" : "2019-08-22T11:25:56Z",
        "updatedAt" : "2019-08-23T02:19:21Z",
        "lastEditedBy" : "9e6ce3ed-e2f7-40ea-b6d7-b1b04fc48f70",
        "tags" : [
        ]
      }
    ],
    "commit" : "92c4c2ec72d949c15b5d7c45d91f8e9385873d2f",
    "line" : 66,
    "diffHunk" : "@@ -1,1 +132,136 @@\n\tpatch := []byte(fmt.Sprintf(`{\"spec\":{\"replicas\":%d}}`, newSize))\n\tupdatedScale, err := s.scaleNamespacer.Scales(namespace).Patch(gvr, name, types.MergePatchType, patch)\n\tif err != nil {\n\t\treturn \"\", err"
  },
  {
    "id" : "2034e9ea-0455-4921-9bab-b279c5a5b56d",
    "prId" : 81342,
    "prUrl" : "https://github.com/kubernetes/kubernetes/pull/81342#pullrequestreview-278547681",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2652ed84-446c-43de-9563-3b110977d889",
        "parentId" : null,
        "authorId" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "body" : "You could have just kept the updatedScale inside the if block and return it from there, I think it'd have been cleaner, but that's just really taste so don't worry :-)",
        "createdAt" : "2019-08-22T16:40:51Z",
        "updatedAt" : "2019-08-23T02:19:21Z",
        "lastEditedBy" : "a139439a-9f9e-4518-b4f3-9c602d956c57",
        "tags" : [
        ]
      }
    ],
    "commit" : "92c4c2ec72d949c15b5d7c45d91f8e9385873d2f",
    "line" : 67,
    "diffHunk" : "@@ -1,1 +133,137 @@\tpatch := []byte(fmt.Sprintf(`{\"spec\":{\"replicas\":%d}}`, newSize))\n\tupdatedScale, err := s.scaleNamespacer.Scales(namespace).Patch(gvr, name, types.MergePatchType, patch)\n\tif err != nil {\n\t\treturn \"\", err\n\t}"
  }
]