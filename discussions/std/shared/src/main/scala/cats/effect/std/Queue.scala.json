[
  {
    "id" : "ffd850bb-7de2-434f-9250-c04f52e2274e",
    "prId" : 1294,
    "prUrl" : "https://github.com/typelevel/cats-effect/pull/1294#pullrequestreview-511694284",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "de4a52fb-07e2-4d14-bee6-2309710a1bbc",
        "parentId" : null,
        "authorId" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "body" : "What use-case does this address with cats effect specifically? I get why it's useful in fs2, but `F` isn't a stream.",
        "createdAt" : "2020-10-17T19:39:39Z",
        "updatedAt" : "2020-10-17T21:34:52Z",
        "lastEditedBy" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "tags" : [
        ]
      },
      {
        "id" : "7464409c-9686-4d53-8df4-f729868627f4",
        "parentId" : "de4a52fb-07e2-4d14-bee6-2309710a1bbc",
        "authorId" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "body" : "Worth noting that this is *exactly* equivalent to `MVar`, which we deleted. :-D",
        "createdAt" : "2020-10-17T21:35:21Z",
        "updatedAt" : "2020-10-17T21:35:22Z",
        "lastEditedBy" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "tags" : [
        ]
      },
      {
        "id" : "3d0664fe-1daf-4352-8540-2986d5e570de",
        "parentId" : "de4a52fb-07e2-4d14-bee6-2309710a1bbc",
        "authorId" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "body" : "So delete?",
        "createdAt" : "2020-10-17T22:07:03Z",
        "updatedAt" : "2020-10-17T22:07:03Z",
        "lastEditedBy" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "tags" : [
        ]
      },
      {
        "id" : "81fcfa0e-0394-4190-b968-2c94f4641314",
        "parentId" : "de4a52fb-07e2-4d14-bee6-2309710a1bbc",
        "authorId" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "body" : "Also, not exactly equivalent. `MVar` is a bounded queue of size 1.",
        "createdAt" : "2020-10-17T22:20:46Z",
        "updatedAt" : "2020-10-17T22:20:46Z",
        "lastEditedBy" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "tags" : [
        ]
      },
      {
        "id" : "0f066957-13f9-474e-969e-b2b3f614bf35",
        "parentId" : "de4a52fb-07e2-4d14-bee6-2309710a1bbc",
        "authorId" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "body" : "Isn't that what this is?",
        "createdAt" : "2020-10-18T19:46:50Z",
        "updatedAt" : "2020-10-18T19:46:50Z",
        "lastEditedBy" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "tags" : [
        ]
      },
      {
        "id" : "8beb768e-df24-49d0-942f-5395e5be4ef1",
        "parentId" : "de4a52fb-07e2-4d14-bee6-2309710a1bbc",
        "authorId" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "body" : "I'd describe this as a handoff point, there is no progress being made (semantic blocking) until there's one offering fiber and one taking fiber, synchronously passing a value between them.",
        "createdAt" : "2020-10-19T12:13:24Z",
        "updatedAt" : "2020-10-19T12:13:24Z",
        "lastEditedBy" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "tags" : [
        ]
      }
    ],
    "commit" : "af5e43bb3f4813d230eae85e427f5654c747198e",
    "line" : 115,
    "diffHunk" : "@@ -1,1 +113,117 @@   * @return a synchronous queue\n   */\n  def synchronous[F[_], A](implicit F: Concurrent[F]): F[Queue[F, A]] =\n    bounded(0)\n"
  },
  {
    "id" : "a9dcedc6-92f2-44ba-9284-a622c6cc55e4",
    "prId" : 1294,
    "prUrl" : "https://github.com/typelevel/cats-effect/pull/1294#pullrequestreview-511693365",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7c41831d-5d0f-46ee-8b89-eee4faa4ff4f",
        "parentId" : null,
        "authorId" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "body" : "I think it would be worth a separate implementation of (not backed by `ScalaQueue`) for this case, given that a) it can be specialized with vastly higher performance, and b) nearly all use-cases for circular buffers are sensitive to such performance concerns.",
        "createdAt" : "2020-10-17T19:42:51Z",
        "updatedAt" : "2020-10-17T21:34:52Z",
        "lastEditedBy" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "tags" : [
        ]
      },
      {
        "id" : "a164faad-d81e-4d7e-b895-dc440019f0f3",
        "parentId" : "7c41831d-5d0f-46ee-8b89-eee4faa4ff4f",
        "authorId" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "body" : "Will address in a separate PR.",
        "createdAt" : "2020-10-19T12:12:07Z",
        "updatedAt" : "2020-10-19T12:12:07Z",
        "lastEditedBy" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "tags" : [
        ]
      }
    ],
    "commit" : "af5e43bb3f4813d230eae85e427f5654c747198e",
    "line" : 298,
    "diffHunk" : "@@ -1,1 +296,300 @@  }\n\n  private final class CircularBufferQueue[F[_], A](capacity: Int, state: Ref[F, State[F, A]])(\n      implicit F: Concurrent[F]\n  ) extends AbstractQueue(capacity, state) {"
  },
  {
    "id" : "f3468d0a-4080-416b-872a-b9a74143ac3c",
    "prId" : 1294,
    "prUrl" : "https://github.com/typelevel/cats-effect/pull/1294#pullrequestreview-511018346",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2374e532-454a-4326-8d00-fff4ec76099c",
        "parentId" : null,
        "authorId" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "body" : "Something we should think about from a performance standpoint: it might be worth inlining the bankers queue into this `State`, rather than delegating to `ScalaQueue`.",
        "createdAt" : "2020-10-17T19:43:19Z",
        "updatedAt" : "2020-10-17T21:34:52Z",
        "lastEditedBy" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "tags" : [
        ]
      },
      {
        "id" : "f1b7cb80-d828-40d8-957b-32fd1f150459",
        "parentId" : "2374e532-454a-4326-8d00-fff4ec76099c",
        "authorId" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "body" : "Yeah, I wanted to take a look at it. Is this now blocked on that, or can it be a part of a separate PR?",
        "createdAt" : "2020-10-17T22:08:19Z",
        "updatedAt" : "2020-10-17T22:08:19Z",
        "lastEditedBy" : "566d094c-978a-46cc-94f5-bc87e03c9fd3",
        "tags" : [
        ]
      },
      {
        "id" : "05749495-84da-4de7-9f34-f0ccf25f2b62",
        "parentId" : "2374e532-454a-4326-8d00-fff4ec76099c",
        "authorId" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "body" : "Definitely a separate PR",
        "createdAt" : "2020-10-17T22:10:32Z",
        "updatedAt" : "2020-10-17T22:10:32Z",
        "lastEditedBy" : "5b44dcf3-8819-42b0-9a49-4cdbf5a8a305",
        "tags" : [
        ]
      }
    ],
    "commit" : "af5e43bb3f4813d230eae85e427f5654c747198e",
    "line" : 321,
    "diffHunk" : "@@ -1,1 +319,323 @@\n  private final case class State[F[_], A](\n      queue: ScalaQueue[A],\n      size: Int,\n      takers: ScalaQueue[Deferred[F, A]],"
  }
]