[
  {
    "id" : "038bcfe7-a1d6-46d4-995a-1f154455d307",
    "prId" : 1131,
    "prUrl" : "https://github.com/akka/alpakka/pull/1131#pullrequestreview-150078007",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9fec3aed-cb6e-4f33-9df7-99ceb47181e6",
        "parentId" : null,
        "authorId" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "body" : "As the `write` operation in most cases will be blocking, the Parquet stages should use Akka's `IODispatcher`.\r\n\r\nPlease add this to both flow and source stages:\r\n```\r\n  override protected def initialAttributes: Attributes =\r\n    super.initialAttributes and ActorAttributes.IODispatcher\r\n```",
        "createdAt" : "2018-08-28T07:52:59Z",
        "updatedAt" : "2018-08-29T08:45:52Z",
        "lastEditedBy" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "tags" : [
        ]
      },
      {
        "id" : "04eec3a4-8aee-4bdb-a1d7-90cc221e79d3",
        "parentId" : "9fec3aed-cb6e-4f33-9df7-99ceb47181e6",
        "authorId" : "f84a5d71-2435-4b44-9362-124a012f7f19",
        "body" : "@ennru Hi, can you give a brief explanation what  IODispatcher is and why it's necessary here? I believe it provides separate dispatcher for I/O configured through the akka.stream.blocking-io-dispatcher. If this is the case, it should be added to both Sink & Source.  ",
        "createdAt" : "2018-08-28T11:05:40Z",
        "updatedAt" : "2018-08-29T08:45:52Z",
        "lastEditedBy" : "f84a5d71-2435-4b44-9362-124a012f7f19",
        "tags" : [
        ]
      },
      {
        "id" : "30ccd9f0-b92d-421a-8b14-3aa4204e42d2",
        "parentId" : "9fec3aed-cb6e-4f33-9df7-99ceb47181e6",
        "authorId" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "body" : "Yes, the `IODispatcher` can be configured centrally in Akka. Its size may need to be adapted if there are many blocking things happening in your Actor system. And yes, it should be selected for all stages executing blocking IO.",
        "createdAt" : "2018-08-28T11:31:58Z",
        "updatedAt" : "2018-08-29T08:45:52Z",
        "lastEditedBy" : "9500ec63-4ee5-4a4b-820c-121a3523fbda",
        "tags" : [
        ]
      }
    ],
    "commit" : "246ae68b95ff024103d48f8a7c139c980031e197",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +41,45 @@          override def onPush(): Unit = {\n            val obtainedValue = grab(in)\n            writer.write(obtainedValue)\n            push(out, obtainedValue)\n          }"
  }
]