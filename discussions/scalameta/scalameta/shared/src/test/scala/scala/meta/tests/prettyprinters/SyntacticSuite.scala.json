[
  {
    "id" : "03cdc7e3-2f8f-42c6-9e24-957905997246",
    "prId" : 1088,
    "prUrl" : "https://github.com/scalameta/scalameta/pull/1088#pullrequestreview-58609562",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ecafd3da-c352-48bd-85e7-fdebb676587a",
        "parentId" : null,
        "authorId" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "body" : "I find it a bit unsettling that `tree.syntax` is OS dependent, would it make sense if TreeSyntax emitted \\n instead of EOL?",
        "createdAt" : "2017-08-25T07:49:31Z",
        "updatedAt" : "2017-08-25T10:17:22Z",
        "lastEditedBy" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "tags" : [
        ]
      },
      {
        "id" : "cbcb18a0-f6ac-4850-ae41-ded96e79084d",
        "parentId" : "ecafd3da-c352-48bd-85e7-fdebb676587a",
        "authorId" : "054ceae6-9400-4f71-822a-13e2f5669575",
        "body" : "I know so little about the actual library that I don't really have an opinion on that in this specific case.\r\n\r\nIn the general case (perhaps surprisingly), things tend to get more rather then less portable if `\\n` is consistently used for everything, as long as notepad isn't the tool of choice of the Windows user (and it never is).\r\n\r\nUnfortunately things like `println` are platform specific, making you in some cases end up with mixed line endings if you attempt to do that.\r\n\r\nI could experiment with globally replacing EOL with \\n and see where that brings us - maybe it removes the need for this PR almost entirely.\r\n\r\nOne notable issue is git. In some configurations, git on windows will replace \\n line endings with \\r\\n. This is problematic for scala in general, since line endings may in some cases (for example in multiline strings) not be interchangeable.",
        "createdAt" : "2017-08-25T09:28:43Z",
        "updatedAt" : "2017-08-25T10:17:22Z",
        "lastEditedBy" : "054ceae6-9400-4f71-822a-13e2f5669575",
        "tags" : [
        ]
      },
      {
        "id" : "c2cd6d93-9051-488b-ab11-621838aa4f8e",
        "parentId" : "ecafd3da-c352-48bd-85e7-fdebb676587a",
        "authorId" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "body" : "Thanks for sharing your view. I propose we don't change the pretty-printing in this PR and focus on getting tests passing in Windows, as you've done. Globally EOL with \\n  might be worth it IMO, I'm happy to explore that path separately later.",
        "createdAt" : "2017-08-25T09:37:15Z",
        "updatedAt" : "2017-08-25T10:17:22Z",
        "lastEditedBy" : "bd90d0d4-3cfe-485f-b03d-29764e6b2eae",
        "tags" : [
        ]
      }
    ],
    "commit" : "ecd184064ff8450fa731c72ee96bb8f17b09ccd5",
    "line" : 122,
    "diffHunk" : "@@ -1,1 +437,441 @@    val tree = source(\"package foo; class C; package baz { class D }\")\n    assert(tree.structure === \"Source(List(Pkg(Term.Name(\\\"foo\\\"), List(Defn.Class(Nil, Type.Name(\\\"C\\\"), Nil, Ctor.Primary(Nil, Name(\\\"\\\"), Nil), Template(Nil, Nil, Self(Name(\\\"\\\"), None), Nil)), Pkg(Term.Name(\\\"baz\\\"), List(Defn.Class(Nil, Type.Name(\\\"D\\\"), Nil, Ctor.Primary(Nil, Name(\\\"\\\"), Nil), Template(Nil, Nil, Self(Name(\\\"\\\"), None), Nil))))))))\")\n    assert(tree.syntax === s\"package foo${EOL}class C${EOL}package baz {$EOL  class D${EOL}}\")\n  }\n"
  }
]