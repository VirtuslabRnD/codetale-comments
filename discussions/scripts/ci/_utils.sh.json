[
  {
    "id" : "e49dd0f7-51a2-4c7a-b973-fee518c8131c",
    "prId" : 4938,
    "prUrl" : "https://github.com/apache/airflow/pull/4938#pullrequestreview-262980791",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4dc72812-b7a4-4220-8cde-6eda5af824e0",
        "parentId" : null,
        "authorId" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "body" : "You removed `-t` here -- did you mean to?",
        "createdAt" : "2019-07-17T11:36:22Z",
        "updatedAt" : "2019-07-17T19:40:34Z",
        "lastEditedBy" : "f73f66ab-2657-4a50-be7a-2ca3ca98c202",
        "tags" : [
        ]
      },
      {
        "id" : "aa8ee84d-cc85-49f4-851c-47ec375d57be",
        "parentId" : "4dc72812-b7a4-4220-8cde-6eda5af824e0",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Yes. It was not needed. \r\n\r\nIn fact if you want the full story - that was a bit of a hack to have non-empty parameter list. The problem is that in the version of bash that is popular (and used in Travis/Dockerhub) an empty bash ARRAY is treated as undefined variable (only in latest versions it is not). I prefer to keep `set -u` but it causes an empty array to fail when used. Therefore I added a flag \"-t\" originally that I knew was irrelevant (allocating terminal in this case does not change anything - colors work,  no user input needed). After adding \"-e\" the array was not empty and I could remove \"-t\"",
        "createdAt" : "2019-07-17T12:06:26Z",
        "updatedAt" : "2019-07-17T19:40:34Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "879f2f1d5847c415e605ef3a56fe87e0a9d6b28b",
    "line" : 75,
    "diffHunk" : "@@ -1,1 +73,77 @@    echo\n    AIRFLOW_CONTAINER_EXTRA_DOCKER_FLAGS=( \\\n        \"-e\" \"PYTHONDONTWRITEBYTECODE=true\" \\\n    )\nfi"
  },
  {
    "id" : "4353e8bc-abe2-4c14-8da6-49915f11bbba",
    "prId" : 5786,
    "prUrl" : "https://github.com/apache/airflow/pull/5786#pullrequestreview-287467976",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "33129458-32de-4b38-9668-19f5248c66b2",
        "parentId" : null,
        "authorId" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "body" : "Nice!",
        "createdAt" : "2019-09-12T14:33:35Z",
        "updatedAt" : "2019-09-17T09:54:55Z",
        "lastEditedBy" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "tags" : [
        ]
      }
    ],
    "commit" : "eee668769685024817078e2894ff9971f2ccb011",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +755,759 @@          # Skip all generated migration scripts\n          continue\n      fi\n      if ! grep -x \"./${FILE}\" <\"${AIRFLOW_SOURCES}/scripts/ci/pylint_todo.txt\" >/dev/null; then\n          FILTERED_FILES+=(\"${FILE}\")"
  },
  {
    "id" : "0be84113-cda1-4f29-bf86-41b16e7070e2",
    "prId" : 6056,
    "prUrl" : "https://github.com/apache/airflow/pull/6056#pullrequestreview-285211912",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c9ea7b5a-6e54-4fc0-8154-b726eb94c840",
        "parentId" : null,
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "NOTE: Just a comment - this is CORRECT. dumb-init installed in CheckLicence image uses different installation method and it actually lands in /usr/bin not /usr/local/bin as the dumb-init installed via pip (in CI/CI-slim images).",
        "createdAt" : "2019-09-08T12:04:05Z",
        "updatedAt" : "2019-09-08T12:07:51Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "c4db1865f7ab7c56347367eff7abefd6b1ecf646",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +653,657 @@function run_check_license() {\n    docker run \"${AIRFLOW_CONTAINER_EXTRA_DOCKER_FLAGS[@]}\" -t \\\n            --entrypoint \"/usr/bin/dumb-init\"  \\\n            --env PYTHONDONTWRITEBYTECODE \\\n            --env AIRFLOW_CI_VERBOSE=\"${VERBOSE}\" \\"
  },
  {
    "id" : "26edb59b-a30c-4d29-a31f-f605aa2c72dd",
    "prId" : 6523,
    "prUrl" : "https://github.com/apache/airflow/pull/6523#pullrequestreview-315559670",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6f61616e-c990-4a9d-90c8-1984ce40efc7",
        "parentId" : null,
        "authorId" : "62bb13b5-8a60-4b4b-9533-e96d14a3a544",
        "body" : "when PR is not against master, and the PR is not a branch in apache/airflow, travis clones master, fetches the HEAD of this PR and checks it out. Then, this shell script tries `git diff --name-only v1-10-test...HEAD`, which errors since `v1-10-test` has not been fetched. These changes are to have `diff` output in all normal cases, plus this case.\r\nSee for instance these Travis logs for failure: https://travis-ci.org/apache/airflow/jobs/610354673#L166-L214\r\nAnd these logs for success when v1-10-test is updated with a commit cherry-picked from master: https://travis-ci.org/apache/airflow/jobs/610084677#L166-L206",
        "createdAt" : "2019-11-11T15:51:28Z",
        "updatedAt" : "2019-11-12T09:37:03Z",
        "lastEditedBy" : "62bb13b5-8a60-4b4b-9533-e96d14a3a544",
        "tags" : [
        ]
      },
      {
        "id" : "f02a62d0-efbf-46d7-bc79-112815721bdc",
        "parentId" : "6f61616e-c990-4a9d-90c8-1984ce40efc7",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Nice! Thanks!",
        "createdAt" : "2019-11-12T14:11:10Z",
        "updatedAt" : "2019-11-12T14:11:10Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "331e9adfd1d19d63c0b746c01d3d7f3e94fe7620",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +780,784 @@    git config remote.origin.fetch \"+refs/heads/*:refs/remotes/origin/*\"\n    git fetch origin \"${TRAVIS_BRANCH}\"\n    CHANGED_FILE_NAMES=$(git diff --name-only \"remotes/origin/${TRAVIS_BRANCH}...HEAD\")\n    echo\n    echo \"Changed file names in this commit\""
  },
  {
    "id" : "b8eaa690-21f8-4c19-a6d6-58c70494bdbb",
    "prId" : 7065,
    "prUrl" : "https://github.com/apache/airflow/pull/7065#pullrequestreview-339281003",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "996ad52b-ea18-44fd-a168-11d66f304bf3",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "Does this sort order matter here?",
        "createdAt" : "2020-01-07T12:56:42Z",
        "updatedAt" : "2020-01-07T14:56:17Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "c2509824-7539-43d8-80bb-73fd33716cb0",
        "parentId" : "996ad52b-ea18-44fd-a168-11d66f304bf3",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Yes, I prefer to have them sorted - both in the input and output. This way it's consistent (also for tests).",
        "createdAt" : "2020-01-07T14:47:50Z",
        "updatedAt" : "2020-01-07T14:56:17Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "327fd8734ca2efa4a2d93b1cbe9b12e6df47bb7c",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +126,130 @@            sed \"s/..\\/../${ESCAPED_AIRFLOW_SOURCES}/\" | \\\n            sed \"s/COMPOSE_services_airflow-testing_volumes_//\" | \\\n            sort -t \"=\" -k 1 -n | \\\n            cut -d \"=\" -f 2- | \\\n            sed -e 's/^\"//' -e 's/\"$//')"
  },
  {
    "id" : "2260f835-49c8-4e26-82e7-ed2bb0cfbaf7",
    "prId" : 7065,
    "prUrl" : "https://github.com/apache/airflow/pull/7065#pullrequestreview-339283643",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "64b91f92-d441-4125-8d89-6692b836a72d",
        "parentId" : null,
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "```\r\nESCAPED_AIRFLOW_SOURCES=$(print \"%q\" \"${AIRFLOW_SOURCES}\")\r\n```\r\nWill it work? I'm not sure.",
        "createdAt" : "2020-01-07T13:02:28Z",
        "updatedAt" : "2020-01-07T14:56:17Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "2adbe277-5afd-4731-b8af-e02122327fe5",
        "parentId" : "64b91f92-d441-4125-8d89-6692b836a72d",
        "authorId" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "body" : "No. It doesn't work.",
        "createdAt" : "2020-01-07T13:44:38Z",
        "updatedAt" : "2020-01-07T14:56:17Z",
        "lastEditedBy" : "07638d17-cc8b-40a4-abdc-7b39759362ab",
        "tags" : [
        ]
      },
      {
        "id" : "acc02658-2b9b-4183-8e45-f04bfb7f3789",
        "parentId" : "64b91f92-d441-4125-8d89-6692b836a72d",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Nope. Those are different escapes - those are regexp value escapes.",
        "createdAt" : "2020-01-07T14:51:43Z",
        "updatedAt" : "2020-01-07T14:56:17Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "327fd8734ca2efa4a2d93b1cbe9b12e6df47bb7c",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +117,121 @@# from airflow-testing section to \"-v\" \"volume mapping\" series of options\nfunction convert_docker_mounts_to_docker_params() {\n    ESCAPED_AIRFLOW_SOURCES=$(echo \"${AIRFLOW_SOURCES}\" | sed -e 's/[\\/&]/\\\\&/g')\n    # shellcheck disable=2046\n    while IFS= read -r LINE; do"
  },
  {
    "id" : "da09064d-4db2-4a34-9d1f-1c3a33bc1046",
    "prId" : 7793,
    "prUrl" : "https://github.com/apache/airflow/pull/7793#pullrequestreview-379014901",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b76d03c2-fc8c-4166-a88b-2388e3004e32",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Should this go under `function setup_default_breeze_variables` ?",
        "createdAt" : "2020-03-22T15:03:58Z",
        "updatedAt" : "2020-03-22T15:03:58Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "409df33c-8f34-4d4b-b9dd-efb504d4e486",
        "parentId" : "b76d03c2-fc8c-4166-a88b-2388e3004e32",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Not really. The name here is misleading -  setup_default_breeze_variables is for breeze command. This one above initializes common environment that is used by both breeze and the CI scripts (CI scripts do no use Breeze as such - they share common methods with it). I will change the name to initialize_common_environment in a separate commit :)",
        "createdAt" : "2020-03-22T15:07:29Z",
        "updatedAt" : "2020-03-22T15:07:29Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "bec36ada-ea16-45cc-b6c7-b7af1b6841e8",
        "parentId" : "b76d03c2-fc8c-4166-a88b-2388e3004e32",
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "👍 Ya renaming it would be good, thanks",
        "createdAt" : "2020-03-22T15:09:02Z",
        "updatedAt" : "2020-03-22T15:09:02Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "1cb837f7-ed93-451f-8534-9f2845ad6905",
        "parentId" : "b76d03c2-fc8c-4166-a88b-2388e3004e32",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "https://github.com/apache/airflow/pull/7805/files",
        "createdAt" : "2020-03-22T15:14:05Z",
        "updatedAt" : "2020-03-22T15:14:05Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "2dbe262482e191b7892cdfe96a2487540cf32c73",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +40,44 @@function initialize_breeze_environment {\n    # default python version\n    PYTHON_VERSION=${PYTHON_VERSION:=\"3.6\"}\n\n    AIRFLOW_SOURCES=${AIRFLOW_SOURCES:=$(cd \"${MY_DIR}/../../\" && pwd)}"
  },
  {
    "id" : "814bf610-6ae4-481f-995e-a7c7d58dea53",
    "prId" : 7805,
    "prUrl" : "https://github.com/apache/airflow/pull/7805#pullrequestreview-379019655",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b09c3ce6-0a15-419e-b69c-f383f03ba770",
        "parentId" : null,
        "authorId" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "body" : "Would you mind adding a comment on what is the \"common environment\"? It will help others to understand the purpose ;)",
        "createdAt" : "2020-03-22T15:30:27Z",
        "updatedAt" : "2020-03-22T16:01:48Z",
        "lastEditedBy" : "0d4fd7c4-f8ab-4371-acfe-b9cca6decaf5",
        "tags" : [
        ]
      },
      {
        "id" : "47ffa60c-6cca-4657-8a36-413798c7cd36",
        "parentId" : "b09c3ce6-0a15-419e-b69c-f383f03ba770",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Sure :). Done",
        "createdAt" : "2020-03-22T16:01:51Z",
        "updatedAt" : "2020-03-22T16:01:52Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "40f2bead07c5aa73fd8e62123be18deb56ab113a",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +39,43 @@\n# Common environment that is initialized by both Breeze and CI scripts\nfunction initialize_common_environment {\n    # default python version\n    PYTHON_VERSION=${PYTHON_VERSION:=\"3.6\"}"
  }
]