[
  {
    "id" : "16047fc0-a20f-4d6d-b4fc-606bd4dc81f8",
    "prId" : 8265,
    "prUrl" : "https://github.com/apache/airflow/pull/8265#pullrequestreview-424889676",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "45c838ca-8ca6-4cc6-8296-f55cefcb6bcd",
        "parentId" : null,
        "authorId" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "body" : "hmm @potiuk ? I get `./breeze: line 382: INTEGRATIONS[*]: unbound variable` when starting `./breeze`",
        "createdAt" : "2020-06-04T08:07:18Z",
        "updatedAt" : "2020-06-04T08:07:26Z",
        "lastEditedBy" : "e29ffafb-ac51-434b-b9e0-af262caae1ee",
        "tags" : [
        ]
      },
      {
        "id" : "319eec66-7f48-4a40-9abd-305abf4c9450",
        "parentId" : "45c838ca-8ca6-4cc6-8296-f55cefcb6bcd",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Yep, Mac OS thingie. I used to catch it early before I switched to Linux. Fixed in https://github.com/apache/airflow/pull/9135",
        "createdAt" : "2020-06-04T09:45:00Z",
        "updatedAt" : "2020-06-04T09:45:00Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      },
      {
        "id" : "c148ad4f-bf1a-40ef-b837-add352594138",
        "parentId" : "45c838ca-8ca6-4cc6-8296-f55cefcb6bcd",
        "authorId" : "f30d90ba-101c-4671-a1df-fa45531fa887",
        "body" : "Thanks @potiuk !",
        "createdAt" : "2020-06-04T22:56:14Z",
        "updatedAt" : "2020-06-04T22:56:14Z",
        "lastEditedBy" : "f30d90ba-101c-4671-a1df-fa45531fa887",
        "tags" : [
        ]
      }
    ],
    "commit" : "b7ab2df048187d91d334b2331b7687696202c16b",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +152,156 @@\n#TODO FIXME\nif [[ \"${INTEGRATIONS[*]}\" == *\"kubernetes\"* ]]; then\n    export KUBERNETES_MODE=${KUBERNETES_MODE:=\"image\"}\n    export KUBERNETES_VERSION=${KUBERNETES_VERSION:=\"v1.15.3\"}"
  },
  {
    "id" : "bd66691b-aaae-496c-ba66-13ccd3a55d02",
    "prId" : 8496,
    "prUrl" : "https://github.com/apache/airflow/pull/8496#pullrequestreview-397941778",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "03a435e6-3ce8-4e34-9372-359e7c0db560",
        "parentId" : null,
        "authorId" : "c25957e2-1132-4c48-a536-3824307fd862",
        "body" : "Again just a query, should we just use `AVAILABLE_INTEGRATIONS` ? It feels like 3 variables that are closely related i.e. is there a time when `RUN_INTEGRATION_TESTS != ENABLED_INTEGRATIONS` ?",
        "createdAt" : "2020-04-21T19:35:37Z",
        "updatedAt" : "2020-04-22T10:24:56Z",
        "lastEditedBy" : "c25957e2-1132-4c48-a536-3824307fd862",
        "tags" : [
        ]
      },
      {
        "id" : "26110e06-6bc5-4a19-af59-e14500dcc030",
        "parentId" : "03a435e6-3ce8-4e34-9372-359e7c0db560",
        "authorId" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "body" : "Not really - because AVAILABLE_INTEGRATIONS is now it's of all that are available and it is now checked if it the same as in \"breeze complete\" (there must be a different list because it hast be \"standalone\" as it is sourced in ~/bash_complete.d/ - so ./breeze_complete script cannot source anything else (like _common)\r\n\r\nENABLED_INTEGRATIONS on the other hand are just telling which integration are enabled for this particular test. And currently it looks like they all can work in the same single operation,\r\n\r\nRUN_INTEGRATIONS tells which integration tests are executed and it means that ONLY those integration tests are executed. I can rename it later to \"ONLY_RUN_INTEGRATIONS\" to make it clearer.\r\n\r\n\r\nThere is one case that I might want to enable:\r\n\r\nENABLED_INTEGRATIONS=\"kerberos\"\r\nRUN_INTEGRATIONS=\"\"\r\n\r\nI have forgotten about this case and I will add it shortly - possibly when I integrate Kubernetes tests in Github actions. Airflow behaves a bit differently with/without kerberos variables (it auto-detects if kerberos is enabled)  so there should be at least one pass where we want to run Airflow with Kerberos but run all non-kerberos-integration specific tests.\r\n\r\nI will add it as separate change. Good that you asked :)\r\n",
        "createdAt" : "2020-04-22T08:05:47Z",
        "updatedAt" : "2020-04-22T10:24:56Z",
        "lastEditedBy" : "e8563344-32ea-4c07-9731-a2fed8d2edf2",
        "tags" : [
        ]
      }
    ],
    "commit" : "8f76c0677740c98578f8523c410501a19f76902d",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +74,78 @@if [[ ${TEST_TYPE:=} == \"Integration\" ]]; then\n    export ENABLED_INTEGRATIONS=\"${AVAILABLE_INTEGRATIONS}\"\n    export RUN_INTEGRATION_TESTS=\"${AVAILABLE_INTEGRATIONS}\"\nfi\n"
  }
]